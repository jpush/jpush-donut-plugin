this.__wxLibrary={fileName:"WAServiceMainContext.js",envType:"Service",contextType:"App:MainContext",execStart:Date.now(),mayHaveSnapshot:!0};var __WAServiceMainContextStartTime__=this.__wxLibrary.execStart;(function(i){var a={updateTime:"2024.11.29 17:05:12",version:"3.6.5",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,supportAudits:!0,wkFeatureVersion:5,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,earlyDispatchSubPkgReady:!0,glassEasel:1,supportListenTaskStateChange:!0,supportListenNewPerformanceMetric:!0,collectInvokeCost:!0,expt:["clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_allow_worker_binding_message","clicfg_appbrand_ios_arkit2wevision_usevertialplane","clicfg_appbrand_ios_enable_async_create_request_task","clicfg_appbrand_ios_use_jsapi_args_binding","clicfg_appbrand_webview_slow_frame","clicfg_appbrand_webview_native_intersection_observer","clicfg_appbrand_ios_control_close_condom_white","clicfg_appbrand_android_control_close_condom_white","clicfg_appbrand_android_use_game_delay_codecache","clicfg_appbrand_ios_game_shangcheng_kefu","clicfg_android_wagame_frontend_set_file_space_statistics_status","clicfg_appbrand_ios_force_enable_aiad","clicfg_appbrand_android_force_enable_aiad","clicfg_handle_reqresp_in_worker_android","clicfg_appbrand_enable_batch_load_sub_pkg","clicfg_appbrand_ios_enable_aiad_debug_button","clicfg_appbrand_android_enable_aiad_debug_button","clicfg_appbrand_ios_enable_aiad_tag","clicfg_appbrand_android_enable_aiad_tag","clicfg_appbrand_ios_force_use_audio_dynamic_new","clicfg_appbrand_android_force_use_audio_dynamic_new","clicfg_appbrand_ios_operatewxdata_quic_group_control","clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1","clicfg_appbrand_android_operatewxdata_quic_group_control","clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1","clicfg_wxa_report_ssid","clicfg_miniprogram_global_translate_android","clicfg_miniprogram_global_translate_ios","clicfg_appbrand_android_ad_operatewxdata_batch","clicfg_appbrand_ios_ad_operatewxdata_batch","clicfg_appbrand_ios_operatewxdata_batch","clicfg_appbrand_android_operatewxdata_batch","clicfg_appbrand_ios_enable_jsopdata_mock","clicfg_appbrand_ios_android_aiad_interstitial_cache_time","clicfg_appbrand_ios_android_report_without_batch","clicfg_appbrand_ios_jsapi_nocallback","clicfg_appbrand_android_jsapi_nocallback","clicfg_appbrand_ios_operatewxdata_priority","clicfg_appbrand_android_operatewxdata_priority","clicfg_appbrand_ios_operatewxdata_priority_group_control","clicfg_appbrand_android_operatewxdata_priority_group_control","clicfg_enable_appbrand_downloadfile_enablequic_newcronet","clicfg_appbrand_android_operatewxdata_ipc_optimization","clicfg_appbrand_android_eventcallback_after_listen"],exptNeedParams:["clicfg_miniprogram_adreport_use_kv"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]},mayHaveSnapshot:["WAServiceMainContext.js","WASubContext.js","WARenderContext.js","WAGame.js","WAGameSubContext.js"],pcSnapshotConfig:{minigame:{iframeDomain:{mainContext:["WAGame.js"],gameContext:["WAGameSubContext.js"]},workerDomain:{}},miniprogram:{iframeDomain:{},workerDomain:{main_context:["WAServiceMainContext.js"],sub_context:["WASubContext.js"]}}},privacyApiVersion:3},debugOptions:{}},l={},c=i.Function,u=c,d={};(()=>{var e={5803:(e,t,r)=>{var n={"./applyDecoratedDescriptor":7386,"./asyncToGenerator":8921,"./initializerDefineProperty":8704,"./initializerWarningHelper":9651,"./objectSpread2":8680};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=5803},7386:(e,t,r)=>{"use strict";function n(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}r.r(t),r.d(t,{default:()=>n})},8921:(e,t,r)=>{"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>i})},8704:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(t),r.d(t,{default:()=>n})},9651:(e,t,r)=>{"use strict";function n(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>n})},8680:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},9762:(e,t,r)=>{"use strict";var n=r(1551),i=r(4288),a=r(6124),o=r(5517),s=a.data,l=a.normalize,c="USE_FUNCTION_CONSTRUCTOR",u="AsyncIteratorPrototype",d=function(e,t){if(i(e))for(var r=0;r<e.length;r++)s[l(e[r])]=t};e.exports=function(e){"object"==typeof e&&(d(e.useNative,a.NATIVE),d(e.usePolyfill,a.POLYFILL),d(e.useFeatureDetection,null),n(e,c)&&(o[c]=!!e[c]),n(e,u)&&(o[u]=e[u]))}},8117:(e,t,r)=>{"use strict";var n=r(8173),i=r(7420),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a function")}},6270:(e,t,r)=>{"use strict";var n=r(4524),i=r(7420),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a constructor")}},8924:(e,t,r)=>{"use strict";var n=r(4977),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},6016:(e,t,r)=>{"use strict";var n=r(3840).has;e.exports=function(e){return n(e),e}},7591:(e,t,r)=>{"use strict";var n=r(7609),i=r(3062),a=r(2038),o=r(6469),s=r(8117),l=r(1636),c=r(3743),u=r(6387),d=u("asyncDispose"),p=u("dispose"),h=i([].push),f=function(e,t,r){return arguments.length<3&&!l(e)&&(r=s(function(e,t){if("async-dispose"===t){var r=c(e,d);return void 0!==r||void 0===(r=c(e,p))?r:function(){n(r,this)}}return c(e,p)}(o(e),t))),void 0===r?function(){}:a(r,e)};e.exports=function(e,t,r,n){var i;if(arguments.length<4){if(l(t)&&"sync-dispose"===r)return;i=f(t,r)}else i=f(void 0,r,n);h(e.stack,i)}},2890:(e,t,r)=>{"use strict";var n=r(6387),i=r(9543),a=r(615).f,o=n("unscopables"),s=Array.prototype;void 0===s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},1747:(e,t,r)=>{"use strict";var n=r(6730),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},6469:(e,t,r)=>{"use strict";var n=r(9693),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not an object")}},5392:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1759:(e,t,r)=>{"use strict";var n,i,a,o=r(5392),s=r(1923),l=r(1848),c=r(8173),d=r(9693),p=r(1551),h=r(1465),f=r(7420),g=r(1384),v=r(5953),m=r(6248),y=r(6730),b=r(4483),_=r(5273),w=r(6387),S=r(4229),C=r(2417),k=C.enforce,I=C.get,P=l.Int8Array,A=P&&P.prototype,x=l.Uint8ClampedArray,T=x&&x.prototype,E=P&&b(P),M=A&&b(A),R=Object.prototype,O=l.TypeError,D=w("toStringTag"),L=S("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",B=o&&!!_&&"Opera"!==h(l.opera),$=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},W=function(e){var t=b(e);if(d(t)){var r=I(t);return r&&p(r,N)?r[N]:W(t)}},U=function(e){if(!d(e))return!1;var t=h(e);return p(j,t)||p(F,t)};for(n in j)(a=(i=l[n])&&i.prototype)?k(a)[N]=i:B=!1;for(n in F)(a=(i=l[n])&&i.prototype)&&(k(a)[N]=i);if((!B||!c(E)||E===u.prototype)&&(E=function(){throw new O("Incorrect invocation")},B))for(n in j)l[n]&&_(l[n],E);if((!B||!M||M===R)&&(M=E.prototype,B))for(n in j)l[n]&&_(l[n].prototype,M);if(B&&b(T)!==M&&_(T,M),s&&!p(M,D))for(n in $=!0,m(M,D,{configurable:!0,get:function(){return d(this)?this[L]:void 0}}),j)l[n]&&g(l[n],L,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:$&&L,aTypedArray:function(e){if(U(e))return e;throw new O("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!_||y(E,e)))return e;throw new O(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var i in j){var a=l[i];if(a&&p(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}M[e]&&!r||v(M,e,r?t:B&&A[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(s){if(_){if(r)for(n in j)if((i=l[n])&&p(i,e))try{delete i[e]}catch(e){}if(E[e]&&!r)return;try{return v(E,e,r?t:B&&E[e]||t)}catch(e){}}for(n in j)!(i=l[n])||i[e]&&!r||v(i,e,t)}},getTypedArrayConstructor:W,isView:function(e){if(!d(e))return!1;var t=h(e);return"DataView"===t||p(j,t)||p(F,t)},isTypedArray:U,TypedArray:E,TypedArrayPrototype:M}},1180:(e,t,r)=>{"use strict";var n=r(3659),i=r(3663),a=r(9110);e.exports=function(e){for(var t=n(this),r=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,c=void 0===l?r:i(l,r);c>s;)t[s++]=e;return t}},4744:(e,t,r)=>{"use strict";var n=r(2038),i=r(3062),a=r(3659),o=r(4524),s=r(2330),l=r(9072),c=r(8986),u=r(2100),d=r(3743),p=r(9406),h=r(8168),f=r(6387),g=r(147),v=r(7163).toArray,m=f("asyncIterator"),y=i(h("Array","values")),b=i(y([]).next),_=function(){return new w(this)},w=function(e){this.iterator=y(e)};w.prototype.next=function(){return b(this.iterator)},e.exports=function(e){var t=this,r=arguments.length,i=r>1?arguments[1]:void 0,h=r>2?arguments[2]:void 0;return new(p("Promise"))((function(r){var p=a(e);void 0!==i&&(i=n(i,h));var f=d(p,m),y=f?void 0:u(p)||_,b=o(t)?new t:[],w=f?s(p,f):new g(c(l(p,y)));r(v(w,i,b))}))}},2239:(e,t,r)=>{"use strict";var n=r(9110);e.exports=function(e,t,r){for(var i=0,a=arguments.length>2?r:n(t),o=new e(a);a>i;)o[i]=t[i++];return o}},3077:(e,t,r)=>{"use strict";var n=r(2038),i=r(3062),a=r(2832),o=r(3659),s=r(9110),l=r(7741),c=l.Map,u=l.get,d=l.has,p=l.set,h=i([].push);e.exports=function(e){for(var t,r,i=o(this),l=a(i),f=n(e,arguments.length>1?arguments[1]:void 0),g=new c,v=s(l),m=0;v>m;m++)t=f(r=l[m],m,i),d(g,t)?h(u(g,t),r):p(g,t,[r]);return g}},6747:(e,t,r)=>{"use strict";var n=r(2038),i=r(3062),a=r(2832),o=r(3659),s=r(7445),l=r(9110),c=r(9543),u=r(2239),d=Array,p=i([].push);e.exports=function(e,t,r,i){for(var h,f,g,v=o(e),m=a(v),y=n(t,r),b=c(null),_=l(m),w=0;_>w;w++)g=m[w],(f=s(y(g,w,v)))in b?p(b[f],g):b[f]=[g];if(i&&(h=i(v))!==d)for(f in b)b[f]=u(h,b[f]);return b}},4158:(e,t,r)=>{"use strict";var n=r(8632),i=r(3663),a=r(9110),o=function(e){return function(t,r,o){var s=n(t),l=a(s);if(0===l)return!e&&-1;var c,u=i(o,l);if(e&&r!=r){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2008:(e,t,r)=>{"use strict";var n=r(2038),i=r(2832),a=r(3659),o=r(9110),s=function(e){var t=1===e;return function(r,s,l){for(var c,u=a(r),d=i(u),p=o(d),h=n(s,l);p-- >0;)if(h(c=d[p],p,u))switch(e){case 0:return c;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},7816:(e,t,r)=>{"use strict";var n=r(8462);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},7826:(e,t,r)=>{"use strict";var n=r(1923),i=r(4288),a=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7706:(e,t,r)=>{"use strict";var n=r(3062);e.exports=n([].slice)},9070:(e,t,r)=>{"use strict";var n=r(7706),i=Math.floor,a=function(e,t){var r=e.length;if(r<8)for(var o,s,l=1;l<r;){for(s=l,o=e[l];s&&t(e[s-1],o)>0;)e[s]=e[--s];s!==l++&&(e[s]=o)}else for(var c=i(r/2),u=a(n(e,0,c),t),d=a(n(e,c),t),p=u.length,h=d.length,f=0,g=0;f<p||g<h;)e[f+g]=f<p&&g<h?t(u[f],d[g])<=0?u[f++]:d[g++]:f<p?u[f++]:d[g++];return e};e.exports=a},459:(e,t,r)=>{"use strict";var n=r(9110);e.exports=function(e,t){for(var r=n(e),i=new t(r),a=0;a<r;a++)i[a]=e[r-a-1];return i}},1403:(e,t,r)=>{"use strict";var n=r(9110),i=r(6521),a=RangeError;e.exports=function(e,t,r,o){var s=n(e),l=i(r),c=l<0?s+l:l;if(c>=s||c<0)throw new a("Incorrect index");for(var u=new t(s),d=0;d<s;d++)u[d]=d===c?o:e[d];return u}},147:(e,t,r)=>{"use strict";var n=r(7609),i=r(6469),a=r(9543),o=r(3743),s=r(8881),l=r(2417),c=r(9406),u=r(2179),d=r(9462),p=c("Promise"),h="AsyncFromSyncIterator",f=l.set,g=l.getterFor(h),v=function(e,t,r){var n=e.done;p.resolve(e.value).then((function(e){t(d(e,n))}),r)},m=function(e){e.type=h,f(this,e)};m.prototype=s(a(u),{next:function(){var e=g(this);return new p((function(t,r){var a=i(n(e.next,e.iterator));v(a,t,r)}))},return:function(){var e=g(this).iterator;return new p((function(t,r){var a=o(e,"return");if(void 0===a)return t(d(void 0,!0));var s=i(n(a,e));v(s,t,r)}))}}),e.exports=m},7897:(e,t,r)=>{"use strict";var n=r(7609),i=r(9406),a=r(3743);e.exports=function(e,t,r,o){try{var s=a(e,"return");if(s)return i("Promise").resolve(n(s,e)).then((function(){t(r)}),(function(e){o(e)}))}catch(e){return o(e)}t(r)}},9296:(e,t,r)=>{"use strict";var n=r(7609),i=r(1689),a=r(6469),o=r(9543),s=r(1384),l=r(8881),c=r(6387),u=r(2417),d=r(9406),p=r(3743),h=r(2179),f=r(9462),g=r(9273),v=d("Promise"),m=c("toStringTag"),y="AsyncIteratorHelper",b="WrapForValidAsyncIterator",_=u.set,w=function(e){var t=!e,r=u.getterFor(e?b:y),s=function(e){var n=i((function(){return r(e)})),a=n.error,o=n.value;return a||t&&o.done?{exit:!0,value:a?v.reject(o):v.resolve(f(void 0,!0))}:{exit:!1,value:o}};return l(o(h),{next:function(){var e=s(this),t=e.value;if(e.exit)return t;var r=i((function(){return a(t.nextHandler(v))})),n=r.error,o=r.value;return n&&(t.done=!0),n?v.reject(o):v.resolve(o)},return:function(){var t=s(this),r=t.value;if(t.exit)return r;r.done=!0;var o,l,c=r.iterator,u=i((function(){if(r.inner)try{g(r.inner.iterator,"normal")}catch(e){return g(c,"throw",e)}return p(c,"return")}));return o=l=u.value,u.error?v.reject(l):void 0===o?v.resolve(f(void 0,!0)):(l=(u=i((function(){return n(o,c)}))).value,u.error?v.reject(l):e?v.resolve(l):v.resolve(l).then((function(e){return a(e),f(void 0,!0)})))}})},S=w(!0),C=w(!1);s(C,m,"Async Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?b:y,n.nextHandler=e,n.counter=0,n.done=!1,_(this,n)};return r.prototype=t?S:C,r}},7163:(e,t,r)=>{"use strict";var n=r(7609),i=r(8117),a=r(6469),o=r(9693),s=r(8475),l=r(9406),c=r(8986),u=r(7897),d=function(e){var t=0===e,r=1===e,d=2===e,p=3===e;return function(e,h,f){a(e);var g=void 0!==h;!g&&t||i(h);var v=c(e),m=l("Promise"),y=v.iterator,b=v.next,_=0;return new m((function(e,i){var l=function(e){u(y,i,e,i)},c=function(){try{if(g)try{s(_)}catch(e){l(e)}m.resolve(a(n(b,y))).then((function(n){try{if(a(n).done)t?(f.length=_,e(f)):e(!p&&(d||void 0));else{var s=n.value;try{if(g){var v=h(s,_),b=function(n){if(r)c();else if(d)n?c():u(y,e,!1,i);else if(t)try{f[_++]=n,c()}catch(e){l(e)}else n?u(y,e,p||s,i):c()};o(v)?m.resolve(v).then(b,l):b(v)}else f[_++]=s,c()}catch(e){l(e)}}}catch(e){i(e)}}),i)}catch(e){i(e)}};c()}))}};e.exports={toArray:d(0),forEach:d(1),every:d(2),some:d(3),find:d(4)}},7073:(e,t,r)=>{"use strict";var n=r(7609),i=r(8117),a=r(6469),o=r(9693),s=r(8986),l=r(9296),c=r(9462),u=r(7897),d=l((function(e){var t=this,r=t.iterator,i=t.mapper;return new e((function(s,l){var d=function(e){t.done=!0,l(e)},p=function(e){u(r,d,e,d)};e.resolve(a(n(t.next,r))).then((function(r){try{if(a(r).done)t.done=!0,s(c(void 0,!0));else{var n=r.value;try{var l=i(n,t.counter++),u=function(e){s(c(e,!1))};o(l)?e.resolve(l).then(u,p):u(l)}catch(e){p(e)}}}catch(e){d(e)}}),d)}))}));e.exports=function(e){return a(this),i(e),new d(s(this),{mapper:e})}},2179:(e,t,r)=>{"use strict";var n,i,a=r(1848),o=r(5517),s=r(8173),l=r(9543),c=r(4483),d=r(5953),p=r(6387),h=r(4151),f="USE_FUNCTION_CONSTRUCTOR",g=p("asyncIterator"),v=a.AsyncIterator,m=o.AsyncIteratorPrototype;if(m)n=m;else if(s(v))n=v.prototype;else if(o[f]||a[f])try{i=c(c(c(u("return async function*(){}()")()))),c(i)===Object.prototype&&(n=i)}catch(e){}n?h&&(n=l(n)):n={},s(n[g])||d(n,g,(function(){return this})),e.exports=n},3525:(e,t,r)=>{"use strict";var n=r(7609),i=r(9296);e.exports=i((function(){return n(this.next,this.iterator)}),!0)},9832:(e,t,r)=>{"use strict";var n=r(6469),i=r(9273);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},4912:(e,t,r)=>{"use strict";var n=r(6387)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},6892:(e,t,r)=>{"use strict";var n=r(3062),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},1465:(e,t,r)=>{"use strict";var n=r(1326),i=r(8173),a=r(6892),o=r(6387)("toStringTag"),s=Object,l="Arguments"===a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?r:l?a(t):"Object"===(n=a(t))&&i(t.callee)?"Arguments":n}},744:(e,t,r)=>{"use strict";var n=r(1551),i=r(3349),a=r(5983),o=r(615);e.exports=function(e,t,r){for(var s=i(t),l=o.f,c=a.f,u=0;u<s.length;u++){var d=s[u];n(e,d)||r&&n(r,d)||l(e,d,c(t,d))}}},7712:(e,t,r)=>{"use strict";var n=r(8462);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},9462:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},1384:(e,t,r)=>{"use strict";var n=r(1923),i=r(615),a=r(4127);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},4127:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4676:(e,t,r)=>{"use strict";var n=r(1923),i=r(615),a=r(4127);e.exports=function(e,t,r){n?i.f(e,t,a(0,r)):e[t]=r}},6248:(e,t,r)=>{"use strict";var n=r(1704),i=r(615);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},5953:(e,t,r)=>{"use strict";var n=r(8173),i=r(615),a=r(1704),o=r(3958);e.exports=function(e,t,r,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&a(r,c,s),s.global)l?e[t]=r:o(t,r);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},8881:(e,t,r)=>{"use strict";var n=r(5953);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},3958:(e,t,r)=>{"use strict";var n=r(1848),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},5588:(e,t,r)=>{"use strict";var n=r(7420),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+n(t)+" of "+n(e))}},1923:(e,t,r)=>{"use strict";var n=r(8462);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4446:(e,t,r)=>{"use strict";var n=r(1848),i=r(9693),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},8475:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7094:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9257:(e,t,r)=>{"use strict";var n=r(8722).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},1466:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/MSIE|Trident/.test(n)},9788:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},9823:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},2409:(e,t,r)=>{"use strict";var n=r(1558);e.exports="NODE"===n},2027:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/web0s(?!.*chrome)/i.test(n)},8722:(e,t,r)=>{"use strict";var n=r(1848).navigator,i=n&&n.userAgent;e.exports=i?String(i):""},9255:(e,t,r)=>{"use strict";var n,i,a=r(1848),o=r(8722),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},8560:(e,t,r)=>{"use strict";var n=r(8722).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},1558:(e,t,r)=>{"use strict";var n=r(1848),i=r(8722),a=r(6892),o=function(e){return i.slice(0,e.length)===e};e.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},5290:(e,t,r)=>{"use strict";var n=r(3062),i=Error,a=n("".replace),o=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},2519:(e,t,r)=>{"use strict";var n=r(1384),i=r(5290),a=r(692),o=Error.captureStackTrace;e.exports=function(e,t,r,s){a&&(o?o(e,t):n(e,"stack",i(r,s)))}},692:(e,t,r)=>{"use strict";var n=r(8462),i=r(4127);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},4395:(e,t,r)=>{"use strict";var n=r(1848),i=r(5983).f,a=r(1384),o=r(5953),s=r(3958),l=r(744),c=r(6124);e.exports=function(e,t){var r,u,d,p,h,f=e.target,g=e.global,v=e.stat;if(r=g?n:v?n[f]||s(f,{}):n[f]&&n[f].prototype)for(u in t){if(p=t[u],d=e.dontCallGetSet?(h=i(r,u))&&h.value:r[u],!c(g?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(r,u,p,e)}}},8462:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3178:(e,t,r)=>{"use strict";var n=r(5020),i=u.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(a):function(){return o.apply(a,arguments)})},2038:(e,t,r)=>{"use strict";var n=r(1992),i=r(8117),a=r(5020),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},5020:(e,t,r)=>{"use strict";var n=r(8462);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7609:(e,t,r)=>{"use strict";var n=r(5020),i=u.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},63:(e,t,r)=>{"use strict";var n=r(1923),i=r(1551),a=u.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!n||n&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},252:(e,t,r)=>{"use strict";var n=r(3062),i=r(8117);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},1992:(e,t,r)=>{"use strict";var n=r(6892),i=r(3062);e.exports=function(e){if("Function"===n(e))return i(e)}},3062:(e,t,r)=>{"use strict";var n=r(5020),i=u.prototype,a=i.call,o=n&&i.bind.bind(a,a);e.exports=n?o:function(e){return function(){return a.apply(e,arguments)}}},1401:(e,t,r)=>{"use strict";var n=r(7609),i=r(8173),a=r(6469),o=r(8986),s=r(2100),l=r(3743),c=r(6387),u=r(147),d=c("asyncIterator");e.exports=function(e){var t,r=a(e),c=!0,p=l(r,d);return i(p)||(p=s(r),c=!1),void 0!==p?t=n(p,r):(t=r,c=!0),a(t),o(c?t:new u(o(t)))}},2330:(e,t,r)=>{"use strict";var n=r(7609),i=r(147),a=r(6469),o=r(9072),s=r(8986),l=r(3743),c=r(6387)("asyncIterator");e.exports=function(e,t){var r=arguments.length<2?l(e,c):t;return r?a(n(r,e)):new i(s(o(e)))}},8168:(e,t,r)=>{"use strict";var n=r(1848);e.exports=function(e,t){var r=n[e],i=r&&r.prototype;return i&&i[t]}},9406:(e,t,r)=>{"use strict";var n=r(1848),i=r(8173);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},8986:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},8304:(e,t,r)=>{"use strict";var n=r(7609),i=r(6469),a=r(8986),o=r(2100);e.exports=function(e,t){t&&"string"==typeof e||i(e);var r=o(e);return a(i(void 0!==r?n(r,e):e))}},2100:(e,t,r)=>{"use strict";var n=r(1465),i=r(3743),a=r(1636),o=r(7343),s=r(6387)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[n(e)]}},9072:(e,t,r)=>{"use strict";var n=r(7609),i=r(8117),a=r(6469),o=r(7420),s=r(2100),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return a(n(r,e));throw new l(o(e)+" is not iterable")}},3743:(e,t,r)=>{"use strict";var n=r(8117),i=r(1636);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},1998:(e,t,r)=>{"use strict";var n=r(8117),i=r(6469),a=r(7609),o=r(6521),s=r(8986),l="Invalid size",c=RangeError,u=TypeError,d=Math.max,p=function(e,t){this.set=e,this.size=d(t,0),this.has=n(e.has),this.keys=n(e.keys)};p.prototype={getIterator:function(){return s(i(a(this.keys,this.set)))},includes:function(e){return a(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw new u(l);var r=o(t);if(r<0)throw new c(l);return new p(e,r)}},1848:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||u("return this")()},1551:(e,t,r)=>{"use strict";var n=r(3062),i=r(3659),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},7051:e=>{"use strict";e.exports={}},2157:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2241:(e,t,r)=>{"use strict";var n=r(9406);e.exports=n("document","documentElement")},1881:(e,t,r)=>{"use strict";var n=r(1923),i=r(8462),a=r(4446);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},2832:(e,t,r)=>{"use strict";var n=r(3062),i=r(8462),a=r(6892),o=Object,s=n("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?s(e,""):o(e)}:o},6339:(e,t,r)=>{"use strict";var n=r(8173),i=r(9693),a=r(5273);e.exports=function(e,t,r){var o,s;return a&&n(o=t.constructor)&&o!==r&&i(s=o.prototype)&&s!==r.prototype&&a(e,s),e}},5239:(e,t,r)=>{"use strict";var n=r(3062),i=r(8173),a=r(5517),o=n(u.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},6001:(e,t,r)=>{"use strict";var n=r(9693),i=r(1384);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},2417:(e,t,r)=>{"use strict";var n,i,a,o=r(3721),s=r(1848),l=r(9693),c=r(1384),u=r(1551),d=r(5517),p=r(5612),h=r(7051),f="Object already initialized",g=s.TypeError,v=s.WeakMap;if(o||d.state){var m=d.state||(d.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw new g(f);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},a=function(e){return m.has(e)}}else{var y=p("state");h[y]=!0,n=function(e,t){if(u(e,y))throw new g(f);return t.facade=e,c(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},a=function(e){return u(e,y)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return r}}}},9345:(e,t,r)=>{"use strict";var n=r(6387),i=r(7343),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},4288:(e,t,r)=>{"use strict";var n=r(6892);e.exports=Array.isArray||function(e){return"Array"===n(e)}},4107:(e,t,r)=>{"use strict";var n=r(1465);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},8173:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4524:(e,t,r)=>{"use strict";var n=r(3062),i=r(8462),a=r(8173),o=r(1465),s=r(9406),l=r(5239),c=function(){},u=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=n(d.exec),h=!d.test(c),f=function(e){if(!a(e))return!1;try{return u(c,[],e),!0}catch(e){return!1}},g=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!u||i((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},6124:(e,t,r)=>{"use strict";var n=r(8462),i=r(8173),a=/#|\.prototype\./,o=function(e,t){var r=l[s(e)];return r===u||r!==c&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},1636:e=>{"use strict";e.exports=function(e){return null==e}},9693:(e,t,r)=>{"use strict";var n=r(8173);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},4977:(e,t,r)=>{"use strict";var n=r(9693);e.exports=function(e){return n(e)||null===e}},4151:e=>{"use strict";e.exports=!1},9525:(e,t,r)=>{"use strict";var n=r(9406),i=r(8173),a=r(6730),o=r(5363),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,s(e))}},9806:(e,t,r)=>{"use strict";var n=r(7609);e.exports=function(e,t,r){for(var i,a,o=r?e:e.iterator,s=e.next;!(i=n(s,o)).done;)if(void 0!==(a=t(i.value)))return a}},2201:(e,t,r)=>{"use strict";var n=r(2038),i=r(7609),a=r(6469),o=r(7420),s=r(9345),l=r(9110),c=r(6730),u=r(9072),d=r(2100),p=r(9273),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,r){var v,m,y,b,_,w,S,C=r&&r.that,k=!(!r||!r.AS_ENTRIES),I=!(!r||!r.IS_RECORD),P=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),x=n(t,C),T=function(e){return v&&p(v,"normal",e),new f(!0,e)},E=function(e){return k?(a(e),A?x(e[0],e[1],T):x(e[0],e[1])):A?x(e,T):x(e)};if(I)v=e.iterator;else if(P)v=e;else{if(!(m=d(e)))throw new h(o(e)+" is not iterable");if(s(m)){for(y=0,b=l(e);b>y;y++)if((_=E(e[y]))&&c(g,_))return _;return new f(!1)}v=u(e,m)}for(w=I?e.next:v.next;!(S=i(w,v)).done;){try{_=E(S.value)}catch(e){p(v,"throw",e)}if("object"==typeof _&&_&&c(g,_))return _}return new f(!1)}},9273:(e,t,r)=>{"use strict";var n=r(7609),i=r(6469),a=r(3743);e.exports=function(e,t,r){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return i(o),r}},2160:(e,t,r)=>{"use strict";var n=r(7609),i=r(9543),a=r(1384),o=r(8881),s=r(6387),l=r(2417),c=r(3743),u=r(7092).IteratorPrototype,d=r(9462),p=r(9273),h=s("toStringTag"),f="IteratorHelper",g="WrapForValidIterator",v=l.set,m=function(e){var t=l.getterFor(e?g:f);return o(i(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return d(n,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),i=r.iterator;if(r.done=!0,e){var a=c(i,"return");return a?n(a,i):d(void 0,!0)}if(r.inner)try{p(r.inner.iterator,"normal")}catch(e){return p(i,"throw",e)}return p(i,"normal"),d(void 0,!0)}})},y=m(!0),b=m(!1);a(b,h,"Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?g:f,n.nextHandler=e,n.counter=0,n.done=!1,v(this,n)};return r.prototype=t?y:b,r}},2563:(e,t,r)=>{"use strict";var n=r(7609),i=r(8117),a=r(6469),o=r(8986),s=r(2160),l=r(9832),c=s((function(){var e=this.iterator,t=a(n(this.next,e));if(!(this.done=!!t.done))return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return a(this),i(e),new c(o(this),{mapper:e})}},7092:(e,t,r)=>{"use strict";var n,i,a,o=r(8462),s=r(8173),l=r(9693),c=r(9543),u=r(4483),d=r(5953),p=r(6387),h=r(4151),f=p("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(i=u(u(a)))!==Object.prototype&&(n=i):g=!0),!l(n)||o((function(){var e={};return n[f].call(e)!==e}))?n={}:h&&(n=c(n)),s(n[f])||d(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},7343:e=>{"use strict";e.exports={}},9110:(e,t,r)=>{"use strict";var n=r(4233);e.exports=function(e){return n(e.length)}},1704:(e,t,r)=>{"use strict";var n=r(3062),i=r(8462),a=r(8173),o=r(1551),s=r(1923),l=r(63).CONFIGURABLE,c=r(5239),d=r(2417),p=d.enforce,h=d.get,f=String,g=Object.defineProperty,v=n("".slice),m=n("".replace),y=n([].join),b=s&&!i((function(){return 8!==g((function(){}),"length",{value:8}).length})),_=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===v(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||l&&e.name!==t)&&(s?g(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&o(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?s&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=p(e);return o(n,"source")||(n.source=y(_,"string"==typeof t?t:"")),e};u.prototype.toString=w((function(){return a(this)&&h(this).source||c(this)}),"toString")},7741:(e,t,r)=>{"use strict";var n=r(3062),i=Map.prototype;e.exports={Map:Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},9344:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},5684:(e,t,r)=>{"use strict";var n,i,a,o,s,l=r(1848),c=r(5512),u=r(2038),d=r(4320).set,p=r(5141),h=r(9823),f=r(9788),g=r(2027),v=r(2409),m=l.MutationObserver||l.WebKitMutationObserver,y=l.document,b=l.process,_=l.Promise,w=c("queueMicrotask");if(!w){var S=new p,C=function(){var e,t;for(v&&(e=b.domain)&&e.exit();t=S.get();)try{t()}catch(e){throw S.head&&n(),e}e&&e.enter()};h||v||g||!m||!y?!f&&_&&_.resolve?((o=_.resolve(void 0)).constructor=_,s=u(o.then,o),n=function(){s(C)}):v?n=function(){b.nextTick(C)}:(d=u(d,l),n=function(){d(C)}):(i=!0,a=y.createTextNode(""),new m(C).observe(a,{characterData:!0}),n=function(){a.data=i=!i}),w=function(e){S.head||n(),S.add(e)}}e.exports=w},8326:(e,t,r)=>{"use strict";var n=r(8117),i=TypeError,a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw new i("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},9766:(e,t,r)=>{"use strict";var n=r(5774);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},8428:e=>{"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},9543:(e,t,r)=>{"use strict";var n,i=r(6469),a=r(1981),o=r(7094),s=r(7051),l=r(2241),c=r(4446),u=r(5612),d="prototype",p="script",h=u("IE_PROTO"),f=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;m="undefined"!=typeof document?document.domain&&n?v(n):(t=c("iframe"),r="java"+p+":",t.style.display="none",l.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):v(n);for(var i=o.length;i--;)delete m[d][o[i]];return m()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[d]=i(e),r=new f,f[d]=null,r[h]=e):r=m(),void 0===t?r:a.f(r,t)}},1981:(e,t,r)=>{"use strict";var n=r(1923),i=r(2552),a=r(615),o=r(6469),s=r(8632),l=r(5923);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),i=l(t),c=i.length,u=0;c>u;)a.f(e,r=i[u++],n[r]);return e}},615:(e,t,r)=>{"use strict";var n=r(1923),i=r(1881),a=r(2552),o=r(6469),s=r(7445),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=n?a?function(e,t,r){if(o(e),t=s(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=u(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:d in r?r[d]:n[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=s(t),o(r),i)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5983:(e,t,r)=>{"use strict";var n=r(1923),i=r(7609),a=r(6146),o=r(4127),s=r(8632),l=r(7445),c=r(1551),u=r(1881),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},1010:(e,t,r)=>{"use strict";var n=r(6866),i=r(7094).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},436:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},4483:(e,t,r)=>{"use strict";var n=r(1551),i=r(8173),a=r(3659),o=r(5612),s=r(7712),l=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},6730:(e,t,r)=>{"use strict";var n=r(3062);e.exports=n({}.isPrototypeOf)},6866:(e,t,r)=>{"use strict";var n=r(3062),i=r(1551),a=r(8632),o=r(4158).indexOf,s=r(7051),l=n([].push);e.exports=function(e,t){var r,n=a(e),c=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&l(u,r);for(;t.length>c;)i(n,r=t[c++])&&(~o(u,r)||l(u,r));return u}},5923:(e,t,r)=>{"use strict";var n=r(6866),i=r(7094);e.exports=Object.keys||function(e){return n(e,i)}},6146:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},5273:(e,t,r)=>{"use strict";var n=r(252),i=r(9693),a=r(170),o=r(8924);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return a(r),o(n),i(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0)},3613:(e,t,r)=>{"use strict";var n=r(7609),i=r(8173),a=r(9693),o=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!a(s=n(r,e)))return s;if(i(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!a(s=n(r,e)))return s;throw new o("Can't convert object to primitive value")}},3349:(e,t,r)=>{"use strict";var n=r(9406),i=r(3062),a=r(1010),o=r(436),s=r(6469),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=o.f;return r?l(t,r(e)):t}},3448:(e,t,r)=>{"use strict";var n=r(1848);e.exports=n},1689:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1495:(e,t,r)=>{"use strict";var n=r(1848),i=r(4243),a=r(8173),o=r(6124),s=r(5239),l=r(6387),c=r(1558),u=r(4151),d=r(9255),p=i&&i.prototype,h=l("species"),f=!1,g=a(n.PromiseRejectionEvent),v=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(u&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var r=new i((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[h]=n,!(f=r.then((function(){}))instanceof n))return!0}return!(t||"BROWSER"!==c&&"DENO"!==c||g)}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:f}},4243:(e,t,r)=>{"use strict";var n=r(1848);e.exports=n.Promise},1128:(e,t,r)=>{"use strict";var n=r(6469),i=r(9693),a=r(8326);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},7019:(e,t,r)=>{"use strict";var n=r(4243),i=r(4912),a=r(1495).CONSTRUCTOR;e.exports=a||!i((function(e){n.all(e).then(void 0,(function(){}))}))},4279:(e,t,r)=>{"use strict";var n=r(615).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},5141:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},7834:(e,t,r)=>{"use strict";var n=r(6469);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},170:(e,t,r)=>{"use strict";var n=r(1636),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},5512:(e,t,r)=>{"use strict";var n=r(1848),i=r(1923),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return n[e];var t=a(n,e);return t&&t.value}},929:(e,t,r)=>{"use strict";var n=r(3840),i=r(2745),a=n.Set,o=n.add;e.exports=function(e){var t=new a;return i(e,(function(e){o(t,e)})),t}},9864:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840),a=r(929),o=r(5179),s=r(1998),l=r(2745),c=r(9806),u=i.has,d=i.remove;e.exports=function(e){var t=n(this),r=s(e),i=a(t);return o(t)<=r.size?l(t,(function(e){r.includes(e)&&d(i,e)})):c(r.getIterator(),(function(e){u(t,e)&&d(i,e)})),i}},3840:(e,t,r)=>{"use strict";var n=r(3062),i=Set.prototype;e.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},374:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840),a=r(5179),o=r(1998),s=r(2745),l=r(9806),c=i.Set,u=i.add,d=i.has;e.exports=function(e){var t=n(this),r=o(e),i=new c;return a(t)>r.size?l(r.getIterator(),(function(e){d(t,e)&&u(i,e)})):s(t,(function(e){r.includes(e)&&u(i,e)})),i}},7735:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840).has,a=r(5179),o=r(1998),s=r(2745),l=r(9806),c=r(9273);e.exports=function(e){var t=n(this),r=o(e);if(a(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==l(u,(function(e){if(i(t,e))return c(u,"normal",!1)}))}},6274:(e,t,r)=>{"use strict";var n=r(6016),i=r(5179),a=r(2745),o=r(1998);e.exports=function(e){var t=n(this),r=o(e);return!(i(t)>r.size)&&!1!==a(t,(function(e){if(!r.includes(e))return!1}),!0)}},9749:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840).has,a=r(5179),o=r(1998),s=r(9806),l=r(9273);e.exports=function(e){var t=n(this),r=o(e);if(a(t)<r.size)return!1;var c=r.getIterator();return!1!==s(c,(function(e){if(!i(t,e))return l(c,"normal",!1)}))}},2745:(e,t,r)=>{"use strict";var n=r(3062),i=r(9806),a=r(3840),o=a.Set,s=a.proto,l=n(s.forEach),c=n(s.keys),u=c(new o).next;e.exports=function(e,t,r){return r?i({iterator:c(e),next:u},t):l(e,t)}},4435:(e,t,r)=>{"use strict";var n=r(9406),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=n("Set");try{(new t)[e](i(0));try{return(new t)[e](i(-1)),!1}catch(e){return!0}}catch(e){return!1}}},5179:(e,t,r)=>{"use strict";var n=r(252),i=r(3840);e.exports=n(i.proto,"size","get")||function(e){return e.size}},5539:(e,t,r)=>{"use strict";var n=r(9406),i=r(6248),a=r(6387),o=r(1923),s=a("species");e.exports=function(e){var t=n(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},3285:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840),a=r(929),o=r(1998),s=r(9806),l=i.add,c=i.has,u=i.remove;e.exports=function(e){var t=n(this),r=o(e).getIterator(),i=a(t);return s(r,(function(e){c(t,e)?u(i,e):l(i,e)})),i}},6988:(e,t,r)=>{"use strict";var n=r(615).f,i=r(1551),a=r(6387)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},2394:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840).add,a=r(929),o=r(1998),s=r(9806);e.exports=function(e){var t=n(this),r=o(e).getIterator(),l=a(t);return s(r,(function(e){i(l,e)})),l}},5612:(e,t,r)=>{"use strict";var n=r(6231),i=r(4229),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5517:(e,t,r)=>{"use strict";var n=r(4151),i=r(1848),a=r(3958),o="__core-js_shared__",s=e.exports=i[o]||a(o,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6231:(e,t,r)=>{"use strict";var n=r(5517);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},9675:(e,t,r)=>{"use strict";var n=r(6469),i=r(6270),a=r(1636),o=r(6387)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||a(r=n(s)[o])?t:i(r)}},444:(e,t,r)=>{"use strict";var n=r(9255),i=r(8462),a=r(1848).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4320:(e,t,r)=>{"use strict";var n,i,a,o,s=r(1848),l=r(3178),c=r(2038),u=r(8173),d=r(1551),p=r(8462),h=r(2241),f=r(7706),g=r(4446),v=r(4315),m=r(9823),y=r(2409),b=s.setImmediate,_=s.clearImmediate,w=s.process,S=s.Dispatch,C=s.Function,k=s.MessageChannel,I=s.String,P=0,A={},x="onreadystatechange";p((function(){n=s.location}));var T=function(e){if(d(A,e)){var t=A[e];delete A[e],t()}},E=function(e){return function(){T(e)}},M=function(e){T(e.data)},R=function(e){s.postMessage(I(e),n.protocol+"//"+n.host)};b&&_||(b=function(e){v(arguments.length,1);var t=u(e)?e:C(e),r=f(arguments,1);return A[++P]=function(){l(t,void 0,r)},i(P),P},_=function(e){delete A[e]},y?i=function(e){w.nextTick(E(e))}:S&&S.now?i=function(e){S.now(E(e))}:k&&!m?(o=(a=new k).port2,a.port1.onmessage=M,i=c(o.postMessage,o)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(R)?(i=R,s.addEventListener("message",M,!1)):i=x in g("script")?function(e){h.appendChild(g("script"))[x]=function(){h.removeChild(this),T(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:b,clear:_}},3663:(e,t,r)=>{"use strict";var n=r(6521),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},3442:(e,t,r)=>{"use strict";var n=r(5124),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},8632:(e,t,r)=>{"use strict";var n=r(2832),i=r(170);e.exports=function(e){return n(i(e))}},6521:(e,t,r)=>{"use strict";var n=r(9344);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},4233:(e,t,r)=>{"use strict";var n=r(6521),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},3659:(e,t,r)=>{"use strict";var n=r(170),i=Object;e.exports=function(e){return i(n(e))}},815:(e,t,r)=>{"use strict";var n=r(3657),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw new i("Wrong offset");return r}},3657:(e,t,r)=>{"use strict";var n=r(6521),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new i("The argument can't be less than 0");return t}},5124:(e,t,r)=>{"use strict";var n=r(7609),i=r(9693),a=r(9525),o=r(3743),s=r(3613),l=r(6387),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,l=o(e,u);if(l){if(void 0===t&&(t="default"),r=n(l,e,t),!i(r)||a(r))return r;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},7445:(e,t,r)=>{"use strict";var n=r(5124),i=r(9525);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},1326:(e,t,r)=>{"use strict";var n={};n[r(6387)("toStringTag")]="z",e.exports="[object z]"===String(n)},5774:(e,t,r)=>{"use strict";var n=r(1465),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},7420:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4229:(e,t,r)=>{"use strict";var n=r(3062),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},5363:(e,t,r)=>{"use strict";var n=r(444);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2552:(e,t,r)=>{"use strict";var n=r(1923),i=r(8462);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4315:e=>{"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},3721:(e,t,r)=>{"use strict";var n=r(1848),i=r(8173),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},6220:(e,t,r)=>{"use strict";var n=r(3448),i=r(1551),a=r(294),o=r(615).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},294:(e,t,r)=>{"use strict";var n=r(6387);t.f=n},6387:(e,t,r)=>{"use strict";var n=r(1848),i=r(6231),a=r(1551),o=r(4229),s=r(444),l=r(5363),c=n.Symbol,u=i("wks"),d=l?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return a(u,e)||(u[e]=s&&a(c,e)?c[e]:d("Symbol."+e)),u[e]}},3649:(e,t,r)=>{"use strict";var n=r(9406),i=r(1551),a=r(1384),o=r(6730),s=r(5273),l=r(744),c=r(4279),u=r(6339),d=r(9766),p=r(6001),h=r(2519),f=r(1923),g=r(4151);e.exports=function(e,t,r,v){var m="stackTraceLimit",y=v?2:1,b=e.split("."),_=b[b.length-1],w=n.apply(null,b);if(w){var S=w.prototype;if(!g&&i(S,"cause")&&delete S.cause,!r)return w;var C=n("Error"),k=t((function(e,t){var r=d(v?t:e,void 0),n=v?new w(e):new w;return void 0!==r&&a(n,"message",r),h(n,k,n.stack,2),this&&o(S,this)&&u(n,this,k),arguments.length>y&&p(n,arguments[y]),n}));if(k.prototype=S,"Error"!==_?s?s(k,C):l(k,C,{name:!0}):f&&m in w&&(c(k,w,m),c(k,w,"prepareStackTrace")),l(k,w),!g)try{S.name!==_&&a(S,"name",_),S.constructor=k}catch(e){}return k}}},7311:(e,t,r)=>{"use strict";var n=r(4395),i=r(9406),a=r(3178),o=r(8462),s=r(3649),l="AggregateError",c=i(l),u=!o((function(){return 1!==c([1]).errors[0]}))&&o((function(){return 7!==c([1],l,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:s(l,(function(e){return function(t,r){return a(e,this,arguments)}}),u,!0)})},4240:(e,t,r)=>{"use strict";var n=r(4395),i=r(3659),a=r(9110),o=r(6521),s=r(2890);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=a(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},3509:(e,t,r)=>{"use strict";var n=r(4395),i=r(2008).findLastIndex,a=r(2890);n({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},7119:(e,t,r)=>{"use strict";var n=r(4395),i=r(2008).findLast,a=r(2890);n({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},2004:(e,t,r)=>{"use strict";var n=r(4395),i=r(3659),a=r(9110),o=r(7826),s=r(8475);n({target:"Array",proto:!0,arity:1,forced:r(8462)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=a(t),n=arguments.length;s(r+n);for(var l=0;l<n;l++)t[r]=arguments[l],r++;return o(t,r),r}})},7855:(e,t,r)=>{"use strict";var n=r(4395),i=r(459),a=r(8632),o=r(2890),s=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(a(this),s)}}),o("toReversed")},2665:(e,t,r)=>{"use strict";var n=r(4395),i=r(3062),a=r(8117),o=r(8632),s=r(2239),l=r(8168),c=r(2890),u=Array,d=i(l("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&a(e);var t=o(this),r=s(u,t);return d(r,e)}}),c("toSorted")},9772:(e,t,r)=>{"use strict";var n=r(4395),i=r(2890),a=r(8475),o=r(9110),s=r(3663),l=r(8632),c=r(6521),u=Array,d=Math.max,p=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,i,h,f=l(this),g=o(f),v=s(e,g),m=arguments.length,y=0;for(0===m?r=n=0:1===m?(r=0,n=g-v):(r=m-2,n=p(d(c(t),0),g-v)),i=a(g+r-n),h=u(i);y<v;y++)h[y]=f[y];for(;y<v+r;y++)h[y]=arguments[y-v+2];for(;y<i;y++)h[y]=f[y+n-r];return h}}),i("toSpliced")},8971:(e,t,r)=>{"use strict";var n=r(4395),i=r(3659),a=r(9110),o=r(7826),s=r(5588),l=r(8475);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),r=a(t),n=arguments.length;if(n){l(r+n);for(var c=r;c--;){var u=c+n;c in t?t[u]=t[c]:s(t,u)}for(var d=0;d<n;d++)t[d]=arguments[d]}return o(t,r+n)}})},8135:(e,t,r)=>{"use strict";var n=r(4395),i=r(1403),a=r(8632),o=Array;n({target:"Array",proto:!0},{with:function(e,t){return i(a(this),o,e,t)}})},1474:(e,t,r)=>{"use strict";var n=r(4395),i=r(1848),a=r(3178),o=r(3649),s="WebAssembly",l=i[s],c=7!==new Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=o(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},d=function(e,t){if(l&&l[e]){var r={};r[e]=o(s+"."+e,t,c),n({target:s,stat:!0,constructor:!0,arity:1,forced:c},r)}};u("Error",(function(e){return function(t){return a(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),u("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},8140:(e,t,r)=>{"use strict";r(4395)({target:"Object",stat:!0},{hasOwn:r(1551)})},5164:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(8326),s=r(1689),l=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,c=1;l(e,(function(e){var a=s++,l=!1;c++,i(r,t,e).then((function(e){l||(l=!0,o[a]={status:"fulfilled",value:e},--c||n(o))}),(function(e){l||(l=!0,o[a]={status:"rejected",reason:e},--c||n(o))}))})),--c||n(o)}));return u.error&&c(u.value),r.promise}})},4125:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(8326),s=r(1689),l=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{all:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,u=1;l(e,(function(e){var a=s++,l=!1;u++,i(r,t,e).then((function(e){l||(l=!0,o[a]=e,--u||n(o))}),c)})),--u||n(o)}));return u.error&&c(u.value),r.promise}})},6406:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(9406),s=r(8326),l=r(1689),c=r(2201),u=r(7019),d="No one promise resolved";n({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,r=o("AggregateError"),n=s.f(t),u=n.resolve,p=n.reject,h=l((function(){var n=a(t.resolve),o=[],s=0,l=1,h=!1;c(e,(function(e){var a=s++,c=!1;l++,i(n,t,e).then((function(e){c||h||(h=!0,u(e))}),(function(e){c||h||(c=!0,o[a]=e,--l||p(new r(o,d)))}))})),--l||p(new r(o,d))}));return h.error&&p(h.value),n.promise}})},8525:(e,t,r)=>{"use strict";var n=r(4395),i=r(4151),a=r(1495).CONSTRUCTOR,o=r(4243),s=r(9406),l=r(8173),c=r(5953),u=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(o)){var d=s("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},1382:(e,t,r)=>{"use strict";var n,i,a,o=r(4395),s=r(4151),l=r(2409),c=r(1848),u=r(7609),d=r(5953),p=r(5273),h=r(6988),f=r(5539),g=r(8117),v=r(8173),m=r(9693),y=r(1747),b=r(9675),_=r(4320).set,w=r(5684),S=r(2157),C=r(1689),k=r(5141),I=r(2417),P=r(4243),A=r(1495),x=r(8326),T="Promise",E=A.CONSTRUCTOR,M=A.REJECTION_EVENT,R=A.SUBCLASSING,O=I.getterFor(T),D=I.set,L=P&&P.prototype,N=P,B=L,$=c.TypeError,j=c.document,F=c.process,W=x.f,U=W,V=!!(j&&j.createEvent&&c.dispatchEvent),q="unhandledrejection",z=function(e){var t;return!(!m(e)||!v(t=e.then))&&t},G=function(e,t){var r,n,i,a=t.value,o=1===t.state,s=o?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&Y(t),t.rejection=1),!0===s?r=a:(d&&d.enter(),r=s(a),d&&(d.exit(),i=!0)),r===e.promise?c(new $("Promise-chain cycle")):(n=z(r))?u(n,r,l,c):l(r)):c(a)}catch(e){d&&!i&&d.exit(),c(e)}},H=function(e,t){e.notified||(e.notified=!0,w((function(){for(var r,n=e.reactions;r=n.get();)G(r,e);e.notified=!1,t&&!e.rejection&&J(e)})))},K=function(e,t,r){var n,i;V?((n=j.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!M&&(i=c["on"+e])?i(n):e===q&&S("Unhandled promise rejection",r)},J=function(e){u(_,c,(function(){var t,r=e.facade,n=e.value;if(X(e)&&(t=C((function(){l?F.emit("unhandledRejection",n,r):K(q,r,n)})),e.rejection=l||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Y=function(e){u(_,c,(function(){var t=e.facade;l?F.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},Q=function(e,t,r){return function(n){e(t,n,r)}},Z=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,H(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new $("Promise can't be resolved itself");var n=z(t);n?w((function(){var r={done:!1};try{u(n,t,Q(ee,r,e),Q(Z,r,e))}catch(t){Z(r,t,e)}})):(e.value=t,e.state=1,H(e,!1))}catch(t){Z({done:!1},t,e)}}};if(E&&(B=(N=function(e){y(this,B),g(e),u(n,this);var t=O(this);try{e(Q(ee,t),Q(Z,t))}catch(e){Z(t,e)}}).prototype,(n=function(e){D(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:null})}).prototype=d(B,"then",(function(e,t){var r=O(this),n=W(b(this,N));return r.parent=!0,n.ok=!v(e)||e,n.fail=v(t)&&t,n.domain=l?F.domain:void 0,0===r.state?r.reactions.add(n):w((function(){G(n,r)})),n.promise})),i=function(){var e=new n,t=O(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(Z,t)},x.f=W=function(e){return e===N||undefined===e?new i(e):U(e)},!s&&v(P)&&L!==Object.prototype)){a=L.then,R||d(L,"then",(function(e,t){var r=this;return new N((function(e,t){u(a,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}p&&p(L,B)}o({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:N}),h(N,T,!1,!0),f(T)},1410:(e,t,r)=>{"use strict";var n=r(4395),i=r(4151),a=r(4243),o=r(8462),s=r(9406),l=r(8173),c=r(9675),u=r(1128),d=r(5953),p=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=l(e);return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!i&&l(a)){var h=s("Promise").prototype.finally;p.finally!==h&&d(p,"finally",h,{unsafe:!0})}},7788:(e,t,r)=>{"use strict";r(1382),r(4125),r(8525),r(4832),r(1050),r(2529)},4832:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(8326),s=r(1689),l=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{race:function(e){var t=this,r=o.f(t),n=r.reject,c=s((function(){var o=a(t.resolve);l(e,(function(e){i(o,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},1050:(e,t,r)=>{"use strict";var n=r(4395),i=r(8326);n({target:"Promise",stat:!0,forced:r(1495).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},2529:(e,t,r)=>{"use strict";var n=r(4395),i=r(9406),a=r(4151),o=r(4243),s=r(1495).CONSTRUCTOR,l=r(1128),c=i("Promise"),u=a&&!s;n({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return l(u&&this===c?o:this,e)}})},7638:(e,t,r)=>{"use strict";var n=r(1848),i=r(1923),a=r(6248),o=r(7834),s=r(8462),l=n.RegExp,c=l.prototype;i&&s((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==n||r!==n}))&&a(c,"flags",{configurable:!0,get:o})},9983:(e,t,r)=>{"use strict";var n=r(4395),i=r(9864);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("difference")},{difference:i})},6276:(e,t,r)=>{"use strict";var n=r(4395),i=r(8462),a=r(374);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:a})},9297:(e,t,r)=>{"use strict";var n=r(4395),i=r(7735);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isDisjointFrom")},{isDisjointFrom:i})},6816:(e,t,r)=>{"use strict";var n=r(4395),i=r(6274);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSubsetOf")},{isSubsetOf:i})},6756:(e,t,r)=>{"use strict";var n=r(4395),i=r(9749);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSupersetOf")},{isSupersetOf:i})},960:(e,t,r)=>{"use strict";var n=r(4395),i=r(3285);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("symmetricDifference")},{symmetricDifference:i})},9301:(e,t,r)=>{"use strict";var n=r(4395),i=r(2394);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("union")},{union:i})},6303:(e,t,r)=>{"use strict";var n=r(4395),i=r(3062),a=r(170),o=r(6521),s=r(5774),l=r(8462),c=i("".charAt);n({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(a(this)),r=t.length,n=o(e),i=n>=0?n:r+n;return i<0||i>=r?void 0:c(t,i)}})},1516:(e,t,r)=>{"use strict";var n=r(4395),i=r(3062),a=r(170),o=r(5774),s=i("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=o(a(this)),t=e.length,r=0;r<t;r++){var n=s(e,r);if(55296==(63488&n)&&(n>=56320||++r>=t||56320!=(64512&s(e,r))))return!1}return!0}})},705:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(3062),o=r(170),s=r(5774),l=r(8462),c=Array,u=a("".charAt),d=a("".charCodeAt),p=a([].join),h="".toWellFormed,f=h&&l((function(){return"1"!==i(h,1)}));n({target:"String",proto:!0,forced:f},{toWellFormed:function(){var e=s(o(this));if(f)return i(h,e);for(var t=e.length,r=c(t),n=0;n<t;n++){var a=d(e,n);55296!=(63488&a)?r[n]=u(e,n):a>=56320||n+1>=t||56320!=(64512&d(e,n+1))?r[n]="�":(r[n]=u(e,n),r[++n]=u(e,n))}return p(r,"")}})},1825:(e,t,r)=>{"use strict";var n=r(1759),i=r(9110),a=r(6521),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=i(t),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},2220:(e,t,r)=>{"use strict";var n=r(1759),i=r(1180),a=r(3442),o=r(1465),s=r(7609),l=r(3062),c=r(8462),u=n.aTypedArray,d=n.exportTypedArrayMethod,p=l("".slice);d("fill",(function(e){var t=arguments.length;u(this);var r="Big"===p(o(this),0,3)?a(e):+e;return s(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},4774:(e,t,r)=>{"use strict";var n=r(1759),i=r(2008).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},1519:(e,t,r)=>{"use strict";var n=r(1759),i=r(2008).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},1520:(e,t,r)=>{"use strict";var n=r(1848),i=r(7609),a=r(1759),o=r(9110),s=r(815),l=r(3659),c=r(8462),u=n.RangeError,d=n.Int8Array,p=d&&d.prototype,h=p&&p.set,f=a.aTypedArray,g=a.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),m=v&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=l(e);if(v)return i(h,this,r,t);var n=this.length,a=o(r),c=0;if(a+t>n)throw new u("Wrong length");for(;c<a;)this[t+c]=r[c++]}),!v||m)},2663:(e,t,r)=>{"use strict";var n=r(1848),i=r(1992),a=r(8462),o=r(8117),s=r(9070),l=r(1759),c=r(9257),u=r(1466),d=r(9255),p=r(8560),h=l.aTypedArray,f=l.exportTypedArrayMethod,g=n.Uint16Array,v=g&&i(g.prototype.sort),m=!(!v||a((function(){v(new g(2),null)}))&&a((function(){v(new g(2),{})}))),y=!!v&&!a((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(p)return p<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(v(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));f("sort",(function(e){return void 0!==e&&o(e),y?v(this,e):s(h(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||m)},8348:(e,t,r)=>{"use strict";var n=r(459),i=r(1759),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;o("toReversed",(function(){return n(a(this),s(this))}))},3457:(e,t,r)=>{"use strict";var n=r(1759),i=r(3062),a=r(8117),o=r(2239),s=n.aTypedArray,l=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),r=o(l(t),t);return u(r,e)}))},6939:(e,t,r)=>{"use strict";var n=r(1403),i=r(1759),a=r(4107),o=r(6521),s=r(3442),l=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=l(this),i=o(e),u=a(r)?s(t):+t;return n(r,c(r),i,u)}}.with,!d)},5388:(e,t,r)=>{"use strict";r(4240)},1034:(e,t,r)=>{"use strict";r(3509)},5601:(e,t,r)=>{"use strict";r(7119)},5794:(e,t,r)=>{"use strict";var n=r(4395),i=r(4744),a=r(8462),o=Array.fromAsync;n({target:"Array",stat:!0,forced:!o||a((function(){var e=0;return o.call((function(){return e++,[]}),{length:0}),1!==e}))},{fromAsync:i})},1772:(e,t,r)=>{"use strict";var n=r(4395),i=r(7816),a=r(2890),o=r(3077);n({target:"Array",proto:!0,name:"groupToMap",forced:r(4151)||!i("groupByToMap")},{groupByToMap:o}),a("groupByToMap")},6384:(e,t,r)=>{"use strict";var n=r(4395),i=r(6747),a=r(7816),o=r(2890);n({target:"Array",proto:!0,forced:!a("groupBy")},{groupBy:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("groupBy")},2802:(e,t,r)=>{"use strict";var n=r(4395),i=r(2890),a=r(3077);n({target:"Array",proto:!0,forced:r(4151)},{groupToMap:a}),i("groupToMap")},2985:(e,t,r)=>{"use strict";var n=r(4395),i=r(6747),a=r(2890);n({target:"Array",proto:!0},{group:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("group")},69:(e,t,r)=>{"use strict";r(7855)},6750:(e,t,r)=>{"use strict";r(2665)},6062:(e,t,r)=>{"use strict";r(9772)},3131:(e,t,r)=>{"use strict";r(8135)},4752:(e,t,r)=>{"use strict";var n=r(4395),i=r(1747),a=r(4483),o=r(1384),s=r(1551),l=r(6387),c=r(2179),u=r(4151),d=l("toStringTag"),p=TypeError,h=function(){if(i(this,c),a(this)===c)throw new p("Abstract class AsyncIterator not directly constructable")};h.prototype=c,s(c,d)||o(c,d,"AsyncIterator"),!u&&s(c,"constructor")&&c.constructor!==Object||o(c,"constructor",h),n({global:!0,constructor:!0,forced:u},{AsyncIterator:h})},9435:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(9296),u=r(9462),d=r(4151),p=c((function(e){var t=this;return new e((function(r,n){var o=function(e){t.done=!0,n(e)},s=function(){try{e.resolve(a(i(t.next,t.iterator))).then((function(e){try{a(e).done?(t.done=!0,r(u(void 0,!0))):t.remaining?(t.remaining--,s()):r(u(e.value,!1))}catch(e){o(e)}}),o)}catch(e){o(e)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:d},{drop:function(e){a(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},2886:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return i(this,e)}})},1139:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(9693),l=r(8986),c=r(9296),u=r(9462),d=r(7897),p=r(4151),h=c((function(e){var t=this,r=t.iterator,n=t.predicate;return new e((function(a,l){var c=function(e){t.done=!0,l(e)},p=function(e){d(r,c,e,c)},h=function(){try{e.resolve(o(i(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,a(u(void 0,!0));else{var i=r.value;try{var l=n(i,t.counter++),d=function(e){e?a(u(i,!1)):h()};s(l)?e.resolve(l).then(d,p):d(l)}catch(e){p(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}};h()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:p},{filter:function(e){return o(this),a(e),new h(l(this),{predicate:e})}})},6108:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return i(this,e)}})},3115:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(9693),l=r(8986),c=r(9296),u=r(9462),d=r(1401),p=r(7897),h=r(4151),f=c((function(e){var t=this,r=t.iterator,n=t.mapper;return new e((function(a,l){var c=function(e){t.done=!0,l(e)},h=function(e){p(r,c,e,c)},f=function(){try{e.resolve(o(i(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,a(u(void 0,!0));else{var i=r.value;try{var l=n(i,t.counter++),p=function(e){try{t.inner=d(e),g()}catch(e){h(e)}};s(l)?e.resolve(l).then(p,h):p(l)}catch(e){h(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}},g=function(){var r=t.inner;if(r)try{e.resolve(o(i(r.next,r.iterator))).then((function(e){try{o(e).done?(t.inner=null,f()):a(u(e.value,!1))}catch(e){h(e)}}),h)}catch(e){h(e)}else f()};g()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:h},{flatMap:function(e){return o(this),a(e),new f(l(this),{mapper:e,inner:null})}})},7389:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return i(this,e)}})},4085:(e,t,r)=>{"use strict";var n=r(4395),i=r(3659),a=r(6730),o=r(1401),s=r(2179),l=r(3525);n({target:"AsyncIterator",stat:!0,forced:r(4151)},{from:function(e){var t=o("string"==typeof e?i(e):e);return a(s,t.iterator)?t.iterator:new l(t)}})},2392:(e,t,r)=>{"use strict";var n=r(4395),i=r(7073);n({target:"AsyncIterator",proto:!0,real:!0,forced:r(4151)},{map:i})},2625:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(9693),l=r(9406),c=r(8986),u=r(7897),d=l("Promise"),p=TypeError;n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){o(this),a(e);var t=c(this),r=t.iterator,n=t.next,l=arguments.length<2,h=l?void 0:arguments[1],f=0;return new d((function(t,a){var c=function(e){u(r,a,e,a)},g=function(){try{d.resolve(o(i(n,r))).then((function(r){try{if(o(r).done)l?a(new p("Reduce of empty iterator with no initial value")):t(h);else{var n=r.value;if(l)l=!1,h=n,g();else try{var i=e(h,n,f),u=function(e){h=e,g()};s(i)?d.resolve(i).then(u,c):u(i)}catch(e){c(e)}}f++}catch(e){a(e)}}),a)}catch(e){a(e)}};g()}))}})},7740:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return i(this,e)}})},4342:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(9296),u=r(9462),d=r(4151),p=c((function(e){var t,r=this,n=r.iterator;if(!r.remaining--){var o=u(void 0,!0);return r.done=!0,void 0!==(t=n.return)?e.resolve(i(t,n,void 0)).then((function(){return o})):o}return e.resolve(i(r.next,n)).then((function(e){return a(e).done?(r.done=!0,u(void 0,!0)):u(e.value,!1)})).then(null,(function(e){throw r.done=!0,e}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:d},{take:function(e){a(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},2767:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return i(this,void 0,[])}})},585:(e,t,r)=>{"use strict";var n=r(4395),i=r(1923),a=r(9406),o=r(8117),s=r(1747),l=r(5953),c=r(8881),u=r(6248),d=r(6387),p=r(2417),h=r(7591),f=a("SuppressedError"),g=ReferenceError,v=d("dispose"),m=d("toStringTag"),y="DisposableStack",b=p.set,_=p.getterFor(y),w="sync-dispose",S="disposed",C=function(e){var t=_(e);if(t.state===S)throw new g(y+" already disposed");return t},k=function(){b(s(this,I),{type:y,state:"pending",stack:[]}),i||(this.disposed=!1)},I=k.prototype;c(I,{dispose:function(){var e=_(this);if(e.state!==S){e.state=S,i||(this.disposed=!0);for(var t,r=e.stack,n=r.length,a=!1;n;){var o=r[--n];r[n]=null;try{o()}catch(e){a?t=new f(e,t):(a=!0,t=e)}}if(e.stack=null,a)throw t}},use:function(e){return h(C(this),e,w),e},adopt:function(e,t){var r=C(this);return o(t),h(r,void 0,w,(function(){t(e)})),e},defer:function(e){var t=C(this);o(e),h(t,void 0,w,e)},move:function(){var e=C(this),t=new k;return _(t).stack=e.stack,e.stack=[],e.state=S,i||(this.disposed=!0),t}}),i&&u(I,"disposed",{configurable:!0,get:function(){return _(this).state===S}}),l(I,v,I.dispose,{name:"dispose"}),l(I,m,y,{nonWritable:!0}),n({global:!0,constructor:!0},{DisposableStack:k})},6508:(e,t,r)=>{"use strict";var n=r(4395),i=r(1848),a=r(1747),o=r(6469),s=r(8173),l=r(4483),c=r(6248),u=r(4676),d=r(8462),p=r(1551),h=r(6387),f=r(7092).IteratorPrototype,g=r(1923),v=r(4151),m="constructor",y="Iterator",b=h("toStringTag"),_=TypeError,w=i[y],S=v||!s(w)||w.prototype!==f||!d((function(){w({})})),C=function(){if(a(this,f),l(this)===f)throw new _("Abstract class Iterator not directly constructable")},k=function(e,t){g?c(f,e,{configurable:!0,get:function(){return t},set:function(t){if(o(this),this===f)throw new _("You can't redefine this property");p(this,e)?this[e]=t:u(this,e,t)}}):f[e]=t};p(f,b)||k(b,y),!S&&p(f,m)&&f[m]!==Object||k(m,C),C.prototype=f,n({global:!0,constructor:!0,forced:S},{Iterator:C})},7255:(e,t,r)=>{"use strict";var n=r(7609),i=r(5953),a=r(3743),o=r(1551),s=r(6387),l=r(7092).IteratorPrototype,c=s("dispose");o(l,c)||i(l,c,(function(){var e=a(this,"return");e&&n(e,this)}))},3086:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(2160),u=r(4151),d=c((function(){for(var e,t=this.iterator,r=this.next;this.remaining;)if(this.remaining--,e=a(i(r,t)),this.done=!!e.done)return;if(e=a(i(r,t)),!(this.done=!!e.done))return e.value}));n({target:"Iterator",proto:!0,real:!0,forced:u},{drop:function(e){a(this);var t=l(s(+e));return new d(o(this),{remaining:t})}})},7439:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{every:function(e){o(this),a(e);var t=s(this),r=0;return!i(t,(function(t,n){if(!e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1408:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(8986),l=r(2160),c=r(9832),u=r(4151),d=l((function(){for(var e,t,r=this.iterator,n=this.predicate,a=this.next;;){if(e=o(i(a,r)),this.done=!!e.done)return;if(t=e.value,c(r,n,[t,this.counter++],!0))return t}}));n({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return o(this),a(e),new d(s(this),{predicate:e})}})},674:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{find:function(e){o(this),a(e);var t=s(this),r=0;return i(t,(function(t,n){if(e(t,r++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7471:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(8986),l=r(8304),c=r(2160),u=r(9273),d=r(4151),p=c((function(){for(var e,t,r=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=o(i(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){u(r,"throw",e)}if(e=o(i(this.next,r)),this.done=!!e.done)return;try{this.inner=l(n(e.value,this.counter++),!1)}catch(e){u(r,"throw",e)}}}));n({target:"Iterator",proto:!0,real:!0,forced:d},{flatMap:function(e){return o(this),a(e),new p(s(this),{mapper:e,inner:null})}})},9397:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){o(this),a(e);var t=s(this),r=0;i(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},2426:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(3659),o=r(6730),s=r(7092).IteratorPrototype,l=r(2160),c=r(8304),u=r(4151),d=l((function(){return i(this.next,this.iterator)}),!0);n({target:"Iterator",stat:!0,forced:u},{from:function(e){var t=c("string"==typeof e?a(e):e,!0);return o(s,t.iterator)?t.iterator:new d(t)}})},6806:(e,t,r)=>{"use strict";var n=r(4395),i=r(2563);n({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{map:i})},1978:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986),l=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){o(this),a(e);var t=s(this),r=arguments.length<2,n=r?void 0:arguments[1],c=0;if(i(t,(function(t){r?(r=!1,n=t):n=e(n,t,c),c++}),{IS_RECORD:!0}),r)throw new l("Reduce of empty iterator with no initial value");return n}})},8245:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{some:function(e){o(this),a(e);var t=s(this),r=0;return i(t,(function(t,n){if(e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7331:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(2160),u=r(9273),d=r(4151),p=c((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,u(e,"normal",void 0);var t=a(i(this.next,e));return(this.done=!!t.done)?void 0:t.value}));n({target:"Iterator",proto:!0,real:!0,forced:d},{take:function(e){a(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},6496:(e,t,r)=>{"use strict";var n=r(4395),i=r(6469),a=r(2201),o=r(8986),s=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(o(i(this)),s,{that:e,IS_RECORD:!0}),e}})},1166:(e,t,r)=>{"use strict";var n=r(4395),i=r(6469),a=r(147),o=r(3525),s=r(8986);n({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{toAsync:function(){return new o(s(new a(s(i(this)))))}})},2359:(e,t,r)=>{"use strict";r(8140)},7472:(e,t,r)=>{"use strict";r(9983)},7322:(e,t,r)=>{"use strict";r(6276)},6539:(e,t,r)=>{"use strict";r(9297)},8866:(e,t,r)=>{"use strict";r(6816)},9701:(e,t,r)=>{"use strict";r(6756)},5102:(e,t,r)=>{"use strict";r(960)},2373:(e,t,r)=>{"use strict";r(9301)},1853:(e,t,r)=>{"use strict";r(1516)},5030:(e,t,r)=>{"use strict";r(705)},8855:(e,t,r)=>{"use strict";var n=r(4395),i=r(1848),a=r(6730),o=r(4483),s=r(5273),l=r(744),c=r(9543),u=r(1384),d=r(4127),p=r(2519),h=r(9766),f=r(6387),g=r(8462),v=r(4151),m=i.SuppressedError,y=f("toStringTag"),b=Error,_=!!m&&3!==m.length,w=!!m&&g((function(){return 4===new m(1,2,3,{cause:4}).cause})),S=_||w,C=function(e,t,r){var n,i=a(k,this);return s?n=!S||i&&o(this)!==k?s(new b,i?o(this):k):new m:(n=i?this:c(k),u(n,y,"Error")),void 0!==r&&u(n,"message",h(r)),p(n,C,n.stack,1),u(n,"error",e),u(n,"suppressed",t),n};s?s(C,b):l(C,b,{name:!0});var k=C.prototype=S?m.prototype:c(b.prototype,{constructor:d(1,C),message:d(1,""),name:d(1,"SuppressedError")});S&&!v&&(k.constructor=C),n({global:!0,constructor:!0,arity:3,forced:S},{SuppressedError:C})},6845:(e,t,r)=>{"use strict";var n=r(1848),i=r(6220),a=r(615).f,o=r(5983).f,s=n.Symbol;if(i("dispose"),s){var l=o(s,"dispose");l.enumerable&&l.configurable&&l.writable&&a(s,"dispose",{value:l.value,enumerable:!1,configurable:!1,writable:!1})}},1085:(e,t,r)=>{"use strict";r(1825)},7594:(e,t,r)=>{"use strict";r(4774)},1374:(e,t,r)=>{"use strict";r(1519)},8471:(e,t,r)=>{"use strict";r(8348)},2539:(e,t,r)=>{"use strict";r(3457)},9235:(e,t,r)=>{"use strict";var n=r(1759),i=r(9110),a=r(4107),o=r(3663),s=r(3442),l=r(6521),c=r(8462),u=n.aTypedArray,d=n.getTypedArrayConstructor,p=n.exportTypedArrayMethod,h=Math.max,f=Math.min;p("toSpliced",(function(e,t){var r,n,c,p,g,v,m,y=u(this),b=d(y),_=i(y),w=o(e,_),S=arguments.length,C=0;if(0===S)r=n=0;else if(1===S)r=0,n=_-w;else if(n=f(h(l(t),0),_-w),r=S-2){p=new b(r),c=a(p);for(var k=2;k<S;k++)g=arguments[k],p[k-2]=c?s(g):+g}for(m=new b(v=_+r-n);C<w;C++)m[C]=y[C];for(;C<w+r;C++)m[C]=p[C-w];for(;C<v;C++)m[C]=y[C+n-r];return m}),!!c((function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return 2!==t[0]||3!==t[1]})))},7209:(e,t,r)=>{"use strict";r(6939)},4844:(e,t,r)=>{var n=r(5803);n.keys().forEach((e=>{d[e.substr(2)]=n(e)}))},8071:(e,t,r)=>{"use strict";r.r(t);r(1474),r(7311),r(4240),r(7119),r(3509),r(2004),r(8971),r(8140),r(7788),r(5164),r(6406),r(1410),r(7638),r(6303),r(1825),r(2220),r(1519),r(4774),r(1520),r(2663),r(5388),r(5601),r(1034),r(2359),r(1085),r(1374),r(7594),r(8855),r(5794),r(2985),r(6384),r(1772),r(2802),r(69),r(6750),r(6062),r(3131),r(4752),r(9435),r(2886),r(1139),r(6108),r(3115),r(7389),r(4085),r(2392),r(2625),r(7740),r(4342),r(2767),r(585),r(6508),r(7255),r(3086),r(7439),r(1408),r(674),r(7471),r(9397),r(2426),r(6806),r(1978),r(8245),r(7331),r(6496),r(1166),r(7472),r(7322),r(6539),r(8866),r(9701),r(5102),r(2373),r(1853),r(5030),r(6845),r(8471),r(2539),r(9235),r(7209);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var e=!1,t=null;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform){if("ios"===r.g.__wxConfig.platform.toLowerCase()){e=!0;var n=r.g.__wxConfig.system||"";t=n.startsWith("iOS ")?n.substr(4):null}}else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var i=navigator.userAgent.toLowerCase();if(i.indexOf("iphone")>=0||i.indexOf("ipad")>=0){e=!0;var a=/iphone os ([\d_]+)/.exec(i);t=a?a[1].replace(/_/g,"."):null}}var o,s=[];e&&(null!==t&&(o=t.split(".")[0],parseInt(o,10)>=16)||(r.g.Promise=void 0),s.push("Promise")),r(9762)({usePolyfill:s,useNative:["WeakMap"]}),r(8071),r(4844),delete r.g.__polyfill_injecting})()})();var p=!1,h=function(e){e()},f,g;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};(()=>{e.d(t,{default:()=>ot});var r={};e.r(r),e.d(r,{convertToErrorObj:()=>Z,emitFrameworkError:()=>ne,emitUnhandledError:()=>ie,emitUnhandledRejection:()=>ee,onFrameworkError:()=>oe,onUnhandledError:()=>se,onUnhandledRejection:()=>ae});var n=e.g.__wxLibrary,i=e.g.__wxConfig,o=n.envType,s=n.contextType,l="Service"===o,d="WebView"===o,p="Worker"===o,h=d||l&&0===s.indexOf("App:"),g=l&&0===s.indexOf("Game:"),v=0===s.indexOf("MagicBrush:"),m=!!i.isIsolateContext,b=m&&l&&s.indexOf("MainContext")>=0,_=m&&l&&s.indexOf("SubContext")>=0,C=_&&s.indexOf("Safe")>=0,k=b||_,I="wxlib"===i.workerContentType,P=d||b||C||I,A=function(e){var t=i.platform;if(!t&&"object"==typeof window&&"string"==typeof(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)){var r=window.navigator.userAgent.toLowerCase();r.indexOf("devtools")>=0?t="devtools":r.indexOf("miniprogramenv/windows")>=0?t="windows":r.indexOf("miniprogramenv/mac")>=0?t="mac":r.indexOf("miniprogramenv/mina")>=0?t="mina":r.indexOf("iphone")>=0||r.indexOf("ipad")>=0?t="ios":r.indexOf("android")>=0&&(t="android")}return(t||"unknown").toLowerCase()}(),x=a,T=void 0===x||"develop"===x.version?"9.9.9":x.version,E=!!n.mayHaveSnapshot,M=(()=>"object"==typeof e.g&&e.g&&e.g.__wkrenderer_h5)();const R={platform:A,SDKVersion:T,isIsolateContext:k,isGame:g,isApp:h,isMainContext:b,isSubContext:_,isSafeEnv:P,isService:l,isWebView:d,isWorker:p,isWidget:!1,typeStr:_?"SubContext":o,fileName:n.fileName,isWXLibWorker:I,workerType:"user",contextName:"",mayHaveSnapShot:E,isWKGame:!!M,isMagicBrushFrameEnv:v};var O=()=>{},D="devtools"===R.platform;"undefined"!=typeof performance&&performance.now;function L(e,t=(()=>O)){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function N(){var t=f||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var $=()=>{},j=["log","info","warn","error","debug"];const F=L(j);var W=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],U=(()=>{var e=L(W);return e})();const V=U;var q=Symbol("error"),z=Symbol("slow");class G{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(q,e),this}onSlow(e){return this.onInternalEvent(z,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var i,a=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();i=o.cb(...r);var l=Date.now();l-s>G.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(z,e,s,l,o.cb)}catch(t){if(!this.emitPrivate(q,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(a=!0),!1===i&&t.cancelable)break}return a&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var i={count:r,cb:t},a=this.$[e];return a?n.prepend?a.unshift(i):a.push(i):this.$[e]=[i],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}G.SLOW_CALLBACK_THRESHOLD=50;var H=new G,K="unhandlederror",J="unhandledrejection",X="frameworkerror",Y=new WeakMap;var Q=Object.prototype.hasOwnProperty;function Z(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function ee(e,t){e=Z(e),Ue.onLoad((()=>{H.emit(J,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}))}var te=!1,re=!1;function ne(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=Z(e),f.isSnapshoting)throw e;Ue.onLoad((()=>{if(te)console.error("[ErrorHandler] recursive framework error detected.",e);else{te=!0;try{H.emit(X,e)||ie(e)}catch(e){console.error("Framework",e)}te=!1}}))}function ie(e){if(e=Z(e),f.isSnapshoting)throw e;Ue.onLoad((()=>{if(re)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{re=!0;try{H.emit(K,e)||("windows"!==f.platform&&"mac"!==f.platform||"undefined"==typeof WORKER_RUNTIME||!WORKER_RUNTIME||4!==f.appType)&&console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}re=!1}}))}function ae(e){H.on(J,e)}function oe(e){H.on(X,e)}function se(e){H.on(K,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener&&"ios"!==R.platform?(e.addEventListener("unhandledrejection",(e=>{ee(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,n;ie(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(n=r.userAgent)||void 0===n?void 0:n.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;Q.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(Y.has(r)||setTimeout((()=>{var e=Y.get(r);0===(null==e?void 0:e.type)&&ee(e.reason,e.promise),Y.delete(r)}),0),Y.set(r,t))):ee(e.reason,e.promise)}})}(e.g);var le,ce=JSON.parse,ue=JSON.stringify,de=9782784e5;function pe(e){return ce(ue(e))}function he(e){e.platform=R.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=R.SDKVersion,e.isReady=!1,e.onReady=Ue.onStart}function fe(e){var t;he(e),R.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var r=null===(t=a.debugOptions)||void 0===t?void 0:t.overwriteExpt;e.expt=r?Object.assign(e.expt||{},r):e.expt||{}}function ge(e){if(fe(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=function(e){if(!e)return 0;var t=(new Date).getTimezoneOffset()/60;return e+de-3600*t*1e3}(e.appLaunchInfo.clickTimestampInMs),r=Number.MAX_SAFE_INTEGER,n=e.instanceId;if(n)try{var i=n.split("&").filter((e=>0===e.indexOf("ts=")));i.length>0&&(r=parseInt(i[0].slice(3),10))}catch(e){ne(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0}var ve=!(null===(le=a.features)||void 0===le||!le.pruneWxConfigByPage),me=Object.defineProperty,ye=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function be(e,t,r,n){me(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{return"function"!=typeof n?n:n()}catch(e){return void ne(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var _e=Array.isArray,we=Reflect.set,Se=Reflect.get;var Ce=R.isSafeEnv,ke=Object.create(null),Ie=R.isService?function(e){return new Proxy(e,{set(e,t,r,n){if("__siblings__"===t)return we(e,t,r,n);var i=Se(e,"__siblings__",n);if(_e(i)){i.length>1&&F.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`);for(var a=0;a<i.length;a++){var o=i[a];we(o,t,r)}return!0}return we(e,t,r,n)}})}(ke):ke,Pe=e=>{},Ae="wxConfig:updatePage";function xe(t,r=!1){return Pe(!1),ke.currentPhase="onStart",void 0===t||(r?(Object.assign(ke,t),Object.defineProperty(ke,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(ke,Ce?t:pe(t)),ge(ke),function(t,r){var n;Array.isArray(null==t||null===(n=t.tabBar)||void 0===n?void 0:n.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var i=t.subPackages||t.subpackages;Array.isArray(i)&&i.length>0&&(i.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=i),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),ve&&(R.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(ke,((e,t)=>{Ue.emit(Ae,{key:e,value:t})})),Object.defineProperty(ke,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(ke.__siblings__)&&ke.__siblings__.push(ke),ke.onPageUpdate((({key:e,value:t})=>{ke.page=ke.page||{},ke.page[e]=ke.page[e+".html"]=t,n&&(n[e+".html"]=pe(t))})),Ce||(n=function(){var t=e.g.__wxConfig,r={},n={},i=ve?{}:t.page||{};try{be(n,r,"deprecated",!0),ye.forEach((e=>{if(e in t){var a=t[e];switch(e){case"page":be(n,r,e,i);break;case"env":be(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:a.USER_DATA_PATH})));break;case"accountInfo":be(n,r,e,{appId:a.appId,icon:a.icon,nickname:a.nickname});break;case"appLaunchInfo":be(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),B&&"function"==typeof B.getLaunchOptionsSync?B.getLaunchOptionsSync():{})));break;case"wxAppInfo":be(n,r,e,{maxRequestConcurrent:a.maxRequestConcurrent,maxUploadConcurrent:a.maxUploadConcurrent,maxDownloadConcurrent:a.maxDownloadConcurrent,maxWorkerConcurrent:a.maxWorkerConcurrent,maxWebsocketConnect:a.maxWebsocketConnect});break;default:be(n,r,e,a)}}})),e.g.__wxConfig=n}catch(r){ne(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return i}())),Ie;var n}var Te=new G,Ee=new G,Me={},Re="WeixinJSBridgeReady",Oe="libraryEnd",De="load",Le="postLoad",Ne="start",Be="postStart";function $e(e,t){var r=void 0!==w,n=()=>{try{r&&w.traceBegin("Framework",`LibLifeCycle.${e} @ ${R.fileName}`),t(Me[e])}catch(t){ne(t,"LifeCycle."+e)}finally{r&&w.traceEnd()}};e in Me?n():Ee.once(e,n)}function je(e,t){var r,n;if(e in Me)return!1;Me[e]=t,null===(r=y)||void 0===r||r.info(`[LifeCycle] emit ${e} for ${R.fileName}`);var i=Ee.emit(e,t);return null===(n=y)||void 0===n||n.info(`[LifeCycle] finish ${e} for ${R.fileName}`),i}var Fe,We=e=>{R.mayHaveSnapShot?$e(De,e):e()},Ue={EventEmitter:G,on:Te.on.bind(Te),emit:Te.emit.bind(Te),once:Te.once.bind(Te),off:Te.off.bind(Te),getIsLoaded:()=>De in Me,getIsStarted:()=>Ne in Me,onBridgeReady(e){$e(Re,e)},setWeixinJSBridge(e){je(Re,e)},onLibraryEnd:$e.bind(null,Oe),onCreate(e){e()},onLoadInstant:We,onLoad:We,_onPostLoad:$e.bind(null,Le),onStart:$e.bind(null,Ne),onPostStart:$e.bind(null,Be)};Ee.onError(((e,t)=>{F.error(`[LifeCycle/${R.typeStr}] ${e.toString()} failed: `,t),ne(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,n)=>{V.warn(`[LifeCycle/${R.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${n+""}`)})),e.g.__wxLibrary.onEnd=function(){je(Oe),R.mayHaveSnapShot||ze()},Fe=e.g.__wxConfig,ke.currentPhase="onCreate",void 0===Fe||(Pe(!1),Object.assign(ke,Ce?Fe:pe(Fe)),he(ke),Pe(!0));var Ve=!1,qe=!1;function ze(){Ve||qe?ne(new Error(`LifeCycle error: undesired onLoad(${Ve}/${qe})`)):(Ve=!0,f=function(e){return ke.currentPhase="onLoad",void 0===e||(Pe(!1),Object.assign(ke,Ce?e:pe(e)),ke.onPageUpdate=Ue.on.bind(null,Ae),fe(ke),Pe(!0)),Ie}(e.g.__wxConfig),je(De,f),R.isSubContext?f.__readyHandler=e=>{Ge(e,!0)}:!0===f.preload?Ue.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{Ge(e.g.__wxConfig)}))})):Ue.onLibraryEnd((()=>{Ge(e.g.__wxConfig)})),je(Le,f))}function Ge(e,t=!1){if(Ve&&!qe){qe=!0;var r=Date.now();"onReadyStart"in(f=xe(e,t))||(f.onReadyStart=r),je(Ne,f),f.onReadyEnd=Date.now(),je(Be,f)}else ne(new Error(`LifeCycle error: undesired onStart(${Ve}/${qe})`))}(f=Ie).isSnapshoting?(R.mayHaveSnapShot,e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,f.isSnapshoting=!1,ze()}}):R.mayHaveSnapShot&&Ue.onLibraryEnd(ze);class He{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:$}}var Ke={ALL:new He(Number.MIN_VALUE,"ALL"),DEBUG:new He(5e3,"DEBUG",console.debug),LOG:new He(1e4,"LOG",console.log),INFO:new He(2e4,"INFO",console.info),WARN:new He(3e4,"WARN",console.warn),ERROR:new He(4e4,"ERROR",console.error),OFF:new He(Number.MAX_VALUE,"OFF")},Je=(e,t)=>({debug:e(Ke.DEBUG,t),log:e(Ke.LOG,t),info:e(Ke.INFO,t),warn:e(Ke.WARN,t),error:e(Ke.ERROR,t)}),Xe=Ke.INFO,Ye=(()=>{if(R.isWorker||R.isWidget||R.isMagicBrushFrameEnv){return Object.assign({createLogger:function(){return F}},F)}return R.isSubContext&&R.isIsolateContext?(e=[],t=(t,r)=>(...n)=>{e.push({level:t,logs:n,category:r})},r=()=>{setTimeout((()=>{var t=y.__isFromMainContext?y.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},Ue.onStart(r),{...Je(t),createLogger:e=>Je(t,"string"==typeof e?e:"default"),__isFromMainContext:!1}):(()=>{var e=R.platform,t="android"!==e,r=[],n=function(t){var r=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2),i=("0"+t.getHours()).slice(-2),a=("0"+t.getMinutes()).slice(-2),o=("0"+t.getSeconds()).slice(-2),s=("00"+t.getMilliseconds()).slice(-3),l=t.getFullYear()+"-"+r+"-"+n,c=i+":"+a+":"+o+"."+s;return"ios"===e?l+" "+c+"000"+(t.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):l+" "+(t.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+c},i=function(t){"android"!==e?S.invoke("systemLog",{dataArray:t.map((e=>({message:`\n${n(e.date)} [${e.level.type[0].toUpperCase()}][wxapplib]] ${e.content}`}))),noCallback:!0}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},a=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},o=function(e,n){return function(...o){var s;if(n&&Array.prototype.unshift.call(o,"["+n+"]"),(N()||e.num>=Ke.WARN.num)&&(null===(s=F[e.type.toLowerCase()])||void 0===s||s.call(F,...o)),e.num>=Xe.num){var l=Array.prototype.slice.call(o).map(a).join(" ");if(t){var c=new Date;r&&r.length>1024&&r.shift(),r.push({date:c,level:e,content:l})}else i([{level:e,content:l}])}}};return Ue.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(i(r),r=[])}),4e3)})),{...Je(o),createLogger:function(e){return Je(o,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:n}=e;o(t,n)(...r)}))},__isFromMainContext:!0}})();var e,t,r})();Ue.onLoad((()=>{Ye.info(`[BaseLibVersion] ${R.fileName}: ${a.version} (${a.updateTime})}`)}));const Qe=Ye;const Ze=L(["log","info","warn","error"],(e=>function(...t){(D||N())&&console[e]("[system]",...t)}));var et;function tt(){return et||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}Ue.onLoad((()=>{et=tt()}));var rt=Object.create(null);Object.defineProperty(rt,"WebAssembly",{enumerable:!0,get:tt});const nt=rt;var it=e.g,at={env:R,global:it,get isConfigReady(){return Ue.getIsStarted()},get isStarted(){return Ue.getIsStarted()},get isLoaded(){return Ue.getIsLoaded()},...Ue,...r,wxConsole:F,wxPerfConsole:V,wxNativeConsole:Qe,libConsole:Ze,libGlobal:nt,globalShare:{},callbackReporter:{}};void 0!==c&&(u=function(){return"return this"===arguments[arguments.length-1]?function(){return it}:new c(...arguments)},u.prototype=c.prototype);const ot=at})(),g=t.default})();var v=g.wxConsole,m=g.wxPerfConsole,y=g.wxNativeConsole,b=g.libConsole,_=g.libGlobal,w,S,C,k,I,P,A,x,T;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{e.d(t,{default:()=>n});var r={traceBegin(){},traceEnd(){},traceInstant(){}};g.onLoad((()=>{"undefined"!=typeof TraceGlobal?(r.traceBegin=TraceGlobal.traceBegin,r.traceEnd=TraceGlobal.traceEnd,r.traceInstant=TraceGlobal.traceInstant):y.warn("[Trace] TraceGlobal not found")}));const n=r})(),w=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>ye});class r{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}}class n{constructor(e=1){this.id=e,this.$={}}add(e){var t=this.id++;return this.$[t]="function"==typeof e?e:1,t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t,e)}}}class i{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];if("function"==typeof r)r(...t);else if(Math.random()<.01){var n="";try{n=JSON.stringify(t[0]||{}).replace(/,/g,";")}catch(e){n=e.message}S.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-3: "+e+" "+n,g.env.SDKVersion,f.appType].join(",")}],noCallback:!0})}}}class a{constructor(e){this.onNewEvent=e,this.$={},this.$e=new g.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}var o=!1,s=!1,l=!1,c=!1,d=!1,p=!1,h=!1,v=.01,m=!1,b=!1,_=!1,w=new Map,k={},I={},P={};function A(e,t,r){var n;g.env.isService?n=1:g.env.isWebView?n=2:g.env.isWorker&&(n=3);var i=[g.env.SDKVersion,f.appType,1,n,0,e,t.replace(/,/g,";"),r,o?2:1].join(",");S.invoke("reportKeyValue",{dataArray:[{key:32334,value:i}],noCallback:!0})}function x(){if(!s&&(g.env.isService||g.env.isWebView||g.env.isWorker)&&(s=!0,m=Math.random()<v)){var e=e=>{var t=Object.values(k).map((t=>{var r=t.name,{count:n,totalJsHandleCost:i,totalClientToJsCost:a,syncReturn:o}=k[r],s=+(i/n).toFixed(2),l=+(a/n).toFixed(2);if(e){var c=e[r];return{n:r,c:n,t:l,j:s,s:o?1:0,i:null==c?void 0:c[0],a:null==c?void 0:c[1]}}return{n:r,c:n,t:l,j:s,s:o?1:0}}));return k={},JSON.stringify(t)};setTimeout((()=>{"android"===f.platform&&(g.env.isService||g.env.isWebView)?S.invoke("getInvokeCost",{},(t=>{var r=t.data||{};A(1,e(r),1e4)})):A(1,e(),1e4)}),1e4),setTimeout((()=>{(d=!0,w.clear(),"android"===f.platform)?(S.invoke("getInvokeCost",{},(t=>{var r=t.data||{};A(1,e(r),2e4)})),S.invoke("stopCollectInvokeCost",{noCallback:!0})):A(1,e(),2e4)}),2e4)}}function T(){if(!l&&(g.env.isService||g.env.isWebView||g.env.isWorker)&&(l=!0,_=Math.random()<v)){var e=()=>{var e=Object.values(I).map((e=>{var t=e.name,{count:r,totalJsHandleCost:n,totalClientToJsCost:i}=I[t],a=+(n/r).toFixed(2);return{n:t,c:r,t:+(i/r).toFixed(2),j:a}}));return I={},JSON.stringify(e)};setTimeout((()=>{A(3,e(),1e4)}),1e4),setTimeout((()=>{p=!0,A(3,e(),2e4)}),2e4)}}function E(){if(!c&&(g.env.isService||g.env.isWebView||g.env.isWorker)&&(c=!0,b=Math.random()<v)){var e=()=>{var e=Object.values(P).map((e=>{var t=e.name,{count:r,totalJsHandleCost:n,totalClientToJsCost:i}=P[t],a=+(n/r).toFixed(2);return{n:t,c:r,t:+(i/r).toFixed(2),j:a}}));return P={},JSON.stringify(e)};setTimeout((()=>{A(2,e(),1e4)}),1e4),setTimeout((()=>{h=!0,A(2,e(),2e4)}),2e4)}}function M(e,t,r,n){if(m&&!d&&(g.env.isService||g.env.isWebView||g.env.isWorker)){var i=Date.now(),a=0;return null!=n&&n.nativeTime&&(a=i-n.nativeTime),r||(r=w.get(e),w.delete(e)),{jsapiName:r,jsHandleBegin:i,clientToJsCost:a}}}function R(e,t,r,n=!1,i){if(m&&!d&&(g.env.isService||g.env.isWebView||g.env.isWorker)){var a=Date.now()-t;if(k[e]?(k[e].count++,k[e].totalJsHandleCost+=a,k[e].totalClientToJsCost+=r):k[e]={count:1,totalJsHandleCost:a,totalClientToJsCost:r,syncReturn:n,name:e},!e&&Math.random()<.01){var o="";try{o=JSON.stringify(i).replace(/,/g,";")}catch(e){o=e.message}S.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-1: "+o,g.env.SDKVersion,f.appType].join(",")}],noCallback:!0})}}}function O(e,t){if(_){var r=0,n=0;return!p&&(g.env.isService||g.env.isWebView||g.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(n=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:n}}}function D(e,t){if(_&&!p&&(g.env.isService||g.env.isWebView||g.env.isWorker)){var r=Date.now()-t.jsHandleBegin;I[e]?(I[e].count++,I[e].totalJsHandleCost+=r,I[e].totalClientToJsCost+=t.clientToJsCost):I[e]={count:1,totalJsHandleCost:r,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e}}}function L(e,t){if(b){var r=0,n=0;return!h&&(g.env.isService||g.env.isWebView||g.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(n=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:n}}}function N(e,t,r){if(b&&!h&&(g.env.isService||g.env.isWebView||g.env.isWorker)){var n=Date.now()-t.jsHandleBegin;if("onAppEnterBackground"===e&&(o=!0),P[e]?(P[e].count++,P[e].totalJsHandleCost+=n,P[e].totalClientToJsCost+=t.clientToJsCost):P[e]={count:1,totalJsHandleCost:n,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e},!e&&Math.random()<.01){var i="";try{i=JSON.stringify(r).replace(/,/g,";")}catch(e){i=e.message}S.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-2: "+i,g.env.SDKVersion,f.appType].join(",")}],noCallback:!0})}}}var B=()=>d,$=()=>{var e,t=!1;if("android"===f.platform)t="1"===(null===(e=f)||void 0===e?void 0:e.expt.clicfg_appbrand_android_jsapi_nocallback);else if("ios"===f.platform){var r;t="1"===(null===(r=f)||void 0===r?void 0:r.expt.clicfg_appbrand_ios_jsapi_nocallback)}return t};g.callbackReporter={initJsapiCallbackReport:x,initEventCallbackReport:E,jsapiCallbackBegin:M,jsapiCallbackEnd:R,eventCallbackBegin:L,eventCallbackEnd:N};var j=()=>{},F=JSON.parse,W=JSON.stringify,U="custom_event_",V=0,q=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function z(t){var r=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),a=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=j),g.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:j,invokeThirdHandler:j},V=1<<25),e.g.WeixinJSCore={invokeHandler:j,publishHandler:j,setTimerHandler:j,clearTimerHandler:j,readLibSync:j,readLibXWebScriptSync:j},t}(),o=new n(V),s=new i,l=new i;function c(e,t,r){if(void 0!==e&&o.has(t)&&""!==e&&null!==e){if(x(),"string"==typeof e)try{e=F(e),e=C.unpack(e)}catch(t){e={}}var n=M(t,0,void 0,r);o.callAndRemove(t,e),n&&R(n.jsapiName,n.jsHandleBegin,n.clientToJsCost,!0,e)}}var u={},d={},p=0;function h(e,t,r){var n,i=++p;u[i]=r;try{n=a.invokeThirdHandler(e,t,i)}catch(e){console.error("Third SDK Error: unexpected error:",e)}if(void 0!==n&&"function"==typeof u[i]&&""!==n&&null!==n){if("string"==typeof n)try{n=F(n)}catch(e){n={}}var o=u[i];delete u[i],"function"==typeof o&&o(n)}}var v=function(e,t){d[e]=t},m=(e,t)=>{var r=d[e];r&&r(t)},y=(e,t)=>{var r=u[e];delete u[e],"function"==typeof r&&r(t)};function b(e,n,i,o={}){if(a){var s,l,u;if("splashad"===g.env.workerType||f.supportInvokeWithAppId)s=null===(l=a.invokeHandler)||void 0===l?void 0:l.call(a,e,n,i,o);else s=null===(u=a.invokeHandler)||void 0===u?void 0:u.call(a,e,n,i);c(s,i,void 0)}else{var d={event:e,paramsString:n,callbackId:i,privateArgs:W(o)};if(t.isWebMiniGame){c(prompt("webgame_invoke",W(d)),i,void 0)}else{var p=null==r?void 0:r.messageHandlers.invokeHandler.postMessage(d);null!=p&&p.catch&&p.catch((t=>{var r=console.error.bind(console);r("webkit.messageHandlers.invokeHandler.postMessage fail"),r(`event=${e}`),r("params=",n),r("err=",t),r("err.code=",t.code),r("err.message=",t.message),r("err.name=",t.name)}))}}}return{invoke(e,r,n,i={}){var a,s,l=r;i.keepOriginalParams||t.directInvokeJS||(i.notPack?delete i.notPack:r=C.pack(r),("ios"!==f.platform||q||"1"!==(null===(s=f)||void 0===s?void 0:s.expt.clicfg_appbrand_ios_use_jsapi_args_binding))&&(l=W(r||{})));if(delete i.keepOriginalParams,null!==(a=r)&&void 0!==a&&a.noCallback&&$())return b(e,l,0,i),0;var c=o.add(n);return B()||w.set(c,e),i.highPerformance&&(i.highPerformance[c]=r,delete i.highPerformance),b(e,l,c,i),c},on(e,t){s.set(e,t)},subscribe(e,t){l.set(U+e,t)},publish(e,n,i){e=U+e;var o=i,s=n;t.directInvokeJS||(s=W(n),o=W(i)),function(e,t,n){if(a){var i;null===(i=a.publishHandler)||void 0===i||i.call(a,e,t,n)}else{var o=null==r?void 0:r.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:n});null!=o&&o.catch&&o.catch((r=>{var n=console.error.bind(console);n("webkit.messageHandlers.publishHandler.postMessage fail"),n(`event=${e}`),n("params=",t),n("err=",r),n("err.code=",r.code),n("err.message=",r.message),n("err.name=",r.name)}))}}(e,s,o)},invokeCallbackHandler:function(e,t,r){x();var n=M(e,0,void 0,r);t=C.unpack(t),o.callAndRemove(e,t),n&&R(n.jsapiName,n.jsHandleBegin,n.clientToJsCost,!1,t)},subscribeHandler:function(e,t,r,n){if(-1!==e.indexOf(U)){T();var i=O(0,n);t=C.unpack(t),l.emit(e,t,r,n||{}),(null==i?void 0:i.jsHandleBegin)&&D(e,i)}else{E();var a=L(0,n);t=C.unpack(t),s.emit(e,t,r,n||{}),(null==a?void 0:a.jsHandleBegin)&&N(e,a,t)}},get invokeThird(){return h},get onThird(){return v},get subscribeThirdHandler(){return m},get invokeThirdCallbackHandler(){return y},readLibSync:e=>{if(a.readLibSync)return a.readLibSync(e);throw new Error("readLibSync not exist")},readLibXWebScriptSync:e=>a.readLibXWebScriptSync(e)}}var G=!0,H={},K={},J=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);g.onPostStart((()=>{G=!1,H={},K={}}));var X=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var Y=null;var Q=new r,Z=Q.ready.bind(Q),ee=new a(((e,t)=>{X.has(e)?Z((r=>{r.on(e,t.emitCancelable.bind(t,e))})):Z((r=>{r.on(e,t.emit.bind(t,e))}))})),te=()=>{},re=[],ne={on(e,t){X.has(e)?ee.add(e,t):ee.setSingle(e,t)},addEventListener(e,t,r){ee.add(e,t,r)},removeEventListener(e,t){ee.remove(e,t)},invoke(e,t,r,n={}){var i=!0,a=!1,o=[],s=e=>{for(var t of(a||(i=!1),o))t(e,i);null==r||r(e)};if(Y){var l=e=>{o.push(e)};for(var c of re){var u=c(e,t,l);if(u)return u instanceof Promise?(u.then((e=>{s(e)})),!0):(s(u),!1)}Y.invoke(e,t,s,n)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`,new Error("jsbridge not ready").stack),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return a=!0,i},pureInvoke:(e,t,r,n={})=>Y.invoke(e,t,r,n),get invokeCallbackHandler(){var e;return null===(e=Y)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=Y)||void 0===e?void 0:e.subscribeHandler},publish:te,subscribe:te,addSubscribeListener:te,removeSubscribeListener:te,addInvokeInterceptor(e){return re.push(e),this},get invokeThird(){var e;return null===(e=Y)||void 0===e?void 0:e.invokeThird},get onThird(){var e;return null===(e=Y)||void 0===e?void 0:e.onThird},get invokeThirdCallbackHandler(){return null},get subscribeThirdHandler(){return null},get readLibSync(){var e;return null===(e=Y)||void 0===e?void 0:e.readLibSync},get readLibXWebScriptSync(){return Y.readLibXWebScriptSync}};g.onLoad((()=>{!function(t){if(!("devtools"===g.env.platform&&!g.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){if(g.env.isMagicBrushFrameEnv){var r,n=(null===(r=e.g.mb)||void 0===r?void 0:r.JSBridge)||e.g.JSBridge,i=n.invoke,a=Object.assign({},n,{invoke:function(...e){var t=i.apply(n,e),r=e[1];if(t&&Object.prototype.hasOwnProperty.call(t,"errCode")&&r){var a=t.errno||t.errCode,{success:o,fail:s,complete:l}=r;a?("function"==typeof s&&s(t),"function"==typeof l&&l(t)):("function"==typeof o&&o(t),"function"==typeof l&&l(t))}return t}});return e.g.WeixinJSBridge=a,t(a,!1)}var o=z({directInvokeJS:!!f.wmpfDirectInvokeJs,isWebMiniGame:!!f.isWK}),s={get invokeCallbackHandler(){return o.invokeCallbackHandler},get subscribeHandler(){return o.subscribeHandler},get subscribeThirdHandler(){return o.subscribeThirdHandler},get invokeThirdCallbackHandler(){return o.invokeThirdCallbackHandler}};return f.clientDebug&&g.onLibraryEnd((()=>{Object.assign(s,{on:ne.on,publish:ne.publish,invoke:ne.invoke,subscribe:ne.subscribe}),e.g.WeixinJSBridge=s})),e.g.WeixinJSBridge=s,t(o,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{Y=t,r&&e.g.WeixinJSBridge===S&&Object.keys(t).forEach((e=>{e in ne||(ne[e]=(...r)=>t[e](...r))})),Q.done(Y)}))})),ne.addInvokeInterceptor((e=>{if(!g.isStarted&&"splashad"!==g.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`,new Error("invoke too eayly").stack),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(("getSystemInfo"!==e||"string"!=typeof(null==t?void 0:t.type))&&G&&J.has(e)){if(e in H)return H[e];if(e in K)return K[e];if(J.has(e)){var n=new Promise((t=>{r(((r,n)=>{n?t(r):(delete K[e],H[e]=r)}))}));K[e]=n}}}));class ie{constructor(e){this.onMessage=e}dispatch(e,t,r,n={}){var i;T();var a=O(0,n);null===(i=this.onMessage)||void 0===i||i.call(this,e,t,r,n),(null==a?void 0:a.jsHandleBegin)&&D(e,a)}}class ae extends ie{publish(e,t,r=[]){var n=function(e=[]){if(Array.isArray(e)){var t=e.filter((e=>null!=e));if(0===e.length||0!==t.length)return t;y.error("[publish] unexpected broadcast detected, aborted.")}}(r);n?0===n.length?this.broadcast(e,t):this.multicast(e,t,n):y.error(`[publish] invalid target: ${r.join(",")} (event=${e})`)}}class oe extends ae{constructor(e,t){super(t),this.$=void 0,this._hasFirstTarget=!1,this._pendingBroadCast=[],this.$=e}cb(e,t,r,n={}){this.dispatch(e,t,r,n)}postMessage(e,t,r){this.flushBroadCast(),this.$.publish(e,t,[r])}multicast(e,t,r=[]){this.flushBroadCast(),this.$.publish(e,t,r)}broadcast(e,t){this._hasFirstTarget?this.$.publish(e,t,[]):this._pendingBroadCast.push([e,t])}flushBroadCast(){if(!this._hasFirstTarget){for(var[e,t]of(this._hasFirstTarget=!0,this._pendingBroadCast))this.broadcast(e,t);this._pendingBroadCast=[]}}registerEvent(e){this.$.subscribe(e,this.cb.bind(this,e))}addClient(e){}adoptPending(e,t){}}class se{constructor(e,t){this.$=e,this.onMessage=t,this.isServer=void 0,this.$.setMessageListener(this.selfId,this.cb.bind(this)),this.isServer=this.selfId===this.serverId,this.updateGroup()}get selfId(){return this.$.id}get serverId(){return this.$.serviceId}get version(){return this.$.version}waitserverId(e){this.isServer||this.serverId?e(this.serverId):g.onStart((()=>{e(this.serverId)}))}resetId(e){this.$.setMessageListener(),this.$.setMessageListener(e,this.cb.bind(this)),this.$.id=e,this.updateGroup()}pack(e,t){return{event:e,param:t,id:this.selfId,sendTime:Date.now()}}postMessage(e,t,r){this.$.postMessage(r,this.pack(e,t))}multicast(e,t,r){for(var n of r)this.postMessage(e,t,n)}broadcast(e,t){this.waitserverId((r=>{this.$.broadcastMessage(r,this.pack(e,t))}))}updateGroup(){this.isServer||this.waitserverId((e=>{this.$.addGroup(e,this.selfId)}))}cb(e){this.onMessage(e.event,e.param,e.id,{nativeTime:e.sendTime||Date.now()})}}class le extends ae{constructor(e,t){super(t),this.$=void 0,this.clients=new Set,this.pending=new Map,this.$=new se(e,this.cb.bind(this)),y.info(`[NTrans/Server] init ${e.id}(${e.version})`)}cb(e,t,r,n){this.dispatch(e,t,r,n)}postMessage(e,t,r){this.$.postMessage(e,t,r)}multicast(e,t,r){if((r=r.filter((r=>{if(this.clients.has(r))return!0;var n=this.pending.get(r);return n?Date.now()-n.initTime>3e5?n.queue=[]:n.queue.push([e,t]):this.pending.set(r,{initTime:Date.now(),queue:[[e,t]]}),!1}))).length>0)for(var n of r)this.postMessage(e,t,n)}broadcast(e,t){this.$.broadcast(e,t)}registerEvent(e){}flushQueue(e){var t=this.pending.get(e);if(t)for(var[r,n]of t.queue)this.postMessage(r,n,e);this.pending.delete(e)}addClient(e){this.clients.add(e),this.flushQueue(e)}adoptPending(e,t){var r=this.pending.get(e);r&&(this.pending.set(t,r),this.pending.delete(e))}}var ce=String.prototype.replace,ue=/["'\\]/g;new Map;var de=Symbol("error"),pe=Symbol("slow");class he{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(de,e),this}onSlow(e){return this.onInternalEvent(pe,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var i,a=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();i=o.cb(...r);var l=Date.now();l-s>he.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(pe,e,s,l,o.cb)}catch(t){if(!this.emitPrivate(de,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(a=!0),!1===i&&t.cancelable)break}return a&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var i={count:r,cb:t},a=this.$[e];return a?n.prepend?a.unshift(i):a.push(i):this.$[e]=[i],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}he.SLOW_CALLBACK_THRESHOLD=50;var fe=new r,ge=new r,ve=function(e,t,r){var n=new a((e=>{r.ready((t=>{t.registerEvent(e)}))}));return e.subscribe=function(e,t){n.setSingle(e,t)},e.addSubscribeListener=function(e,t){n.add(e,t)},e.removeSubscribeListener=function(e,t){n.remove(e,t)},e.publish=function(e,r,n){var i;i=e||"",e=ce.call(i,ue,""),t.ready((t=>{t.publish(e,r,n||[])}))},n.emit.bind(n)}(ne,fe,ge);ne.clientManager=new he;var me="[MsgCh/Server]";Z((t=>{var r,n,i,a=(r=e.g.ntrans,i=!1,(n="object"==typeof r)&&(i=!!r.serviceId,g.onStart((()=>{i=!!r.serviceId,delete e.g.ntrans}))),{ntrans:r,selfId:n?r.id:void 0,serverEnabled:n,clientEnabled:n,get serviceIdReady(){return i}}),o=a.serverEnabled;var s=new oe(t,ve);g.onStart((()=>{fe.hasValue()||(y.info(me,"preinitMessageChannel (jsbridge)"),fe.done(s))}));var l=!0;t.subscribe("jsbridge:SYNC",((r,n)=>{var i;if(n=null!==(i=r.id)&&void 0!==i?i:n,y.info(me,`recv SYNC from ${n}, publish ACK @ ${Date.now()}`),l){l=!1,a.clientEnabled=!!r.enableNTrans,o=function(t){var r=t.clientEnabled&&t.serverEnabled,n=r&&t.serviceIdReady;return e.g.__nativeTransEnabled__=n,r&&!t.serviceIdReady&&g.emitFrameworkError(new Error("Empty ntrans serverId"),"NTrans"),"android"!==f.platform||n||y.warn(`nTrans disabled. (server: ${t.serverEnabled}, client: ${t.clientEnabled})`),n}(a),y.info(me,`initMessageChannel (ntrans=${o})`);var c=o?new le(a.ntrans,ve):s;c!==s&&s.flushBroadCast(),fe.done(c),ge.done(c)}!function(e){t.publish("jsbridge:ACK",{enableNTrans:o,id:a.selfId},[e])}(n),ne.clientManager.emit("clientConnected",n,r.extra),fe.ready((e=>{e.addClient(n)}))})),ne.clientManager.on("clientIdChanged",((e,r)=>{y.info(me,`clientID changed ${e} -> ${r}, publish ACK @ ${Date.now()}`),t.publish("jsbridge:RESET",{newClientId:r},[r]),fe.ready((t=>{t.adoptPending(e,r)}))}))})),g.setWeixinJSBridge(ne);const ye=ne;S=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>_});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,a=0;a<i;a++)t+=String.fromCharCode(n[a]);return function(e){if("function"==typeof btoa)return btoa(e);for(var t,n,i=String(e),a="",o=0,s=r;i.charAt(0|o)||(s="=",o%1);a+=s.charAt(63&t>>8-o%1*8)){if((n=i.charCodeAt(o+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|n}return a}(t)}function i(e){for(var t=function(e){if("function"==typeof atob)return atob(e);var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var i,a,o=0,s=0;a=t.charAt(s++);~a&&(i=o%4?64*i+a:a,o++%4)?n+=String.fromCharCode(255&i>>(-2*o&6)):0)a=r.indexOf(a);return n}(e),n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i.buffer}var a,o=f.platform,s="ios"===o,l="android"===o||"windows"===o||"mac"===o||"mina"===o;s&&(a=e.g.WeixinNativeBuffer);var c=null;function u(e,t=!1){var r={};if(c&&!t){var i=!1,a=Object.getPrototypeOf(e);a!==ArrayBuffer.prototype&&(i=!0,Object.setPrototypeOf(e,ArrayBuffer.prototype)),r.id=c.create(e),i&&Object.setPrototypeOf(e,a)}else r.base64=n(e);return r}function d(e){if(null!=e)return c&&void 0!==e.id?c.get(e.id):void 0!==e.base64?i(e.base64):void 0}g.onLoad((()=>{c=function(e){var t=a,r=e.getNativeBufferId,n=e.setNativeBuffer,i=e.getNativeBuffer;delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer;var o=null;return l&&"function"==typeof r&&"function"==typeof n&&"function"==typeof i&&f.nativeBufferEnabled?o={create(e){var t=r();return n(t,e),t},get:e=>i(e),useCompatibleMode(){}}:s&&t&&(o={create:e=>t.new(e),get:e=>t.get(e),useCompatibleMode(e){t.useCompatibleMode(e)}}),o}(e.g)}));var p=Object.prototype.toString;function h(e){return"[object Array]"===p.call(e)}function v(e){return"[object ArrayBuffer]"===p.call(e)}function m(e,t){if(!t)return null;var r=t.split(".");if(!r.length)return null;for(var n=r[r.length-1],i=e,a=0;a<r.length-1;a++){if(!i)return null;i=i[r[a]]}return[i,n]}function y(e,t=!1,r=!1){if(null==e)return e;var n;if(t)n=function(e,t=!1){var r=[],n=new WeakMap,i=function(e,r,a=[]){var o,s=n.get(e);if(s){if(s>50)throw console.error("[SDK ERROR] worker postMessage object occur circular reference. please check your postMessage argument:",e),new Error("worker postMessage object occur circular reference");n.set(e,s+1)}else n.set(e,1);for(var l in e){var c=e[l];if(o=c,"[object Object]"===p.call(o)||h(c)){var d=[...a];d.push(l),i(c,r,d)}else if(v(c)){if(e._sabId)continue;var f=u(c,t),g=Array.prototype.concat.call(a,l).join(".");f.key=g,delete e[l],r.push(f)}}};return i(e,r),r}(e,r);else{for(var i in n=[],e){var a=e[i];if(v(a)){var o=u(a,r);o.key=i,n.push(o)}}if(n.length>0)for(var s of n)delete e[s.key]}return n.length>0&&(e.__nativeBuffers__=n),e}function b(e,t=!1,r=!1){if(null==e||null==e.__nativeBuffers__)return e;var n=e.__nativeBuffers__;delete e.__nativeBuffers__;var i=[];for(var a of n)if(null!=a){var o=d(a);if(v(o)){if(t){var s=m(e,a.key);if(!s)return;var[l,c]=s;l[c]=o}else e[a.key]=o;i.push(a.key)}}return r&&(e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=i),e}const _={new:u,get:d,useCompatibleMode:function(e){var t;null===(t=c)||void 0===t||t.useCompatibleMode(e)},pack:y,unpack:b,packPostMessage:(e,t=!1)=>y(e,!0,t),unpackPostMessage:e=>b(e,!0,!0)}})(),C=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>_});var r,n,i=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","readCompressedFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey","getPermissionBytes"],a=f.supportWorkerMultiContext||f.supoortWorkerMultiContext,o=[],s=[],l=[],c=function(e){return e?r:n},d=function(e){e=C.unpackPostMessage(e),s.forEach((t=>{"function"==typeof t&&t(e)}))},p=function(e,t){t=C.unpackPostMessage(t),o.forEach((r=>{"function"==typeof r&&r(e,t)}))},h=function(e,t){l.forEach((r=>{"function"==typeof r&&r(e,t)}))},v=(e,t)=>{n.sendMsgToAppService({__cmd__:"workerUncaughtError",__data__:e,__contextId__:t})},m=function(e,t){WORKER_RUNTIME&&a?v(e,t):g.emitUnhandledError(e)},y={get appServiceMsgHandler(){return d},get workerMsgHandler(){return p},get workerCreatedHandler(){return h},get errorHandler(){return m},get __workerId__(){return n.__workerId__}},b={create:function(e,t){var a,o,s=!(!(t=t||{}).useExperimentalWorker||!r);return s?(o=r,a=JSON.stringify(t)):(o=n,a={APIList:i,pluginId:t.PluginId}),"function"==typeof o.create?{workerId:o.create.call(o,e,a),useWKWorker:s}:{workerId:-1,useWKWorker:s}},createWXLibWorker:function(e,t){var r={APIList:i};t.APIList&&(r.APIList=i.concat(t.APIList)),t.type&&(r.type=t.type);var a=n;return"function"==typeof a.createWXLibWorker?{workerId:a.createWXLibWorker.call(a,e,JSON.stringify(r))}:{workerId:-1}},terminate:function(e,t){var r=c(t);if("function"==typeof(null==r?void 0:r.terminate)&&"number"==typeof e)return r.terminate.call(r,e)},postMsgToAppService:function(e,t){if(g.env.isWKGame)n.sendMsgToAppService(e);else if("ios"===g.env.platform&&1===Number(f.expt.clicfg_appbrand_ios_allow_worker_binding_message))e=C.packPostMessage(e,!1),n.sendMsgToAppService(e);else try{!1!==t&&(e=C.packPostMessage(e),e=JSON.stringify(e)),n.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t,r,n){var i=c(n);if(g.env.isWKGame)null==i||i.sendMsgToWorker(e,t);else if("ios"!==g.env.platform||1!==Number(f.expt.clicfg_appbrand_ios_allow_worker_binding_message)||n)try{!1!==r&&(t=C.packPostMessage(t,n),t=JSON.stringify(t)),null==i||i.postMsgToWorker(e,t)}catch(e){console.error(e)}else t=C.packPostMessage(t,!1),null==i||i.sendMsgToWorker(e,t)},onWorkerMsg:function(e){o.push(e)},onWorkerCreated:function(e){l.push(e)},onAppServiceMsg:function(e){s.push(e)},get WebAssembly(){return n.WebAssembly},isSupportWXLibWorker:function(){return"function"==typeof n.createWXLibWorker}};g.onLoadInstant((()=>{r=e.g.WeAppWorker,n=e.g.WeixinWorker,e.g.WeixinWorker=y,e.g.WeAppWorker=y,("devtools"===f.platform||"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&a)&&(b.appServiceMsgHandler=y.appServiceMsgHandler,b.workerMsgHandler=y.workerMsgHandler,b.errorHandler=y.errorHandler,b.__workerId__=y.__workerId__)}));const _=b;k=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>N});var r,n,i,a,o,s,l,c,d,p,h,v,m,b,_,w=Object.prototype.toString,S=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,{}),C={},k=[],P=0,A=[],x=(e,t,n)=>{if(void 0!==t&&void 0!==e&&e===r){var i=void 0!==n?n:++P;return m=i,C[i]=t,k.push(i),A.forEach((e=>{"function"==typeof e&&e(i)})),i}},T=(e,t,n,i)=>{if(void 0!==e&&e===r){var a=(e=>{for(var t=k.length,r=0;r<t;r++){var n=k[r];if(C[n]===e)return n}})(t);if(void 0!==a){var o=S[n];return"function"==typeof o?o(i,a):void 0}}},E=(e,t)=>{S[e]=t},M=(e,t)=>{if(void 0===d||"function"!=typeof d)return"failed: loadLibFiles not supported";if("devtools"===f.platform&&"number"!=typeof p)return"failed: loadLibFiles not supported";try{if(0===d.call(r,e,JSON.stringify(t)))throw`WAFiles: ${t} is not exist.`;return"success"}catch(e){return"failed: "+e}},R=(e,t,r)=>{if("android"===f.platform||"ios"===f.platform||"devtools"===f.platform||"windows"===f.platform||"mac"===f.platform||"mina"===f.platform){var n=Date.now(),i=M(null!=r?r:1,[e]);y.info(`inject subPackage: ${e} coast: `,Date.now()-n),t(i)}else y.error("不支持loadJSFiles")},O={},D={__init__:e=>{void 0===r&&void 0!==e&&((r=e).register=x,r.subscribeHandler=T,n=r.alloc,i=r.create,a=r.destroy,o=r.evaluateScriptFile,s=r.loadJsFiles,d=r.loadLibFiles,l=r.allocEmpty,c=r.allocFromSnapshot,p=r.mainContextId,h=r.errorHandler,r.waitingChannel={},v=r.notifyGameEngineReady,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile,delete r.loadJsFiles,delete r.loadLibFiles,delete r.allocEmpty,delete r.allocFromSnapshot,delete r.mainContextId,delete r.errorHandler,delete r.notifyGameEngineReady)},publish:(e,t={},n,i)=>{var a,o=(a=t,w.call(a).split(" ")[1].split("]")[0]);if("Object"!==o&&"Undefined"!==o)throw new Error("params should be an object.");return n.map((n=>{var a=C[n];if(a)return a.subscribeHandler(r,e,t);i&&void 0!==n&&(r.waitingChannel[n]||(r.waitingChannel[n]=[]),r.waitingChannel[n].push({event:e,params:t}))}))},subscribe:E,onRegister:e=>{A.push(e)},evaluateScriptFile:(e,t,r)=>o(e,t,r),batchLoadJsFiles:(e,t,n)=>{if(void 0===s||"function"!=typeof s)return"failed: loadJsFiles not supported";var i="devtools"===f.platform?void 0:JSON.stringify(n);try{var a=s.call(r,e,JSON.stringify(t),i);return(e=>"[object Promise]"===Object.prototype.toString.call(e))(a)?a.then((()=>"success")).catch((e=>"failed: "+e)):"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof n?n.call(r,e,t):-9999,create:(e,t)=>"function"==typeof i?i.call(r,e,t):-9999,destroy:(e,t)=>"function"==typeof a?a(e,t):-9999,isAsync:()=>r&&!0===r.async,supportAlloc:()=>"function"==typeof n,loadLibFiles:M,allocEmpty:(e,t)=>"function"==typeof l?l.call(r,e,t):-9999,supportAllocEmpty:()=>"function"==typeof l,allocFromSnapshot:(e,t)=>{if("function"==typeof c){var n=c.call(r,e,t);return n}return-9999},supportAllocFromSnapshot:()=>"function"==typeof c,loadMainContextLibFile:R,loadSubContextLibFile:(e,t,r)=>{if(r)return R(e,t,r);y.error("loadSubContextLibFile lose subContextId")},getMainContextId:()=>p,setAppSubContextId:e=>{_=e},getAppSubContextId:()=>_,convertRealId2SdkId:e=>O[e],associateRealId2SdkId:e=>{O[e]=m},errorHandler:(e,t)=>{h?h(e,t):b?b[e]=t:(b={[e]:t},E("subContextError",(({contextId:e,err:t})=>{b[e](t)})))},notifyGameEngineReady:()=>{"function"==typeof v&&v()}};var L=D;g.onLoad((()=>{"undefined"!=typeof WeixinJSContext&&(L.__init__(WeixinJSContext),delete L.__init__,delete e.g.WeixinJSContext)}));const N=L;I=t.default})(),(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}();var t=()=>{r!==f&&void 0!==r&&Object.assign(r,f)},r=(()=>(f.onReady(t),f))();const n=r;var i=(()=>n.platform)(),a=(()=>"android"===i)(),o=(()=>"ios"===i)(),s=(()=>"windows"===i)(),l=(()=>"mac"===i)(),c=(()=>s||l)();var d=["shouldShowSplashAd","onSplashAdShow","onSplashAdHide","onSplashAdClose","onSplashAdWillLayout","onSplashAdButtonClicked","showSplashAd","closeSplashAd","showSplashAdMenu","insertTextView","updateTextView","removeTextView","insertImageView","updateImageView","removeImageView","animateCoverView","onTextViewClick","onImageViewClick","insertVideoPlayer","removeVideoPlayer","updateVideoPlayer","operateVideoPlayer","onVideoProgress","onVideoTimeUpdate","onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoError","splashAdFirstStepViewLayoutStateChange","splashAdAllViewLayoutStateChange","enableSplashAdHotStart","getInstallState","getDeviceInfo","getOAID","private_addContact","launchApplication","downloadAppInternal","navigateToMiniProgram","openADCanvas","private_openUrl","batchGetContact","preloadMiniProgramEnv","predownloadMiniProgramPackage","adOperateWXData","operateWXData","reportIDKey","reportKeyValue","adDataReport","getSystemInfo","accessSync","getPermissionBytes","readFileSync","statSync","reportRealtimeAction","measureText","openChannelsActivity","openChannelsLive","openChannelsUserProfile","openChannelsRewardedVideoAd","getAdPushMsg","clearAdPushMsg","openWeComUserProfileForAd"];try{(a||o||c)&&g.onLoadInstant((()=>{var e=k.createWXLibWorker("WASplashadWorker.js",{APIList:d,type:"ad"});-1!==e.workerId&&(g.globalShare.reusableWorkerId=e.workerId)}))}catch(e){g.emitFrameworkError(e,"LifeCycle.load")}})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};function r(){S.publish(...arguments)}function n(){S.subscribe(...arguments)}e.d(t,{default:()=>z});var i=()=>{a!==f&&void 0!==a&&Object.assign(a,f)},a=(()=>(f.onReady(i),f))();const o=a;var s=(()=>o.platform)(),l=(()=>"devtools"===s)(),c=(()=>"ios"===s)();function d(){if(o&&"debug"in o&&void 0!==o.debug)return!!o.debug}var p=(()=>Object.prototype.toString)(),h=u.prototype.call.bind(p);function g(e){return h(e).slice(8,-1)}var v=e=>"Number"===g(e),m=e=>null===e,y=(()=>Number.isNaN||(e=>e!=e))(),b=e=>v(e)&&Math.abs(e)===1/0,_=(()=>Array.isArray||(e=>"Array"===g(e)))(),w=e=>"function"==typeof e,C=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===g(e))(e);var k={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>${e.stack?"\n"+e.stack:""}`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`,BigInt:e=>`<BigInt: ${e.toString()}>`};function I(e){var t=function(e){var t=g(e);if("Number"===t){if(y(e))return"NaN";if(b(e))return"Infinity"}else if("Object"===t){if(m(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&C(e))return"TypedArray";return t}(e);return t in k?k[t]?w(k[t])?[k[t](e),!0]:[k[t],!0]:[e,!0]:[null,!1]}function A(e){var t=new WeakMap,r=0;return function e(n,i){var a,[o,s]=I(n);return s?o:r>3e3?"<Hidden>":t.has(n)?`<Circular: ${t.get(n)}>`:(t.set(n,i),r++,_(n)?n.map(((t,r)=>e(t,`${i}[${r}]`))):(a={},Object.keys(n).forEach((t=>{a[t]=e(n[t],`${i}.${t}`)})),a))}(e,"@")}function x(e,t){try{return(e=Array.prototype.slice.call(e)).map(A)}catch(e){return void("undefined"!=typeof inSnapshotCheck&&inSnapshotCheck&&"function"==typeof t&&t("[snapshot check] transformLogArgs error: ",e))}}var T=["log","warn","error","info","debug"],E=null,M=null,R=null,O=new Set;function D(e,t,r){E=e,M=t,R=r}var L=null,N=e=>L=e;class B{constructor({context:e}={}){var t=this;if(!R)throw new Error("BaseConsole: call setBaseConsoleStaticProps first");var n=R,i=function(e){"function"==typeof n[e]&&(t[e]=function(...t){(n[e]||(()=>{})).call(n,...t)})};for(var a of Object.keys(n))i(a);var o=function(i){var a=n[i]||(()=>{});t[i]=function(...t){var o,s,c=d();if(!1===c){if("main"===e){if("warn"!==i&&"error"!==i&&!l)return;return a.call(n,...t),void $(i,t,e)}if(!l)return;return a.call(n,...t),void $(i,t,e)}null===(o=L)||void 0===o||o.callConsoleAPI(i,t);var u=x(arguments,n[i]);u&&(M&&M.length>1024&&M.shift(),null===(s=M)||void 0===s||s.push({method:i,log:u,timestamp:Date.now()}),c&&E&&E.length>0&&r(i,{log:u},E),a.apply(n,u),$(i,t))}};for(var s of T)o(s);this.group=function(){(n.group||(()=>{})).apply(n,arguments)},this.groupEnd=function(){(n.groupEnd||(()=>{})).apply(n,arguments)}}}function $(e,t,r){if(0!==O.size)try{O.forEach((n=>n(e,t,r)))}catch(e){}}var j=!c&&!!e.g.__isAppServiceRemoteDebugMode__,F=null,W=null,U=null;if(l||j){if(l||j){D([],[],console)}}else{var V=[],q=[];D(q,V,console),n("GenerateFuncReady",((e,t)=>{t&&q.push(t),d()&&r("initLogs",{logs:V},[t])})),n("webviewClearLog",((e,t)=>{var n=q.filter((e=>e!==t));r("serviceClearLog",{triggerWebViewId:t},n),V.length=0})),o.onReady((()=>{var e;d()&&(q.length>0&&r("initLogs",{logs:V},q),null===(e=F)||void 0===e||e(V,N))})),console=new B({context:"main"})}const z={BaseConsole:B,onDebugEnabledAfterBaseConsoleInjected:e=>{F=e},setInspecteeRoots:e=>W=e,getInspecteeRoots:()=>W,setSkylineRuntimeGetter:e=>U=e,getSkylineRuntime:()=>{var e;return null===(e=U)||void 0===e?void 0:e()},_subscribeConsole:function(e){O.add(e)},_unsubscribeConsole:function(e){O.delete(e)}};P=t.default})(),(()=>{var e={342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EnvPreloadType:()=>n,default:()=>o,updateConfig:()=>i});var n={None:0,BeforeLaunch:1,AfterLaunch:2},i=()=>{a!==f&&void 0!==a&&Object.assign(a,f)},a=(()=>(f.onReady(i),f))();const o=a},476:(e,t,r)=>{"use strict";r.r(t),r.d(t,{reportDeprecatedAPI:()=>s});var n=r(342),i=void 0!==a&&a?a.version:"unknown",o=void 0!==a&&a?a.updateTime:"unknown";"string"==typeof i&&(i=i.replace(" ","")),"string"==typeof o&&(o=o.replace(" ","-"));var s=(e="")=>{e=e.replace(/,/g,";");var t=i+" "+o,r=n.default.appType;T.reportKeyValue({key:"DeprecatedAPI",value:[e,t,r].join(",")})}},996:(e,t,r)=>{var{reportDeprecatedAPI:n}=r(476),{default:i}=r(342);function a(e=globalThis){function t(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e}}"function"==typeof globalThis.Function&&(t.prototype=globalThis.Function.prototype,t.prototype.constructor=t,globalThis.Function=t)}e.exports={hijack:function(e=!0,t=globalThis){a(t),"undefined"!=typeof eval&&("ios"===i.platform&&r.g.__isAppServiceRemoteDebugMode__||i.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var n=x.surroundThirdByTryCatch(t,"at setTimeout callback function"),i=[].slice.call(arguments,2);return e((()=>{n.apply(globalThis,i)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var n=x.surroundThirdByTryCatch(e,"at setInterval callback function"),i=[].slice.call(arguments,2);return t((()=>{n.apply(globalThis,i)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(n("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))},hijackFunction:a}},585:()=>{if("undefined"==typeof navigator){try{new u('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new u('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new u('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>G,deepFreezeObj:()=>R,deepFreezeObjProperty:()=>M,doNotWriteGlobalObjs:()=>z,doNotWriteObj:()=>N,doNotWriteObjProperty:()=>O,globalEsHiddenObjs:()=>t,globalEsObjs:()=>i,hijack:()=>H.hijack,hijackFunction:()=>H.hijackFunction,overwriteSetPrototypeOf:()=>q});r(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),i=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],a=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],o=globalThis,s=r(342),l=(()=>s.default.platform)(),c=(()=>"ios"===l)();var u=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code\])?$/;function p(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return c?function(e,t){for(var r=[],n=e.split("\n"),i=0,a=0;i<n.length&&a<t;++i){var o=n[i];if(!d.test(o)){++a;var s=o.indexOf("@");if(-1===s){var l=h(o);r.push({fileName:l.URI,lineNumber:l.line,columnNumber:l.column,source:o})}else{var c=o.substring(0,s),u=h(o.substr(s+1));r.push({functionName:c,fileName:u.URI,lineNumber:u.line,columnNumber:u.column,source:o})}}}return r}(r,t):function(e,t){for(var r=[],n=e.split("\n"),i=0,a=0;i<n.length&&a<t;++i){var o=n[i];u.test(o)&&(r.push(o),++a)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),i=h(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0],lineNumber:i[1],columnNumber:i[2],source:e}}))}(r,t)}function h(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var f=Object.freeze,g=Object.setPrototypeOf,v=Object.defineProperty,m=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,w=Object.preventExtensions;var S=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function C(){var e,t,r=Date.now(),n=p(new Error,3),i=n[1],a=n[2],o=!(i.fileName&&a.fileName&&a.fileName!==i.fileName&&(e=a.fileName,t=i.fileName,!S.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,o}function k(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=m(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&v(e,"__proto__",{get(){return _(this)},set(r){if(this===e)t&&C()&&g(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;g(this,r)}},enumerable:!1,configurable:!1})}}var I=new Map,P=(e,t,r)=>{I.has(e)||I.set(e,new Map);var n=I.get(e);n.has(t)?Object.assign(n.get(t),r):n.set(t,r)};function A(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var n=m(e,t);return!!n&&(n.configurable&&(v(e,t,{get:n.get||(()=>n.value),set(i){if(this===e)r&&C()&&(n.set?n.set.call(this,i):n.writable&&(n.value=i));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?g(e,r):v(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,i)}},enumerable:n.enumerable,configurable:!1}),r&&P(e,t,n)),!n.get&&("function"==typeof n.value||"object"==typeof n.value&&null!==n.value))}catch(e){throw e.message,e}}var x=new WeakSet;function T(e){x.add(e)}function E(e){return x.has(e)}function M(e,t,r){A(e,t)&&R(e[t],r)}function R(e,t){if(e&&!E(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){T(e);for(var r=y(e),n=b(e),i=0;i<r.length;++i)M(e,r[i],t);for(var a=0;a<n.length;++a)M(e,n[a],t);t?w(e):k(e,!1)}else if(t){var o=e=>{if(e&&!E(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){T(e),f(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)o(e[t[n]]);for(var i=0;i<r.length;++i)o(e[r[i]])}};o(Error)}}function O(e,t){A(e,t,!0)&&N(e[t])}var D=new WeakSet;function L(e){return D.has(e)}function N(e){if(e&&!L(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){D.add(e)}(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)O(e,t[n]);for(var i=0;i<r.length;++i)O(e,r[i]);k(e,!0)}}var B=Object.prototype.hasOwnProperty,$=Object.defineProperty,j=Object.defineProperties,F=Object.getOwnPropertyNames,W=Object.getOwnPropertySymbols,U=Object.getOwnPropertyDescriptor,V=!1,q=function(){V||(V=!0,$(o.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),$(o.Object,"defineProperty",{value(e,t,r){if(!L(e))return $(e,t,r);if(!C())return r;var n=U(e,t);if(!n||n.configurable){var i=$(e,t,r);return O(e,t),i}return P(e,t,r),r},configurable:!0}),$(o.Object,"defineProperties",{value(e,t){if(!L(e))return j(e,t);if(!C())return t;var r=r=>{var n=U(e,r);if(!n||n.configurable){var i=$(e,r,t[r]);return O(e,r),i}return P(e,r,t[r]),t[r]};return F(t).forEach(r),W(t).forEach(r),t},configurable:!0}))},z=function(e=[]){try{for(var r=[...i,...a,...t,...e],n=(Date.now(),0);n<r.length;++n){var s=r[n],l=typeof s;"string"===l?B.call(o,s)&&O(o,s):"function"!==l&&"object"!==l||N(s)}Date.now()}catch(e){}},G=function(e=[],r=!1){try{for(var n=[...i,...a,...t,...e],s=(Date.now(),0);s<n.length;++s){var l=n[s],c=typeof l;"string"===c?B.call(o,l)&&M(o,l,r):"function"!==c&&"object"!==c||R(l,r)}Date.now()}catch(e){}},H=r(996),K=Object.prototype.isPrototypeOf,J=Object.defineProperty,X=Object.prototype.hasOwnProperty,Y=Symbol.hasInstance,Q=function(e){return!("function"!=typeof this||!Z(e))&&((e,t)=>K.call(t.prototype,e))(e,this)},Z=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t,r={}){for(var n=function(n){var i=e[n],a=t[n];if(!i||!a)return"continue";if("function"!=typeof i)return"continue";var o=X.call(i,Y)?i[Y]:Q,s=X.call(a,Y)?a[Y]:Q;J(i,Y,{value(e){return o.call(this,e)||s.call(a,e)},writable:!0,enumerable:!1,configurable:!0}),J(a,Y,{value(e){return void 0!==r[n]&&"Object"===r[n]&&void 0!==(null==e?void 0:e._compressed)&&void 0!==(null==e?void 0:e._data)&&void 0!==(null==e?void 0:e.height)&&void 0!==(null==e?void 0:e.width)?s.call(this,e):s.call(this,e)||o.call(i,e)},writable:!0,enumerable:!1,configurable:!0})},i=0;i<e.length;++i)n(i)}})(),A=n})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>p,callSystemFunction:()=>u,callThirdPartyFunction:()=>h,convertStack:()=>i,endSystemFunctionCall:()=>c,findCurrentSource:()=>s,startSystemFunctionCall:()=>l,surroundThirdByTryCatch:()=>v,wrapMiniProgramOrPluginFunction:()=>f,wrapSystemFunction:()=>d,wrapThirdPartyFunction:()=>g,wrapperStack:()=>n});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n=[];function i(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,i=n.length-1,o=0;o>=0&&i>=0;){var s=r.length,l=0;for(var c in a)if(a[c]){var u=r.indexOf(a[c],o);u<0||s<=u||(s=u,l=a[c].length)}if(s>=r.length)break;var d=`at <${n[i--].description}>`;r=r.slice(0,s)+d+r.slice(s+l),o=s+d.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var a={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o(e){var t=((new Error).stack||"").match(/.+/gm),n="",i=0;t&&t.forEach((e=>{if(r.test(e)&&2===(i+=1)){var t=e.match(/^(\s*)at /),a=t?t[1].length:0;return n=e.slice(a),!1}return!0})),a[e]=n}function s(){for(var e="",t=n.length-1;t>=0;t--)n[t].pluginAppId&&(e=n[t].pluginAppId);return e}var l=e=>{null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:e})},c=()=>{n.pop()};function u(e,t,r,l,c,u=!1){var p;null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:t});try{p=r.apply(l,c)}catch(t){if(i(t)){if("AppServiceSdkKnownError"===t.type)throw n.pop(),t;if("ThirdScriptError"===t.type){var h=s();T.thirdErrorReport({error:t,source:h,triggerErrorCallback:!u})}else T.errorReport({key:e,error:t,triggerErrorCallback:!u})}if(u)throw n.pop(),t}return n.pop(),p}function d(e,t,r,n=!1){return function(...i){return u(e,t,r,this,i,n)}}function p(e,t,r,s,l,c=!1){var u;null===a.wrapMiniProgramOrPluginFunction&&(a.wrapMiniProgramOrPluginFunction="",f("","",o)("wrapMiniProgramOrPluginFunction")),n.push({description:t,pluginAppId:e});try{u=r.apply(s,l)}catch(t){if(i(t)&&T.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!c}),c)throw n.pop(),t}return n.pop(),u}function h(e,t,r,n,i=!1){return p(s(),e,t,r,n,i)}function f(e,t,r,n=!1){return function(...i){return p(e,t,r,this,i,n)}}function g(e,t,r=!1){return function(...n){return p(s(),e,t,this,n,r)}}function v(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",i=e||function(){};return function(...e){return p(s(),n,i,i,e,!1)}}x=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>ge});var r={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},n={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,AccelerateNetwork:30769,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,MiniprogramInnerComponentUse:30314,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,BLEMeshDevices:29512,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,MiniprogramWebviewExportUrl:30247,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,getPhoneNumberReport:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503,VirtualPayment:30164,WeAppXNetInvoke:29870,ProductRecommand:30343,AIADPreview:31127,AiAdError:31167,Authorize:31228,ExitDramaEdu:31431,SystemComponentLazyLoad:29852,InnerDiskStatInfo:31439,operateWXDataProfile:31695,ClientCallbackProfile:32334,WxappBackInterception:32260,UserAction:32193,UserConfig:32198,WebVitalsINP:32217,WebVitalsStutter:32366,OpenOfficialAccountArticle:32359,MiniProgramJumpWxstore:32916,AIADLoad:33015,AIADVision:33042,UpdateManager:33259,Translate:33441},i={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},o={apiCallback:1,pageInvoke:2,widgetInvoke:3,appInvoke:4},s={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},l={[r.APP]:"thirdScriptError",[r.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[r.WIDGET]:"widgetThirdScriptError",[r.GAME]:"gameThirdScriptError",[r.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var c={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},d=0;function p(){var e=0;return{get(){if(e>0)return e;if(0===d)throw Error("initTime not ready");return e=d},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==g?g.onLoad((()=>{c.offset=Date.now(),d=Date.now()})):(c.offset=Date.now(),d=Date.now());class h{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=p(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=p(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class v{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=p(),this._periodStartTime=p(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class m{constructor(e,t,r,n){this.reportTime=p(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new v(e,t,r,n),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,n,i){this.continueDecreaseReportLimitStrategys[e]=new h(t,r,n,i)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var y=()=>{b!==f&&void 0!==b&&Object.assign(b,f)},b=(()=>(f.onReady(y),f))();const _=b;var w=(()=>_.platform)(),C=(()=>"devtools"===w)(),k=(()=>"ios"===w)();var I=(e=>null===(e=_.host)||void 0===e?void 0:e.env)(),P=(()=>"SAAASDK"===I)();function A(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),i=Math.max(r.length,n.length);r.length<i;)r.push("0");for(;n.length<i;)n.push("0");for(var a=0;a<i;a++){var o=parseInt(r[a],10),s=parseInt(n[a],10);if(o>s)return 1;if(o<s)return-1}return 0}var T=(()=>Object.prototype.toString)(),E=u.prototype.call.bind(T);function M(e){return E(e).slice(8,-1)}var R=6e4,O=15e3;function D(...e){S.invoke(...e)}var L={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,webviewBizDomainFetch_fail:208,webviewBizDomainSkipReturn:209,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},B={call:80,call_success:81,call_fail:82,insert_with_cache:83,insert_without_cache:84,try_insert_general_ad:118,try_insert_general_ad_success:119};Array(25).fill(0).forEach(((e,t)=>{B[`polyfill_${t+1}`]=t}));var $=new m("id",O,100,R);function j(e){_.onReady((()=>{D("reportIDKey",{dataArray:e,noCallback:!0})}))}function F(e,t,r,n=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){$.pushReportQueue({id:e,key:t,value:r});var i=$.attemptReportAndGetReportMsgs(n);i.length&&j(i)}}function W(){var e=$.attemptReportAndGetReportMsgs(!0);e.length&&j(e)}var U=[],V=["NetworkAPI"],q=0,z=0,G=0,H={},K={},J={},X=new m("key",O,100,R);function Y(e){_.onReady((()=>{D("reportKeyValue",{dataArray:e,noCallback:!0})}))}function Q(){_.onReady((()=>{!U||U.length<=0||(D("systemLog",{dataArray:U,noCallback:!0}),U=[])}))}function Z(e){var t=_&&_.appContactInfo&&_.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}X.setContinueDecreaseReportLimitStrategyKey(18042,O,.5,100,R);var ee=()=>{},te=()=>{},re=()=>{},ne=()=>{},ie="",ae={},oe=-1,se=0,le=r.APP,ce="",ue=0,de="";"function"==typeof _.onReady&&_.onReady((()=>{void 0!==_.appType&&(oe=_.appType),"object"==typeof _.appLaunchInfo&&(se=_.appLaunchInfo.scene);var e=_.networkType;e?ce=e:S.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(ce=e.networkType)})),k&&void 0!==_.version&&A(_.version,"8.0.51")>=0&&(ue=1),"function"==typeof S.addEventListener&&(S.addEventListener("onNetworkStatusChange",(e=>{ce=e.networkType})),ue>=1&&S.addEventListener("onGameRenderFirstScreen",(()=>{ue=2})))}));var pe={surroundThirdByTryCatch:x.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:n})=>{var i=o[e],a=Date.now();if(i&&(n||!(a-G<500))&&!(Object.keys(J).length>50||(J[r]||(J[r]=0),J[r]++,J[r]>3))){G=a;var s=`${t},${encodeURIComponent(r)},${i},${pe.getAppType()}`;pe.reportKeyValue({key:"Slow",value:s})}},isLimitReport:e=>X.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:n})=>{var a=i[e],o=Date.now(),s=0,l=r.nativeTime;if(a&&(n||!(o-(H[a]||0)<500))&&r.startTime&&r.endTime&&(1!==a&&2!==a||l)){t&&(s=JSON.stringify(t).length),H[a]=o;var c=`${a},${r.startTime},${l},${l},${r.endTime},${s},${pe.getAppType()}`;pe.reportKeyValue({key:"Speed",value:c})}},reportQualityData(e,t,r,i=[]){var a=r-t;a<0&&(a=0),D("reportKeyValue",{version:2,dataArray:[{key:n[e],value:[a,se,t,r,...i].join(",")}],noCallback:!0})},reportQualityData2(e,t=[]){D("reportKeyValue",{version:2,dataArray:[{key:n[e],value:t.join(",")}],noCallback:!0})},flushReportKeyValueList:()=>{var e=X.attemptReportAndGetReportMsgs(!0);e.length&&Y(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:i=!1})=>{var a,o;if(i||n[e]){var s=null!==(a=null===(o=_.expt)||void 0===o?void 0:o.clicfg_appbrand_ios_android_report_without_batch)&&void 0!==a?a:0;s&&V.includes(e)&&(r=!0,t+=`,${s}`),X.pushReportQueue({key:i?e:n[e],value:t},r);var l=X.attemptReportAndGetReportMsgs(r);l.length&&Y(l)}},flushReportIDKeyList:W,reportIDKey:function({id:e,key:t,value:r=1,force:n=!1,type:i}){var a;if("aiad"===i){if(!B[t])return;a=B[t]}else{if(!L[t])return;a=L[t]}e||"aiad"===i&&(e=2059),F(e||(k?356:358),a,r,n)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&F(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||F(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){F(1874,e,t)},thirdErrorReport:({key:e=le,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:n=!1,promise:i,source:a="",isOpenDataContextError:o=!1})=>{pe.errorReport({key:l[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:n,promise:i,source:a,isOpenDataContextError:o})},errorReport:({key:e,error:t,isThirdScriptError:n=!1,triggerErrorCallback:i=!0,isUnhandledRejection:o=!1,promise:l,source:c="",isOpenDataContextError:u=!1,extra:d=""})=>{if(s[e]&&t){var p,h;"function"==typeof __wxSourceMapRetrace__&&(t=__wxSourceMapRetrace__(t)),"object"==typeof t&&(t.message||t.stack)?(p=t.message,h=t.stack):(p=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(t),h=M(t));var f=n?"MiniProgramError":`SystemError (${e})`,g=p,v="";t.name&&0!==(h||"").indexOf(t.name)&&(v="\n"+t.name+": "+g);var m=`${f}\n${g}${v}\n${h}`;if(C){var y=new Error(`${f}\n${g}`);"object"==typeof t&&void 0!==t.name&&Object.defineProperty(y,"name",{value:t.name}),"object"==typeof t&&void 0!==t.stack&&Object.defineProperty(y,"stack",{value:t.stack}),console.error(y)}else o?console.error("(in promise) "+m):console.error(m);if(!(u||m.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){S.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:m},options:{timestamp:Date.now()}}):i&&(pe.triggerErrorMessage(m,o,t,l),n&&pe.triggerThirdErrorMessage(m,o,t,l)),Object.keys(K).length>50||o&&"Error"!==M(t)))){var b="",w="";le!==r.APP&&le!==r.GAME||(b=ie,w=function(e){var t="";return Object.keys(e).forEach(((r,n)=>{0!==n&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(ae));var k=0;if(1004===pe.getAppType()&&n)try{ce=N.getGameRelatedContextsExports().game._getCurrentNetworkType();var I=t.stackInfoArr;if(delete t.stackInfoArr,I){var A=I.find((e=>"usr"===e.type));if(A&&"__plugin__"===A.package&&"string"==typeof A.file){var x=A.file.split("/");k=Z(c=x&&x[0])}}}catch(y){}else k=c.match(/wx[0-9a-f]{16}/)?Z(c):0;var T="";if(P)if(""!==de)T=de;else{var E={uuid:_.host.uuid,sdkVersion:_.host.sdkVersion,userVersion:_.host.appVersion};T=function(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,n=String(e),i="",a=0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|r}return i}(JSON.stringify(E)),de=T}var R=[s[e],t.name,...[g,h,void 0!==a&&a.version||"",pe.getAppType(),b,w,void 0!==a&&a.updateTime||"","",o?1:0,c,k,ce,d,ue,T].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(K[R]||(K[R]=0),K[R]++,!(n&&K[R]>3||K[R]>3)){pe.reportIDKey({key:e}),pe.reportKeyValue({key:"Error",value:R});var O=X.attemptReportAndGetReportMsgs(!0);O.length&&Y(O),W(),Q()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-q<50||(q=Date.now(),U.push(e+""),U.length>=50&&Q()))},submit:()=>{Date.now()-z<50||(z=Date.now(),W(),Y(X.attemptReportAndGetReportMsgs(!0)),Q())},registerErrorListener:e=>{"function"==typeof e&&(ee=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(te=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(re=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(ne=e)},triggerErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?re(r,n):ee(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?ne(r,n):te(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{le=r.WIDGET},setAsGame:()=>{le=r.GAME},setAsGameSubContext:()=>{le=r.GAME_SUBCONTEXT},getAppType:()=>-1===oe?0:oe+1e3},he={};function fe(e){Object.defineProperty(he,e,{get(){return t=pe[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(pe).forEach((e=>{fe(e)})),Object.defineProperty(he,"__route__",{set(e){ie=e}}),Object.defineProperty(he,"__method__",{set(){}}),Object.defineProperty(he,"__query__",{set(e){ae=e}}),he.RunType=r,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){pe.submit()}});const ge=he})(),T=t.default})();var E=function(e){"use strict";var t;e.BackendMode=void 0,(t=e.BackendMode||(e.BackendMode={}))[t.Shadow=1]="Shadow",t[t.Composed=2]="Composed",t[t.Domlike=3]="Domlike";var r,n=Object.freeze({__proto__:null,BM:{DYNAMIC:!0,SHADOW:!1,COMPOSED:!1,DOMLIKE:!1},get BackendMode(){return e.BackendMode}}),i=Object.freeze({__proto__:null}),a=Object.freeze({__proto__:null});e.DeepCopyKind=void 0,(r=e.DeepCopyKind||(e.DeepCopyKind={})).None="none",r.Simple="simple",r.SimpleWithRecursion="simple-recursion";const o={defaultComponentSpace:null,externalComponent:!1,templateEngine:null,styleScope:null,extraStyleScope:null,hostNodeTagName:"wx-x",multipleSlots:!1,dynamicSlots:!1,directSlots:!1,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!1,useMethodCallerListeners:!1,idPrefixGenerator:null,pureDataPattern:null,dataDeepCopy:e.DeepCopyKind.Simple,propertyPassingDeepCopy:e.DeepCopyKind.Simple,listenerChangeLifetimes:!1,virtualHost:!1,propertyEarlyInit:!1,throwGlobalError:!1,writeExtraInfoToAttr:!1,backendContext:null,devTools:null},s=(e,t)=>{const r=void 0===t?o:t;if(void 0===e&&r!==o)return r;const n=null!=e?e:{};return{externalComponent:void 0!==n.externalComponent?n.externalComponent:r.externalComponent,templateEngine:void 0!==n.templateEngine?n.templateEngine:r.templateEngine,styleScope:void 0!==n.styleScope?n.styleScope:r.styleScope,hostNodeTagName:void 0!==n.hostNodeTagName?n.hostNodeTagName:r.hostNodeTagName,extraStyleScope:void 0!==n.extraStyleScope?n.extraStyleScope:r.extraStyleScope,multipleSlots:void 0!==n.multipleSlots?n.multipleSlots:r.multipleSlots,dynamicSlots:void 0!==n.dynamicSlots?n.dynamicSlots:r.dynamicSlots,directSlots:void 0!==n.directSlots?n.directSlots:r.directSlots,reflectToAttributes:void 0!==n.reflectToAttributes?n.reflectToAttributes:r.reflectToAttributes,writeFieldsToNode:void 0!==n.writeFieldsToNode?n.writeFieldsToNode:r.writeFieldsToNode,writeIdToDOM:void 0!==n.writeIdToDOM?n.writeIdToDOM:r.writeIdToDOM,useMethodCallerListeners:void 0!==n.useMethodCallerListeners?n.useMethodCallerListeners:r.useMethodCallerListeners,idPrefixGenerator:void 0!==n.idPrefixGenerator?n.idPrefixGenerator:r.idPrefixGenerator,pureDataPattern:void 0!==n.pureDataPattern?n.pureDataPattern:r.pureDataPattern,dataDeepCopy:void 0!==n.dataDeepCopy?n.dataDeepCopy:r.dataDeepCopy,propertyPassingDeepCopy:void 0!==n.propertyPassingDeepCopy?n.propertyPassingDeepCopy:r.propertyPassingDeepCopy,listenerChangeLifetimes:void 0!==n.listenerChangeLifetimes?n.listenerChangeLifetimes:r.listenerChangeLifetimes,virtualHost:void 0!==n.virtualHost?n.virtualHost:r.virtualHost,propertyEarlyInit:void 0!==n.propertyEarlyInit?n.propertyEarlyInit:r.propertyEarlyInit}};class l{constructor(e){this.empty=!0,this._$arr=null,this._$type=e}add(e){this._$arr?this._$arr=this._$arr.concat(e):this._$arr=[e],this.empty=!1}remove(e){let t=null;if(this._$arr){const r=[],n=this._$arr;for(let i=0;i<n.length;i+=1){if(n[i]===e){r.push(...n.slice(i+1)),t=e;break}r.push(n[i])}this._$arr=r,this.empty=0===this._$arr.length}return t}call(e,t,r){const n=this._$arr;let i=!0;if(n)for(let a=0;a<n.length;a+=1){!1===p(this._$type,n[a],e,t,r)&&(i=!1)}return i}}class c{constructor(e){this.empty=!0,this._$arr=null,this._$type=e}add(e,t){const r={f:e,data:t};this._$arr?this._$arr=this._$arr.concat(r):this._$arr=[r],this.empty=!1}remove(e){let t=null;if(this._$arr){const r=[],n=this._$arr;for(let i=0;i<n.length;i+=1){const a=n[i];if(a.f===e){r.push(...n.slice(i+1)),t=a.data;break}r.push(a)}this._$arr=r,this.empty=0===this._$arr.length}return t}call(e,t,r,n,i){const a=this._$arr;let o=!0;if(a)for(let s=0;s<a.length;s+=1){const{f:l,data:c}=a[s];if(!r(c))continue;const u=p(this._$type,l,e,t,n);!1===(i?i(u):u)&&(o=!1)}return o}}let d=()=>{};function p(e,t,r,n,i){try{return t.apply(r,n)}catch(r){return void d(r,`${e||"Listener"} ${t.name||"(anonymous)"}`,i)}}const h=Symbol("TextNode"),f=Symbol("Element"),g=Symbol("NativeNode"),v=Symbol("VirtualNode"),m=Symbol("ShadowRootSymbol"),y=Symbol("Component"),b=e=>!!e&&e[h],_=e=>!!e&&e[f],w=e=>!!e&&e[g],S=e=>!!e&&e[v],C=e=>!!e&&e[m],k=e=>!!e&&e[y],I=e=>{if(_(e)){let t;return t=S(e)?`(virtual):${e.is}`:k(e)?`${e.tagName}:${e.is}`:w(e)?e.is:"(unknown)",`<${t}${(e=>{let t="";if(_(e)){null!==e._$slotName&&(t+=` (slot) name="${e._$slotName}"`),e.id&&(t+=` id="${e.id}"`),e.slot&&(t+=` slot="${e.slot}"`);const r=e.class;r&&(t+=` class="${r}"`),e.style&&(t+=` style="${e.style}"`)}return S(e)||(k(e)?Object.keys(e._$behavior._$propertyMap).forEach((r=>{t+=` ${r}="${String(e.data[r])}"`})):e.attributes.forEach((e=>{t+=` ${e.name}="${String(e.value)}"`}))),t})(e)}>`}return b(e)?e.textContent.trim():null===e?"<(null)>":void 0===e?"<(undefined)>":"<(unknown)>"},P=(e,t,r=0)=>{let n="";for(let e=r;e;e-=1)n+="  ";let i=n+I(e),a=!1;return _(e)&&(k(e)&&(a=e._$external),t?a?(i+=`\n${n}  <(external)>`,e.forEachComposedChild((e=>{i+=`\n${P(e,t,r+2)}`}))):e.forEachComposedChild((e=>{i+=`\n${P(e,t,r+1)}`})):e.childNodes.forEach((e=>{i+=`\n${P(e,t,r+1)}`}))),i};let A=!1;const x=new l("error"),T=new l("warning");function E(e,t,r,n){if(!A){A=!0,k(r)&&r.triggerLifetime("error",[e]);const i=!1===x.call(e,[e,t,r,n]);if(A=!1,i)return}if(o.throwGlobalError)throw e;console.error([e instanceof Error?`${e.message}`:String(e),n?`\t@${I(n)}`:void 0,r?`\t${t||""}@${"string"==typeof r?`<${r}>`:I(r||!1)}`:void 0].filter(Boolean).join("\n"))}function M(e,t,r){T.call(null,[e,t||"",r])&&console.warn(e)}d=E;class R extends Error{constructor(e,t,r,n){super(e),this.additionalStack=t,this.relatedComponent=r,this.element=n,E(this,t,r,n)}}const O=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseover","mouseup","mouseenter","mouseleave","click"];const D=e=>{const t=[];for(let r=0;r<e.length;r+=1){const n=e[r],i="important"===e.getPropertyPriority(n),a=e.getPropertyValue(n);t.push({name:n,value:a,important:i})}return t},L=(e,t)=>{let r=0;const n=[],i=e=>{for(let a=0;a<e.length;a+=1){const o=e[a];o instanceof CSSConditionRule||o instanceof CSSLayerBlockRule?(n.push(o),i(o.cssRules),n.pop()):(t(r,o,n),r+=1)}};i(e.cssRules)};var N;!function(e){e[e.Fragment=0]="Fragment",e[e.Element=1]="Element",e[e.TextNode=2]="TextNode",e[e.Component=3]="Component",e[e.VirtualNode=4]="VirtualNode"}(N||(N={}));class B{constructor(e){this._$shadowRoot=3===e?new $:null}release(){}associateValue(e){}getShadowRoot(){return this._$shadowRoot||void 0}appendChild(e){}removeChild(e,t){}insertBefore(e,t,r){}replaceChild(e,t,r){}spliceBefore(e,t,r){}spliceAppend(e){}spliceRemove(e,t){}setId(e){}setSlotName(e){}setContainingSlot(e){}reassignContainingSlot(e,t){}spliceBeforeSlotNodes(e,t,r){}spliceRemoveSlotNodes(e,t){}spliceAppendSlotNodes(e){}setInheritSlots(){}setStyle(e){}addClass(e){}removeClass(e){}clearClasses(){}setClassAlias(e,t){}setAttribute(e,t){}removeAttribute(e){}setDataset(e,t){}setText(e){}setListenerStats(e,t,r){}setModelBindingStat(e,t){}}class $ extends B{constructor(){super(4)}createElement(e,t){return new B(1)}createTextNode(e){return new B(2)}createComponent(e,t,r,n,i,a){return new B(3)}createVirtualNode(e){return new B(4)}}class j{constructor(){this.mode=2,this._$styleSheetIdInc=1,this._$renderCallbacks=null,this._$rootNode=new F}destroy(){}getWindowWidth(){return 1}getWindowHeight(){return 1}getDevicePixelRatio(){return 1}getTheme(){return"light"}registerStyleSheetContent(e,t){}appendStyleSheetPath(e,t){const r=this._$styleSheetIdInc;return this._$styleSheetIdInc+=1,r}disableStyleSheet(e){}render(e){if(this._$renderCallbacks)this._$renderCallbacks.push(e);else{const t=this._$renderCallbacks=[e];setTimeout((()=>{this._$renderCallbacks=null,t.forEach((e=>{p("Render Callback",e,this,[null])}))}),16)}}getRootNode(){return this._$rootNode}createElement(e,t){return new F}createTextNode(e){return new F}createFragment(){return new F}onEvent(e){}createMediaQueryObserver(e,t){return{disconnect:()=>{}}}}class F{release(){}associateValue(e){}appendChild(e){}removeChild(e,t){}insertBefore(e,t,r){}replaceChild(e,t,r){}spliceBefore(e,t,r){}spliceAppend(e){}spliceRemove(e,t){}setId(e){}setStyleScope(e,t,r){}setStyle(e){}addClass(e,t){}removeClass(e,t){}clearClasses(){}setAttribute(e,t){}removeAttribute(e){}setText(e){}getBoundingClientRect(e){setTimeout((()=>{e({left:0,top:0,width:0,height:0})}),0)}getScrollOffset(e){setTimeout((()=>{e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}),0)}setEventDefaultPrevented(e,t){}setListenerStats(e,t,r){}setModelBindingStat(e,t){}createIntersectionObserver(e,t,r,n){return{disconnect:()=>{}}}getContext(e){e(null)}}const W=/[^\s.,]+/g,U=e=>{const t=[];let r;for(W.lastIndex=0;null!==(r=W.exec(e));)t.push(String(r[0]));return t};class V{constructor(){this._$names=[""]}static globalScope(){return 0}register(e){const t=this._$names.length;return this._$names.push(e),t}queryName(e){return this._$names[e]}}class q{constructor(e,t,r,n,i,a){this._$externalNames=void 0,this._$externalRawAlias=null,this._$dirtyExternalNames=null,this._$rawNames=[],this._$backendNames=[],this._$backendNameScopes=[],this._$backendNamesCount=[],this._$hasAliasNames=!1,this._$element=e,this._$owner=r,this._$defaultScope=n,this._$extraScope=i,this._$rootScope=(null==r?void 0:r._$owner)?r._$rootScope:n,this._$prefixManager=a,t&&(this._$externalNames=t,this._$externalRawAlias=[])}_$resolvePrefixes(e,t){const r=this._$owner,n=null==r?void 0:r._$externalNames,i=n?n.indexOf(e):-1;if(r&&-1!==i){this._$hasAliasNames=!0;const e=r._$externalRawAlias[i];if(e)for(let n=0;n<e.length;n+=1)r._$resolvePrefixes(e[n],t)}else if("~"===e[0])t(this._$rootScope,e.slice(1));else if("^"===e[0]){let r=e.slice(1),n=this._$owner;for(;"^"===r[0];)r=r.slice(1),n=null==n?void 0:n._$owner;t((null==n?void 0:n._$owner)?n._$defaultScope:this._$rootScope,r)}else void 0!==this._$extraScope&&t(this._$extraScope,e),t(this._$defaultScope,e)}_$hasAlias(e){return!!this._$externalNames&&this._$externalNames.includes(e)}_$setAlias(e,t){if(!this._$externalNames)return;let r;if(null==t)r=[];else if(Array.isArray(t)){r=Array(t.length);for(let e=0,n=t.length;e<n;e+=1)r[e]=String(t[e])}else r=U(String(t));const n=this._$externalNames.indexOf(e);-1!==n&&(this._$dirtyExternalNames=this._$dirtyExternalNames||[],this._$dirtyExternalNames.push(e),this._$externalRawAlias[n]=r)}_$getAlias(){var e;const t=Object.create(null);return null===(e=this._$externalNames)||void 0===e||e.forEach(((e,r)=>{t[e]=this._$externalRawAlias[r]})),t}_$spreadExternalClassUpdate(){const e=this._$owner;if(!(null==e?void 0:e._$dirtyExternalNames)||!this._$hasAliasNames)return!1;const t=e._$dirtyExternalNames,r=this._$externalNames;if(r)for(let e=0;e<r.length;e+=1){const n=this._$externalRawAlias[e]||[];for(let i=0;i<t.length;i+=1)n.includes(t[i])&&(this._$dirtyExternalNames=this._$dirtyExternalNames||[],this._$dirtyExternalNames.push(r[e]))}const n=this._$rawNames.some((e=>e.some((e=>t.includes(e)))));return n&&this._$updateResolvedNames(),!!this._$dirtyExternalNames||n}_$shouldUpdateExternalClass(){return!!this._$dirtyExternalNames}_$markExternalClassUpdated(){this._$dirtyExternalNames=null}_$fasterAddUpdateResolvedNames(){const e=this._$element._$backendElement;if(!e)return!1;const t=this._$rawNames;this._$hasAliasNames=!1;for(let r=0,n=t.length;r<n;r+=1){const n=t[r];if(n)for(let t=0,r=n.length;t<r;t+=1){const r=n[t];this._$resolvePrefixes(r,((t,r)=>{this._$addClass(r,t,e)}))}}return!0}_$updateResolvedNames(){const e=this._$element._$backendElement;if(!e)return!1;const t=this._$rawNames,r=this._$backendNames,n=this._$backendNameScopes,i=this._$backendNamesCount,a=[],o=[],s=[];this._$hasAliasNames=!1;for(let e=0,r=t.length;e<r;e+=1){const r=t[e];if(r)for(let e=0,t=r.length;e<t;e+=1){const t=r[e];this._$resolvePrefixes(t,((e,t)=>{if(this._$hasAliasNames)for(let r=0;r<a.length;r+=1)if(t===a[r]&&e===o[r])return void(s[r]+=1);a.push(t),o.push(e),s.push(1)}))}}let l=!1;for(let t=0;t<a.length;t+=1){let s=!1;for(let e=0;e<r.length;e+=1)if(a[t]===r[e]&&o[t]===n[e]){s=!0,i[e]=0;break}s||(l=!0,this._$addClassToBackend(a[t],o[t],e))}for(let t=0;t<r.length;t+=1)0!==i[t]&&(l=!0,this._$removeClassFromBackend(r[t],n[t],e));return this._$backendNames=a,this._$backendNameScopes=o,this._$backendNamesCount=s,l}_$addClassToBackend(e,t,r){r.addClass(e,t)}_$removeClassFromBackend(e,t,r){r.removeClass(e,t)}_$addClass(e,t,r){const n=this._$backendNames,i=this._$backendNameScopes,a=this._$backendNamesCount;let o=!1;if(this._$hasAliasNames)for(let r=0;r<n.length;r+=1)if(e===n[r]&&t===i[r]){o=!0,a[r]+=1;break}o||(n.push(e),i.push(t),a.push(1),this._$addClassToBackend(e,t,r))}_$removeClass(e,t,r){const n=this._$backendNames,i=this._$backendNameScopes,a=this._$backendNamesCount;let o;for(o=0;o<n.length&&(e!==n[o]||t!==i[o]);o+=1);a[o]<=1?(n.splice(o,1),i.splice(o,1),a.splice(o,1),this._$removeClassFromBackend(e,t,r)):a[o]-=1}toggle(e,t,r=0){const n=this._$element._$backendElement,i=this._$rawNames[r]?this._$rawNames[r].indexOf(e):-1;let a=!1;if(void 0===t?-1===i:!!t){if(-1===i){const t=this._$rawNames;t[r]||(t[r]=[]);t[r].push(e),n&&this._$resolvePrefixes(e,((e,t)=>{this._$addClass(t,e,n)})),a=!0}}else if(-1!==i){const t=this._$rawNames[r];t&&t.splice(i,1),n&&this._$resolvePrefixes(e,((e,t)=>{this._$removeClass(t,e,n)})),a=!0}return a}contains(e,t=0){const r=this._$rawNames[t]||[];for(let t=0;t<r.length;t+=1){const n=r[t];if("~"===n[0]){if(n.slice(1)===e)return!0}else if("^"===n[0]){let t=n.slice(1);for(;"^"===t[0];)t=t.slice(1);if(t===e)return!0}else if(n===e)return!0}return!1}setClassNames(e,t=0){let r;r=null==e?[]:Array.isArray(e)?U(e.join(" ")):U(String(e));const n=0===this._$rawNames.length;return this._$rawNames[t]=r,n?this._$fasterAddUpdateResolvedNames():this._$updateResolvedNames()}getClassNames(e=0){const t=this._$rawNames[e]||[];return t?t.join(" "):""}}const z=Symbol("method");var G=Object.freeze({__proto__:null,METHOD_TAG:z});class H{constructor(e,t){this.ownerSpace=e,this._$trans=t}_$implement(e){var t;return(null===(t=this._$trans)||void 0===t?void 0:t.call(this,e))||e}}class K{constructor(){this._$traits=new WeakMap}implement(e,t){const r=e._$implement(t);this._$traits.set(e,r)}get(e){return this._$traits.get(e)}}const J=(e,t)=>{let r;r="/"!==e[0]?t.split("/").slice(0,-1).concat(e.split("/")):e.split("/");const n=[];for(let e=0;e<r.length;e+=1){const t=r[e];""!==t&&"."!==t&&(".."!==t?n.push(t):n.pop())}return n.join("/")},X=(e,t)=>{const r=e.indexOf("://");if(r>0){const t=e.indexOf("/",r+3);if(t>0){return{domain:e.slice(0,t),absPath:J(e.slice(t+1),"")}}return{domain:e.slice(0,r+3),absPath:J(e.slice(r+3),"")}}return{domain:null,absPath:J(e,t)}};class Y{constructor(e,t,r){this._$callbacks=[],this._$ownerSpace=e,this._$isPub=t,this._$alias=r}add(e){this._$callbacks.push(e)}hintUsed(e){var t,r;null===(r=(t=this._$ownerSpace)._$componentWaitingListener)||void 0===r||r.call(t,this._$isPub,this._$alias,e)}remove(e){const t=this._$callbacks.indexOf(e);-1!==t&&this._$callbacks.splice(t,1)}call(e){for(;this._$callbacks.length>0;){this._$callbacks.shift()(e)}}}class Q{constructor(e,t,r,n=!0){this._$behaviorList=Object.create(null),this._$pubBehaviorList=Object.create(null),this._$list=Object.create(null),this._$pubList=Object.create(null),this._$using=Object.create(null),this._$extendedNativeList=Object.create(null),this._$pubExtendedNativeList=Object.create(null),this._$importedSpaces=Object.create(null),this._$listWaiting=Object.create(null),this._$pubListWaiting=Object.create(null),this._$groupingListWaiting=null,this._$componentWaitingListener=null,this._$allowUnusedNativeNode=!0,this._$sharedStyleScope=0,t&&(Object.assign(this._$list,t._$pubList),Object.assign(this._$behaviorList,t._$pubBehaviorList),Object.assign(this._$extendedNativeList,t._$pubExtendedNativeList)),this._$defaultComponent=null!=e?e:"",this._$componentOptions=s({},null==t?void 0:t._$componentOptions),this.styleScopeManager=r||new V,this._$allowUnusedNativeNode=n}updateComponentOptions(e){this._$componentOptions=s(e,this._$componentOptions)}getComponentOptions(){return this._$componentOptions}updateBaseExtendedNativeList(e){Object.assign(this._$extendedNativeList,e._$pubExtendedNativeList)}setSharedStyleScope(e){this._$sharedStyleScope=e}setGlobalUsingComponent(e,t){this._$using[e]=t}importSpace(e,t,r){this._$importedSpaces[e]={space:t,privateUse:r}}getComponentByUrl(e,t){const{domain:r,absPath:n}=X(e,t),i=this.getComponent(n,!0,r);if(!i)throw new Error(`There is no component "${n}" in the space and no default component can be used`);return i}getComponentByUrlWithoutDefault(e,t){const{domain:r,absPath:n}=X(e,t);return this.getComponent(n,!1,r)||null}getComponent(e,t=!0,r=null){let n;if(r){const e=this._$importedSpaces[r];if(e){const{space:t,privateUse:r}=e;n=r?t._$list:t._$pubList}}else n=this._$list;if(n){const t=n[e];if(t)return t}if(t)return this._$list[this._$defaultComponent]}getDefaultComponent(){return this._$list[this._$defaultComponent]||null}isDefaultComponent(e){return this._$list[this._$defaultComponent]===e}getGlobalUsingComponent(e){return this._$using[e]||null}getBehaviorByUrl(e,t){const{domain:r,absPath:n}=X(e,t);return this._$getBehavior(n,r)||null}_$getBehavior(e,t=null){let r;if(t){const e=this._$importedSpaces[t];if(e){const{space:t,privateUse:n}=e;r=n?t._$behaviorList:t._$pubBehaviorList}}else r=this._$behaviorList;if(r){const t=r[e];if(t)return t}}defineComponent(e){const t=e.is;return new Tt(t,this).definition(e).registerComponent()}defineBehavior(e){const t=e.is;return new Tt(t,this).definition(e).registerBehavior()}define(e){return new Tt(e,this)}defineWithMethodCaller(e){return new Tt(e,this)}_$registerComponent(e,t){this._$list[e]=t,this._$behaviorList[e]=t.behavior;const r=this._$listWaiting[e];r&&(delete this._$listWaiting[e],this._$groupingListWaiting?this._$groupingListWaiting.push({waiting:r,comp:t}):r.call(t))}_$registerBehavior(e,t){this._$behaviorList[e]=t}registerExtendedNativeNode(e,t){this._$extendedNativeList[e]=t}getExtendedNativeNode(e){return this._$extendedNativeList[e]}startGroupRegister(){this._$groupingListWaiting=[]}endGroupRegister(){const e=this._$groupingListWaiting;if(e){this._$groupingListWaiting=null;for(let t=0;t<e.length;t+=1){const{waiting:r,comp:n}=e[t];r.call(n)}}}groupRegister(e){this.startGroupRegister();const t=p("group register",e,this,[]);return this.endGroupRegister(),t}exportComponent(e,t){const r=this._$list[t];if(!r)throw new Error(`There is no component "${t}" for aliasing`);this._$pubList[e]=r;const n=this._$pubListWaiting[e];n&&(delete this._$pubListWaiting[e],n.call(r))}getExportedComponent(e){return this._$pubList[e]}getExportedBehavior(e){return this._$pubBehaviorList[e]}exportBehavior(e,t){const r=this._$behaviorList[t];if(!r)throw new Error(`There is no behavior "${t}" for aliasing`);this._$pubBehaviorList[e]=r}exportExtendedNativeNode(e){const t=this._$extendedNativeList[e];if(!t)throw new Error(`There is no extended native node "${e}" for aliasing`);this._$pubExtendedNativeList[e]=t}_$componentWaitingList(e,t){const{domain:r,absPath:n}=X(e,t);let i,a,o;if(r){const e=this._$importedSpaces[r];if(!e)return null;if(a=e.space,o=!e.privateUse,o){if(a._$pubList[n])return null;i=a._$pubListWaiting}else{if(a._$list[n])return null;i=a._$listWaiting}}else{if(a=this,o=!1,this._$list[n])return null;i=this._$listWaiting}let s=i[n];return s||(s=i[n]=new Y(a,o,n),s)}setComponentWaitingListener(e){this._$componentWaitingListener=e}createComponentByUrl(e,t,r,n){let i=t,a=null;const o=i.indexOf("#");o>=0&&(i=i.slice(0,o));const s=i.indexOf("?");s>=0&&(a=i.slice(s+1),i=i.slice(0,s));const l=this.getComponentByUrl(i,"");let c=null;r&&(c=Object.create(null),Object.keys(r).forEach((e=>{const t=r[e],n=this.getComponentByUrl(t,"");c[e]=n})));return xt.createWithGenericsAndContext(e,l,c,n,(e=>{if(a){let t=!1;a.split("&").forEach((r=>{const n=r.indexOf("=");if(n>=0){const i=decodeURIComponent(r.slice(0,n)),a=decodeURIComponent(r.slice(n+1));e._$dataGroup.replaceProperty(i,a)&&(t=!0)}})),t&&e.applyDataUpdates()}}))}defineTraitBehavior(e){return new H(this,e)}}let Z=null;const ee=()=>{if(Z)return Z;const e=new Q;return Z=e,e},te=e=>{const t=e.str;for(;e.cur<t.length;){const r=t[e.cur];if(" "!==r&&"\n"!==r&&"\r"!==r&&"\t"!==r&&"\f"!==r)break;e.cur+=1}return e.cur<t.length},re=e=>{const t=e.str;let r="";for(;e.cur<t.length;){const n=t[e.cur];if(!(n>="0"&&n<="9"))break;r+=n,e.cur+=1}if(!r)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (illegal index)`);return parseInt(r,10)},ne=e=>{const t=e.str;let r="";for(;e.cur<t.length;){const n=t[e.cur];if("\\"===n)if(e.cur+1===t.length);else{r+=t[e.cur+1],e.cur+=1}else if(/^[_a-zA-Z]$/.test(n))r+=n;else{if(!(n>="0"&&n<="9"))break;if(""===r)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (field name cannot start with digits)`);r+=n}e.cur+=1}return r},ie=e=>{const t=e.str;let r="";for(;e.cur<t.length;){const n=t[e.cur];if("\\"===n)if(e.cur+1===t.length)r+="\\",e.cur+=1;else{const n=t[e.cur+1];"."===n||"["===n||"]"===n||"\\"===n?(r+=n,e.cur+=2):(r+="\\",e.cur+=1)}else{if("."===n||"["===n)break;r+=n,e.cur+=1}}return r},ae=e=>{const t=e.str;if(te(e),"*"===t[e.cur]&&"*"===t[e.cur+1])return e.cur+=2,["**"];const r=ne(e);if(!r)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (first field name illegal)`);const n=[r];for(;e.cur<t.length&&te(e);){const r=t[e.cur];if("."===r){if(e.cur+=1,te(e),"*"===t[e.cur]&&"*"===t[e.cur+1]){n.push("**"),e.cur+=2;break}const r=ne(e);if(!r)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (field name illegal)`);n.push(r)}else{if("["!==r)break;{e.cur+=1,te(e);const r=re(e);te(e);if("]"!==t[e.cur])throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (illegal index)`);e.cur+=1,n.push(r)}}}return n},oe=e=>{const t=(e=>{const t=e.str,r=[];for(;e.cur<t.length;){const n=t[e.cur];if("."===n){e.cur+=1;const t=ie(e);""!==t&&r.push(t)}else if("["===n){e.cur+=1;const n=re(e);if("]"!==t[e.cur]&&e.cur<t.length)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (illegal index)`);e.cur+=1,r.push(n)}else{const t=ie(e);r.push(t)}}return 0===r.length&&r.push(""),r})({str:e,cur:0});return t},se=e=>{if("string"!=typeof e)return e.map((e=>ae({str:e,cur:0})));const t={str:e,cur:0},r=(e=>{const t=[];for(t.push(ae(e)),te(e);","===e.str[e.cur];)e.cur+=1,t.push(ae(e)),te(e);return t})(t);if(t.cur!==e.length)throw new Error(`data path descriptor "${e}" is illegal at char ${t.cur}`);return r};var le=Object.freeze({__proto__:null,parseMultiPaths:se,parseSinglePath:oe});const ce=(e,t)=>{if("object"==typeof e&&null!==e){const r=t.get(e);if(void 0!==r)return r;if(Array.isArray(e)){const r=[];t.set(e,r);for(let n=0;n<e.length;n+=1)r[n]=ce(e[n],t);return r}const n={};t.set(e,n);const i=Object.keys(e);for(let r=0;r<i.length;r+=1){const a=i[r];n[a]=ce(e[a],t)}return n}return"symbol"==typeof e?Symbol(e.description):e},ue=e=>{if("object"==typeof e&&null!==e){if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r+=1)t[r]=ue(e[r]);return t}const t={},r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];t[i]=ue(e[i])}return t}return"symbol"==typeof e?Symbol(e.description):e},de=(e,t)=>t?ce(e,new WeakMap):ue(e);var pe;!function(e){e[e.Disabled=0]="Disabled",e[e.Enabled=1]="Enabled",e[e.Destroyed=2]="Destroyed"}(pe||(pe={}));var he=Object.freeze({__proto__:null,get AutoDestroyState(){return pe},deepCopy:de,simpleDeepCopy:ue});class fe{constructor(e){this._$subtreeObserversCount=0,this.attrObservers=null,this.allAttrObservers=null,this.textObservers=null,this.childObservers=null,this.attachObservers=null,this._$bound=e}attachChild(e){e._$mutationObserverTarget||(e._$mutationObserverTarget=new fe(e)),this._$subtreeObserversCount>0&&e._$mutationObserverTarget.updateSubtreeCount(this._$subtreeObserversCount)}detachChild(e){e._$mutationObserverTarget&&e._$mutationObserverTarget.updateSubtreeCount(-this._$subtreeObserversCount)}updateSubtreeCount(e){this._$subtreeObserversCount+=e;const t=this._$bound;if(!_(t))return;t.childNodes.forEach((t=>{t._$mutationObserverTarget||(t._$mutationObserverTarget=new fe(t)),t._$mutationObserverTarget.updateSubtreeCount(e)}))}hasSubtreeListeners(){return this._$subtreeObserversCount>0}static callAttrObservers(e,t){var r;let n=e;do{const e=n._$mutationObserverTarget;null===(r=null==e?void 0:e.allAttrObservers)||void 0===r||r.call(n,[t]),!(null==e?void 0:e.attrObservers)||"basic"!==t.nameType&&"attribute"!==t.nameType&&"component-property"!==t.nameType||e.attrObservers.call(n,[t]);const i=n.parentNode;if(!i)break;if(n=i,!n._$mutationObserverTarget)break}while(n._$mutationObserverTarget._$subtreeObserversCount>0)}static callTextObservers(e,t){var r;let n=e;do{const e=n._$mutationObserverTarget;null===(r=null==e?void 0:e.textObservers)||void 0===r||r.call(n,[t]);const i=n.parentNode;if(!i)break;if(n=i,!n._$mutationObserverTarget)break}while(n._$mutationObserverTarget._$subtreeObserversCount>0)}static callChildObservers(e,t){var r;let n=e;do{const e=n._$mutationObserverTarget;null===(r=null==e?void 0:e.childObservers)||void 0===r||r.call(n,[t]);const i=n.parentNode;if(!i)break;if(n=i,!n._$mutationObserverTarget)break}while(n._$mutationObserverTarget._$subtreeObserversCount>0)}static callAttachObservers(e,t){var r;const n=e._$mutationObserverTarget;null===(r=null==n?void 0:n.attachObservers)||void 0===r||r.call(e,[t])}}class ge{constructor(e){this._$subtreeListenersCount=0,this._$boundFuncArrs=[],this._$boundTarget=null,this._$listener=e,this._$normalizedListener=null}static create(e){return new ge(e)}observe(e,t={properties:!1,childList:!1,characterData:!1,subtree:!1,attachStatus:!1}){const r=this._$listener;if(!r)throw new Error("A MutationObserver can only observe once");let n;e._$mutationObserverTarget?n=e._$mutationObserverTarget:(n=new fe(e),e._$mutationObserverTarget=n),this._$listener=null;const i=t.subtree?r:function(e){e.target===this&&r.call(this,e)};this._$normalizedListener=i,this._$boundTarget=n,"all"===t.properties?(n.allAttrObservers||(n.allAttrObservers=new l("attributeObserver")),n.allAttrObservers.add(i),this._$boundFuncArrs.push(n.allAttrObservers),this._$subtreeListenersCount+=1):t.properties&&(n.attrObservers||(n.attrObservers=new l("attributeObserver")),n.attrObservers.add(i),this._$boundFuncArrs.push(n.attrObservers),this._$subtreeListenersCount+=1),t.childList&&(n.childObservers||(n.childObservers=new l("childObserver")),n.childObservers.add(i),this._$boundFuncArrs.push(n.childObservers),this._$subtreeListenersCount+=1),t.characterData&&(n.textObservers||(n.textObservers=new l("textObserver")),n.textObservers.add(i),this._$boundFuncArrs.push(n.textObservers),this._$subtreeListenersCount+=1),t.subtree&&n.updateSubtreeCount(this._$subtreeListenersCount),t.attachStatus&&(n.attachObservers||(n.attachObservers=new l("attachObserver")),n.attachObservers.add(i),this._$boundFuncArrs.push(n.attachObservers))}disconnect(){var e;null===(e=this._$boundTarget)||void 0===e||e.updateSubtreeCount(-this._$subtreeListenersCount);const t=this._$boundFuncArrs;this._$boundFuncArrs=[];const r=this._$normalizedListener;r&&t.forEach((e=>{e.remove(r)}))}}var ve=Object.freeze({__proto__:null,MutationObserver:ge,MutationObserverTarget:fe});const me=Object.prototype.hasOwnProperty;var ye;e.NormalizedPropertyType=void 0,(ye=e.NormalizedPropertyType||(e.NormalizedPropertyType={})).Invalid="invalid",ye.Any="any",ye.String="string",ye.Number="number",ye.Boolean="boolean",ye.Object="object",ye.Array="array",ye.Function="function";const be=(e,t)=>{const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const i=r[n];if(Object.prototype.hasOwnProperty.call(e,i))if("_"===i[0]&&M(`data field "${i}" from different behaviors is overriding or merging.`),"object"!=typeof e[i]||"object"!=typeof t[i]||null===t[i]||Array.isArray(t[i]))e[i]=t[i];else{if(Array.isArray(e[i]))e[i]=e[i].slice();else{const t=e[i],r={},n=Object.keys(t);for(let e=0;e<n.length;e+=1){const i=n[e];r[i]=t[i]}e[i]=r}be(e[i],t[i])}else e[i]=t[i]}},_e=e=>{switch(e){case"string":return"";case"number":return 0;case"boolean":return!1;case"array":return[];case"function":return function(){};default:return null}},we=e=>"string"===e||e===String?"string":"number"===e||e===Number?"number":"boolean"===e||e===Boolean?"boolean":"object"===e||e===Object?"object":"array"===e||e===Array?"array":"function"===e||e===u?"function":"any"===e||null==e?"any":"invalid",Se=(e,t,r)=>{const n=r.type,i=r.optionalTypes;if(i)for(let t=0;t<i.length;t+=1)if(Ce(i[t],e))return e;return"string"===n?null==e?(M(`property "${t}" received type-incompatible value: expected <String> but get null value. Used default value instead.`),r.defaultFn()):("object"==typeof e&&M(`property "${t}" received type-incompatible value: expected <String> but got object-typed value. Force converted.`),String(e)):"number"===n?isFinite(e)?Number(e):(M("number"==typeof e?`property "${t}" received type-incompatible value: expected <Number> but got NaN or Infinity. Used default value instead.`:`property "${t}" received type-incompatible value: expected <Number> but got non-number value. Used default value instead.`),r.defaultFn()):"boolean"===n?!!e:"array"===n?Array.isArray(e)?e:(M(`property "${t}" received type-incompatible value: expected <Array> but got non-array value. Used default value instead.`),r.defaultFn()):"object"===n?"object"==typeof e?e:(M(`property "${t}" received type-incompatible value: expected <Object> but got non-object value. Used default value instead.`),r.defaultFn()):"function"===n?"function"==typeof e?e:(M(`property "${t}" received type-incompatible value: expected <Function> but got non-function value. Used default value instead.`),r.defaultFn()):void 0===e?r.defaultFn():e},Ce=(e,t)=>{if("string"===e){if("string"!=typeof t)return!1}else if("number"===e){if(!Number.isFinite(t))return!1}else if("boolean"===e){if("boolean"!=typeof t)return!1}else if("object"===e){if("object"!=typeof t||Array.isArray(t))return!1}else if("array"===e){if("object"!=typeof t||!Array.isArray(t))return!1}else if("function"===e){if("function"!=typeof t)return!1}else if(void 0===t)return!1;return!0};var ke;!function(e){e[e.None=0]="None",e[e.Simple=1]="Simple",e[e.SimpleWithRecursion=2]="SimpleWithRecursion"}(ke||(ke={}));class Ie{constructor(e){this.observerRoot={sub:{}},this.observers=[],this.propFields=e}cloneSub(){const e=new Ie(this.propFields);return this.observers.length>0&&(e.observerRoot=ue(this.observerRoot),e.observers=this.observers.slice()),e}addObserver(e,t){const r=this.observers.length;this.observers.push({path:t,f:e});for(let e=0;e<t.length;e+=1){const n=t[e];let i=this.observerRoot,a=!1;for(let e=0;e<n.length;e+=1){const t=n[e];if("**"===t){a=!0;break}i.sub[t]||(i.sub[t]={sub:{}}),i=i.sub[t]}a?i.wildcard?i.wildcard.push(r):i.wildcard=[r]:i.listener?i.listener.push(r):i.listener=[r]}}}const Pe=(e,t,r,n)=>{const i=new Array(r.length);for(let e=0;e<r.length;e+=1){const n=r[e];let a=t;for(let e=0;e<n.length;e+=1){const t=n[e];if("**"===t)break;if("object"!=typeof a||null===a){a=void 0;break}a=a[t]}i[e]=a}p("Data Observer",n,e.getMethodCaller(),i,e||void 0)},Ae=(e,t)=>{if(e.listener)for(let r=0;r<e.listener.length;r+=1){t[e.listener[r]]=!0}if(e.wildcard)for(let r=0;r<e.wildcard.length;r+=1){t[e.wildcard[r]]=!0}const r=Object.keys(e.sub);for(let n=0;n<r.length;n+=1){const i=r[n];Ae(e.sub[i],t)}},xe=(e,t,r)=>{let n=e,i=!0;for(let e=0;e<r.length;e+=1){const a=r[e];if(n.wildcard){const e=n.wildcard;for(let r=0;r<e.length;r+=1){t[e[r]]=!0}}if(!me.call(n.sub,a)){i=!1;break}n=n.sub[a]}i&&Ae(n,t)},Te=(e,t,r,n)=>{for(let i=0;i<e.length;i+=1){const{path:a,f:o}=e[i];t[i]&&(t[i]=!1,r&&Pe(r,n,a,o))}},Ee=t=>t===e.DeepCopyKind.Simple?1:t===e.DeepCopyKind.SimpleWithRecursion?2:0;class Me{_$generateInnerData(e){const t=this._$pureDataPattern,r=this._$dataDeepCopy;if(t||0!==r){const n={},i=Object.keys(e);for(let a=0;a<i.length;a+=1){const o=i[a],s=e[o];t&&t.test(o)||(n[o]=0===r?s:2===r?de(s,!0):ue(s))}return n}return null}constructor(e,t,r,n,i,a,o){this._$modelBindingListener=null,this._$pendingChanges=[],this._$doingUpdates=null,this._$recUpdateLevel=0,this._$comp=e,this.data=t,this._$pureDataPattern=r,this._$dataDeepCopy=n,this._$propertyPassingDeepCopy=i,this._$reflectToAttributes=a&&!!e,this._$propFields=o.propFields,this._$observerTree=o,this._$observerStatus=new Array(o.observers.length),this.innerData=this._$generateInnerData(t)}static create(e){return new Me(null,e,null,0,0,!1,new Ie({}))}setUpdateListener(e){this._$updateListener=e}replaceWholeData(e){this.data=e,this.innerData=this._$generateInnerData(e)}replaceDataOnPath(e,t){this._$pendingChanges.push([e,t,void 0,void 0])}spliceArrayDataOnPath(e,t,r,n){Array.isArray(n)?this._$pendingChanges.push([e,n,null!=t?t:-1,r||0]):M(`The splice insertion must be a string (on path "${e.join(".")}"). The change is ignored.`)}replaceProperty(e,t){let r=t;return!!this._$propFields[e]&&(0!==this._$propertyPassingDeepCopy&&(r=2===this._$propertyPassingDeepCopy?de(t,!0):ue(t)),this._$pendingChanges.push([[e],r,!0,void 0]),!0)}setChanges(e){this._$pendingChanges=e}getChanges(){return this._$pendingChanges}setModelBindingListener(e,t){if(this._$modelBindingListener)this._$modelBindingListener[e]=t;else{(this._$modelBindingListener=Object.create(null))[e]=t}}applyDataUpdates(e=!1){var t;const r=this._$propFields,n=this._$comp,i=this._$pureDataPattern,a=this._$dataDeepCopy,o=!!this._$doingUpdates;let s,l;this._$observerTree.observers.length>0?this._$doingUpdates?(s=this._$doingUpdates.combined,l=this._$doingUpdates.prop):(this._$doingUpdates={prop:[],combined:[],count:0},s=this._$doingUpdates.combined,l=this._$doingUpdates.prop):(s=[],l=[]);const c=this._$pendingChanges;this._$pendingChanges=[];for(let t=0;t<c.length;t+=1){const o=c[t],[u,d,h,f]=o,g=void 0!==f,v=String(u[0]),m=!!i&&i.test(v),y=!m&&this.innerData,b=r[v];let _=!0;if(b&&1===u.length){const t=this.data[v];let r,i,s;if(g){if(Array.isArray(t)){const e=o,n=h;r=n>=0&&n<t.length?n:t.length,e[2]=r,t.splice(r,f,...d)}else M(`An array splice change cannot be applied to a non-array value (on path "${u.join(".")}"). The change is ignored.`);i=t}else i=Se(d,v,b);if(y){let e;if(0===a)o[1]=e=i;else if(void 0!==r){let t;e=this.innerData[v],o[1]=t=2===a?de(d,!0):ue(d),e.splice(r,f,...t)}else o[1]=e=2===a?de(i,!0):ue(i);this.innerData[v]=e}if(this.data[v]=i,this._$reflectToAttributes){const e=n.getBackendElement();if(e){let t=i;if(b.reflectIdPrefix){const e=n.ownerShadowRoot;if(e){const r=e.getHostNode()._$idPrefix;r&&(t=`${r}--${i}`)}}const r=v.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)),a=typeof t;"boolean"===a?i?e.setAttribute(r,""):e.removeAttribute(r):"object"===a?e.setAttribute(r,JSON.stringify(t)):e.setAttribute(r,t)}}g||!0!==h?s=t!==i:(b.comparer?(o[2]=void 0,s=!!p("Property Comparer",b.comparer,n,[d,t],null==n?void 0:n.general())):s=t!==i,_=s),!m&&s&&l.push({propName:v,prop:b,oldValue:t,newValue:i,skipModelListener:e})}else{let t,r=this.data,n=v;for(let e=1;e<u.length;e+=1){const t=u[e];Number.isFinite(t)?(me.call(r,n)&&Array.isArray(r[n])||(r[n]=[]),y||m||t>=r[n].length&&s.push([u.slice(0,e).concat("length"),!0,void 0,void 0])):me.call(r,n)&&null!==r[n]&&"object"==typeof r[n]&&!Array.isArray(r[n])||(r[n]={}),r=r[n],n=t}if(g){const e=r.length,i=r[n];if(Array.isArray(i)){const n=o,a=h;t=a>=0&&a<i.length?a:i.length,n[2]=t,i.splice(t,f,...d),y||m||r.length===e||s.push([u.concat("length"),!0,void 0,void 0])}else M(`An array splice change cannot be applied to a non-array value (on path "${u.join(".")}"). The change is ignored.`)}else r[n]=d;if(y){r=this.innerData,n=v;for(let e=1;e<u.length;e+=1){const t=u[e];Number.isFinite(t)?(me.call(r,n)&&Array.isArray(r[n])||(r[n]=[]),t>=r[n].length&&s.push([u.slice(0,e).concat("length"),!0,void 0,void 0])):me.call(r,n)&&null!==r[n]&&"object"==typeof r[n]&&!Array.isArray(r[n])||(r[n]={}),r=r[n],n=t}let e;if(0===a)o[1]=e=d;else if(void 0!==t){const i=r.length;let l;e=r[n],o[1]=l=2===a?de(d,!0):ue(d),e.splice(t,f,...l),r.length!==i&&s.push([u.concat("length"),!0,void 0,void 0])}else o[1]=e=2===a?de(d,!0):ue(d);r[n]=e}!m&&b&&l.push({propName:v,prop:b,oldValue:void 0,newValue:d,skipModelListener:e||!1})}xe(this._$observerTree.observerRoot,this._$observerStatus,u),!m&&_&&s.push(o),this._$doingUpdates&&(this._$doingUpdates.count+=1)}if(!o){if(this._$doingUpdates){let e;do{e=this._$doingUpdates.count,Te(this._$observerTree.observers,this._$observerStatus,n,this.data)}while(e!==this._$doingUpdates.count);this._$doingUpdates=null}if(this._$recUpdateLevel>0&&n&&M(`recursive update detected: a data update is applying during another data update for component "${n.is}" - this may disorder node trees`,n),this._$recUpdateLevel+=1,null===(t=this._$updateListener)||void 0===t||t.call(this,this.innerData||this.data,s),this._$recUpdateLevel-=1,n)for(let e=0;e<l.length;e+=1){const{propName:t,prop:r,oldValue:i,newValue:a,skipModelListener:o}=l[e];if(!o&&this._$modelBindingListener){const e=this._$modelBindingListener[t];e&&e(a)}r.observer&&p("Property Observer",r.observer,n.getMethodCaller(),[a,i],n),n._$mutationObserverTarget&&fe.callAttrObservers(n,{type:"properties",target:n,nameType:"component-property",propertyName:t})}}}}var Re;e.EventBubbleStatus=void 0,(Re=e.EventBubbleStatus||(e.EventBubbleStatus={}))[Re.Normal=0]="Normal",Re[Re.NoDefault=1]="NoDefault";let Oe=Date.now(),De=Oe;var Le,Ne;e.EventMutLevel=void 0,(Le=e.EventMutLevel||(e.EventMutLevel={}))[Le.None=0]="None",Le[Le.Mut=1]="Mut",Le[Le.Final=2]="Final",function(e){e[e.NotChanged=0]="NotChanged",e[e.Failed=1]="Failed",e[e.None=2]="None",e[e.Final=3]="Final",e[e.Mut=4]="Mut"}(Ne||(Ne={}));class Be{constructor(){this.listeners=Object.create(null),this.captureListeners=null}addListener(e,t,r={}){const n=r.final?2:r.mutated?1:0;let i,a,o;return r.capture||r.useCapture?this.captureListeners?i=this.captureListeners:(i=Object.create(null),this.captureListeners=i):i=this.listeners,i[e]?(o=!0,a=i[e]):(o=!1,a=i[e]={mutCount:0,finalCount:0,funcArr:new c("listener")}),a.funcArr.add(t,n),2===n?(a.finalCount+=1,o&&1!==a.finalCount?0:3):1===n?(a.mutCount+=1,!o||1===a.mutCount&&0===a.finalCount?4:0):o?0:2}removeListener(e,t,r={}){const n=r.capture||r.useCapture?this.captureListeners:this.listeners;if(!n)return 1;const i=n[e];if(!i)return 1;const a=i.funcArr.remove(t);return null===a?1:2===a?(i.finalCount-=1,0!==i.finalCount?0:i.mutCount>0?4:2):1===a?(i.mutCount-=1,0!==i.mutCount||0!==i.finalCount?0:2):0}}let $e=class e{constructor(e,t,r={}){const n=(()=>{const e=Date.now();return e<De&&(Oe+=e-De),De=e,e-Oe})();this._$eventName=this.type=e,this.timeStamp=n,this.detail=t,this.bubbles=r.bubbles||!1,this.composed=r.composed||!1,this._$capturePhase=r.capturePhase||!1,this._$eventBubblingControl={stopped:!1,mutated:!1,noDefault:!1},this._$originalEvent=r.originalEvent,this._$dispatched=!1,this._$handleListenerReturn=r.handleListenerReturn,r.extraFields&&(Object.assign(this,r.extraFields),this.extraFields=r.extraFields)}getEventBubbleStatus(){return this._$eventBubblingControl.noDefault?1:0}wrapShadowedEvent(e,t,r){const n=Object.create(this);return n.target=e,n.mark=t,n.currentTarget=r,n}getEventName(){return this._$eventName}getOriginalEvent(){return this._$originalEvent}preventDefault(){this._$eventBubblingControl.noDefault=!0}defaultPrevented(){return this._$eventBubblingControl.noDefault}stopPropagation(){this._$eventBubblingControl.stopped=!0}propagationStopped(){return this._$eventBubblingControl.stopped}markMutated(){this._$eventBubblingControl.mutated=!0}mutatedMarked(){return this._$eventBubblingControl.mutated}listenerReturnHandler(){return this._$handleListenerReturn}callListener(e,t,r,n){const i=this._$eventName,a=e._$eventTarget;if(!a)return;const o=n?a.captureListeners:a.listeners;if(!o)return;const s=o[i];if(!s)return;const l=this.mutatedMarked(),c=k(r)&&r.getMethodCaller()||r,u=k(e)&&e.getMethodCaller()||e,d=this.wrapShadowedEvent(c,t,u);this._hasListeners=!0;!1===s.funcArr.call(u,[d],(e=>!l||1!==e),k(r)?r:void 0,this._$handleListenerReturn)||s.finalCount>0?(d.stopPropagation(),d.preventDefault()):s.mutCount>0&&d.markMutated()}dispatch(e,t){if(this._$dispatched)throw new Error("Event cannot be dispatched twice");this._$dispatched=!0;const r=this.composed,n=this.bubbles,i=t&&!r,a=this._$eventBubblingControl,o=(e,t)=>{const n=e=>{let i=e;const a=e.collectMarks();for(;;){if(!1===t(i,e,a))return null;let o;if(r){if(C(i))return i.getHostNode();if(null===i.containingSlot)return null;if(i.containingSlot)o=n(i.containingSlot);else for(o=i.parentNode;null==o?void 0:o._$inheritSlots;)o=o.parentNode}else o=i.parentNode;if(!o)return null;i=o}};let i=e;for(;;){const e=n(i);if(!e)break;i=e}};if(this._$capturePhase&&!a.stopped&&!i){const t=[];o(e,((e,r,n)=>{t.push([e,r,n])}));for(let e=t.length-1;e>=0;e-=1){const[r,n,i]=t[e];if(r._$eventTarget&&(this.callListener(r,i,n,!0),a.stopped))break}}if(!a.stopped&&t&&k(e)&&e._$external&&e.shadowRoot.handleEvent(t,this),!a.stopped&&!i){let t=!0;o(e,((e,r,i)=>{if(!t&&k(e)&&e._$external){const t=e.shadowRoot;t.handleEvent(t.slot,this)}return t=!1,e._$eventTarget&&this.callListener(e,i,r,!1),n&&!a.stopped}))}}static dispatchEvent(e,t){return t.dispatch(e)}static dispatchExternalEvent(e,t,r){return r.dispatch(e,t)}static triggerEvent(t,r,n,i){const a=new e(r,n,i);e.dispatchEvent(t,a)}static triggerExternalEvent(t,r,n,i,a){const o=new e(n,i,a);e.dispatchExternalEvent(t,r,o)}};var je;!function(e){e[e.Child=0]="Child",e[e.Descendant=1]="Descendant",e[e.CrossShadowDescendant=2]="CrossShadowDescendant"}(je||(je={}));const Fe=e=>{var t;return null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode().getRootBehavior().ownerSpace};class We{static _$parseSegment(e,t){const r=/^(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/.exec(e);if(!r)return null;const n=r[1].slice(1),i=r[2].split(".");return i.shift(),n||i.length?{id:n,classes:i,relation:t}:null}constructor(e){this.unions=[];const t=String(e||"").split(",");for(let e=0;e<t.length;e+=1){const r=t[e].split(/( |\t|>+)/g),n=[];let i=1,a=0;for(;a<r.length;a+=1){const e=r[a];if(!e||" "===e||"\t"===e||">>"===e)continue;if(">"===e[0]){if(1!==i)break;i=3===e.length?2:0;continue}const t=We._$parseSegment(e,i);if(i=1,!t)break;n.push(t)}a===r.length&&(n.length&&this.unions.push(n))}}isEmpty(){return 0===this.unions.length}static _$testSelectorSegment(e,t,r,n,i,a){var o;if(r===e)return!1;const s=n[i];let l=!0;(Fe(r)!==t||s.id&&s.id!==r.id)&&(l=!1);const c=s.classes;for(let e=0;l&&e<c.length;e+=1)(null===(o=r.classList)||void 0===o?void 0:o.contains(c[e]))||(l=!1);if(!l&&0===a)return!1;let u=r;if(l&&0===i){if(null===e)return!0;for(u=u.parentNode;u;u=u.parentNode)if(u===e)return!0;if(2!==a)return!1;u=r,l=!1}const d=l?s.relation:a;do{u.parentNode?u=u.parentNode:2===d?u=C(u)?u.getHostNode():null:2===a?(l=!1,u=C(u)?u.getHostNode():null):u=null,u===e&&(u=null)}while(S(u));if(!u)return!1;if(l){if(We._$testSelectorSegment(e,t,u,n,i-1,d))return!0;if(2!==a)return!1}return We._$testSelectorSegment(e,t,u,n,i,a)}testSelector(e,t){if(S(t))return!1;const r=this.unions;let n;if(n=null!==e&&Fe(e)||Fe(t),void 0===n)return!1;for(let i=0;i<r.length;i+=1){const a=r[i];if(We._$testSelectorSegment(e,n,t,a,a.length-1,0))return!0}return!1}query(e,t){const r=[],n=(e,t,i)=>{if(this.testSelector(e,t)){if(i)return t;r.push(t)}if(k(t)){const r=t.getShadowRoot();if(r){const t=n(e,r,i);if(t&&i)return t}}const a=t.childNodes;for(let t=0;t<a.length;t+=1){const r=a[t];if(_(r)){const t=n(e,r,i);if(t&&i)return t}}return null},i=n(e,e,t);return t?i:r}}var Ue;e.StyleSegmentIndex=void 0,(Ue=e.StyleSegmentIndex||(e.StyleSegmentIndex={}))[Ue.MAIN=0]="MAIN",Ue[Ue.TEMPLATE_EXTRA=1]="TEMPLATE_EXTRA",Ue[Ue.ANIMATION_EXTRA=2]="ANIMATION_EXTRA",Ue[Ue.TEMP_EXTRA=3]="TEMP_EXTRA";const Ve={mode:2,destroyed:!0};class qe{constructor(){throw new Error("Element cannot be constructed directly")}_$initialize(e,t,r,n){this._$backendElement=t,this._$destroyOnRemoval=0,this._$nodeTreeContext=n,this._$nodeId="",this._$nodeAttributes=null,this._$nodeSlot="",this._$slotName=null,this._$slotElement=null,this._$slotValues=null,this._$subtreeSlotStart=null,this._$subtreeSlotEnd=null,this._$inheritSlots=!1,this._$placeholderHandlerRemover=void 0,this._$virtual=e,this.dataset={},this._$marks=null,this._$attached=!1,this.classList=null,this._$styleSegments=[],this.parentNode=null,this.parentIndex=-1,this.childNodes=[],this.slotNodes=void 0,this.ownerShadowRoot=r,this._$mutationObserverTarget=null,this._$eventTarget=new Be}get $$(){return this._$backendElement}get id(){return this._$nodeId}set id(e){var t;const r=String(e);if(this._$nodeId!==r){if(this._$nodeId=r,this.ownerShadowRoot){const e=this.ownerShadowRoot.getHostNode();if(this.ownerShadowRoot._$markIdCacheDirty(),e.getComponentOptions().writeIdToDOM){const t=e._$idPrefix,n=t?`${t}--${r}`:r,i=this._$backendElement;i&&i.setId(n)}}o.writeExtraInfoToAttr&&(null===(t=this._$backendElement)||void 0===t||t.setAttribute("exparser:info-attr-id",r)),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"id"})}}get slot(){return this._$nodeSlot}set slot(e){const t=String(e);if(this._$nodeSlot===t)return;if(this._$inheritSlots)throw new Error('slots-inherited nodes do not support "slot" attribute.');this._$nodeSlot=t;const r=qe._$getParentHostShadowRoot(this.parentNode);if(r){const e=r.getSlotMode();if(3===e)throw new Error("nodes inside dynamic slots should change binding slots through Element#setSlotElement.");if(0===e)throw new Error("nodes inside direct slots should not change slot name.");const t=qe._$updateSubtreeSlotNodes(this.parentNode,[this],r,r,this.parentIndex);null==t||t.removeSlotNodes();const n=this.containingSlot;null==t||t.updateContainingSlot();const i=this.containingSlot;qe.insertChildReassign(this.parentNode,this,n,i,this.parentIndex+1),null==t||t.insertSlotNodes()}this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"slot"})}get attributes(){const e=[];return this._$nodeAttributes&&Object.entries(this._$nodeAttributes).forEach((([t,r])=>{e.push({name:t,value:r})})),e}get class(){return this.classList?this.classList.getClassNames(0):""}set class(e){this.setNodeClass(e,0)}get style(){return this._$styleSegments[0]||""}set style(e){this.setNodeStyle(e,0)}asTextNode(){return null}asElement(){return this}asNativeNode(){return w(this)?this:null}asVirtualNode(){return S(this)?this:null}asShadowRoot(){return C(this)?this:null}asGeneralComponent(){return k(this)?this:null}asInstanceOf(e){return k(this)?this.asInstanceOf(e):null}getBackendContext(){const e=this._$nodeTreeContext;return e===Ve?null:e}getBackendMode(){return this._$nodeTreeContext.mode}getBackendElement(){return this._$backendElement}destroyBackendElement(){this._$backendElement&&(this._$backendElement.release(),this._$backendElement=null),this._$nodeTreeContext=Ve}destroyBackendElementOnSubtree(){const e=function(t){for(let r=0;r<t.childNodes.length;r+=1){const n=t.childNodes[r];_(n)?e(n):n.destroyBackendElement()}if(k(t)){const r=t.getShadowRoot();r&&e(r)}t.destroyBackendElement()};e(this)}destroyBackendElementOnRemoval(){this._$destroyOnRemoval=1}cancelDestroyBackendElementOnRemoval(){this._$destroyOnRemoval=0}destroyBackendElementOnDetach(){this._$destroyOnRemoval=1}cancelDestroyBackendElementOnDetach(){this._$destroyOnRemoval=0}isVirtual(){return this._$virtual}setNodeClass(e,t=0){var r;(null===(r=this.classList)||void 0===r?void 0:r.setClassNames(e,t))&&this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"class"})}toggleNodeClass(e,t,r=0){var n;(null===(n=this.classList)||void 0===n?void 0:n.toggle(e,t,r))&&this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"class"})}setNodeStyle(e,t=0){if(this._$styleSegments[t]===e)return;this._$styleSegments[t]=e;const r=this._$styleSegments.join(";");this._$backendElement&&this._$backendElement.setStyle(r),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"style"})}static checkAndCallAttached(e){!function e(t){if(_(t)&&!t._$attached){if(t._$attached=!0,k(t)){t.triggerLifetime("attached",[]),t._$relation&&(t._$relation.triggerLinkEvent(2,!1),t._$relation.triggerLinkEvent(4,!1),t._$relation.triggerLinkEvent(0,!1)),t._$mutationObserverTarget&&fe.callAttachObservers(t,{type:"attachStatus",target:t,status:"attached"});const r=t.getShadowRoot();r&&e(r)}else w(t)&&t.triggerLifetime("attached",[]);const r=t.childNodes;for(let t=0;t<r.length;t+=1)e(r[t])}}(e)}static checkAndCallDetached(e){if(function e(t){if(_(t)&&t._$attached){if(k(t)&&t.triggerLifetime("beforeDetach",[]),t.childNodes.forEach(e),k(t)){const r=t.getShadowRoot();r&&e(r)}t._$attached=!1,(k(t)||w(t))&&t.triggerLifetime("detached",[]),k(t)&&(t._$relation&&(t._$relation.triggerLinkEvent(2,!0),t._$relation.triggerLinkEvent(4,!0),t._$relation.triggerLinkEvent(0,!0)),t._$mutationObserverTarget&&fe.callAttachObservers(t,{type:"attachStatus",target:t,status:"detached"}))}}(e),_(e)){const t=function(r){if(2===e._$destroyOnRemoval)return;for(let e=0;e<r.childNodes.length;e+=1){const n=r.childNodes[e];_(n)?t(n):1===n._$destroyOnRemoval&&(n._$destroyOnRemoval=2,n.destroyBackendElement())}if(k(r)){const e=r.getShadowRoot();e&&t(e)}1===r._$destroyOnRemoval&&(r._$destroyOnRemoval=2,r.destroyBackendElement());const n=r._$placeholderHandlerRemover;"function"==typeof n&&n()};t(e)}else 1===e._$destroyOnRemoval&&(e._$destroyOnRemoval=2,e.destroyBackendElement())}static checkAndCallMoved(e){!function e(t){if(_(t)&&t._$attached&&(t.childNodes.forEach(e),k(t))){const r=t.getShadowRoot();r&&e(r),t.triggerLifetime("moved",[]),t._$relation&&(t._$relation.triggerLinkEvent(2,!1),t._$relation.triggerLinkEvent(4,!1),t._$relation.triggerLinkEvent(0,!1))}}(e)}static checkChildObservers(e,t,r){var n;const i=e._$mutationObserverTarget;if(i&&(!(null===(n=i.childObservers)||void 0===n?void 0:n.empty)||i.hasSubtreeListeners())){const n=[r];let i;i="add"===t?{type:"childList",target:e,addedNodes:n}:"remove"===t?{type:"childList",target:e,removedNodes:n}:{type:"childList",target:e,addedNodes:n,removedNodes:n},fe.callChildObservers(e,i)}}static hasSubtreeMutationObservers(e){var t;return(null===(t=e._$mutationObserverTarget)||void 0===t?void 0:t.hasSubtreeListeners())||!1}static _$insertChildReassignSlot(e,t,r,n){if(r)if(n){const e=[...r.slotNodes];for(let t=0;t<e.length;t+=1){const i=e[t];qe._$spliceSlotNodes(r,0,1,void 0),qe._$spliceSlotNodes(n,-1,0,[i]),qe._$updateContainingSlot(i,n),i._$inheritSlots||qe.insertChildReassign(i.parentNode,i,r,n,i.parentIndex)}}else{const e=[...r.slotNodes];for(let t=0;t<e.length;t+=1){const i=e[t];qe._$spliceSlotNodes(r,0,1,void 0),qe._$updateContainingSlot(i,n),i._$inheritSlots||qe.insertChildReassign(i.parentNode,i,r,null,i.parentIndex)}}else{const r=[];e.forEachNodeInSpecifiedSlot(null,(e=>{if(null!==t){if((_(e)?e._$nodeSlot:"")!==t)return}r.push(e)}));for(let e=0;e<r.length;e+=1){const t=r[e];qe._$spliceSlotNodes(n,-1,0,[t]),qe._$updateContainingSlot(t,n),t._$inheritSlots||qe.insertChildReassign(t.parentNode,t,null,n,t.parentIndex)}}}static insertChildReassign(e,t,r,n,i){if(r){const e=qe.findNearestNonVirtual(r);if(e){const r=qe.countNonVirtual(t);if(r){const[t,n]=r;e.spliceRemove(t._$backendElement,n)}}}n&&qe.insertChildComposed(e,t,void 0,!1,i)}static findNearestNonVirtual(e){let t=e;for(;null==t?void 0:t._$virtual;)t=C(t)?t.getHostNode():void 0===t.containingSlot?t.parentNode:t.containingSlot;return t?t._$backendElement:null}static countNonVirtual(e){let t=null,r=0;const n=e=>{0===r&&(t=e),r+=1};var i;return _(i=e)&&i._$virtual?i.forEachNonVirtualComposedChild(n):n(i),t?[t,r]:null}static forEachNodeInSlot(e,t){const r=e=>{if(!1===t(e,e.containingSlot))return!1;if(e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!r(t[e]))return!1;return!0}return!0};return r(e)}static forEachNodeInSpecificSlot(e,t,r){const n=e=>{if(e.containingSlot===t&&!1===r(e))return!1;if(e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!n(t[e]))return!1;return!0}return!0};return n(e)}static forEachSlotContentInSlot(e,t){const r=e=>{if(e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!r(t[e]))return!1;return!0}return!1!==t(e,e.containingSlot)};return r(e)}static forEachSlotContentInSpecificSlot(e,t,r){const n=e=>{if(e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!n(t[e]))return!1;return!0}return e.containingSlot!==t||!1!==r(e)};return n(e)}static _$findFirstNonVirtualChild(e,t){const r=null!==e._$slotName,n=r?e.slotNodes:e.childNodes;if(t>=0&&t<n.length)for(let e=t;e<n.length;e+=1){let t=null;const i=e=>(t=e,!1),a=e=>{if(!r&&e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!1===a(t[e]))return!1}return e._$virtual?e.forEachNonVirtualComposedChild(i):i(e)};if(a(n[e]),t)return t}const i=e=>{if(!e._$virtual)return null;const t=e.containingSlot;if(null===t)return null;if(void 0!==t)return qe._$findFirstNonVirtualChild(t,e.slotIndex+1);if(C(e))return i(e.getHostNode());const r=e.parentNode;return r?qe._$findFirstNonVirtualChild(r,e.parentIndex+1):null};return i(e)}static _$findFirstNonVirtualSibling(e,t){const r=e.containingSlot;if(null===r)return null;if(void 0!==r){if(!r._$virtual)return null;if(void 0!==e.slotIndex)return qe._$findFirstNonVirtualChild(r,e.slotIndex+1);const n=qe._$findSlotNodeInsertPosition(r,e,t);return qe._$findFirstNonVirtualChild(r,n)}let n=e;if(C(e))return n=e.getHostNode(),n._$virtual?qe._$findFirstNonVirtualChild(n,n.parentIndex+1):null;const i=n.parentNode;return i?qe._$findFirstNonVirtualChild(i,t):null}static insertChildComposed(e,t,r,n,i){var a,s,l;let c=!1,u=e;for(;null==u?void 0:u._$inheritSlots;)c=!0,u=u.parentNode;if(!u)return;const d=u,p=d._$nodeTreeContext;if(p.destroyed)return;let h;k(d)?d._$external?h=d.shadowRoot.slot:c=!0:(d._$virtual&&(c=!0),h=qe.findNearestNonVirtual(d));let f=null;const g=(e,a)=>{const o=e||(a?qe.findNearestNonVirtual(a):null);if(!o)return;let s=0,l=null,u=null,d=null;if(t){const e=f||p.createFragment();f=e;const r=t=>{e.appendChild(t._$backendElement),u=e};qe.forEachNodeInSpecificSlot(t,a,(e=>{d||(d=e),e._$virtual?e.forEachNonVirtualComposedChild(r):r(e)}))}(r||c)&&(n&&r?(qe.forEachSlotContentInSpecificSlot(r,a,(e=>{if(_(e)){const t=qe.countNonVirtual(e);t&&(l||(l=t[0]),s+=t[1])}else l||(l=e),s+=1;return!0})),0===s&&u&&d&&(l=qe._$findFirstNonVirtualSibling(void 0===a?t:d,i+1))):u&&d&&(l=qe._$findFirstNonVirtualSibling(void 0===a?t:d,i))),u?l?o.spliceBefore(l._$backendElement,s,u):o.spliceAppend(u):s>0&&o.spliceRemove(l._$backendElement,s)};if(void 0!==h)if(null===h);else if(c||_(t)&&t._$virtual||_(r)&&r._$virtual)g(h,void 0);else if(n)if(t){if(t._$backendElement&&r._$backendElement){const e=p.createFragment();t._$backendElement&&e.appendChild(t._$backendElement),r._$backendElement&&h.spliceBefore(r._$backendElement,1,e)}}else h.removeChild(r._$backendElement);else r?h.insertBefore(t._$backendElement,r._$backendElement):h.appendChild(t._$backendElement);else if(t&&t._$inheritSlots||n&&r&&r._$inheritSlots){const e=new Set;n&&r&&qe.forEachSlotContentInSlot(r,((t,r)=>{e.add(r)})),t&&qe.forEachSlotContentInSlot(t,((t,r)=>{e.add(r)})),e.forEach((e=>g(null,e)))}else t&&g(null,t.containingSlot),!n||!r||t&&r.containingSlot===t.containingSlot||g(null,r.containingSlot);f&&f.release(),o.writeExtraInfoToAttr&&(n&&_(r)&&(null===(a=r._$backendElement)||void 0===a||a.removeAttribute("exparser:info-in-slot-of")),_(t)&&(k(e)?null===(s=t._$backendElement)||void 0===s||s.setAttribute("exparser:info-in-slot-of",e._$componentInstanceId):null===(l=t._$backendElement)||void 0===l||l.removeAttribute("exparser:info-in-slot-of")))}static _$updateSubtreeSlotsInsertion(e,t,r,n,i){if(!t||!r)return;let a=e,o=null,s=null;const l=(e,t)=>{if(e._$subtreeSlotStart){const r=e.childNodes;let n=t+1,i=r[n];for(;i&&!i._$subtreeSlotStart;)n+=1,i=r[n];return void(i?(s=i._$subtreeSlotStart,o=s.prev):(o=e._$subtreeSlotEnd,o&&(s=o.next)))}let r=e,n=e.parentNode;for(;n&&!n._$subtreeSlotStart;)r=n,n=n.parentNode;n&&l(n,r.parentIndex)};for(l(a,n),o&&(o.next=t,t.prev=o),s&&(s.prev=r,r.next=s);a;){let e=!1;if(a._$subtreeSlotStart?a._$subtreeSlotStart===s?(a._$subtreeSlotStart=t,e=!0):a._$subtreeSlotEnd===o&&(a._$subtreeSlotEnd=r,e=!0):(a._$subtreeSlotStart=t,a._$subtreeSlotEnd=r,e=!0),!e||!a.parentNode)break;a=a.parentNode}const c=a.ownerShadowRoot;(null==c?void 0:c.isConnected(a))&&c._$applySlotsInsertion(t,r,i)}static _$updateSubtreeSlotsRemoval(e,t,r,n){if(!t||!r)return;let i=e;const a=t.prev,o=r.next;for(a&&(a.next=o,t.prev=null),o&&(o.prev=a,r.next=null);i;){let e=!1;if(i._$subtreeSlotStart===t&&i._$subtreeSlotEnd===r&&(i._$subtreeSlotStart=i._$subtreeSlotEnd=null,e=!0),i._$subtreeSlotStart===t?(i._$subtreeSlotStart=o,e=!0):i._$subtreeSlotEnd===r&&(i._$subtreeSlotEnd=a,e=!0),!e||!i.parentNode)break;i=i.parentNode}const s=i.ownerShadowRoot;(null==s?void 0:s.isConnected(i))&&s._$applySlotsRemoval(t,r,n)}static _$updateSubtreeSlotsReplacement(e,t,r,n,i,a,o){if(!t||!r)return void qe._$updateSubtreeSlotsRemoval(e,n,i,o);if(!n||!i)return void qe._$updateSubtreeSlotsInsertion(e,t,r,a,o);let s=e;const l=n.prev,c=i.next;for(l&&(l.next=t,t.prev=l,n.prev=null),c&&(c.prev=r,r.next=c,i.next=null);s;){let e=!1;if(s._$subtreeSlotStart===n&&(s._$subtreeSlotStart=t,e=!0),s._$subtreeSlotEnd===i&&(s._$subtreeSlotEnd=r,e=!0),!e||!s.parentNode)break;s=s.parentNode}const u=s.ownerShadowRoot;(null==u?void 0:u.isConnected(s))&&(u._$applySlotsRemoval(n,i,!1),u._$applySlotsInsertion(t,r,o))}static _$updateSubtreeSlotNodes(e,t,r,n,i){if(!r&&!n)return;const a=null==r?void 0:r.getSlotMode(),o=null==n?void 0:n.getSlotMode();if(!(void 0!==a&&0!==a||void 0!==o&&0!==o))return;if(!(void 0!==a&&1!==a||void 0!==o&&1!==o)){let e=-1,a=0,o=-1;const s=[],l=t[0].containingSlot,c=null==r?void 0:r.getContainingSlot(t[0]);for(let r=0;r<t.length;r+=1){const n=t[r];qe.forEachNodeInSlot(n,(t=>{l&&(a?a+=1:(e=t.slotIndex,a=1)),s.push(t)}))}if(c&&s.length){const e=s[0];o=qe._$findSlotNodeInsertPosition(c,e,i)}return{updateContainingSlot:()=>{for(let e=s.length-1;e>=0;e-=1){const t=s[e];qe._$updateContainingSlot(t,c)}},removeSlotNodes:()=>{n&&l&&a&&qe._$spliceSlotNodes(l,e,a,void 0)},insertSlotNodes:()=>{r&&c&&s.length&&qe._$spliceSlotNodes(c,o,0,s)}}}const s=new Map,l=new Map,c=[];for(let e=0;e<t.length;e+=1){const n=t[e];qe.forEachNodeInSlot(n,((e,t)=>{const n=0!==a?null==r?void 0:r.getContainingSlot(e):void 0;if(t){const r=l.get(t);r?r.count+=1:l.set(t,{start:e.slotIndex,count:1})}if(n){const t=s.get(n);t?t.nodes.push(e):s.set(n,{nodes:[e],insertPos:-1})}c.push([e,n])}))}if(r&&s.size){const e=s.entries();for(let t=e.next();!t.done;t=e.next()){const[e,{nodes:r}]=t.value,n=r[0];t.value[1].insertPos=qe._$findSlotNodeInsertPosition(e,n,i)}}return{updateContainingSlot:()=>{for(let e=c.length-1;e>=0;e-=1){const[t,r]=c[e];qe._$updateContainingSlot(t,r)}},removeSlotNodes:()=>{if(n&&l.size){const e=l.entries();for(let t=e.next();!t.done;t=e.next()){const[e,{start:r,count:n}]=t.value;qe._$spliceSlotNodes(e,r,n,void 0)}}},insertSlotNodes:()=>{if(r&&s.size){const e=s.entries();for(let t=e.next();!t.done;t=e.next()){const[e,{nodes:r,insertPos:n}]=t.value;qe._$spliceSlotNodes(e,n,0,r)}}}}}static insertChildSingleOperation(e,t,r,n){var i,a,o,s;if(t&&e.ownerShadowRoot!==t.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");let l=r;const c=l>=0?e.childNodes[l]:void 0;let u,d;if(u=!!n&&(!!c&&t!==c),!u&&!t)return;if(t){if(d=t.parentNode,d){const r=d.childNodes,n=t.parentIndex;r.splice(n,1);for(let e=n;e<r.length;e+=1)r[e].parentIndex=e;t.parentIndex=-1,d===e&&n<l&&(l-=1);const i=qe._$updateSubtreeSlotNodes(e,[t],null,qe._$getParentHostShadowRoot(d),l);null==i||i.removeSlotNodes(),qe.insertChildComposed(d,null,t,!0,n),null==i||i.updateContainingSlot()}t.parentNode=e,d!==e&&(d&&(null===(i=d._$mutationObserverTarget)||void 0===i||i.detachChild(t)),null===(a=e._$mutationObserverTarget)||void 0===a||a.attachChild(t))}else d=null;const p=qe._$getParentHostShadowRoot(e),h=t?qe._$updateSubtreeSlotNodes(e,[t],p,null,l):null,f=c&&u?qe._$updateSubtreeSlotNodes(e,[c],null,p,l):null;null==h||h.updateContainingSlot(),null==f||f.removeSlotNodes(),qe.insertChildComposed(e,t,c,u,l),null==h||h.insertSlotNodes(),null==f||f.updateContainingSlot(),u&&c&&(_(c)&&(null===(o=e._$mutationObserverTarget)||void 0===o||o.detachChild(c)),c.parentNode=null,c.parentIndex=-1);const g=e.childNodes;if(t)if(l<0)g.push(t),t.parentIndex=g.length-1;else if(u)g[l]=t,t.parentIndex=l;else{g.splice(l,0,t);for(let e=l;e<g.length;e+=1)g[e].parentIndex=e}else if(u){g.splice(l,1);for(let e=l;e<g.length;e+=1)g[e].parentIndex=e}const v=t?t._$subtreeSlotStart:null,m=t?t._$subtreeSlotEnd:null,y=c?c._$subtreeSlotStart:null,b=c?c._$subtreeSlotEnd:null;t?(d&&qe._$updateSubtreeSlotsRemoval(d,v,m,!0),u?qe._$updateSubtreeSlotsReplacement(e,v,m,y,b,l,!!d):qe._$updateSubtreeSlotsInsertion(e,v,m,l,!!d)):u&&c&&qe._$updateSubtreeSlotsRemoval(e,y,b,!1),null===(s=e.ownerShadowRoot)||void 0===s||s._$markIdCacheDirty(),u&&(qe.checkAndCallDetached(c),qe.checkChildObservers(e,"remove",c)),t&&((null==d?void 0:d._$attached)?e._$attached?qe.checkAndCallMoved(t):qe.checkAndCallDetached(t):e._$attached&&qe.checkAndCallAttached(t),d===e?qe.checkChildObservers(e,"move",t):(d&&qe.checkChildObservers(d,"remove",t),qe.checkChildObservers(e,"add",t)))}static insertChildBatchRemoval(e,t,r){var n,i;e.childNodes[t];let a=e;for(;null==a?void 0:a._$inheritSlots;)a=a.parentNode;const o=k(a)&&!a._$external?a.shadowRoot:null,s=e.childNodes,l=s.splice(t,r);for(let e=t;e<s.length;e+=1)s[e].parentIndex=e;const c=qe._$updateSubtreeSlotNodes(e,l,null,o,t);null==c||c.removeSlotNodes();for(let t=r-1;t>=0;t-=1)qe.insertChildComposed(e,null,l[t],!0,t);for(let t=0;t<r;t+=1){const r=l[t];r.parentNode=null,r.parentIndex=-1,_(r)&&(null===(n=e._$mutationObserverTarget)||void 0===n||n.detachChild(r))}null==c||c.updateContainingSlot();let u=null,d=null;for(let e=0;e<r;e+=1){const t=l[e];u||(u=t._$subtreeSlotStart),t._$subtreeSlotEnd&&(d=t._$subtreeSlotEnd)}qe._$updateSubtreeSlotsRemoval(e,u,d,!1),null===(i=e.ownerShadowRoot)||void 0===i||i._$markIdCacheDirty();for(let t=0;t<r;t+=1){const r=l[t];qe.checkAndCallDetached(r),qe.checkChildObservers(e,"remove",r)}}static insertChildBatchInsertion(e,t,r){var n,i;const a=r>=0?e.childNodes[r]:void 0;let o=e;for(;null==o?void 0:o._$inheritSlots;)o=o.parentNode;const s=k(o)&&!o._$external?o.shadowRoot:null;for(let r=0;r<t.length;r+=1){const i=t[r];if(e.ownerShadowRoot!==i.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");if(i.parentNode)throw new Error("Cannot batch-insert the node which already has a parent.");i.parentNode=e,null===(n=e._$mutationObserverTarget)||void 0===n||n.attachChild(i)}const l=qe._$updateSubtreeSlotNodes(e,t,s,null,r);null==l||l.updateContainingSlot();{const n=r>=0?r:e.childNodes.length;for(let r=0;r<t.length;r+=1){const i=t[r];qe.insertChildComposed(e,i,a,!1,n)}}null==l||l.insertSlotNodes();const c=e.childNodes;if(a){c.splice(r,0,...t);for(let e=r;e<c.length;e+=1)c[e].parentIndex=e}else{c.push(...t);for(let e=c.length-t.length;e<c.length;e+=1)c[e].parentIndex=e}let u=null,d=null;for(let e=0;e<t.length;e+=1){const r=t[e],n=r._$subtreeSlotStart,i=r._$subtreeSlotEnd;n&&(d?(n.prev=d,d.next=n,d=i):(u=n,d=i))}qe._$updateSubtreeSlotsInsertion(e,u,d,r+t.length-1,!1),null===(i=e.ownerShadowRoot)||void 0===i||i._$markIdCacheDirty();for(let r=0;r<t.length;r+=1){const n=t[r];e._$attached&&qe.checkAndCallAttached(n),qe.checkChildObservers(e,"add",n)}}static insertChildPlaceholderReplace(e,t,r){var n,i,a,o,s;if(r&&e.ownerShadowRoot!==r.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");if(r.parentNode)throw new Error("Cannot replace with the node which already has a parent.");const l=e.childNodes[t];if(!_(l))throw new Error("Cannot replace on text nodes.");if(null!==l._$slotName||null!==r._$slotName)throw new Error("Cannot replace on slot nodes.");if(l===r)return;const c=l.childNodes;for(let t=0;t<c.length;t+=1){const a=c[t];qe.insertChildComposed(l,null,a,!0,t),a.parentNode=r,null===(n=l._$mutationObserverTarget)||void 0===n||n.detachChild(a),null===(i=e._$mutationObserverTarget)||void 0===i||i.attachChild(a)}l.childNodes=[],l.parentNode=null,l.parentIndex=-1,r.parentNode=e;const u=l.containingSlot,d=l.slotIndex;void 0!==u&&(qe._$updateContainingSlot(r,u),u&&qe._$spliceSlotNodes(u,d,1,void 0));const p=c.length?qe._$updateSubtreeSlotNodes(r,c,qe._$getParentHostShadowRoot(r),qe._$getParentHostShadowRoot(l),0):null;null==p||p.updateContainingSlot(),null==p||p.removeSlotNodes(),e.childNodes[t]=r,r.parentIndex=t,qe.insertChildComposed(e,r,l,!0,t);for(let e=0;e<c.length;e+=1){const t=c[e];qe.insertChildComposed(r,t,void 0,!1,e)}null==p||p.insertSlotNodes(),void 0!==u&&(qe._$updateContainingSlot(l,void 0),u&&qe._$spliceSlotNodes(u,d,0,[r])),r._$subtreeSlotStart=l._$subtreeSlotStart,r._$subtreeSlotEnd=l._$subtreeSlotEnd,null===(a=e._$mutationObserverTarget)||void 0===a||a.detachChild(l),null===(o=e._$mutationObserverTarget)||void 0===o||o.attachChild(r),r.childNodes.push(...c);for(let e=r.childNodes.length-c.length;e<r.childNodes.length;e+=1)r.childNodes[e].parentIndex=e;if(null===(s=e.ownerShadowRoot)||void 0===s||s._$markIdCacheDirty(),e._$attached){qe.checkAndCallDetached(l),qe.checkChildObservers(e,"remove",l),qe.checkAndCallAttached(r),qe.checkChildObservers(e,"add",r);for(let t=0;t<c.length;t+=1){const r=c[t];qe.checkAndCallMoved(r),qe.checkChildObservers(e,"move",r)}}}appendChild(e){qe.insertChildSingleOperation(this,e,this.childNodes.length,!1)}insertChildAt(e,t){qe.insertChildSingleOperation(this,e,t,!1)}insertBefore(e,t){const r=t?t.parentIndex:-1;qe.insertChildSingleOperation(this,e,r,!1)}removeChildAt(e){qe.insertChildSingleOperation(this,null,e,!0)}removeChild(e){const t=e.parentIndex;qe.insertChildSingleOperation(this,null,t,!0)}replaceChildAt(e,t){qe.insertChildSingleOperation(this,e,t,!0)}replaceChild(e,t){const r=t.parentIndex;qe.insertChildSingleOperation(this,e,r,!0)}insertChildren(e,t){qe.insertChildBatchInsertion(this,e,t)}removeChildren(e,t){qe.insertChildBatchRemoval(this,e,t)}selfReplaceWith(e){const t=this.parentNode;t&&qe.insertChildPlaceholderReplace(t,this.parentIndex,e)}static _$generateIdMap(e){const t=Object.create(null);return function e(r){if(_(r)){const n=r._$nodeId;n&&(t[n]||(t[n]=r)),r.childNodes.forEach(e)}}(e),t}triggerEvent(e,t,r){$e.triggerEvent(this,e,t,r)}dispatchEvent(e){$e.dispatchEvent(this,e)}_$setListenerStats(e,t,r={}){if(!this._$backendElement)return;let n;switch(r.capture||r.useCapture,t){case 2:n=0;break;case 4:n=1;break;case 3:n=2;break;default:return}if(this._$nodeTreeContext){const t=2===n;this._$backendElement.setEventDefaultPrevented(e,t)}}addListener(e,t,r){const n=this._$eventTarget.addListener(e,t,r);this._$setListenerStats(e,n,r),k(this)&&this._$definition._$options.listenerChangeLifetimes?this.triggerLifetime("listenerChange",[!0,e,t,r]):w(this)&&"function"==typeof this._$listenerChangeCb&&this._$listenerChangeCb.apply(this,[!0,e,t,r])}removeListener(e,t,r){const n=this._$eventTarget.removeListener(e,t,r);1!==n&&(this._$setListenerStats(e,n,r),k(this)&&this._$definition._$options.listenerChangeLifetimes?this.triggerLifetime("listenerChange",[!1,e,t,r]):w(this)&&"function"==typeof this._$listenerChangeCb&&this._$listenerChangeCb.apply(this,[!1,e,t,r]))}getAttribute(e){return this._$nodeAttributes&&Object.prototype.hasOwnProperty.call(this._$nodeAttributes,e)?this._$nodeAttributes[e]:null}updateAttribute(e,t){this.setAttribute(e,t)}setAttribute(e,t){let r;this._$nodeAttributes?r=this._$nodeAttributes:(r=Object.create(null),this._$nodeAttributes=r),r[e]=t;const n=this._$backendElement;n&&n.setAttribute(e,t),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"attribute",attributeName:e})}removeAttribute(e){this._$nodeAttributes&&delete this._$nodeAttributes[e];const t=this._$backendElement;t&&t.removeAttribute(e),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"attribute",attributeName:e})}setDataset(e,t){this.dataset[e]=t,this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"dataset",attributeName:`data:${e}`})}setMark(e,t){if(this._$marks)this._$marks[e]=t;else{const r={};r[e]=t,this._$marks=r}this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"mark",attributeName:`mark:${e}`})}collectMarks(){const e={};let t;for(t=this;t;t=t.parentNode){const r=t._$marks;r&&Object.keys(r).forEach((t=>{Object.prototype.hasOwnProperty.call(e,t)||(e[t]=r[t])}))}return e}static replaceDocumentElement(e,t,r){if(e._$attached)throw new Error("An attached element cannot be attached again");e._$backendElement&&t.replaceChild(e._$backendElement,r),qe.checkAndCallAttached(e)}static pretendAttached(e){e._$attached||qe.checkAndCallAttached(e)}static pretendDetached(e){e._$attached&&qe.checkAndCallDetached(e)}static isAttached(e){return e._$attached}static setSlotName(e,t){if(e._$inheritSlots)throw new Error("Slot-inherit mode is not usable in slot element");const r=t?String(t):"",n=e._$slotName;if(n===r)return;const i=null===n;e._$slotName=r,i&&(e._$subtreeSlotStart=e._$subtreeSlotEnd={value:e,prev:null,next:null});const a=e.ownerShadowRoot;if(a)if(i){3===a.getSlotMode()&&(e._$slotValues=Object.create(null)),e.slotNodes=[];const t=e.parentNode;t&&qe._$updateSubtreeSlotsInsertion(t,e._$subtreeSlotStart,e._$subtreeSlotEnd,e.parentIndex,!1)}else a.isConnected(e)&&a._$applySlotRename(e,r,n);e._$mutationObserverTarget&&fe.callAttrObservers(e,{type:"properties",target:e,nameType:"basic",attributeName:"name"})}static getSlotName(e){const t=e._$slotName;return null===t?void 0:t}static setInheritSlots(e){if(!e._$virtual)throw new Error("Cannot set slot-inherit on non-virtual node");if(null!==e._$slotName||0!==e.childNodes.length)throw new Error("Slot-inherit mode cannot be set when the element has any child node");e._$inheritSlots=!0}static getInheritSlots(e){return e._$inheritSlots}isInheritSlots(){return this._$inheritSlots}static setSlotElement(e,t){if(e._$slotElement===t)return;e._$slotElement=t;const r=qe._$getParentHostShadowRoot(e.parentNode);if(r){const t=qe._$updateSubtreeSlotNodes(e.parentNode,[e],r,r,e.parentIndex),n=e.containingSlot;null==t||t.updateContainingSlot(),null==t||t.removeSlotNodes();const i=e.containingSlot,a=e=>{if(_(e)&&e._$inheritSlots)for(let t=0;t<e.childNodes.length;t+=1)a(e.childNodes[t]);else qe.insertChildReassign(e.parentNode,e,n,i,e.parentIndex)};a(e),null==t||t.insertSlotNodes()}}static _$updateContainingSlot(e,t){e.containingSlot=t}static _$spliceSlotNodes(e,t,r,n){const i=e.slotNodes=e.slotNodes||[],a=t>=0&&t<i.length;if(null==n?void 0:n.length)if(a){for(let e=t;e<t+r;e+=1)i[e].slotIndex=void 0;i.splice(t,r,...n);for(let e=t;e<i.length;e+=1)i[e].slotIndex=e}else{const e=i.length;i.push(...n);for(let t=e;t<i.length;t+=1)i[t].slotIndex=t}else if(r){for(let e=t;e<t+r;e+=1)i[e].slotIndex=void 0;i.splice(t,r);for(let e=t;e<i.length;e+=1)i[e].slotIndex=e}}static _$findSlotNodeInsertPosition(e,t,r){const n=e.ownerShadowRoot.getHostNode(),i=e=>{let t=0,r=e;for(;r&&r!==n;)t+=1,r=r.parentNode;return t},a=i(t),o=(e,t,r,n,i,a,s)=>{if(e===n)return 0;if(e.parentNode===n.parentNode)return t-(-1===i?s:i);if(a<r){const t=e.parentNode;return o(t,t.parentIndex,r-1,n,i,a,s)}const l=r<a?e:e.parentNode,c=r<a?r:r-1,u=n.parentNode,d=a-1,p=o(l,l.parentIndex,c,u,u.parentIndex,d,s);return 0===p?-1:p},s=e.slotNodes;let l=s.length-1;for(;l>=0;l-=1){const e=s[l];if(o(e,e.parentIndex,i(e),t,t.parentIndex,a,r>=0?r-.5:s.length)<0)break}return l+1}getComposedParent(){if(C(this))return this.getHostNode();if(void 0!==this.containingSlot)return this.containingSlot;let e=this.parentNode;for(;null==e?void 0:e._$inheritSlots;)e=e.parentNode;return e}getComposedChildren(){const e=[];return this.forEachComposedChild((t=>{e.push(t)})),e}forEachComposedChild(e){if(this._$inheritSlots)return!0;if(k(this)&&!this._$external)return!1!==e(this.shadowRoot);if(null!==this._$slotName){const t=this.ownerShadowRoot;return!t||t.forEachNodeInSpecifiedSlot(this,e)}const t=r=>{for(let n=0;n<r.length;n+=1){const i=r[n];if(!1===e(i))return!1;if(i._$inheritSlots&&!t(i.childNodes))return!1}return!0};return t(this.childNodes)}*iterateComposedChild(){if(this._$inheritSlots)return;if(k(this)&&!this._$external)return void(yield this.shadowRoot);if(null!==this._$slotName){if(!this.ownerShadowRoot)return;const e=this.slotNodes;for(let t=0;t<e.length;t+=1)yield e[t];return}const e=function*(t){for(let r=0;r<t.length;r+=1){const n=t[r];yield n,n._$inheritSlots&&(yield*e(n.childNodes))}};yield*e(this.childNodes)}forEachNonVirtualComposedChild(e){if(this._$inheritSlots)return!0;const t=t=>t._$virtual?t.forEachNonVirtualComposedChild(e):!1!==e(t);if(k(this)&&!this._$external)return t(this.shadowRoot);if(null!==this._$slotName){const e=this.ownerShadowRoot;return!e||e.forEachSlotContentInSpecifiedSlot(this,t)}const r=e=>{for(let n=0;n<e.length;n+=1){const i=e[n];if(!t(i))return!1;if(i._$inheritSlots&&!r(i.childNodes))return!1}return!0};return r(this.childNodes)}static parseSelector(e){return new We(e)}querySelector(e){return(e instanceof We?e:new We(e)).query(this,!0)}querySelectorAll(e){return(e instanceof We?e:new We(e)).query(this,!1)}static matchSelector(e,t){return(e instanceof We?e:new We(e)).testSelector(null,t)}matchSelector(e,t){return(e instanceof We?e:new We(e)).testSelector(this,t)}getBoundingClientRect(e){const t=this._$backendElement;if(t){const r=t;r.getBoundingClientRect?r.getBoundingClientRect(e):setTimeout((()=>{e({left:0,top:0,width:0,height:0})}),0)}else setTimeout((()=>{e({left:0,top:0,width:0,height:0})}),0)}getScrollOffset(e){const t=this._$backendElement;if(t){const r=t;r.getScrollOffset?r.getScrollOffset(e):setTimeout((()=>{e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}),0)}else setTimeout((()=>{e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}),0)}createIntersectionObserver(e,t,r,n){const i=this._$backendElement;if(i){if(e&&!e._$backendElement)return null;const a=i;return a.createIntersectionObserver?a.createIntersectionObserver((null==e?void 0:e._$backendElement)||null,t,r,n):null}return null}getContext(e){const t=this._$backendElement;if(t){const r=t;r.getContext?r.getContext(e):e(null)}}}var ze;qe.isElement=_,qe._$getParentHostShadowRoot=e=>{let t=e;for(;null==t?void 0:t._$inheritSlots;)t=t.parentNode;return k(t)&&!t._$external?t.shadowRoot:null},qe.prototype[f]=!0,e.RelationType=void 0,(ze=e.RelationType||(e.RelationType={}))[ze.Ancestor=0]="Ancestor",ze[ze.Descendant=1]="Descendant",ze[ze.ParentNonVirtualNode=2]="ParentNonVirtualNode",ze[ze.ChildNonVirtualNode=3]="ChildNonVirtualNode",ze[ze.ParentComponent=4]="ParentComponent",ze[ze.ChildComponent=5]="ChildComponent";const Ge=(e,t,r,n)=>{const i=e=>"function"==typeof e?e:(void 0!==e&&M(`the "${r}" relation listener is not a function (when preparing behavior "${t}").`),null);let a;if("parent"===n.type)a=4;else if("child"===n.type)a=5;else if("parent-common-node"===n.type)a=2;else if("child-common-node"===n.type)a=3;else if("ancestor"===n.type)a=0;else{if("descendant"!==n.type){const e=n.type;return M(`the "${r}" relation has an invalid relation type "${e}" (when preparing behavior "${t}").`),null}a=1}let o=null;if(n.target instanceof It)o=n.target.behavior;else if(n.target instanceof Et||n.target instanceof H)o=n.target;else{const i=String(n.target||r),a=e.getComponentByUrlWithoutDefault(i,t);if(a)o=a.behavior;else{const t=e.getGlobalUsingComponent(i);"object"==typeof t&&null!==t&&(o=t.behavior)}}return o?{target:o,type:a,linked:i(n.linked),linkChanged:i(n.linkChanged),unlinked:i(n.unlinked),linkFailed:i(n.linkFailed)}:(M(`the target of relation "${r}" is not a valid behavior or component (when preparing behavior "${t}").`),null)};class He{constructor(e,t){this._$comp=e;const r=new Array(6);if(t)for(let e=0;e<6;e+=1){const n=t.definitions[e];if(n){const t=new Array(n.length);for(let e=0;e<n.length;e+=1)t[e]=null;r[e]=t}}this._$group=t,this._$sharedGroup=!0,this._$links=r}add(e){if(this._$sharedGroup){this._$sharedGroup=!1;const e=this._$group;this._$group=e?{definitions:e.definitions.slice(),keyMap:Object.assign(Object.create(null),e.keyMap)}:{definitions:new Array(6),keyMap:Object.create(null)}}const t=Symbol(""),r=this._$group.definitions,n=this._$group.keyMap,i=e.type;r[i]?(n[t]=[i,r[i].length],r[i].push(e)):(n[t]=[i,0],r[i]=[e]);const a=this._$links;return void 0===a[i]?a[i]=[null]:a[i].push(null),t}triggerLinkEvent(e,t){var r,n;const i=this._$comp,a=this._$links,o=null===(r=this._$group)||void 0===r?void 0:r.definitions[e];if(o)for(let r=0;r<o.length;r+=1){const s=a[e],l=s[r];let c=null;const u=o[r],d=u.target;if(!t){let t=i;for(;;){const r=t.parentNode;if(!r)break;if(t=r,!S(t)){if(k(t)){if(t.hasBehavior(d)){const r=t._$relation;if(r){let i;i=4===e?5:0===e?1:3;const a=null===(n=r._$group)||void 0===n?void 0:n.definitions[i];if(a){for(let e=0;e<a.length;e+=1){const r=a[e];if(r.target&&this._$comp.hasBehavior(r.target)){c={target:t,def:r};break}}if(c)break}}}if(4===e)break}if(2===e)break}}}if(s[r]=c,l){const e=l.target,t=l.def;c&&l.target===c.target&&l.def===c.def?(t.linkChanged&&p("Relation Link Changed Callback",t.linkChanged,e.getMethodCaller(),[i.getMethodCaller()],e),u.linkChanged&&p("Relation Link Changed Callback",u.linkChanged,i.getMethodCaller(),[e.getMethodCaller()],i)):(t.unlinked&&p("Relation Unlinked Callback",t.unlinked,e.getMethodCaller(),[i.getMethodCaller()],e),u.unlinked&&p("Relation Unlinked Callback",u.unlinked,i.getMethodCaller(),[e.getMethodCaller()],i))}if(c){const e=c.target,t=c.def;l&&l.target===c.target&&l.def===c.def||(t.linked&&p("Relation Linked Callback",t.linked,e.getMethodCaller(),[i.getMethodCaller()],e),u.linked&&p("Relation Linked Callback",u.linked,i.getMethodCaller(),[e.getMethodCaller()],i))}t||c||!u.linkFailed||p("Relation Link Failed Callback",u.linkFailed,i.getMethodCaller(),[],i)}}getLinkedTargets(e){var t,r,n,i;const a=null===(t=this._$group)||void 0===t?void 0:t.keyMap[e];if(!a)return M(`no relation "${String(e)}" found.`),[];const[o,s]=a;if(4===o||2===o||0===o){const e=null===(r=this._$links[o])||void 0===r?void 0:r[s];return e?[e.target]:[]}const l=[],c=this._$comp,u=null===(i=null===(n=this._$group)||void 0===n?void 0:n.definitions[o])||void 0===i?void 0:i[s],d=e=>{const t=e.childNodes;for(let e=0;e<t.length;e+=1){const r=t[e];if(_(r))if(S(r))d(r);else if(k(r)){if(r._$relation){let e;if(e=5===o?r._$relation._$links[4]:1===o?r._$relation._$links[0]:r._$relation._$links[2],e)for(let t=0;t<e.length;t+=1){const n=e[t];if(n&&n.target===c&&n.def===u){l.push(r);break}}}1===o&&d(r)}else 5!==o&&1!==o||d(r)}};return d(this._$comp),l}}class Ke extends qe{constructor(){throw new Error("Element cannot be constructed directly")}static create(e,t,r,n,i){var a,s;const l=Object.create(Ke.prototype);l.is=e,l.stylingName=null!=r?r:e;const c=t.getBackendContext();let u=null;if(c){u=c.createElement(e,l.stylingName)}l._$initialize(!1,u,t,t._$nodeTreeContext),l._$placeholderHandlerRemover=i,l._$attributeFilters=Object.create(null),l._$lifetimeFuncs=Object.create(null);const d=t.getHostNode(),p=d.getComponentOptions(),h=null!==(a=p.styleScope)&&void 0!==a?a:V.globalScope(),f=null!==(s=p.extraStyleScope)&&void 0!==s?s:void 0,g=d._$behavior.ownerSpace.styleScopeManager;if(l.classList=new q(l,void 0,d.classList,h,f,g),u){if(u.setStyleScope(h,f),o.writeExtraInfoToAttr){const e=g.queryName(h);e&&u.setAttribute("exparser:info-class-prefix",`${e}--`)}u.__wxElement=l,u.__wxElement=l}if(void 0!==n){void 0!==n.attributeFilters&&(l._$attributeFilters=n.attributeFilters);(n.lifetimesFromBehaviors||[]).forEach((e=>{e.prepare();const t=e._$lifetimes;for(let e=0;e<t.length;e+=1){const{name:r,func:n}=t[e];l._$addLifetimeFunc(r,n)}}));const e=n.lifetimes||{};Object.entries(e).forEach((([e,t])=>{l._$addLifetimeFunc(e,t)}));const t=n.eventListeners||{};Object.entries(t).forEach((([e,t])=>{const{handler:r,capture:n}=t;l.addListener(e,(e=>r(l,e)),{capture:n})}))}return l.triggerLifetime("created",[]),l}callAttributeFilter(e,t,r){"function"==typeof this._$attributeFilters[e]?this._$attributeFilters[e](this,e,t,r):r(t)}_$addLifetimeFunc(e,t){if(this._$lifetimeFuncs[e])this._$lifetimeFuncs[e].add(t);else{(this._$lifetimeFuncs[e]=new l("lifetime")).add(t)}}triggerLifetime(e,t){const r=this._$lifetimeFuncs[e];r&&r.call(this,t,this.is)}setModelBindingListener(e,t){var r,n;if(this._$modelBindingListeners||(this._$modelBindingListeners=Object.create(null)),!this._$modelBindingListeners[e]){const t=this.getBackendElement();if(t){const i=t=>{var r;const n=null===(r=this._$modelBindingListeners)||void 0===r?void 0:r[e];n&&n.call(this,t)};null===(n=(r=t).setModelBindingStat)||void 0===n||n.call(r,e,i)}}this._$modelBindingListeners[e]=t}getModelBindingListeners(){const e=Object.create(null);return this._$modelBindingListeners&&Object.keys(this._$modelBindingListeners).forEach((t=>{e[t]=e=>{var r;const n=null===(r=this._$modelBindingListeners)||void 0===r?void 0:r[t];n&&n.call(this,e)}})),e}}Ke.isNativeNode=w,Ke.prototype[g]=!0;class Je{constructor(e,t){this._$slotElement=null,this._$destroyOnRemoval=0,this._$subtreeSlotStart=null,this._$subtreeSlotEnd=null,this._$mutationObserverTarget=null,this._$text=String(e);let r=null;const n=t.getBackendContext();if(n){r=n.createTextNode(e)}this._$backendElement=r,this.ownerShadowRoot=t,this.parentNode=null,this.parentIndex=-1,this.containingSlot=void 0}static create(e,t){return new Je(e,t)}asTextNode(){return this}asElement(){return null}asNativeNode(){return null}asVirtualNode(){return null}asShadowRoot(){return null}asGeneralComponent(){return null}asInstanceOf(){return null}destroyBackendElement(){this._$backendElement&&(this._$backendElement.release(),this._$backendElement=null)}destroyBackendElementOnRemoval(){this._$destroyOnRemoval=1}cancelDestroyBackendElementOnRemoval(){this._$destroyOnRemoval=0}destroyBackendElementOnDetach(){this._$destroyOnRemoval=1}cancelDestroyBackendElementOnDetach(){this._$destroyOnRemoval=0}getBackendElement(){return this._$backendElement}getBackendContext(){return this.ownerShadowRoot.getBackendContext()}getComposedParent(){if(void 0!==this.containingSlot)return this.containingSlot;let e=this.parentNode;for(;null==e?void 0:e._$inheritSlots;)e=e.parentNode;return e}get $$(){return this._$backendElement}get textContent(){return this._$text}set textContent(e){const t=String(e);t!==this._$text&&(this._$text=t,this._$backendElement&&this._$backendElement.setText(this._$text),this._$mutationObserverTarget&&fe.callTextObservers(this,{type:"characterData",target:this}))}}Je.isTextNode=b,Je.prototype[h]=!0;class Xe extends qe{constructor(){throw new Error("Element cannot be constructed directly")}_$initializeVirtual(e,t,r){this.is=String(e),this._$initialize(!0,null,t,t._$nodeTreeContext)}static create(e,t){const r=Object.create(Xe.prototype);return r._$initializeVirtual(e,t,t.getBackendContext()),r}}var Ye;Xe.isVirtualNode=S,Xe.prototype[v]=!0,function(e){e[e.Direct=0]="Direct",e[e.Single=1]="Single",e[e.Multiple=2]="Multiple",e[e.Dynamic=3]="Dynamic"}(Ye||(Ye={}));class Qe extends Xe{constructor(){throw new Error("Element cannot be constructed directly")}static createShadowRoot(e){const t=Object.create(Qe.prototype);t.is="shadow",t._$idMap=null;let r=1;const n=e.getComponentOptions();return n.multipleSlots?r=2:n.dynamicSlots?r=3:n.directSlots&&(r=0),t._$slotMode=r,1===r?t._$singleSlot=null:2===r?(t._$slots=Object.create(null),t._$slotsList=Object.create(null)):3===r&&(t._$dynamicSlotsInserted=!1,t._$dynamicSlots=new Map,t._$requiredSlotValueNames=[],t._$propertyPassingDeepCopy=Ee(n.propertyPassingDeepCopy),t._$insertDynamicSlotHandler=void 0,t._$removeDynamicSlotHandler=void 0,t._$updateDynamicSlotHandler=void 0),t._$backendShadowRoot=null,t._$initialize(!0,null,t,e._$nodeTreeContext),t._$host=e,e.shadowRoot=t,t}getHostNode(){return this._$host}createTextNode(e=""){return new Je(e,this)}createNativeNode(e){return Ke.create(e,this)}createVirtualNode(e="virtual"){return Xe.create(e,this)}createNativeNodeWithInit(e,t,r,n){const i=this._$host._$behavior.ownerSpace.getExtendedNativeNode(e),a=Ke.create(e,this,t,i,r);return null==n||n(a),a}createComponent(e,t,r,n,i){const a=this._$host,o=a._$behavior,s=a._$genericImpls,l=o.ownerSpace,c=void 0===t?e:t,u=[o._$using[c],s&&s[c]];for(let t=0;t<u.length;t+=1){const c=u[t];if(null==c)continue;if("string"==typeof c)return this.createNativeNodeWithInit(c,e,void 0,i);let d,p;if(c.final)d=c.final;else if(null!==c.placeholder){d=kt(c.placeholder,l,c.source,s);const e=c.waiting;n&&e&&(e.add(n),e.hintUsed(a),p=()=>{e.remove(n)})}if("string"==typeof d)return this.createNativeNodeWithInit(d,e,p,i);if(d)return xt._$advancedCreate(e,d,this,null,Ct(d,o,a,r),p,i)}let d=l.getGlobalUsingComponent(c);if(null===d&&l._$allowUnusedNativeNode&&""!==c&&(d=c),!d){if(d=l.getDefaultComponent(),!d)throw new R(`Cannot find component "${c}"`,void 0,this._$host);M(`Cannot find component "${c}", using default component.`,this._$host)}return"string"==typeof d?this.createNativeNodeWithInit(d,e,void 0,i):xt._$advancedCreate(e,d,this,null,Ct(d,o,a,r),void 0,i)}createComponentByDef(e,t){return xt._$advancedCreate(e,t,this,null,null,void 0)}createComponentOrNativeNode(e,t,r){const n=this._$host,i=n._$behavior,a=i.ownerSpace,o=a.getGlobalUsingComponent(e);if("string"==typeof o)return this.createNativeNodeWithInit(o,e,void 0,r);if(o)return xt._$advancedCreate(e,o,this,null,Ct(o,i,n,t),void 0,r);if(a._$allowUnusedNativeNode){const t=Ke.create(e,this);return null==r||r(t),t}throw new R(`Unknown tag name ${e}`,"[render]",n)}checkComponentPlaceholder(e){var t;let r;const n=this._$host._$behavior._$using[e];if(void 0!==n)r=n;else{const n=null===(t=this._$host._$genericImpls)||void 0===t?void 0:t[e];if(!n)return;r=n}return"string"!=typeof r&&(!r.final&&null!==r.placeholder)}getElementById(e){return this._$getIdMap()[e]}_$markIdCacheDirty(){this._$idMap=null}_$getIdMap(){if(this._$idMap)return this._$idMap;const e=qe._$generateIdMap(this);return this._$idMap=e,e}getSlotElementFromName(e){const t=this._$slotMode;if(0===t)throw new Error("cannot get slot element in directSlots");if(1===t)return this._$singleSlot;if(2===t)return this._$slots[e]||null;if(3===t){const t=[];for(let r=this._$subtreeSlotStart;r;r=r.next){const n=r.value;(n._$slotName||"")===e&&t.push(n)}return t}return null}getContainingSlot(e){var t;const r=this._$slotMode;if(0===r)return(null==e?void 0:e.containingSlot)||null;if(1===r)return this._$singleSlot;if(3===r){if(!e)return null;let r=e;for(;null===(t=r.parentNode)||void 0===t?void 0:t._$inheritSlots;)r=r.parentNode;const n=r._$slotElement;if((null==n?void 0:n.ownerShadowRoot)===this)return n}if(2===r){let t;return t=_(e)?e._$nodeSlot:"",this._$slots[t]||null}return null}getSlotContentArray(e){if(null===e._$slotName)return null;const t=[];return this.forEachNodeInSpecifiedSlot(e,(e=>{t.push(e)})),t}forEachSlot(e){const t=this._$slotMode;if(0===t)throw new Error("Cannot iterate slots in directSlots");if(1===t)this._$singleSlot&&e(this._$singleSlot);else if(2===t){const t=Object.values(this._$slots);for(let r=0;r<t.length&&!1!==e(t[r]);r+=1);}else if(3===t)for(let t=this._$subtreeSlotStart;t&&!1!==e(t.value);t=t.next);}forEachNodeInSlot(e){const t=this._$host.childNodes;for(let r=0;r<t.length;r+=1)if(!qe.forEachNodeInSlot(t[r],e))return!1;return!0}forEachNodeInSpecifiedSlot(e,t){if(e){const r=e.slotNodes;for(let e=0;e<r.length;e+=1){const n=r[e];if(!1===t(n))return!1}return!0}return this.forEachNodeInSlot(((e,r)=>null!==r||t(e)))}forEachSlotContentInSlot(e){const t=this._$host.childNodes;for(let r=0;r<t.length;r+=1)if(!qe.forEachSlotContentInSlot(t[r],e))return!1;return!0}forEachSlotContentInSpecifiedSlot(e,t){if(e){const r=e.slotNodes;for(let e=0;e<r.length;e+=1){const n=r[e];if(!n._$inheritSlots&&!1===t(n))return!1}return!0}return this.forEachSlotContentInSlot(((e,r)=>null!==r||t(e)))}isConnected(e){if(e.ownerShadowRoot!==this)return!1;for(let t=e;t;t=t.parentNode)if(t===this)return!0;return!1}_$applyMultipleSlotInsertion(e,t,r){const n=this._$slotsList,i=this._$slots;if(n[t]){const r=n[t];let i={next:r},a=!0;for(let t=this._$subtreeSlotStart;t&&i.next&&t.value!==e;t=t.next)t.value===i.next.value&&(a=!1,i=i.next);if(a)n[t]=r.prev={value:e,prev:null,next:r};else{const t=i.next;i.next={value:e,prev:i,next:t},t&&(t.prev=i.next)}}else n[t]={value:e,prev:null,next:null};const a=i[t],o=n[t].value;a!==o&&(i[t]=o,qe._$insertChildReassignSlot(this,t,a||null,o))}_$applyMultipleSlotsRemoval(e,t,r){const n=this._$slotsList,i=this._$slots;let a=n[t]||null;for(;a&&a.value!==e;a=a.next);if(!a)return;const o=a.prev,s=a.next;o&&(o.next=s),s&&(s.prev=o);if(!!o)return;const l=s;if(l){const a=l.value;n[t]=l,r||(i[t]=a,qe._$insertChildReassignSlot(this,t,e,a))}else delete n[t],r||(delete i[t],qe._$insertChildReassignSlot(this,t,e,null))}_$applySlotRename(e,t,r){const n=this._$slotMode;if(1!==n&&0!==n){if(2===n)return this._$applyMultipleSlotsRemoval(e,r,!1),void this._$applyMultipleSlotInsertion(e,t,!1);if(3===n){if(!this._$dynamicSlotsInserted)return;const r=this._$insertDynamicSlotHandler,n=this._$removeDynamicSlotHandler;this._$dynamicSlots.set(e,{updatePathTree:void 0}),null==n||n([e]),null==r||r([{slot:e,name:t,slotValues:e._$slotValues}])}}}_$applySlotsInsertion(e,t,r){const n=this._$slotMode;if(0!==n){if(1===n){const e=this._$singleSlot,t=this._$subtreeSlotStart.value;if(e===t)return;return this._$singleSlot=t,void qe._$insertChildReassignSlot(this,null,e,t)}if(2!==n){if(3===n){if(r)return;if(!this._$dynamicSlotsInserted)return;const n=this._$insertDynamicSlotHandler,i=[];for(let r=e;r&&r!==t.next;r=r.next){const e=r.value,t=e._$slotName;this._$dynamicSlots.set(e,{updatePathTree:void 0}),i.push({slot:e,name:t,slotValues:e._$slotValues})}null==n||n(i)}}else for(let n=e;n&&n!==t.next;n=n.next){const e=n.value,t=e._$slotName;this._$applyMultipleSlotInsertion(e,t,r)}}}_$applySlotsRemoval(e,t,r){var n;const i=this._$slotMode;if(0!==i){if(1===i){if(r)return;const e=this._$singleSlot,t=(null===(n=this._$subtreeSlotStart)||void 0===n?void 0:n.value)||null;if(e===t)return;return this._$singleSlot=t,void qe._$insertChildReassignSlot(this,null,e,t)}if(2!==i){if(3===i){if(r)return;if(!this._$dynamicSlotsInserted)return;const n=this._$removeDynamicSlotHandler,i=[];for(let r=e;r&&r!==t.next;r=r.next){const e=r.value;this._$dynamicSlots.delete(e),i.push(e)}null==n||n(i)}}else for(let n=e;n&&n!==t.next;n=n.next){const e=n.value,t=e._$slotName;this._$applyMultipleSlotsRemoval(e,t,r)}}}setDynamicSlotHandler(e,t,r,n){if(3===this._$slotMode&&(this._$requiredSlotValueNames=e,this._$insertDynamicSlotHandler=t,this._$removeDynamicSlotHandler=r,this._$updateDynamicSlotHandler=n,this._$dynamicSlotsInserted)){const e=this._$dynamicSlots.values();for(let t=e.next();!t.done;t=e.next()){const e=t.value;e.updatePathTree=e.updatePathTree||Object.create(null)}}}useDynamicSlotHandlerFrom(e){e._$insertDynamicSlotHandler&&this.setDynamicSlotHandler(e._$requiredSlotValueNames.slice(),e._$insertDynamicSlotHandler,e._$removeDynamicSlotHandler,e._$updateDynamicSlotHandler)}replaceSlotValue(e,t,r){var n;const i=e._$slotValues;if(!i)return;const a=i[t];let o=r;if(0!==this._$propertyPassingDeepCopy&&(o=2===this._$propertyPassingDeepCopy?de(r,!0):ue(r)),a===o)return;if(i[t]=o,e._$mutationObserverTarget&&fe.callAttrObservers(e,{type:"properties",target:e,nameType:"slot-value",propertyName:t}),this._$requiredSlotValueNames.indexOf(t)<0)return;const s=null===(n=this._$dynamicSlots)||void 0===n?void 0:n.get(e);s&&(s.updatePathTree||(s.updatePathTree=Object.create(null)),s.updatePathTree[t]=!0)}applySlotValueUpdates(e){var t,r;const n=null===(t=this._$dynamicSlots)||void 0===t?void 0:t.get(e),i=null==n?void 0:n.updatePathTree;i&&(n.updatePathTree=void 0,null===(r=this._$updateDynamicSlotHandler)||void 0===r||r.call(this,e,e._$slotValues,i))}applySlotUpdates(){var e;if(this._$dynamicSlotsInserted){const t=this._$dynamicSlots.entries();for(let r=t.next();!r.done;r=t.next()){const[t,n]=r.value,i=n.updatePathTree;i&&(n.updatePathTree=void 0,null===(e=this._$updateDynamicSlotHandler)||void 0===e||e.call(this,t,t._$slotValues,i))}}else{this._$dynamicSlotsInserted=!0;const e=this._$insertDynamicSlotHandler,t=[];for(let e=this._$subtreeSlotStart;e;e=e.next){const r=e.value,n=r._$slotName;this._$dynamicSlots.set(r,{updatePathTree:void 0}),t.push({slot:r,name:n,slotValues:r._$slotValues})}null==e||e(t)}}getSlotMode(){return this._$slotMode}}Qe.isShadowRoot=C,Qe.prototype[m]=!0;class Ze{constructor(e,t,r,n,i){this.ownerShadowRoot=n,this.elem=r,this.keyName=e,this.updateKeys(t);const a=this.items,o=this.indexes,s=[];for(let e=0;e<a.length;e+=1){const t=a[e],r=null===o?e:o[e];s.push(i(t,r))}r.insertChildren(s,-1)}updateKeys(e){let t,r;if(Array.isArray(e))t=e,r=null;else if("object"==typeof e&&null!==e){const n=Object.keys(e);t=new Array(n.length),r=new Array(n.length);for(let i=0;i<n.length;i+=1){const a=n[i],o=e[a];t[i]=o,r[i]=a}}else if("string"==typeof e){M("Use string as for-list is generally for testing. Each character is treated as an item.",this.ownerShadowRoot.getHostNode(),this.elem),t=new Array(e.length),r=null;for(let r=0;r<e.length;r+=1)t[r]=e[r]}else if("number"==typeof e){M("Use number as for-list is generally for testing. The number is used as the repeated times of the item.",this.ownerShadowRoot.getHostNode(),this.elem),t=new Array(e),r=null;for(let r=0;r<e;r+=1)t[r]=r}else M(`The for-list data is neither Array nor Object, got type "${null===e?"null":typeof e}".`,this.ownerShadowRoot.getHostNode(),this.elem),t=[],r=null;this.items=t,this.indexes=r;const n=this.keyName,i=new Array(t.length),a=Object.create(null);let o;if(null!==n){for(let e=0;e<t.length;e+=1){const r=t[e],s="*this"===n?r:null==r?void 0:r[n],l=null!=s?String(s):"";i[e]=l,void 0!==a[l]?(o||(o=Object.create(null)),o[l]=[a[l],e],delete a[l]):(null==o?void 0:o[l])?o[l].push(e):a[l]=e}if(o){const e=Object.keys(o);M(`Some keys are not unique while list updates: "${e.join('", "')}".`,this.ownerShadowRoot.getHostNode(),this.elem);for(let t=0;t<e.length;t+=1){const r=e[t],n=o[r];let s=0;for(let e=0;e<n.length;e+=1){const t=n[e];for(;void 0!==a[`${r}--${s}`];)s+=1;const o=`${r}--${s}`;a[o]=t,i[t]=o}}}}this.rawKeys=i,this.keyMap=a,this.sharedKeyMap=o}diff(e,t,r,n,i){const a=this.rawKeys,o=this.keyMap,s=this.sharedKeyMap,l=this.indexes;this.updateKeys(e);const c=this.rawKeys,u=this.sharedKeyMap,d=this.items,p=this.indexes,h=this.keyName,f="object"==typeof t&&Array.isArray(Object.getPrototypeOf(t));let g,v;if(!0===t)v=!0,g=null===h;else if(void 0===t)v=t,g=!0;else if(null===h)v=!0,g=!0;else{let e=!1;if(f)e=!0;else{const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const i=t[r[n]];if(!0===i||("*this"===h?i:null==i?void 0:i[h])){e=!0;break}}}if(e){v=new Array(c.length);for(let e=0;e<c.length;e+=1){const r=c[e];if(void 0!==(null==s?void 0:s[r])||void 0!==(null==u?void 0:u[r]))v[e]=!0;else{const r=t[e];void 0===r||(!0===r||("*this"===h?r:null==r?void 0:r[h])?v[e]=!0:v[e]=r)}}g=!1}else v=t,g=!1}if(g){let e;e=!!f||t;let o=0;for(;o<a.length&&o<c.length;){const t=d[o],n=null===p?o:p[o],a=null===l?o:l[o];i(t,n,!0===e||void 0===e?e:e[n],n!==a,r.childNodes[o]),o+=1}if(o<a.length)r.removeChildren(o,a.length-o);else if(o<c.length){const e=[];for(;o<c.length;o+=1){const t=d[o],r=null===p?o:p[o];e.push(n(t,r))}r.insertChildren(e,-1)}return}const m=[],y=[],b=new Array(c.length),_=new Array(c.length);let w=-1,S=-1;for(let e=0;e<c.length;e+=1){const t=c[e];if(a[w+1]===t){w+=1,S+=1,m[S]=w,y[S]=e,b[e]=S>0?y[S-1]:-1,_[e]=w;continue}const r=o[t];if(void 0===r){_[e]=-1;continue}let n=0,i=m.length;for(;n<i;){const e=Math.floor((n+i)/2);r<m[e]?i=e:n=e+1}m[i]=r,y[i]=e,b[e]=i>0?y[i-1]:-1,_[e]=r,w=r,S=i}const C=y.length;if(C===c.length&&C===a.length){let e=0;for(;e<a.length&&e<c.length;){const t=d[e],n=null===p?e:p[e],a=null===l?e:l[e];i(t,n,!0===v||void 0===v?v:v[e],n!==a,r.childNodes[e]),e+=1}return}let k=C>0?y[C-1]:-1,I=C;for(;-1!==k;)I-=1,m[I]=k,k=b[k];const P=m;let A;!function(e){e[e.Stable=0]="Stable",e[e.ForwardMove=1]="ForwardMove",e[e.BackwardMove=2]="BackwardMove"}(A||(A={}));const x=new Array(a.length),T=new Array(c.length);let E=-1;for(let e=0;e<_.length;e+=1){const t=_[e];if(e!==P[I])if(-1!==t)x[t]=t>E?2:1,T[e]=r.childNodes[t];else{const t=d[e],r=null===p?e:p[e];T[e]=n(t,r)}else E=t,I+=1,x[t]=0}let M=0,R=0,O=0;I=0;do{const e=I<P.length?P[I]:T.length,t=I<P.length?_[e]:x.length;for(;R<t;)if(void 0===x[R]){const e=R;R+=1;let n=1;for(;R<t&&void 0===x[R];)R+=1,n+=1;r.removeChildren(e+M,n),M-=n}else 2===x[R]&&(M-=1),R+=1;for(;O<e;){const n=T[O],a=_[O];if(-1===a){const n=O;O+=1;let i=1;for(;O<e&&-1===_[O];)O+=1,i+=1;r.insertChildren(T.slice(n,n+i),t+M),M+=i}else{n&&r.insertChildAt(n,t+M);const e=d[O],o=null===p?O:p[O],s=null===l?a:l[a];i(e,o,!0===v||void 0===v?v:v[O],o!==s,n),2===x[a]&&(M+=1),O+=1}}if(I<P.length){const n=d[e],a=null===p?e:p[e],o=null===l?t:l[t];i(n,a,!0===v||void 0===v?v:v[e],a!==o,r.childNodes[t+M])}R=t+1,O=e+1,I+=1}while(I<=P.length)}}let et=e=>e;let tt=(e,t,r)=>r.apply(e,[t]);const rt=e=>{const t=e;return t._$wxTmplArgs=t._$wxTmplArgs||{}},nt=e=>null==e?"":String(e),it=e=>e.replace(/-(.|$)/g,(e=>e[1]?e[1].toUpperCase():""));class at{constructor(e,t,r){this.bindingMapDisabled=!1,this.changePropFilter=et,this.eventListenerWrapper=tt,this.s=(e,t)=>{e.slot=t,this.tryCallPropertyChangeListener(e,"slot",t)},this.l=(e,t,r,n)=>{var i;3===this.shadowRoot.getSlotMode()?this.shadowRoot.replaceSlotValue(e,t,r):this.checkFallbackEventListener(e,t,r,n)||M(`"${t}" is not a valid event binding or slot value`,null===(i=e.ownerShadowRoot)||void 0===i?void 0:i.getHostNode(),e),this.tryCallPropertyChangeListener(e,t,r)},this.i=(e,t)=>{e.id=t,this.tryCallPropertyChangeListener(e,"id",t)},this.c=(e,t)=>{if(k(e)){e.hasExternalClass("class")&&e.setExternalClass("class",t)}e.setNodeClass(t),this.tryCallPropertyChangeListener(e,"class",t)},this.y=(e,t)=>{if(k(e)&&xt.hasProperty(e,"style")){const r=xt.getDataProxy(e),n=it("style");r.replaceProperty(n,t)}else e.setNodeStyle(nt(t),0);this.tryCallPropertyChangeListener(e,"style",t)},this.d=(e,t,r)=>{e.setDataset(t,r)},this.m=(e,t,r)=>{e.setMark(t,r)},this.v=(e,t,r,n,i,a,o,s)=>{const l="function"==typeof r?r:nt(r),c=t=>{const r=e.ownerShadowRoot.getHostNode(),n=r.getMethodCaller(),i="function"==typeof l?l:xt.getMethod(r,l);if("function"==typeof i)return this.eventListenerWrapper(n,t,i,s)},u={final:n,mutated:i,capture:a,extraFields:{handler:l}};if(o){const r=rt(e);r.dynEvListeners||(r.dynEvListeners={});const n=r.dynEvListeners;n[t]&&e.removeListener(t,n[t],u),n[t]=c}l&&e.addListener(t,c,u)},this.r=(e,t,r,n,i)=>{var a;if(k(e)){const o=xt.getDataProxy(e),s=it(t);o.replaceProperty(s,r)?void 0!==n&&(null===n?o.setModelBindingListener(s,(()=>{})):o.setModelBindingListener(s,(t=>{const r=e.ownerShadowRoot.getHostNode(),i=xt.getDataProxy(r);i.replaceDataOnPath(n,t),i.applyDataUpdates(!1)}))):e.hasExternalClass(t)?e.setExternalClass(t,r):this.checkFallbackEventListener(e,s,r,i)||M(`"${s}" is not a valid property`,null===(a=e.ownerShadowRoot)||void 0===a?void 0:a.getHostNode(),e)}else if(w(e)){const a=it(t);this.fallbackListenerOnNativeNode&&this.checkFallbackEventListener(e,a,r,i)||e.callAttributeFilter(a,r,(t=>{e.updateAttribute(a,t)})),n&&e.setModelBindingListener(t,(t=>{const r=e.ownerShadowRoot.getHostNode(),i=xt.getDataProxy(r);i.replaceDataOnPath(n,t),i.applyDataUpdates(!1)}))}this.tryCallPropertyChangeListener(e,t,r)},this.a=(e,t,r)=>{e.updateAttribute(t,r),this.tryCallPropertyChangeListener(e,t,r)},this.wl=(e,t,r)=>{k(e)&&e.triggerWorkletChangeLifetime(t,r)},this.p=(e,t,r,n)=>{const i=rt(e);i.changeProp||(i.changeProp=Object.create(null)),i.changeProp[t]={listener:this.changePropFilter(r,n),oldValue:void 0}},this.shadowRoot=e,this.procGen=t,this.fallbackListenerOnNativeNode=r}create(e){const{shadowRoot:t,procGen:r}=this,n=r(this,!0,e,void 0);return this.handleChildrenCreationAndInsert(n.C,t,void 0,void 0),n.B}update(e,t){const{shadowRoot:r,procGen:n}=this,i=n(this,!1,e,t);this.handleChildrenUpdate(i.C,r,void 0,void 0)}bindingMapUpdate(e,t,r){if(this.bindingMapDisabled)return!1;const n=r[e];if(!n)return!1;let i=null;for(let e=0;e<n.length;e+=1){(0,n[e])(t,(e=>{if(null!==i&&e!==i&&k(i)&&i.hasPendingChanges()){xt.getDataProxy(i).applyDataUpdates(!0)}i=e}),((e,t)=>{e.textContent=t}))}const a=i;if(null!==a&&k(a)&&a.hasPendingChanges()){xt.getDataProxy(a).applyDataUpdates(!0)}return!0}handleChildrenCreation(e,t,r){const n=[];return e(!0,((e,i)=>{if(t&&""!==r){const e=this.createDynamicPlaceholder(t);return void n.push(e)}const a=this.shadowRoot.createTextNode(e);a.destroyBackendElementOnRemoval(),t&&qe.setSlotElement(a,t),i&&i(a),n.push(a)}),((e,i,a,o,s,l)=>{if(t&&r!==(s||"")){const e=this.createDynamicPlaceholder(t);return void n.push(e)}const c=this.createCommonElement(e,i,a,o,l);if(t){qe.setSlotElement(c,t);rt(c).dynamicSlotNameMatched=!0}else void 0!==s&&(c.slot=s);n.push(c)}),((e,i)=>{const a=this.shadowRoot.createVirtualNode("wx:if");a.destroyBackendElementOnRemoval(),qe.setInheritSlots(a),t&&qe.setSlotElement(a,t);rt(a).key=e,this.handleChildrenCreationAndInsert(i,a,t,r),n.push(a)}),((e,i,a,o,s)=>{const l=this.shadowRoot,c=l.createVirtualNode("wx:for");c.destroyBackendElementOnRemoval(),qe.setInheritSlots(c),t&&qe.setSlotElement(c,t);rt(c).keyList=new Ze(i,e,c,l,((e,n)=>{const i=l.createVirtualNode("wx:for-item");return i.destroyBackendElementOnRemoval(),qe.setInheritSlots(i),t&&qe.setSlotElement(c,t),this.handleChildrenCreationAndInsert(((t,r,i,a,l,c,u)=>{s(!0,e,n,void 0,void 0,o?[...o,n]:null,r,i,a,l,c,u)}),i,t,r),i})),n.push(c)}),((e,r,i)=>{const a=this.shadowRoot.createVirtualNode("slot");a.destroyBackendElementOnRemoval(),qe.setSlotName(a,nt(e)),t?qe.setSlotElement(a,t):void 0!==i&&(a.slot=i),r&&r(a),n.push(a)}),((e,i)=>{if(void 0!==i)if(t)if(r===i){const r=this.shadowRoot.createVirtualNode("virtual");r.destroyBackendElementOnRemoval(),qe.setSlotElement(r,t);rt(r).dynamicSlotNameMatched=!0,this.handleChildrenCreationAndInsert(e,r,void 0,void 0),n.push(r)}else{const e=this.createDynamicPlaceholder(t);n.push(e)}else{const t=this.shadowRoot.createVirtualNode("virtual");t.destroyBackendElementOnRemoval(),t.slot=i,this.handleChildrenCreationAndInsert(e,t,void 0,void 0),n.push(t)}else{const i=this.shadowRoot.createVirtualNode("virtual");i.destroyBackendElementOnRemoval(),qe.setInheritSlots(i),t&&qe.setSlotElement(i,t),this.handleChildrenCreationAndInsert(e,i,t,r),n.push(i)}}),void 0,void 0),n}handleChildrenCreationAndInsert(e,t,r,n){const i=this.handleChildrenCreation(e,r,n);i.length&&t.insertChildren(i,-1)}handleChildrenUpdate(e,t,r,n){let i=0;const a=r?r.slotNodes.filter((e=>e.parentNode===t)):t.childNodes;e(!1,(e=>{const t=a[i];if(i+=1,t){if(r){if(!rt(t).dynamicSlotNameMatched)return}void 0!==e&&(t.textContent=e)}}),((e,o,s,l,c,u)=>{const d=a[i];if(i+=1,!d)return;if(r){const i=rt(d);if(n!==(c||"")){if(i.dynamicSlotNameMatched){const e=this.createDynamicPlaceholder(r);t.replaceChild(e,d)}return}if(!i.dynamicSlotNameMatched){const n=this.createCommonElement(e,o,s,l,u);qe.setSlotElement(n,r);return rt(n).dynamicSlotNameMatched=!0,void t.replaceChild(n,d)}}s(d,!1);let p=!1;if(k(d)){const e=this.dynamicSlotUpdate(d,u,l);if(e&&(p=!0),d.hasPendingChanges()){xt.getDataProxy(d).applyDataUpdates(!0)}null==e||e.applySlotUpdates()}r||void 0!==c&&(d.slot=c),p||this.handleChildrenUpdate(l,d,void 0,void 0)}),((e,o)=>{const s=a[i];if(i+=1,!s)return;const l=rt(s);if(l.key===e)this.handleChildrenUpdate(o,s,r,n);else{const a=this.shadowRoot.createVirtualNode("wx:if");a.destroyBackendElementOnRemoval(),qe.setInheritSlots(a),r&&qe.setSlotElement(a,r);const c=rt(a);l.key=c.key=e,this.handleChildrenCreationAndInsert(o,a,r,n),r?t.replaceChild(a,s):t.replaceChildAt(a,i-1)}}),((e,t,o,s,l)=>{const c=a[i];if(i+=1,!c)return;rt(c).keyList.diff(e,o,c,((e,t)=>{const i=this.shadowRoot.createVirtualNode("wx:for-item");return i.destroyBackendElementOnRemoval(),qe.setInheritSlots(i),r&&qe.setSlotElement(c,r),this.handleChildrenCreationAndInsert(((r,n,i,a,o,c,u)=>{l(!0,e,t,void 0,void 0,s?[...s,t]:null,n,i,a,o,c,u)}),i,r,n),i}),((e,t,i,a,o)=>{o&&this.handleChildrenUpdate(((r,n,o,c,u,d,p)=>{l(!1,e,t,i,!!a||void 0,s?[...s,t]:null,n,o,c,u,d,p)}),o,r,n)}))}),((e,t,n)=>{const o=a[i];i+=1,o&&(void 0!==e&&qe.setSlotName(o,nt(e)),r||void 0!==n&&(o.slot=n),t&&t(o),this.shadowRoot.applySlotValueUpdates(o))}),((e,o)=>{const s=a[i];if(i+=1,s)if(void 0!==o)if(r){const i=rt(s);if(n===o)if(i.dynamicSlotNameMatched)this.handleChildrenUpdate(e,s,void 0,void 0);else{const n=this.shadowRoot.createVirtualNode("virtual");n.destroyBackendElementOnRemoval(),qe.setSlotElement(n,r);rt(n).dynamicSlotNameMatched=!0,this.handleChildrenCreationAndInsert(e,n,void 0,void 0),t.replaceChild(n,s)}else if(i.dynamicSlotNameMatched){const e=this.createDynamicPlaceholder(r);t.replaceChild(e,s)}}else s.slot=o,this.handleChildrenUpdate(e,s,void 0,void 0);else this.handleChildrenUpdate(e,s,r,n)}),void 0,void 0)}dynamicSlotUpdate(e,t,r){const n=e.getShadowRoot();return 3===(null==n?void 0:n.getSlotMode())?(n.setDynamicSlotHandler(t||[],(t=>{const n=[];for(let e=0;e<t.length;e+=1){const{slot:i,name:a,slotValues:o}=t[e],s=this.handleChildrenCreation(((e,t,n,i,a,s,l)=>{r(!0,t,n,i,a,s,l,o,void 0)}),i,a);n.push(...s)}n.length&&e.insertChildren(n,-1)}),(t=>{if(!t.length||!t[0].slotNodes.length)return;t.sort(((e,t)=>e.slotNodes[0].parentIndex-t.slotNodes[0].parentIndex));let r=-1/0,n=-1/0;for(let i=0;i<t.length;i+=1){const a=t[i].slotNodes,o=a[0].parentIndex;n===o||(r>=0&&e.removeChildren(r,n-r),r=o),n=o+a.length}r>=0&&e.removeChildren(r,n-r)}),((t,n,i)=>{const a=t._$slotName||"";this.handleChildrenUpdate(((e,t,a,o,s,l,c)=>{r(!1,t,a,o,s,l,c,n,i)}),e,t,a)})),n):null}createDynamicPlaceholder(e){const t=this.shadowRoot.createVirtualNode("virtual");t.destroyBackendElementOnRemoval(),qe.setSlotElement(t,e);return rt(t).dynamicSlotNameMatched=!1,t}checkFallbackEventListener(e,t,r,n){if(t.startsWith("bind"))this.v(e,t.slice(4),r,!1,!1,!1,!0,n);else if(t.startsWith("captureBind"))this.v(e,t.slice(11),r,!1,!1,!0,!0,n);else if(t.startsWith("catch"))this.v(e,t.slice(5),r,!0,!1,!1,!0,n);else if(t.startsWith("captureCatch"))this.v(e,t.slice(12),r,!0,!1,!0,!0,n);else{if(!t.startsWith("on"))return!1;this.v(e,t.slice(2),r,!1,!1,!1,!0,n)}return!0}createCommonElement(e,t,r,n,i){let a=!1;const o=e=>{const t=k(e)?this.dynamicSlotUpdate(e,i,n):null;if(t&&(a=!0),r(e,!0),k(e)){if(e.hasPendingChanges()){xt.getDataProxy(e).applyDataUpdates(!0)}null==t||t.applySlotUpdates()}},s=this.shadowRoot.createComponent(e,e,t,(()=>{var r;const n=this.shadowRoot.createComponent(e,e,t,void 0,o);n.destroyBackendElementOnRemoval();const i=n.getShadowRoot(),a=k(s)?s.getShadowRoot():null,l=3===(null==a?void 0:a.getSlotMode()),c=3===(null==i?void 0:i.getSlotMode());c!==l?E(new Error(`The "dynamicSlots" option of component <${n.is}> and its placeholder <${s.is}> should be the same.`),"[render]",k(n)?n:n.is):c?null===(r=s.parentNode)||void 0===r||r.replaceChild(n,s):s.selfReplaceWith(n)}),o);return s.destroyBackendElementOnRemoval(),a?this.bindingMapDisabled=!0:this.handleChildrenCreationAndInsert(n,s,void 0,void 0),s}tryCallPropertyChangeListener(e,t,r){var n;const i=rt(e);if(null===(n=i.changeProp)||void 0===n?void 0:n[t]){const n=i.changeProp[t],a=n.oldValue;if(a!==r){n.oldValue=r;const t=e.ownerShadowRoot.getHostNode();p("Property Change Observer",n.listener,null,[r,a,t,e],t)}}}setFnFilter(e){this.changePropFilter=e}setEventListenerWrapper(e){"function"==typeof e&&(this.eventListenerWrapper=e)}devArgs(e){return(e=>{const t=e;return t._$wxTmplDevArgs=t._$wxTmplDevArgs||{}})(e)}}var ot;!function(e){e[e.Data=0]="Data",e[e.Script=1]="Script",e[e.InlineScript=2]="InlineScript"}(ot||(ot={}));const st=()=>{};class lt{constructor(e,t){this.shadowRoot=e,this.procGen=t}create(e){const{shadowRoot:t,procGen:r}=this,n=r(this,!0,e,void 0);return this.handleChildrenCreation(n.C,t.shadowRootElement),n.B}bindingMapUpdate(e,t,r){const n=r[e];if(void 0!==n)for(let e=0;e<n.length;e+=1){(0,n[e])(t,(()=>{}),((e,t)=>{e.textContent=t}))}}handleChildrenCreation(e,t){let r=!0,n=!1;const i=()=>{r=!1,n=!1;const e=document.createElement("virtual");t.appendChild(e),this.shadowRoot.slot=e};e(!0,((e,a)=>{n?i():r=!1;const o=document.createTextNode(e||"");a&&a(o),t.appendChild(o)}),((e,a,o,s)=>{n?i():r=!1;const l=document.createElement(e);o(l,!0),this.handleChildrenCreation(s,l),t.appendChild(l)}),st,st,(()=>{r?(n=!0,this.shadowRoot.slot=t):i()}),(e=>{n?i():r=!1;const a=document.createElement("virtual");this.handleChildrenCreation(e,a),t.appendChild(a)}))}s(){}i(e,t){this.shadowRoot.idMap[t]=e}c(e,t){e.setAttribute("class",t)}y(e,t){e.setAttribute("style",t)}d(e,t,r){e.dataset[t]=nt(r)}m(){}v(e,t,r,n){this.shadowRoot.setListener(e,t,(e=>{const t=this.shadowRoot.template.methods[r],i=null==t?void 0:t(e);return!n&&i}))}r(e,t,r){"boolean"==typeof r?r?e.setAttribute(t,""):e.removeAttribute(t):e.setAttribute(t,nt(r))}a(e,t,r){this.r(e,t,r)}p(){}setFnFilter(){}devArgs(e){return(e=>{const t=e;return t._$wxTmplDevArgs=t._$wxTmplDevArgs||{}})(e)}}const ct=()=>({C:(e,t,r,n,i,a)=>{a("")},B:Object.create(null)}),ut=()=>ct;class dt{constructor(e){if("object"!=typeof e._$template&&void 0!==e._$template)throw new Error(`Component template of ${e.is} must be a valid compiled template (or "null" for default template).`);{const t=e._$template||{content:ut};this.genObjectGroupEnv={list:t.groupList||Object.create(null),group:t.content}}this.updateMode="",this.methods=e._$methodMap}createInstance(e){return new pt(this,e)}}class pt{constructor(e,t){if(3!==t.getBackendMode())throw new Error(`Component template of ${t.is} cannot be initialized since external rendering is only supported in Domlike backend currently.`);const r=t.getBackendElement();if(!r)throw new Error(`Component template of ${t.is} cannot be initialized as external components since no suitable backend element found.`);this.comp=t,this.shadowRoot=this,this.shadowRootElement=r,this.root=r,this.slot=r,this.template=e;const n=e.genObjectGroupEnv.group("")||ut();this.procGenWrapper=new lt(this,n),this.idMap=Object.create(null),this.listeners=[]}initValues(e){if(this.bindingMapGen=this.procGenWrapper.create(e),!this.bindingMapGen)throw new Error("The component template does not support binding-map-update, so it cannot be used as external components.");const t=this.shadowRootElement;if(this.slot===t&&t.childNodes.length>0){const e=document.createElement("virtual");t.appendChild(e),this.slot=e}}getIdMap(){return this.idMap}updateValues(e,t){const r=this.bindingMapGen;for(let n=0;n<t.length;n+=1){const[i]=t[n];this.procGenWrapper.bindingMapUpdate(i[0],e,r)}}setListener(e,t,r){const n=e;n._$wxTmplEv?n._$wxTmplEv[t]=r:n._$wxTmplEv={[t]:r}}handleEvent(e,t){var r;const n=e;let i=n;const a=this.shadowRootElement,o=t.getEventName(),s=t.bubbles;for(;;){const e=t.wrapShadowedEvent(n,null,i),l=null===(r=i._$wxTmplEv)||void 0===r?void 0:r[o];if(l){!1===l.call(i,e)&&(t.preventDefault(),t.stopPropagation())}if(!s||t.propagationStopped())break;if(i===a)break;const c=i.parentNode;if(!c)break;i=c}}}const ht=()=>({C:(e,t,r,n,i,a)=>{a("")},B:Object.create(null)}),ft=()=>ht;var gt;!function(e){e[e.Disabled=0]="Disabled",e[e.Enabled=1]="Enabled",e[e.Forced=2]="Forced"}(gt||(gt={}));const vt=e=>String(e>>>0)===e;class mt{create(e,t){return t.externalComponent?new dt(e):new yt(e)}}class yt{constructor(e){this.updateTemplate(e)}updateTemplate(e){const t=e._$template;if("object"!=typeof t&&void 0!==t)throw new Error(`Component template of ${e.is} must be a valid compiled template (or "null" for default template).`);const r=t||{content:ft};this.genObjectGroupEnv={list:r.groupList||Object.create(null),group:r.content},this.updateMode=r.updateMode||"",this.fallbackListenerOnNativeNode=r.fallbackListenerOnNativeNode||!1}createInstance(e,t){return new bt(this,e,t(e))}}class bt{constructor(e,t,r){this.comp=t,this.shadowRoot=r,this.shadowRoot.destroyBackendElementOnRemoval(),this._$applyTemplate(e)}updateTemplate(e,t){this._$applyTemplate(e),this.shadowRoot.removeChildren(0,this.shadowRoot.childNodes.length),this.bindingMapGen=this.procGenWrapper.create(t)}_$applyTemplate(e){const t=e.genObjectGroupEnv.group("")||ft();"bindingMap"===e.updateMode?this.forceBindingMapUpdate=2:"virtualTree"===e.updateMode?this.forceBindingMapUpdate=0:this.forceBindingMapUpdate=1,this.procGenWrapper=new at(this.shadowRoot,t,e.fallbackListenerOnNativeNode),this.bindingMapGen=void 0}initValues(e){return this.bindingMapGen=this.procGenWrapper.create(e),this.shadowRoot}updateValues(e,t){if(2===this.forceBindingMapUpdate){for(let r=0;r<t.length;r+=1)this.tryBindingMapUpdate(e,t[r]);return}if(1===this.forceBindingMapUpdate&&t.length<=1&&this.bindingMapGen&&this.tryBindingMapUpdate(e,t[0]))return;const r=Object.create(null);for(let e=0;e<t.length;e+=1){const[n,i,a,o]=t[e];let s=r;for(let e=0;e<n.length;e+=1){const t=n[e],r=s[t];if(!0===r)break;if(e===n.length-1){if(void 0===o)s[t]=!0;else{const e=a;if(void 0===r)s[t]=Object.create(new Array(e));else if(Array.isArray(Object.getPrototypeOf(r))){const t=Object.getPrototypeOf(r);t.length<e&&(t.length=e);const n=r,i=Object.keys(n);for(let e=0;e<i.length;e+=1){const r=i[e];vt(r)&&(t[Number(r)]=n[r],delete n[r])}}else{const n=new Array(e),i=Object.keys(r);let a=!1;for(let e=0;e<i.length;e+=1){const t=i[e],o=r[t];vt(t)?n[Number(t)]=o:"length"===t&&(a=!0)}const o=Object.create(n);a&&(o.length=!0),s[t]=o}const n=Object.getPrototypeOf(s[t]),l=new Array(i.length);l.fill(!0),n.splice(a,o,...l)}break}if(void 0===r){const e=Object.create(null);s[t]=e,s=e}else s=r}}this.procGenWrapper.update(e,r)}tryBindingMapUpdate(e,t){if(!t)return!0;const r=this.bindingMapGen;if(!r)return!1;const[n]=t;return 1===n.length&&this.procGenWrapper.bindingMapUpdate(n[0],e,r)}}let _t=null;const wt=()=>{if(_t)return _t;const e=new mt;return _t=e,e};var St=Object.freeze({__proto__:null,DEFAULT_PROC_GEN_GROUP:ft,get GeneralLvaluePathPrefix(){return ot},GlassEaselTemplateEngine:mt,getDefaultTemplateEngine:wt,setDefaultChangePropFilter:e=>{et=e},setDefaultEventListenerWrapper:e=>{tt=e}});const Ct=(e,t,r,n)=>{const i=t.ownerSpace,a=null==r?void 0:r._$behavior._$using,o=null==r?void 0:r._$genericImpls;e._$detail||e.prepare();const s=e.behavior;let l;const c=s._$generics;if(c){const r=s._$genericDefaults;l=Object.create(null);for(let s=0;s<c.length;s+=1){const u=c[s];if(n&&Object.prototype.hasOwnProperty.call(n,u)){const r=n[u];if("string"==typeof r)if(null==a?void 0:a[r])l[u]=a[r];else if(o&&o[r])l[u]=o[r];else{const n=i.getGlobalUsingComponent(r);if("string"==typeof n)l[u]=n;else if(n)l[u]={final:n,source:t,placeholder:null,waiting:null};else{M(`Generic "${u}" value "${r}" is not valid`,e.is);const n=i.getDefaultComponent();if(!n)throw new R(`Cannot find default component for generic "${u}"`,"[prepare]",e.is);l[u]={final:n,source:t,placeholder:null,waiting:null}}}else l[u]=r}else{let n=r[u];if(!n){if(n=i.getDefaultComponent(),!n)throw new R(`Cannot find default component for generic "${u}"`,"[prepare]",e.is);M(`Cannot find impl for generic "${u}", using default component (on component "${e.is}")`)}l[u]="string"==typeof n?n:{final:n,source:t,placeholder:null,waiting:null}}}}else l=null;return l},kt=(e,t,r,n)=>{const i=r._$using[e]||n&&n[e];let a=null;if(i&&("string"==typeof i?a=i:null===i.placeholder?a=i.final:M("Placeholder on generic implementation is not valid",r.is)),a)return a;let o=t.getGlobalUsingComponent(e);if(null===o&&t._$allowUnusedNativeNode&&""!==e&&(o=e),!o){if(o=t.getDefaultComponent(),!o)throw new R(`Cannot find placeholder target "${e}"`,"[prepare]",r.is);M(`Cannot find placeholder target "${e}", using default component.`,r.is)}return o};class It{constructor(e){this.behavior=e,this.is=this.behavior.is,this._$detail=null,this._$options=s(e._$options,e.ownerSpace.getComponentOptions());const t=this._$options.templateEngine;this._$templateEngine=null!=t?t:wt()}general(){return this}getComponentOptions(){return this._$options}getComponentDependencies(){return this.behavior.getComponentDependencies()}updateTemplate(e){var t;if(!(null===(t=this._$detail)||void 0===t?void 0:t.template.updateTemplate))throw new Error(`The template engine of component "${this.is}" does not support template update`);this.behavior._$updateTemplate(e),this._$detail.template.updateTemplate(this.behavior)}isPrepared(){return!!this._$detail}prepare(){if(this._$detail)return;this.behavior.prepare();const e=this.behavior,t=this._$options,r={};if(t.writeFieldsToNode){const t=Object.keys(e._$propertyMap);for(let e=0;e<t.length;e+=1){const n=t[e];r[n]={enumerable:!0,get(){return this._$dataGroup.data[n]},set(e){const t=this._$dataGroup;t.replaceDataOnPath([n],e),t.applyDataUpdates()}}}const n=Object.keys(e._$methodMap);for(let t=0;t<n.length;t+=1){const i=n[t];r[i]={enumerable:!0,value:e._$methodMap[i]}}}const n=function(){};r.constructor={value:n,writable:!0};const i=n.prototype=Object.create(xt.prototype,r);i._$behavior=e,i._$definition=this,i._$methodMap=e._$methodMap,i._$dataGroupObserverTree=e._$generateObserverTree(),i._$lifetimeFuncs=e._$getAllLifetimeFuncs(),i._$pageLifetimeFuncs=e._$getAllPageLifetimeFuncs();const a=(e=>{if(void 0===e)return null;const t={definitions:new Array(6),keyMap:Object.create(null)},r=t.definitions,n=t.keyMap,i=Object.keys(e);for(let t=0;t<i.length;t+=1){const a=i[t],o=e[a],s=o.type;r[s]?(n[a]=[s,r[s].length],r[s].push(o)):(n[a]=[s,0],r[s]=[o])}return t})(e._$relationMap),o=Ee(t.dataDeepCopy),s=Ee(t.propertyPassingDeepCopy),l=this._$templateEngine.create(e,t);this._$detail={proto:i,template:l,dataDeepCopy:o,propertyPassingDeepCopy:s,relationDefinitionGroup:a}}}let Pt=1,At=null;class xt extends qe{constructor(){throw new Error("Element cannot be constructed directly")}general(){return this}asInstanceOf(e){return this._$behavior!==e.behavior?null:this}static register(e,t){return(t||ee()).defineComponent(e)}static _$tagMethod(e){const t=e;return t[z]=!0,t}static isTaggedMethod(e){return"function"==typeof e&&!!e[z]}static _$advancedCreate(e,t,r,n,i,a,s){var l,c,u,d;t._$detail||t.prepare();const{proto:h,template:f,dataDeepCopy:g,propertyPassingDeepCopy:v,relationDefinitionGroup:m}=t._$detail,y=t._$options,b=t.behavior,_=r?r.getBackendContext():n||o.backendContext||(()=>{if(At)return At;let e;return e=new j,At=e,e})(),w=y.externalComponent,S=y.propertyEarlyInit,C=o.writeExtraInfoToAttr,k=y.virtualHost,I=Object.create(h);I._$genericImpls=i,I._$external=w,I.tagName=e,I._$methodCaller=I;const P=b.ownerSpace._$sharedStyleScope,A=y.styleScope&&y.styleScope!==P;let x=null;_&&(k||(x=_.createElement(y.hostNodeTagName,e))),I._$initialize(k,x,r,r?r._$nodeTreeContext:_),I._$placeholderHandlerRemover=a;const T=r?r.getHostNode():void 0,E=null==T?void 0:T.getComponentOptions(),M=null!==(l=null==E?void 0:E.styleScope)&&void 0!==l?l:V.globalScope(),O=null!==(c=null==E?void 0:E.extraStyleScope)&&void 0!==c?c:void 0,D=null==T?void 0:T._$behavior.ownerSpace.styleScopeManager;if(I.classList=new q(I,b._$externalClasses,T?T.classList:null,M,O,D),x){const e=null!==(u=null==E?void 0:E.styleScope)&&void 0!==u?u:y.styleScope;if(e&&x.setStyleScope(e,O,A?null!==(d=y.styleScope)&&void 0!==d?d:V.globalScope():void 0),D&&C){const e=D.queryName(M);e&&x.setAttribute("exparser:info-class-prefix",`${e}--`)}}const L=f.createInstance(I,Qe.createShadowRoot);if(x&&(x.__wxElement=I,x.__wxElement=I),C&&x){const e=Pt;Pt+=1,I._$componentInstanceId=e,x.setAttribute("exparser:info-component-id",e)}I._$idPrefix=y.idPrefixGenerator?y.idPrefixGenerator.call(I):"";const N=b._$staticData,B=b._$data;let $;if(void 0===N)if(1===B.length){$=(0,B[0])()}else{$={};for(let e=0;e<B.length;e+=1){const t=B[e];Object.assign($,t())}}else{$=ue(N);for(let e=0;e<B.length;e+=1){const t=B[e];Object.assign($,t())}}const F=I._$relation=new He(I,m);I._$traitGroup=new K;const W=b._$traitBehaviors;if(void 0!==W)for(let e=0;e<W.length;e+=1){const{traitBehavior:t,impl:r}=W[e];I._$traitGroup.implement(t,r)}if(b._$methodCallerInit){const e=b._$methodCallerInit.call(I);I._$methodCaller=e}let U=!1;if(b._$init.length>0){let e=!0;const t=I.getMethodCaller(),r={self:t,data:$,setData:I.setData.bind(I),implement:(e,t)=>{if(U)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);I._$traitGroup.implement(e,t)},relation:function(e){if(U)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);const t=e.target,r=Ge(b.ownerSpace,b.is,"undefined",e);let n;return n=r?F.add(r):Symbol("invalid"),{list:()=>F.getLinkedTargets(n).map((e=>e.getMethodCaller())),listAsTrait:t instanceof H?()=>F.getLinkedTargets(n).map((e=>e.traitBehavior(t))):void 0}},observer:(e,t)=>{if(U)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);I.dynamicAddObserver(t,e)},lifetime:(e,t)=>{if(U)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);I.addLifetimeListener(e,t)},pageLifetime:(e,t)=>{if(U)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);I.addPageLifetimeListener(e,t)},method:e=>xt._$tagMethod(e),listener:e=>xt._$tagMethod(e)},n=b._$init;for(let i=0;i<n.length;i+=1){const a=p("Component Init",n[i],t,[r],void 0);if(a){const t=Object.keys(a);for(let r=0;r<t.length;r+=1){const n=t[r],i=a[n];xt.isTaggedMethod(i)&&(e&&(e=!1,I._$methodMap=Object.create(I._$methodMap)),I._$methodMap[n]=i,y.writeFieldsToNode&&(I[n]=i))}}}}U=!0;const z=L.shadowRoot;I.shadowRoot=z;const G=new Me(I,$,y.pureDataPattern||null,g,v,y.reflectToAttributes,I._$dataGroupObserverTree);I._$dataGroup=G,S&&void 0!==s&&s(I),L.initValues(G.innerData||G.data),I._$tmplInst=L,G.setUpdateListener(((e,t)=>{L.updateValues(e,t)}));const J=b._$listeners;if(void 0!==J)for(let e=0;e<J.length;e+=1){const{id:t,ev:r,listener:n}=J[e],i=n;if("this"===t)I.addListener(r,(e=>i.call(I._$methodCaller,e)));else if(w){const e=z,n=t?e.getIdMap()[t]:e.root;n&&e.setListener(n,r,(e=>i.call(I._$methodCaller,e)))}else{const e=z,n=t?e.getElementById(t):e;n&&n.addListener(r,(e=>i.call(I._$methodCaller,e)))}}return I.triggerLifetime("created",[]),S||void 0===s||s(I),I}static createWithGenericsAndContext(e,t,r,n,i){const a=e=>{let t;return r&&(t=Object.create(null),Object.entries(r).forEach((([r,n])=>{t[r]={final:n,source:e.behavior,placeholder:null,waiting:null}}))),Ct(e,e.behavior,void 0,t)};if(t)return xt._$advancedCreate(String(e),t,null,n,a(t),void 0,i);if(e instanceof It)return xt._$advancedCreate(e.is,e,null,n,a(e),void 0);const o=ee().getComponentByUrl(e,"");return xt._$advancedCreate(e,o,null,n,a(o),void 0)}static createWithGenerics(e,t,r,n){return xt.createWithGenericsAndContext(e,t,r,null,n)}static createWithContext(e,t,r,n){return xt.createWithGenericsAndContext(e,t,null,r,n)}static create(e,t,r){return xt.createWithGenericsAndContext(e,t,null,null,r)}get is(){return this._$definition.is}get properties(){return this._$dataGroup.data}get data(){return this._$dataGroup.data}set data(e){const t=this._$dataGroup;if(void 0===t)throw new R("Cannot update data before component created","data setter",this);Object.entries(e).forEach((([e,r])=>t.replaceDataOnPath([e],r))),t.applyDataUpdates()}get $(){return this._$external?this.shadowRoot.getIdMap():this.shadowRoot._$getIdMap()}getShadowRoot(){return this._$external?null:this.shadowRoot}applyTemplateUpdates(){var e;if(!(null===(e=this._$tmplInst)||void 0===e?void 0:e.updateTemplate))throw new Error(`The template engine of component "${this.is}" does not support template update`);const t=this._$dataGroup;this._$tmplInst.updateTemplate(this._$definition._$detail.template,t.innerData||t.data)}getOwnerSpace(){return this._$behavior.ownerSpace}isExternal(){return this._$external}static listProperties(e){return Object.keys(e._$behavior._$propertyMap)}static hasProperty(e,t){return!!e._$behavior._$propertyMap[t]}static getMethodsFromDef(e){return e.behavior._$methodMap}static getMethod(e,t){if(e._$definition._$options.useMethodCallerListeners&&Object.prototype.hasOwnProperty.call(e._$methodCaller,t)){const r=e._$methodCaller[t];return"function"==typeof r?r:void 0}return e._$methodMap[t]}callMethod(e,...t){const r=xt.getMethod(this,e);return null==r?void 0:r.call(this,...t)}getComponentDefinition(){return this._$definition}getComponentOptions(){return this._$definition._$options}hasBehavior(e){return e instanceof H?void 0!==this._$traitGroup.get(e):this._$behavior.hasBehavior(e)}getRootBehavior(){return this._$behavior}traitBehavior(e){return this._$traitGroup.get(e)}setMethodCaller(e){this._$methodCaller=e}getMethodCaller(){return this._$methodCaller}addLifetimeListener(e,t){Object.prototype.hasOwnProperty.call(this,"_$lifetimeFuncs")||(this._$lifetimeFuncs=this._$behavior._$getAllLifetimeFuncs());const r=this._$lifetimeFuncs;(r[e]=r[e]||new l("lifetime")).add(t)}removeLifetimeListener(e,t){Object.prototype.hasOwnProperty.call(this,"_$lifetimeFuncs")||(this._$lifetimeFuncs=this._$behavior._$getAllLifetimeFuncs());const r=this._$lifetimeFuncs[e];null==r||r.remove(t)}triggerLifetime(e,t){const r=this._$lifetimeFuncs[e];r&&r.call(this._$methodCaller,t,this)}triggerLifeTime(e,t){return this.triggerLifetime(e,t)}addPageLifetimeListener(e,t){Object.prototype.hasOwnProperty.call(this,"_$pageLifetimeFuncs")||(this._$pageLifetimeFuncs=this._$behavior._$getAllPageLifetimeFuncs());const r=this._$pageLifetimeFuncs;(r[e]=r[e]||new l("pageLifetime")).add(t)}removePageLifetimeListener(e,t){Object.prototype.hasOwnProperty.call(this,"_$pageLifetimeFuncs")||(this._$pageLifetimeFuncs=this._$behavior._$getAllPageLifetimeFuncs());const r=this._$pageLifetimeFuncs[e];null==r||r.remove(t)}triggerPageLifetime(e,t){const r=n=>{if(k(n)){if(n._$pageLifetimeFuncs){const r=n._$pageLifetimeFuncs[e];r&&r.call(n._$methodCaller,t,this)}n._$external||r(n.shadowRoot)}const i=n.childNodes;for(let e=0;e<i.length;e+=1){const t=i[e];_(t)&&r(t)}};r(this)}triggerPageLifeTime(e,t){return this.triggerPageLifetime(e,t)}dynamicAddObserver(e,t){Object.prototype.hasOwnProperty.call(this,"_$dataGroupObserverTree")||(this._$dataGroupObserverTree=this._$dataGroupObserverTree.cloneSub(),this._$dataGroup&&(this._$dataGroup._$observerTree=this._$dataGroupObserverTree));const r=this._$dataGroupObserverTree;try{r.addObserver(e,se(t))}catch(e){E(e,"observer",this.is)}}getRelationNodes(e){var t;return(null===(t=this._$relation)||void 0===t?void 0:t.getLinkedTargets(e))||[]}hasExternalClass(e){return this.classList._$hasAlias(e)}setExternalClass(e,t){this.scheduleExternalClassChange(e,t),this.applyExternalClassChanges(),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"external-class",attributeName:e})}getExternalClasses(){return this.classList._$getAlias()}scheduleExternalClassChange(e,t){this.classList._$setAlias(e,t)}applyExternalClassChanges(){if(this._$external)return;if(!this.classList._$shouldUpdateExternalClass())return;const e=t=>{if(!_(t))return;const r=t.classList;(null==r?void 0:r._$spreadExternalClassUpdate())&&k(t)&&t.applyExternalClassChanges();const n=t.childNodes;for(let t=0,r=n.length;t<r;t+=1)e(n[t]);null==r||r._$markExternalClassUpdated()};e(this.shadowRoot)}triggerWorkletChangeLifetime(e,t){this.triggerLifetime("workletChange",[e,t])}isInnerDataExcluded(e){var t;return(null===(t=this._$definition._$options.pureDataPattern)||void 0===t?void 0:t.test(e))||!1}static getInnerData(e){return e._$dataGroup.innerData}static getDataProxy(e){return e._$dataGroup}static replaceWholeData(e,t){e._$dataGroup.replaceWholeData(t)}replaceDataOnPath(e,t){const r=this._$dataGroup;if(void 0===r)throw new R("Cannot update data before component created","replaceDataOnPath",this);r.replaceDataOnPath(e,t)}spliceArrayDataOnPath(e,t,r,n){const i=this._$dataGroup;if(void 0===i)throw new R("Cannot update data before component created","spliceArrayDataOnPath",this);i.spliceArrayDataOnPath(e,t,r,n)}hasPendingChanges(){const e=this._$dataGroup;return void 0!==e&&e.getChanges().length>0}applyDataUpdates(){const e=this._$dataGroup;if(void 0===e)throw new R("Cannot update data before component created","applyDataUpdates",this);e.applyDataUpdates()}groupUpdates(e){const t=this._$dataGroup;if(void 0===t)throw new R("Cannot update data before component created","groupUpdates",this);const r=e();return t.applyDataUpdates(),r}updateData(e){const t=this._$dataGroup;if(void 0===t)throw new R("Cannot update data before component created","updateData",this);if("object"==typeof e&&null!==e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];try{const r=oe(i);t.replaceDataOnPath(r,e[i])}catch(e){E(e,"updateData",this)}}}}setData(e){const t=this._$dataGroup;if(void 0===t)throw new R("Cannot update data before component created","setData",this);if("object"==typeof e&&null!==e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];try{const r=oe(i);t.replaceDataOnPath(r,e[i])}catch(e){E(e,"setData",this)}}}t.applyDataUpdates()}}xt.isComponent=k,xt.prototype[y]=!0;class Tt{constructor(e,t){this._$behaviors=[],this._$traitBehaviors=[],this._$staticData=void 0,this._$data=[],this._$methods=[],this._$lifetimes=[],this._$pageLifetimes=[],this._$init=[],this._$is=e,this._$ownerSpace=t}methodCallerInit(e){return this._$methodCallerInit=e,this}behavior(e){return this._$behaviors.push(e),e._$chainingFilter?e._$chainingFilter(this):this}chainingFilter(e){return this._$chainingFilter=e,this}options(e){const t=this._$options;return this._$options=t?Object.assign(Object.assign({},t),e):e,this}implement(e,t){return this._$traitBehaviors.push({traitBehavior:e,impl:t}),this}template(e){return this._$template=e,this}usingComponents(e){return this._$using?this._$using=Object.assign(Object.assign({},this._$using),e):this._$using=e,this}placeholders(e){return this._$placeholders?this._$placeholders=Object.assign(Object.assign({},this._$placeholders),e):this._$placeholders=e,this}generics(e){return this._$generics?this._$generics=Object.assign(Object.assign({},this._$generics),e):this._$generics=e,this}externalClasses(e){return this._$externalClasses?this._$externalClasses=this._$externalClasses.concat(e):this._$externalClasses=e,this}data(e){return this._$data.push((()=>{var t;return null!==(t=p("Data Generator",e,null,[],this._$is))&&void 0!==t?t:{}})),this}staticData(e){return this._$staticData=e,this}property(e,t){return this._$properties||(this._$properties=[]),this._$properties.push({name:e,def:t}),this}methods(e){const t=Object.keys(e);for(let r=0;r<t.length;r+=1){const n=t[r],i=e[n];this._$methods.push({name:n,func:i})}return this}observer(e,t,r=!1){this._$observers||(this._$observers=[]);try{this._$observers.push({dataPaths:se(e),func:t,once:r})}catch(e){E(e,"observer",this._$is)}return this}lifetime(e,t,r=!1){return this._$lifetimes.push({name:e,func:t,once:r}),this}pageLifetime(e,t,r=!1){return this._$pageLifetimes||(this._$pageLifetimes=[]),this._$pageLifetimes.push({name:e,func:t,once:r}),this}relation(e,t){return this._$relations||(this._$relations=[]),this._$relations.push({name:e,rel:t}),this}init(e){return this._$init.push(e),this}definition(e){e.behaviors&&this._$behaviors.push(...e.behaviors),e.options&&this.options(e.options),e.template&&this.template(e.template),e.using&&this.usingComponents(e.using),e.placeholders&&this.placeholders(e.placeholders),e.generics&&this.generics(e.generics),e.externalClasses&&this.externalClasses(e.externalClasses);const t=e.data;void 0!==t&&("function"==typeof t?this._$data.push((()=>{var e;return null!==(e=p("Data Generator",t,null,[],this._$is))&&void 0!==e?e:{}})):this._$staticData=t);const r=e.properties;if(void 0!==r){this._$properties||(this._$properties=[]);const e=Object.keys(r);for(let t=0;t<e.length;t+=1){const n=e[t],i=r[n];this._$properties.push({name:n,def:i})}}const n=e.methods;if(void 0!==n){const e=Object.keys(n);for(let t=0;t<e.length;t+=1){const r=e[t],i=n[r];this._$methods.push({name:r,func:i})}}const i=e.observers;if(void 0!==i)if(this._$observers||(this._$observers=[]),Array.isArray(i))for(let e=0;e<i.length;e+=1){const{fields:t,observer:r}=i[e];try{this._$observers.push({dataPaths:se(null!=t?t:"**"),func:r,once:!1})}catch(e){E(e,"definition",this._$is)}}else{const e=Object.keys(i);for(let t=0;t<e.length;t+=1){const r=e[t],n=i[r];try{this._$observers.push({dataPaths:se(r),func:n,once:!1})}catch(e){E(e,"definition",this._$is)}}}const a=e.lifetimes;if(void 0===(null==a?void 0:a.created)&&"function"==typeof e.created&&this._$lifetimes.push({name:"created",func:e.created,once:!0}),void 0===(null==a?void 0:a.attached)&&"function"==typeof e.attached&&this._$lifetimes.push({name:"attached",func:e.attached,once:!0}),void 0===(null==a?void 0:a.moved)&&"function"==typeof e.moved&&this._$lifetimes.push({name:"moved",func:e.moved,once:!0}),void 0===(null==a?void 0:a.detached)&&"function"==typeof e.detached&&this._$lifetimes.push({name:"detached",func:e.detached,once:!0}),void 0===(null==a?void 0:a.ready)&&"function"==typeof e.ready&&this._$lifetimes.push({name:"ready",func:e.ready,once:!0}),a){const e=Object.keys(a);for(let t=0;t<e.length;t+=1){const r=e[t],n=a[r];this._$lifetimes.push({name:r,func:n,once:!0})}}const o=e.pageLifetimes;if(o){this._$pageLifetimes||(this._$pageLifetimes=[]);const e=Object.keys(o);for(let t=0;t<e.length;t+=1){const r=e[t],n=o[r];this._$pageLifetimes.push({name:r,func:n,once:!0})}}this._$listeners=e.listeners;const s=e.relations;if(s){this._$relations||(this._$relations=[]);const e=Object.keys(s);for(let t=0;t<e.length;t+=1){const r=e[t],n=s[r];this._$relations.push({name:r,rel:n})}}return this}registerBehavior(){const e=this._$is,t=new Et(this);return void 0!==e&&this._$ownerSpace._$registerBehavior(e,t),t}extraThisFieldsType(){return this}registerComponent(){const e=this._$is,t=new Et(this),r=new It(t);return void 0!==e&&this._$ownerSpace._$registerComponent(e,r),r}}class Et{static create(e,t){return new Tt(e.is,t||ee()).definition(e).registerBehavior()}constructor(e){this._$unprepared=!0,this.is=e._$is||"",this.ownerSpace=e._$ownerSpace,this._$builder=e,this._$flatAncestors=new Set,this._$chainingFilter=e._$chainingFilter,this._$options=e._$options,this._$traitBehaviors=void 0,this._$template=e._$template,this._$using=Object.create(null),this._$generics=void 0,this._$genericDefaults=void 0,this._$externalClasses=e._$externalClasses,this._$staticData=void 0,this._$data=[],this._$propertyMap=Object.create(null),this._$methodMap=Object.create(null),this._$observers=[],this._$lifetimes=[],this._$pageLifetimes=void 0,this._$listeners=void 0,this._$relationMap=void 0,this._$init=[],this._$methodCallerInit=e._$methodCallerInit}general(){return this}getComponentDependencies(e){const t=new Set,r=function(e){e._$unprepared&&e.prepare();const n=Object.keys(e._$using);for(let i=0;i<n.length;i+=1){const a=n[i],o=e._$using[a];if("string"==typeof o)continue;const s=o.final;s&&!t.has(s)&&(t.add(s),r(s.behavior))}};if(r(this.general()),e){const n=Object.values(e);for(let e=0;e<n.length;e+=1){const i=n[e];"string"!=typeof i&&(t.has(i)||(t.add(i),r(i.behavior)))}}return t}static prepare(e){e.prepare()}prepare(){var e;if(!this._$unprepared)return;this._$unprepared=!1;const t=this.is,r=this.ownerSpace,n=this._$builder,i=this._$flatAncestors;if(Array.isArray(n._$behaviors))for(let e=0;e<n._$behaviors.length;e+=1){const a=n._$behaviors[e];let o=null;if(a instanceof Et)o=a;else{const e=String(a);r&&(o=r.getBehaviorByUrl(e,t)),o||E(new Error(`behavior "${e}" is not found.`),"[prepare]",t)}if(!o)continue;o._$unprepared&&Et.prepare(o);const s=o._$traitBehaviors;void 0!==s&&(this._$traitBehaviors||(this._$traitBehaviors=[]),this._$traitBehaviors.push(...s));const l=o._$staticData;l&&(this._$staticData||(this._$staticData={}),be(this._$staticData,l)),Object.assign(this._$methodMap,o._$methodMap),Object.assign(this._$propertyMap,o._$propertyMap),this._$data.push(...o._$data);const c=o._$observers;for(let e=0;e<c.length;e+=1){const t=c[e];t.once&&this._$observers.indexOf(t)>=0||this._$observers.push(t)}const u=o._$lifetimes;for(let e=0;e<u.length;e+=1){const t=u[e];t.once&&this._$lifetimes.indexOf(t)>=0||this._$lifetimes.push(t)}const d=o._$pageLifetimes;if(void 0!==d)if(this._$pageLifetimes)for(let e=0;e<d.length;e+=1){const t=d[e];t.once&&this._$pageLifetimes.indexOf(t)>=0||this._$pageLifetimes.push(t)}else this._$pageLifetimes=d.slice();const p=o._$listeners;void 0!==p&&(this._$listeners||(this._$listeners=[]),this._$listeners.push(...p));const h=o._$relationMap;void 0!==h&&(this._$relationMap||(this._$relationMap=Object.create(null)),Object.assign(this._$relationMap,h)),this._$init.push(...o._$init),o._$flatAncestors.forEach((e=>{i.add(e)}))}const a=n._$traitBehaviors;if(void 0!==a&&(this._$traitBehaviors||(this._$traitBehaviors=[]),this._$traitBehaviors.push(...a)),"object"==typeof n._$using&&null!==n._$using){const i="object"==typeof n._$placeholders&&null!==n._$placeholders,a=Object.keys(n._$using);for(let o=0;o<a.length;o+=1){const s=a[o],l=n._$using[s];let c=null;if(i&&(c=null!==(e=n._$placeholders[s])&&void 0!==e?e:null),l instanceof It)this._$using[s]={final:l,source:this,placeholder:c,waiting:null};else if(r){const e=String(l),n=r.getComponentByUrlWithoutDefault(e,t);if(n)this._$using[s]={final:n,source:this,placeholder:null,waiting:null};else if(null!==c){const n={final:null,source:this,placeholder:c,waiting:null},i=r._$componentWaitingList(e,t);i&&(i.add((e=>{n.final=e,n.placeholder=null,n.waiting=null})),n.waiting=i),this._$using[s]=n}else{const t=r.getGlobalUsingComponent(e);this._$using[s]="string"==typeof t?t:{final:t,source:this,placeholder:null,waiting:null}}}else E(new Error(`cannot find component "${String(l)}"`),"[prepare]",t)}}if("object"==typeof n._$generics&&null!==n._$generics){const e=this._$generics=[],i=Object.create(null);this._$genericDefaults=i;const a=Object.keys(n._$generics);for(let o=0;o<a.length;o+=1){const s=a[o],l=n._$generics[s];let c=null;const u=!0===l||null==l?void 0:l.default;if(void 0!==u)if(u instanceof It)c=u;else if(r){const e=String(u);c=r.getComponentByUrlWithoutDefault(e,t)||r.getGlobalUsingComponent(e)}else E(new Error(`cannot define generic "${s}" without a default implementor.`),"[prepare]",t);e.push(s),i[s]=c}}const o=n._$staticData;o&&(this._$staticData?be(this._$staticData,o):this._$staticData=o);const s=n._$methods;for(let e=0;e<s.length;e+=1){const{name:t,func:r}=s[e];this._$methodMap[t]=r}const l=n._$properties;if(void 0!==l){const e=[];for(let r=0;r<l.length;r+=1){const{name:n,def:i}=l[r],a="string"===(c=i)||c===String?{type:"string",optionalTypes:null,defaultFn:()=>"",observer:null,comparer:null,reflectIdPrefix:!1}:"number"===c||c===Number?{type:"number",optionalTypes:null,defaultFn:()=>0,observer:null,comparer:null,reflectIdPrefix:!1}:"boolean"===c||c===Boolean?{type:"boolean",optionalTypes:null,defaultFn:()=>!1,observer:null,comparer:null,reflectIdPrefix:!1}:"object"===c||c===Object?{type:"object",optionalTypes:null,defaultFn:()=>null,observer:null,comparer:null,reflectIdPrefix:!1}:"array"===c||c===Array?{type:"array",optionalTypes:null,defaultFn:()=>[],observer:null,comparer:null,reflectIdPrefix:!1}:"function"===c||c===u?{type:"function",optionalTypes:null,defaultFn:()=>function(){},observer:null,comparer:null,reflectIdPrefix:!1}:"any"===c||null==c?{type:"any",optionalTypes:null,defaultFn:()=>null,observer:null,comparer:null,reflectIdPrefix:!1}:null;let o,s;if(null!==a)o=a,s=a.defaultFn;else{const e=i;let r=we(e.type),a=null;Array.isArray(e.optionalTypes)&&(a=e.optionalTypes.map(we),a.length>0&&("invalid"!==r&&"any"!==r||(r=a[0]))),"invalid"===r&&E(new Error(`the type of property "${n}" is illegal`),"[prepare]",t);const l=_e(r);"function"==typeof e.default&&void 0!==e.value&&M(`the initial value of property "${n}" is not used when its default is provided.`,t);const c="function"==typeof e.default?()=>{const r=p(`Property "${n}" Default`,e.default,null,[],t);return void 0!==r?r:ue(l)}:()=>ue(l);let u,d;s="function"==typeof e.default?c:void 0!==e.value?()=>ue(e.value):()=>ue(l),"function"==typeof e.observer?u=e.observer:"string"==typeof e.observer?(u=this._$methodMap[e.observer]||null,u||E(new Error(`Cannot find method "${e.observer}" for observer of property "${n}".`),"[prepare]",t)):(u=null,void 0!==e.observer&&E(new Error(`The observer of property "${n}" is not a function, got "${typeof e.observer}".`),"[prepare]",t)),"function"==typeof e.comparer?d=e.comparer:(d=null,void 0!==e.comparer&&E(new Error(`the comparer of property "${n}" is not a function.`),"[prepare]",t));o={type:r,optionalTypes:a,defaultFn:c,observer:u,comparer:d,reflectIdPrefix:!!e.reflectIdPrefix}}this._$propertyMap[n]=o,e.push({name:n,func:s})}this._$data.push((()=>{const t={};for(let r=0;r<e.length;r+=1){const{name:n,func:i}=e[r];t[n]=i()}return t}))}var c;this._$data.push(...n._$data);const d=n._$observers;if(void 0!==d)for(let e=0;e<d.length;e+=1){const{dataPaths:r,func:n,once:i}=d[e],a="function"==typeof n?n:this._$methodMap[n];"function"==typeof a?this._$observers.push({dataPaths:r,observer:a,once:i}):E(new Error(`the "${String(a)}" observer is not a function.`),"[prepare]",t)}const h=n._$lifetimes;this._$lifetimes.push(...h);const f=n._$pageLifetimes;f&&(this._$pageLifetimes||(this._$pageLifetimes=[]),this._$pageLifetimes.push(...f));const g=n._$listeners;if(void 0!==g){const e=Object.keys(g);if(e.length>0){this._$listeners=[];for(let r=0;r<e.length;r+=1){const n=e[r],i=g[n],a="function"==typeof i?i:this._$methodMap[i];if(a){const e=n.indexOf(".");let t,r;e>=0?(t=n.slice(0,e),r=n.slice(e+1)):(t="",r=n),this._$listeners.push({id:t,ev:r,listener:a})}else E(new Error(`the "${n}" listener is not a function or a method name`),"[prepare]",t)}}}const v=n._$relations;if(void 0!==v){this._$relationMap||(this._$relationMap=Object.create(null));for(let e=0;e<v.length;e+=1){const{name:n,rel:i}=v[e];if(null==i)continue;const a=Ge(r,t,n,i);a&&(this._$relationMap[n]=a)}}this._$init.push(...n._$init),i.add(this)}getTemplate(){return this._$template}_$updateTemplate(e){this._$template=e}hasBehavior(e){if(this._$unprepared&&this.prepare(),e instanceof Et)return this._$flatAncestors.has(e);if(this.ownerSpace){const t=this.ownerSpace.getBehaviorByUrl(e,this.is);return!!t&&this._$flatAncestors.has(t)}return!1}listProperties(){return Object.keys(this._$propertyMap)}getPropertyType(e){var t;return null===(t=this._$propertyMap[e])||void 0===t?void 0:t.type}getPropertyOptionalType(e){var t;return null===(t=this._$propertyMap[e])||void 0===t?void 0:t.optionalTypes}getMethods(){return this._$methodMap}_$generateObserverTree(){const e=new Ie(this._$propertyMap),t=this._$observers;for(let r=0;r<t.length;r+=1){const{dataPaths:n,observer:i}=t[r];e.addObserver(i,n)}return e}_$getAllLifetimeFuncs(){const e=Object.create(null),t=this._$lifetimes;for(let r=0;r<t.length;r+=1){const{name:n,func:i}=t[r];if(e[n])e[n].add(i);else{(e[n]=new l("lifetime")).add(i)}}return e}_$getAllPageLifetimeFuncs(){const e=Object.create(null),t=this._$pageLifetimes;if(!t)return e;for(let r=0;r<t.length;r+=1){const{name:n,func:i}=t[r];if(e[n])e[n].add(i);else{(e[n]=new l("pageLifetime")).add(i)}}return e}}var Mt;e.ElementIteratorType=void 0,(Mt=e.ElementIteratorType||(e.ElementIteratorType={})).ShadowAncestors="shadow-ancestors",Mt.ComposedAncestors="composed-ancestors",Mt.ShadowDescendantsRootFirst="shadow-descendants-root-first",Mt.ShadowDescendantsRootLast="shadow-descendants-root-last",Mt.ComposedDescendantsRootFirst="composed-descendants-root-first",Mt.ComposedDescendantsRootLast="composed-descendants-root-last";class Rt{constructor(e,t,r=qe){if(!_(e)&&!b(e))throw new Error("Element iterators can only be used in elements or text nodes");if(this._$node=e,this._$nodeTypeLimit=r||qe,"shadow-ancestors"===t||"shadow-descendants-root-first"===t||"shadow-descendants-root-last"===t)this._$composed=!1;else{if("composed-ancestors"!==t&&"composed-descendants-root-first"!==t&&"composed-descendants-root-last"!==t)throw new Error(`Unrecognized iterator type "${String(t)}"`);this._$composed=!0}this._$isAncestor="shadow-ancestors"===t||"composed-ancestors"===t,this._$rootFirst="shadow-descendants-root-first"===t||"composed-descendants-root-first"===t}static create(e,t,r){return new Rt(e,t,r)}[Symbol.iterator](){return this._$getIterator()}*_$getIterator(){const e=this._$nodeTypeLimit,t=this._$composed;if(this._$isAncestor){let r=this._$node;for(;;){if(r instanceof e&&!1===(yield r))return;let n;if(n=t?r.getComposedParent():r.parentNode,!n)break;r=n}}else{const r=this._$rootFirst,n=function*(i){if(!(r&&i instanceof e&&!1===(yield i))){if(_(i))if(t){const e=i.iterateComposedChild();for(let t=e.next();!t.done;t=e.next())yield*n(t.value)}else{const e=i.childNodes;for(let t=0;t<e.length;t+=1){const r=e[t];yield*n(r)}}r||i instanceof e&&(yield i)}};yield*n(this._$node)}}forEach(e){const t=this._$nodeTypeLimit,r=this._$composed;if(this._$isAncestor){let n=this._$node;for(;;){if(n instanceof t&&!1===e(n))return;let i;if(i=r?n.getComposedParent():n.parentNode,!i)break;n=i}}else{const n=this._$rootFirst,i=a=>{if(n&&a instanceof t&&!1===e(a))return!1;if(_(a)){let e=!1;const t=t=>!1!==i(t)||(e=!0,!1);if(r?a.forEachComposedChild(t):a.childNodes.every(t),e)return!1}return!(!n&&a instanceof t&&!1===e(a))};i(this._$node)}}}var Ot=Object.freeze({__proto__:null});const Dt=$e.triggerEvent,Lt=$e.triggerExternalEvent;return e.Behavior=Et,e.BehaviorBuilder=Tt,e.ClassList=q,e.Component=xt,e.ComponentDefinition=It,e.ComponentSpace=Q,e.CurrentWindowBackendContext=class{constructor(){this.mode=3,this.document=document,this._$styleSheets=[],this._$styleSheetRegistry=Object.create(null),this._$delegatedEventListeners=Object.create(null),this._$elementEventListeners=new WeakMap,this._$elementCaptureEventListeners=new WeakMap,this._$triggedEvents=new WeakSet}destroy(){}getWindowWidth(){return document.documentElement.clientWidth}getWindowHeight(){return document.documentElement.clientHeight}getDevicePixelRatio(){return window.devicePixelRatio}getTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}registerStyleSheetContent(e,t){this._$styleSheetRegistry[e]=String(t)}appendStyleSheetPath(e,t){const r=this._$styleSheetRegistry[e];if(void 0===r)throw new Error(`No style sheet registry "${e}"`);if(""===r){const e=this._$styleSheets.length;return this._$styleSheets.push(void 0),e}const n=document.createElement("style");n.type="text/css",n.innerHTML=r,void 0!==t&&n.setAttribute("wx-style-scope",String(t)),document.head.appendChild(n);const i=this._$styleSheets.length;return this._$styleSheets.push(n),i}disableStyleSheet(e){const t=this._$styleSheets[e];t&&document.head.removeChild(t)}render(e){window.requestAnimationFrame((()=>{p("Render Callback",e,this,[null])}))}getRootNode(){return document.body}associateValue(e,t){e.__wxElement=t}onEvent(e){this._$eventListener||this._$initEvent(),this._$eventListener=e}_$getEventDetail(e){const t={};let r=e;for(;Object.getPrototypeOf(r)!==Event.prototype;){const n=Object.keys(r);for(let r=0;r<n.length;r+=1){const i=n[r];"function"!=typeof e[i]&&(t[i]=e[i])}r=Object.getPrototypeOf(r)}return t}_$trigger(e,t,r,n,i){if(!this._$eventListener||!e.target)return;let a=e.target;for(;a&&!a.__wxElement;)a=a.parentNode;if(!a)return;1===this._$eventListener(a.__wxElement,t,r,{originalEvent:e,bubbles:n,composed:i,capturePhase:!0})&&e.preventDefault()}_$initEvent(){const e=Object.create(null);let t=!1;const r=(t,r)=>{e[r.identifier]={x:r.clientX,y:r.clientY}},n=(t,r)=>{const n=r.identifier;if(e[n]){const i=e[n];(Math.abs(i.x-r.clientX)>10||Math.abs(i.y-r.clientY)>10)&&(delete e[n],this._$trigger(t,"canceltap",i,!0,!0))}},i=(t,r)=>{const n=r.identifier;if(e[n]){const i=e[n];delete e[n],Math.abs(i.x-r.clientX)>10||Math.abs(i.y-r.clientY)>10?this._$trigger(t,"canceltap",i,!0,!0):this._$trigger(t,"tap",i,!0,!0)}},a=(t,r)=>{const n=r.identifier;if(e[n]){const r=e[n];delete e[n],this._$trigger(t,"canceltap",r,!0,!0)}},o=e=>{const t=e.changedTouches;for(let r=0;r<t.length;r+=1)i(e,t[r]);const r=e.target;r.__touchCount-=t.length,r.__touchCount<=0&&(r.__touchCount=0,r.removeEventListener("touchend",o),r.removeEventListener("touchcancel",s))},s=e=>{const t=e.changedTouches;for(let r=0;r<t.length;r+=1)a(e,t[r]);const r=e.target;r.__touchCount-=t.length,r.__touchCount<=0&&(r.__touchCount=0,r.removeEventListener("touchend",o),r.removeEventListener("touchcancel",s))};document.body.addEventListener("touchstart",(e=>{t=!0;const n=e.changedTouches;for(let e=0;e<n.length;e+=1)r(0,n[e]);const i=e.target;i.__touchCount||(i.__touchCount=0,i.addEventListener("touchend",o),i.addEventListener("touchcancel",s)),i.__touchCount+=n.length}),{capture:!0}),document.body.addEventListener("touchmove",(e=>{const t=e.changedTouches;for(let r=0;r<t.length;r+=1)n(e,t[r])}),{capture:!0}),document.body.addEventListener("mousedown",(e=>{t||r(0,{identifier:-1,clientX:e.clientX,clientY:e.clientY})}),{capture:!0}),document.body.addEventListener("mousemove",(e=>{t||n(e,{identifier:-1,clientX:e.clientX,clientY:e.clientY})}),{capture:!0}),document.body.addEventListener("mouseup",(e=>{t||i(e,{identifier:-1,clientX:e.clientX,clientY:e.clientY})}),{capture:!0})}setListenerStats(e,t,r,n){if(!e)return;const i=O.includes(t),a=2===n;if(i){if(this._$delegatedEventListeners[t])return;return this._$delegatedEventListeners[t]=!0,void document.body.addEventListener(t,(e=>{a&&e.preventDefault(),this._$trigger(e,t,this._$getEventDetail(e),e.bubbles,e.composed)}),{capture:!0})}const o=r?this._$elementCaptureEventListeners:this._$elementEventListeners;o.has(e)||o.set(e,Object.create(null));const s=o.get(e);s[t]||(s[t]=!0,e.addEventListener(t,(e=>{this._$triggedEvents.has(e)||(this._$triggedEvents.add(e),a&&e.preventDefault(),this._$trigger(e,t,this._$getEventDetail(e),e.bubbles,e.composed))})))}setModelBindingStat(e,t,r){const n=(n,i)=>{if(e._$wxArgs||(e._$wxArgs={modelListeners:Object.create(null)}),void 0===e._$wxArgs.modelListeners[t]){if(!r)return;e._$wxArgs.modelListeners[t]=r,e.addEventListener(n,(()=>{var r;const n=null===(r=e._$wxArgs)||void 0===r?void 0:r.modelListeners[t];null==n||n(i())}))}e._$wxArgs.modelListeners[t]=r},i=e.tagName;let a=!1;if("INPUT"===i){const r=e,i=r.type;"checkbox"===i||"radio"===i?"checked"===t&&(a=!0,n("change",(()=>r.checked))):"value"===t&&(a=!0,n("input",(()=>r.value)))}else if("TEXTAREA"===i){const r=e;"value"===t&&(a=!0,n("input",(()=>r.value)))}else if("SELECT"===i){const r=e;"value"===t&&(a=!0,n("change",(()=>r.value)))}a||M(`unsupported model binding on "${t}" of "${i.toLowerCase()}" element.`)}createIntersectionObserver(e,t,r,n,i){const a=new IntersectionObserver((e=>{e.forEach((e=>{i({intersectionRatio:e.intersectionRatio,boundingClientRect:e.boundingClientRect,intersectionRect:e.intersectionRect,relativeRect:e.rootBounds,time:e.time})}))}),{root:t,rootMargin:r,threshold:n});return a.observe(e),{disconnect(){a.disconnect()}}}createMediaQueryObserver(e,t){let r=null;const n=()=>{const n=(()=>{const t=document.documentElement.clientWidth,r=document.documentElement.clientHeight;return(void 0===e.width||t===e.width)&&(!(void 0!==e.maxWidth&&t>e.maxWidth)&&(!(void 0!==e.minWidth&&t<e.minWidth)&&((void 0===e.width||r===e.height)&&(!(void 0!==e.maxHeight&&r>e.maxHeight)&&(!(void 0!==e.minHeight&&r<e.minHeight)&&(t>r?"landscape":"portrait")===e.orientation)))))})();r!==n&&(r=n,t({matches:n}))};return setTimeout(n,0),window.addEventListener("resize",n),{disconnect(){window.removeEventListener("resize",n)}}}getContext(e,t){t(e)}setFocusedNode(e){e.focus()}getFocusedNode(e){let t=document.activeElement;for(;!(null==t?void 0:t.__wxElement);)t=(null==t?void 0:t.parentNode)||null;e(t)}onWindowResize(e){window.addEventListener("resize",(()=>{e({width:this.getWindowWidth(),height:this.getWindowHeight(),devicePixelRatio:this.getDevicePixelRatio()})}))}onThemeChange(e){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{e({theme:this.getTheme()})}))}elementFromPoint(e,t,r){var n;let i=document.elementFromPoint(e,t);for(;null!==i&&!i.__wxElement;)i=(null==i?void 0:i.parentNode)||null;r(null!==(n=null==i?void 0:i.__wxElement)&&void 0!==n?n:null)}getAllComputedStyles(e,t){const r=window.getComputedStyle(e);t({properties:D(r)})}getScrollOffset(e,t){const r=e;t({scrollLeft:r.scrollLeft,scrollTop:r.scrollTop,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight})}setScrollPosition(e,t,r,n){if(t<=0&&r<=0)e.scrollIntoView({behavior:0!==n?"smooth":"auto"});else{const{left:i,top:a}=e.getBoundingClientRect();window.scrollTo({left:i+t,top:a+r,behavior:0!==n?"smooth":"auto"})}}queryMatchedRules(e,t,r){const n=[];return L(t,((t,i,a)=>{if(i instanceof CSSStyleRule){let o=!1;const s=[];for(let e=0;e<a.length;e+=1){const t=a[e];t instanceof CSSMediaRule?(matchMedia(t.conditionText).matches||(o=!0),s.push(`@media ${t.conditionText}`)):t instanceof CSSLayerBlockRule&&s.push(`@layer ${t.name}`)}const l=i.selectorText;if(r.matches(l)){const r=i.style.cssText,a=D(i.style);n.push({sheetIndex:e,ruleIndex:t,mediaQueries:s,selector:l,properties:a,propertyText:r,weightHighBits:0,inactive:o})}}})),n}getMatchedRules(e,t){const r=e,n=document.styleSheets,i=[];for(let e=0;e<n.length;e+=1){const t=n[e];i.push(...this.queryMatchedRules(e,t,r))}const a=r.style.cssText;t({inline:D(r.style),inlineText:a,rules:i})}findStyleRule(e,t){const r=document.styleSheets[e],n=null==r?void 0:r.cssRules[t];return"CSSStyleRule"===(null==n?void 0:n.constructor.name)?n:null}replaceStyleSheetAllProperties(e,t,r,n){const i=this.findStyleRule(e,t);i?(i.style.cssText=r,n(0)):n(null)}},e.DataGroup=Me,e.Element=qe,e.ElementIterator=Rt,e.EmptyBackendContext=class{constructor(){this.mode=1,this._$styleSheetIdInc=1,this._$renderCallbacks=null,this._$shadowRoot=new $}destroy(){}getWindowWidth(){return 1}getWindowHeight(){return 1}getDevicePixelRatio(){return 1}getTheme(){return"light"}registerStyleSheetContent(e,t){}appendStyleSheetPath(e,t){const r=this._$styleSheetIdInc;return this._$styleSheetIdInc+=1,r}disableStyleSheet(e){}render(e){if(this._$renderCallbacks)this._$renderCallbacks.push(e);else{const t=this._$renderCallbacks=[e];setTimeout((()=>{this._$renderCallbacks=null,t.forEach((e=>{p("Render Callback",e,this,[null])}))}),16)}}getRootNode(){return this._$shadowRoot}createFragment(){return new B(0)}onEvent(e,t){}},e.EmptyComposedBackendContext=j,e.Event=$e,e.FuncArr=l,e.MutationObserver=ge,e.NativeNode=Ke,e.Observer=ge,e.ParsedSelector=We,e.ShadowRoot=Qe,e.StyleScopeManager=V,e.TextNode=Je,e.TraitBehavior=H,e.VirtualNode=Xe,e.addGlobalErrorListener=function(e){x.add(e)},e.addGlobalWarningListener=function(e){T.add(e)},e.backend=n,e.composedBackend=i,e.createElement=function(e,t){return xt.create(e,t||null)},e.dataPath=le,e.dataUtils=he,e.dispatchError=E,e.domlikeBackend=a,e.dumpElement=(e,t)=>{console.log(P(e,t))},e.dumpElementToString=P,e.dumpSingleElementToString=I,e.getDefaultComponentSpace=ee,e.globalOptions=o,e.mutationObserver=ve,e.registerBehavior=e=>ee().defineBehavior(e),e.registerElement=e=>ee().defineComponent(e),e.removeGlobalErrorListener=function(e){x.remove(e)},e.removeGlobalWarningListener=function(e){T.remove(e)},e.safeCallback=p,e.template=St,e.templateEngine=Ot,e.triggerEvent=Dt,e.triggerExternalEvent=Lt,e.triggerRender=(e,t)=>{const r=e.getBackendContext();r&&((e,t)=>{e.render((()=>{"function"==typeof t&&p("render",t,e,[null])}))})(r,t||null)},e.typeUtils=G,e}({}),M,R,O;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{APPBAR_COMP_NAME:()=>It,StyleSheetPriority:()=>ye,TABBAR_COMP_NAME:()=>yt,beginTapMark:()=>zt,checkTapMark:()=>Ht,checkTapSource:()=>Kt,emitTapAnyWhere:()=>Jt,endTapMark:()=>qt,getBehaviorByAdapter:()=>Ie,getCallerMap:()=>we,getComponentTypeMap:()=>xe,getEnv:()=>Ft,getGlassEasel:()=>Wt,getSubContextAdapter:()=>J,getTraitBehaviorMap:()=>Ee,globalHookInitFn:()=>Fe,onSkylineEngineReady:()=>q,setExitState:()=>Se,setPageFreeDataCopier:()=>Y,setRenderRoot:()=>tt,setSkylineEngine:()=>U,setSubContextAdapter:()=>K,setWebviewEngine:()=>z,wrapTapMark:()=>Gt,writeListenersInfoIntoNode:()=>je});var r,n=e=>{var t=!1;return y.info(`[CodeMgr] accessSync path: ${e}`),S.invoke("accessSync",{path:e},(e=>{t=e.errMsg.includes(":fail")})),!t},i=new g.EventEmitter,o=e=>{if(e.startsWith("__wx__"))return`wx://${e.slice(6)}`;var t=e.indexOf("__plugin__");return-1===t?e:`plugin-private://${e.slice(t+11)}`},s=(e,t)=>"/"===e?t:null===e?`wx://${t}`:`plugin-private://${e}/${t}`,l=0,c=1,u=2,d=3,p=e=>{var t=e.indexOf("://");if(-1===t)return{codeSpaceID:"/",path:e,proto:l};var r=e.slice(0,t+3);switch(r){case"plugin-private://":return{codeSpaceID:e.slice(17,35),path:e.slice(36),proto:c};case"plugin://":return{codeSpaceID:e.slice(9,27),path:e.slice(28),proto:u};case"wx://":return{codeSpaceID:null,path:e.slice(6),proto:d};default:throw new Error(`Framework inner error: unknown protocol "${r}"`)}},h=(e,t)=>{var r;r="/"!==e[0]?t.split("/").slice(0,-1).concat(e.split("/")):e.split("/");for(var n=[],i=0;i<r.length;i+=1){var a=r[i];""!==a&&"."!==a&&(".."!==a?n.push(a):n.pop())}return n.join("/")},v=(e,t)=>{var r=p(o(e));if(r.proto!==l||null===t)return r;var n=p(t);return n.proto===u?r:(n.path=h(r.path,n.path),n)},m=(r=0,{emit(e){i.emit(r,e)},on(e){i.on(r,e)}}),_=e=>{m.emit(e)},w=0,C=1,k=2,I=3,P=4,A=5,x=6,R=7,O=e=>{try{return encodeURIComponent(null!=e?e:"")}catch(e){return""}},D=()=>{var e=Array.from({length:8},(()=>null)),t=0,r=!1,n=(n,i)=>{r||(null===e[n]&&t++,e[n]=i,t===e.length&&(r=!0,(()=>{if(void 0!==T){var t=e.map(O).join(",");T.reportKeyValue({key:"LazyCodeLoading",value:t,immediately:!0})}})()))};return n(w,a.version),n(k,!1),n(A,0),n(R,0),n},L=5e3,B=!1;f.onReady((()=>{N._getABTestConfig({experimentId:"clicfg_appbrand_enable_batch_load_sub_pkg",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(y.info("clicfg_appbrand_enable_batch_load_sub_pkg",e.testConfig),B=!0)},fail(e){y.error("clicfg_appbrand_enable_batch_load_sub_pkg","failed",e)}})}));var j=e=>{var t,r=setTimeout(e.onTimeout,L),n=Date.now();null!==(t=f.nativeFeatures)&&void 0!==t&&t.batchLoadSubPackage&&B?((e,t)=>{var r=Date.now(),n=e.map((e=>({name:e})));N.batchLoadSubpackage({packages:n,success(){var n=Date.now();y.info(`[CodeMgr] loadSubPackage ${e} success, cost ${n-r}`),t({cost:n-r,res:"ok",pkg:e})},fail(){var n=Date.now();y.info(`[CodeMgr] loadSubPackage ${e} fail, cost ${n-r}`),t({cost:n-r,res:"fail",pkg:e})}})})(e.subPackages,(t=>{clearTimeout(r);var i=Date.now()-n,a=[],{res:o,pkg:s}=t;"fail"===o?e.onError(s):a.push(...s),e.onFinished({loadedSubPackages:a,totalCost:i})})):Promise.all(e.subPackages.map((e=>new Promise((t=>{((e,t)=>{var r=Date.now();N.loadSubpackage({name:e,success(){var n=Date.now();y.info(`[CodeMgr] loadSubPackage ${e} success, cost ${n-r}`),t({cost:n-r,res:"ok",pkg:[e]})},fail(){var n=Date.now();y.info(`[CodeMgr] loadSubPackage ${e} fail, cost ${n-r}`),t({cost:n-r,res:"fail",pkg:[e]})}})})(e,t)}))))).then((t=>{clearTimeout(r);var i=Date.now()-n,a=[],o=[];t.forEach((e=>{var{res:t,pkg:r}=e;"fail"===t?o.push(...r):a.push(...r)})),o.length&&e.onError(o),e.onFinished({loadedSubPackages:a,totalCost:i})}))},F=new g.EventEmitter,W=e=>{var t,r=!1;return[n=>{t=n,r=!0,F.emit(e,n)},()=>t,n=>{r?n(t):F.once(e,n)}]},[U,V,q]=W(0),[z,G,H]=W(1),[K,J,X]=W(2),[Y,Q]=W(3),Z="app-service.js",ee="app-service.js",te="common.app.js",re="appservice.app.js",ne="appservice.js",ie=(e,t)=>{y.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(e=>{var t,r;if(S.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t})(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}y.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(f.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,y.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))}))}},ae=function(e){return e.Isolated="isolated",e.ApplyShared="apply-shared",e.Shared="shared",e.PageIsolated="page-isolated",e.PageApplyShared="page-apply-shared",e.PageShared="page-shared",e}({}),oe={CallAndCopyResult:1,PassThrough:2,Disallow:void 0},se=0,le=1,ce=2,ue=3,de=4,pe=5,he=6;class fe{constructor(){this.componentStatus=new Map}addComponent(e){this.componentStatus.has(e)||this.componentStatus.set(e,se)}stepTo(e,t){var r=this.componentStatus.get(e);return void 0!==r&&r<t&&(this.componentStatus.set(e,t),!0)}getStep(e){return this.componentStatus.get(e)||se}getComponentsInStep(e){return Array.from(this.componentStatus.keys()).filter((t=>this.componentStatus.get(t)===e))}}var ge,ve=Object.prototype.hasOwnProperty,me="wxfa43a4a7041a84de";ge||(ge={});var ye={Components:0,RootComponent:1,App:2,BaseLib:3};class be{constructor(e){this.env=void 0,this.loadedSubPackage=new Set,this.injectedSubPackage=new Set,this.extendedLibList=new Set,this.isLazyLoad=!1,this.allSubPackageRoots=[],this.allPlugins={},this.subPackagePlugins={},this.isFirstPage=!0,this.pendingComponents=new Set,this.pendingComponentsTimeout=null,this.pendingStyleSheetsBlockings=new Set,this.extendedLibStyleSheets=[],this.weUIInitialized=!1,this.assembleProtocol=s,this.normalizePath=h,this.env=e,f.onReady((()=>{this.initConfig(f)}))}info(e){y.info(`[CodeMgr] ${e}`)}initConfig(e){"develop"!==e.envVersion&&"trial"!==e.envVersion||(this.extendedLibList.add("wx0354ba48aadc0ab2"),this.extendedLibList.add(me)),this.isLazyLoad=!0===e.isLazyLoad,Array.isArray(e.subPackages)&&(this.allSubPackageRoots=e.subPackages.map((e=>{var t=e.root||"";return"/"===t.slice(-1)?t:t+"/"})),this.allSubPackageRoots.sort(((e,t)=>-(e.length-t.length)))),this.initSubPackagePlugin(e)}loadJsFiles(e,t){var r=$.getAppContext();if(0===e.length)return 0;this.info(`loadJsFiles (${e.length} files)`);var n=Date.now();r.loadJsFiles(e,null,{reportKey:void 0,isPageInitialScript:t,waitResult:!1});var i=Date.now();return this.info(`loadJsFiles done, cost: ${i-n}ms`),i-n}getEntryFiles(e){var t=f.separatedPlugins||[];this.info(`isLazyLoad: ${this.isLazyLoad}`),this.info(`moduleNames: ${e.join(",")}`),this.info(`separatedPlugins: ${JSON.stringify(t)}`);var r=[];return t.forEach((t=>{var i=this.getPluginSubPackage(t.plugin_id);if(e.includes(i)){var a=("__APP__"===i?"/":i)+t.prefix_path;a.endsWith("/")||(a+="/"),!t.prefix_path&&(a+=`__extended__/${t.plugin_id}/`,this.extendedLibList.add(t.plugin_id)),this.isLazyLoad&&n(a+te)?(r.push(a+te,a+re),t.prefix_path||ie(i,a+"plugin.json")):r.push(a+ne)}})),e.forEach((e=>{var t="__APP__"===e?"/":e;this.isLazyLoad?r.push(t+te,t+re):"__APP__"===e?r.push(t+Z):r.push(t+ee)})),this.info(`entryFiles: ${JSON.stringify(r)}`),r.map((e=>"/"===e[0]?e:"/"+e))}iterateComponents(e,t){var r=new Set,n=[],i=(e,t)=>r=>{var n=v(r,t);if(n.proto===l)return[e,n.path];var i=this.env.getCodeSpace(n.codeSpaceID);return i?[i,n.proto===u?i.componentAliasToPath[n.path]:n.path]:(this.info(`Error: unknown domain ${n.codeSpaceID} during recurseUsingComponents`),[null,null])},a=i(this.env.getCodeSpace(jt),null);e.forEach((e=>{var[t,r]=a(e);null!==t&&null!==r&&n.push([t,r])}));for(var o=0;o<n.length;){var[s,c]=n[o++],d=s.protocolPath(c);if(!r.has(d)){r.add(d);var p=s.getComponentStaticConfig(c);t(i(s,d),n.push.bind(n),s,c,p)}}}recurseUsingComponents(e){var t=new Set;this.iterateComponents(e,((e,r,n,i,a)=>{var o=n.getComponentChunk(i);if(t.add(o),void 0!==a){var s=(t,n,i)=>{var[a,o]=e(t);null!==a&&null!==o&&(!a.componentRegistered(o)&&n?null!==i&&s(i,!1,null):r([a,o]))},l=a.usingComponents||{},c=a.componentPlaceholder||{};for(var u of Object.keys(l)){var d=ve.call(c,u),p=null;d&&ve.call(l,c[u])&&(p=l[c[u]]),s(l[u],d,p)}var h=a.componentGenerics||{};for(var f of Object.keys(h)){var g=h[f];"boolean"!=typeof g&&"string"==typeof g.default&&s(g.default,!1,null)}n.getTemplateDependencies(i).forEach((e=>{s(e,!1,null)}))}}));var r=Array.from(t);return this.info(`recurseUsingComponents(${e.join(",")}) => [${r.length} chunks]`),r}recurseUsingStyleSheets(e,t){this.iterateComponents(e,((e,r,n,i,a)=>{var o=n.protocolPath(i);if(t.styleSheetInjector.addComponent(o),void 0!==a){if(!(t.styleSheetInjector.getStep(o)>=ue)){n.componentRegistered(i)?t.styleSheetInjector.stepTo(o,pe):t.styleSheetInjector.stepTo(o,ue);var s=a.usingComponents||{};for(var l of Object.keys(s)){var[c,u]=e(s[l]);if(null===c||null===u)return;r([c,u])}var d=a.componentGenerics||{};for(var p of Object.keys(d)){var h=d[p];if("boolean"!=typeof h&&"string"==typeof h.default){var[f,g]=e(h.default);if(null===f||null===g)return;r([f,g])}}}}else t.styleSheetInjector.stepTo(o,le)}))}batchInjectComponentChunks(e,t){if(0===e.length)return 0;this.info(`injectComponentChunks: [${e.length} chunks]`);var r=[];e.forEach((e=>{r.push(`${e}.common.js`,`${e}.appservice.js`)}));return this.loadJsFiles(r,t)}wrapComponentsInjection(e,t){this.appendStyleSheets(!0,e),this.env.startGroupRegister();var r=void 0;try{r=t()}catch(e){T.thirdErrorReport({error:e})}this.appendStyleSheets(!1,e),this.pendingStyleSheetsBlockings.forEach((e=>{e.blockForStyleSheet()})),this.pendingStyleSheetsBlockings.clear();try{this.env.endGroupRegister()}catch(e){T.errorReport({key:"exparserScriptError",error:e})}return r}injectComponentsRecursively(e,t){var r=this.recurseUsingComponents(e),n=[],i=this.env.getCodeSpace("/");r.forEach((e=>{i.getComponentsInChunk(e).forEach((e=>{n.push(i.absolutePath(e))}))})),this.wrapComponentsInjection(n,(()=>{var e=this.batchInjectComponentChunks(r,t);t&&setTimeout((()=>{this.doLazyLoadReport(r.length,e)}),1e3)}))}ensureComponents(e){var t,r=e.map((e=>this.matchSubPackageName(e)));t=r,(r=Array.from(new Set(t))).some((e=>!this.isIndependentSubPackage(e)))&&!r.includes("__APP__")&&r.unshift("__APP__"),r=r.filter((e=>!this.loadedSubPackage.has(e))),this.batchLoadSubPackages(r,(t=>{this.batchInjectSubPackages(t),this.injectComponentsRecursively(e,!1)}))}arrangeComponentInjection(e){this.pendingComponents.add(e),null===this.pendingComponentsTimeout&&(this.pendingComponentsTimeout=setTimeout((()=>{this.pendingComponentsTimeout=null;var e=Array.from(this.pendingComponents);this.pendingComponents.clear(),this.ensureComponents(e)}),16))}notifyConfigReadyForStyleSheet(e){this.env.forEachRenderRoot((t=>{t.styleSheetInjector.stepTo(e,ce)}))}notifyComponentRegisteredForStyleSheet(e){this.env.forEachRenderRoot((t=>{t.styleSheetInjector.stepTo(e,pe)}))}flushStyleSheetsRecursion(){this.env.forEachRenderRoot((e=>{var t=e.styleSheetInjector.getComponentsInStep(ce);this.recurseUsingStyleSheets(t,e)}))}appendStyleSheets(e,t){var r=this.env.getCodeSpace(jt),n=t.map((e=>o(e)));this.env.forEachRenderRoot((t=>{var i=n.filter((r=>t.styleSheetInjector.getStep(r)>=(e?ue:pe)));0!==i.length&&(this.info(`${e?"preCompile":"append"} ${i.length} components to ${t.id}`),t.styleSheetManager.batchUpdate((()=>{t.styleSheetsInitialized||(t.styleSheetManager.setStyleSheet("__EMPTY__",r.libStyleScope,ye.BaseLib),this.extendedLibStyleSheets.forEach((e=>{t.styleSheetManager.setStyleSheet(e,r._$sharedStyleScope,ye.BaseLib)}))),t.styleSheetsInitialized=!0,i.forEach((n=>{var i,a,o=n===t.getRootCompName(),{codeSpace:s,spacePath:l}=this.parseProtocol(n),c=s.absolutePath(l),u=o?ye.RootComponent:ye.Components;if(o)switch(s.getStyleIsolation(l)){case ae.Isolated:case ae.ApplyShared:case ae.Shared:t.styleSheetManager.setStyleSheet("app",r._$sharedStyleScope,ye.App)}var d=e?null:null!==(i=null===(a=s.getComponentSpace().getComponentByUrlWithoutDefault(l,""))||void 0===a?void 0:a.getComponentOptions().styleScope)&&void 0!==i?i:null;t.styleSheetManager.setStyleSheet(c,d,u),t.styleSheetInjector.stepTo(n,e?de:he)}))})),this.pendingStyleSheetsBlockings.add(t))}))}removePendingStyleSheetsBlocking(e){this.pendingStyleSheetsBlockings.delete(e)}appendExtendedLibStyleSheets(e){N.traceBeginEvent("Framework","appendExtendedLibStyleSheet"),this.extendedLibStyleSheets.push(e);var t=this.env.getCodeSpace(jt);this.env.pages.forEach((r=>{r.styleSheetManager.batchUpdate((()=>{r.styleSheetManager.setStyleSheet(e,t._$sharedStyleScope,ye.BaseLib),r.styleSheetManager.invalidateBinary()}))})),N.traceEndEvent()}batchLoadSubPackages(e,t){if(0===e.length)return t([]);this.info("loadSubPackages begin: "+e.join(", ")),j({subPackages:e,onTimeout:()=>{_({type:"subpackage",errMsg:"loadSubpackage: timeout",subpackage:e})},onError:e=>{_({type:"subpackage",subpackage:e,errMsg:"loadSubpackage: fail"})},onFinished:r=>{this.setSubPackageLoaded(r.loadedSubPackages),this.info(`loadSubPackages end: ${e.join(", ")}, cost: ${r.totalCost}`),t(r.loadedSubPackages)}})}setSubPackageLoaded(e){this.info("setSubPackageLoaded: "+e.join(", ")),e.forEach((e=>{this.loadedSubPackage.add(e)})),this.prepareSubPackagesStyle(e)}batchInjectSubPackages(e){if(0!==e.length){this.info("injectSubPackages: "+e.join(", "));var t=e.filter((e=>!this.injectedSubPackage.has(e))).map((e=>"__APP__"===e||"/"===e.slice(-1)?e:e+"/")),r=this.getEntryFiles(t);this.loadJsFiles(r,!1),this.setSubPackageInjected(t),this.flushStyleSheetsRecursion()}}setSubPackageInjected(e){this.info("setSubPackageInjected: "+e.join(", ")),e.forEach((e=>{this.injectedSubPackage.add(e)}))}setInitialSubPackage(e){var t=[this.matchSubPackageName(e)];this.isInIndependentSubPackage(e)||t.includes("__APP__")||t.push("__APP__"),this.setSubPackageLoaded(t),this.setSubPackageInjected(t)}doLazyLoadReport(e,t){var r=D(),n=this.isFirstPage;this.isFirstPage=!1;var i=this.env.totalStaticConfigCount();r(C,n),r(I,i),r(P,e),r(x,t)}parseProtocol(e){var{codeSpaceID:t,path:r,proto:n}=p(e),i=this.env.getCodeSpace(t);if(!i)throw new Error(`Framework inner error: unknown codeSpace ID ${t}`);return{codeSpace:i,spacePath:n===u?i.componentAliasToPath[r]:r}}convertRouteToAlias(e){return o(e)}getPluginRoutePrefix(e){var t=this.getPluginSubPackage(e);return`${"__APP__"===t?"":t}__plugin__/${e}/`}convertAliasToRoute(e){return this.convertAbsolutePath(p(e))}convertAbsolutePath(e){var{codeSpaceID:t,path:r,proto:n}=e;if(n===d)return`__wx__/${r}`;if(n===l)return r;var i=this.getPluginRoutePrefix(t);if(n===c)return`${i}${r}`;var a=this.env.getCodeSpace(t);if(void 0===a)throw new Error(`Framework inner error: unknown plugin ${t}`);return`${i}${a.componentAliasToPath[r]}`}addSubPackagePlugin(e,t){var r=(e=>("__APP__"===e||("/"!==e[0]&&(e="/"+e),"/"!==e[e.length-1]&&(e+="/")),e))(e);"string"!=typeof t.subpackage&&(t.subpackage=r),this.allPlugins[t.provider]=t,void 0===this.subPackagePlugins[r]?this.subPackagePlugins[r]=[t]:this.subPackagePlugins[r].push(t)}initSubPackagePlugin(e){var t=new Set,r={};Object.keys(e.plugins||{}).forEach((n=>{var i=e.plugins[n];"string"==typeof i.subpackage?this.addSubPackagePlugin(i.subpackage,{...i}):(t.add(i.provider),r[i.provider]=i)})),(e.subpackages||[]).forEach((e=>{Object.keys(e.plugins||{}).forEach((n=>{var i=e.plugins[n],a=i.provider;t.has(a)&&(t.delete(a),delete r[a],this.addSubPackagePlugin(e.root,i))}))})),Array.from(t).forEach((e=>{this.addSubPackagePlugin("__APP__",r[e])}))}getPluginPageGenerics(e){var t,{codeSpaceID:r,path:n,proto:i}=p(e);if(i===l||i===d)return{};var a=this.allPlugins[r],o=this.getPluginSubPackage(r),s="__APP__"===o?"":o,u=this.env.getCodeSpace(r);if(void 0===a||void 0===u)throw new Error(`Framework inner error: unknown plugin ${r}`);var h=i===c?u.componentPathToAlias[n]:n,f={},g=(null==a||null===(t=a.genericsImplementation)||void 0===t?void 0:t[h])||{};return Object.keys(g).forEach((e=>{var t=v(g[e],s);f[e]=this.convertAbsolutePath(t)})),f}getPluginSubPackage(e){if(void 0===this.allPlugins[e])throw new Error(`Framework inner error: unknown plugin ${e}`);return this.allPlugins[e].subpackage}matchSubPackageName(e){var{codeSpaceID:t,proto:r}=p(e);if(r===d)return"__APP__";if(r===l){for(var n=0;n<this.allSubPackageRoots.length;++n)if(e.startsWith(this.allSubPackageRoots[n]))return this.allSubPackageRoots[n];return"__APP__"}return this.getPluginSubPackage(t)}isInIndependentSubPackage(e){if(!Array.isArray(f.subPackages))return!1;var t=this.matchSubPackageName(e);return this.isIndependentSubPackage(t)}isIndependentSubPackage(e){if(!Array.isArray(f.subPackages))return!1;var t=f.subPackages.find((t=>t.root===e));return!!t&&t.independent}prepareSubPackagesStyle(e){H((({styleSheetRuntime:t})=>{this.info("prepareSubPackagesStyle: "+e.join(", ")),t.batchUpdate((()=>{e.forEach((e=>{var r,n="__APP__"===e?"":e;t.setIndex(n+"app.fpiib"),null===(r=this.subPackagePlugins[e])||void 0===r||r.forEach((e=>{var r=this.getPluginRoutePrefix(e.provider);t.addIndexGroup(r),t.setIndex(r+"app.fpiib")})),this.tryInitializeWeUIStyleSheets(n)}))}))}))}tryInitializeWeUIStyleSheets(e){if(!this.weUIInitialized){var t=`${e}__extended__/${me}/`;n(t+"plugin.json")&&(this.weUIInitialized=!0,H((({styleSheetRuntime:e})=>{e.setIndex(t+"plugin.fpiib"),this.appendExtendedLibStyleSheets(t+"plugin.fpcssb")})))}}}var _e=new WeakMap,we=e=>_e.get(e),Se=(e,t)=>{_e.get(e).exitState=t},Ce=new WeakMap,ke=new WeakMap,Ie=e=>Ce.get(e),Pe=e=>ke.get(e),Ae=new WeakMap,xe=e=>Ae.get(e),Te=new WeakMap,Ee=e=>Te.get(e),Me=()=>Math.floor(4294967296*(1+Math.random())).toString(16).slice(1),Re=e=>null!==e,Oe=Object.keys;class De extends Map{constructor(...e){super(...e),this.revMap=new Map}set(e,t){return super.set(e,t),this.revMap.set(t,e),this}delete(e){var t=super.get(e),r=super.delete(e),n=this.revMap.delete(t);return r&&n}getRev(e){return this.revMap.get(e)}hasRev(e){return this.revMap.has(e)}}var Le,Ne=()=>"devtools"===f.platform;function Be(){return void 0===Le&&(Le=!!(f&&"debug"in f&&"boolean"==typeof f.debug&&f.debug)),Le}var $e="__listenerMap__",je=(e,t,r,n,i,a)=>{var o,s,l;if(a){Reflect.has(t,$e)||Reflect.set(t,$e,{});var c=Reflect.get(t,$e),u=`${a.capture||a.useCapture?"catch":"bind"}:${n}`,d=null!==(o=null===(s=a.extraFields)||void 0===s?void 0:s.handler)&&void 0!==o?o:"";r?c[u]=d:delete c[u],null===(l=e._$dataChangeListener)||void 0===l||l.call(e,t,{name:u,value:d},"listener")}},Fe=(e,t,r=We)=>{var{observer:n,self:i,lifetime:a}=e;n("**",(e=>{var n,a=r?r(i):i;null===(n=t._$dataChangeListener)||void 0===n||n.call(t,a,e,"data")})),a("listenerChange",((...e)=>{var n=r?r(i):i;je(t,n,...e)}))},We=e=>we(e).component,Ue=(e,t)=>(Ne()&&e.init((e=>Fe(e,t,We))),e),Ve={writeFieldsToNode:!1,writeIdToDOM:!0,useMethodCallerListeners:!0},qe={dataDeepCopy:E.DeepCopyKind.None,listenerChangeLifetimes:!0,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!0};Ne()&&(Ve.writeExtraInfoToAttr=!0,qe.writeExtraInfoToAttr=!0,Ve.listenerChangeLifetimes=!0,qe.listenerChangeLifetimes=!0);var ze=new class{constructor(){this.constructors=void 0}setConstructors(e){this.constructors=e}translateConstructor(e){switch(e){case this.constructors.String:return E.NormalizedPropertyType.String;case this.constructors.Number:return E.NormalizedPropertyType.Number;case this.constructors.Boolean:return E.NormalizedPropertyType.Boolean;case this.constructors.Object:return E.NormalizedPropertyType.Object;case this.constructors.Array:return E.NormalizedPropertyType.Array;case this.constructors.Function:return E.NormalizedPropertyType.Function;case null:case void 0:return E.NormalizedPropertyType.Any;default:return null}}translatePropertyDef(e){var t=this.translateConstructor(e);if(null!==t)return t;if(Object.prototype.hasOwnProperty.call(e,"type")){var r={...e},n=this.translateConstructor(e.type);if(null!==n)return r.type=n,r}return e}translateComponentDef(e,t){if(void 0===e.properties)return t();var r={};Object.keys(e.properties).forEach((t=>{r[t]=this.translatePropertyDef(e.properties[t])}));var n=e.properties;e.properties=r;var i=t();return e.properties=n,i}};X((e=>{ze.setConstructors(e.constructors)}));var Ge=new WeakMap,He=new WeakMap,Ke=e=>He.get(e),Je=(e,t)=>{var r=t(He.get(e));return He.set(e,r),r},Xe=e=>Ge.get(e);class Ye{constructor(){this._$parents=[],this._$disableDefinitionFilters=!1,this._$is=void 0,this._$export=void 0}implement(e,t){return Ke(this).implement(Ee(e),t),this}externalClasses(e){return Ke(this).externalClasses(e),this}export(e){return this._$export=e,this}data(e){return Ke(this).data(e),this}property(e,t){return Ke(this).property(e,ze.translatePropertyDef(t)),this}methods(e){return Ke(this).methods(e),this}observer(e,t,r=!1){return Ke(this).observer(e,t,r),this}lifetime(e,t,r=!1){return Ke(this).lifetime(e,t,r),this}pageLifetime(e,t,r=!1){return Ke(this).pageLifetime(e,t,r),this}relation(e,t){var r=t.target instanceof J().Behavior?Ie(t.target):t.target instanceof J().ComponentType?xe(t.target):t.target;return Ke(this).relation(e,{target:r,type:t.type,linked:t.linked,linkChanged:t.linkChanged,unlinked:t.unlinked,linkFailed:t.linkFailed}),this}init(e){return Ke(this).init((function({data:t,setData:r,implement:n,relation:i,observer:a,lifetime:o,pageLifetime:s,method:l,listener:c}){var u=this,d=we(u).component;return e.call(u,{self:u,data:t,setData:(e,t)=>{r(e),t&&E.triggerRender(d,(()=>{t()}))},implement:(e,t)=>{n(Ee(e),t)},relation:e=>{if(e.target instanceof J().TraitBehavior)return i({target:Ee(e.target),type:e.type,linked:e.linked,linkChanged:e.linkChanged,unlinked:e.unlinked,linkFailed:e.linkFailed});var t=e.target instanceof J().Behavior?Ie(e.target):e.target instanceof J().ComponentType?xe(e.target):e.target;return i({target:t,type:e.type,linked:e.linked,linkChanged:e.linkChanged,unlinked:e.unlinked,linkFailed:e.linkFailed})},observer:a,lifetime:o,pageLifetime:s,method:l,listener:c})})),this}definition(e){var t=Xe(this),r=Ke(this),n=(Array.isArray(e.behaviors)?e.behaviors:[]).map((e=>{if("string"!=typeof e)return e;var r=this._$is||"",n=t.getComponentSpace().getBehaviorByUrl(e,r);if(null===n)return e;var i=Pe(n);return void 0!==i?i:e})).filter(Re);this._$disableDefinitionFilters||n.forEach((t=>{var r;t instanceof J().Behavior&&(null===(r=t._$bindedDefinitionFilter)||void 0===r||r.call(t,e))}));var i,{properties:a,data:o,observers:s,methods:l,created:c,attached:u,ready:d,moved:p,detached:h,lifetimes:f,pageLifetimes:g,relations:v,externalClasses:m,export:y}=e;if(n.forEach((e=>{e instanceof J().Behavior?(this._$parents.push(e),r.behavior(Ie(e)),e._$export&&(i=e._$export)):r.definition({behaviors:[e]})})),void 0!==o&&("function"==typeof o?r.data(o):r.staticData(o)),void 0!==a)for(var b=Object.keys(a),_=0;_<b.length;_+=1){var w=b[_];r.property(w,ze.translatePropertyDef(a[w]))}if(void 0!==s)if(Array.isArray(s))for(var S=0;S<s.length;S+=1){var{fields:C,observer:k}=s[S];r.observer(C||"**",k)}else for(var I=Object.keys(s),P=0;P<I.length;P+=1){var A=I[P],x=s[A];r.observer(A,x)}if(l&&r.methods(l),c&&void 0===(null==f?void 0:f.created)&&r.lifetime("created",c,!0),u&&void 0===(null==f?void 0:f.attached)&&r.lifetime("attached",u,!0),d&&void 0===(null==f?void 0:f.ready)&&r.lifetime("ready",d,!0),p&&void 0===(null==f?void 0:f.moved)&&r.lifetime("moved",p,!0),h&&void 0===(null==f?void 0:f.detached)&&r.lifetime("detached",h,!0),f)for(var T=Object.keys(f),E=0;E<T.length;E+=1){var M=T[E],R=f[M];r.lifetime(M,R,!0)}if(g)for(var O=Object.keys(g),D=0;D<O.length;D+=1){var L=O[D],N=g[L];r.pageLifetime(L,N,!0)}if(v)for(var B=Object.keys(v),$=function(){var e=B[j],n={...v[e]};if("string"==typeof n.target){var i=n.target;delete n.target,Object.defineProperty(n,"target",{configurable:!0,enumerable:!0,get:()=>t.getComponentSpace().getBehaviorByUrl(i,"")||i,set(){}})}r.relation(e,n)},j=0;j<B.length;j+=1)$();return m&&r.externalClasses(m),(y||i)&&(this._$export=y||i),this}}class Qe extends Ye{constructor(...e){super(...e),this._$definitionFilter=void 0}static create(e,t,r=!1){var n=new Qe;n._$disableDefinitionFilters=r,Ge.set(n,e);var i=e.getComponentSpace().defineWithMethodCaller(t);return He.set(n,i),n._$is=t,n}chainingFilter(e){return Ke(this).chainingFilter(e),this}behavior(e){if("string"==typeof e){var t=this._$is||"",r=Xe(this).getComponentSpace().getBehaviorByUrl(e,t);if(null!==r){var n=Pe(r);void 0!==n&&(e=n)}}return e instanceof J().Behavior?(this._$parents.push(e),Je(this,(t=>t.behavior(Ie(e))))):Je(this,(t=>t.definition({behaviors:[e]}))),this}export(e){return super.export(e)}data(e){return super.data(e)}property(e,t){return super.property(e,t)}methods(e){return super.methods(e)}init(e){return super.init(e)}definition(e){return super.definition(e),e.definitionFilter&&(this._$definitionFilter=e.definitionFilter),this}register(){var e=Ke(this).registerBehavior(),t=new(J().Behavior)(this._$parents,this._$definitionFilter,this._$export);return((e,t)=>{Ce.set(t,e),ke.set(e,t)})(e,t),t}}var Ze={},et=(e,t)=>{void 0===Ze[e.id]?(Ze[e.id]=[t],e.render((()=>{var t=Ze[e.id];delete Ze[e.id],t.forEach((e=>{e()}))}))):Ze[e.id].push(t)},tt=e=>{var t,r=e.ownerShadowRoot?e.ownerShadowRoot.getHostNode()._$ownerRenderRoot:null===(t=e.getBackendContext())||void 0===t?void 0:t._$ownerRenderRoot;e._$ownerRenderRoot=r};class rt extends Ye{constructor(...e){super(...e),this._$is="",this._$alias=void 0,this._$options=void 0,this._$proto=void 0}static create(e,t,r,n=!1){var i=new rt;Ge.set(i,e);var a=e.getComponentSpace().defineWithMethodCaller(t);return He.set(i,a),i._$is=t,i._$alias=r,i._$disableDefinitionFilters=n,a.methodCallerInit((function(){var e,r,n=this,a=i._$proto;if(void 0===a){var o=n.getComponentDefinition().behavior.getMethods();a=i._$proto=new(J().ComponentProto)(o,i._$export)}var s=a.derive(),l=n.getBackendContext(),c=l?l.id:null===(e=n.ownerShadowRoot)||void 0===e||null===(r=e.getHostNode()._$ownerRenderRoot)||void 0===r?void 0:r.id,u=N.createRouter(t,c);return null!==l&&et(l,(()=>{n.triggerLifetime("ready",[])})),((e,t)=>{_e.set(e,t)})(s,{component:n,pageRouter:u}),s})),i}options(e){return this._$options=e,this}behavior(e){this._$parents.push(e);var t=Ie(e);return Je(this,(e=>e.behavior(t))),e._$export&&(this._$export=e._$export),this}export(e){return super.export(e)}data(e){return super.data(e)}property(e,t){return super.property(e,t)}methods(e){return super.methods(e)}init(e){return super.init(e)}definition(e){return super.definition(e),e.options&&this.options(e.options),this}pageDefinition(e){for(var t=Object.create(null),r={},n={},i=Object.keys(e),a=0;a<i.length;a+=1){var o=i[a];"data"===o||"options"===o||"behaviors"===o?n[o]=e[o]:"function"==typeof e[o]?r[o]=e[o]:t[o]=e[o]}return n.methods=r,this.definition(n),Ke(this).init((function(){Q()(this,t),Object.keys(r).forEach((e=>{this[e]=r[e].bind(this)}))})),this}register(){var e,t,r,n,i,a,o,s,l=this._$is,c=Xe(this),u=c.getComponentStaticConfig(l),d=null==u?void 0:u.pureDataPattern,p=d?new RegExp(d):null===(e=this._$options)||void 0===e?void 0:e.pureDataPattern,[h,f]=c.calculateStyleScope(l,this._$options),g=Ke(this);g.options({idPrefixGenerator(){return null===this.ownerShadowRoot?"":Me()},multipleSlots:null===(t=this._$options)||void 0===t?void 0:t.multipleSlots,dynamicSlots:null===(r=this._$options)||void 0===r?void 0:r.dynamicSlots,pureDataPattern:p,virtualHost:null===(n=this._$options)||void 0===n?void 0:n.virtualHost,styleScope:h,extraStyleScope:f,dataDeepCopy:null===(i=this._$options)||void 0===i?void 0:i.dataDeepCopy,propertyPassingDeepCopy:null===(a=this._$options)||void 0===a?void 0:a.propertyPassingDeepCopy,propertyEarlyInit:null===(o=this._$options)||void 0===o?void 0:o.propertyEarlyInit});var v=null==u?void 0:u.usingComponents,m=null==u?void 0:u.componentGenerics,y=null==u?void 0:u.componentPlaceholder;v&&g.usingComponents(v),m&&g.generics(m),y&&g.placeholders(y);var b=c.getCompiledTemplate(l);g.template(b),g.init((({self:e})=>{var t=we(e).component;tt(t)}));var _=g.registerComponent();null===(s=this._$alias)||void 0===s||s.forEach((e=>{c.getComponentSpace().exportComponent(e,this._$is)})),c._$env.codeManager.notifyComponentRegisteredForStyleSheet(c.protocolPath(l));var w=new(J().ComponentType);return((e,t)=>{Ae.set(e,t)})(w,_),w}}var nt={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},it=new Set,at=e=>e instanceof E.Component&&!e.isExternal();function ot(e,t){return{selectAllComponents(r){if(!at(e))return[];var n=Ft().getCodeSpace(e.getOwnerSpace()._$id);if(t!==n)return[];var i=e.shadowRoot.querySelectorAll(r).map((e=>ot(e,t)));return t.wxsDeepCopy(i,!0)},selectComponent(r){if(!at(e))return null;var n=Ft().getCodeSpace(e.getOwnerSpace()._$id);if(t!==n)return null;var i=e.shadowRoot.querySelector(r),a=null===i?null:ot(i,t);return t.wxsDeepCopy(a,!0)},removeClass(...t){return e&&t.length?(t.forEach((t=>{e.toggleNodeClass(t,!1,E.StyleSegmentIndex.TEMP_EXTRA)})),this):this},addClass(...t){return e&&t.length?(t.forEach((t=>{e.toggleNodeClass(t,!0,E.StyleSegmentIndex.TEMP_EXTRA)})),this):this},hasClass(t){var r;return Boolean(null==e||null===(r=e.classList)||void 0===r?void 0:r.contains(t))},setStyle(r){if(!e)return this;if(r===e.__wxsStyle)return this;var n=[];if("object"==typeof r){var i=null!==r?t.wxsDeepDeCopy(r):{};Object.keys(i||{}).forEach((e=>{n.push(`${e}:${i[e]}`)}))}else n=[String(r)];return e.__wxsStyle=n.join(";"),e.setNodeStyle(e.__wxsStyle,E.StyleSegmentIndex.TEMPLATE_EXTRA),this},getDataset:()=>e?t.wxsDeepCopy(e.dataset):null,getState:()=>e?(e.__wxsState=e.__wxsState||(null==t?void 0:t.createWxsStateObject())||{},e.__wxsState):null,triggerEvent(r,n,i){if(!e||t.isLibSpace)return this;var a=n?t.wxsDeepDeCopy(n):n,o=i?t.wxsDeepDeCopy(i):i;return e.triggerEvent(r,a,o),this},callMethod(r,n){if(!r||!e)return this;var i=t.wxsDeepDeCopy(n),a=e instanceof E.Component?e:e.ownerShadowRoot?e.ownerShadowRoot.getHostNode():e._$ownerRenderRoot.root,o=a.getMethodCaller();return"function"==typeof o[r]&&E.safeCallback("WXS callMethod",o[r],o,[i||{}],a),this},requestAnimationFrame(t){if(!e||"function"!=typeof t)return this;var r=e.getBackendContext();return et(r,t),this},getComputedStyle(r,n){if(e&&e.$$){Array.isArray(r)||(r=[]);var i=e.$$;e.getBackendContext().getComputedStyle(i,(e=>{for(var i={},a=0;a<r.length;a++){var o=r[a];o&&void 0!==e[o]&&(i[o]=e[o])}"function"==typeof n&&n(t.wxsDeepCopy(i))}))}else"function"==typeof n&&n({})},setTimeout(t,r,...n){if("function"==typeof t){var i=setTimeout((()=>{var r=e instanceof E.Component?e:e.ownerShadowRoot?e.ownerShadowRoot.getHostNode():e._$ownerRenderRoot.root;E.safeCallback("WXS setTimeout",t,null,n,r),it.delete(i)}),r);return it.add(i),i}},clearTimeout(e){it.has(e)&&(clearTimeout(e),it.delete(e))},getBoundingClientRect(r){e?e.$$.getBoundingClientRect((e=>{"function"==typeof r&&r(t.wxsDeepCopy(e))})):"function"==typeof r&&r(t.wxsDeepCopy({...nt}))},animate(e,t,r){throw new Error("unimplemented")},clearAnimation(e,t){throw new Error("unimplemented")}}}var st=(e,t)=>{var r=e instanceof E.Element?e:we(e).component;return t&&e instanceof E.VirtualNode&&(r.id||Object.getOwnPropertyNames(r.dataset).length||(r=t instanceof E.Element?t:we(t).component)),{id:r.id,dataset:r.dataset}},lt=e=>{if(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push({identifier:n.identifier,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,force:n.force||0,x:n.x,y:n.y})}return t}},ct=(e,t)=>({type:e.type,timeStamp:e.timeStamp,target:st(e.target,e.currentTarget),currentTarget:st(e.currentTarget,null),mark:e.mark,detail:e.detail,touches:lt(e.touches),changedTouches:lt(e.changedTouches),mut:e.mutatedMarked(),...e.extraFields||{},instance:t}),ut=(e,t,r,n)=>{var[i,a]=((e,t)=>{var r=null==t?void 0:t[0];return[e,r===E.template.GeneralLvaluePathPrefix.Script||r===E.template.GeneralLvaluePathPrefix.InlineScript]})(r,n);if(!a){var o=ct(t,void 0);return i.call(e,o)}var s=t.currentTarget,l=s instanceof J().ComponentCaller?we(s).component:s,c=l.ownerShadowRoot.getHostNode(),u=Ft().getCodeSpace(c.getOwnerSpace()._$id),d=ot(l,u),p=u.wxsDeepCopy(ot(c,u),!0),h=ct(t,d);return E.safeCallback("WXS Event Listener",i,p,[u.wxsDeepCopy(h,!0),p],c)};E.template.setDefaultEventListenerWrapper(ut);var dt=!1,pt=[],ht=function(e,t){var r=((e,t)=>{var r=null==t?void 0:t[0];return r===E.template.GeneralLvaluePathPrefix.Script||r===E.template.GeneralLvaluePathPrefix.InlineScript?e:null})(e,t),n=null===r?new Error("Property Change Listener can only be WXS function"):null,i=("function"==typeof e?e.name:null)||"(anonymous)";return(e,t,a,o)=>{var s;null!==r?(s=()=>{var n=Ft().getCodeSpace(a.getOwnerSpace()._$id);E.safeCallback("WXS Property Change Listener",r,null,[n.wxsDeepCopy(e),n.wxsDeepCopy(t),n.wxsDeepCopy(ot(a,n),!0),n.wxsDeepCopy(ot(o,n),!0)],a)},pt.push(s),dt||(dt=!0,Promise.resolve().then((()=>{dt=!1;var e=pt.slice();pt.length=0,e.forEach((e=>{e()}))})))):E.dispatchError(n,`WXS Property Change Listener ${i}`,a)}};E.template.setDefaultChangePropFilter(ht);var ft="default-component",gt={X:e=>null==e?Object.create(null):e,Y:e=>null==e?"":String(e),Z:(e,t)=>!0===e||(e?e[t]:void 0),D:()=>{},Q:{A:ht,C:ut},gdc:e=>e},vt=new WeakSet;class mt{constructor(e,t,r,n,i,a){this._$env=void 0,this.id=void 0,this._$isMainSpace=void 0,this._$isLibSpace=void 0,this.space=void 0,this.styleScopeManager=void 0,this.staticConfigMap=Object.create(null),this.styleScopeNameMap=Object.create(null),this.compiledTemplateMap=Object.create(null),this.compiledScripts=Object.create(null),this.waitingAliasMap=Object.create(null),this.polyfill=void 0,this.polyfillInitiator=void 0,this._$sharedStyleScope=void 0,this.libStyleScope=null,this.styleIsolationMap=Object.create(null),this._$templateDependencies={},this._$codeChunkComponents={},this._$codeChunk={},this._$codeChunkEnabled=!1,this.runtimeGlobals=gt,this._$hasRuntimeGlobal=!1,this.componentPathToAlias={},this.componentAliasToPath={},this.id=e,this._$env=t,this._$isMainSpace=r,this._$isLibSpace=n,this.space=new E.ComponentSpace(ft,null==a?void 0:a.space,null==a?void 0:a.space.styleScopeManager,this._$isLibSpace),this.space._$id=e,this.styleScopeManager=this.space.styleScopeManager,this._$sharedStyleScope=this.styleScopeManager.register(""),this.polyfillInitiator=i,this.space.setComponentWaitingListener(((e,t)=>{var r,n,i=e&&null!==(r=null===(n=this.space.getExportedComponent(t))||void 0===n?void 0:n.is)&&void 0!==r?r:t;this._$env.codeManager.arrangeComponentInjection(this.protocolPath(i))})),this._$isLibSpace?this.space.defineComponent({is:ft}):this.componentEnv(ft,(e=>{e.Component({})}))}get isLibSpace(){return this._$isLibSpace}log(e){y.info(`[GlassEaselAdapter] ${e}, codeSpaceId=${this.id}`)}warn(e){y.warn(`[GlassEaselAdapter] ${e}, codeSpaceId=${this.id}`)}initPolyfill(e){void 0===this.polyfill&&(this.log("initialize polyfill"),this.polyfill=new e(...this.polyfillInitiator()))}isMainSpace(){return this._$isMainSpace}getComponentSpace(){return this.space}importPluginSpace(e,t){this.log(`importPluginSpace: ${e} ${t}`);var r=this._$env.getCodeSpace(e);if(!r)throw new Error(`There is no space "${e}" in the environment`);this.space.importSpace(`plugin://${t}`,r.space,!1),this.space.importSpace(`plugin://${e}`,r.space,!1),this.space.importSpace(`plugin-private://${e}`,r.space,!0)}importLibSpace(e){this.log("importLibSpace"),this.space.importSpace("wx://",e.space,!1),this.libStyleScope=e.libStyleScope}getStyleScopeName(e){return this.styleScopeNameMap[e]}setStyleScope(e,t){this.styleScopeNameMap[e]=t}getStyleIsolation(e){return this.styleIsolationMap[e]}setGlobalUsingComponent(e,t){this.space.setGlobalUsingComponent(e,t)}updateGlobalUsingComponent(e){e.forEach(((e,t)=>{this.space.setGlobalUsingComponent(t,e)}))}exportComponents(e){var t=this.getComponentSpace();Oe(e).forEach((r=>{t.exportComponent(r,e[r]),this.componentPathToAlias[e[r]]=r,this.componentAliasToPath[r]=e[r]}))}componentRegistered(e){return"string"==typeof e&&null!==this.space.getComponentByUrlWithoutDefault(e,"")}protocolPath(e){return this._$env.codeManager.assembleProtocol(this.id,e)}absolutePath(e){return this._$env.codeManager.convertAliasToRoute(this.protocolPath(e))}setRuntimeGlobals(e){var t;this._$hasRuntimeGlobal||(this._$hasRuntimeGlobal=!0,this.runtimeGlobals=e(),this.runtimeGlobals.Q=this.runtimeGlobals.Q||{},this.runtimeGlobals.Q.A=ht,this.runtimeGlobals.Q.C=ut,null===(t=this.polyfill)||void 0===t||t.setRuntimeGlobals((()=>this.runtimeGlobals)))}wxsDeepCopy(e,t=!1){var r;return(this.isLibSpace&&(null===(r=this._$env.getCodeSpace(jt))||void 0===r?void 0:r.runtimeGlobals.gdc)||this.runtimeGlobals.gdc)(e,"nv_",t?oe.PassThrough:oe.Disallow)}wxsDeepDeCopy(e,t=!1){var r;return(this.isLibSpace&&(null===(r=this._$env.getCodeSpace(jt))||void 0===r?void 0:r.runtimeGlobals.gdc)||this.runtimeGlobals.gdc)(e,void 0,t?oe.PassThrough:oe.Disallow)}batchAddCompiledScripts(e){var t={};e(t,this.runtimeGlobals.D,this.runtimeGlobals.Q,this.runtimeGlobals.gdc),Oe(t).forEach((e=>{void 0===this.compiledScripts[e]?this.compiledScripts[e]=t[e]:this.warn("Duplicated wxs "+e)}))}batchAddCompiledTemplate(e){var t=e(this.compiledTemplateMap,this.compiledScripts,this.runtimeGlobals.D,this.runtimeGlobals.Q,this.runtimeGlobals.gdc,this.runtimeGlobals.X,this.runtimeGlobals.Y,this.runtimeGlobals.Z,this.runtimeGlobals);Oe(t).forEach((e=>{var r;void 0===this.compiledTemplateMap[e]?(this.compiledTemplateMap[e]=t[e],null===(r=this.polyfill)||void 0===r||r.addCompiledTemplate(e,{groupList:this.compiledTemplateMap,content:t[e]})):this.warn("Duplicated wxml "+e)}))}getCompiledTemplate(e){var t=this.compiledTemplateMap[e];return void 0===t&&(t=E.template.DEFAULT_PROC_GEN_GROUP),{groupList:this.compiledTemplateMap,content:t,fallbackListenerOnNativeNode:!0}}addComponentStaticConfig(e,t){var r;void 0===this.staticConfigMap[e]&&(this.staticConfigMap[e]=t,null===(r=this.polyfill)||void 0===r||r.addComponentStaticConfig(e,t),this._$env.codeManager.notifyConfigReadyForStyleSheet(this.protocolPath(e)))}getComponentStaticConfig(e){return this.staticConfigMap[e]}addTemplateDependencies(e,t){var r;Array.isArray(this._$templateDependencies[e])||(this._$templateDependencies[e]=[]),this._$templateDependencies[e].push(...t),null===(r=this.polyfill)||void 0===r||r.addTemplateDependencies(e,t)}getTemplateDependencies(e){return this._$templateDependencies[e]||[]}createWxsStateObject(){var e=Object.create(null);return vt.add(e),e}isWxsStateObject(e){return vt.has(e)}enableCodeChunk(){var e;this._$codeChunkEnabled=!0,null===(e=this.polyfill)||void 0===e||e.enableCodeChunk(),b.info("LazyCodeLoading: requiredComponentChunks")}initializeCodeChunk(e,t){var r;this._$codeChunkComponents[e]=[...t],t.forEach((t=>{this._$codeChunk[t]=this._$codeChunk[t]||e||""})),null===(r=this.polyfill)||void 0===r||r.initializeCodeChunk(e,t)}getComponentChunk(e){return this._$codeChunkEnabled&&"string"==typeof this._$codeChunk[e]?this._$codeChunk[e]:e}getComponentsInChunk(e){return this._$codeChunkEnabled&&Array.isArray(this._$codeChunkComponents[e])?this._$codeChunkComponents[e]:[e]}staticConfigCount(){return Object.keys(this.staticConfigMap).length}calculateStyleScope(e,t){if(e===ft)return[void 0,void 0];var r=this.staticConfigMap[e],n=(null==r?void 0:r.addGlobalClass)||(null==t?void 0:t.addGlobalClass),i=(null==r?void 0:r.styleIsolation)||(null==t?void 0:t.styleIsolation);return void 0===i&&(i=null!=r&&r.component?n?ae.ApplyShared:ae.Isolated:ae.Shared),this.styleIsolationMap[e]=i,i===ae.ApplyShared||i===ae.PageApplyShared?[this.styleScopeManager.register(this.getStyleScopeName(e)||`__${Me()}`),this._$sharedStyleScope]:i!==ae.Shared&&i!==ae.PageShared||!this._$isMainSpace?[this.styleScopeManager.register(this.getStyleScopeName(e)||`__${Me()}`),void 0]:[this._$sharedStyleScope,void 0]}globalComponentEnv(e,t,r){return this.componentEnv(t,(({Page:t,Component:n,Behavior:i})=>{var a=e.Page,o=e.Component,s=e.Behavior;e.Page=t,e.Component=n,e.Behavior=i;var l=r();return e.Page=a,e.Component=o,e.Behavior=s,l}))}componentEnv(e,t){var r=this;function n(t){return void 0!==t?r.behavior(e,!0).definition(t).register():r.behavior()}return n.trait=r.traitBehavior.bind(r),t({Page:function(t){var n=r.component(e).pageDefinition(t);return Ue(n,r._$env).register()},Component:function(t){return void 0!==t?ze.translateComponentDef(t,(()=>Ue(r.component(e,!0).definition(t),r._$env).register())):Ue(r.component(e),r._$env)},Behavior:n})}component(e,t=!1){return rt.create(this,e,this.waitingAliasMap[e],t)}behavior(e,t=!1){if(void 0===e)return Qe.create(this);var r=this._$env.codeManager.normalizePath(e,"");return Qe.create(this,r,t)}traitBehavior(e){var t,r,n=void 0===e?this.space.defineTraitBehavior():this.space.defineTraitBehavior(e),i=new(J().TraitBehavior);return t=i,r=n,Te.set(t,r),i}}var yt="custom-tab-bar/index",bt={skyline:4294967297,scl:4294967298},_t=0,wt=1,St=2,Ct=3;class kt{constructor(e){this.env=e,this.tabBars=new Map,this.reset()}reset(){this.log("resetTabBarManager"),this.destroyAllTabBar()}createTabBar(e){var t=bt[e];if(!this.tabBars.has(t)){var r=new Lt(e);this.tabBars.set(t,r)}return t}getTabBar(e){return this.tabBars.get(e)}log(e){y.info(`[GlassEaselAdapter] TabBarManager ${e}`)}initTabBar(e){var t=this.getTabBar(e);this.log(`initTabBar, tabBarId: ${e}`),t&&t.state<wt&&t.init()}attachTabBar(e){var t=this.getTabBar(e);this.log(`attachTabBar, tabBarId: ${e}`),t&&t.state<St&&t.attach()}destroyTabBar(e){var t=this.getTabBar(e);this.log(`destroyTabBar, tabBarId: ${e}`),t&&t.destroy((()=>{this.tabBars.delete(e)}))}destroyAllTabBar(){this.tabBars.forEach(((e,t)=>{this.destroyTabBar(t)}))}getTabBarByPageId(e){var t=this.env.pages.get(e);if(null!=t&&t.tabBarId)return this.getTabBar(t.tabBarId)}isTabBarId(e){return this.tabBars.has(e)}forEachTabBar(e){this.tabBars.forEach((t=>{e(t)}))}}var It="app-bar/index",Pt=0,At=1,xt=2,Tt=3;class Et{constructor(e){this.env=e,this.appBars=new Map,this.appBarIds=new Set,this.reset()}reset(){this.log("resetAppBarManager"),this.destroyAllAppBar()}createAppBar(e,t="skyline"){if(!this.appBars.has(e)){this.destroyAllAppBar();var r=new Nt(e,t);this.appBars.set(e,r),this.appBarIds.add(r.id)}}getAppBar(e){return this.appBars.get(e)}initAppBar(e){var t=this.getAppBar(e);this.log(`initAppBar, windowId: ${e}, appBarId: ${null==t?void 0:t.id}`),t&&t.state<At&&t.init()}attachAppBar(e){var t=this.getAppBar(e);this.log(`attachAppBar, windowId: ${e}, appBarId: ${null==t?void 0:t.id}`),t&&t.state<xt&&t.attach()}destroyAppBar(e){var t=this.getAppBar(e);this.log(`destroyAppBar, windowId: ${e}, appBarId: ${null==t?void 0:t.id}`),t&&t.destroy((()=>{this.appBars.delete(e),this.appBarIds.delete(t.id)}))}destroyAllAppBar(){this.appBars.forEach(((e,t)=>{this.destroyAppBar(t)}))}getAppBarByPageId(e){var t=this.env.pages.get(e);if(null!=t&&t.appBarOwnerWindowId)return this.getAppBar(t.appBarOwnerWindowId)}isAppBarId(e){return this.appBarIds.has(e)}forEachAppBar(e){this.appBars.forEach((t=>{e(t)}))}log(e){y.info(`[GlassEaselAdapter] AppBarManager ${e}`)}}var Mt,Rt=(Mt=4294967299,()=>Mt++);class Ot{findNodeById(e){return this.nodesMap.get(e)}getNodeId(e){return this.nodesMap.getRev(e)}assignNodeWithId(e,t){return this.nodesMap.set(e,t)}removeNodeById(e){return this.nodesMap.delete(e)}getRootCompName(){return this.rootCompAlias}get initRenderDone(){return this._$initRenderDone}constructor(e){this.env=Ft(),this.id=void 0,this.rootTagName=void 0,this.rootCompAlias=void 0,this.styleSheetManager=void 0,this.styleSheetInjector=new fe,this.renderBackend=void 0,this.root=void 0,this.tracer=void 0,this.attachedCb=[],this.nodesMap=new De,this._$initRenderDone=!1,this.styleSheetsInitialized=!1,this.id=e}_init(e){q((t=>{H((r=>{this.log("init"),r.prepareWeUIV2(),this.tracer=r.createTracer(this.id),this.styleSheetManager=r.getStyleSheetManager(this.id);var n=t.getRuntime();e(n,(e=>{if(this.renderBackend=function(e){if("function"!=typeof e.createTextNode)throw new Error("Current version of skyline does not supports glass-easel compatible backend protocol");return"function"!=typeof e.render&&(e.render=function(e){setTimeout((()=>{e()}),16)}),e}(e),this.renderBackend.mode=E.BackendMode.Composed,this.renderBackend.frameworkType=2,!r.styleSheetRuntime.isBackendRuntimeReady()){var n=t.RuntimeCore.nativeGlobal.runtime;r.styleSheetRuntime.registerBackendRuntime(n)}this.styleSheetManager.registerBackendContext(e)}))}))}))}injectCode(e){this.tracer.traceBeginEvent("Framework","injectCode"),this.log(`injectCode, rootCompAlias=${this.rootCompAlias}`),this.env.codeManager.setInitialSubPackage(this.rootCompAlias);var t=[this.rootCompAlias];e&&Oe(e).forEach((r=>{var n=this.env.getCodeManager().convertRouteToAlias(e[r]);t.push(n)})),this.initializeStyleSheets(t),this.env.codeManager.injectComponentsRecursively(t,!0),this.tracer.traceEndEvent()}doInitCreation(e){return this.log(`creating root component, rootCompAlias=${this.rootCompAlias}`),N.traceBeginEvent("Framework","createRootComponent"),this.renderBackend._$ownerRenderRoot=this,this.root=this.env.getCodeSpace(jt).getComponentSpace().createComponentByUrl(this.rootTagName,this.rootCompAlias,e||null,this.renderBackend),this.root.destroyBackendElementOnDetach(),delete this.renderBackend._$ownerRenderRoot,N.traceEndEvent(),this.root.is===ft&&this.error(`Root component ${this.rootCompAlias} not found`),V().getRuntime().insertToInspecteeRoots(this.root),this.root}onAttached(e){this.root&&E.Element.isAttached(this.root)?e.call(this):this.attachedCb.push(e)}_attach(){N.traceBeginEvent("Framework","componentLifetimes # attached"),E.Component.pretendAttached(this.root),N.traceEndEvent(),setTimeout((()=>{this.attachedCb.forEach((e=>{e.call(this)}))}),16)}_startRender(e){this.styleSheetManager.clearPendingScopeSetters(),this.blockForStyleSheet(),this.renderBackend.startRender(e),this._$initRenderDone=!0}initializeStyleSheets(e){N.traceBeginEvent("Framework","styleSheetsInitialize"),this.env.codeManager.recurseUsingStyleSheets(e,this),N.traceEndEvent()}blockForStyleSheet(){this._$initRenderDone&&("function"==typeof this.renderBackend.finishStyleSheetsCompilation?this.renderBackend.finishStyleSheetsCompilation():this.renderBackend.recalcStyle())}destroy(e){this.onAttached((()=>{this.log("removeView");var t=V().getRuntime(),r=G();t.removeFromInspecteeRoots(this.root),E.Element.pretendDetached(this.root),r.removeStyleSheetManager(this.id),this.env.codeManager.removePendingStyleSheetsBlocking(this),null==e||e.call(this)}))}}class Dt extends Ot{constructor(...e){super(...e),this.rootTagName="page",this.tabBarId=void 0,this.appBarOwnerWindowId=void 0,this.ignoreWebviewPreload=!1}log(e){y.info(`[GlassEaselAdapter] Page ${e}, pageId=${this.id}`)}error(e){y.error(`[GlassEaselAdapter] Page ${e}, pageId=${this.id}`)}init(e,t){super._init(((r,n)=>{r.addPageInfo(this.id,e),r.onPageReady(this.id,(e=>{this.tabBarId&&(this.env.tabBarManager.initTabBar(this.tabBarId),this.env.tabBarManager.attachTabBar(this.tabBarId)),this.appBarOwnerWindowId&&(this.env.appBarManager.initAppBar(this.appBarOwnerWindowId),this.env.appBarManager.attachAppBar(this.appBarOwnerWindowId)),n(e),t()}))}))}setTabBarId(e){this.tabBarId=e}setAppBarOwnerWindowId(e){this.appBarOwnerWindowId=e}processInitData(e){this.tracer.traceBeginEvent("Framework","onAppDataChange");var t=G().processAppInitData(e);this.ignoreWebviewPreload=t.ignoreWebviewPreload,this.tracer.traceEndEvent()}addView(e){this.rootCompAlias=this.env.getCodeManager().convertRouteToAlias(e);var t=this.env.codeManager.getPluginPageGenerics(this.rootCompAlias);return this.injectCode(t),this.tracer.traceBeginEvent("Framework","initRender"),this.doInitCreation(t),this.tracer.traceEndEvent(),this.root}attachView(e){this.log("attach");var t=V().getRuntime(),r=G(),n=!1,i={};Object.keys(e).forEach((t=>{E.Component.hasProperty(this.root,t)&&(i[t]=e[t],n=!0)})),n&&this.root.setData(i);var a=this.root.$$;t.attach(a,this.id),super._attach(),super._startRender((()=>{y.info("[attachView] skyline startRender callback"),N.traceBeginEvent("Framework","sendReadyEvent"),this.tracer.traceBeginEvent("Framework","sendReadyEvent"),r.publishPageEvent(this.id),this.tracer.traceEndEvent(),r.onRenderDone(),N.traceEndEvent()})),this.tracer.traceBeginEvent("Framework","initReady",{ignoreWebviewPreload:this.ignoreWebviewPreload}),r.callInitReady(this.ignoreWebviewPreload,this.id),this.tracer.traceEndEvent()}destroy(e){super.destroy((()=>{V().getRuntime().markDestroyContext(this.id),N.workletSDK.removeRouteContext(this.id),null==e||e()}))}}class Lt extends Ot{log(e){y.info(`[GlassEaselAdapter] TabBar ${e}, tabBarId=${this.id}, renderer=${this.renderer}`)}error(e){y.error(`[GlassEaselAdapter] TabBar ${e}, tabBarId=${this.id}, renderer=${this.renderer}`)}constructor(e){super(bt[e]),this.rootTagName="tab-bar",this.id=void 0,this.renderer=void 0,this.state=void 0,this.id=bt[e],this.state=_t,this.renderer=e,this.rootCompAlias=yt}init(){super._init(((e,t)=>{t(e.getTabBarContext()),this.injectCode(),this.state=wt,this.doInitCreation()}))}attach(){this.log("attach");var e=V().getRuntime(),t=this.root.$$;e.attachTabBar(t),super._attach(),this.state=St,super._startRender((()=>{this.state=Ct}))}destroy(e){super.destroy((()=>{V().getRuntime().removeTabBarContext(),e()}))}}class Nt extends Ot{log(e){y.info(`[GlassEaselAdapter] AppBar ${e}, id=${this.id}, WindowId=${this.windowId}`)}error(e){y.error(`[GlassEaselAdapter] AppBar ${e}, id=${this.id}, WindowId=${this.windowId}`)}constructor(e,t){var r=Rt();super(r),this.rootTagName="app-bar",this.id=void 0,this.windowId=void 0,this.renderer=void 0,this.state=void 0,this.id=r,this.windowId=e,this.renderer=t,this.state=Pt,this.rootCompAlias=It}init(){super._init(((e,t)=>{t(e.createAppBarContext(this.id,this.windowId)),this.injectCode(),this.state=At,this.doInitCreation()}))}attach(){this.log("attach");var e=V().getRuntime(),t=this.root.$$;e.attachAppBar(t),super._attach(),this.state=xt,super._startRender((()=>{this.state=Tt}))}destroy(e){super.destroy((()=>{V().getRuntime().removeAppBarContext(),e()}))}}class Bt{constructor(e){this.codeSpaceMap=void 0,this.globalCodeSpace=void 0,this.libSpace=null,this._$polyfillConstructor=void 0,this.codeManager=new be(this),this.pages=new Map,this.tabBarManager=new kt(this),this.appBarManager=new Et(this),this.randomPageIdCallbacks=[],this.builtInComponents=new Map,this._$dataChangeListener=void 0,this.codeSpaceMap=Object.create(null),this.globalCodeSpace=new mt(null,this,!1,!1,e,void 0)}initPolyfill(e){void 0!==this._$polyfillConstructor?y.info("[GlassEaselAdapter] init polyfill more than once, ignoring"):(y.info("[GlassEaselAdapter] init polyfill"),this._$polyfillConstructor=e,this.forEachSpace((e=>{this.setPolyfillForSpace(e)})))}setPolyfillForSpace(e){void 0!==this._$polyfillConstructor&&e.initPolyfill(this._$polyfillConstructor)}getCodeManager(){return this.codeManager}getLibSpace(){return this.libSpace}getComponentPath(e){var t=this.getComponentDomainPath(e.getRootBehavior());return this.codeManager.convertAliasToRoute(t)}getGlobalCodeSpace(){return this.globalCodeSpace}importLibSpace(e){e!==this.libSpace&&null!==this.libSpace&&(e.importLibSpace(this.libSpace),e.getComponentSpace().updateBaseExtendedNativeList(this.libSpace.getComponentSpace()),e.updateGlobalUsingComponent(this.builtInComponents))}createCodeSpace(e,t,r,n){y.info(`[GlassEaselAdapter] createCodeSpace, id=${e}`);var i=new mt(e,this,t,r,n,this.globalCodeSpace);return this.codeSpaceMap[e]=i,i.getComponentSpace().updateComponentOptions(r?qe:Ve),i.updateGlobalUsingComponent(this.builtInComponents),this.setPolyfillForSpace(i),r?(this.libSpace=i,i.libStyleScope=i.getComponentSpace().styleScopeManager.register("__wx__"),this.forEachSpace((e=>{this.importLibSpace(e)}))):this.importLibSpace(i),i}getCodeSpace(e){return null===e?this.globalCodeSpace:this.codeSpaceMap[e]}getComponentSpaceId(e){return e._$id}forEachRenderRoot(e){this.pages.forEach((t=>{e(t)})),this.tabBarManager.forEachTabBar(e),this.appBarManager.forEachAppBar(e)}forEachSpace(e){e(this.globalCodeSpace),Object.values(this.codeSpaceMap).forEach((t=>e(t)))}getAdapterPage(e){return this.pages.get(e)}newAdapterPage(e){if(this.pages.has(e))return this.pages.get(e);var t=new Dt(e);if(this.pages.set(e,t),this.randomPageIdCallbacks.length>0){var r=this.randomPageIdCallbacks;this.randomPageIdCallbacks=[],r.forEach((t=>{t(e)}))}return t}removeAdapterPage(e){var t=this.pages.get(e);t&&t.destroy((()=>{this.pages.delete(e)}))}getRandomPageIdSync(){return 0===this.pages.size?null:this.pages.keys().next().value}getRandomPageId(e){0!==this.pages.size?e(this.pages.keys().next().value):this.randomPageIdCallbacks.push(e)}getAllPageIds(){return Array.from(this.pages.keys())}isVirtualPage(e){return this.tabBarManager.isTabBarId(e)||this.appBarManager.isAppBarId(e)}getPageStack(){return N.getCurrentPages().map((e=>{var t,r=null===(t=we(e))||void 0===t?void 0:t.component,n=null==r?void 0:r._$ownerRenderRoot;return n instanceof Dt?n:null}))}totalStaticConfigCount(){var e=0;return this.forEachSpace((t=>{e+=t.staticConfigCount()})),e}getComponentDomainPath(e){var t=e.ownerSpace,r=this.getComponentSpaceId(t);return this.codeManager.assembleProtocol(r,e.is)}afterPackageCommonEvaluation(){this.codeManager.flushStyleSheetsRecursion()}registerBuiltInComponent(e,t){this.builtInComponents.set(e,t)}updateGlobalUsingComponent(){this.forEachSpace((e=>{e.updateGlobalUsingComponent(this.builtInComponents)}))}updateExtendedNativeList(e){this.forEachSpace((t=>{t.getComponentSpace().updateBaseExtendedNativeList(e.getComponentSpace())}))}getComponentStaticConfig(e){var{codeSpace:t,spacePath:r}=this.codeManager.parseProtocol(e);return t.getComponentStaticConfig(r)}startGroupRegister(){this.forEachSpace((e=>{e.getComponentSpace().startGroupRegister()}))}endGroupRegister(){this.forEachSpace((e=>{e.getComponentSpace().endGroupRegister()}))}listenDataChange(e){this._$dataChangeListener=e}unlistenDataChange(){delete this._$dataChangeListener}}var $t,jt="/";X((e=>{$t=new Bt(e.globalPolyfillInitiator)}));var Ft=()=>$t,Wt=()=>E,Ut=0,Vt=null,qt=function(e){Ut===e&&(Ut=0,Vt=null)},zt=function(e){return Ut=Date.now()+Math.random(),Vt=e,Ut},Gt=function(e,t){var r,n=zt(t);try{r=e(n)}catch(e){throw setTimeout((()=>{qt(n)}),0),e}return setTimeout((()=>{qt(n)}),0),r},Ht=function(){return!!Ut},Kt=function(){return Vt},Jt=e=>N._emitTapAnyWhere(e);E.addGlobalWarningListener((e=>(Be()&&console.warn(e),!1))),E.addGlobalErrorListener(((e,t,r,n)=>{var i=r&&"string"!=typeof r?r.getRootBehavior().ownerSpace:null,a=i?Ft().getComponentSpaceId(i):null;return Be()&&e instanceof Error&&console.error([e instanceof Error?`${e.message}`:String(e),n?`\t@${E.dumpSingleElementToString(n)}`:void 0,r?`\t${t||""}@${"string"==typeof r?`<${r}>`:E.dumpSingleElementToString(r||!1)}`:void 0,e instanceof Error?e.stack:null].filter(Boolean).join("\n")),T.thirdErrorReport({error:e,source:null!=a?a:""}),!1})),M=t})(),(()=>{var e={420:(e,t,r)=>{var n;r.d(t,{k:()=>a,r:()=>i}),g.onLoad((()=>{n=[...A.globalEsObjs.map((e=>globalThis[e])),...A.globalEsHiddenObjs].filter(Boolean)}));var i=()=>n;function a(e){var t=e.getGlobals(),r=i();t.length===r.length?A.bridgeGlobalInstanceOf(i(),t):g.emitFrameworkError(new Error("remoteGlobals mismatch with currentGlobals"),"bridgeGlobalInstanceOf")}},533:(e,t,r)=>{r.d(t,{A:()=>n});var n=(globalThis.__wxLibrary||{}).contextType}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{_getSelfBridgeContext:()=>a,bridgeContext:()=>o});var e=r(420),t=r(533),i=new Map;function a(){return{getGlobals:e.r,contextType:t.A,setBridged:(e,t)=>{i.set(e,t)}}}function o(r){var n=r._getSelfBridgeContext();t.A,n.contextType;try{if(i.has(n.contextType))return;i.set(n.contextType,n),n.setBridged(t.A,a()),(0,e.k)(n)}catch(e){t.A,n.contextType}}})(),R=n})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};e.r(t),e.d(t,{actionController:()=>ke,allowReportLoadingTime:()=>bt,checkIsWebviewPageDetach:()=>Xe,clearAsyncCallApiRelatedEvent:()=>qe,clearCurrentEventApiList:()=>Oe,clearCurrentEventInfo:()=>$e,closeTrackUserAction:()=>Me,convert24247SchemaToSensitiveQueryJudgeSchema:()=>L,convertReportInfo2Strategys:()=>ae,endLoading:()=>mt,endTraceHandler:()=>nt,endTraceLastRouteStayTime:()=>b,filterApiReportReq:()=>le,getAppServiceVariable:()=>Ge,getAsyncCallApiRelatedEvent:()=>Ve,getAsyncCallbackJoinEventInterval:()=>et,getCompatPathWithoutValue:()=>U,getCurrentEventApiList:()=>Fe,getCurrentEventInfo:()=>Be,getCurrentFullyRoutePath:()=>x,getCurrentPageTitle:()=>P,getCurrentRawRoutePath:()=>q,getCurrentRoutePath:()=>w,getCurrentRoutePathWithoutQuery:()=>S,getCurrentRouteStartTime:()=>z,getEventJoinInterval:()=>Ze,getLastRoutePath:()=>_,getPageTitle:()=>E,getQualityConfig:()=>ht,getReportEvent:()=>pe,getRouteHasWebview:()=>Je,getSafeRoutePath:()=>B,getSamplePercent:()=>ue,getSessionId:()=>he,getTextContentMaxLayer:()=>_e,getTextContentMaxLength:()=>be,getTrackUserAction:()=>je,protectActionReporter:()=>_t,pruneSensitiveUrl:()=>W,pushApiToEventApiList:()=>We,reportInteractionAPI:()=>dt,setAppServiceVariable:()=>ze,setAsyncCallApiRelatedEvent:()=>Ue,setAsyncCallbackJoinEventInterval:()=>tt,setCurrentEventApiList:()=>Re,setCurrentEventInfo:()=>Ne,setCurrentRouteStartTime:()=>G,setEventJoinInterval:()=>Qe,setQualityConfig:()=>pt,setReportSetting:()=>Ie,setRouteHasWebview:()=>Ke,setSessionId:()=>ie,shouldReportApi:()=>ye,shouldReportEvent:()=>de,shouldReportLifetime:()=>fe,shouldStartReport:()=>me,shouldStopReport24689:()=>ce,shouldUpdateReportInfo:()=>ve,startActionChainReport:()=>ge,startLoading:()=>vt,startTraceHandler:()=>rt,startTraceLastRouteStayTime:()=>m,startTrackUserAction:()=>Ee,traceApi:()=>Te,traceBootRoutePath:()=>k,traceEvent:()=>xe,traceFullyRoutePath:()=>A,traceLife:()=>Pe,traceNewRoute:()=>M,traceRawRoutePath:()=>V,traceRoute:()=>Ae,traceRoutePath:()=>h,traceRoutePathWithoutQuery:()=>v,updateWebviewPageInfo:()=>Ye});var r=(()=>Object.prototype.toString)(),n=u.prototype.call.bind(r);function i(e){return n(e).slice(8,-1)}var a=e=>"Object"===i(e);class o{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}const s=(()=>new o)();var l,c,d,p,h=e=>{l=w(),s.set("current_route_path",e,!0)},v=e=>{s.set("current_route_without_query_path",e,!0)},m=()=>{d=Date.now()},b=()=>Date.now()-d,_=()=>l,w=()=>s.get("current_route_path"),S=()=>s.get("current_route_without_query_path"),C=!0,k=e=>{C&&(h(e),C=!1)},I={},P=()=>{var e=x();return I[e]},A=(e,t)=>{try{if("string"!=typeof e)return c=e;if(!a(t))return c=e;for(var r of(e+="?",Object.keys(t))){e+=`${r}=${t[r]}&`}return c=e.slice(0,e.length-1)}catch(t){return y.error("getFullyRoutePath err:",t),c=e}},x=()=>c,E=e=>I[e],M=(e,t)=>{var r,n,i=(t&&t.window||{}).navigationBarTitleText||"",a=q(),o=null==e?void 0:e[a],s=(null==o||null===(r=o.window)||void 0===r?void 0:r.navigationBarTitleText)||i;n=s,I[c]=n},R={},D=!1,L=e=>{try{var t,r,n,i=(null==e||null===(t=e.common)||void 0===t?void 0:t.importantKeyInfo)||[];(i=i.map((e=>{var t;return new RegExp(e.pure,null!==(t=e.flag)&&void 0!==t?t:"")}))).length&&(R.keyJudge=i);var a=(null==e||null===(r=e.common)||void 0===r?void 0:r.sensitiveInfo)||[],o=[...(null==e||null===(n=e.common)||void 0===n?void 0:n.safeSensitiveInfo)||[],...a].reduce(((e,t)=>{var r;return t.matchKey||e.push(new RegExp(t.pure,null!==(r=t.flag)&&void 0!==r?r:"")),e}),[]);o.length&&(R.valJudge=o),D=!0}catch(e){y.error("convert24247SchemaToSensitiveQueryJudgeSchema err:",e)}},B=(e,t,r,n=!1)=>{try{if("string"!=typeof e)return e;var i=((e,t,r=!1)=>{if(!a(e))return e;if(!D||r){var n={};return Object.keys(e).forEach((r=>{n[r]=1092!=t||_()?"":e[r]})),n}var{keyJudge:i,valJudge:o}=R,s={},l=function(t){var r=e[t];i&&i.some((e=>e.test(t)))&&(r=null),r&&o&&o.forEach((e=>{r=r.replace(e,"")})),s[t]=r};for(var c of Object.keys(e))l(c);return s})(t,r,n);if(!a(i))return e;for(var o of(e+="?",Object.keys(i))){e+=`${o}=${i[o]}&`}return e.slice(0,e.length-1)}catch(t){return y.error("getSafeRoutePath err:",t),e}},$=new RegExp("[^&=?]+=[^&]*","g"),j=new RegExp("(.*)=(.*)"),F=e=>{try{if("string"!=typeof e)return e;var t=e.indexOf("?");if(-1===t)return e;var r=e.slice(t+1).match($);return r?[e.slice(0,t),r=r.reduce(((e,t)=>{var r,n,i=null===(r=t.match(j))||void 0===r||null===(n=r.slice)||void 0===n?void 0:n.call(r,1);return i?(Object.assign(e,Object.fromEntries([i])),e):e}),{})]:e}catch(t){return e}},W=e=>{try{var t=F(e);if(!Array.isArray(t))return t;var[r,n]=t;return B(r,n)}catch(t){return e}},U=e=>{try{var t=F(e);if(!Array.isArray(t))return t;var[r,n]=t;return B(r,n,null,!0)}catch(t){return e}},V=e=>{s.set("current_raw_route_path",e,!0)},q=()=>s.get("current_raw_route_path"),z=()=>p,G=()=>p=Date.now(),H=()=>{K!==f&&void 0!==K&&Object.assign(K,f)},K=(()=>(f.onReady(H),f))();const J=K;J.onReady((()=>{s.set("api_call_from_hot_boot_time",Date.now(),!0),void 0!==N&&N.onAppEnterForeground((()=>{s.set("api_call_from_hot_boot_time",Date.now())}))}));var X,Y=e=>{try{e=JSON.stringify(e)}catch(e){}return e},Q={},Z={tap:!0},ee={},te=30,re=3,ne=!1,ie=e=>{X=e},ae=e=>{e&&"object"==typeof e&&(e.api.forEach((e=>{"string"==typeof e.name&&(Q[e.name]={req:e.req,res:e.resp,samplePercent:e.samplePercent})})),(e=>{e.forEach((e=>{Z[e.type]=!0}))})(e.event),(e=>{e.lifetimes&&e.lifetimes.forEach((e=>{ee[e.type]=!0}))})(e),(e=>{void 0!==e.textContentMaxLength&&(te=e.textContentMaxLength>30?30:e.textContentMaxLength<0?0:e.textContentMaxLength),void 0!==e.textContentMaxLayer&&(re=e.textContentMaxLayer>3?3:e.textContentMaxLayer<0?0:e.textContentMaxLayer)})(e),y.info("TUA ApiReportStrategys:",Q))},oe=e=>{if(!a(e))return e;var t={};for(var r of Object.keys(e)){var n=e[r];a(n)?t={...t,...oe(n)}:t[r]=n}return t},se=(e,t)=>{if(!e)return null;if(!t)return t;if("string"==typeof t)return a(e)?null:t.slice(0,512);if(!0===e||"string"==typeof e)return t;var r;if(Array.isArray(t))r=[];else{if("[object Object]"!==Object.prototype.toString.call(t))return t;r={}}for(var n of Object.keys(e))if("string"==typeof n){var i=t[n];if(void 0!==i){var o=e[n];if(o){var s=n.toLowerCase();"string"==typeof o&&(s=o.toLowerCase()),r[s]=se(o,i)}}}return r=oe(r)},le=(e,t,r=!1)=>{var n,i=Q[e];if(!i)return null;var a={};return 1===(null===(n=i=i[r?"res":"req"])||void 0===n?void 0:n.__ALL__)?a.ext_data=Y(t):a.ext_data=Y(se(i,t)),a},ce=e=>Math.random()>ue(e),ue=(e={})=>{var t;return"api"===e.type?null===(t=Q[e.data])||void 0===t?void 0:t.samplePercent:1},de=e=>ne&&Z[e],pe=()=>ne?Z:[],he=()=>X,fe=e=>ee[e],ge=()=>{ne=!0},ve=e=>X!==e,me=()=>ne,ye=e=>Q[e],be=()=>te,_e=()=>re;var we,Se,Ce,ke=new class{constructor({sendInterval:e=5e3,cache:t=5}={}){this.sendInterval=e,this.cache=t,this.actions=[],this.isInit=!1,this.currentActionId=1}create(){return{}}intervalSend(){if(!this.sendClear){var e=setTimeout((()=>{this.send(),this.intervalSend()}),this.sendInterval);this.sendClear=e}}clearIntervalSend(){clearTimeout(this.sendClear),this.sendClear=null}getCurrentId(){return this.currentActionId++}add(e,t={}){var r,n;this.isInit&&(1!==e.result&&ce({type:e.reporttype,data:e.name})||(e.id=this.getCurrentId(),e.hotbootdistance=(n=s.get("api_call_from_hot_boot_time"),Date.now()-n),e.pagename=null!==(r=t.path)&&void 0!==r?r:w(),e.instanceId=J.appLaunchInfo.sessionid||J.appLaunchInfo.sessionId,e.source=void 0!==g?g.env.isWebView?2:1:0,e.appId=J.accountInfo&&J.accountInfo.appId,e.pagetitle=t.path?E(t.fullyPath):P(),e.extra_info=JSON.stringify({isasyncreturn:e.isAsync,...e.extra_info}),delete e.isAsync,e.time=Date.now(),"api"!==e.reporttype||"navigateTo"!==e.name&&"redirectTo"!==e.name&&"switchTab"!==e.name&&"navigateBack"!==e.name||(e.pagename=_()),this.actions.push(JSON.stringify(e)),this.actions.length>this.cache&&this.send()))}cut(e){if("string"!=typeof e)return e;var t=Math.floor(204700/this.cache);return e.length>t?e.slice(0,t):e}send(){void 0!==N&&(this.actions.length&&N.reportActionTrace({cs_session_id:he(),click_event_data_list:this.actions.map(this.cut.bind(this))},{fail(e){var t=["","","webapi_reportwxacityservicescreenshot",w(),1,JSON.stringify({err:e.errMsg})].map(encodeURIComponent).join(",");T.reportKeyValue({key:"getPhoneNumberReport",value:t,force:!0}),y.error("report user action err:",e)}}),this.actions=[],this.clearIntervalSend(),this.intervalSend())}protect(){if(this.isInit)return null;void 0!==N&&(this.intervalSend(),N.onAppEnterBackground((()=>{this.clearIntervalSend(),this.send()})),N.onAppEnterForeground((()=>{this.intervalSend()})),this.isInit=!0)}setReportSetting({reportCache:e,reportInterval:t}){this.cache=null!=e?e:5,this.sendInterval=null!=t?t:5e3}},Ie=e=>ke.setReportSetting(e),Pe=(e,t)=>{if(fe(e)){var r={reporttype:"lifetimes",result:0,type:e};ke.add(r,{path:t.path,fullyPath:t.fullyPath})}},Ae=(e,t,r=!0)=>{Te(e,{url:t},null,r,null,0)},xe=(e,t,r,n,i,a)=>{if("onH5Open"===e||de(e)){var o={reporttype:"event",event:{currenttarget:r,target:n},errmsg:t||null,result:t?1:0,eventname:e,event_id:String(a)};ke.add(o)}},Te=(e,t,r,n,i,a,o,s={})=>{if(ye(e)){var{errMsg:l,errno:c,relatedEvent:u}=s,d={reporttype:"api",name:e,req:s.noFilterReq?{ext_data:Y(t)}:le(e,t),resp:s.noFilterRes?{ext_data:Y(r)}:le(e,r,!0),uid:String(i),result:n?1:0,cost_time:a,isAsync:o,extraInfo:s,jsapi_errmsg:l,jsapi_errno:c,...u?{in_event:String(u)}:{}};delete s.noFilterReq,delete s.noFilterRes,ke.add(d)}},Ee=e=>{s.set("start_track_user_action",e,!0)},Me=()=>{s.set("start_track_user_action",!1)},Re=e=>{s.set("current_event_api_list",e,!0)},Oe=()=>{s.set("current_event_api_list",null)},De=null,Le=null,Ne=e=>{De=e},Be=()=>De,$e=e=>{if(je()!==e)return!1;De=null},je=()=>s.get("start_track_user_action"),Fe=()=>s.get("current_event_api_list"),We=(e,t)=>{var r=Fe();return!(!r||!ye(e))&&(r.push(String(t)),!0)},Ue=e=>{if(Le)return!1;Le=e},Ve=()=>Le,qe=e=>{if(e!==Le)return!1;Le=null},ze=e=>{we=e},Ge=()=>we,He={},Ke=(e,t)=>{if(!t)return!1;t.startTime=Date.now(),He[e]=t},Je=e=>He[e],Xe=()=>{var e,t=q();if(e=He[t]){var{src:r,startTime:n}=e,{scene:i,scene_note:a,instanceId:o}=Ge()||{},s=[o,i,a,W(r),Date.now(),Date.now()-n,w()].map(encodeURIComponent).join(",");T.reportKeyValue({key:"detachFromNestWebviewPage",value:s})}},Ye=()=>{var e,t=q();(e=He[t])&&(e.startTime=Date.now())};var Qe=e=>Se=null!=e?e:50,Ze=()=>Se,et=()=>Ce,tt=e=>Ce=null!=e?e:25,rt=e=>{if(e&&de(e.type)){if(je())return null;var t,r;try{var{currentTarget:{__extra:n},target:{__extra:i}}=e;r=i,(t=n)&&(delete e.currentTarget.__extra,delete e.target.__extra)}catch(e){}var a=[],o=1e4*Date.now()+Math.round(9999*Math.random());return Ee(o),Re(a),Ne({type:e.type,callErr:null,currentTargetTrace:t,targetTrace:r,apiCalls:a}),o}},nt=e=>{e===je()&&setTimeout((()=>{var t=Be()||{};xe(t.type,t.callErr,t.currentTargetTrace,t.targetTrace,t.apiCalls,e),$e(e),Me(),Oe()}),Se)},it=0,at=0,ot={},st=[1005,1006,1042,1053,1106,1179,1027,1153];J.onReady((()=>{it=J.appLaunchInfo.scene,at=J.appLaunchInfo.sessionid||J.appLaunchInfo.sessionId,Object.assign(ot,J.appLaunchInfo)}));var lt,ct,ut=null,dt=({api:e,result:t,res:r})=>{if(!1!==ut){null===ut&&(ut=st.includes(it)),0===t&&r&&r.cancel&&(t=2);var n=[e,t,Date.now(),it,encodeURIComponent(ot.scene_note||ot.sceneNote),at,S()].join(",");T.reportKeyValue({key:"WeAppInteractionApiCall",value:n})}},pt=e=>{lt=e},ht=()=>lt,ft=-1,gt=!1,vt=()=>{if(!gt)return!1;ct=Date.now()},mt=e=>{var t;if(!gt)return!1;ft=Date.now()-ct;var r=yt(),n=Ge().instanceId,i=["showLoading",String(r),w(),n,3,e].join(",");null!==(t=ht())&&void 0!==t&&t.reportLoading&&T.reportKeyValue({key:"WeAppInteractiveApiError",value:i})},yt=()=>{if(-1===ft)return!1;var e=ft;return ft=-1,e},bt=()=>{gt=!0},_t=()=>{ke.protect()};O=t})();var D=!1,L,N;(()=>{var e={27:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{Context:()=>ke.Context,Easing:()=>ae,addNavigatorInfoIfNeeded:()=>Je,addRouteBuilder:()=>et,blue:()=>N,cancelAnimation:()=>W,checkPluginState:()=>ut,checkWorkletFunc:()=>C,chooseRenderMode:()=>lt,createAnimatedStyle:()=>Te,createAnimatedStyleForWeb:()=>Ee,createRouteContext:()=>Xe,decay:()=>le,defineAnimation:()=>F,delay:()=>ce,derived:()=>pe,disableMapper:()=>Pt,enableMapper:()=>It,externalMethods:()=>he,genRouteConfig:()=>nt,getBoundingClientRect:()=>a,getRouteBuilder:()=>rt,getRouteContext:()=>it,green:()=>L,initialUpdaterRun:()=>$,isConfigured:()=>dt,isConfiguredCheck:()=>pt,makeFunctionAsync:()=>k,makeMutable:()=>_t,makeRemote:()=>wt,makeShareable:()=>gt,normalizeColor:()=>M,opacity:()=>R,presetCustomRoute:()=>ot,red:()=>O,registerEventHandler:()=>At,removeNavigatorInfo:()=>Ke,removeRouteBuilder:()=>tt,removeRouteContext:()=>at,repeat:()=>ue,runOnJS:()=>ft,runOnUI:()=>ht,scrollViewContext:()=>l,sequence:()=>de,setExternalMethods:()=>fe,shared:()=>Ie,snapshotContext:()=>t,spring:()=>se,startMapper:()=>St,stopMapper:()=>Ct,stopMappers:()=>kt,timing:()=>oe,unregisterEventHandler:()=>xt});var e,t={changeMode:((e=function(e,t){null!=e?workletUIModule.snapshotChangeMode?workletUIModule.snapshotChangeMode(e,t):console.warn("For developer: client version is too old, SnapshotContext.changeMode can not work"):console.warn("snapshotContext.changeMode: fail invalid parameter ref")})._closure={},e.asString="function _f(ref,mode){if(ref===undefined||ref===null){console.warn('snapshotContext.changeMode: fail invalid parameter ref');return;}if(workletUIModule.snapshotChangeMode){workletUIModule.snapshotChangeMode(ref,mode);}else{console.warn('For developer: client version is too old, SnapshotContext.changeMode can not work');}}",e.__workletHash=0xbeb71932950,e.__location="src/worklet/operateWidgets.ts (1:19)",e.__worklet=!0,e)},i={left:0,top:0,right:0,bottom:0,width:0,height:0},a=function(){var e=function(e){return null==e?(console.warn("getBoundingClientRect: fail invalid parameter ref"),i):workletUIModule.getBoundingClientRect?workletUIModule.getBoundingClientRect(e):(console.warn("For developer: client version is too old, getBoundingClientRect can not work"),i)};return e._closure={zeroRect:i},e.asString="function _f(ref){const{zeroRect}=jsThis._closure;{if(ref===undefined||ref===null){console.warn('getBoundingClientRect: fail invalid parameter ref');return zeroRect;}if(workletUIModule.getBoundingClientRect){return workletUIModule.getBoundingClientRect(ref);}else{console.warn('For developer: client version is too old, getBoundingClientRect can not work');return zeroRect;}}}",e.__workletHash=7110762991893,e.__location="src/worklet/operateWidgets.ts (26:37)",e.__worklet=!0,e}(),o={offset:0,duration:300,animated:!0,easingFunction:"ease"},s=function(){var e=function(e,t){if(null!=e){var r=Object.assign({},o,t),n=0;"number"==typeof r.top?n=r.top:"number"==typeof r.left&&(n=r.left),r.offset=n,delete r.top,delete r.left,workletUIModule.scrollTo?workletUIModule.scrollTo(e,r):console.warn("For developer: client version is too old, ScrollViewContext.scrollTo can not work")}else console.warn("scrollTo: fail invalid parameter ref")};return e._closure={defaultScrollToOptions:o},e.asString="function _f(ref,options){const{defaultScrollToOptions}=jsThis._closure;{if(ref===undefined||ref===null){console.warn('scrollTo: fail invalid parameter ref');return;}const opts=Object.assign({},defaultScrollToOptions,options);let offset=0;if(typeof opts.top==='number'){offset=opts.top;}else if(typeof opts.left==='number'){offset=opts.left;}opts.offset=offset;delete opts.top;delete opts.left;if(workletUIModule.scrollTo){workletUIModule.scrollTo(ref,opts);}else{console.warn('For developer: client version is too old, ScrollViewContext.scrollTo can not work');}}}",e.__workletHash=0xfc22dfa68fa,e.__location="src/worklet/operateWidgets.ts (58:17)",e.__worklet=!0,e}(),l={scrollTo:s},c="skyline";function u(){return!("skyline"===c)}class d{constructor(e){this.sortedMappers=[],this.mappers=new Map,this._module=void 0,this.updatedSinceLastExecute=!1,this._module=e}startMapper(e){return this.mappers.set(e.id,e),this.updatedSinceLastExecute=!0,e.id}stopMapper(e){this.mappers.delete(e),this.updatedSinceLastExecute=!0}execute(){this.updatedSinceLastExecute&&(this.updateOrder(),this.updatedSinceLastExecute=!1);for(var e=0,t=this.sortedMappers.length;e<t;++e){var r=this.sortedMappers[e];r.dirty&&r.execute()}}updateOrder(){var e=[...this.mappers.values()].map((function(e){return new p(e)})),t={};this.mappers.forEach((function(e){t[e.id]=e}));for(var r=0,n=e.length;r<n;++r){var i=e[r];if(0!==i.mapper.outputs.length)for(var a=0;a<n;++a){var o=e[a];if(r!==a&&0!==o.mapper.inputs.length)for(var s=0,l=i.mapper.outputs.length;s<l;++s)for(var c=0,u=o.mapper.inputs.length;c<u;++c)i.mapper.outputs[s]._id===o.mapper.inputs[c]._id&&i.children.push(o)}}for(var d={},h=1,f=function(t){var r=e.indexOf(t);if(-1!==r){if(++h,e.splice(r,1),0===t.children.length&&e.length>0)return d[t.mapper.id]=h++,void f(e[0]);for(var n=0,i=t.children.length;n<i;++n)f(t.children[n]);d[t.mapper.id]=h++}};e.length;)f(e[0]);var g=Object.keys(d).map((function(e){var t=parseInt(e,10);return[t,d[t]]}));g.sort((function(e,t){return t[1]-e[1]})),this.sortedMappers=[];for(var v=0,m=g.length;v<m;++v){var[y]=g[v];this.sortedMappers.push(t[y])}}get needRunOnRender(){return this.updatedSinceLastExecute}}class p{constructor(e,t=[]){this.mapper=void 0,this.children=void 0,this.mapper=e,this.children=t}}class h{constructor(e,t){this._id=void 0,this._value=void 0,this._setter=void 0,this._animation=null,this._listeners=[],this._id=h.MUTABLE_ID++,this._value=e,this._setter=t}get value(){return this._value}set value(e){this._setter(e)}_setValue(e){this._value!==e&&(this._value=e,this._triggerListener())}addListener(e){this._listeners.push(e)}_triggerListener(){for(var e=0,t=this._listeners.length;e<t;++e)this._listeners[e]()}}h.MUTABLE_ID=1;class g{constructor(e,t,r=[],n=[],i){var a=this;this.id=void 0,this.dirty=void 0,this.flush=void 0,this.inputs=void 0,this.outputs=void 0,this.handler=void 0,this.id=g.MAPPER_ID++,this.dirty=i.immediate,this.flush=i.flush,this.inputs=this.extractMutablesFromArray(r),this.outputs=this.extractMutablesFromArray(n),this.handler=t;var o=function(){"async"===a.flush?(a.dirty=!0,e.maybeRequestRender()):a.execute()};this.inputs.forEach((function(e){e.addListener(o)}))}execute(){this.dirty=!1,this.handler()}extractMutablesFromArray(e){var t=[];return function e(r){null===r||(r instanceof h?t.push(r):Array.isArray(r)?r.forEach((function(t){return e(t)})):"object"==typeof r&&Object.keys(r).forEach((function(t){e(r[t])})))}(e),t}}g.MAPPER_ID=1;class v{constructor(e=!0){this.native=void 0,this.native=e}supported(){var e;return"object"==typeof SkylineGlobal&&!(null===(e=SkylineGlobal)||void 0===e||!e.workletModule)}get nativeModule(){return SkylineGlobal.workletModule}installCoreFunctions(e){return this.nativeModule.installCoreFunctions(e)}makeShareable(e){return this.nativeModule.makeShareable(e)}makeMutable(e){return this.nativeModule.makeMutable(e)}makeRemote(e={}){return this.nativeModule.makeRemote(e)}startMapper(e,t,r=[],n=[],i){return this.nativeModule.startMapper(e,t,r,n,i)}stopMapper(e,t){return this.nativeModule.stopMapper(e,t)}stopMappers(e,t){return this.nativeModule.stopMappers(e,t)}enableMapper(e,t){this.nativeModule.enableMapper(e,t)}disableMapper(e,t){this.nativeModule.disableMapper(e,t)}registerEventHandler(e,t){this.nativeModule.registerEventHandler(e,t)}unregisterEventHandler(e){this.nativeModule.unregisterEventHandler(e)}}u()&&(globalThis._frameTimestamp=null,globalThis.workletUIModule={getCurrentTime:function(){return Date.now()},requestFrame:function(e,t){return 0},cancelFrame:function(e,t){},updateNodeStyle:function(e,t){},setGlobalConsole:function(e){},startUserGesture:function(e){},stopUserGesture:function(e){},navigatorPop:function(e,t){},updateAnimationController:function(e,t,r){},snapshotChangeMode:function(e,t,r){}});var m=new class extends v{constructor(){super(!1),this._valueSetter=void 0,this._renderRequested=!1,this._mapperRegistry=new d(this),this._frames=[],this.timeProvider=void 0,this.timeProvider={now:function(){return Date.now()}}}supported(){return!0}pushFrame(e){this._frames.push(e),this.maybeRequestRender()}getTimestamp(){return this.timeProvider.now()}requestAnimationFrame(e){var t=this;return"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout((function(){e(t.getTimestamp())}),16)}maybeRequestRender(){var e=this;this._renderRequested||(this._renderRequested=!0,this.requestAnimationFrame((function(t){e._renderRequested=!1,e._onRender(e.getTimestamp())})))}_onRender(e){this._mapperRegistry.execute();var t=[...this._frames];this._frames=[];for(var r=0,n=t.length;r<n;++r)t[r](e);this._mapperRegistry.needRunOnRender&&this._mapperRegistry.execute()}installCoreFunctions(e){this._valueSetter=e}makeShareable(e){return e}makeMutable(e){return new h(e,this._valueSetter)}makeRemote(e={}){return e}startMapper(e,t,r=[],n=[],i){var a=new g(this,t,r,n,i),o=this._mapperRegistry.startMapper(a);return this.maybeRequestRender(),o}stopMapper(e,t){this._mapperRegistry.stopMapper(t)}stopMappers(e,t){var r=this;t.forEach((function(e){return r._mapperRegistry.stopMapper(e)}))}enableMapper(e,t){}disableMapper(e,t){}registerEventHandler(e,t){}unregisterEventHandler(e){}},b=new v;function _(){return u()?m:b}f.platform,f.platform;var w="devtools"===f.platform,S=!1,C=function(){var e=function(e,t=!1){if(!e.__worklet){if(t)throw new Error("parameter type error, should use worklet function");return!1}return!0};return e._closure={},e.asString="function _f(func,throwError=false){if(!func.__worklet){if(throwError){throw new Error('parameter type error, should use worklet function');}return false;}return true;}",e.__workletHash=1947773686838,e.__location="src/worklet/util.ts (1:32)",e.__worklet=!0,e}();function k(e){return"function"!=typeof e?e:function(...t){setTimeout((function(){e(...t)}))}}var I="[-+]?\\d*\\.?\\d+",P=I+"%",A={},x=function(){var e=function(){var e=globalThis,t="_uiCachedMatchers";return void 0===e[t]&&(e[t]={}),e[t]};return e._closure={},e.asString='function _f(){const obj=globalThis;const prop="_uiCachedMatchers";if(typeof obj[prop]==="undefined"){obj[prop]={};}return obj[prop];}',e.__workletHash=0x95ce11262e3,e.__location="src/worklet/Colors.ts (11:25)",e.__worklet=!0,e}(),T=function(){var e=function(){function e(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var t=D?x():A;return void 0===t.rgb&&(t.rgb=new RegExp("rgb"+e(I,I,I)),t.rgba=new RegExp("rgba"+e(I,I,I,I)),t.hsl=new RegExp("hsl"+e(I,P,P)),t.hsla=new RegExp("hsla"+e(I,P,P,I)),t.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,t.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,t.hex6=/^#([0-9a-fA-F]{6})$/,t.hex8=/^#([0-9a-fA-F]{8})$/),t};return e._closure={uiCachedMatchers:x,jsCachedMatchers:A,NUMBER:I,PERCENTAGE:P},e.asString='function getMatchers(){const{uiCachedMatchers,jsCachedMatchers,NUMBER,PERCENTAGE}=jsThis._closure;{function call(...args){return"\\\\(\\\\s*("+args.join(")\\\\s*,\\\\s*(")+")\\\\s*\\\\)";}const cachedMatchers=_WORKLET?uiCachedMatchers():jsCachedMatchers;if(cachedMatchers.rgb===undefined){cachedMatchers.rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER));cachedMatchers.rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER));cachedMatchers.hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE));cachedMatchers.hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER));cachedMatchers.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex6=/^#([0-9a-fA-F]{6})$/;cachedMatchers.hex8=/^#([0-9a-fA-F]{8})$/;}return cachedMatchers;}}',e.__workletHash=7548007375135,e.__location="src/worklet/Colors.ts (32:0)",e.__worklet=!0,e}();T();var E={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},M=function(){var e=function(e){var t,r,n,i,a,o,s,l;function c(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function u(e,t,r){var n=r<.5?r*(1+t):r+t-r*t,i=2*r-n,a=c(i,n,e+1/3),o=c(i,n,e),s=c(i,n,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function d(e){var t=Number.parseInt(e,10);return t<0?0:t>255?255:t}function p(e){return(Number.parseFloat(e)%360+360)%360/360}function h(e){var t=Number.parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function f(e){var t=Number.parseFloat(e);return t<0?0:t>100?1:t/100}if("number"==typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!=typeof e)return null;var g,v=T();return(g=null==v||null===(t=v.hex6)||void 0===t?void 0:t.exec(e))?Number.parseInt(g[1]+"ff",16)>>>0:void 0!==E[e]?E[e]:(g=null==v||null===(r=v.rgb)||void 0===r?void 0:r.exec(e))?(d(g[1])<<24|d(g[2])<<16|d(g[3])<<8|255)>>>0:(g=null==v||null===(n=v.rgba)||void 0===n?void 0:n.exec(e))?(d(g[1])<<24|d(g[2])<<16|d(g[3])<<8|h(g[4]))>>>0:(g=null==v||null===(i=v.hex3)||void 0===i?void 0:i.exec(e))?Number.parseInt(g[1]+g[1]+g[2]+g[2]+g[3]+g[3]+"ff",16)>>>0:(g=null==v||null===(a=v.hex8)||void 0===a?void 0:a.exec(e))?Number.parseInt(g[1],16)>>>0:(g=null==v||null===(o=v.hex4)||void 0===o?void 0:o.exec(e))?Number.parseInt(g[1]+g[1]+g[2]+g[2]+g[3]+g[3]+g[4]+g[4],16)>>>0:(g=null==v||null===(s=v.hsl)||void 0===s?void 0:s.exec(e))?(255|u(p(g[1]),f(g[2]),f(g[3])))>>>0:(g=null==v||null===(l=v.hsla)||void 0===l?void 0:l.exec(e))?(u(p(g[1]),f(g[2]),f(g[3]))|h(g[4]))>>>0:null};return e._closure={getMatchers:T,names:E},e.asString='function normalizeColor(color){const{getMatchers,names}=jsThis._closure;{var _matchers$hex,_matchers$rgb,_matchers$rgba,_matchers$hex2,_matchers$hex3,_matchers$hex4,_matchers$hsl,_matchers$hsla;function hue2rgb(p,q,t){if(t<0){t+=1;}if(t>1){t-=1;}if(t<1/6){return p+(q-p)*6*t;}if(t<1/2){return q;}if(t<2/3){return p+(q-p)*(2/3-t)*6;}return p;}function hslToRgb(h,s,l){const q=l<0.5?l*(1+s):l+s-l*s;const p=2*l-q;const r=hue2rgb(p,q,h+1/3);const g=hue2rgb(p,q,h);const b=hue2rgb(p,q,h-1/3);return Math.round(r*255)<<24|Math.round(g*255)<<16|Math.round(b*255)<<8;}function parse255(str){const int=Number.parseInt(str,10);if(int<0){return 0;}if(int>255){return 255;}return int;}function parse360(str){const int=Number.parseFloat(str);return(int%360+360)%360/360;}function parse1(str){const num=Number.parseFloat(str);if(num<0){return 0;}if(num>1){return 255;}return Math.round(num*255);}function parsePercentage(str){const int=Number.parseFloat(str);if(int<0){return 0;}if(int>100){return 1;}return int/100;}if(typeof color==="number"){if(color>>>0===color&&color>=0&&color<=0xffffffff){return color;}return null;}if(typeof color!=="string"){return null;}const matchers=getMatchers();let match;if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex=matchers.hex6)===null||_matchers$hex===void 0?void 0:_matchers$hex.exec(color)){return Number.parseInt(match[1]+"ff",16)>>>0;}if(names[color]!==undefined){return names[color];}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgb=matchers.rgb)===null||_matchers$rgb===void 0?void 0:_matchers$rgb.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgba=matchers.rgba)===null||_matchers$rgba===void 0?void 0:_matchers$rgba.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|parse1(match[4]))>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex2=matchers.hex3)===null||_matchers$hex2===void 0?void 0:_matchers$hex2.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+"ff",16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex3=matchers.hex8)===null||_matchers$hex3===void 0?void 0:_matchers$hex3.exec(color)){return Number.parseInt(match[1],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex4=matchers.hex4)===null||_matchers$hex4===void 0?void 0:_matchers$hex4.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+match[4]+match[4],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsl=matchers.hsl)===null||_matchers$hsl===void 0?void 0:_matchers$hsl.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsla=matchers.hsla)===null||_matchers$hsla===void 0?void 0:_matchers$hsla.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|parse1(match[4]))>>>0;}return null;}}',e.__workletHash=8257527620776,e.__location="src/worklet/Colors.ts (220:7)",e.__worklet=!0,e}(),R=function(){var e=function(e){return(e>>24&255)/255};return e._closure={},e.asString="function _f(c){return(c>>24&255)/255;}",e.__workletHash=0xd60a2a09964,e.__location="src/worklet/Colors.ts (403:23)",e.__worklet=!0,e}(),O=function(){var e=function(e){return e>>16&255};return e._closure={},e.asString="function _f(c){return c>>16&255;}",e.__workletHash=0xba6200c4759,e.__location="src/worklet/Colors.ts (408:19)",e.__worklet=!0,e}(),L=function(){var e=function(e){return e>>8&255};return e._closure={},e.asString="function _f(c){return c>>8&255;}",e.__workletHash=3499836539046,e.__location="src/worklet/Colors.ts (413:21)",e.__worklet=!0,e}(),N=function(){var e=function(e){return 255&e};return e._closure={},e.asString="function _f(c){return c&255;}",e.__workletHash=0xd6ef76daabe,e.__location="src/worklet/Colors.ts (418:20)",e.__worklet=!0,e}(),B=!1;function $(e){B=!0;var t=e();return B=!1,t}var j=function(){var e=function(e){if(!e.isHigherOrder){var t=e.onStart,r=e.onFrame,n=Object.assign({},e);delete n.callback;var i=function(e,t){var n,i;e.current=e.strippedCurrent;var a=r(e,t);return e.strippedCurrent=e.current,e.current=(null!==(n=e.__prefix)&&void 0!==n?n:"")+e.current+(null!==(i=e.__suffix)&&void 0!==i?i:""),a},a=["H","S","V","A"],o=function(e,t){var r=u(e.current),n=[],i=1;return a.forEach((function(a,o){e[a].current=r[o],i&=e[a].onFrame(e[a],t),n.push(e[a].current)})),e.current=d(n),Boolean(i)},s=function(e,t){var r=0;return e.current.forEach((function(n,i){r&=e[i].onFrame(e[i],t)(e.current)[i]=e[i].current})),Boolean(r)};e.onStart=function(e,r,l,h){return c(r)?(function(e,t,r,i){var o,s,l,p=[];c(t)&&(s=u(e.current),o=u(t),e.toValue&&(l=u(e.toValue))),a.forEach((function(t,a){e[t]=Object.assign({},n),e[t].current=s[a],e[t].toValue=l?l[a]:void 0,e[t].onStart(e[t],o[a],r,i?i[t]:void 0),p.push(e[t].current)})),e.current=d(p)}(e,r,l,h),void(e.onFrame=o)):Array.isArray(r)?(function(e,t,r,i){t.forEach((function(t,a){e[a]=Object.assign({},n),e[a].current=t,e[a].toValue=e.toValue[a],e[a].onStart(e[a],t,r,i?i[a]:void 0)})),e.current=t}(e,r,l,h),void(e.onFrame=s)):"string"==typeof r?(function(e,r,n,i){var a,o,{prefix:s,suffix:l,strippedValue:c}=p(r);e.__prefix=s,e.__suffix=l,e.strippedCurrent=c;var u,d,{strippedValue:h}=p(e.toValue);e.current=c,e.startValue=c,e.toValue=h,i&&i!==e&&(i.current=i.strippedCurrent),t(e,c,n,i),e.current=(null!==(a=e.__prefix)&&void 0!==a?a:"")+e.current+(null!==(o=e.__suffix)&&void 0!==o?o:""),i&&i!==e&&(i.current=(null!==(u=i.__prefix)&&void 0!==u?u:"")+i.current+(null!==(d=i.__suffix)&&void 0!==d?d:""))}(e,r,l,h),void(e.onFrame=i)):void t(e,r,l,h)}}function l(e){if(null==e||"number"==typeof e)return e;var t=M(e);return null!=t?"number"!=typeof t?null:t=(t<<24|t>>>8)>>>0:void 0}function c(e){if("string"!=typeof e)return!1;var t=l(e);return null!=t}function u(e){var t=l(e),r=(t>>>24)/255,n=t<<8>>>24,i=t<<16>>>24,a=t<<24>>>24,{h:o,s:s,v:c}=function(e,t,r){1===arguments.length&&(t=e.g,r=e.b,e=e.r);var n,i=Math.max(e,t,r),a=Math.min(e,t,r),o=i-a,s=0===i?0:o/i,l=i/255;switch(i){default:case a:n=0;break;case e:n=t-r+o*(t<r?6:0),n/=6*o;break;case t:n=r-e+2*o,n/=6*o;break;case r:n=e-t+4*o,n/=6*o}return{h:n,s:s,v:l}}(n,i,a);return[o,s,c,r]}function d(e){var{r:t,g:r,b:n}=function(e,t,r){var n,i,a,o,s,l,c,u;1===arguments.length&&(t=e.s,r=e.v,e=e.h);switch(o=Math.floor(6*e),l=r*(1-t),c=r*(1-(s=6*e-o)*t),u=r*(1-(1-s)*t),o%6){case 0:n=r,i=u,a=l;break;case 1:n=c,i=r,a=l;break;case 2:n=l,i=r,a=u;break;case 3:n=l,i=c,a=r;break;case 4:n=u,i=l,a=r;break;case 5:n=r,i=l,a=c}return{r:Math.round(255*n),g:Math.round(255*i),b:Math.round(255*a)}}(e[0],e[1],e[2]);return`rgba(${t}, ${r}, ${n}, ${e[3]})`}function p(e){if("string"==typeof e){var t,r=e.match(/([A-Za-z]*)(-?\d*\.?\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!r)throw Error("Couldn't parse animation value. Check if there isn't any typo.");var n=r[1],i=r[4],a=r[2]+(null!==(t=r[3])&&void 0!==t?t:"");return{prefix:n,suffix:i,strippedValue:parseFloat(a)}}return{strippedValue:e}}};return e._closure={normalizeColor:M},e.asString="function decorateAnimation(animation){const{normalizeColor}=jsThis._closure;{if(animation.isHigherOrder){return;}function processColorInitially(color){if(color===null||color===undefined||typeof color===\"number\"){return color;}let normalizedColor=normalizeColor(color);if(normalizedColor===null||normalizedColor===undefined){return undefined;}if(typeof normalizedColor!==\"number\"){return null;}normalizedColor=(normalizedColor<<24|normalizedColor>>>8)>>>0;return normalizedColor;}function isColor(value){if(typeof value!==\"string\"){return false;}const color=processColorInitially(value);return color!==undefined&&color!==null;}function convertToHSVA(color){const processedColor=processColorInitially(color);const a=(processedColor>>>24)/255;const r=processedColor<<8>>>24;const g=processedColor<<16>>>24;const b=processedColor<<24>>>24;const{h:h,s:s,v:v}=RGBtoHSV(r,g,b);return[h,s,v,a];}function toRGBA(HSVA){const{r:r,g:g,b:b}=HSVtoRGB(HSVA[0],HSVA[1],HSVA[2]);return\"rgba(\"+r+\", \"+g+\", \"+b+\", \"+HSVA[3]+\")\";}function recognizePrefixSuffix(value){if(typeof value==='string'){var _match$;const match=value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!match){throw Error(\"Couldn't parse animation value. Check if there isn't any typo.\");}const prefix=match[1];const suffix=match[4];const number=match[2]+((_match$=match[3])!==null&&_match$!==void 0?_match$:'');return{prefix:prefix,suffix:suffix,strippedValue:parseFloat(number)};}else{return{strippedValue:value};}}function RGBtoHSV(r,g,b){if(arguments.length===1){g=r.g;b=r.b;r=r.r;}const max=Math.max(r,g,b);const min=Math.min(r,g,b);const d=max-min;const s=max===0?0:d/max;const v=max/255;let h;switch(max){default:case min:h=0;break;case r:h=g-b+d*(g<b?6:0);h/=6*d;break;case g:h=b-r+d*2;h/=6*d;break;case b:h=r-g+d*4;h/=6*d;break;}return{h:h,s:s,v:v};}function HSVtoRGB(h,s,v){var r,g,b,i,f,p,q,t;if(arguments.length===1){s=h.s;v=h.v;h=h.h;}i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q;break;}return{r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)};}const baseOnStart=animation.onStart;const baseOnFrame=animation.onFrame;const animationCopy=Object.assign({},animation);delete animationCopy.callback;const prefNumberSuffOnStart=function(animation,value,timestamp,previousAnimation){var _animation$__prefix,_animation$__suffix;const{prefix:prefix,suffix:suffix,strippedValue:strippedValue}=recognizePrefixSuffix(value);animation.__prefix=prefix;animation.__suffix=suffix;animation.strippedCurrent=strippedValue;const{strippedValue:strippedToValue}=recognizePrefixSuffix(animation.toValue);animation.current=strippedValue;animation.startValue=strippedValue;animation.toValue=strippedToValue;if(previousAnimation&&previousAnimation!==animation){previousAnimation.current=previousAnimation.strippedCurrent;}baseOnStart(animation,strippedValue,timestamp,previousAnimation);animation.current=((_animation$__prefix=animation.__prefix)!==null&&_animation$__prefix!==void 0?_animation$__prefix:'')+animation.current+((_animation$__suffix=animation.__suffix)!==null&&_animation$__suffix!==void 0?_animation$__suffix:'');if(previousAnimation&&previousAnimation!==animation){var _previousAnimation$__,_previousAnimation$__2;previousAnimation.current=((_previousAnimation$__=previousAnimation.__prefix)!==null&&_previousAnimation$__!==void 0?_previousAnimation$__:'')+previousAnimation.current+((_previousAnimation$__2=previousAnimation.__suffix)!==null&&_previousAnimation$__2!==void 0?_previousAnimation$__2:'');}};const prefNumberSuffOnFrame=function(animation,timestamp){var _animation$__prefix2,_animation$__suffix2;animation.current=animation.strippedCurrent;const res=baseOnFrame(animation,timestamp);animation.strippedCurrent=animation.current;animation.current=((_animation$__prefix2=animation.__prefix)!==null&&_animation$__prefix2!==void 0?_animation$__prefix2:'')+animation.current+((_animation$__suffix2=animation.__suffix)!==null&&_animation$__suffix2!==void 0?_animation$__suffix2:'');return res;};const tab=['H','S','V','A'];const colorOnStart=function(animation,value,timestamp,previousAnimation){let HSVAValue;let HSVACurrent;let HSVAToValue;const res=[];if(isColor(value)){HSVACurrent=convertToHSVA(animation.current);HSVAValue=convertToHSVA(value);if(animation.toValue){HSVAToValue=convertToHSVA(animation.toValue);}}tab.forEach(function(i,index){animation[i]=Object.assign({},animationCopy);animation[i].current=HSVACurrent[index];animation[i].toValue=HSVAToValue?HSVAToValue[index]:undefined;animation[i].onStart(animation[i],HSVAValue[index],timestamp,previousAnimation?previousAnimation[i]:undefined);res.push(animation[i].current);});animation.current=toRGBA(res);};const colorOnFrame=function(animation,timestamp){const HSVACurrent=convertToHSVA(animation.current);const res=[];let finished=1;tab.forEach(function(i,index){animation[i].current=HSVACurrent[index];finished&=animation[i].onFrame(animation[i],timestamp);res.push(animation[i].current);});animation.current=toRGBA(res);return Boolean(finished);};const arrayOnStart=function(animation,value,timestamp,previousAnimation){value.forEach(function(v,i){animation[i]=Object.assign({},animationCopy);animation[i].current=v;animation[i].toValue=animation.toValue[i];animation[i].onStart(animation[i],v,timestamp,previousAnimation?previousAnimation[i]:undefined);});animation.current=value;};const arrayOnFrame=function(animation,timestamp){let finished=0;animation.current.forEach(function(v,i){finished&=animation[i].onFrame(animation[i],timestamp)(animation.current)[i]=animation[i].current;});return Boolean(finished);};animation.onStart=function(animation,value,timestamp,previousAnimation){if(isColor(value)){colorOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=colorOnFrame;return;}else if(Array.isArray(value)){arrayOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=arrayOnFrame;return;}else if(typeof value==='string'){prefNumberSuffOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=prefNumberSuffOnFrame;return;}baseOnStart(animation,value,timestamp,previousAnimation);};}}",e.__workletHash=9328732531647,e.__location="src/worklet/animation/util.ts (42:0)",e.__worklet=!0,e}(),F=function(){var e=function(e,t){if(B)return e;var r=function(){var e=function(){var e=t();return j(e),e};return e._closure={factory:t,decorateAnimation:j},e.asString="function _f(){const{factory,decorateAnimation}=jsThis._closure;{const animation=factory();decorateAnimation(animation);return animation;}}",e.__workletHash=2441595458132,e.__location="src/worklet/animation/util.ts (391:17)",e.__worklet=!0,e}();return D?r():r};return e._closure={IN_STYLE_UPDATER:B,decorateAnimation:j},e.asString="function defineAnimation(starting,factory){const{IN_STYLE_UPDATER,decorateAnimation}=jsThis._closure;{if(IN_STYLE_UPDATER){return starting;}const create=function(){'worklet';const animation=factory();decorateAnimation(animation);return animation;};if(_WORKLET){return create();}return create;}}",e.__workletHash=0xde62656a344,e.__location="src/worklet/animation/util.ts (384:7)",e.__worklet=!0,e}(),W=function(){var e=function(e){e.value=e.value};return e._closure={},e.asString="function cancelAnimation(sharedValue){sharedValue.value=sharedValue.value;}",e.__workletHash=0xdb1b4231136,e.__location="src/worklet/animation/util.ts (405:7)",e.__worklet=!0,e}(),U=(function(){var e=function(e,t){return F(e,function(){var r=function(){return D||"function"!=typeof t||(t=t()),t.current=e,t};return r._closure={animation:t,startValue:e},r.asString="function _f(){const{animation,startValue}=jsThis._closure;{if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;}}",r.__workletHash=5374403234008,r.__location="src/worklet/animation/util.ts (417:37)",r.__worklet=!0,r}())};e._closure={defineAnimation:F},e.asString="function withStartValue(startValue,animation){const{defineAnimation}=jsThis._closure;{return defineAnimation(startValue,function(){'worklet';if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;});}}",e.__workletHash=5100017907325,e.__location="src/worklet/animation/util.ts (412:7)",e.__worklet=!0}(),function(){var e=function(e,t,r,n){var i=.1,a=function(){var e=function(e){return e};return e._closure={},e.asString="function LinearEasing(x){return x;}",e.__workletHash=3962143445177,e.__location="src/worklet/Bezier.ts (25:2)",e.__worklet=!0,e}();if(!(e>=0&&e<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===n)return a;var o,s,l,c=new Array(11);for(var u=0;u<11;++u)c[u]=(o=u*i,((function(e,t){return 1-3*t+3*e}(s=e,l=r)*o+function(e,t){return 3*t-6*e}(s,l))*o+function(e){return 3*e}(s))*o);return function(){var a=function(a){if(e===t&&r===n)return a;if(0===a)return 0;if(1===a)return 1;function o(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function l(e){return 3*e}function u(e,t,r){return((o(t,r)*e+s(t,r))*e+l(t))*e}function d(e,t,r){return 3*o(t,r)*e*e+2*s(t,r)*e+l(t)}return u(function(t){for(var n=0,a=1;10!==a&&c[a]<=t;++a)n+=i;--a;var o=n+(t-c[a])/(c[a+1]-c[a])*i,s=d(o,e,r);return s>=.001?function(e,t,r,n){for(var i=0;i<4;++i){var a=d(t,r,n);if(0===a)return t;t-=(u(t,r,n)-e)/a}return t}(t,o,e,r):0===s?o:function(e,t,r,n,i){var a,o,s=0;do{(a=u(o=t+(r-t)/2,n,i)-e)>0?r=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,n,n+i,e,r)}(a),t,n)};return a._closure={mX1:e,mY1:t,mX2:r,mY2:n,SUBDIVISION_PRECISION:1e-7,SUBDIVISION_MAX_ITERATIONS:10,NEWTON_ITERATIONS:4,kSplineTableSize:11,sampleValues:c,kSampleStepSize:i,NEWTON_MIN_SLOPE:.001},a.asString="function BezierEasing(x){const{mX1,mY1,mX2,mY2,SUBDIVISION_PRECISION,SUBDIVISION_MAX_ITERATIONS,NEWTON_ITERATIONS,kSplineTableSize,sampleValues,kSampleStepSize,NEWTON_MIN_SLOPE}=jsThis._closure;{if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}function getSlope(aT,aA1,aA2){return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}function getTForX(aX){let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}return calcBezier(getTForX(x),mY1,mY2);}}",a.__workletHash=0xb80399b2bfd,a.__location="src/worklet/Bezier.ts (67:9)",a.__worklet=!0,a}()};return e._closure={},e.asString="function Bezier(mX1,mY1,mX2,mY2){const NEWTON_ITERATIONS=4;const NEWTON_MIN_SLOPE=0.001;const SUBDIVISION_PRECISION=0.0000001;const SUBDIVISION_MAX_ITERATIONS=10;const kSplineTableSize=11;const kSampleStepSize=1.0/(kSplineTableSize-1.0);function LinearEasing(x){'worklet';return x;}if(!(mX1>=0&&mX1<=1&&mX2>=0&&mX2<=1)){throw new Error('bezier x values must be in [0, 1] range');}if(mX1===mY1&&mX2===mY2){return LinearEasing;}const sampleValues=new Array(kSplineTableSize);function calcBezier(aT,aA1,aA2){function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}for(let i=0;i<kSplineTableSize;++i){sampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2);}return function BezierEasing(x){'worklet';if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}function getSlope(aT,aA1,aA2){return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}function getTForX(aX){let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}return calcBezier(getTForX(x),mY1,mY2);};}",e.__workletHash=0xe9f398b7bf9,e.__location="src/worklet/Bezier.ts (9:7)",e.__worklet=!0,e}()),V=function(){var e=function(e){return e};return e._closure={},e.asString="function linear(t){return t;}",e.__workletHash=7988822508142,e.__location="src/worklet/Easing.ts (65:0)",e.__worklet=!0,e}(),q=function(){var e=function(e){return U(.42,0,1,1)(e)};return e._closure={Bezier:U},e.asString="function ease(t){const{Bezier}=jsThis._closure;{return Bezier(0.42,0,1,1)(t);}}",e.__workletHash=0xbdc195724f9,e.__location="src/worklet/Easing.ts (76:0)",e.__worklet=!0,e}(),z=function(){var e=function(e){return e*e};return e._closure={},e.asString="function quad(t){return t*t;}",e.__workletHash=8628631460172,e.__location="src/worklet/Easing.ts (87:0)",e.__worklet=!0,e}(),G=function(){var e=function(e){return e*e*e};return e._closure={},e.asString="function cubic(t){return t*t*t;}",e.__workletHash=9374441307661,e.__location="src/worklet/Easing.ts (98:0)",e.__worklet=!0,e}(),H=function(){var e=function(e){return function(){var t=function(t){return Math.pow(t,e)};return t._closure={n:e},t.asString="function _f(t){const{n}=jsThis._closure;{return Math.pow(t,n);}}",t.__workletHash=1121339919789,t.__location="src/worklet/Easing.ts (111:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function poly(n){return function(t){'worklet';return Math.pow(t,n);};}",e.__workletHash=0xf0e21d4d631,e.__location="src/worklet/Easing.ts (109:0)",e.__worklet=!0,e}(),K=function(){var e=function(e){return 1-Math.cos(e*Math.PI/2)};return e._closure={},e.asString="function sin(t){return 1-Math.cos(t*Math.PI/2);}",e.__workletHash=8621899987563,e.__location="src/worklet/Easing.ts (122:0)",e.__worklet=!0,e}(),J=function(){var e=function(e){return 1-Math.sqrt(1-e*e)};return e._closure={},e.asString="function circle(t){return 1-Math.sqrt(1-t*t);}",e.__workletHash=0xe74766c81e4,e.__location="src/worklet/Easing.ts (132:0)",e.__worklet=!0,e}(),X=function(){var e=function(e){return Math.pow(2,10*(e-1))};return e._closure={},e.asString="function exp(t){return Math.pow(2,10*(t-1));}",e.__workletHash=0xe77bf377b41,e.__location="src/worklet/Easing.ts (142:0)",e.__worklet=!0,e}(),Y=function(){var e=function(e=1){var t=e*Math.PI;return function(){var e=function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)};return e._closure={p:t},e.asString="function _f(t){const{p}=jsThis._closure;{return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);}}",e.__workletHash=8897284077766,e.__location="src/worklet/Easing.ts (160:9)",e.__worklet=!0,e}()};return e._closure={},e.asString="function elastic(bounciness=1){const p=bounciness*Math.PI;return function(t){'worklet';return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);};}",e.__workletHash=0xe75c59c1497,e.__location="src/worklet/Easing.ts (157:0)",e.__worklet=!0,e}(),Q=function(){var e=function(e=1.70158){return function(t){return t*t*((e+1)*t-e)}};return e._closure={},e.asString="function back(s=1.70158){return function(t){return t*t*((s+1)*t-s);};}",e.__workletHash=0xffa86df3d1b,e.__location="src/worklet/Easing.ts (174:0)",e.__worklet=!0,e}(),Z=function(){var e=function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var r=e-2.25/2.75;return 7.5625*r*r+.9375}var n=e-2.625/2.75;return 7.5625*n*n+.984375};return e._closure={},e.asString="function bounce(t){if(t<1/2.75){return 7.5625*t*t;}if(t<2/2.75){const t2=t-1.5/2.75;return 7.5625*t2*t2+0.75;}if(t<2.5/2.75){const t2=t-2.25/2.75;return 7.5625*t2*t2+0.9375;}const t2=t-2.625/2.75;return 7.5625*t2*t2+0.984375;}",e.__workletHash=5721637210615,e.__location="src/worklet/Easing.ts (184:0)",e.__worklet=!0,e}(),ee=function(){var e=function(e,t,r,n){console.warn("For developer:Easing.bezier is deprecated, use Easing.cubicBezier instead");var i=function(){var i=function(){return U(e,t,r,n)};return i._closure={Bezier:U,x1:e,y1:t,x2:r,y2:n},i.asString="function _f(){const{Bezier,x1,y1,x2,y2}=jsThis._closure;{return Bezier(x1,y1,x2,y2);}}",i.__workletHash=4879686787739,i.__location="src/worklet/Easing.ts (219:18)",i.__worklet=!0,i}();return{factory:i}};return e._closure={Bezier:U},e.asString="function bezier(x1,y1,x2,y2){const{Bezier}=jsThis._closure;{console.warn('For developer:Easing.bezier is deprecated, use Easing.cubicBezier instead');const factory=function(){'worklet';return Bezier(x1,y1,x2,y2);};return{factory:factory};}}",e.__workletHash=0xd05b5821e71,e.__location="src/worklet/Easing.ts (211:0)",e.__worklet=!0,e}(),te=function(){var e=function(e,t,r,n){return U(e,t,r,n)};return e._closure={Bezier:U},e.asString="function cubicBezier(x1,y1,x2,y2){const{Bezier}=jsThis._closure;{return Bezier(x1,y1,x2,y2);}}",e.__workletHash=5163284966067,e.__location="src/worklet/Easing.ts (229:0)",e.__worklet=!0,e}(),re=function(){var e=function(e){return e};return e._closure={},e.asString="function in_(easing){return easing;}",e.__workletHash=1837493474379,e.__location="src/worklet/Easing.ts (242:0)",e.__worklet=!0,e}(),ne=function(){var e=function(e){return function(){var t=function(t){return 1-e(1-t)};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{return 1-easing(1-t);}}",t.__workletHash=5726884014519,t.__location="src/worklet/Easing.ts (252:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function out(easing){return function(t){'worklet';return 1-easing(1-t);};}",e.__workletHash=7718549646703,e.__location="src/worklet/Easing.ts (250:0)",e.__worklet=!0,e}(),ie=function(){var e=function(e){return function(){var t=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;}}",t.__workletHash=2325007799982,t.__location="src/worklet/Easing.ts (265:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function inOut(easing){return function(t){'worklet';if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;};}",e.__workletHash=7048715165105,e.__location="src/worklet/Easing.ts (263:0)",e.__worklet=!0,e}(),ae={linear:V,ease:q,quad:z,cubic:G,poly:H,sin:K,circle:J,exp:X,elastic:Y,back:Q,bounce:Z,bezier:ee,cubicBezier:te,in:re,out:ne,inOut:ie},oe=function(){var e=function(e,t,r){return"function"==typeof r&&(C(r)||console.warn("The callback parameter of timing should be a worklet function")),F(e,function(){var n=function(){var n={duration:300,easing:ae.inOut(ae.quad)};return t&&Object.keys(t).forEach((function(e){return n[e]=t[e]})),{type:"timing",onFrame:function(e,t){var{toValue:r,startTime:i,startValue:a}=e,o=t-i;if(o>=n.duration)return e.startTime=0,e.current=r,!0;var s=e.easing(o/n.duration);return e.current=a+(r-a)*s,!1},onStart:function(t,r,i,a){a&&"timing"===a.type&&a.toValue===e&&a.startTime?(t.startTime=a.startTime,t.startValue=a.startValue):(t.startTime=i,t.startValue=r),t.current=r,"object"==typeof n.easing?t.easing=n.easing.factory():t.easing=n.easing},progress:0,toValue:e,startValue:0,startTime:0,easing:function(){return 0},current:e,callback:r}};return n._closure={Easing:{inOut:ae.inOut,quad:ae.quad},userConfig:t,toValue:e,callback:r},n.asString="function _f(){const{Easing,userConfig,toValue,callback}=jsThis._closure;{const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};}}",n.__workletHash=8710674338333,n.__location="src/worklet/animation/timing.ts (39:51)",n.__worklet=!0,n}())};return e._closure={checkWorkletFunc:C,defineAnimation:F,Easing:{inOut:ae.inOut,quad:ae.quad}},e.asString="function timing(toValue,userConfig,callback){const{checkWorkletFunc,defineAnimation,Easing}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of timing should be a worklet function');}}return defineAnimation(toValue,function(){'worklet';const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};});}}",e.__workletHash=0xc4dbc79e660,e.__location="src/worklet/animation/timing.ts (26:7)",e.__worklet=!0,e}(),se=function(){var e=function(e,t,r){return"function"==typeof r&&(C(r)||console.warn("The callback parameter of spring should be a worklet function")),F(e,function(){var n=function(){var n={damping:10,mass:1,stiffness:100,overshootClamping:!1,restDisplacementThreshold:.01,restSpeedThreshold:2,velocity:0};return t&&Object.keys(t).forEach((function(e){return n[e]=t[e]})),{onFrame:function(e,t){var{toValue:r,lastTimestamp:i,current:a,velocity:o}=e,s=Math.min(t-i,64);e.lastTimestamp=t;var l=n.damping,c=n.mass,u=n.stiffness,d=-o,p=r-a,h=l/(2*Math.sqrt(u*c)),f=Math.sqrt(u/c),g=f*Math.sqrt(1-h**2),v=s/1e3,m=Math.sin(g*v),y=Math.cos(g*v),b=Math.exp(-h*f*v),_=b*(m*((d+h*f*p)/g)+p*y),w=r-_,S=h*f*_-b*(y*(d+h*f*p)-g*p*m),C=Math.exp(-f*v),k=r-C*(p+(d+f*p)*v),I=C*(d*(v*f-1)+v*p*f*f),P=Math.abs(o)<n.restSpeedThreshold,A=0===n.stiffness||Math.abs(r-a)<n.restDisplacementThreshold;return h<1?(e.current=w,e.velocity=S):(e.current=k,e.velocity=I),!!(n.overshootClamping&&0!==n.stiffness&&(a<r?e.current>r:e.current<r)||P&&A)&&(0!==n.stiffness&&(e.velocity=0,e.current=r),e.lastTimestamp=0,!0)},onStart:function(e,t,r,n){e.current=t,n?(e.velocity=n.velocity||e.velocity||0,e.lastTimestamp=n.lastTimestamp||r):e.lastTimestamp=r},toValue:e,velocity:n.velocity||0,current:e,callback:r,lastTimestamp:0}};return n._closure={userConfig:t,toValue:e,callback:r},n.asString="function _f(){const{userConfig,toValue,callback}=jsThis._closure;{const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};}}",n.__workletHash=5222183752767,n.__location="src/worklet/animation/spring.ts (46:51)",n.__worklet=!0,n}())};return e._closure={checkWorkletFunc:C,defineAnimation:F},e.asString="function spring(toValue,userConfig,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of spring should be a worklet function');}}return defineAnimation(toValue,function(){'worklet';const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};});}}",e.__workletHash=0xe1ad10b71a2,e.__location="src/worklet/animation/spring.ts (33:7)",e.__worklet=!0,e}(),le=function(){var e=function(e,t){return"function"==typeof t&&(C(t)||console.warn("The callback parameter of decay should be a worklet function")),F(0,function(){var r=function(){var r,n={deceleration:.998,velocityFactor:1,velocity:0};e&&Object.keys(e).forEach((function(t){return n[t]=e[t]}));return{onFrame:function(e,t){var{lastTimestamp:r,startTimestamp:i,initialVelocity:a,current:o,velocity:s}=e,l=Math.min(t-r,64),c=s*Math.exp(-(1-n.deceleration)*(t-i)*.1);if(e.current=o+c*n.velocityFactor*l/1e3,e.velocity=c,e.lastTimestamp=t,n.clamp){if(a<0&&e.current<=n.clamp[0])return e.current=n.clamp[0],!0;if(a>0&&e.current>=n.clamp[1])return e.current=n.clamp[1],!0}return Math.abs(c)<1},onStart:function(e,t,r){e.current=t,e.lastTimestamp=r,e.startTimestamp=r,e.initialVelocity=n.velocity,function(){if(n.clamp){if(!Array.isArray(n.clamp))throw Error("config.clamp must be an array but is "+typeof n.clamp);if(2!==n.clamp.length)throw Error(`clamp array must contain 2 items but is given ${n.clamp.length}`)}if(n.velocityFactor<=0)throw Error(`config.velocityFactor must be greather then 0 but is ${n.velocityFactor}`)}()},callback:t,velocity:null!==(r=n.velocity)&&void 0!==r?r:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0}};return r._closure={userConfig:e,callback:t},r.asString='function _f(){const{userConfig,callback}=jsThis._closure;{var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error("config.clamp must be an array but is "+typeof config.clamp);}if(config.clamp.length!==2){throw Error("clamp array must contain 2 items but is given "+config.clamp.length);}}if(config.velocityFactor<=0){throw Error("config.velocityFactor must be greather then 0 but is "+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};}}',r.__workletHash=6565623785597,r.__location="src/worklet/animation/decay.ts (51:44)",r.__worklet=!0,r}())};return e._closure={checkWorkletFunc:C,defineAnimation:F},e.asString="function decay(userConfig,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of decay should be a worklet function');}}return defineAnimation(0,function(){'worklet';var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\"config.clamp must be an array but is \"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\"clamp array must contain 2 items but is given \"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\"config.velocityFactor must be greather then 0 but is \"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};});}}",e.__workletHash=2625431540736,e.__location="src/worklet/animation/decay.ts (39:7)",e.__worklet=!0,e}(),ce=function(){var e=function(e,t){return F(t,function(){var r=function(){var r="function"==typeof t?t():t;return{isHigherOrder:!0,onFrame:function(t,n){var{startTime:i,started:a,previousAnimation:o}=t;if(n-i>e){a||(r.onStart(r,t.current,n,o),t.previousAnimation=null,t.started=!0);var s=r.onFrame(r,n);return t.current=r.current,s}if(o){var l=o.finished||o.onFrame(o,n);t.current=o.current,l&&(t.previousAnimation=null)}return!1},onStart:function(e,t,r,n){e.startTime=r,e.started=!1,e.current=t,e.previousAnimation=n===e?n.previousAnimation:n},current:r.current,callback:function(e){r.callback&&r.callback(e)},previousAnimation:null,startTime:0,started:!1}};return r._closure={_nextAnimation:t,delayMs:e},r.asString="function _f(){const{_nextAnimation,delayMs}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};}}",r.__workletHash=7471806601587,r.__location="src/worklet/animation/delay.ts (10:57)",r.__worklet=!0,r}())};return e._closure={defineAnimation:F},e.asString="function delay(delayMs,_nextAnimation){const{defineAnimation}=jsThis._closure;{return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};});}}",e.__workletHash=1119387222703,e.__location="src/worklet/animation/delay.ts (5:7)",e.__worklet=!0,e}(),ue=function(){var e=function(e,t=2,r=!1,n){return"function"==typeof n&&(C(n)||console.warn("The callback parameter of repeat should be a worklet function")),F(e,function(){var i=function(){var i="function"==typeof e?e():e;return{isHigherOrder:!0,onFrame:function(e,n){var a=i.onFrame(i,n);if(e.current=i.current,a){if(e.reps+=1,i.callback&&i.callback(!0,e.current),t>0&&e.reps>=t)return!0;var o=r?i.current:e.startValue;return r&&(i.toValue=e.startValue,e.startValue=o),i.onStart(i,o,n,i.previousAnimation),!1}return!1},onStart:function(e,t,r,n){e.startValue=t,e.reps=0,i.onStart(i,t,r,n)},reps:0,current:i.current,callback:function(e){n&&n(e),!e&&i.callback&&i.callback(!1)},startValue:0}};return i._closure={_nextAnimation:e,numberOfReps:t,reverse:r,callback:n},i.asString="function _f(){const{_nextAnimation,numberOfReps,reverse,callback}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};}}",i.__workletHash=0xddd76efe2b9,i.__location="src/worklet/animation/repeat.ts (31:58)",i.__worklet=!0,i}())};return e._closure={checkWorkletFunc:C,defineAnimation:F},e.asString="function repeat(_nextAnimation,numberOfReps=2,reverse=false,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of repeat should be a worklet function');}}return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};});}}",e.__workletHash=9654710012277,e.__location="src/worklet/animation/repeat.ts (17:7)",e.__worklet=!0,e}(),de=function(){var e=function(...e){return F(e[0],function(){var t=function(){var t=e.map((function(e){var t="function"==typeof e?e():e;return t.finished=!1,t})),r=t[0];return{isHigherOrder:!0,onFrame:function(e,r){var n=t[e.animationIndex],i=n.onFrame(n,r);if(e.current=n.current,i){if(n.callback&&n.callback(!0),n.finished=!0,e.animationIndex+=1,e.animationIndex<t.length){var a=t[e.animationIndex];return a.onStart(a,n.current,r,n),!1}return!0}return!1},onStart:function(e,n,i,a){if(1===t.length)throw Error("sequence() animation require more than one animation as argument");e.animationIndex=0,void 0===a&&(a=t[t.length-1]),r.onStart(r,n,i,a)},animationIndex:0,current:r.current,callback:function(e){e||t.forEach((function(t){"function"!=typeof t.callback||t.finished||t.callback(e)}))}}};return t._closure={_animations:e},t.asString="function _f(){const{_animations}=jsThis._closure;{const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};}}",t.__workletHash=7105701959684,t.__location="src/worklet/animation/sequence.ts (7:81)",t.__worklet=!0,t}())};return e._closure={defineAnimation:F},e.asString="function sequence(..._animations){const{defineAnimation}=jsThis._closure;{return defineAnimation(_animations[0],function(){'worklet';const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};});}}",e.__workletHash=9934960399614,e.__location="src/worklet/animation/sequence.ts (5:7)",e.__worklet=!0,e}();function pe(e){var t;C(e)||console.warn("The parameter to derived should be a worklet function");var r=Object.values(null!==(t=e._closure)&&void 0!==t?t:{}),n=_t($(e));if(u()){var i=function(){var t=function(){n.value=e()};return t._closure={sharedValue:n,processor:e},t.asString="function _f(){const{sharedValue,processor}=jsThis._closure;{sharedValue.value=processor();}}",t.__workletHash=0xb31b2ea47c9,t.__location="src/worklet/hook/derivedValue.ts (18:16)",t.__worklet=!0,t}();St(0,i,r,[n],{immediate:!1,flush:"async"})}else{var a;null===(a=n.installGetter)||void 0===a||a.call(n,e,r)}return n}var he={setNavigationBarColor:function(e){console.error("ExternalMethods.setNavigationBarColor have not been set yet")},getMenuButtonBoundingClientRect:function(){return console.error("ExternalMethods.getMenuButtonBoundingClientRect have not been set yet"),{width:0,height:0,top:0,right:0,bottom:0,left:0}}},fe=function(e){Object.assign(he,e)},ge=function(e){return e[e.dismissed=0]="dismissed",e[e.forward=1]="forward",e[e.reverse=2]="reverse",e[e.completed=3]="completed",e}({}),ve="rgba(0, 0, 0, 0.26)",me="rgba(0, 0, 0, 0.87)",ye={fastLinearToSlowEaseIn:ae.cubicBezier(.18,1,.04,1),linearToEaseOut:ae.cubicBezier(.35,.91,.33,.97),easeInToLinear:ae.cubicBezier(.67,.03,.65,.09),fastOutSlowIn:ae.cubicBezier(.4,0,.2,1),decelerateEasing:ae.cubicBezier(0,0,.2,1),easeOutCubic:ae.cubicBezier(.215,.61,.355,1),easeIn:ae.in(ae.ease),easeOut:ae.out(ae.ease),ease:ae.ease};(function(){var e=function(e,t,r){return e<t?t:e>r?r:e};e._closure={},e.asString="function _f(v,lower,upper){if(v<lower)return lower;if(v>upper)return upper;return v;}",e.__workletHash=0xf5d2c054649,e.__location="src/worklet/custom-route/util.ts (41:21)",e.__worklet=!0})(),function(){var e=function(e,t,r){return e+(t-e)*r};e._closure={},e.asString="function _f(begin,end,t){return begin+(end-begin)*t;}",e.__workletHash=9953309036832,e.__location="src/worklet/custom-route/util.ts (48:20)",e.__worklet=!0}();function be({animation:e,animationStatus:t,curve:r,reverseCurve:n}){return pe(function(){var i=function(){var i=!n||t.value!==ge.reverse?r:n,a=e.value;return i?0===a||1===a?a:i(a):a};return i._closure={reverseCurve:n,animationStatus:t,AnimationStatus:ge,curve:r,animation:e},i.asString="function _f(){const{reverseCurve,animationStatus,AnimationStatus,curve,animation}=jsThis._closure;{const useForwardCurve=!reverseCurve||animationStatus.value!==AnimationStatus.reverse;const activeCurve=useForwardCurve?curve:reverseCurve;const t=animation.value;if(!activeCurve)return t;if(t===0||t===1)return t;return activeCurve(t);}}",i.__workletHash=1401058593171,i.__location="src/worklet/custom-route/util.ts (61:17)",i.__worklet=!0,i}())}function _e(e){var{secondaryAnimation:t,secondaryAnimationStatus:r,userGestureInProgress:n}=e,i=be({animation:t,animationStatus:r,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),a=function(){var e=function(){var e=t.value;return n.value||(e=i.value),{transform:`translateX(${-1/3*e*100}%)`}};return e._closure={secondaryAnimation:t,userGestureInProgress:n,_curveSecondaryAnimation:i},e.asString='function _f(){const{secondaryAnimation,userGestureInProgress,_curveSecondaryAnimation}=jsThis._closure;{let t=secondaryAnimation.value;if(!userGestureInProgress.value){t=_curveSecondaryAnimation.value;}return{transform:"translateX("+-1/3*t*100+"%)"};}}',e.__workletHash=0xfb0527aefa8,e.__location="src/worklet/custom-route/util.ts (82:35)",e.__worklet=!0,e}();return a}var we=function(e){he.setNavigationBarColor(e)},Se=null,Ce=function(){return Se||(Se=he.getMenuButtonBoundingClientRect())},ke=r(27);function Ie(e){return _t(e)}var Pe=function(){var e=function(e){for(var t=[e];t.length>0;){var r=t.pop();if(Array.isArray(r))for(var n of r)t.push(n);else{if(void 0!==(null==r?void 0:r.onFrame))return!0;if("object"==typeof r)for(var i of Object.values(r))t.push(i)}}return!1};return e._closure={},e.asString="function isAnimated(prop){const propsToCheck=[prop];while(propsToCheck.length>0){const currentProp=propsToCheck.pop();if(Array.isArray(currentProp)){for(const item of currentProp){propsToCheck.push(item);}}else if((currentProp===null||currentProp===void 0?void 0:currentProp.onFrame)!==undefined){return true;}else if(typeof currentProp==='object'){for(const item of Object.values(currentProp)){propsToCheck.push(item);}}}return false;}",e.__workletHash=3559579197933,e.__location="src/worklet/hook/utils.ts (14:7)",e.__worklet=!0,e}(),Ae=(function(){var e=function(e,t){var r={};for(var n in e)void 0===t[n]&&(r[n]=null);for(var i in t){var a=t[i],o=e[i];Pe(a)||o!==a&&(r[i]=a)}return r};e._closure={isAnimated:Pe},e.asString="function styleDiff(oldStyle,newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in oldStyle){if(newStyle[key]===undefined){diff[key]=null;}}for(const key in newStyle){const value=newStyle[key];const oldValue=oldStyle[key];if(isAnimated(value)){continue;}if(oldValue!==value){diff[key]=value;}}return diff;}}",e.__workletHash=0xfe47055e6f3,e.__location="src/worklet/hook/utils.ts (37:7)",e.__worklet=!0}(),function(){var e=function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(e[r[i]]!==t[r[i]])return!1;return!0};e._closure={},e.asString="function shallowEqual(a,b){const aKeys=Object.keys(a);const bKeys=Object.keys(b);if(aKeys.length!==bKeys.length){return false;}for(let i=0;i<aKeys.length;i++){if(a[aKeys[i]]!==b[aKeys[i]]){return false;}}return true;}",e.__workletHash=0xd7d951db86a,e.__location="src/worklet/hook/utils.ts (60:7)",e.__worklet=!0}(),function(){var e=function(e){var t={};for(var r in e){var n=e[r];Pe(n)||(t[r]=n)}return t};e._closure={isAnimated:Pe},e.asString="function getStyleWithoutAnimations(newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in newStyle){const value=newStyle[key];if(isAnimated(value)){continue;}diff[key]=value;}return diff;}}",e.__workletHash=2190466090064,e.__location="src/worklet/hook/utils.ts (75:7)",e.__worklet=!0}(),function(){var e=function(e){if("object"!=typeof e)throw new Error(`createAnimatedStyle has to return an object, found ${typeof e} instead`)};e._closure={},e.asString='function _f(styles){if(typeof styles!==\'object\'){throw new Error("createAnimatedStyle has to return an object, found "+typeof styles+" instead");}}',e.__workletHash=9807328913452,e.__location="src/worklet/hook/utils.ts (89:38)",e.__worklet=!0}(),function(){var e=function(e){var t="";return Object.keys(e).forEach((function(r){var n=r.replace(/([A-Z])/g,"-$1").toLowerCase();t+=n+": "+e[r]+"; "})),t};return e._closure={},e.asString="function convertToCssText(obj){let cssText='';Object.keys(obj).forEach(function(key){const hyphenatedKey=key.replace(/([A-Z])/g,'-$1').toLowerCase();cssText+=hyphenatedKey+': '+obj[key]+'; ';});return cssText;}",e.__workletHash=1169828150415,e.__location="src/worklet/hook/utils.ts (96:7)",e.__worklet=!0,e}());function xe(e,t){if("object"==typeof e&&void 0===e.value)for(var r of Object.keys(e))xe(e[r],r);else if(void 0!==t&&"object"==typeof e&&void 0!==e.value)throw new Error(`invalid value passed to \`${t}\`, maybe you forgot to use \`.value\`?`)}function Te(e,t,r){var n,i={immediate:!0,flush:"async"};r&&Object.keys(r).forEach((function(e){return i[e]=r[e]}));var a={};if(i.immediate){if("object"!=typeof(a=$(t)))throw new Error(`applyAnimatedStyle updater has to return an object, found ${typeof a} instead`);xe(a)}var o=function(){var e=function(e,r){var n;var i,a,o=null!==(n=t())&&void 0!==n?n:{},s=(i=o,a="",Object.keys(i).forEach((function(e){var t=e.replace(/([A-Z])/g,"-$1").toLowerCase();a+=t+": "+i[e]+"; "})),a);Array.isArray(r)?r.forEach((function(e){return workletUIModule.updateNodeStyle(e,s)})):console.warn("applyAnimatedStyle can not find corresponding nodes")};return e._closure={updater:t},e.asString="function _f(_,nodes){const{updater}=jsThis._closure;{var _updater;function convertToCssText(obj){let cssText='';Object.keys(obj).forEach(function(key){const hyphenatedKey=key.replace(/([A-Z])/g,'-$1').toLowerCase();cssText+=hyphenatedKey+': '+obj[key]+'; ';});return cssText;}const updates=(_updater=updater())!==null&&_updater!==void 0?_updater:{};const inlineStyle=convertToCssText(updates);if(!Array.isArray(nodes)){console.warn('applyAnimatedStyle can not find corresponding nodes');return;}nodes.forEach(function(node){return workletUIModule.updateNodeStyle(node,inlineStyle);});}}",e.__workletHash=6718614983920,e.__location="src/worklet/hook/animatedStyle.ts (65:23)",e.__worklet=!0,e}(),s=St(e,o,Object.values(null!==(n=t._closure)&&void 0!==n?n:{}),[],i);return{initialStyle:Ae(a),mapperId:s}}function Ee(e,t,r){var n,i={immediate:!0,flush:"async"};t&&Object.keys(t).forEach((function(e){return i[e]=t[e]}));var a={};if(i.immediate){if("object"!=typeof(a=$(e)))throw new Error(`applyAnimatedStyle updater has to return an object, found ${typeof a} instead`);xe(a)}var o=function(){var t=function(){var t,n=null!==(t=e())&&void 0!==t?t:{};"function"==typeof r&&ft(r)(n)};return t._closure={updater:e,callback:r,runOnJS:ft},t.asString="function _f(){const{updater,callback,runOnJS}=jsThis._closure;{var _updater;const updates=(_updater=updater())!==null&&_updater!==void 0?_updater:{};if(typeof callback==='function'){runOnJS(callback)(updates);}}}",t.__workletHash=3183218975343,t.__location="src/worklet/hook/animatedStyle.ts (113:23)",t.__worklet=!0,t}();return{initialStyle:a,mapperId:St(0,o,Object.values(null!==(n=e._closure)&&void 0!==n?n:{}),[],i)}}var Me=function(){we({frontColor:"#ffffff",backgroundColor:"#000000",duration:50})},Re=function(){we({frontColor:"#000000",backgroundColor:"#ffffff",duration:50})},Oe=0,De=1;const Le=function(e){var t=Ce(),{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=12,o=t.bottom+2,s=o+10,l="0px 0px 10px 5px rgba(0, 0, 0, 0.12)",c=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),u=Ie(De),d=function(){var e=function(){var e=r.value;return i.value||(e=c.value),e>.3?u.value===De&&(u.value=Oe,ft(Me)()):u.value===Oe&&(u.value=De,ft(Re)()),{overflow:"hidden",boxShadow:l,borderRadius:"12px 12px 0px 0px",marginTop:`${s}px`,transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:c,navBarColoThreshold:.3,navBarColor:u,NavBarColorStatus:{black:De,white:Oe},runOnJS:ft,_setNavigationBarColor:Me,_resetNavigationBarColor:Re,nextPageBoxShadow:l,topRadius:a,nextPageTop:s},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,navBarColoThreshold,navBarColor,NavBarColorStatus,runOnJS,_setNavigationBarColor,_resetNavigationBarColor,nextPageBoxShadow,topRadius,nextPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}if(t>navBarColoThreshold){if(navBarColor.value===NavBarColorStatus.black){navBarColor.value=NavBarColorStatus.white;runOnJS(_setNavigationBarColor)();}}else{if(navBarColor.value===NavBarColorStatus.white){navBarColor.value=NavBarColorStatus.black;runOnJS(_resetNavigationBarColor)();}}return{overflow:\'hidden\',boxShadow:nextPageBoxShadow,borderRadius:topRadius+"px "+topRadius+"px 0px 0px",marginTop:nextPageTop+"px",transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=1799099242451,e.__location="src/worklet/custom-route/presets/cupertino-modal.ts (52:33)",e.__worklet=!0,e}(),p=function(){var e=function(){var e=r.value;return i.value||(e=c.value),{overflow:"hidden",filter:`brightness(${1+(.9-1)*e})`,borderRadius:"12px 12px 0px 0px",transformOrigin:"top center",transform:`translateY(${o*e}px) scale(${1-e/10})`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:c,prevPageBrightness:.9,topRadius:a,prevPageTop:o},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,prevPageBrightness,topRadius,prevPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}const scale=1-t/10;const brightness=1+(prevPageBrightness-1)*t;return{overflow:\'hidden\',filter:"brightness("+brightness+")",borderRadius:topRadius+"px "+topRadius+"px 0px 0px",transformOrigin:\'top center\',transform:"translateY("+prevPageTop*t+"px) scale("+scale+")"};}}',e.__workletHash=666155372927,e.__location="src/worklet/custom-route/presets/cupertino-modal.ts (80:38)",e.__worklet=!0,e}();return{opaque:!1,transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:d,handlePreviousPageAnimation:p}};const Ne=function(e){var t=Ce(),{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=12,o=t.bottom+2+10,s="0px 0px 10px 5px rgba(0, 0, 0, 0.12)",l=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),c=function(){var e=function(){var e=r.value;return i.value||(e=l.value),{overflow:"hidden",boxShadow:s,borderRadius:"12px 12px 0px 0px",marginTop:`${o}px`,transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:l,nextPageBoxShadow:s,topRadius:a,nextPageTop:o},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,nextPageBoxShadow,topRadius,nextPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',boxShadow:nextPageBoxShadow,borderRadius:topRadius+"px "+topRadius+"px 0px 0px",marginTop:nextPageTop+"px",transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=0xf050b96bb0d,e.__location="src/worklet/custom-route/presets/cupertino-modal-inside.ts (25:33)",e.__worklet=!0,e}(),u=function(){var e=function(){var e=r.value;return i.value||(e=l.value),{overflow:"hidden",filter:`brightness(${1+(.9-1)*e})`,borderRadius:"12px 12px 0px 0px",transformOrigin:"top center",transform:`translateY(${-10*e}px) scale(${1-e/10})`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:l,prevPageBrightness:.9,topRadius:a,prevPageVisibleOffset:10},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,prevPageBrightness,topRadius,prevPageVisibleOffset}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}const scale=1-t/10;const brightness=1+(prevPageBrightness-1)*t;return{overflow:\'hidden\',filter:"brightness("+brightness+")",borderRadius:topRadius+"px "+topRadius+"px 0px 0px",transformOrigin:\'top center\',transform:"translateY("+-prevPageVisibleOffset*t+"px) scale("+scale+")"};}}',e.__workletHash=6392807109874,e.__location="src/worklet/custom-route/presets/cupertino-modal-inside.ts (41:38)",e.__worklet=!0,e}();return{opaque:!1,transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:c,handlePreviousPageAnimation:u}};const Be=function(e){var t=Ce(),{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=t.bottom+2+10,o="0px 0px 10px 5px rgba(0, 0, 0, 0.12)",s=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),l=function(){var e=function(){var e=r.value;return i.value||(e=s.value),{overflow:"hidden",boxShadow:o,borderRadius:"12px 12px 0px 0px",marginTop:`${a}px`,transform:`translateX(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:s,nextPageBoxShadow:o,topRadius:12,nextPageTop:a},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,nextPageBoxShadow,topRadius,nextPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',boxShadow:nextPageBoxShadow,borderRadius:topRadius+"px "+topRadius+"px 0px 0px",marginTop:nextPageTop+"px",transform:"translateX("+(1-t)*100+"%)"};}}',e.__workletHash=9797379415948,e.__location="src/worklet/custom-route/presets/modal-navigation.ts (23:33)",e.__worklet=!0,e}();return{opaque:!1,handlePrimaryAnimation:l}};const $e=function(e){var t=Ce(),{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=t.bottom+2+10,o=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),s=function(){var e=function(){var e=r.value;return i.value||(e=o.value),{overflow:"hidden",borderRadius:"12px 12px 0px 0px",marginTop:`${a}px`,transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:o,topRadius:12,nextPageTop:a},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,topRadius,nextPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',borderRadius:topRadius+"px "+topRadius+"px 0px 0px",marginTop:nextPageTop+"px",transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=4588171816292,e.__location="src/worklet/custom-route/presets/modal.ts (22:33)",e.__worklet=!0,e}(),l=function(){var e=function(){return{}};return e._closure={},e.asString="function _f(){return{};}",e.__workletHash=9610510921772,e.__location="src/worklet/custom-route/presets/modal.ts (37:38)",e.__worklet=!0,e}();return{opaque:!1,barrierColor:me,barrierDismissible:!0,transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:s,handlePreviousPageAnimation:l}};const je=function(e){var{primaryAnimation:t}=e,r=function(){var e=function(){var e=t.value;return{opacity:1*ye.easeIn(e),transform:`translateY(${100*(.25*(1-ye.fastOutSlowIn(e)))}%)`}};return e._closure={primaryAnimation:t,Curves:{easeIn:ye.easeIn,fastOutSlowIn:ye.fastOutSlowIn}},e.asString='function _f(){const{primaryAnimation,Curves}=jsThis._closure;{const t=primaryAnimation.value;const oProgress=Curves.easeIn(t);const yProgress=Curves.fastOutSlowIn(t);const transY=0.25*(1-yProgress);return{opacity:1*oProgress,transform:"translateY("+transY*100+"%)"};}}',e.__workletHash=0xaa966d0d2fe,e.__location="src/worklet/custom-route/presets/fade-upwards.ts (8:33)",e.__worklet=!0,e}(),n=function(){var e=function(){return{}};return e._closure={},e.asString="function _f(){return{};}",e.__workletHash=9610510921772,e.__location="src/worklet/custom-route/presets/fade-upwards.ts (21:38)",e.__worklet=!0,e}();return{transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:r,handlePreviousPageAnimation:n,handleSecondaryAnimation:_e(e)}};const Fe=function(e){var{primaryAnimation:t,primaryAnimationStatus:r,userGestureInProgress:n}=e,i=ae.cubicBezier(.2,0,0,1),a=be({animation:t,animationStatus:r,curve:i,reverseCurve:ae.out(i)}),o=function(){var e=function(){var e=t.value;return n.value||(e=a.value),{overflow:"hidden",transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:t,userGestureInProgress:n,_curvePrimaryAnimation:a},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=9146004656126,e.__location="src/worklet/custom-route/presets/upwards.ts (19:33)",e.__worklet=!0,e}(),s=function(){var e=function(){return{}};return e._closure={},e.asString="function _f(){return{};}",e.__workletHash=9610510921772,e.__location="src/worklet/custom-route/presets/upwards.ts (32:38)",e.__worklet=!0,e}(),l=_e(e);return{barrierColor:ve,transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:o,handlePreviousPageAnimation:s,handleSecondaryAnimation:l}};var We=function(e,t){return function(){var r=function(r){var n,i,a;return a=1,r=(n=(r-e)/(t-e))<(i=0)?i:n>a?a:n};return r._closure={begin:e,end:t},r.asString="function _f(t){const{begin,end}=jsThis._closure;{const clamp=function(v,lower,upper){if(v<lower)return lower;if(v>upper)return upper;return v;};t=clamp((t-begin)/(end-begin),0.0,1.0);return t;}}",r.__workletHash=529431024064,r.__location="src/worklet/custom-route/presets/two_sequence.ts (25:57)",r.__worklet=!0,r}()},Ue=function(e,t,r){return function(){var n=function(n){if(0===n)return e;if(1===n)return t;var i=r(n);return e+(t-e)*i};return n._closure={begin:e,end:t,curve:r},n.asString="function _f(t){const{begin,end,curve}=jsThis._closure;{if(t===0.0){return begin;}if(t===1.0){return end;}const transform_t=curve(t);const current=begin+(end-begin)*transform_t;return current;}}",n.__workletHash=0xe55d50cbc14,n.__location="src/worklet/custom-route/presets/two_sequence.ts (36:58)",n.__worklet=!0,n}()};const Ve=function(e){var{primaryAnimation:t,primaryAnimationStatus:r}=e,n=function(e){var t=function(e,t){var r=function(){var r=function(r){return(r-e)/(t-e)};return r._closure={start:e,end:t},r.asString="function _f(t){const{start,end}=jsThis._closure;{return(t-start)/(end-start);}}",r.__workletHash=9277068013909,r.__location="src/worklet/custom-route/presets/two_sequence.ts (51:28)",r.__worklet=!0,r}(),n=function(){var r=function(r){return r>=e&&r<t};return r._closure={start:e,end:t},r.asString="function _f(t){const{start,end}=jsThis._closure;{return t>=start&&t<end;}}",r.__workletHash=693040209137,r.__location="src/worklet/custom-route/presets/two_sequence.ts (56:21)",r.__worklet=!0,r}();return{value:r,contains:n}},r=e.slice(),n=0;for(var i of r)n+=i.weight;for(var a=[],o=0,s=0;s<r.length;s++){var l=s===r.length-1?1:o+r[s].weight/n;a.push(t(o,l)),o=l}return function(){var e=function(e){var t=function(e,t){var n=r[t],i=a[t].value(e);return n.tween(i)};if(0===e)return t(e,r.length-1);for(var n=0;n<r.length;n++)if(a[n].contains(e))return t(e,n);return e};return e._closure={_items:r,_intervals:a},e.asString="function _f(t){const{_items,_intervals}=jsThis._closure;{const _evaluateAt=function(t,index){const element=_items[index];const tInterval=_intervals[index].value(t);return element.tween(tInterval);};if(t===0){return _evaluateAt(t,_items.length-1);}for(let index=0;index<_items.length;index++){if(_intervals[index].contains(t)){return _evaluateAt(t,index);}}return t;}}",e.__workletHash=5469866450190,e.__location="src/worklet/custom-route/presets/two_sequence.ts (81:9)",e.__worklet=!0,e}()}([{tween:Ue(0,.4,ae.cubicBezier(.05,0,.133333,.06)),weight:.166666},{tween:Ue(.4,1,ae.cubicBezier(.208333,.82,.25,1)),weight:.833334}]);var i,a,o,s=(i=Ue(0,1,We(.125,.25)),a=Ue(1.1,1,n),o=Ue(.85,1,n),function(e=!1){return e?function(){var e=function(e){return{opacity:1,transform:`scale(${a(e)})`}};return e._closure={_scaleDownTransition:a},e.asString='function _f(t){const{_scaleDownTransition}=jsThis._closure;{const opacity=1.0;const scale=_scaleDownTransition(t);return{opacity:opacity,transform:"scale("+scale+")"};}}',e.__workletHash=7346190850846,e.__location="src/worklet/custom-route/presets/zoom.ts (40:15)",e.__worklet=!0,e}():function(){var e=function(e){return{opacity:i(e),transform:`scale(${o(e)})`}};return e._closure={_fadeInTransition:i,_scaleUpTransition:o},e.asString='function _f(t){const{_fadeInTransition,_scaleUpTransition}=jsThis._closure;{const opacity=_fadeInTransition(t);const scale=_scaleUpTransition(t);return{opacity:opacity,transform:"scale("+scale+")"};}}',e.__workletHash=0xd71a1fd5ea8,e.__location="src/worklet/custom-route/presets/zoom.ts (50:13)",e.__worklet=!0,e}()}),l=function(){var e=Ue(1,0,We(.0825,.2075)),t=Ue(1,1.05,n),r=Ue(1,.9,n);return function(n=!1){return n?function(){var t=function(t){return{opacity:e(t),transform:`scale(${r(t)})`}};return t._closure={_fadeOutTransition:e,_scaleDownTransition:r},t.asString='function _f(t){const{_fadeOutTransition,_scaleDownTransition}=jsThis._closure;{const opacity=_fadeOutTransition(t);const scale=_scaleDownTransition(t);return{opacity:opacity,transform:"scale("+scale+")"};}}',t.__workletHash=959105194376,t.__location="src/worklet/custom-route/presets/zoom.ts (69:15)",t.__worklet=!0,t}():function(){var e=function(e){return{opacity:1,transform:`scale(${t(e)})`}};return e._closure={_scaleUpTransition:t},e.asString='function _f(t){const{_scaleUpTransition}=jsThis._closure;{const opacity=1.0;const scale=_scaleUpTransition(t);return{opacity:opacity,transform:"scale("+scale+")"};}}',e.__workletHash=0xb271883777e,e.__location="src/worklet/custom-route/presets/zoom.ts (79:13)",e.__worklet=!0,e}()}}(),c=function(e,t,r,n){var i=Ie(t.value);return function(){var a=function(){var a,o=e.value,s=t.value,l=function(e,t){switch(t){case ge.dismissed:case ge.completed:return t;case ge.forward:switch(e){case ge.dismissed:case ge.completed:case ge.forward:return t;case ge.reverse:return e}break;case ge.reverse:switch(e){case ge.dismissed:case ge.completed:case ge.reverse:return t;case ge.forward:return e}}}(i.value,s);switch(i.value=l,l){case ge.dismissed:case ge.forward:a=r(o);break;case ge.reverse:case ge.completed:a=n(1-o)}return a};return a._closure={AnimationStatus:ge,animation:e,animationStatus:t,_effectiveAnimationStatus:i,forwardTransition:r,reverseTransition:n},a.asString="function _f(){const{AnimationStatus,animation,animationStatus,_effectiveAnimationStatus,forwardTransition,reverseTransition}=jsThis._closure;{const _calculateEffectiveAnimationStatus=function(lastEffective,current){switch(current){case AnimationStatus.dismissed:case AnimationStatus.completed:return current;case AnimationStatus.forward:switch(lastEffective){case AnimationStatus.dismissed:case AnimationStatus.completed:case AnimationStatus.forward:return current;case AnimationStatus.reverse:return lastEffective;}break;case AnimationStatus.reverse:switch(lastEffective){case AnimationStatus.dismissed:case AnimationStatus.completed:case AnimationStatus.reverse:return current;case AnimationStatus.forward:return lastEffective;}}};const progress=animation.value;const currentStatus=animationStatus.value;const lastEffectiveStatus=_effectiveAnimationStatus.value;const effectiveAnimationStatus=_calculateEffectiveAnimationStatus(lastEffectiveStatus,currentStatus);_effectiveAnimationStatus.value=effectiveAnimationStatus;let style;switch(effectiveAnimationStatus){case AnimationStatus.dismissed:case AnimationStatus.forward:style=forwardTransition(progress);break;case AnimationStatus.reverse:case AnimationStatus.completed:style=reverseTransition(1-progress);break;}return style;}}",a.__workletHash=0xf845d8363ba,a.__location="src/worklet/custom-route/presets/zoom.ts (101:11)",a.__worklet=!0,a}()},u=pe(function(){var e=function(){return 1-t.value};return e._closure={primaryAnimation:t},e.asString="function _f(){const{primaryAnimation}=jsThis._closure;{return 1-primaryAnimation.value;}}",e.__workletHash=0xd75d5c8c42f,e.__location="src/worklet/custom-route/presets/zoom.ts (152:35)",e.__worklet=!0,e}()),d=pe(function(){var e=function(){switch(r.value){case ge.forward:return ge.reverse;case ge.reverse:return ge.forward;case ge.completed:return ge.dismissed;case ge.dismissed:return ge.completed}};return e._closure={primaryAnimationStatus:r,AnimationStatus:ge},e.asString="function _f(){const{primaryAnimationStatus,AnimationStatus}=jsThis._closure;{const status=primaryAnimationStatus.value;switch(status){case AnimationStatus.forward:return AnimationStatus.reverse;case AnimationStatus.reverse:return AnimationStatus.forward;case AnimationStatus.completed:return AnimationStatus.dismissed;case AnimationStatus.dismissed:return AnimationStatus.completed;}}}",e.__workletHash=9442239809562,e.__location="src/worklet/custom-route/presets/zoom.ts (157:41)",e.__worklet=!0,e}());return{transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:c(t,r,s(),l(!0)),handlePreviousPageAnimation:c(u,d,s(!0),l()),handleSecondaryAnimation:_e(e)}};const qe=function(e){var{primaryAnimation:t,primaryAnimationStatus:r,userGestureInProgress:n}=e,i=be({animation:t,animationStatus:r,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),a=function(){var e=function(){var e=t.value;return n.value||(e=i.value),{transform:`translateX(${100*(1-e)}%)`}};return e._closure={primaryAnimation:t,userGestureInProgress:n,_curvePrimaryAnimation:i},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{transform:"translateX("+(1-t)*100+"%)"};}}',e.__workletHash=0xfa040f024bf,e.__location="src/worklet/custom-route/presets/cupertino.ts (15:33)",e.__worklet=!0,e}(),o=function(){var e=function(){var e=t.value;return n.value||(e=i.value),{transform:`translateX(${-1/3*e*100}%)`}};return e._closure={primaryAnimation:t,userGestureInProgress:n,_curvePrimaryAnimation:i},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{transform:"translateX("+-1/3*t*100+"%)"};}}',e.__workletHash=0xe84e641e428,e.__location="src/worklet/custom-route/presets/cupertino.ts (26:38)",e.__worklet=!0,e}();return{transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:a,handlePreviousPageAnimation:o,handleSecondaryAnimation:_e(e)}};const ze=function(e,t){var{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),o=null==t?void 0:t.round,s=(o="boolean"!=typeof o||o)?12:0,l=parseFloat(null==t?void 0:t.height),c=100-(Number.isNaN(l)?60:l)+"vh",u=function(){var e=function(){var e=r.value;return i.value||(e=a.value),{overflow:"hidden",borderRadius:`${s}px ${s}px 0px 0px`,marginTop:c,transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:a,radius:s,marginTop:c},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,radius,marginTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',borderRadius:radius+"px "+radius+"px 0px 0px",marginTop:marginTop,transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=0xb50d0b49a8c,e.__location="src/worklet/custom-route/presets/bottom-sheet.ts (20:33)",e.__worklet=!0,e}(),d=function(){var e=function(){return{}};return e._closure={},e.asString="function _f(){return{};}",e.__workletHash=9610510921772,e.__location="src/worklet/custom-route/presets/bottom-sheet.ts (35:38)",e.__worklet=!0,e}();return{opaque:!1,barrierColor:me,barrierDismissible:!0,transitionDuration:400,reverseTransitionDuration:400,fullscreenDrag:!0,handlePrimaryAnimation:u,handlePreviousPageAnimation:d}};class Ge{constructor(e,t){this.eventName=void 0,this.eventHash=void 0,this.worklet=void 0,this.worklet=e,this.eventName=t}register(e){this.eventHash=`${this.eventName}-${e}`,At(this.eventHash,this.worklet)}unregister(){this.eventHash&&xt(this.eventHash)}}var He=new Map,Ke=function(e){var t;He.has(e)&&(null===(t=He.get(e).userGestureInProgressHandler)||void 0===t||t.unregister(),He.delete(e))},Je=function(e){if(!He.has(e)){var t={userGestureInProgress:Ie(!1),userGesturesInProgressCount:Ie(0)},r=t.userGestureInProgress,n=function(){var e=function(e){var t=e.value;r.value=t};return e._closure={userGestureInProgress:r},e.asString="function _f(args){const{userGestureInProgress}=jsThis._closure;{const newVal=args.value;userGestureInProgress.value=newVal;}}",e.__workletHash=0x9a4ecb9a222,e.__location="src/worklet/custom-route/context.ts (34:23)",e.__worklet=!0,e}(),i=new Ge(n,"userGestureInProgressChange");i.register(e),t.userGestureInProgressHandler=i,He.set(e,t)}},Xe=function(e,t,r){var n=u(),i=n?1:0,a=n?ge.completed:ge.dismissed,o=Ie(i),s=Ie(i),l=Ie(a),c=Ie(a);Je(e);var d=He.get(e),{userGestureInProgress:p,userGesturesInProgressCount:h}=d,f=function(){var t=function(){h.value+=1,1===h.value&&workletUIModule.startUserGesture(e)};return t._closure={userGesturesInProgressCount:h,windowId:e},t.asString="function startUserGesture(){const{userGesturesInProgressCount,windowId}=jsThis._closure;{userGesturesInProgressCount.value+=1;if(userGesturesInProgressCount.value===1){workletUIModule.startUserGesture(windowId);}}}",t.__workletHash=0xaf0603d1498,t.__location="src/worklet/custom-route/context.ts (82:2)",t.__worklet=!0,t}(),g=function(){var t=function(){h.value<=0?console.error("For developer: startUserGesture and stopUserGesture must be called in pairs"):(h.value-=1,0===h.value&&workletUIModule.stopUserGesture(e))};return t._closure={userGesturesInProgressCount:h,windowId:e},t.asString="function stopUserGesture(){const{userGesturesInProgressCount,windowId}=jsThis._closure;{if(userGesturesInProgressCount.value<=0){console.error('For developer: startUserGesture and stopUserGesture must be called in pairs');return;}userGesturesInProgressCount.value-=1;if(userGesturesInProgressCount.value===0){workletUIModule.stopUserGesture(windowId);}}}",t.__workletHash=7506887337204,t.__location="src/worklet/custom-route/context.ts (90:2)",t.__worklet=!0,t}(),v=function(){var r=function(){if(h.value>0)for(console.error("For developer: didPop should not be invoked before stopUserGesture");h.value>0;)g();workletUIModule.navigatorPop(e,t)};return r._closure={userGesturesInProgressCount:h,stopUserGesture:g,windowId:e,pageId:t},r.asString="function didPop(){const{userGesturesInProgressCount,stopUserGesture,windowId,pageId}=jsThis._closure;{if(userGesturesInProgressCount.value>0){console.error('For developer: didPop should not be invoked before stopUserGesture');while(userGesturesInProgressCount.value>0){stopUserGesture();}}workletUIModule.navigatorPop(windowId,pageId);}}",r.__workletHash=0xf70df3863c2,r.__location="src/worklet/custom-route/context.ts (102:2)",r.__worklet=!0,r}();return{routeType:r,primaryAnimation:o,primaryAnimationStatus:l,secondaryAnimation:s,secondaryAnimationStatus:c,userGestureInProgress:p,userGesturesInProgressCount:h,startUserGesture:f,stopUserGesture:g,didPop:v}},Ye={isCustomRoute:!0,opaque:!0,maintainState:!0,transitionDuration:400,reverseTransitionDuration:400,barrierColor:"",barrierDismissible:!1,barrierLabel:"",canTransitionTo:!0,canTransitionFrom:!0,popGestureEnabled:!0,allowEnterRouteSnapshotting:!1,allowExitRouteSnapshotting:!1,fullscreenDrag:!1,popGestureDirection:"horizontal"},Qe=new Map,Ze=new Map;function et(e,t){y.info(`[WABaseLib.Critical] add RouteBuilder routeType: ${e}`),Qe.has(e)&&(console.warn(`skyline: routeType(${e}) has been added before`),y.warn(`[WABaseLib.Critical] routeType(${e}) has been added before`)),Qe.set(e,t)}function tt(e){y.info(`[WABaseLib.Critical] remove RouteBuilder routeType: ${e}`),Qe.delete(e)}function rt(e){return Qe.get(e)}function nt(e){var{windowId:t,pageId:r,routeType:n,routeOptions:i,externalRouteConfig:a}=e,o=rt(n);if("function"==typeof o){y.info(`[WABaseLib.Critical] create RouteContext routeType: ${n} page: ${r}`);var s=Xe(t,r,n);Ze.set(r,s);var l=o(s,i),c=Object.assign({},Ye,l,a||{});return"function"==typeof c.handlePrimaryAnimation&&(C(c.handlePrimaryAnimation,!1)||console.warn(`routeType(${n}) handlePrimaryAnimation should be a worklet function`)),"function"==typeof c.handleSecondaryAnimation&&(C(c.handleSecondaryAnimation,!1)||console.warn(`routeType(${n}) handleSecondaryAnimation should be a worklet function`)),{routeContext:s,routeConfig:c}}}function it(e){if(Ze.has(e))return Ze.get(e)}function at(e){y.info(`[WABaseLib.Critical] remove RouteContext page: ${e}`),Ze.delete(e)}function ot(){et("wx://cupertino",qe),et("wx://cupertino-modal",Le),et("wx://cupertino-modal-inside",Ne),et("wx://modal",$e),et("wx://modal-navigation",Be),et("wx://fade-upwards",je),et("wx://upwards",Fe),et("wx://zoom",Ve),et("wx://bottom-sheet",ze)}var st=_();function lt(e){y.info("[WABaseLib.Critical] Skyline worklet chooseRenderMode ",e),function(e){c=e}(e),st=_(),u()?function(){if(Tt||!st.supported())return;y.info("[WABaseLib.Critical] Skyline initialize web worklet"),st.installCoreFunctions(bt),Tt=!0}():function(){if(Et||!st.supported())return;if(y.info("[WABaseLib.Critical] Skyline initialize native worklet"),st.installCoreFunctions(yt),ot(),Et=!0,dt()){var e=S||w||function(){if(f&&"debug"in f&&void 0!==f.debug)return!!f.debug}(),t=console;ht(function(){var r=function(){function r(r){return function(...n){e&&ft(t[r])("[ui]",...n)}}var n=["debug","log","warn","error","info"].reduce((function(e,t){return e[t]=r(t),e}),{});workletUIModule.setGlobalConsole(n)};return r._closure={printLog:e,runOnJS:ft,capturableConsole:t},r.asString="function _f(){const{printLog,runOnJS,capturableConsole}=jsThis._closure;{const methods=['debug','log','warn','error','info'];function _log(m){return function(...args){if(!printLog)return;runOnJS(capturableConsole[m])('[ui]',...args);};}const libConsole=methods.reduce(function(obj,prop){;obj[prop]=_log(prop);return obj;},{});workletUIModule.setGlobalConsole(libConsole);}}",r.__workletHash=0xbb38dbebc01,r.__location="src/worklet/core.ts (312:12)",r.__worklet=!0,r}())()}}()}var ct=function(){var e=function(){};return e._closure={},e.asString="function _f(){}",e.__workletHash=0xee9333ba43b,e.__location="src/worklet/core.ts (40:48)",e.__worklet=!0,e}(),ut=function(e=!0){if(!ct.__workletHash&&!u()){if(e)throw new Error("failed to create a worklet, maybe forgot to add babel plugin?");return!1}return!0},dt=function(e=!1){return ut(e)&&st.supported()},pt=function(){if(!dt(!0))throw new Error("worklet mechanism cannot be used, platform not support")};function ht(e){return C(e)||console.warn("The parameter to runOnUI should be a worklet function"),st.native?gt(e):k(gt(e))}var ft=function(){var e=function(e){if(!D)return k(e);if(e.__callAsync)return e.__callAsync;throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren't marked as worklets")};return e._closure={makeFunctionAsync:k},e.asString='function runOnJS(fun){const{makeFunctionAsync}=jsThis._closure;{if(!_WORKLET){return makeFunctionAsync(fun);}if(!fun.__callAsync){throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren\'t marked as worklets");}else{return fun.__callAsync;}}}',e.__workletHash=1101783697307,e.__location="src/worklet/core.ts (79:7)",e.__worklet=!0,e}();function gt(e){return pt(),st.makeShareable(e)}function vt(e){st.pushFrame(e)}var mt=function(){var e=function(e,t){st.native?"number"==typeof t?workletUIModule.requestFrame(t,e):setTimeout((function(){e(_frameTimestamp||workletUIModule.getCurrentTime())}),16):vt(e)};return e._closure={workletModule:{native:st.native},pushFrame:vt},e.asString="function requestFrame(frame,windowId){const{workletModule,pushFrame}=jsThis._closure;{function getTimestamp(){if(_frameTimestamp){return _frameTimestamp;}return workletUIModule.getCurrentTime();}if(!workletModule.native){pushFrame(frame);return;}if(typeof windowId==='number'){workletUIModule.requestFrame(windowId,frame);}else{setTimeout(function(){frame(getTimestamp());},16);}}}",e.__workletHash=5360619374794,e.__location="src/worklet/core.ts (104:0)",e.__worklet=!0,e}(),yt=function(){var e=function(e,t){var r=this,n=this._animation;if(n&&(n.cancelled=!0,this._animation=null),!t)if("function"==typeof e||null!==e&&"object"==typeof e&&void 0!==e.onFrame){var i,a="function"==typeof e?e():e;if(this._value===a.current&&!a.isHigherOrder)return void(null===(i=a.callback)||void 0===i||i.call(a,!0));var o=function(e){if(a.cancelled){var t;null===(t=a.callback)||void 0===t||t.call(a,!1)}else{var n=a.onFrame(a,e);a.finished=!0,a.timestamp=e,r._value=a.current,mt(n?function(){var e;null===(e=a.callback)||void 0===e||e.call(a,!0),r._animation=null}:o,r._windowId)}},s=function(e){a.onStart(a,r.value,e,n),o(e)};this._animation=a,_frameTimestamp?s(_frameTimestamp):mt(s,this._windowId)}else{if(this._value===e)return;this._value=e}};return e._closure={requestFrame:mt},e.asString="function workletValueSetter(value,synchronized){const{requestFrame}=jsThis._closure;{var _this=this;const previousAnimation=this._animation;if(previousAnimation){previousAnimation.cancelled=true;this._animation=null;}if(synchronized)return;if(typeof value==='function'||value!==null&&typeof value==='object'&&value.onFrame!==undefined){const animation=typeof value==='function'?value():value;if(this._value===animation.current&&!animation.isHigherOrder){var _animation$callback;(_animation$callback=animation.callback)===null||_animation$callback===void 0?void 0:_animation$callback.call(animation,true);return;}const step=function(timestamp){if(animation.cancelled){var _animation$callback2;(_animation$callback2=animation.callback)===null||_animation$callback2===void 0?void 0:_animation$callback2.call(animation,false);return;}const finished=animation.onFrame(animation,timestamp);animation.finished=true;animation.timestamp=timestamp;_this._value=animation.current;if(finished){requestFrame(function(){var _animation$callback3;(_animation$callback3=animation.callback)===null||_animation$callback3===void 0?void 0:_animation$callback3.call(animation,true);_this._animation=null;},_this._windowId);}else{requestFrame(step,_this._windowId);}};const initializeAnimation=function(timestamp){animation.onStart(animation,_this.value,timestamp,previousAnimation);step(timestamp);};this._animation=animation;if(_frameTimestamp){initializeAnimation(_frameTimestamp);}else{requestFrame(initializeAnimation,this._windowId);}}else{if(this._value===value){return;}this._value=value;}}}",e.__workletHash=1469372007835,e.__location="src/worklet/core.ts (128:0)",e.__worklet=!0,e}();function bt(e){var t=this,r=this._animation;if(r&&(r.cancelled=!0,this._animation=null),"function"==typeof e||null!==e&&"object"==typeof e&&e.onFrame){var n="function"==typeof e?e():e,i=function(e){n.onStart(n,t.value,e,r)},a=function(e){var r;if(n.cancelled){var o;null===(o=n.callback)||void 0===o||o.call(n,!1)}else{i&&(i(e),i=null);var s,l=n.onFrame(n,e);if(n.timestamp=e,null===(r=t._setValue)||void 0===r||r.call(t,n.current),l)null===(s=n.callback)||void 0===s||s.call(n,!0);else mt(a)}};this._animation=n,mt(a)}else{var o;null===(o=this._setValue)||void 0===o||o.call(this,e)}}function _t(e){return pt(),st.makeMutable(e)}function wt(e={}){return pt(),st.makeRemote(e)}function St(e,t,r=[],n=[],i){return pt(),st.startMapper(e,t,r,n,i)}function Ct(e,t){st.stopMapper(e,t)}function kt(e,t){st.stopMappers(e,t)}function It(e,t){st.enableMapper(e,t)}function Pt(e,t){st.disableMapper(e,t)}function At(e,t){st.registerEventHandler(e,t)}function xt(e){st.unregisterEventHandler(e)}var Tt=!1;var Et=!1})(),L=n})(),(()=>{var i={538:e=>{function t(e,t){for(var r=[],n=~~(t/8),i=t%8,a=0,o=e.length;a<o;a++)r[a]=(e[(a+n)%o]<<i&255)+(e[(a+n+1)%o]>>>8-i&255);return r}function r(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]^t[n]);return r}function n(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=e[n]&t[n]&255;return r}function i(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]|t[n]);return r}function a(e,t){for(var r=[],n=0,i=e.length-1;i>=0;i--){var a=e[i]+t[i]+n;a>255?(n=1,r[i]=255&a):(n=0,r[i]=255&a)}return r}function o(e){return r(r(e,t(e,9)),t(e,17))}function s(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(i(n(e,t),n(e,a)),n(t,a))}function l(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(n(e,t),n(function(e){for(var t=[],r=e.length-1;r>=0;r--)t[r]=255&~e[r];return t}(e),a))}function c(e,n){for(var i,c=[],u=[],d=0;d<16;d++){var p=4*d;c.push(n.slice(p,p+4))}for(var h=16;h<68;h++)c.push(r(r((i=r(r(c[h-16],c[h-9]),t(c[h-3],15)),r(r(i,t(i,15)),t(i,23))),t(c[h-13],7)),c[h-6]));for(var f=0;f<64;f++)u.push(r(c[f],c[f+4]));for(var g,v,m,y,b=[121,204,69,25],_=[122,135,157,138],w=e.slice(0,4),S=e.slice(4,8),C=e.slice(8,12),k=e.slice(12,16),I=e.slice(16,20),P=e.slice(20,24),A=e.slice(24,28),x=e.slice(28,32),T=0;T<64;T++){var E=T>=0&&T<=15?b:_;v=r(g=t(a(a(t(w,12),I),t(E,T)),7),t(w,12)),m=a(a(a(s(w,S,C,T),k),v),u[T]),y=a(a(a(l(I,P,A,T),x),g),c[T]),k=C,C=t(S,9),S=w,w=m,x=A,A=t(P,19),P=I,I=o(y)}return r([].concat(w,S,C,k,I,P,A,x),e)}e.exports=function(e){var t=8*e.length,r=t%512;r=r>=448?512-r%448-1:448-r-1;for(var n=new Array((r-7)/8),i=0,a=n.length;i<a;i++)n[i]=0;var o=[];t=t.toString(2);for(var s=7;s>=0;s--)if(t.length>8){var l=t.length-8;o[s]=parseInt(t.substr(l),2),t=t.substr(0,l)}else t.length>0?(o[s]=parseInt(t,2),t=""):o[s]=0;for(var u=[].concat(e,[128],n,o),d=u.length/64,p=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78],h=0;h<d;h++){var f=64*h;p=c(p,u.slice(f,f+64))}return p}},405:(e,t,r)=>{var n=r(538);e.exports=function(e){return e="string"==typeof e?function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.codePointAt(r);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>>6),t.push(128|63&i);else if(i<=55295||i>=57344&&i<=65535)t.push(224|i>>>12),t.push(128|i>>>6&63),t.push(128|63&i);else{if(!(i>=65536&&i<=1114111))throw t.push(i),new Error("input is not supported");r++,t.push(240|i>>>18&28),t.push(128|i>>>12&63),t.push(128|i>>>6&63),t.push(128|63&i)}}return t}(e):Array.prototype.slice.call(e),n(e).map((e=>1===(e=e.toString(16)).length?"0"+e:e)).join("")}},977:(e,t,r)=>{var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r.g&&r.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,l=36,c=1,u=26,d=38,p=700,h=72,f=128,g="-",v=/^xn--/,m=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=l-c,w=Math.floor,S=String.fromCharCode;function C(e){throw RangeError(b[e])}function k(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function I(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+k((e=e.replace(y,".")).split("."),t).join(".")}function P(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function A(e){return k(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,r){var n=0;for(e=r?w(e/p):e>>1,e+=w(e/t);e>_*u>>1;n+=l)e=w(e/_);return w(n+(_+1)*e/(e+d))}function E(e){var t,r,n,i,a,o,d,p,v,m,y,b=[],_=e.length,S=0,k=f,I=h;for((r=e.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&C("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<_;){for(a=S,o=1,d=l;i>=_&&C("invalid-input"),((p=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||p>w((s-S)/o))&&C("overflow"),S+=p*o,!(p<(v=d<=I?c:d>=I+u?u:d-I));d+=l)o>w(s/(m=l-v))&&C("overflow"),o*=m;I=T(S-a,t=b.length+1,0==a),w(S/t)>s-k&&C("overflow"),k+=w(S/t),S%=t,b.splice(S++,0,k)}return A(b)}function M(e){var t,r,n,i,a,o,d,p,v,m,y,b,_,k,I,A=[];for(b=(e=P(e)).length,t=f,r=0,a=h,o=0;o<b;++o)(y=e[o])<128&&A.push(S(y));for(n=i=A.length,i&&A.push(g);n<b;){for(d=s,o=0;o<b;++o)(y=e[o])>=t&&y<d&&(d=y);for(d-t>w((s-r)/(_=n+1))&&C("overflow"),r+=(d-t)*_,t=d,o=0;o<b;++o)if((y=e[o])<t&&++r>s&&C("overflow"),y==t){for(p=r,v=l;!(p<(m=v<=a?c:v>=a+u?u:v-a));v+=l)I=p-m,k=l-m,A.push(S(x(m+I%k,0))),p=w(I/k);A.push(S(x(p,0))),a=T(r,_,n==i),r=0,++n}++r,++t}return A.join("")}o={version:"1.3.2",ucs2:{decode:P,encode:A},decode:E,encode:M,toASCII:function(e){return I(e,(function(e){return m.test(e)?"xn--"+M(e):e}))},toUnicode:function(e){return I(e,(function(e){return v.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}(globalThis)},817:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,p,h,f=e[c].replace(o,"%20"),g=f.indexOf(n);g>=0?(u=f.substr(0,g),d=f.substr(g+1)):(u=f,d=""),p=decodeURIComponent(u),h=decodeURIComponent(d),t(a,p)?Array.isArray(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a}},779:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},935:(e,t,r)=>{"use strict";t.decode=t.parse=r(817),t.encode=t.stringify=r(779)},517:(e,t,r)=>{"use strict";var n=r(977),i=r(417);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(935);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}a.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===b.substr(0,2);!C||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(C||w&&!m[w])){for(var k,I,P=-1,A=0;A<p.length;A++){-1!==(x=b.indexOf(p[A]))&&(-1===P||x<P)&&(P=x)}-1!==(I=-1===P?b.lastIndexOf("@"):b.lastIndexOf("@",P))&&(k=b.slice(0,I),b=b.slice(I+1),this.auth=decodeURIComponent(k)),P=-1;for(A=0;A<d.length;A++){var x;-1!==(x=b.indexOf(d[A]))&&(-1===P||x<P)&&(P=x)}-1===P&&(P=b.length),this.host=b.slice(0,P),b=b.slice(P),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var E=this.hostname.split(/\./),M=(A=0,E.length);A<M;A++){var R=E[A];if(R&&!R.match(h)){for(var O="",D=0,L=R.length;D<L;D++)R.charCodeAt(D)>127?O+="x":O+=R[D];if(!O.match(h)){var N=E.slice(0,A),B=E.slice(A+1),$=R.match(f);$&&(N.push($[1]),B.unshift($[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=n.toASCII(this.hostname));var j=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+j,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[S])for(A=0,M=u.length;A<M;A++){var W=u[A];if(-1!==b.indexOf(W)){var U=encodeURIComponent(W);U===W&&(U=escape(W)),b=b.split(W).join(U)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var z=this.search||"";this.path=j+z}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||r.host&&e.pathname,S=w,C=r.pathname&&r.pathname.split("/")||[],k=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===C[0]?C[0]=r.host:C.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===C[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(k)r.hostname=r.host=C.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!C.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=C.slice(-1)[0],P=(r.host||e.host||C.length>1)&&("."===I||".."===I)||""===I,A=0,x=C.length;x>=0;x--)"."===(I=C[x])?C.splice(x,1):".."===I?(C.splice(x,1),A++):A&&(C.splice(x,1),A--);if(!w&&!S)for(;A--;A)C.unshift("..");!w||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),P&&"/"!==C.join("/").substr(-1)&&C.push("");var T,E=""===C[0]||C[0]&&"/"===C[0].charAt(0);k&&(r.hostname=r.host=E?"":C.length?C.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(w=w||r.host&&C.length)&&!E&&C.unshift(""),C.length?r.pathname=C.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},417:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},759:e=>{!function(){var t={249:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},862:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},231:function(e,t,r){var n=r(249);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},98:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},67:function(e){function t(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function s(e){t(o,i,a,s,l,"next",e)}function l(e){t(o,i,a,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},835:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},226:function(e,t,r){var n=r(421);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},836:function(e,t,r){var n=r(408),i=r(842),a=r(353);e.exports=function(e){var t=i();return function(){var r,i=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return a(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},823:function(e,t,r){var n=r(421);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},33:function(e,t,r){var n=r(673);function i(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,r){var i=n(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},408:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7:function(e,t,r){var n=r(744);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},842:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},349:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},355:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},92:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},569:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},675:function(e,t,r){var n=r(823);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},353:function(e,t,r){var n=r(314).default,i=r(98);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},570:function(e,t,r){var n=r(314).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,a=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new x(n||[]);return o(a,"_invoke",{value:k(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f={};function g(){}function v(){}function m(){}var y={};d(y,l,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(T([])));_&&_!==r&&a.call(_,l)&&(y=_);var w=m.prototype=g.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(i,o,s,l){var c=h(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==n(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}})}function k(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return E()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=I(o,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=h(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function I(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=h(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function T(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:E}}function E(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=d(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,d(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},S(C.prototype),d(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new C(p(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(w),d(w,u,"Generator"),d(w,l,(function(){return this})),d(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},744:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},605:function(e,t,r){var n=r(862),i=r(355),a=r(71),o=r(92);e.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},673:function(e,t,r){var n=r(408);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},339:function(e,t,r){var n=r(231),i=r(349),a=r(71),o=r(569);e.exports=function(e){return n(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},538:function(e,t,r){var n=r(314).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},421:function(e,t,r){var n=r(314).default,i=r(538);e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},314:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},71:function(e,t,r){var n=r(249);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},693:function(e,t,r){var n=r(314).default;e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===n(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}var a=r(2),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function l(e){return void 0===e}function c(e){return null!==e&&"object"===i(e)}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function d(e){return"[object Function]"===o.call(e)}function p(e,t){if(null!=e)if("object"!==i(e)&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:l,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:d,isStream:function(e){return c(e)&&d(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:p,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)p(arguments[n],r);return t},extend:function(e,t,r){return p(t,(function(t,n){e[n]=r&&"function"==typeof t?a(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,r){"use strict";var n=r(0),i=r(13),a=r(14),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||i&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){l.headers[e]=n.merge(o)})),e.exports=l},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){t=t||{};var r={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=l(void 0,e[i])):r[i]=l(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(r[e]=l(void 0,t[e]))})),n.forEach(a,c),n.forEach(o,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=l(void 0,e[i])):r[i]=l(void 0,t[i])})),n.forEach(s,(function(n){n in t?r[n]=l(e[n],t[n]):n in e&&(r[n]=l(void 0,e[n]))}));var u=i.concat(a).concat(o).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return n.forEach(d,c),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){var n=r(7);e.exports={axiosCreate:n.create}},function(e,t,r){"use strict";var n=r(0),i=r(2),a=r(8),o=r(4);function s(e){var t=new a(e),r=i(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var l=s(r(1));l.Axios=a,l.create=function(e){return s(o(l.defaults,e))},l.Cancel=r(5),l.CancelToken=r(17),l.isCancel=r(3),l.all=function(e){return Promise.all(e)},l.spread=r(18),l.isAxiosError=r(19),e.exports=l,e.exports.default=l},function(e,t,r){"use strict";var n=r(0),i=r(9),a=r(10),o=r(11),s=r(4),l=r(15),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var r,n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!i){var u=[o,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(a),r=Promise.resolve(e);u.length;)r=r.then(u.shift(),u.shift());return r}for(var d=e;n.length;){var p=n.shift(),h=n.shift();try{d=p(d)}catch(e){h(e);break}}try{r=o(d)}catch(e){return Promise.reject(e)}for(;a.length;)r=r.then(a.shift(),a.shift());return r},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=u},function(e,t,r){"use strict";var n=r(0);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,r){"use strict";var n=r(0);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var n=r(0),i=r(12),a=r(3),o=r(1);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(0),i=r(1);e.exports=function(e,t,r){var a=this||i;return n.forEach(r,(function(r){e=r.call(a,e,t)})),e}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}var a=r(16),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return i(r)===e||"a"+(t<1?"n ":" ")+e}}));var s={},l=a.version.split(".");function c(e,t){for(var r=t?t.split("."):l,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}o.transitional=function(e,t,r){var n=t&&c(t);function i(e,t){return"[Axios v"+a.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,a,o){if(!1===e)throw new Error(i(a," has been removed in "+t));return n&&!s[a]&&(s[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,o)}},e.exports={isOlderVersion:c,assertOptions:function(e,t,r){if("object"!==i(e))throw new TypeError("options must be an object");for(var n=Object.keys(e),a=n.length;a-- >0;){var o=n[a],s=t[o];if(s){var l=e[o],c=void 0===l||s(l,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:o}},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,r){"use strict";var n=r(5);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e.exports=function(e){return"object"===i(e)&&!0===e.isAxiosError}}])}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};!function(){"use strict";n.r(i),n.d(i,{getIdaasAPI:function(){return Jr},getIdaasService:function(){return Xr},getMiniAppAPI:function(){return Yr},setDefaultSDK:function(){return Q}});var e={};n.r(e),n.d(e,{forEach:function(){return T},isArray:function(){return x},isDate:function(){return I},isJSONstr:function(){return A},isObject:function(){return P},isStandardBrowserEnv:function(){return E},isURLSearchParams:function(){return k},kindOfTest:function(){return C}});var t,r=n(675),a=n.n(r),o=n(570),s=n.n(o),l=n(67),c=n.n(l),u=n(835),d=n.n(u),p=n(226),h=n.n(p),g=n(7),v=n.n(g),m=n(836),y=n.n(m),b=n(314),_=n.n(b),w=Object.prototype.toString,S=(t=Object.create(null),function(e){var r=w.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}),C=function(e){return e=e.toLowerCase(),function(t){return S(t)===e}},k=C("URLSearchParams"),I=C("Date");function P(e){return null!==e&&"object"===_()(e)}var A=function(e){try{return"string"==typeof e&&e.length&&(e=JSON.parse(e))&&P(e)}catch(e){return!1}},x=C("Array");function T(e,t){if(null!=e)if("object"!==_()(e)&&(e=[e]),x(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function E(){var e;if("undefined"!=typeof navigator&&("ReactNative"===(e=navigator.product)||"NativeScript"===e||"NS"===e))return!1;if(window){if(window.__wxjs_environment&&"miniprogram"===window.__wxjs_environment)return!1;var t=window.navigator.userAgent.toLowerCase();if(/MicroMessenger/i.test(t))return!1}return!0}function M(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function R(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(k(t))n=t.toString();else{var i=[];T(t,(function(e,t){null!=e&&(x(e)?t+="[]":e=[e],T(e,(function(e){I(e)?e=e.toISOString():P(e)&&(e=JSON.stringify(e)),i.push(M(t)+"="+M(e))})))})),n=i.join("&")}if(n){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}function O(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function D(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&!O(t)?D(e,t):t}var $=n(693),j=function(){function e(t){d()(this,e),this.requestEngine=void 0,this.requestEngine=(null==t?void 0:t.requestEngine)||(0,$.axiosCreate)({withCredentials:!0})}var t;return h()(e,[{key:"request",value:(t=c()(s()().mark((function e(t){var r,n;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestEngine.request(t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function F(){return{getRequest:W,transformResponse:U,transformConfig:V}}function W(){return B.request}function U(e){var t=e.response,r=e.config,n=t.header,i=+t.statusCode,a=t.errMsg;return{data:t.data,status:i,statusText:a,headers:n,config:r}}function V(e){return e}function q(e,t){return new Promise((function(r,n){var i,a=t?t():F(),o=a.getRequest,s=a.transformResponse,l=a.transformConfig,c=o(),u=e.data,d=e.headers,p={method:e.method?e.method.toUpperCase():"GET",url:R(L(e.baseURL,e.url),e.params,e.paramsSerializer),success:function(t){var i=s({response:t,config:e});!function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Error("Request failed with status code "+r.status)):e(r)}(r,n,i)},fail:function(e){n(e)},complete:function(){i=void 0}};T(d,(function(e,t){var r=t.toLowerCase();(void 0===u&&"content-type"===r||"referer"===r)&&delete d[t]})),p.header=d,e.responseType&&(["text","arraybuffer"].includes(e.responseType)||console.warn("RequestAdapter responseType is expected to be text or arraybuffer"),p.responseType=e.responseType),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(n(e),i.abort&&i.abort(),i=void 0)})),A(u)&&(u=JSON.parse(u)),void 0!==u&&(p.data=u),i=c(l(p))}))}var z,G=a()({buildURL:R,buildFullPath:L,combineURLs:D,isAbsoluteURL:O},e),H=n(339),K=n.n(H),J=new WeakMap;function X(){return z||(void 0!==N?N:void 0)}var Y=function(e){if(!e)return X();var t=J.get(e);return t&&t||X()},Q=function(e){z=e},Z=n(605),ee=n.n(Z),te=G.isObject,re=G.isArray,ne=function(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()},ie=function(e){return e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}))},ae=function e(t,r){var n="camel"===t?ie:ne;if(te(r)){var i={};return Object.keys(r).forEach((function(a){var o=r[a];re(o)?i[n(a)]=function(e,t,r){for(var n=-1,i=null===e?0:e.length,a=new Array(i);++n<i;)a[n]=t(r,e[n]);return a}(o,e,t):te(o)?i[n(a)]=e(t,o):i[n(a)]=o})),i}return r},oe=function(e){return ae("underscore",e)},se=G.combineURLs,le=(G.buildFullPath,function(e,t){var r=arguments.length>3?arguments[3]:void 0;return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(t=oe(t)),G.buildURL(e,t,r)});function ce(e,t){var r=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null===r?null:decodeURIComponent(r[1])||0}function ue(e){return decodeURIComponent(e)}function de(e){var t=e.split("?")[1];return t?t.split("&").reduce((function(e,t){var r=t.split("="),n=ee()(r,2),i=n[0],a=n[1];return e[ue(i)]=ue(a),e}),{}):{}}function pe(e){return e.split("?")[0].split("/")}var he="/idaas-flow",fe={AUTHORIZE:"".concat(he,"/authorize"),TOKEN:"".concat(he,"/oauth/token"),CO:"".concat(he,"/co/authenticate"),API:"".concat(he,"/api"),PASSWORDLESS_START:"".concat(he,"/passwordless/start"),PASSWORDLESS_VERIFY:"".concat(he,"/passwordless/verify"),SIGN_UP_START:"".concat(he,"/signup/start"),SIGN_UP:"".concat(he,"/signup"),USER_INFO:"".concat(he,"/userinfo"),USERNAME_PASSWORD_LOGIN:"".concat(he,"/usernamepassword/login"),UNI_LOGIN:"".concat(he,"/login"),WELL_KNOWN_JSON:"".concat(he,"/jwks.json"),INTERMEDIATE_REDIRECT_URI:"".concat(he,"/intermediate")},ge={CODE:"code",TOKEN:"token"},ve={QUERY:"query",FRAGMENT:"fragment",FROM_POST:"form_post",WEB_MESSAGE:"web_message"},me={WXMP:"wxmp",WXWAP:"wxwap",WXAPP:"wxapp",USERNAMEPASSWORD:"username-password-authentication",SMS:"sms",APPLEAPP:"apple-app",ONECLICK:"oneclick"},ye={PASSWORDLESS:"passwordless",CODE:"authorization_code",REFRESH_TOKEN:"refresh_token",CLIENT_CREDENTIAL:"client_credential"},be={CODE:"code",LINK:"link"},_e={},we={USERNAMEPASSWORD:"username-password-authentication",SMS:"sms"},Se=!1;function Ce(e){Se=e}var ke=function(){var e=Date.now()%1e3;return"".concat((new Date).toLocaleTimeString()," ").concat(e)};var Ie={get i(){return Se?console.log.bind(console,"["+ke()+"]","[idaas info]"):function(){return null}},get w(){return console.warn.bind(console,"["+ke()+"]","[warn]")},get e(){return console.error.bind(console,"["+ke()+"]","[error]")},get assert(){return console.error.bind(console,"["+ke()+"]","[ASSERT]")}};function Pe(){return{getRequest:Ae,transformResponse:xe,transformConfig:Te}}function Ae(){return Y().sendSaaADataPipe}function xe(e){var t,r=e.response,n=e.config;return t=G.isJSONstr(r.data)?JSON.parse(r.data):G.isObject(r.data)?r.data:{},{data:a()({baseResp:{errcode:r.logicRet,errmsg:r.logicErrmsg||"业务请求失败"}},t),status:200,statusText:"tunnel succcess",headers:"",config:n}}function Te(e){var t,r,n,i,o,s=(t="object"===_()(e.data)?a()(a()({},de(e.url)),e.data):a()({},de(e.url))).session_key||"",l=t.api_name||(r=e.url,n=pe(r),i=pe(r).findIndex((function(e){return e===he.replace("/","")})),o=n.slice(i+1),["idaas"].concat(K()(o)).join("_"));return delete t.session_key,delete t.api_name,Ie.i("transformedConfig",{apiName:l,reqData:t,idaasSessionKey:s}),{apiName:l,reqData:JSON.stringify(t),idaasSessionKey:s,success:function(t){Ie.i("datapipe request success",a()({},t)),e.success(t)},fail:function(t){Ie.i("datapipe request fail",a()({},t)),t.errMsg=t.errMsg.replace("sendSaaADataPipe:fail ",""),t.errCode=t.err_code||-1,e.fail(t)}}}var Ee=function(e){v()(r,e);var t=y()(r);function r(){d()(this,r);var e,n=(e=Pe,function(t){return q(t,e)}),i=(0,$.axiosCreate)({adapter:n});return t.call(this,{requestEngine:i})}return h()(r)}(j),Me=G.kindOfTest("string"),Re=G.kindOfTest("number"),Oe=-7e5;function De(e){return e&&e instanceof Error&&Me(e.errMsg)&&Re(e.errCode)}function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"idaas";if(De(e))return e;var r={},n=void 0,i="".concat(t," fail: ");if(e){if(e instanceof Error)(n=e).errCode=Oe,n.errMsg="".concat(i).concat(r.errCode,".").concat(e.message);else if(Me(e))r.errCode=Oe,r.errMsg="".concat(i).concat(r.errCode,".").concat(e);else if(e.errmsg||e.errMsg){var a=e.errmsg||e.errMsg||"",o=e.errcode||e.errCode||Oe;r.errCode=o,r.errMsg="".concat(i).concat(_e[o]||o,".").concat(a)}}else r.errCode=Oe,r.errMsg="".concat(i).concat(r.errCode,".");return n||((n=new Error(r.errMsg)).errMsg=r.errMsg,n.errCode=r.errCode,n)}var Ne=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},Be=function(e){return"function"==typeof e},$e=function(e){if("object"!==_()(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function je(e,t){return t.reduce((function(t,r){return t[r]=e[r],t}),{})}function Fe(e,t){return a()(a()({},e),t)}function We(e){var t=e;return{pick:function(e){return t=je(t,e),this},merge:function(e){return t=Fe(t,e),this},omit:function(e){return t=function(e,t){return Object.keys(e).filter((function(e){return!t.includes(e)})).reduce((function(t,r){return t[r]=e[r],t}),{})}(t,e),this},done:function(){return t}}}function Ue(e,t){return Object.keys(e).reduce((function(t,r){return t.push(e[r]),t}),[]).includes(t)}function Ve(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return function(e){switch(Ne(e)){case"object":return a()({},e);case"array":return e.slice();case"number":return e instanceof Number?new Number(e):e;case"string":return e instanceof String?new String(e):e;case"boolean":return e instanceof Boolean?new Boolean(e):e;case"date":return new e.constructor(+e);case"map":return new Map(e);case"set":return new Set(e);default:return e}}(e);if($e(e))return a()({},e);switch(Ne(e)){case"object":default:return e;case"array":return e.slice()}}var qe=function(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e,null]}))};function ze(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{return e()}catch(e){return De(e)?(e.errMsg+=r,e):Le((e?e.toString():"")+r,t)}}((function(){return e.apply(e,i)}),t,r)}}function Ge(e,t,r){t.complete&&Be(t.complete)&&ze(t.complete,"at api ".concat(e," complete callback function;"))(r)}function He(e,t,r){!function(e,t,r){t.success&&Be(t.success)&&ze(t.success,"at api ".concat(e," success callback function;"))(r)}(e,t,r),Ge(e,t,r)}function Ke(e,t,r){!function(e,t,r){t.fail&&Be(t.fail)&&ze(t.fail,"at api ".concat(e," fail callback function;"))(r)}(e,t,r),Ge(e,t,r)}var Je={errCode:0,errMsg:"ok"};function Xe(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&e.errCode&&null!=e&&e.errMsg)return{errCode:e.errCode,errMsg:e.errMsg};if(null!=i&&i.errCode&&null!=i&&i.errMsg)return{errCode:i.errCode,errMsg:i.errMsg};if(e)return function(){var e=Le.apply(void 0,arguments);return{errCode:e.errCode,errMsg:e.errMsg}}(e,n,_e,!1);var o=a()(a()({},i),{},{errCode:(null==i||null===(t=i.baseResp)||void 0===t?void 0:t.errcode)||Je.errCode,errMsg:(null==i||null===(r=i.baseResp)||void 0===r?void 0:r.errmsg)||Je.errMsg});return o.baseResp&&delete o.baseResp,o}function Ye(e,t,r){return Qe.apply(this,arguments)}function Qe(){return(Qe=c()(s()().mark((function e(t,r,n){var i,a,o,l;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(r(t));case 2:return i=e.sent,a=ee()(i,2),o=a[0],l=a[1],e.abrupt("return",Xe(o,n,l));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){Y().sendSaaAReportData({data:e.apiName,data2:e.extraData,uintData:e.success?0:1,action:12})}var et="weixinAppLogin",tt="wx."+et;function rt(e){return{apiName:et,fn:nt(e)}}function nt(e){return function(r){var n=Ve(r);Ze({apiName:"weixinAppLogin",success:!0,extraData:""}),function(r){Sr(e).then((function(n){n.invoke?new Promise((function(r,n){var i=e.wxaIdaas,a=wr({resolve:r,reject:n,FULL_API_NAME:tt}),o=a.wrapReolve,s=a.wrapReject;i.requestApiWrap(void 0,void 0,t,tt).then((function(e){i.getSocialCodeAndAuthorize({getCodeRet:e,resolve:o,reject:s})}))})).then((function(e){He(et,r,e)})).catch((function(e){Ke(et,r,e)})):Ke(et,r,Xe(n.msg,et))}))}(n)};function t(){return new Promise((function(e,t){try{Y().miniAppLogin({success:function(r){!function(r){r.code?e({code:r.code,connection:me.WXAPP}):t(Le(r.errMsg||"get code error",tt))}(r)},fail:function(e){var r=e.errMsg.replace("sendOpenReq:fail","");t(Le(r,tt))}})}catch(e){t(Le(e,tt))}}))}}var it=f,at=it,ot=function(e){return null===(e=it.host)||void 0===e?void 0:e.env}(),st=function(){return"SAAASDK"===ot}(),lt="ios"===it.platform,ct=(it.platform,"devtools"===it.platform);function ut(){return Y().getIdentityServiceConfig()}var dt="getMiniProgramCode",pt="wx."+dt;function ht(e){return{apiName:dt,fn:gt(e)}}var ft=void 0;function gt(e){return function(t){var r=Ve(t);Ze({apiName:"getMiniProgramCode",success:!0,extraData:""}),function(t){Sr(e).then((function(r){r.invoke?new Promise((function(t,r){var n=e.wxaIdaas,i=e.innerService,a=wr({resolve:t,reject:r,FULL_API_NAME:pt}),o=a.wrapReolve,s=a.wrapReject,l=function(e){var t={apiName:"idaas_get_miniprogram_code",sessionKey:e};n.requestApiWrap({data:t},n.authClient,n.authClient.request,pt).then((function(e){0===e.errCode?o(e):s(e)}))},c=function(e){return new Promise((function(t){var r=function(){return Y().navigateTo({url:e,events:{__donutLogin__:function(e){Ie.i("emit __donutLogin__",e),t({errCode:e.success?0:1})}},success:function(e){Ie.i("navigateTo success",e)},fail:function(e){Ie.i("navigateTo fail",e),t({errCode:-1})}})};if(ct)var n=setTimeout((function(){r(),clearTimeout(n)}),500);else r()}))};i.getSysAccessTokenInfoAsync().then((function(e){Ie.i("getMiniProgramCode",e),e.sysAccessToken?l(e.sysAccessToken):ut().then((function(e){if(e.miniprogramLoginPath){if(-1!==e.miniprogramLoginPath.indexOf("__default__"))return s(Xe("工具暂不支持 __default__ 登录页",pt)),void console.error("工具暂不支持 __default__ 登录页，配置详情请查看 https://dev.weixin.qq.com/docs/framework/guideline/devtools/auth.html?utm_source=devtools");ft||(ft=c(e.miniprogramLoginPath)),ft.then((function(e){0===e.errCode?i.getSysAccessTokenInfoAsync().then((function(e){return l(e.sysAccessToken)})):s(Xe("系统登录页登录失败",pt))})).finally((function(){ft=void 0}))}else s(Xe("无系统登录态并且缺失系统登录页",pt))}))}))})).then((function(e){He(dt,t,e)})).catch((function(e){Ke(dt,t,e)})):Ke(dt,t,Xe(r.msg,dt))}))}(r)}}var vt="phoneSmsLogin",mt="wx."+vt;function yt(e){return{apiName:vt,fn:bt(e)}}function bt(e){return function(t){var r=Ve(t);Ze({apiName:"phoneSmsLogin",success:!0,extraData:""}),r.connection=me.SMS,function(t){Sr(e).then((function(r){r.invoke?function(t){return new Promise((function(r,n){var i=e.wxaIdaas,a=wr({resolve:r,reject:n,FULL_API_NAME:mt}),o=a.wrapReolve,s=a.wrapReject;i.requestApiWrap(t,i,i.authorize,mt).then((function(e){0===e.errCode?o(e):s(e)}))}))}(t).then((function(e){He(vt,t,e)})).catch((function(e){Ke(vt,t,e)})):Ke(vt,t,Xe(r.msg,vt))}))}(r)}}var _t="getIdentityCode",wt="wx."+_t;function St(e){return{apiName:_t,fn:Ct(e)}}function Ct(e){return function(t){!function(t){Sr(e).then((function(r){r.invoke?new Promise((function(t,r){var n=e.wxaIdaas,i=e.innerService,a=wr({resolve:t,reject:r,FULL_API_NAME:wt}),o=a.wrapReolve,s=a.wrapReject;i.getSysAccessTokenInfoAsync().then((function(e){if(Ie.i("@@ GetIdentityCode",e),!e.sysAccessToken)return s(Xe("系统登录态已失效",wt));var t={apiName:"idaas_get_identity_code",sessionKey:e.sysAccessToken};n.requestApiWrap({data:t},n.authClient,n.authClient.request,wt).then((function(e){0===e.errCode?o(e):s(e)}))}))})).then((function(e){He(_t,t,e)})).catch((function(e){Ke(_t,t,e)})):Ke(_t,t,Xe(r.msg,_t))}))}(Ve(t))}}var kt="checkIdentitySession",It="wx."+kt;function Pt(e){return{apiName:kt,fn:At(e)}}function At(e){return function(t){!function(t){Sr(e).then((function(r){r.invoke?new Promise((function(t,r){var n=e.innerService,i=wr({resolve:t,reject:r,FULL_API_NAME:It}),a=i.wrapReolve,o=i.wrapReject;n.getSysAccessTokenInfoAsync().then((function(e){return Ie.i("@@ CheckIdentitySession",e),e.sysAccessToken?a({errCode:0}):o(Xe("系统登录态已失效",It))}))})).then((function(e){He(kt,t,e)})).catch((function(e){Ke(kt,t,e)})):Ke(kt,t,Xe(r.msg,kt))}))}(Ve(t))}}var xt="logout",Tt="wx."+xt;function Et(e){return{apiName:xt,fn:Mt(e)}}function Mt(e){return function(t){!function(t){new Promise((function(t,r){var n=e.tokenManager,i=wr({resolve:t,reject:r,FULL_API_NAME:Tt}).wrapReolve;n.clearTokens(),i({errCode:0})})).then((function(e){He(xt,t,e)})).catch((function(e){Ke(xt,t,e)}))}(Ve(t))}}var Rt="appleLogin",Ot="wx."+Rt;function Dt(e){return{apiName:Rt,fn:Lt(e)}}function Lt(e){return function(r){var n=Ve(r);Ze({apiName:"appleLogin",success:!0,extraData:""}),function(r){Sr(e).then((function(n){n.invoke?new Promise((function(r,n){var i=e.wxaIdaas,a=wr({resolve:r,reject:n,FULL_API_NAME:Ot}),o=a.wrapReolve,s=a.wrapReject;return st?lt?void i.requestApiWrap(void 0,void 0,t,Ot).then((function(e){i.getSocialCodeAndAuthorize({getCodeRet:e,resolve:o,reject:s})})):s(Xe("不支持在非 iOS 环境内使用该接口",Ot)):s(Xe("不支持在非多端真机环境中使用该接口",Ot))})).then((function(e){He(Rt,r,e)})).catch((function(e){Ke(Rt,r,e)})):Ke(Rt,r,Xe(n.msg,Rt))}))}(n)};function t(){return new Promise((function(e,t){Y().invokeMethod("appleLogin",{complete:function(r){Ie.i("getAppleLoginParams getCode",r),r.code?e({code:r.code,connection:me.APPLEAPP}):(r.errMsg=r.errMsg.replace(/appleLogin:fail,?/g,""),t(Le(r.errMsg||"get code error",Ot)))}})}))}}var Nt="weixinMiniProgramLogin",Bt="wx."+Nt;function $t(e){return{apiName:Nt,fn:jt(e)}}function jt(e){return function(r){var n=Ve(r);Ze({apiName:"weixinMiniProgramLogin",success:!0,extraData:""}),function(r){Sr(e).then((function(n){n.invoke?function(r){return new Promise((function(n,i){var a=e.wxaIdaas,o=wr({resolve:n,reject:i,FULL_API_NAME:Bt}),s=o.wrapReolve,l=o.wrapReject;a.requestApiWrap(r,void 0,t,Bt).then((function(e){a.getSocialCodeAndAuthorize({getCodeRet:e,resolve:s,reject:l})}))}))}(r).then((function(e){He(Nt,r,e)})).catch((function(e){Ke(Nt,r,e)})):Ke(Nt,r,Xe(n.msg,Nt))}))}(n)};function t(e){return new Promise((function(t,r){(ct?Ut:Wt)(e).then((function(e){var r=ct?"MULTIMODULEID":at.accountInfo.appId;t({code:e.code,connection:me.WXMP,multiModuleId:r})})).catch((function(e){return r(Le(e,Bt))}))}))}}var Ft=1;function Wt(e){return new Promise((function(t,r){Ft++,ut().then((function(n){var i,a=null!==(i=n.authorizeMiniprogramType)&&void 0!==i?i:0,o="/donutAuthorize__/pages/miniProgramLoginAuthorize/miniProgramLoginAuthorize",s=n.userName;if(n.userName||r("缺少 identityServiceConfig 配置"),Ie.i("jumpToMiniprogramAndAuthorize params",{userName:s,path:o,callbackIdForOpenWechatCount:Ft,miniprogramType:a}),e.redirectPath){var l=e.redirectPath;o+="?redirectPath=".concat(l.startsWith("/")?"":"/").concat(e.redirectPath)}Y().launchMiniProgram({userName:s,path:o,callbackIdForOpenWechat:Ft,extData:"",miniprogramType:a,success:function(e){if(Ie.i("jumpToMiniprogramAndAuthorize",e),"string"==typeof e.extMsg){var n,i={};try{i=JSON.parse(e.extMsg)}catch(e){return r("获取小程序登录凭证失败")}return(n=i.data)?t({code:n}):r("获取小程序登录凭证失败")}return r("获取小程序登录凭证失败")},fail:function(e){Ie.i("jumpToMiniprogramAndAuthorize fail ",JSON.stringify(e)),r(e.errMsg||"跳转小程序返回失败")}})}))}))}function Ut(){return new Promise((function(e,t){Y().miniprogramLogin({complete:function(r){r.code?e({code:r.code}):t(r.errMsg)}})}))}var Vt="phoneOneClickLogin",qt="wx."+Vt;function zt(e){return{apiName:Vt,fn:Gt(e)}}function Gt(e){return function(t){!function(t){var r,n=null!==(r=Kt.getPhoneOncClickLoginContext())&&void 0!==r?r:{},i=n.msgId,o=n.tokenList;Sr(e).then((function(r){r.invoke?i&&o?(t.msgId=i,t.tokenList=JSON.stringify(o),t.connection=me.ONECLICK,function(t){return new Promise((function(r,n){var i=e.wxaIdaas,o=wr({resolve:r,reject:n,FULL_API_NAME:qt}),s=o.wrapReolve,l=o.wrapReject,c=a()(a()({},t),{},{extends:{tokenList:JSON.parse(t.tokenList)}});i.requestApiWrap(c,i,i.authorize,qt).then((function(e){0===e.errCode?s(e):l(e)}))}))}(t).then((function(e){He(Vt,t,e)})).catch((function(e){Ke(Vt,t,e)}))):Ke(Vt,t,Xe("缺少前置调用 wx.getPhoneMask 的信息",Vt)):Ke(Vt,t,Xe(r.msg,Vt))}))}(Ve(t))}}var Ht,Kt=(Ht=void 0,{getPhoneOncClickLoginContext:function(){return Ht},setPhoneOncClickLoginContext:function(e){Ht=e},clearPhoneOncClickLoginContext:function(){Ht=void 0}}),Jt=[301,302];function Xt(e,t,r){Y().forceCellularNetwork({data:e,success:function(e){var n;Jt.includes(null!==(n=e.data.statusCode)&&void 0!==n?n:200)?Xt({url:e.data.location},t,r):t(e)},fail:function(t){r(a()({err:t},e))}})}function Yt(e){return new Promise((function(t,r){return Xt(e,t,r)}))}var Qt="getPhoneMask",Zt="wx."+Qt,er=console;function tr(e){return{apiName:Qt,fn:rr(e)}}function rr(e){return function(n){er.log("[idaas info] start getPhoneMask: ",(new Date).toISOString());var i=Ve(n);Ze({apiName:"getPhoneMask",success:!0,extraData:""}),function(n){Sr(e).then((function(e){e.invoke?new Promise(function(){var e=c()(s()().mark((function e(n,i){var a,o,l,c,u;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wr({resolve:n,reject:i,FULL_API_NAME:Zt}),o=a.wrapReolve,l=a.wrapReject,er.log("[idaas info] start getOperatorGWUrl: ",(new Date).toISOString()),e.next=4,t(l);case 4:if(c=e.sent,er.log("[idaas info] finish getOperatorGWUrl: ",(new Date).toISOString()),!c.errCode){e.next=8;break}return e.abrupt("return");case 8:u=function(e,t){Kt.setPhoneOncClickLoginContext(t),o(e)},r(c,u,l);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()).then((function(e){He(Qt,n,e)})).catch((function(e){Ke(Qt,n,e)})):Ke(Qt,n,Xe(e.msg,Qt))}))}(i)};function t(t){var r=e.wxaIdaas;return new Promise((function(e){r.requestApiWrap({data:{apiName:"idaas_get_operator_gw_url"}},r.authClient,r.authClient.request,Zt).then((function(r){0===r.errCode?e({msgId:r.msgId,urlList:r.urlList}):(e({errCode:r.errCode}),r.errMsg=r.errMsg+" at getOperatorGWUrl",t(Le(r,Zt)))}))}))}function r(t,r,n){var i,o,s,l=0,c=function(e){l++,i=e,l===t.urlList.length&&(n(i,Zt),o=void 0)};o=t.urlList.map((function(r){return new Promise((function(n){var i=function(e,t){s=t,n(e)};(function(e){return er.log("[idaas info] start requestGWURL: ",(new Date).toISOString()),function(e){return lt?Yt({url:e}):new Promise((function(t,r){Y()._requestSkipCheckDomain({url:e,forceCellularNetwork:!0,success:t,fail:r})}))}(e.url).then((function(t){er.log("[idaas info] requestGWURL success: ",(new Date).toISOString()),Ie.i("getTokenList success",t);var r=t.data,n=e.channel,i=JSON.stringify(r);return Ze({apiName:"".concat(Zt,"_requestGWURL"),success:!0,extraData:JSON.stringify({urlItem:e,res:t})}),{channel:n,data:i}})).catch((function(t){return er.log("[idaas info] requestGWURL failed!: ",(new Date).toISOString()),er.error("[idaas info] getTokenList fail with channel",e.channel,t),Ze({apiName:"".concat(Zt,"_requestGWURL"),success:!1,extraData:JSON.stringify({urlItem:e,error:t})}),t}))})(r).then((function(r){if(r.data){var n=[r];!function(t,r,n){var i=e.wxaIdaas,o=a()({apiName:"idaas_get_phone_mask"},t);i.requestApiWrap({data:o},i.authClient,i.authClient.request,Zt).then((function(e){0===e.errCode?r(e,t):n(e)}))}({msgId:t.msgId,tokenList:n},i,c)}else{var o,s,l,u={errCode:null!=r&&r.err?(null===(o=r.err)||void 0===o?void 0:o.errCode)||(null===(s=r.err)||void 0===s?void 0:s.err_code):(null==r?void 0:r.errCode)||(null==r?void 0:r.err_code),errMsg:null!=r&&r.err?null===(l=r.err)||void 0===l?void 0:l.errMsg:null==r?void 0:r.errMsg};c(Le(u))}}))}))})),Promise.race(o).then((function(e){return r(e,s)}))}}var nr="miniapp.bindWeixin",ir="wx."+nr;function ar(e){return{apiName:nr,fn:or(e)}}function or(e){return function(e){var r=Ve(e);Ze({apiName:"miniapp.bindWeixin",success:!0,extraData:""}),function(e){t.apply(this,arguments)}(r)};function t(){return t=c()(s()().mark((function t(r){var n,i,a;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr(e,{checkLogin:!0});case 2:n=t.sent,i=n.invoke,a=n.msg,i?new Promise((function(t,r){var n,i=e.wxaIdaas,a=wr({resolve:t,reject:r,FULL_API_NAME:ir}),o=a.wrapReolve,l=a.wrapReject;Y().miniAppLogin({success:(n=c()(s()().mark((function t(r){var n,a,c;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.code){t.next=2;break}return t.abrupt("return",l(Le("获取微信 code 失败",ir)));case 2:return t.next=4,null===(n=e.innerService)||void 0===n?void 0:n.getSysAccessTokenInfoAsync();case 4:a=t.sent,c={apiName:"idaas_bind_wechat",sessionKey:null==a?void 0:a.sysAccessToken,socialCode:r.code},i.requestApiWrap({data:c},i.authClient,i.authClient.request,ir).then((function(e){0===e.errCode?o(e):l(e)}));case 7:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),fail:function(e){var t=e.errMsg.replace("sendOpenReq:fail","");l(Le(t,ir))}})})).then((function(e){He(nr,r,e)})).catch((function(e){Ke(nr,r,e)})):Ke(nr,r,Xe(a,nr));case 6:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}}var sr="miniapp.bindApple",lr="wx."+sr;function cr(e){return{apiName:sr,fn:ur(e)}}function ur(e){return function(e){!function(e){t.apply(this,arguments)}(Ve(e))};function t(){return t=c()(s()().mark((function t(r){var n,i,a;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr(e,{checkLogin:!0});case 2:n=t.sent,i=n.invoke,a=n.msg,i?new Promise((function(t,r){var n,i=e.wxaIdaas,a=wr({resolve:t,reject:r,FULL_API_NAME:lr}),o=a.wrapReolve,l=a.wrapReject;Y().invokeMethod("appleLogin",{complete:(n=c()(s()().mark((function t(r){var n,a,c;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.code){t.next=2;break}return t.abrupt("return",l(r));case 2:return t.next=4,null===(n=e.innerService)||void 0===n?void 0:n.getSysAccessTokenInfoAsync();case 4:a=t.sent,c={apiName:"idaas_bind_apple",sessionKey:null==a?void 0:a.sysAccessToken,socialCode:r.code},i.requestApiWrap({data:c},i.authClient,i.authClient.request,lr).then((function(e){0===e.errCode?o(e):l(e)}));case 7:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)})})})).then((function(e){He(sr,r,e)})).catch((function(e){Ke(sr,r,e)})):Ke(sr,r,Xe(a,sr));case 6:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}}var dr="miniapp.bindPhone",pr="wx."+dr;function hr(e){return{apiName:dr,fn:fr(e)}}function fr(e){return function(e){!function(e){t.apply(this,arguments)}(Ve(e))};function t(){return(t=c()(s()().mark((function t(n){var i,a,o;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.phoneNumber){t.next=2;break}return t.abrupt("return",Ke(dr,n,Xe("缺失 phoneNumber",dr)));case 2:if(n.verifyCode){t.next=4;break}return t.abrupt("return",Ke(dr,n,Xe("缺失 verifyCode",dr)));case 4:return t.next=6,Sr(e,{checkLogin:!0});case 6:i=t.sent,a=i.invoke,o=i.msg,a?r(n).then((function(e){He(dr,n,e)})).catch((function(e){Ke(dr,n,e)})):Ke(dr,n,Xe(o,dr));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(t){return new Promise((function(r,n){var i,a=e.wxaIdaas,o=wr({resolve:r,reject:n,FULL_API_NAME:pr}),s=o.wrapReolve,l=o.wrapReject;null===(i=e.innerService)||void 0===i||i.getSysAccessTokenInfoAsync().then((function(e){var r={apiName:"idaas_bind_phone",sessionKey:null==e?void 0:e.sysAccessToken,phoneNumber:t.phoneNumber,verifyCode:t.verifyCode};a.requestApiWrap({data:r},a.authClient,a.authClient.request,pr).then((function(e){0===e.errCode?s(e):l(e)}))}))}))}}var gr="miniapp.checkBindInfo",vr="wx."+gr;function mr(e){return{apiName:gr,fn:yr(e)}}function yr(e){return function(e){!function(e){t.apply(this,arguments)}(Ve(e))};function t(){return(t=c()(s()().mark((function t(r){var n,i,a;return s()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr(e,{checkLogin:!0});case 2:n=t.sent,i=n.invoke,a=n.msg,i?new Promise((function(t,r){var n,i=e.wxaIdaas,a=wr({resolve:t,reject:r,FULL_API_NAME:vr}),o=a.wrapReolve,s=a.wrapReject;null===(n=e.innerService)||void 0===n||n.getSysAccessTokenInfoAsync().then((function(e){var t={apiName:"idaas_check_bind_info",sessionKey:null==e?void 0:e.sysAccessToken};i.requestApiWrap({data:t},i.authClient,i.authClient.request,vr).then((function(e){0===e.errCode?o(e):s(e)}))}))})).then((function(e){He(gr,r,e)})).catch((function(e){Ke(gr,r,e)})):Ke(gr,r,Xe(a,gr));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}function br(e){return e.registerService(function(e){var t={wxaIdaas:e.wxaIdaas,tokenManager:e.tokenManager,innerService:e.innerService};return[rt,yt,ht,St,Pt,Et,Dt,$t,tr,ar,cr,hr,mr].map((function(e){return e(t)}))}(e))}function _r(e,t){0!==e.errCode?e.errMsg=e.errMsg.replace(new RegExp("^.*".concat(e.errCode,"\\.")),"".concat(t," fail: ").concat(e.errCode,".")):e.errMsg="".concat(t," success: ok.")}function wr(e){var t=e.resolve,r=e.reject,n=e.FULL_API_NAME;return{wrapReolve:function(e){_r(e,n),t(e),Ze({apiName:n,success:!0})},wrapReject:function(e){_r(e,n),r(e),Ze({apiName:n,success:!1,extraData:JSON.stringify(e)})}}}function Sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{checkLogin:!1};return new Promise(function(){var r=c()(s()().mark((function r(n){var i,a,o,l;return s()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=function(e,t){n({invoke:e,msg:t})},st){r.next=3;break}return r.abrupt("return",i(!1,"暂不支持非多端环境中使用该接口"));case 3:if(!t.checkLogin){r.next=9;break}return r.next=6,null===(a=e.innerService)||void 0===a?void 0:a.getSysAccessTokenInfoAsync();case 6:if((o=r.sent)&&o.sysAccessToken){r.next=9;break}return r.abrupt("return",i(!1,"缺失系统登录态"));case 9:if(!e.wxaIdaas.authClient.getBaseOptions().clientId){r.next=11;break}return r.abrupt("return",i(!0,"ok"));case 11:return r.next=13,ut();case 13:if((l=r.sent).clientId){r.next=16;break}return r.abrupt("return",i(!1,"调用失败，请先开通多端身份管理"));case 16:e.wxaIdaas.authClient.setClientId(l.clientId),i(!0,"ok");case 18:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}function Cr(e){return Y().getSysAccessTokenInfoAsync}var kr="sendPhoneSms",Ir="wx."+kr;function Pr(e){return{apiName:kr,fn:Ar(e)}}function Ar(e){return function(t){var r=Ve(t);r.connection=me.SMS,r.send=be.CODE,function(t){Sr(e).then((function(r){r.invoke?function(t){return new Promise((function(r,n){var i=e.wxaIdaas,a=wr({resolve:r,reject:n,FULL_API_NAME:Ir}),o=a.wrapReolve,s=a.wrapReject;i.requestApiWrap(t,i.authClient.passwordless,i.authClient.passwordless.start,Ir).then((function(e){0===e.errCode?o(e):s(e)}))}))}(t).then((function(e){He(kr,t,e)})).catch((function(e){Ke(kr,t,e)})):Ke(kr,t,Xe(r.msg,kr))}))}(r)}}function xr(e){var t={wxaIdaas:e.wxaIdaas,tokenManager:e.tokenManager};return[].concat(K()([{apiName:"getSysAccessTokenInfoAsync",fn:Cr()}]),[zt(t),Pr(t)])}var Tr=n(33),Er=n.n(Tr),Mr=n(408),Rr=n.n(Mr),Or=n(823),Dr=n.n(Or),Lr=G.kindOfTest;function Nr(e,t,r){for(var n=void 0,i=function(t){return"_"===t?e:e[t]},a=0;a<t.length;a++){var o,s,l=t[a],c=l.key,u=i(c);if(void 0===u&&null!==(o=l.required)&&void 0!==o&&o){n=Le(l.message||"缺少字段 ".concat(c),r+" Params Check");break}if(void 0!==u&&l.type&&!Lr(l.type)(u)){n=Le(l.message||"".concat(c," 应该是 ").concat(l.type," 类型"),r+" Params Check");break}if(void 0!==u&&l.condition){var d=l.condition(u),p=ee()(d,2),h=p[0],f=p[1];if(!h){n=Le(f||l.message||"".concat(c," 参数错误"),r+" Params Check");break}}if(null!==(s=l.depends)&&void 0!==s&&s.length)for(var g=0;g<l.depends.length;g++){var v=l.depends[g];if((Lr("function")(v.when)?v.when(u):v.when===u)&&(n=Nr(e,v.meets,r)))return Xe(n)}}return n?Xe(n):void 0}var Br=Dr()({},fe.AUTHORIZE,{responseType:ge.CODE,responseMode:ve.QUERY,scope:"openid"}),$r=function(){function e(t){d()(this,e),this.baseOptions=void 0,this.requestClient=void 0,this.baseOptions=t,this.baseOptions.audience||(this.baseOptions.audience=t.clientId),this.requestClient=new t.requestAdapter}return h()(e,[{key:"buildAuthorizeUrl",value:function(e){return Nr(e,[{key:"clientId",required:!0,type:"string"},{key:"responseType",required:!0,type:"string",condition:function(e){return[e.split(" ").every((function(e){return Ue(ge,e)})),"invalid response type"]}},{key:"responseMode",required:!0,type:"string",condition:function(e){return[Ue(ve,e),"invalid response mode"]}},{key:"scope",required:!0,type:"string"},{key:"audience",required:!0,type:"string"}],"Build Authorize Url")||le(this.getEndPointURL(fe.AUTHORIZE),e)}},{key:"oauthToken",value:function(e){var t=Nr(e,[{key:"clientId",required:!0,type:"string"},{key:"clientSecret",required:!1,type:"string",depends:[{when:function(){return void 0===e.codeVerifier&&"refresh_token"!==e.grantType},meets:[{key:"clientSecret",required:!0,type:"string"}]}]},{key:"grantType",required:!0,type:"string",condition:function(e){return[Ue(ye,e),"invalid grand type"]},depends:[{when:ye.CODE,meets:[{key:"code",required:!0,type:"string"}]},{when:ye.REFRESH_TOKEN,meets:[{key:"refreshToken",required:!0,type:"string"}]},{when:ye.PASSWORDLESS,meets:[{key:"username",required:!0,type:"string"},{key:"otp",required:!0,type:"string"},{key:"connection",required:!0,type:"string",condition:function(e){return[[me.SMS].includes(e),"invalid connection"]}},{key:"scope",required:!0,type:"string"},{key:"audience",required:!0,type:"string"}]},{when:ye.CLIENT_CREDENTIAL,meets:[{key:"audience",required:!0,type:"string"}]}]}],"Oauth Token");return t?Promise.reject(t):this.request({method:"POST",url:this.getEndPointURL(fe.TOKEN),data:e})}},{key:"request",value:function(e){var t=this;return new Promise((function(r,n){t.requestClient.request(e).then((function(e){var t;0!==(null==e||null===(t=e.baseResp)||void 0===t?void 0:t.errcode)?n(Le(null==e?void 0:e.baseResp,"Authentication Request")):r(e)})).catch((function(e){var t=Le(e,"Authentication Request");n(t)}))}))}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return e.data=oe(e.data),e})),this.requestClient.requestEngine.interceptors.response.use((function(e){var t;return e.data=(t=e.data,ae("camel",t)),Ie.i("[Authenticate Request Client Response]: ",null==e?void 0:e.data),e}))}},{key:"getEndPointURL",value:function(e){var t=this.baseOptions.domain,r=null!=t&&t.startsWith("http")?t:"https://"+t;return se(r,e)}},{key:"uniLoginCallback",value:function(e){var t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t),t.children[0].submit()}},{key:"setClientId",value:function(e){this.baseOptions.clientId=e,this.baseOptions.audience=this.baseOptions.audience||e}}]),e}(),jr=/^(\+\d+ )?\d{10}/,Fr=function(e){v()(n,e);var t,r=y()(n);function n(e){var t;return d()(this,n),(t=r.call(this,e)).setUpRequestClient(),t}return h()(n,[{key:"start",value:function(e){var t=Nr(e,[{key:"connection",required:!0,type:"string",condition:function(e){return[n.connections.includes(e),"invalid connection"]},depends:[{when:function(e){return n.connections.includes(e)},meets:[{key:"phoneNumber",required:!0,condition:function(e){return[jr.test(e),"invalid phoneNumber"]}}]},{when:me.SMS,meets:[{key:"send",required:!0,condition:function(e){return[e===be.CODE,"sendType is expected to be code when connection is sms"]}},{key:"smsType",type:"number",required:!0,condition:function(e){return[[0,1].includes(e),"invalid smsType"]}}]}]}],"Passwordless Start"),r=We(this.baseOptions).merge(e).pick(["clientId","clientSecret","connection","phoneNumber","send","appType","smsType"]).done();return t?Promise.reject(t):this.request({method:"POST",url:this.getEndPointURL(fe.PASSWORDLESS_START),data:r})}},{key:"authorize",value:function(e){var t=Nr(e,[{key:"connection",required:!0,condition:function(e){return[n.connections.includes(e),"invalid connextion"]},depends:[{when:me.SMS,meets:[{key:"phoneNumber",required:!0},{key:"verifyCode",required:!0}]},{when:me.ONECLICK,meets:[{key:"msgId",required:!0},{key:"tokenList",required:!0}]}]}],"Passwordless Authorize"),r=We(Br[fe.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","appType","connection","phoneNumber","verifyCode","responseMode","responseType","scope","audience","msgId","tokenList"]).done();return t||Er()(Rr()(n.prototype),"buildAuthorizeUrl",this).call(this,r)}},{key:"login",value:(t=c()(s()().mark((function e(t){var r,n;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr(t,[{key:"connection",required:!0,condition:function(e){return[e===me.SMS,"connection should be ".concat(me.SMS)]},depends:[{when:me.SMS,meets:[{key:"username",required:!0,condition:function(e){return[jr.test(e),"invalid phoneNumber"]}},{key:"password",required:!0,type:"string"}]}]}],"Passwordless Login"),r=We(this.baseOptions).merge(t).pick(["clientId","connection","username","password"]).done(),n=ce(window.location.search,"state")||"",e.abrupt("return",this.request({method:"POST",url:le(this.getEndPointURL(fe.UNI_LOGIN),{state:n}),data:r}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"oauthToken",value:function(e){Nr(e,[{key:"grantType",required:!0,condition:function(e){return[e===ye.PASSWORDLESS,"grantType should be passwordless"]}}],"Passwordless Oauth Token");var t=We(Br[fe.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","clientSecret","grantType","connection","username","otp","scope","audience"]).done();return Er()(Rr()(n.prototype),"oauthToken",this).call(this,t)}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return Ie.i("[Passwordless Request Client Request]: ",e.url,e.data),e})),Er()(Rr()(n.prototype),"setUpRequestClient",this).call(this)}}]),n}($r);Fr.connections=[me.SMS,me.ONECLICK];var Wr=function(e){v()(r,e);var t=y()(r);function r(e){var n;return d()(this,r),(n=t.call(this,e)).setUpRequestClient(),n}return h()(r,[{key:"login",value:function(e){Nr(e,[{key:"connection",required:!0,condition:function(e){return[[me.USERNAMEPASSWORD,me.SMS].includes(e),"invalid connection for cross orgin authentication"]}},{key:"password",required:!0,type:"string"},{key:"username",required:!0,type:"string"}],"Cross Origin Login");var t=We(this.baseOptions).merge(e).pick(["clientId","connection","password","username"]).done();return this.request({method:"POST",url:this.getEndPointURL(fe.CO),data:t})}},{key:"authorize",value:function(e){var t=Nr(e,[{key:"loginTicket",required:!0},{key:"connection",required:!0,condition:function(e){return[[me.USERNAMEPASSWORD,me.SMS].includes(e),"invalid connection for cross orgin authentication"]}}],"Cross Origin Authorize"),n=We(Br[fe.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","responseType","responseMode","redirectUri","scope","loginTicket","connection","audience","codeChallenge","codeChallengeMethod"]).done();return t||Er()(Rr()(r.prototype),"buildAuthorizeUrl",this).call(this,n)}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return Ie.i("[Crossorigin Request Client Request]: ",e.url,e.data),e})),Er()(Rr()(r.prototype),"setUpRequestClient",this).call(this)}}]),r}($r),Ur=function(e){v()(r,e);var t=y()(r);function r(e){var n;return d()(this,r),(n=t.call(this,e)).setUpRequestClient(),n}return h()(r,[{key:"authorize",value:function(e){var t=Nr(e,[{key:"connection",required:!0,condition:function(e){return[r.connections.includes(e),"invalid social connection"]},depends:[{when:function(e){return[me.WXAPP,me.APPLEAPP].includes(e)},meets:[{key:"socialCode",required:!0,type:"string"}]},{when:function(e){return[me.WXMP].includes(e)},meets:[{key:"socialCode",required:!0,type:"string"},{key:"multiModuleId",required:!0,type:"string"}]}]}],"Social Authorize"),n=We(Br[fe.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","appType","responseType","responseMode","redirectUri","scope","connection","audience","socialCode","codeChallenge","codeChallengeMethod","multiModuleId"]).done();return t||Er()(Rr()(r.prototype),"buildAuthorizeUrl",this).call(this,n)}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return Ie.i("[Socail Authentication Request Client Request]: ",e.url,e.data),e})),Er()(Rr()(r.prototype),"setUpRequestClient",this).call(this)}}]),r}($r);Ur.connections=[me.WXWAP,me.WXMP,me.WXAPP,me.APPLEAPP];var Vr=/^(\+\d+ )?\d{10}/,qr=function(e){v()(r,e);var t=y()(r);function r(e){var n;return d()(this,r),(n=t.call(this,e)).setUpRequestClient(),n}return h()(r,[{key:"start",value:function(e){Nr(e,[{key:"connection",required:!0,type:"string",condition:function(e){return[we.SMS===e,"invalid connection"]},depends:[{when:we.SMS,meets:[{key:"phoneNumber",required:!0,condition:function(e){return[Vr.test(e),"invalid phoneNumber"]}},{key:"send",required:!0,condition:function(e){return[e===be.CODE,"sendType is expected to be code when connection is sms"]}}]}]}],"Sign Up Start");var t=We(this.baseOptions).merge(e).pick(["clientId","phoneNumber","connection","send"]).done();return this.request({method:"POST",url:this.getEndPointURL(fe.SIGN_UP_START),data:t})}},{key:"signUp",value:function(e){Nr(e,[{key:"account",required:!0,type:"string"},{key:"connection",required:!0,condition:function(e){return[Ue(we,e),"invalid connection"]},depends:[{when:we.SMS,meets:[{key:"otp",required:!0,type:"string"}]},{when:we.USERNAMEPASSWORD,meets:[{key:"password",required:!0,type:"string"}]}]},{key:"extraInfo",required:!1,type:"object"}],"Sign Up");var t=We(this.baseOptions).merge(this.baseOptions).merge(e).pick(["clientId","account","otp","password","connection","extraInfo"]).done();return this.request({method:"POST",url:this.getEndPointURL(fe.SIGN_UP),data:t})}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return Ie.i("[Sign Up Request Client Request]: ",e.url,e.data),e})),Er()(Rr()(r.prototype),"setUpRequestClient",this).call(this)}}]),r}($r),zr=function(e){v()(n,e);var t,r=y()(n);function n(e){var t;return d()(this,n),(t=r.call(this,e)).setUpRequestClient(),t}return h()(n,[{key:"login",value:(t=c()(s()().mark((function e(t){var r,n;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr(t,[{key:"connection",required:!0,condition:function(e){return[me.USERNAMEPASSWORD===e,"invalid connection for username password login"]}},{key:"password",required:!0,type:"string"},{key:"username",required:!0,type:"string"}],"Universal Login"),r=We(this.baseOptions).merge(t).pick(["clientId","connection","password","username"]).done(),n=ce(window.location.search,"state")||"",e.abrupt("return",this.request({method:"POST",url:le(this.getEndPointURL(fe.UNI_LOGIN),{state:n}),data:r}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return Ie.i("[Universal Username Password Request Client Request]: ",e.url,e.data),e})),Er()(Rr()(n.prototype),"setUpRequestClient",this).call(this)}}]),n}($r),Gr=function(e){v()(r,e);var t=y()(r);function r(e){var n;return d()(this,r),(n=t.call(this,e)).passwordless=void 0,n.crossorigin=void 0,n.social=void 0,n.signup=void 0,n.usernamepassword=void 0,n.setUpRequestClient(),n.registerServices(e),void 0!==e.debug&&Ce(e.debug),n}return h()(r,[{key:"registerServices",value:function(e){this.passwordless=new Fr(e),this.crossorigin=new Wr(e),this.social=new Ur(e),this.signup=new qr(e),this.usernamepassword=new zr(e)}},{key:"buildAuthorizeUrl",value:function(e){var t=We(Br[fe.AUTHORIZE]).merge(this.baseOptions).merge(e).done();return Er()(Rr()(r.prototype),"buildAuthorizeUrl",this).call(this,t)}},{key:"authorize",value:function(e){var t=We(Br[fe.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","connection","appType","responseType","responseMode","redirectUri","scope","audience","prompt","codeChallenge","codeChallengeMethod","multiModuleId"]).done();return t.connection||Object.assign(t,{connection:"universal"}),Er()(Rr()(r.prototype),"buildAuthorizeUrl",this).call(this,t)}},{key:"oauthToken",value:function(e){var t=We(this.baseOptions).merge(e).pick(["clientId","clientSecret","grantType","redirectUri","scope","audience","code","refreshToken","codeVerifier","appType"]).done();return Er()(Rr()(r.prototype),"oauthToken",this).call(this,t)}},{key:"getUserInfo",value:function(e){var t=We(this.baseOptions).merge(e).pick(["accessToken"]).done();return this.request({method:"get",url:le(this.getEndPointURL(fe.USER_INFO),t)})}},{key:"request",value:function(e){return Er()(Rr()(r.prototype),"request",this).call(this,e)}},{key:"getBaseOptions",value:function(){return this.baseOptions}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return Ie.i("[Authentication Request Client Request]: ",e.url,e.data),e})),Er()(Rr()(r.prototype),"setUpRequestClient",this).call(this)}}]),r}($r),Hr=void 0,Kr=function(e){return Hr||(Q(e.sdk),Hr=new Qr)},Jr=function(e){return Kr(e).exportAPIInWx},Xr=function(e){return Kr(e).innerService},Yr=function(e){return Kr(e).exportAPIInMiniApp},Qr=function(){function e(){var t;d()(this,e),this.wxaIdaas=void 0,this.tokenManager=void 0,this.initOption=void 0,this.exportAPIInWx={},this.exportAPIInMiniApp={},this.innerService={},this.tokenManager=Y().TokenManager,this.initOption={clientId:this.getClientId(),tokenManager:this.tokenManager},this.wxaIdaas=new Zr(this.initOption),(t=this).registerInnerService(xr(t)),br(this)}return h()(e,[{key:"registerService",value:function(e){var t=this,r=this,n=function(e){return function(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=null!==(t=i[0].debug)&&void 0!==t?t:void 0;return void 0!==o&&Ce(o),e.fn.apply(r,i)}};e.forEach((function(e){e.apiName.startsWith("miniapp.")?t.exportAPIInMiniApp[e.apiName.replace("miniapp.","")]=n(e):t.exportAPIInWx[e.apiName]=n(e)}))}},{key:"registerInnerService",value:function(e){var t=this,r=this;e.forEach((function(e){t.innerService[e.apiName]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.fn.apply(r,n)}}))}},{key:"getClientId",value:function(){var e=this;return at.onReady((function(){e.wxaIdaas.authClient.getBaseOptions().clientId?e.innerService.getSysAccessTokenInfoAsync():ut().then((function(t){Ie.i("getClientId",t),e.wxaIdaas.authClient.setClientId(t.clientId),e.innerService.getSysAccessTokenInfoAsync()}))})),""}}]),e}(),Zr=function(){function e(t){var r=this;d()(this,e),this.authClient=void 0,this.tokenManager=void 0,this.requestApiWrap=function(){var e=c()(s()().mark((function e(t,n,i,a){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye.bind(r)(t,i.bind(n),a));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),t.requestAdapter=Ee,t.appType=2,t.domain="wxaidass",this.authClient=new Gr(t),this.tokenManager=t.tokenManager}var t;return h()(e,[{key:"authorize",value:(t=c()(s()().mark((function e(t){var r,n,i=this;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof(r=this.buildAuthorizeUrl(t))){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return n=a()(a()(a()({},de(r)),t.extends||{}),{},{apiName:"idaas_authorize"}),e.next=6,this.requestApiWrap({data:n},this,this.sendTunnelRequest,"authorize").then((function(e){var t=e.errCode,r=e.errMsg;if(0===t){if(e.sysAccessToken){var n=e.sysAccessToken,a=e.sysRefreshToken,o=e.expireTime;i.tokenManager.setTokens({sysAccessToken:n,sysRefreshToken:a,expireTime:o}),Ie.i("authorize tokens",i.tokenManager.getSysAccessTokenInfo(),i.tokenManager.getSysRefreshToken())}return{code:e.code,errCode:t,errMsg:r}}return{errCode:t,errMsg:r}}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"sendTunnelRequest",value:function(e){return this.authClient.request(e)}},{key:"getSocialCodeAndAuthorize",value:function(e){var t,r=e.getCodeRet,n=e.resolve,i=e.reject;0!==r.errCode?i(r):this.authorize({socialCode:r.code,connection:r.connection,multiModuleId:null!==(t=r.multiModuleId)&&void 0!==t?t:""}).then((function(e){0===e.errCode?n(e):i(e)}))}},{key:"buildAuthorizeUrl",value:function(e){var t=e.connection;return t===me.USERNAMEPASSWORD?this.authClient.crossorigin.authorize(e):Fr.connections.includes(t)?this.authClient.passwordless.authorize(e):Ur.connections.includes(t)?this.authClient.social.authorize(e):this.authClient.authorize(e)}}]),e}()}(),e.exports=i}()},469:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:r()}}();function t(){if(i(/^<\?xml\s*/)){for(var e={attributes:{}};!a()&&!o("?>");){var t=n();if(!t)return e;e.attributes[t.name]=t.value}return i(/\?>\s*/),e}}function r(){var e=i(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(a()||o(">")||o("?>")||o("/>"));){var l=n();if(!l)return s;s.attributes[l.name]=l.value}if(i(/^\s*\/>\s*/))return s;for(i(/\??>\s*/),s.content=function(){var e=i(/^([^<]*)/);return e?e[1]:""}();t=r();)s.children.push(t);return i(/^<\/[\w-:.]+>\s*/),s}}function n(){var e,t=i(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function i(t){var r=e.match(t);if(r)return e=e.slice(r[0].length),r}function a(){return 0==e.length}function o(t){return 0==e.indexOf(t)}}},945:e=>{var t,r=void 0!==c?c:globalThis.Function;function n(){return t||(t=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./entry.js")}({"./entry.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers/index.js"),i=r("./node_modules/protocol-buffers-encodings/index.js"),a=r("./node_modules/varint/index.js"),o=function(e,t){var r=new Uint8Array(8),n=t,i=0,a=0,s=0;do{a|=(127&e[n])<<s,(s+=7)>=8&&(r[i]=255&a,a>>=8,s-=8,i++)}while(e[n++]>=128);return r[i]=255&a,o.bytes=n-t,r};function s(e,t){for(var r=0,n=t;n<e.length;n++){if(!(128&e[n]))return r+1;r++}return r}var l=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};i.uint64=function(){var e=function(t,r){var n=s(t,r);if(n>=7&&NativeGlobal.decodeUint64Array){t=o(t,r);var i=NativeGlobal.decodeUint64Array(t);e.bytes=n}else{i=a.decode(t,r);e.bytes=a.decode.bytes}return i},t=a.encode;return l(0,t,e,(function(e){return e<0?10:a.encodingLength(e)}))}(),i.int64=function(){var e=function(r,n){if(((c=a.decode(r,n))>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&NativeGlobal.decodeUint64Array){var i=s(r,n),l=10==i;l&&(r[9+n]=127&r[9+n]),r=o(r,n);var c=NativeGlobal.decodeUint64Array(r);return e.bytes=i,l?"-"+c:c}if(c>=Math.pow(2,63)){for(var u=9;255===r[n+u-1];)u--;var d=new t(u=u||9);r.copy(d,0,n,n+u),d[u-1]=127&d[u-1],c=-1*a.decode(d,0),e.bytes=10}else e.bytes=a.decode.bytes;return c},r=function(e,t,n){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw new Error("number too large, not supported yet");if(e<0){var i=n+9;for(a.encode(-1*e,t,n),t[n+=a.encode.bytes-1]=128|t[n];n<i-1;)t[++n]=255;t[i]=1,r.bytes=10}else a.encode(e,t,n),r.bytes=a.encode.bytes;return t};return l(0,r,e,(function(e){return e<0?10:a.encodingLength(e)}))}(),e.exports=function(e){var r=n(e);return Object.keys(r).forEach((function(e){var n;r[e].decode&&(r[e].decode=(n=r[e].decode,function e(r){"[object Uint8Array]"==Object.prototype.toString.call(r)&&r.__proto__!=t.__proto__&&(r.__proto__=t.prototype);var i=n.apply(this,arguments);return e.bytes=n.bytes,i}))})),r},e.exports.fixBuffer=function(e){return"[object Uint8Array]"==Object.prototype.toString.call(e)&&e.__proto__!=t.__proto__&&(e.__proto__=t.prototype),e}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/base64-js/index.js":function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),o=n[0],s=n[1],c=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),u=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[u++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(c(e,s,s+o>l?l:s+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,r){"use strict";(function(e){var n=r("./node_modules/base64-js/index.js"),i=r("./node_modules/ieee754/index.js"),a=r("./node_modules/isarray/index.js");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r);e=s(e,n);var i=e.write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function _(e,t,r,n){return V(W(t,e.length-r),e,r,n)}function w(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return w(e,t,r,n)}function C(e,t,r,n){return V(U(t),e,r,n)}function k(e,t,r,n){return V(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(n,i),u=e.slice(t,r),d=0;d<s;++d)if(c[d]!==u[d]){a=c[d],o=u[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=F(e[a]);return i}function M(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function N(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,a){return a||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function $(e,t,r,n,a){return a||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return $(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return $(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=l.isBuffer(e)?e:W(new l(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/generate-function/index.js":function(e,t,n){for(var i=n("./node_modules/util/util.js"),a=n("./node_modules/is-property/is-property.js"),o=/[\{\[]/,s=/[\}\]]/,l=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],c={},u=0;u<l.length;u++)c[l[u]]=!0;var d={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},p=function(){var e=[],t=0,n={},l=function(r){for(var n="";n.length<2*t;)n+="  ";e.push(n+r)},u=function(e){return s.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,l(e),void t++):o.test(e[e.length-1])?(l(e),void t++):s.test(e.trim()[0])?(t--,void l(e)):void l(e)},p=function(e){if(!e)return p;if(1===arguments.length&&e.indexOf("\n")>-1)for(var t=e.trim().split("\n"),r=0;r<t.length;r++)u(t[r].trim());else u(i.format.apply(i,arguments));return p};return p.scope={},p.formats=d,p.sym=function(e){return e&&function(e){return a(e)&&!c.hasOwnProperty(e)}(e)||(e="tmp"),n[e]||(n[e]=0),e+(n[e]++||"")},p.property=function(e,t){return 1===arguments.length&&(t=e,e=""),a(t+="")?e?e+"."+t:t:e?e+"["+JSON.stringify(t)+"]":JSON.stringify(t)},p.toString=function(){return e.join("\n")},p.toFunction=function(t){t||(t={});var n="return ("+e.join("\n")+")";Object.keys(p.scope).forEach((function(e){t[e]||(t[e]=p.scope[e])}));var i=Object.keys(t).map((function(e){return e})),a=i.map((function(e){return t[e]}));return r.apply(null,i.concat(n)).apply(null,a)},arguments.length&&p.apply(null,arguments),p};p.formats=d,e.exports=p},"./node_modules/generate-object-property/index.js":function(e,t,r){var n=r("./node_modules/is-property/is-property.js"),i=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};i.valid=n,i.property=function(e){return n(e)?e:JSON.stringify(e)},e.exports=i},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=f,o/=256,c-=8);e[r+h-f]|=128*g}},"./node_modules/is-property/is-property.js":function(e,t,r){"use strict";e.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},"./node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"./node_modules/os-browserify/browser.js":function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},"./node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/protocol-buffers-encodings/index.js":function(e,t,r){(function(e){var n=r("./node_modules/varint/index.js"),i=r("./node_modules/signed-varint/index.js");function a(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}function o(t){return e.isBuffer(t)?t.length:e.byteLength(t)}t.make=a,t.name=function(e){for(var r=Object.keys(t),n=0;n<r.length;n++)if(t[r[n]]===e)return r[n];return null},t.skip=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)},t.bytes=a(2,(function t(r,i,a){var s=a,l=o(r);return n.encode(l,i,a),a+=n.encode.bytes,e.isBuffer(r)?r.copy(i,a):i.write(r,a,l),t.bytes=(a+=l)-s,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.slice(r,r+a);return r+=o.length,e.bytes=r-i,o}),(function(e){var t=o(e);return n.encodingLength(t)+t})),t.string=a(2,(function t(r,i,a){var o=a,s=e.byteLength(r);return n.encode(s,i,a,"utf-8"),a+=n.encode.bytes,i.write(r,a,s),t.bytes=(a+=s)-o,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.toString("utf-8",r,r+a);return e.bytes=(r+=a)-i,o}),(function(t){var r=e.byteLength(t);return n.encodingLength(r)+r})),t.bool=a(0,(function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r}),(function e(t,r){var n=t[r]>0;return e.bytes=1,n}),(function(){return 1})),t.int32=a(0,(function e(t,r,i){return n.encode(t<0?t+4294967296:t,r,i),e.bytes=n.encode.bytes,r}),(function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,i>2147483647?i-4294967296:i}),(function(e){return n.encodingLength(e<0?e+4294967296:e)})),t.int64=a(0,(function e(t,r,i){if(t<0){var a=i+9;for(n.encode(-1*t,r,i),r[i+=n.encode.bytes-1]=128|r[i];i<a-1;)r[++i]=255;r[a]=1,e.bytes=10}else n.encode(t,r,i),e.bytes=n.encode.bytes;return r}),(function t(r,i){var a=n.decode(r,i);if(a>=Math.pow(2,63)){for(var o=9;255===r[i+o-1];)o--;o=o||9;var s=e.allocUnsafe(o);r.copy(s,0,i,i+o),s[o-1]=127&s[o-1],a=-1*n.decode(s,0),t.bytes=10}else t.bytes=n.decode.bytes;return a}),(function(e){return e<0?10:n.encodingLength(e)})),t.sint32=t.sint64=a(0,i.encode,i.decode,i.encodingLength),t.uint32=t.uint64=t.enum=t.varint=a(0,n.encode,n.decode,n.encodingLength),t.fixed64=t.sfixed64=a(1,(function e(t,r,n){return t.copy(r,n),e.bytes=8,r}),(function e(t,r){var n=t.slice(r,r+8);return e.bytes=8,n}),(function(){return 8})),t.double=a(1,(function e(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r}),(function e(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n}),(function(){return 8})),t.fixed32=a(5,(function e(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.sfixed32=a(5,(function e(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.float=a(5,(function e(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readFloatLE(r);return e.bytes=4,n}),(function(){return 4}))}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers-schema/index.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/parse.js"),i=r("./node_modules/protocol-buffers-schema/stringify.js");e.exports=n,e.exports.parse=n,e.exports.stringify=i},"./node_modules/protocol-buffers-schema/parse.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/tokenize.js"),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],a=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=a(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},s=function(e){for(var t={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(f(e));break;case"message":t.messages.push(u(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=o(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(l(e));break;case";":e.shift();break;case"reserved":for(e.shift();";"!==e[0];)e.shift();break;case"option":var i=g(e);if(void 0!==t.options[i.name])throw new Error("Duplicate option "+i.name);t.options[i.name]=i.value;break;default:e.unshift("optional"),t.fields.push(o(e))}return t},l=function(e){return{name:e[1],message:u(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},u=function(e){e.shift();var t=1,r=[],n={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=s(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n.options=r.options,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},d=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=a(e)),e.shift(),{name:t,val:r}},f=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=h(e);r.values[n.name]=n.val}else t=g(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=v(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},v=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var i=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var a=null;switch(e[0]){case":":if(void 0!==r[i])throw new Error("Duplicate option map key "+i);e.shift(),"{"===(a=t(e.shift()))&&(a=v(e)),r[i]=a,";"===e[0]&&e.shift();break;case"{":if(e.shift(),a=v(e),void 0===r[i]&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(a);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},m=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},y=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(b(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},b=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var a;if(/^("|')([^'"]*)$/.test(t[r]))for(a=1===t[r].length?r+1:r;a<t.length;a++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[a])){t=t.slice(0,r).concat(t.slice(r,a+1).join("")).concat(t.slice(a+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;t.length;){switch(t[0]){case"package":o.package=d(t);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=p(t);break;case"message":o.messages.push(u(t));break;case"enum":o.enums.push(f(t));break;case"option":var c=g(t);if(o.options[c.name])throw new Error("Duplicate option "+c.name);o.options[c.name]=c.value;break;case"import":o.imports.push(m(t));break;case"extend":o.extends.push(l(t));break;case"service":o.services||(o.services=[]),o.services.push(y(t));break;default:throw new Error("Unexpected token: "+t[0])}s=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,a,s;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],a=r[1],o.messages.some((function(e){if(e.name===n)return s=e,e})),s&&s.enums&&s.enums.some((function(e){return e.name===a})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),o}},"./node_modules/protocol-buffers-schema/stringify.js":function(e,t){var r=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},n=function(e,t){t.push("message "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(i(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(n(e,[]))}));var a={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(a[e.oneof]||(a[e.oneof]=[]),a[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(a).forEach((function(e){a[e].unshift("oneof "+e+" {"),a[e].push("}"),t.push(a[e])})),t.push("}",""),t},i=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=o(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=a(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},a=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},o=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=s(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},s=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach((function(e){(e=s(e,[])).length&&t.push(r+" {",e,"}")})):(n=s(n,[])).length&&t.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),t.push(r+": "+n))})),t},l=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=o(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},c=function(e){return function(t){return Array.isArray(t)?t.map(c(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){i(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){n(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(l(e,[]))})),t.push("}","")}(e,t)})),t.map(c("")).join("\n")}},"./node_modules/protocol-buffers-schema/tokenize.js":function(e,t){e.exports=function(e){var t,r=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},"./node_modules/protocol-buffers/compile-to-js.js":function(e,t,r){var n=r("./node_modules/os-browserify/browser.js"),i={type:!0,message:!0,name:!0,buffer:!0,encode:!0,decode:!0,encodingLength:!0,dependencies:!0};function a(e){return"function"==typeof e.encode}e.exports=function(e){var t="";return t+="// This file is auto generated by the protocol-buffers compiler"+n.EOL,t+=n.EOL,t+="/* eslint-disable quotes */"+n.EOL,t+="/* eslint-disable indent */"+n.EOL,t+="/* eslint-disable no-redeclare */"+n.EOL,t+="/* eslint-disable camelcase */"+n.EOL,t+=n.EOL,t+="// Remember to `npm install --save protocol-buffers-encodings`"+n.EOL,t+="var encodings = require('protocol-buffers-encodings')"+n.EOL,t+="var varint = encodings.varint"+n.EOL,t+="var skip = encodings.skip"+n.EOL,t+=n.EOL,function e(r,s,l){var c=Object.keys(r).filter((function(e){return!i[e]&&a(r[e])})),u=Object.keys(r).filter((function(e){return!i[e]&&!a(r[e])}));u.forEach((function(e){t+=l+s+"."+e+" = "+function(e,t){var r=Object.keys(e);if(!r.every((function(t){return"number"==typeof e[t]&&/^[a-z][a-z0-9]+$/i.test(t)})))return JSON.stringify(e,null,2).replace(/\n/g,n.EOL)+n.EOL;var i="{"+n.EOL;return r.forEach((function(a,o){i+=t+"  "+a+": "+e[a]+(o<r.length-1?",":"")+n.EOL})),i+t+"}"+n.EOL}(r[e],l)+n.EOL})),c.forEach((function(e){t+=l+"var "+e+" = "+s+"."+e+" = {"+n.EOL,t+=l+"  buffer: true,"+n.EOL,t+=l+"  encodingLength: null,"+n.EOL,t+=l+"  encode: null,"+n.EOL,t+=l+"  decode: null"+n.EOL,t+=l+"}"+n.EOL,t+=n.EOL})),c.forEach((function(e){t+=l+"define"+e+"()"+n.EOL})),c.length&&(t+=n.EOL);c.forEach((function(i){t+=l+"function define"+i+" () {"+n.EOL,e(r[i],i,l+"  "),t+=l+"  "+i+".encodingLength = encodingLength"+n.EOL,t+=l+"  "+i+".encode = encode"+n.EOL,t+=l+"  "+i+".decode = decode"+n.EOL+n.EOL,t+=l+"  "+o(r[i].encodingLength,l+"  ")+n.EOL+n.EOL,t+=l+"  "+o(r[i].encode,l+"  ")+n.EOL+n.EOL,t+=l+"  "+o(r[i].decode,l+"  ")+n.EOL,t+=l+"}"+n.EOL+n.EOL}))}(e,"exports",""),t+=o(r("./node_modules/protocol-buffers/compile.js").defined,"")+n.EOL;function o(e,t){return e.toString().split("\n").map((function(e,r){return r?t+e:e.replace(/(function \w+)\(/,"$1 (")})).join("\n")}}},"./node_modules/protocol-buffers/compile.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-encodings/index.js"),i=r("./node_modules/varint/index.js"),a=r("./node_modules/generate-object-property/index.js"),o=r("./node_modules/generate-function/index.js"),s=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))},l=function(e,t){if(e.map)return"{}";if(e.repeated)return"[]";switch(e.type){case"string":return function(e){try{return!!e&&"string"==typeof JSON.parse(e)}catch(e){return!1}}(t)?t:'""';case"bool":return"true"===t?"true":"false";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return""+Number(t||0);default:return"null"}};e.exports=function(e,r,c){var u={},d={},p={},h=function(e,t){return c?function(e){var t=n.name(e);return t?"encodings."+t:e.name?e.name:"encodings.enum"}(t[e]):"enc["+e+"]"},f=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,d[e.id]=e,f(e,e.id)})),e.messages&&e.messages.forEach((function(r){r.id=t+(t?".":"")+r.name,u[r.id]=r,r.fields.forEach((function(r){if(r.map){var n="Map_"+r.map.from+"_"+r.map.to,i={name:n,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+n};u[i.id]||(u[i.id]=i,e.messages.push(i)),r.type=n,r.repeated=!0}})),f(r,r.id)}))};f(e,"");var g=function(r,c){r.messages.forEach((function(e){c[e.name]=v(e.name,r.id)})),r.enums.forEach((function(e){c[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),c.type=2,c.message=!0,c.name=r.name;var u={};r.fields.forEach((function(e){e.oneof&&(u[e.oneof]||(u[e.oneof]=[]),u[e.oneof].push(e.name))}));var d=r.fields.map((function(e){return v(e.type,r.id)})),p=d.filter((function(e,t){return d.indexOf(e)===t})),f=d.map((function(e){return p.indexOf(e)})),g=function(e){for(var t=0;t<d.length;t++)e(d[t],r.fields[t],a("obj",r.fields[t].name),t)},m=o()("function encodingLength (obj) {")("var length = 0");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");m("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){var a=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,o=i.encodingLength(t.tag<<3|e.type);t.required?m("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):m("if (defined(%s)) {",r),t.map&&(m()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),a?(m()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("var len = %s.encodingLength(%s)",h(f[n],p),r+"[i]")("packedLen += len"),e.message&&m("packedLen += varint.encodingLength(len)"),m("}")("if (packedLen) {")("length += %d + packedLen + varint.encodingLength(packedLen)",o)("}")):(t.repeated&&(m("for (var i = 0; i < %s.length; i++) {",r),m("if (!defined(%s)) continue",r+="[i]")),m("var len = %s.encodingLength(%s)",h(f[n],p),r),e.message&&m("length += varint.encodingLength(len)"),m("length += %d + len",o),t.repeated&&m("}")),t.required||m("}")})),m()("return length")("}"),m=m.toFunction({defined:s,varint:i,enc:p});var y=o()("function encode (obj, buf, offset) {")("if (!offset) offset = 0")("if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))")("var oldOffset = offset");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");y("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){t.required?y("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):y("if (defined(%s)) {",r);var a,o=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,s=i.encode(t.tag<<3|2),l=i.encode(t.tag<<3|e.type);if(t.map&&(y()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),o){for(y()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("packedLen += %s.encodingLength(%s)",h(f[n],p),r+"[i]")("}"),y("if (packedLen) {"),a=0;a<l.length;a++)y("buf[offset++] = %d",s[a]);y("varint.encode(packedLen, buf, offset)"),y("offset += varint.encode.bytes"),y("}")}if(t.repeated&&(y("for (var i = 0; i < %s.length; i++) {",r),y("if (!defined(%s)) continue",r+="[i]")),!o)for(a=0;a<l.length;a++)y("buf[offset++] = %d",l[a]);e.message&&(y("varint.encode(%s.encodingLength(%s), buf, offset)",h(f[n],p),r),y("offset += varint.encode.bytes")),y("%s.encode(%s, buf, offset)",h(f[n],p),r),y("offset += %s.encode.bytes",h(f[n],p)),t.repeated&&y("}"),t.required||y("}")})),y()("encode.bytes = offset - oldOffset")("return buf")("}"),y=y.toFunction({encodingLength:m,defined:s,varint:i,enc:p,Buffer:t});var b,_=r.fields.map((function(e,t){return e.required&&"!found"+t})).filter((function(e){return e})).join(" || "),w=o(),S=[];return g((function(e,t){var n=t.options&&t.options.default,i=v(t.type,r.id,!1),o=i&&i.values;o?t.repeated?S.push(a.property(t.name)+": []"):(n=n&&o[n]?o[n].value:o[Object.keys(o)[0]].value,S.push(a.property(t.name)+": "+parseInt(n||0,10))):S.push(a.property(t.name)+": "+l(t,n))})),S=S.filter((b={},function(e){return!b.hasOwnProperty(e)&&(b[e]=!0,!0)})),w()("function decode (buf, offset, end) {")("if (!offset) offset = 0")("if (!end) end = buf.length")('if (!(end <= buf.length && offset <= buf.length)) throw new Error("Decoded message is not valid")')("var oldOffset = offset")("var obj = {"),S.forEach((function(e,t){w(e+(t===S.length-1?"":","))})),w("}"),g((function(e,t,r,n){t.required&&w("var found%d = false",n)})),w("while (true) {")("if (end <= offset) {")(_&&'if (%s) throw new Error("Decoded message is not valid")',_)("decode.bytes = offset - oldOffset")("return obj")("}")("var prefix = varint.decode(buf, offset)")("offset += varint.decode.bytes")("var tag = prefix >> 3")("switch (tag) {"),g((function(t,n,i,o){var s=n.repeated&&(n.options&&n.options.packed&&"false"!==n.options.packed||!(n.options&&"false"==n.options.packed)&&3==e.syntax&&("float"===n.type||"double"===n.type||-1!=n.type.indexOf("int")));w("case %d:",n.tag),n.oneof&&r.fields.forEach((function(e){e.oneof===n.oneof&&n.name!==e.name&&w("delete %s",a("obj",e.name))})),s&&w()("var packedEnd = varint.decode(buf, offset)")("offset += varint.decode.bytes")("packedEnd += offset")("while (offset < packedEnd) {"),t.message?(w("var len = varint.decode(buf, offset)"),w("offset += varint.decode.bytes"),n.map?(w("var tmp = %s.decode(buf, offset, offset + len)",h(f[o],p)),w("%s[tmp.key] = tmp.value",i)):n.repeated?w("%s.push(%s.decode(buf, offset, offset + len))",i,h(f[o],p)):w("%s = %s.decode(buf, offset, offset + len)",i,h(f[o],p))):n.repeated?w("%s.push(%s.decode(buf, offset))",i,h(f[o],p)):w("%s = %s.decode(buf, offset)",i,h(f[o],p)),w("offset += %s.decode.bytes",h(f[o],p)),s&&w("}"),n.required&&w("found%d = true",o),w("break")})),w()("default:")("offset = skip(prefix & 7, buf, offset)")("}")("}")("}"),w=w.toFunction({varint:i,skip:n.skip,enc:p}),y.bytes=w.bytes=0,c.buffer=!0,c.encode=y,c.decode=w,c.encodingLength=m,c.dependencies=p,c},v=function(e,t,a){if(r&&r[e])return r[e];if(n[e])return n[e];var s=(t?t+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||u[t]||d[t]}),null);if(!1===a)return s;if(!s)throw new Error("Could not resolve "+e);return s.values?function(e){var t=Object.keys(e.values).map((function(t){return"val !== "+parseInt(e.values[t].value,10)})).join(" && ");t||(t="true");var r=o()("function encode (val, buf, offset) {")('if (%s) throw new Error("Invalid enum value: "+val)',t)("varint.encode(val, buf, offset)")("encode.bytes = varint.encode.bytes")("return buf")("}").toFunction({varint:i}),a=o()("function decode (buf, offset) {")("var val = varint.decode(buf, offset)")('if (%s) throw new Error("Invalid enum value: "+val)',t)("decode.bytes = varint.decode.bytes")("return val")("}").toFunction({varint:i});return n.make(0,r,a,i.encodingLength)}(s):p[s.id]?p[s.id]:(p[s.id]={},g(s,p[s.id]))};return(e.enums||[]).concat((e.messages||[]).map((function(e){return v(e.id)})))},e.exports.defined=s}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers/index.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-schema/index.js"),i=r("./node_modules/protocol-buffers/compile.js"),a=r("./node_modules/protocol-buffers/compile-to-js.js");e.exports=function(e,r){if(r||(r={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var a="object"!=typeof e||t.isBuffer(e)?n.parse(e):e,o=function(){var e=this;i(a,r.encodings||{},r.inlineEnc).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return o.prototype.toString=function(){return n.stringify(a)},o.prototype.toJSON=function(){return a},new o},e.exports.toJS=function(t){return a(e.exports(t,{inlineEnc:!0}))}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/signed-varint/index.js":function(e,t,r){var n=r("./node_modules/varint/index.js");t.encode=function e(t,r,i){t=t>=0?2*t:-2*t-1;var a=n.encode(t,r,i);return e.bytes=n.encode.bytes,a},t.decode=function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},t.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}},"./node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),l=n[r];r<a;l=n[++r])g(l)||!_(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var a,o={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,e,n.depth)}function l(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&C(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=u(e,i,n)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),S(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(r);if(0===o.length){if(C(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(S(r))return d(r)}var c,_="",k=!1,I=["{","}"];(h(r)&&(k=!0,I=["[","]"]),C(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(_=" "+RegExp.prototype.toString.call(r)),w(r)&&(_=" "+Date.prototype.toUTCString.call(r)),S(r)&&(_=" "+d(r)),0!==o.length||k&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=k?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)A(t,String(o))?a.push(p(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(p(e,t,r,n,i,!0))})),a}(e,r,n,s,o):o.map((function(t){return p(e,r,n,s,t,k)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,_,I)):I[0]+_+I[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),A(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(r)?u(e,l.value,null):u(e,l.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===k(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===k(e)}function S(e){return _(e)&&("[object Error]"===k(e)||e instanceof Error)}function C(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(y(a)&&(a=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(a)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=S,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r("./node_modules/util/support/isBufferBrowser.js");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(e=new Date,r=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":"),[e.getDate(),P[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r("./node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var x="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(x&&e[x]){var t;if("function"!=typeof(t=e[x]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),x&&Object.defineProperty(t,x,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=x,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(T,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/varint/decode.js":function(e,t){e.exports=function e(t,i){var a,o=0,s=0,l=i=i||0,c=t.length;do{if(l>=c)throw e.bytes=0,new RangeError("Could not decode varint");a=t[l++],o+=s<28?(a&n)<<s:(a&n)*Math.pow(2,s),s+=7}while(a>=r);return e.bytes=l-i,o};var r=128,n=127},"./node_modules/varint/encode.js":function(e,t){e.exports=function e(t,a,o){a=a||[];var s=o=o||0;for(;t>=i;)a[o++]=255&t|r,t/=128;for(;t&n;)a[o++]=255&t|r,t>>>=7;return a[o]=0|t,e.bytes=o-s+1,a};var r=128,n=-128,i=Math.pow(2,31)},"./node_modules/varint/index.js":function(e,t,r){e.exports={encode:r("./node_modules/varint/encode.js"),decode:r("./node_modules/varint/decode.js"),encodingLength:r("./node_modules/varint/length.js")}},"./node_modules/varint/length.js":function(e,t){var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),a=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),l=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<r?1:e<n?2:e<i?3:e<a?4:e<o?5:e<s?6:e<l?7:e<c?8:e<u?9:10}},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=globalThis;try{n=n||new r("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}})),t}"undefined"==typeof __SDK_SUB_PACKAGE__&&(e.exports=n),globalThis.__protobufSDKGetter__={getProtobuf:()=>(...e)=>n()(...e)}},818:e=>{var t,r,n=n||function(e,t){var r={},n=r.lib={},i=function(){},a=n.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var i=0;i<e;i++)t[n+i>>>2]|=(r[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<r.length)for(i=0;i<e;i+=4)t[n+i>>>2]=r[i>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var i=t[n>>>2]>>>24-n%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,i=e.min(4*t,i),t){for(var l=0;l<t;l+=a)this._doProcessBlock(n,l);l=n.splice(0,t),r.sigBytes-=i}return new o.init(l,i)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=r.algo={};return r}(Math);!function(){var e=n,t=(a=e.lib).WordArray,r=a.Hasher,i=[],a=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=0;80>c;c++){if(16>c)i[c]=0|e[t+c];else{var u=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=u<<1|u>>>31}u=(n<<5|n>>>27)+l+i[c],u=20>c?u+(1518500249+(a&o|~a&s)):40>c?u+(1859775393+(a^o^s)):60>c?u+((a&o|a&s|o&s)-1894007588):u+((a^o^s)-899497514),l=s,s=o,o=a<<30|a>>>2,a=n,n=u}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(a),e.HmacSHA1=r._createHmacHelper(a)}(),function(){var e=n,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init,"string"==typeof r&&(r=t.parse(r));var n=e.blockSize,i=4*n;r.sigBytes>i&&(r=e.finalize(r)),r.clamp();for(var a=this._oKey=r.clone(),o=this._iKey=r.clone(),s=a.words,l=o.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),r=(t=n).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],a=0;a<r;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<r;s++)i.push(n.charAt(o>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=n.charAt(64);if(i){var a=e.indexOf(i);-1!=a&&(t=a)}for(var o=[],s=0,l=0;l<t;l++)if(l%4){var c=n.indexOf(e.charAt(l-1))<<l%4*2,u=n.indexOf(e.charAt(l))>>>6-l%4*2;o[s>>>2]|=(c|u)<<24-s%4*8,s++}return r.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=n}},l={};function p(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={id:e,loaded:!1,exports:{}};return i[e](r,r.exports,p),r.loaded=!0,r.exports}p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var r in t)p.o(t,r)&&!p.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var m={};(()=>{"use strict";p.d(m,{default:()=>ojt});var i={};p.r(i),p.d(i,{clearTokens:()=>bm,getSysAccessToken:()=>vm,getSysAccessTokenInfo:()=>mm,getSysRefreshToken:()=>ym,isValid:()=>_m,setTokens:()=>gm});var l={};p.r(l),p.d(l,{onBeforeCopyUrl:()=>eR,onBeforeShareAppMessage:()=>QM,onBeforeUnloadPage:()=>XM,onPageReload:()=>qM,triggerBeforeCopyUrl:()=>ZM,triggerBeforeShareAppMessage:()=>YM,triggerBeforeUnloadPage:()=>zM});var c={};p.r(c),p.d(c,{_triggerBeforeShareAppMessage:()=>nR,_triggerBeforeUnloadPage:()=>rR,createRouter:()=>UM,navigateBack:()=>EM,navigateTo:()=>BM,navigateToWithRelatedInfo:()=>$M,normalizeUrl:()=>SM,onPageReload:()=>tR,reLaunch:()=>FM,redirectTo:()=>jM,switchTab:()=>WM});var _={};p.r(_),p.d(_,{PxStatus:()=>DN,sj:()=>qN,asyncSetup:()=>UN,Kn:()=>HN,BZ:()=>TN,X3:()=>MN,getStatus:()=>XN,p8:()=>JN,cY:()=>uB,cx:()=>zN});var A={};p.r(A),p.d(A,{_checkIsInteracting:()=>QW,_hideToast:()=>VW,_showModal:()=>RW,_showToast:()=>$W,_updateActionSheet:()=>XW,_updateModal:()=>DW,_updateToast:()=>UW,hideLoading:()=>KW,hideToast:()=>qW,offNativeUi:()=>EW,onNativeUi:()=>TW,showActionSheet:()=>JW,showInnerToast:()=>WW,showLoading:()=>HW,showModal:()=>OW,showShareActionSheet:()=>YW,showToast:()=>jW});var E={};p.r(E),p.d(E,{TokenManager:()=>i,_requestSkipCheckDomain:()=>mE,forceCellularNetwork:()=>dX,getFileSystemManager:()=>pv,getIdentityServiceConfig:()=>Pm,getSysAccessTokenInfoAsync:()=>Em,idaasStorage:()=>RX,invokeMethod:()=>md,invokeMiniappNativeExtension:()=>eJ,launchMiniProgram:()=>CJ,miniAppLogin:()=>yJ,miniprogramLogin:()=>wX,navigateTo:()=>BM,onMiniappNativeExtensionMsg:()=>nJ,sendSaaADataPipe:()=>Td,sendSaaAReportData:()=>JK});var R={};p.r(R),p.d(R,{Path2D:()=>X4,canvasGetImageData:()=>s4,canvasGetImageData4Plugin:()=>l4,canvasPutImageData:()=>p4,canvasPutImageData4Plugin:()=>h4,canvasToTempFilePath:()=>O4,canvasToTempFilePath4Plugin:()=>D4,createCanvasContext:()=>t7,createCanvasContext4Plugin:()=>r7,createContext:()=>Z4,createOffscreenCanvas:()=>H4,drawCanvas:()=>m4,drawCanvas4Plugin:()=>y4,drawCanvasImpl:()=>v4,getOrCreateCanvasInterface:()=>Y4,isSkiaCanvasEnabled:()=>Z5});var D={};p.r(D),p.d(D,{createAudioContext:()=>Spe,createCameraContext:()=>hee,createInnerAudioContext:()=>Kde,createLivePlayerContext:()=>gpe,createLivePusherContext:()=>O2,createMapContext:()=>Xle,createSQEditorContext:()=>Rpe,createSQLivePlayerContext:()=>vpe,createSQMapContext:()=>Yle,createSQVideoContext:()=>R6,createVideoContext:()=>M6});var B={};p.r(B),p.d(B,{ShareInfoStorage:()=>zHe,_getCurrentNetworkType:()=>My,_getRealRoute:()=>Q0,_triggerBeforeShareAppMessage:()=>HHe,_triggerBeforeUnloadPage:()=>GHe,addToFavorites:()=>kHe,checkAPIAvailable:()=>bg,checkHandoffEnabled:()=>RHe,controlledLaunchMiniProgram:()=>kJ,creatPluginRouteEventManager:()=>mHe,createPluginConsole:()=>wVe,createPluginWX:()=>_Ve,createPluginWXWebAssembly:()=>SVe,emitIsolatedAppHide:()=>OVe,emitIsolatedAppShow:()=>zVe,filterWebviewURL:()=>M7,fontFaceRecords:()=>xIe,getAppConfig:()=>yHe,getAppLaunchWebviewIds:()=>uHe,getCachePermissionBytes:()=>lqe,getCloudFileUrl:()=>K0,getConnectedWifi:()=>iKe,getInnerEnterOptionsSync:()=>Qh,getLaunchOptionsSync:()=>cN,getLogManager:()=>xz,getNetworkType:()=>Py,getPreloadAdUnitIds:()=>Hwe,getPreloadVideoAdUnitIds:()=>pfe,getPublicLibVersion:()=>Oq,getShareCookieString:()=>Tk,getStableSystemInfo:()=>JS,getStaticSystemInfoSync:()=>kw,getSystemInfoSync:()=>ww,hasRelievedBuyFlag:()=>Fje,invokeInnerShareCallbacks:()=>uqe,invokeWebviewMethod:()=>WC,isIsolatedSubpackage:()=>xke,onAddToFavorites:()=>SHe,onAppConfig:()=>bHe,onAppEnterBackground:()=>Gp,onAppEnterForeground:()=>df,onAppHide:()=>sk,onAppRoute:()=>RC,onAppRouteDone:()=>EK,onAppShow:()=>KC,onAppUnhang:()=>EVe,onError:()=>b$,onExitMiniProgramSuccess:()=>Bee,onNavigationBarTitleUpdate:()=>UHe,onPageNotFound:()=>XVe,onPageReload:()=>KHe,onPullDownRefresh:()=>_He,onRealtimeDataResponse:()=>iq,onShareAppMessage:()=>wHe,onShareTimeline:()=>jHe,onStartHandoff:()=>CHe,onTabItemTap:()=>v$,onThemeChange:()=>gse,onUnhandledRejection:()=>w$,onWebviewEvent:()=>JHe,operateRealtimeData:()=>nq,publishAnalyticsConfig:()=>IHe,publishFunctionalPage:()=>XHe,publishPageLifecycleEmit:()=>rKe,publishPageScrollTo:()=>YHe,publishTelecontrol:()=>QHe,publishUpdateAppData:()=>ZHe,pxPageAddToFavorites:()=>kqe,pxReportPageOnShow:()=>_qe,recordUnloadWebviewIdForUserBehaviorAnalytics:()=>bqe,reportActionTrace:()=>nKe,reportNativeUiEvent:()=>mqe,reportPv:()=>tKe,reportRealtimeAction:()=>PHe,reportRecycledAPI:()=>Jre,route:()=>c,setWeSessionId:()=>Cqe,shareAppMessage:()=>AHe,shareAppMessageDirectly:()=>xHe,shareAppMessageForFakeNative:()=>EHe,shareAppMessageToSpecificContactDirectly:()=>THe,shareAppMessageToSpecificContactForFakeNativeDirectly:()=>MHe,shareMiniProgramMessage:()=>xJ,shareTimeline:()=>FHe,showShareMenu:()=>VHe,showShareTimelineMenu:()=>WHe,showUpdatableMessageSubscribeButton:()=>$He,startHandoff:()=>vqe,startWifi:()=>aKe,strToSHA1Hash:()=>oKe,subscribeRecycleStatistics:()=>OHe,subscribeSavePageState:()=>DHe,subscribeSubjectInfo:()=>eKe,subscribeTapHandoffButton:()=>NHe,subscribeTapShareButton:()=>LHe,subscribeTapShareTimeLineButton:()=>BHe,trackWeReportSession:()=>wqe,uploadUserLogOnHide:()=>bG,userShareMenuState:()=>qHe});var j={};p.r(j),p.d(j,{beforeSubPackageReady:()=>N8,getSubpackagesConfig:()=>sKe,onSubPackageReady:()=>B8});var F={};p.r(F),p.d(F,{_WebAssembly:()=>KWe,_downloadFileSkipCheckDomain:()=>SI,_getSystemInfoSyncFromCache:()=>YS,_onHide:()=>sk,_onShow:()=>KC,_requestSkipCheckDomain:()=>mE,_socketSkipCheckDomainFactory:()=>aA,_uploadFileSkipCheckDomain:()=>YI,asyncSetup:()=>UN,cacheManager:()=>jKe,checkPermissionSync:()=>Cf,count:()=>c$,emitCloudNetworkReport:()=>SH,emitEvent:()=>HN,getFeatureFlags:()=>TN,getFeatureFlagsSync:()=>MN,getStatus:()=>XN,handleWxobsError:()=>kL,invokeOperateWXData:()=>TE,isUsedCache:()=>cJe,operateSaaADataFactory:()=>f_,privateCacheManager:()=>FKe,private_getBackgroundFetchData:()=>b1,private_getUserAgent:()=>VS,reportCallContainer:()=>R3,request:()=>vE,setAttrs:()=>JN,setup:()=>uB,sum:()=>u$,teardown:()=>zN,uploadToCommonCDN:()=>lA});var W={};p.r(W),p.d(W,{_emitTapAnyWhere:()=>lP,getCurrentPages:()=>vJe});var U={};p.r(U),p.d(U,{default:()=>X6e});var V={};p.r(V),p.d(V,{_WebAssembly:()=>KWe,_downloadFileSkipCheckDomain:()=>SI,_getSystemInfoSyncFromCache:()=>YS,_onHide:()=>sk,_requestSkipCheckDomain:()=>mE,_socketSkipCheckDomainFactory:()=>aA,_uploadFileSkipCheckDomain:()=>YI,cacheManager:()=>jKe,checkPermissionSync:()=>Cf,invokeOperateWXData:()=>TE,isUsedCache:()=>cJe,privateCacheManager:()=>FKe,private_getBackgroundFetchData:()=>b1,private_getUserAgent:()=>VS,reportCallContainer:()=>R3,request:()=>vE,uploadToCommonCDN:()=>lA});const q=d.initializerDefineProperty;var z=p.n(q);const G=d.applyDecoratedDescriptor;var H=p.n(G);const K=d.initializerWarningHelper;var J=Object.create(null);function X(e,t){return J[e]instanceof Array?(J[e].push(t),null):(J[e]=null,S.on(e,((e,r,n)=>{"number"!=typeof(null==n?void 0:n.__subscribe_webviewId)&&t(e,r,n)})))}function Y(e){return null===J[e]?(console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null):(J[e]=[],S.on(e,((...t)=>{var r=J[e];for(var n of r){if(!1===n(...t))break}})),t=>{J[e].unshift(t)})}function Q(e){if(null===J[e])return console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null;J[e]=[];var t=!1,r=10086;return S.on(e,((...n)=>{t||(r=n);var i=J[e];for(var a of i){if(!1===a(...n))break}})),n=>{J[e].unshift(n),10086!==r&&(J[e].forEach((e=>{e(...r)})),r=10086),t=!0}}var Z={None:0,BeforeLaunch:1,AfterLaunch:2},ee=()=>{te!==f&&void 0!==te&&Object.assign(te,f)},te=(()=>(f.onReady(ee),f))();const re=te;var ne="undefined"!=typeof __initHelper&&1===__initHelper,ie,ae=e=>ie=e;ne&&(globalThis.getCloudSDKGlobalVar=()=>({WeixinJSBridge:S,wxConsole:v,Reporter:T,console:console,__appServiceSDK__:ie,__wxConfig:re,Foundation:g,IS_APP:!0}));var oe={},se=["onViewDidResize","onDeviceOrientationChange","onAppRouteResized","onDeviceOrientationChange","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll","onThemeChange","onKeyboardHeightChange"],le;se.forEach((e=>{oe[e]=Q(e)}));var ce={get invoke(){return le},set invoke(e){le=e}};const ue=ce,de={requestPayment:57,setNavigationBarRightButton:238,requestVirtualPayment:285,setCookies:502,getCookies:503,openBizProfile:560,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,shareImageMessage:801,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,private_chooseInvoiceTitleDirectly:932,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,plugin_launchApplicationDirectly_operateDirectly:1009,publishWeChatState:1014,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,userObRecording:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235,skipDomainCheck:1266,previewImageLocal:1257,useGameCoverCodeCache:1272,private_createVestUser:1279,openMedicalInsuranceService:1288,openBusinessView:1295,choosePhoneNumberAreaCode:1273,useMagicBrushFrame:1299,returnWebviewUrlNotInBizDomainList:1298,disablePrivacyOfficialPopup:1305,operateTingAudio:1319,startQuotaControl:1329,skipDomainCheck_downloadFile:1335,skipDomainCheck_uploadFile:1336,skipDomainCheck_socket:1337,aiadBanCache:1343,aiadOnlyUsePreviewCache:1344,skipCheckCommercialWxaEncryptLicense:1364,canOpenEmbeddedMiniProgramAfterPayment:1365,useAiAdPreviewAdForm:1369,forceUsePreloadVersion:1376,isLiteGame:1375,getSCLAdapterForPlugin:1380,getElementPickerForPlugin:1381,startScreenShotForPlugin:1382,enableAiAdMultiAd:1387,aiadEnablePreviewVisionOptimize:1388,operateWXDataQuic:1390,aiadUsePreviewAdType:1392,skipWorkerProtect:1396,aiadEnableVisionShelterIdentify:1397,aiadUseDynamicUsrCache:1404,aiadUseSingleVersionConfiguration:1405,aiadEnablePreviewInterstitialAd:1419,aiadUseIncrementalWrite:1420,aiadDisableQuickLoad:1421,getPlayableViewAPI:1422,aiadBanner2CustomFeedback:1423,aiadExceptAlgoVersionFallback:1424,openUrlByExtBrowser3:1425,requestCommonPaymentForPlugin:1429,aiadDelayRuntimeComputed:1428,enableCacheAiadMetaInfos:1434,enableCacheAiadInterstitial:1435,openGameDetail:1438,aiadVisionUseGrayInput:1440};var pe=null,he=[],fe=e=>{null!==pe?e():he.push(e)},ge=e=>{pe=e.data.pluginPermissionBytes,he.forEach((e=>e())),he=[]};S.subscribe("batchGetPluginPermissionBytes",ge),g.onLibraryEnd((()=>{void 0!==$&&"function"==typeof $.onSubContextMessage&&$.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&ge(e)}))})),S.subscribe("getPluginPermissionBytesByJsApi",(e=>{be(e.data.pluginId,e.data.apiName,(t=>{S.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var ve=e=>e.split("/",1)[0],me=(e,t)=>{var r,n,i=null===(r=pe)||void 0===r||null===(n=r[e])||void 0===n?void 0:n[t];return null==i?i=[0,0,0]:"object"!=typeof i&&(i=[i,i,i]),i};function ye(e,t,r){t=ve(t),delete r.permissionBytes;var n=me(t,e);return r.permissionBytes=n,r}function be(e,t,r){e=ve(e),f.supportInvokeWithAppId?S.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[de[t]]}]},(t=>{var n,i,a=(null===(n=t.pluginPermissionMap)||void 0===n||null===(i=n[e])||void 0===i?void 0:i[0])||0;r([a,a,a])})):fe((()=>{var n=me(e,t);r(n)}))}function _e(e,t,r,n){r=parseInt(r,10),be(e,t,(e=>{n(e[0]===r)}))}function we(e,t,r,n){r=parseInt(r,10),be(e,t,(e=>{n(e[0]!==r)}))}var Se=(()=>re.platform)(),Ce=(()=>"devtools"===Se)(),ke=(()=>"android"===Se)(),Ie=(()=>"ios"===Se)(),Pe=(()=>"windows"===Se)(),Ae=(()=>"mac"===Se)(),xe=(()=>"mina"===Se)(),Te=(()=>Pe||Ae)();function Ee(){if(re&&"debug"in re&&void 0!==re.debug)return!!re.debug}var Me=(e=>null===(e=re.host)||void 0===e?void 0:e.env)(),Re=(()=>"SDK"===Me)(),Oe=(()=>"SAAASDK"===Me)(),De=(()=>"WMPF"===Me)(),Le=(()=>"WeChat"===Me)(),Ne=(e=>(null===(e=re.host)||void 0===e?void 0:e.forceUseNativeMap)||!1)(),Be=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function $e(){return"object"==typeof window&&window&&window.__wkrenderer_h5&&(2&window.__featBit)>0}function je(){return p.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function Fe(){var e=re.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function We(){var e=!0;return e}function Ue(){return!1}function Ve(){return!0}var qe=(()=>!0)();function ze(){return 0===re.appType}var Ge=[0,1,2,3,5,6,8,9,10,11,12,13];function He(){return Ge.includes(re.appType)}function Ke(){return 7===re.appType}function Je(){return 2===re.appType}function Xe(){return 10===re.appType}function Ye(){return 19===WXConfig.appType}var Qe=(()=>Object.prototype.toString)(),Ze=u.prototype.call.bind(Qe);function et(e){return Ze(e).slice(8,-1)}function tt(e,t){return null!=e&&(e instanceof t||null!=e.constructor&&e.constructor.name===t.name)}var rt=e=>"String"===et(e),nt=e=>"Number"===et(e),it=e=>!0===e||!1===e||"Boolean"===et(e),at=e=>void 0===e,ot=e=>null===e,st=(()=>Number.isNaN||(e=>e!=e))(),lt=(()=>Number.isFinite||(e=>nt(e)&&p.g.isFinite(e)))(),ct=e=>nt(e)&&Math.abs(e)===1/0,ut=e=>lt(e)&&Math.floor(e)===e,dt=e=>["string","number","boolean","undefined"].includes(typeof e),pt=e=>"Object"===et(e),ht=e=>pt(e)&&!ot(e),ft=e=>"Object"===et(e),gt=(()=>Array.isArray||(e=>"Array"===et(e)))(),vt=e=>"function"==typeof e,mt=e=>"Date"===et(e),yt=e=>"RegExp"===et(e),bt=e=>"Error"===et(e),_t=e=>"Symbol"===et(e),wt=e=>"Map"===et(e),St=e=>"WeakMap"===et(e),Ct=e=>"Set"===et(e),kt=e=>"WeakSet"===et(e),It=e=>"Promise"===et(e),Pt=e=>{for(var t in e)return!1;return!0},At=e=>"ArrayBuffer"===et(e),xt=e=>"DataView"===et(e),Tt=e=>ArrayBuffer.isView(e)&&!xt(e),Et=e=>e&&"WxVirtualNode"===e.type,Mt=e=>e&&"WxVirtualText"===e.type;function Rt(e,t,r="parameter"){var n=et(t),i=et(e);if(i!==n)return`${r} should be ${n} instead of ${i};`;var a="";switch(n){case"Object":Object.keys(t).forEach((n=>{a+=Rt(e[n],t[n],`${r}.${n}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var o=0;o<t.length;++o)a+=Rt(e[o],t[o],`${r}[${o}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return a}function Ot(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}function Dt(){}var Lt=(()=>Object.assign)();function Nt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Bt(e,t,r){var n=Vt(r.value);return r.value=function(){return n.apply(this,arguments)},r}function $t(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?T.thirdErrorReport({error:e,extend:t}):T.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function jt(e){var t=et(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var Ft=$t(jt,"anyTypeToString");function Wt(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var Ut=$t(Wt,"stringToAnyType");function Vt(e){return function(t={},...r){t=t||{};var{success:n,fail:i,complete:a}=t;return n||i||a?e.apply(this,[t].concat(r)):new Promise(((n,i)=>{var a=Lt({success:n,fail:i},t);e.apply(this,[a].concat(r))}))}}function qt(e,t){if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onMethod:r}=SDK;return r(e,t)}X(e,$t(t,`at api ${e} callback function`))}function zt(e,t){S.onThird(e,$t(t,`at api ${e} callback function`))}var Gt=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ht=20;function Kt(){this._events={},this._conf&&Jt.call(this,this._conf)}function Jt(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:Ht,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=Ht}function Xt(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function Yt(e){this._events={},this._newListener=!1,this._removeListener=!1,Jt.call(this,e)}Yt.prototype.delimiter=".",Yt.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},Yt.prototype.event="",Yt.prototype.once=function(e,t){return this._once(e,t,!1)},Yt.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},Yt.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},Yt.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},Yt.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},Yt.prototype._many=function(e,t,r,n){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),r.apply(this,arguments)}return a._origin=r,this._on(e,a,n),i},Yt.prototype.emit=function(){this._events||Kt.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,i,a,o=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),o>3)for(t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this,e);break;case 2:a[n].call(this,e,arguments[1]);break;case 3:a[n].call(this,e,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}}if("function"==typeof(a=this._events[e])){switch(this.event=e,o){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];a.apply(this,t)}return!0}if(a&&(a=a.slice()),a&&a.length){if(o>3)for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this);break;case 2:a[n].call(this,arguments[1]);break;case 3:a[n].call(this,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},Yt.prototype.emitAsync=function(){this._events||Kt.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,i,a,o=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),i=1;i<s;i++)t[i]=arguments[i];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,s){case 1:o.push(this._all[n].call(this,e));break;case 2:o.push(this._all[n].call(this,e,arguments[1]));break;case 3:o.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:o.push(this._all[n].apply(this,t))}}if("function"==typeof(a=this._events[e]))switch(this.event=e,s){case 1:o.push(a.call(this));break;case 2:o.push(a.call(this,arguments[1]));break;case 3:o.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,s){case 1:o.push(a[n].call(this));break;case 2:o.push(a[n].call(this,arguments[1]));break;case 3:o.push(a[n].call(this,arguments[1],arguments[2]));break;default:o.push(a[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},Yt.prototype.on=function(e,t){return this._on(e,t,!1)},Yt.prototype.prependListener=function(e,t){return this._on(e,t,!0)},Yt.prototype.onAny=function(e){return this._onAny(e,!1)},Yt.prototype.prependAny=function(e){return this._onAny(e,!0)},Yt.prototype.addListener=Yt.prototype.on,Yt.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},Yt.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||Kt.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,Xt.call(this,this._events[e].length,e))):this._events[e]=t,this},Yt.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r});for(var i=0;i<n.length;i++){if(r=n[i]._listeners,Gt(r)){for(var a=-1,o=0,s=r.length;o<s;o++)if(r[o]===t||r[o].listener&&r[o].listener===t||r[o]._origin&&r[o]._origin===t){a=o;break}if(a<0)continue;return this._events[e].splice(a,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var n in r){var i=r[n],a=t[i];a instanceof u||"object"!=typeof a||null===a||(Object.keys(a).length>0&&e(t[i]),0===Object.keys(a).length&&delete t[i])}}}(this.listenerTree),this},Yt.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},Yt.prototype.removeListener=Yt.prototype.off,Yt.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||Kt.call(this),this):(this._events&&delete this._events[e],this)},Yt.prototype.listeners=function(e){return this._events||Kt.call(this),this._events[e]||(this._events[e]=[]),Gt(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},Yt.prototype.eventNames=function(){return Object.keys(this._events)},Yt.prototype.listenerCount=function(e){return this.listeners(e).length},Yt.prototype.listenersAny=function(){return this._all?this._all:[]};const Qt=Yt;var Zt=(()=>new Qt({maxListeners:20,newListener:!1}))(),er=(()=>new Qt({maxListeners:30,newListener:!1}))();function tr(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):x.surroundThirdByTryCatch(t,`at api on${e} callback function`)}function rr(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}var nr={};function ir(e){if(e=e[0].toUpperCase()+e.slice(1),!nr[e]){var t=new WeakMap;nr[e]={getGlobalListeners:()=>Zt.listeners(e),getInternalListeners:()=>er.listeners(e),emit:(...t)=>{er.emit(e,...t),Zt.emit(e,...t)},emitGlobal:(...t)=>{Zt.emit(e,...t)},emitInternal:(...t)=>{er.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?er.prependOnceListener(e,t):er.prependListener(e,t):r.once?er.once(e,t):er.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&er.off(e,t)},onMethod:r=>{var n=tr(e,r);if(n){if(t.has(r)){var i=t.get(r);i.push(n),t.set(r,i)}else t.set(r,[n]);Zt.on(e,n)}},offMethod:r=>{if(rr(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>Zt.off(e,t))),t.delete(r)}}else t=new WeakMap,Zt.removeAllListeners(e)}}}return nr[e]}var ar={},or=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE","onGameAuditsStateChange"],sr={},lr=(e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!or.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=N;r(e,...t)}},cr=(e,...t)=>{getEventManager(`WeixinJSBridge-${e}`).emitInternal(...t)},ur=(e,t)=>{if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onNativeEvent:r}=SDK;return r(e,t)}var n=ir(`WeixinJSBridge-${e}`);ar[e]||(qt(e,((...t)=>{n.emit(...t),lr(e,...t)})),ar[e]=!0),n.internalOnMethod(t)},dr=(e,t)=>{var r=ir(`WeixinJSBridge-Third-${e}`);sr[e]||(zt(e,((...e)=>{r.emit(...e)})),sr[e]=!0),r.internalOnMethod(t)},pr=(e,t)=>{getEventManager(`WeixinJSBridge-Third-${e}`).internalOffMethod(t)},hr=(e,t)=>{ir(`WeixinJSBridge-${e}`).internalOffMethod(t)};function fr(e,t,r){return S.publish(e,t,r)}var gr=new Qt,vr,mr=e=>{vr=e,gr.emit("__virtualDOM__")},yr=gr.on.bind(gr,"__virtualDOM__"),br,_r=e=>br=e,wr,Sr=e=>{wr=e,gr.emit("__wxModule__")},Cr,kr=e=>{Cr=e,gr.emit("__subContextEngineSub__")},Ir=gr.on.bind(gr,"__subContextEngineSub__"),Pr=gr.on.bind(gr,"__wxModule__"),Ar,xr=e=>Ar=e,Tr,Er=e=>{Tr=e,gr.emit("__cloudSDK__")},Mr=gr.on.bind(gr,"__cloudSDK__"),Rr,Or=e=>Rr=e,Dr,Lr={},Nr=!1,Br=null,$r=new Promise((e=>Br=e)),jr=()=>Nr,Fr=()=>$r,Wr=e=>Lr[e]||br.getPageTypeById(e),Ur=(e,t)=>{"context"===t?Lr[e]=t:br.setPageTypeById(e,t),(Nr=Nr||"webview"!==t)&&Br&&(Br(0),Br=null)},Vr=e=>"webview"===e?e:"context",qr=e=>{if(void 0===e||0===e.length)return{};var t=Vr(Wr(e[0]));if(1===e.length)return{[t]:e};var r={};return e.forEach((e=>{var t=Vr(Wr(e));void 0!==r[t]?r[t].push(e):r[t]=[e]})),r};null===(Dr=S.clientManager)||void 0===Dr||Dr.on("clientConnected",(e=>{Ur(e,"webview")}));var zr=(e,t={},r)=>{jr()&&(Array.isArray(r)?r.forEach((r=>{$.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):$.postMessageToSubContext({event:e,params:{params:t}},r))},Gr=(e,t={},r)=>{jr()&&(Array.isArray(r)?r.forEach((r=>{$.postMessageToSubContextSync({event:e,params:{params:t,pageId:r}},r)})):$.postMessageToSubContextSync({event:e,params:{params:t}},r))};function Hr(e,t,r){fr(e,{data:t,options:{timestamp:Date.now()}},r)}var Kr=qe?(e,t,r)=>{if(null==r)Hr(e,t,r),zr(e,t,r);else{var n=qr(r);void 0!==n.webview&&Hr(e,t,n.webview),void 0!==n.context&&zr(e,t,n.context)}}:Hr,Jr=(e,t,r)=>{if(null==r)Hr(e,t,r),Gr(e,t,r);else{var n=qr(r);void 0!==n.webview&&Hr(e,t,n.webview),void 0!==n.context&&Gr(e,t,n.context)}};function Xr(e,t){S.subscribe(e,t)}function Yr(e,t){Xr(e,(({data:e,options:r},n,i={})=>{var a=r&&r.timestamp||0,o=Date.now();T.speedReport({key:"webview2AppService",data:e||{},timeMark:{startTime:a,endTime:o,nativeTime:i.nativeTime||0}}),"number"==typeof n&&void 0===Wr(n)&&Ur(n,"webview"),"function"==typeof t&&t(e,n)}))}var Qr=(e,t)=>{Zr.on(e,(e=>{void 0===Wr(e.pageId)&&Ur(e.pageId,"context"),t(e.params,e.pageId)}))},Zr=qe?new g.EventEmitter:null;qe&&g.onLibraryEnd((()=>{$.onSubContextMessage((e=>{Zr.emit(e.event,e.params)}))}));var en=qe?(e,t)=>{Yr(e,t),Qr(e,t)}:Yr,tn="",rn="",nn,an=(e={},t)=>{var r=e.sessionid||e.sessionId,n=e.scene;e.transitExtraData?(tn=e.transitExtraData.adUxInfo,rn=e.transitExtraData.commonUxInfo):(t||r!==nn&&1038!==n)&&(tn="",rn=""),nn=r};re.onReady((()=>{an(re.appLaunchInfo,!0)})),ur("onAppEnterForeground",(e=>{an(e,!1)})),ur("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(tn="",rn="")})),en("getAdUxInfo",((e,t)=>{Kr("adUxInfoGot",{adUxInfo:tn,callbackId:e.callbackId,commonUxInfo:rn},[t])}));var on=()=>tn,sn=()=>rn,ln={customUrl:null,urlTitle:null,useCustomPrivacyAuthorization:!1,popUpTime:0,externInfo:{},regExp:"(.*)<a.*?href=['|\"](.*?)['|\"].*?>(.*?)</a>(.*)",standardInfo:{},isCache:!1,protoRes:{},hasAgree:!1,needScopeCache:[],unauthScopeCache:{},actionCache:0,banReasonCache:null,officialPrivacyAuthorizationShowingGap:60,minGap:60,popUpInterval:{},forceOffcial:0,safeAreaHeight:0,isShowing:!1,requireAuthJSApiList:[],requireAuthJSApiListMap:{},requireAuthPipelineList:[],requireAuthPipelineListMap:{},requireAuthOuterScopeList:[],requireAuthOuterScopeListMap:{},useCheckBoxOnClientPopup:!1,didReportForPrivacyCheckBox:!1},cn={jsapi_location:!0,jsapi_location_background:!0,jsapi_gameclubdata:!0,group_jumpfinderlive:!0,jsapi_fuzzy_location:!0,webapi_userinfo:!0,webapi_getuserwxphone_group:!0,webapi_werun:!0,jsapi_licenseplate:!0,jsapi_record:!0,jsapi_camera:!0,webapi_bluetooth:!0,jsapi_photos_album:!0,jsapi_phonecontact:!0,jsapi_photocalendar:!0,jsapi_choose_location:!0,jsapi_address:!0,jsapi_invoice:!0,jsapi_media:!0,jsapi_messagefile:!0,jsapi_accelerometer:!0,jsapi_wxfriend_interaction:!0,jsapi_compass:!0,jsapi_devicemotion:!0,jsapi_gyroscope:!0,jsapi_clipboard:!0},un={getLocation:[["jsapi_location"],"getLocation",""],startLocationUpdate:[["jsapi_location"],"enableLocationUpdate",""],onLocationChange:[["jsapi_location"],"",""],"scope.userLocation":[["jsapi_location"],"getLocation",""],getWifiList:[["jsapi_location"],"getLocation",""],moveToLocation:[["jsapi_location"],"moveToMapLocation",""],startLocationUpdateBackground:[["jsapi_location_background"],"enableLocationUpdateBackground",""],"scope.userLocationBackground":[["jsapi_location_background"],"enableLocationUpdateBackground",""],getGameClubData:[["jsapi_gameclubdata"],"","webapi_getgameclubdata"],"scope.gameClubData":[["jsapi_gameclubdata"],"","webapi_getgameclubdata"],getChannelsLiveInfo:[["group_jumpfinderlive"],"","webapi_getfinderviewlastlive"],getFuzzyLocation:[["jsapi_fuzzy_location"],"getFuzzyLocation",""],"scope.userFuzzyLocation":[["jsapi_fuzzy_location"],"getFuzzyLocation",""],getUserProfile:[["webapi_userinfo"],"","webapi_getuserprofile"],getUserInfo:[["webapi_userinfo"],"","webapi_getuserinfo"],"UserInfoButton.onTap":[["webapi_userinfo"],"","webapi_getuserinfo"],"button.chooseAvatar":[["webapi_userinfo"],"","webapi_getuseravatarpopupinfo"],"input.nickname":[["webapi_userinfo"],"","webapi_getuseravatarpopupinfo"],"scope.userInfo":[["webapi_userinfo"],"","webapi_getuserinfo"],"button.getPhoneNumber":[["webapi_getuserwxphone_group"],"",""],getWeRunData:[["webapi_werun"],"","webapi_getwerunstep_history"],"scope.werun":[["webapi_werun"],"","webapi_getwerunstep_history"],chooseLicensePlate:[["jsapi_licenseplate"],"",""],startRecord:[["jsapi_record"],"startRecord",""],"RecorderManager.start":[["jsapi_record"],"startRecord",""],"RecorderManager.stop":[["jsapi_record"],"operateRecorder",""],joinVoIPChat:[["jsapi_record"],"startRecord",""],join1v1Chat:[["jsapi_record"],"startRecord",""],"scope.record":[["jsapi_record"],"startRecord",""],"wx-live-pusher.attached":[["jsapi_record","jsapi_camera"],"startRecord",""],"VKSession.start":[["jsapi_camera"],"insertCamera",""],"CameraContext.onCameraFrame":[["jsapi_camera"],"insertCamera",""],"scope.camera":[["jsapi_camera"],"insertCamera",""],"wx-camera.attached":[["jsapi_camera"],"insertCamera",""],createCamera:[["jsapi_camera"],"insertCamera",""],openBluetoothAdapter:[["webapi_bluetooth"],"openBluetoothAdapter",""],createBLEPeripheralServer:[["webapi_bluetooth"],"createBLEPeripheralServer",""],"scope.bluetooth":[["webapi_bluetooth"],"openBluetoothAdapter",""],saveImageToPhotosAlbum:[["jsapi_photos_album"],"saveImageToPhotosAlbum",""],saveVideoToPhotosAlbum:[["jsapi_photos_album"],"saveVideoToPhotosAlbum",""],"scope.writePhotosAlbum":[["jsapi_photos_album"],"saveImageToPhotosAlbum",""],addPhoneContact:[["jsapi_phonecontact"],"addPhoneContact",""],"scope.addPhoneContact":[["jsapi_phonecontact"],"addPhoneContact",""],addPhoneRepeatCalendar:[["jsapi_photocalendar"],"addPhoneRepeatCalendar",""],addPhoneCalendar:[["jsapi_photocalendar"],"addPhoneCalendar",""],"scope.addPhoneCalendar":[["jsapi_photocalendar"],"addPhoneCalendar",""],chooseLocation:[["jsapi_choose_location"],"",""],choosePoi:[["jsapi_choose_location"],"",""],chooseAddress:[["jsapi_address"],"openAddress",""],"scope.address":[["jsapi_address"],"openAddress",""],chooseInvoiceTitle:[["jsapi_invoice"],"chooseInvoiceTitle",""],chooseInvoice:[["jsapi_invoice"],"chooseInvoice",""],"scope.invoiceTitle":[["jsapi_invoice"],"chooseInvoiceTitle",""],"scope.invoice":[["jsapi_invoice"],"chooseInvoice",""],chooseVideo:[["jsapi_media"],"",""],chooseImage:[["jsapi_media"],"",""],chooseMedia:[["jsapi_media"],"",""],chooseMessageFile:[["jsapi_messagefile"],"",""],startAccelerometer:[["jsapi_accelerometer"],"",""],stopAccelerometer:[["jsapi_accelerometer"],"",""],onAccelerometerChange:[["jsapi_accelerometer"],"",""],offAccelerometerChange:[["jsapi_accelerometer"],"",""],getFriendCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_getfrienduserstorage"],getGroupCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_getgroupuserstorage"],getGroupInfo:[["jsapi_wxfriend_interaction"],"","webapi_getshareinfo_byopengid"],getPotentialFriendList:[["jsapi_wxfriend_interaction"],"","webapi_game_potential_friends"],getUserCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_getselfuserstorage"],setUserCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_setselfuserstorage"],removeUserCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_removeselfuserstorage"],getUserCloudStorageKeys:[["jsapi_wxfriend_interaction"],"","webapi_getuserstorageallappkey"],"GameServerManager.getFriendsStateData":[["jsapi_wxfriend_interaction"],"","webapi_opengameinfo_getfriendsuserdata"],getUserInteractiveStorage:[["jsapi_wxfriend_interaction"],"","webapi_getuserinteractivedata"],"scope.WxFriendInteraction":[["jsapi_wxfriend_interaction"],"","webapi_getuserinteractivedata"],"openDataContext.getUserInfo":[["jsapi_wxfriend_interaction"],"","webapi_getuserinfo_byopenid"],"scope.cloudGameFriend":[["app_snsapi_friend"],"",""],startCompass:[["jsapi_compass"],"",""],stopCompass:[["jsapi_compass"],"",""],onCompassChange:[["jsapi_compass"],"",""],offCompassChange:[["jsapi_compass"],"",""],startDeviceMotionListening:[["jsapi_devicemotion"],"",""],stopDeviceMotionListening:[["jsapi_devicemotion"],"",""],onDeviceMotionChange:[["jsapi_devicemotion"],"",""],offDeviceMotionChange:[["jsapi_devicemotion"],"",""],startGyroscope:[["jsapi_gyroscope"],"",""],stopGyroscope:[["jsapi_gyroscope"],"",""],onGyroscopeChange:[["jsapi_gyroscope"],"",""],offGyroscopeChange:[["jsapi_gyroscope"],"",""],setClipboardData:[["jsapi_clipboard"],"",""],getClipboardData:[["jsapi_clipboard"],"",""]},dn=(e,t={})=>{if(ln.didReportForPrivacyCheckBox)return!1;if("operateWXData"===e){var r;if(null!=t&&null!==(r=t.data)&&void 0!==r&&r.api_name)return ln.requireAuthPipelineListMap[t.data.api_name]}else{if("authorize"!==e)return ln.requireAuthJSApiListMap[e];if(t.scope&&t.scope[0])return ln.requireAuthOuterScopeListMap[t.scope[0]]}};function pn(){return 4===re.appType||19===re.appType}var hn=new Qt;function fn(e,t,r,n={}){var i=r;r=r=>{dn(e,t)&&(0===(r.errMsg||`${e}:ok`).indexOf(`${e}:ok`)&&hn.emit("success",e));"function"==typeof i&&i(r)},"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||on(),t.commonUxInfo=t.commonUxInfo||sn());var a=n.appId;return"splashad"===g.env.workerType||re.supportInvokeWithAppId||void 0===a||pn()?S.invoke(e,t,r,n):fe((()=>{var i=ye(e,a,t);S.invoke(e,i,r,n)}))}function gn(e,t,r,n={}){if(ke)try{t=JSON.stringify(t)}catch(e){console.error("invokeThird unexpected arguments:",t)}return S.invokeThird(e,t,r,n)}var vn={},mn={},yn={},bn=0,_n=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((n=>({func:r,result:e,errMsg:n,count:t[r][n]}))))),wn=()=>{vn={},mn={},yn={}},Sn=()=>{var e=_n(1,vn),t=_n(2,mn),r=_n(3,yn),n=[].concat(e,t,r);0!==n.length&&md("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:T.getAppType()}),noCallback:!0}),wn()},Cn=(e,t,r,n,i)=>{var a;(a=t?vn:r?mn:yn)[e]=a[e]||{},a[e][i]=(a[e][i]||0)+1,Date.now()-bn>=6e4&&(bn=Date.now(),setTimeout(Sn,6e4))},kn=0,In=1,Pn=2,An=3,xn=4,Tn=5,En=6,Mn=7,Rn=8,On=100,Dn=101,Ln=102,Nn=103,Bn=104,$n=105,jn=106,Fn=107,Wn=108,Un=109,Vn=110,qn=111,zn=112,Gn=1e3,Hn=1001,Kn=1002,Jn=1003,Xn=1004,Yn=1005,Qn=1006,Zn=1007,ei=1008,ti=1009,ri=1010,ni=1011,ii=1012,ai=1013,oi=1014,si=1015,li=1016,ci=1017,ui=1018,di=1019,pi=1020,hi=1021,fi=1022,gi=1023,vi=1024,mi=1025,yi=1026,bi=50001,_i=100001,wi=101100,Si=101101,Ci=101102,ki=102101,Ii=103101,Pi=103102,Ai=106e3,xi=106001,Ti=106002,Ei=106003,Mi=106004,Ri=106005,Oi=106010,Di=109001,Li=2e5,Ni=201001,Bi=201002,$i=201003,ji=301001,Fi=301002,Wi=301003,Ui=401101,Vi=401102,qi=500001,zi=502001,Gi=503101,Hi=504101,Ki=505101,Ji=510001,Xi=510101,Yi=6e5,Qi=600001,Zi=600002,ea=600003,ta=600004,ra=600005,na=600006,ia=600007,aa=600008,oa=600009,sa=600010,la=600011,ca=602e3,ua=602001,da=602002,pa=602101,ha=602102,fa=602103,ga=602104,va=602105,ma=602106,ya=602107,ba=602108,_a=602120,wa=602300,Sa=602301,Ca=602302,ka=603101,Ia=603102,Pa=603103,Aa=603104,xa=603105,Ta=603300,Ea=603301,Ma=603302,Ra=603303,Oa=605101,Da=605102,La=605103,Na=606101,Ba=7e5,$a=700001,ja=701e3,Fa=701001,Wa=701002,Ua=701100,Va=701101,qa=701102,za=701103,Ga=701104,Ha=701105,Ka=701106,Ja=701107,Xa=701108,Ya=701109,Qa=701110,Za=701111,eo=701112,to=701113,ro=701114,no=701115,io=701116,ao=701117,oo=8e5,so=800001,lo=800002,co=800003,uo=801001,po=802001,ho=901101,fo=901102,go=901103,vo=1103002,mo=1103003,yo=1103004,bo=1103005,_o=1103006,wo=1103007,So=1107001,Co=1107002,ko=1107003,Io=1107004,Po=1107005,Ao=1107006,xo=1107007,To=1107008,Eo=1107009,Mo=1107010,Ro=1107011,Oo=1107012,Do=1107013,Lo=12e5,No=1300001,Bo=1300002,$o=1300005,jo=1300009,Fo=1300013,Wo=1300014,Uo=1300020,Vo=1300021,qo=1300022,zo=1300036,Go=1300066,Ho=1300201,Ko=1300202,Jo=1300203,Xo=1300300,Yo=1300301,Qo=1301e3,Zo=1301002,es=1301003,ts=1301004,rs=1301005,ns=1301006,is=1301007,as=1301008,os=1301009,ss=1301100,ls=1301102,cs=1301103,us=1301104,ds=1301111,ps=1301112,hs=1302001,fs=1302002,gs=1302003,vs=1302004,ms=1302005,ys=1302100,bs=14e5,_s=1400001,ws=1402101,Ss=1404e3,Cs=1404100,ks=1404101,Is=1404102,Ps=1404103,As=1404104,xs=1412e3,Ts=1412001,Es=1412002,Ms=1412003,Rs=1412004,Os=1416100,Ds=1416101,Ls=1416102,Ns=1416103,Bs=1416104,$s=1416105,js=1416106,Fs=1416107,Ws=1416108,Us=1416109,Vs=1420103,qs=1421101,zs=1500101,Gs=1500102,Hs=1500103,Ks=1500104,Js=1500105,Xs=1502001,Ys=1502002,Qs=1502003,Zs=1503e3,el=1504e3,tl=1504001,rl=1504002,nl=1504003,il=1504100,al=1504101,ol=1504200,sl=1504201,ll=1504202,cl=1504203,ul=1504204,dl=1504205,pl=1504206,hl=1504207,fl=1504208,gl=1504209,vl=1504210,ml=1505e3,yl=1505001,bl=1505002,_l=1505003,wl=1505004,Sl=1505005,Cl=1505006,kl=1505020,Il=1505021,Pl=1505022,Al=1505023,xl=1505024,Tl=1505025,El=1505026,Ml=1505027,Rl=1505028,Ol=1505029,Dl=1505030,Ll=1505031,Nl=1505032,Bl=1505040,$l=1509e3,jl=1509001,Fl=1509002,Wl=1509003,Ul=1509004,Vl=1509005,ql=1509006,zl=1509007,Gl=1509008,Hl=1509009,Kl=1509010,Jl=151e4,Xl=1510101,Yl=1510102,Ql=1510103,Zl=1510104,ec=1510105,tc=1510106,rc=1510107,nc=1510108,ic=1510109,ac=1510110,oc=1510111,sc=1510112,lc=1510113,cc=1510114,uc=1512001,dc=1512002,pc=1517001,hc=1525001,fc=1525002,gc=1525003,vc=2e6,mc=2000001,yc=2000002,bc=2000003,_c=2000004,wc=2002e3,Sc=2002001,Cc=2002002,kc=2002003,Ic=2002004,Pc=2002005,Ac=2003e3,xc=2003001,Tc=2003002,Ec=2004e3,Mc=2004001,Rc=2004002,Oc=2004003,Dc=2004004,Lc=2004005,Nc=2004006,Bc=2004007,$c=2004008,jc=2004009,Fc=2004010,Wc=2004011,Uc=2004012;function Vc(e,t,r){var n=Rt(t,r);return!n||(Hc({name:e,args:t,errno:Hn,errMsg:`parameter error: ${n}`,success:!1}),!1)}function qc(e,t){var r=Rt(e,t);if(r)throw new Error(`parameter error: ${r}`)}function zc(e,t={},r,n){var i=nt(r);Hc({name:e,args:t,errno:i?r:void 0,errMsg:i?void 0:r,errCode:i?void 0:n,success:!1})}function Gc({name:e,args:t={},errMsg:r="",res:n={}}){t=t||{};var i=`${e}:${r}`,a=x.surroundThirdByTryCatch(t.complete||Dt,`at api ${e} complete callback function`);n.errMsg=i,a(n)}function Hc({name:e,args:t={},success:r=!0,errno:n,errMsg:i="",errCode:a,res:o={},exception:s}){t=t||{};var l=x.surroundThirdByTryCatch((r?t.success:t.fail)||Dt,`at api ${e} ${r?"success":"fail"} callback function`),c=x.surroundThirdByTryCatch(t.complete||Dt,`at api ${e} complete callback function`);nt(n)?(o.errno=n,o.errMsg=`${e}:fail${i&&":"!==i[0]?" ":""}${i||""}`):(o.errMsg=r?`${e}:ok`:`${e}:fail ${i}`,nt(a)&&(o.errCode=a)),s&&(o.exception=s),l(o),c(o)}var Kc=({success:e,fail:t,complete:r}={},n)=>{var i=e=>{"function"==typeof t&&(n?x.surroundThirdByTryCatch(t,`at api ${n} fail callback function`)(e):t(e)),"function"==typeof r&&(n?x.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&n&&(t.errMsg=`${n}:ok`),"function"==typeof e&&(n?x.surroundThirdByTryCatch(e,`at api ${n} success callback function`)(t):e(t)),"function"==typeof r&&(n?x.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(t):r(t))},fail:i,failWithMsg:({code:e,msg:t,errno:r,name:a}={})=>{var o={};"number"==typeof r&&r>0?(o.errno=r,o.errMsg=`${a||n}:fail`):(o.errMsg=`${a||n}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),i(o)}}},Jc=(()=>Object.assign)();function Xc(e,t,r){var n=r.value,i=surroundByPromiseFactory(eu(t,n));return r.value=function(){return i.apply(this,arguments)},r}var Yc=Symbol("ErrorInfosSymbol"),Qc=(()=>class extends Error{constructor(e,t={}){super(e),this[Yc]=t}})(),Zc=e=>(t={},...r)=>new Promise(((n,i)=>e(Jc({},t,{success:n,fail:e=>{var{errMsg:t}=e,r=Jc({},e);delete r.errMsg;var n=new Error(t.replace(/^\w+:fail ?/,""));Jc(n,r),n[Yc]=r,i(n)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),n=Jc({},e);delete n.errMsg,Jc(r,n),r[Yc]=n,r._complete_hook=!0,i(r)}}}),...r)));function eu(e,t){return(r={},...n)=>{var i={success:r.success,fail:r.fail,complete:r.complete};delete(r=Jc({},r)).success,delete r.fail,delete r.complete,t(r,...n).then((t=>Hc({name:e,args:i,success:!0,res:t})),(t=>{t._complete_hook?Gc({name:e,args:i,errMsg:t.message,res:t[Yc]||{}}):Hc({name:e,args:i,success:!1,errMsg:t.message,res:t[Yc]||{}})}))}}var tu=(e,t)=>Vt(eu(e,t)),ru=1024,nu={FORE_GROUND:0,BACK_GROUND:1,LOCK:2},iu=null,au=null,ou=null,su=void 0,lu=new Promise((e=>{ou=e})),cu={lastRoute:"",lastOpenType:"",lastActiveWebviewId:null,pageRenderer:"",scene:-1,sceneNote:"",query:{},rawPath:"",runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:nu.FORE_GROUND,navigationBarTitleMap:{},currentNetworkType:"",isWeakNetwork:!1,singlePageData:{},openingInnerPage:!1,get currentWebviewId(){return su},set currentWebviewId(e){su=e,ou&&(ou(null),ou=null)},currentWebviewIdPromise:lu,getWebviewIds:()=>br.getGlobalWebviewIds(),get hasWebViewCompnent(){return Boolean(cu.webViewComponentInfo[su])},webViewComponentInfo:{},get lastActiveRoute(){if("number"!=typeof cu.lastActiveWebviewId)return cu.lastRoute;var e=br.getPageByWebviewId(cu.lastActiveWebviewId);return(null==e?void 0:e.route)||cu.lastRoute}};const uu=cu;var du={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},pu={OK:1,BLOCK:2,NO_BLOCK:3},hu={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},fu="该功能暂时无法使用",gu=y.createLogger("BanForPage"),vu=!1,mu=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),yu=[];function bu(e){if(!e)return-1;var t=-1;try{t=yu.findIndex((t=>rt(t.path_rule)&&new RegExp(t.path_rule).test(e)))}catch(e){gu.log(`[getBanRuleIndexByPath] error: ${e.message}`)}return gu.log(`[getBanRuleIndexByPath] path="${e}", index=${t}`),t}function _u(e,t,r){for(var n=-1,i=0;i<yu.length;i++){var a=yu[i];if((!rt(a.path_rule)||!a.path_rule||new RegExp(a.path_rule).test(t))&&(!rt(a.title_rule)||!a.title_rule||new RegExp(a.title_rule).test(r))){n=i;break}}return gu.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}function wu(e,t){var r,n,i=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!i)return gu.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(gu.log("[checkAPIAvailableForPageByRule], found APIItem:",i),i.state===du.OK)r=!1;else if(i.state===du.BLOCK)r=!0;else if(i.state===du.BLOCK_WITH_TOAST&&(r=!0,1===e.is_valid)){var a=i.toast_wording||fu;Id("showToast",{title:a,icon:"none"})}return n=r?e.is_valid?pu.BLOCK:pu.NO_BLOCK:pu.OK,ku(t,n,hu.API,t),1!==e.is_valid||!r}function Su(e,t,r){var n=_u(e,t,r);return-1===n?(ku(e,pu.OK,hu.API,e),!0):wu(yu[n],e)}function Cu(e){var t=Object.keys(uu.query).reduce(((e,t)=>[...e,`${t}=${uu.query[t]}`]),[]).join("&");return Su(e,uu.lastRoute+(t?`?${t}`:""),uu.navigationBarTitleMap[uu.lastRoute]||"")}function ku(e,t,r,n="",i=""){if(gu.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${n}, needReport=${vu}`),vu){var{appLaunchInfo:a}=re,o=Object.keys(uu.query).map((e=>`${e}=${uu.query[e]}`)).join("&"),s={session_id:a.sessionid||a.sessionId,cur_path:uu.lastRoute+(o?`?${o}`:""),title:uu.navigationBarTitleMap[uu.lastRoute],check_scene:r,block_status:t,extra_info:n,launch_scene:a.scene,launch_path:a.path,target_path:i};gu.log("[reportAPIBanForPage], reqData:",s),TE({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){gu.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}re.onReady((()=>{if(!Ce)try{var{do_report:e,navigate_ban_rule_list:t}=re.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;yu=t,vu=1===e&&He(),mu=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),mu))}catch(e){gu.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var Iu=u.prototype.call.bind(Array.prototype.push),Pu=u.prototype.call.bind(Array.prototype.forEach),Au=["startPullDownRefresh"],xu=[],Tu={appRoute:!1,appRouteDone:!1},Eu=()=>{Pu(xu,(e=>{var{name:t,args:r,option:n}=e;vd(t,r,n)})),xu=[]},Mu=(e,t,r)=>{var{appRoute:n,appRouteDone:i}=Tu;!n&&i?vd(e,t,r):Iu(xu,{name:e,args:t,option:r})},Ru=void 0!==a&&a?a.version:"unknown",Ou=void 0!==a&&a?a.updateTime:"unknown";"string"==typeof Ru&&(Ru=Ru.replace(" ","")),"string"==typeof Ou&&(Ou=Ou.replace(" ","-"));var Du=()=>Ru,Lu=()=>Ou;function Nu(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}function Bu(e,t=!0){var r=et(e);switch(r){case"Number":case"Boolean":return e;case"String":return Nu(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${Bu(e.message)}|${Bu(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${Bu(t)}=${Bu(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;case"Array":var n=[];return t?(e.forEach((e=>n.push(Bu(e,"Array"!==et(e))))),n.join(";")):`[${r}]`;default:return`[${r}]`}}var $u={};re.onReady((()=>{Object.assign($u,re.appLaunchInfo),ur("onAppEnterForeground",(e=>{Object.assign($u,e)}))}));var ju=()=>$u;function Fu(){if(void 0===br)return"";var e=br.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}var Wu=(()=>Array.prototype.map)(),Uu=u.prototype.call.bind(Wu),Vu=(()=>Array.prototype.join)(),qu=u.prototype.call.bind(Vu);function zu(e,t,r){var n=t.url||"",i=qu(Uu([re.appType+1e3,e,Fu(),ju().scene,encodeURIComponent(ju().scene_note||ju().sceneNote),Bu(t),r,0,Du(),Lu(),ju().sessionid||ju().sessionId,n],Nu(1024)),",");T.reportKeyValue({key:"OpenUrl",value:i})}var Gu=(()=>Object.create)(),Hu=(()=>Object.assign)(),Ku=(()=>Object.keys)(),Ju=(()=>Array.prototype.reduce)(),Xu=Array.prototype.includes.bind(Au),Yu=u.prototype.call.bind(Ju),Qu=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"],Zu=e=>Be||ke&&Qu.includes(e),ed;function td(e){void 0===ed&&(ed=e)}function rd(e,t,r,n,i){var a=function(){"function"==typeof e.success&&e.success(r),"function"==typeof n.afterSuccess&&n.afterSuccess(r)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(r,a):(n.beforeSuccess(r),a()):a(),"function"==typeof ed&&ed(t,i)}function nd(e,t,r,n){var i=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(i,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}function id(e,t,r,n){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof n.fail&&n.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),vt(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||T.reportIDKey({key:`${t}_fail`})}function ad(e,t){return Yu(Ku(e),((r,n)=>("function"==typeof e[n]&&(r[n]=x.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),r)),{})}function od(e,t){return Yu(Ku(e),((r,n)=>("function"==typeof e[n]&&(r[n]=$t(e[n],`at api ${t} ${n} callback function`),r[n]._argumentsLength=e[n].length),r)),{})}function sd(e,t,r,n,i){e.errMsg=e.errMsg||`${t}:ok`;var a=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),a?rd(r,t,e,n,i):o?nd(e,t,r,n):s&&(fd(e,i),id(n,t,e,r,t)),"function"==typeof r.complete&&r.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),Cn(t,a,s,o,e.errMsg)}function ld(e,t,r,n){var i;return i=r.isThird?ad(r,t):ad(e,t),function(e){sd(e,t,i,r,n)}}var cd=(()=>String.prototype.split)(),ud=(()=>String.prototype.startsWith)(),dd=u.prototype.call.bind(cd),pd=e=>dd(e,"/",1)[0],hd=u.prototype.call.bind(ud),fd=(e,t)=>{if("string"==typeof e.errMsg&&f&&f.accountInfo){var r=f.accountInfo.appId;"string"==typeof t&&hd(t,"wx")&&(r=pd(t));var n=e.errMsg.split(":");102!==e.errno&&"fail no permission"!==n[n.length-1]||(e.errMsg=`${e.errMsg}, appId=${r}`)}};function gd(e){return function(t,r={},n={},i="/"){var a=n.notPack;pt(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),"openUrl"!==t&&"private_openUrl"!==t||zu(t,r,Date.now()),n=od(n,t);var o=ld(r=Hu(Gu(null),r),t,n,i);T.reportIDKey({key:t});var s={keepOriginalParams:Zu(t)};if(g.env.isMagicBrushFrameEnv&&r.contextId&&(s.contextId=r.contextId,delete r.contextId),!e&&"splashad"!==g.env.workerType){if(He()&&mu.has(t)&&!Cu(t))return void o({errMsg:`${t}:fail API has been banned`});if(delete r.pluginId,delete r.permissionBytes,"string"==typeof i&&hd(i,"wx")){var l=pd(i);s.appId=l}}a&&(s.notPack=!0),fn(t,r,o,s)}}var vd=gd(!1),md=(e,t,r)=>{Xu(e)?Mu(e,t,r):vd(e,t,r)},yd=(e,t,r)=>Zc((t=>md(e,t,r)))(t),bd=e=>e?(t,r,n)=>{vd(t,r,n,e)}:md,_d={},wd,Sd=()=>{if(wd)return wd;var e=(e,t)=>{var r=_d[t];if(r){e.errMsg=e.errMsg||`${r.__jsapi_name__}:ok`;var n=0===e.errMsg.indexOf(`${r.__jsapi_name__}:ok`),i=new RegExp(`${r.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),a=0===e.errMsg.indexOf(`${r.__jsapi_name__}:fail`);try{n&&r.success?r.success(e):i&&r.cancel?r.cancel():a&&r.fail(e),r.complete&&r.complete(e)}catch(e){}Cn(r.__jsapi_name__,n,a,i,e.errMsg),delete _d[t]}};return wd=e,e},Cd=(e,t,r)=>{var n,i=r.notPack,a={pureInvoke:!0,highPerformance:_d,keepOriginalParams:Be};n=wd||Sd(),g.env.isMagicBrushFrameEnv&&t.contextId&&(a.contextId=t.contextId,delete t.contextId),i&&(a.notPack=!0),t.__jsapi_name__=e,S.pureInvoke(e,t,n,a)},kd=gd(!0),Id=(e,t,r)=>{kd(e,t,r)},Pd=e=>e?(t,r,n)=>{kd(t,r,n,e)}:Id;ue.invoke=md;const Ad=d.asyncToGenerator;var xd=p.n(Ad),Td=e=>{if(Ce){var t=Object.assign({},e);t.fromSaaADataPipe=!0,t.reqData={saaaData:t.reqData,idaas_token:e.idaasSessionKey||""},TE(t)}else md("sendSaaADataPipe",e)},Ed=e=>new Promise(((t,r)=>{Td({...e,success:e=>{t(e)},fail:e=>{r(e)}})})),Md=(e={})=>{Vc("close",e,{fd:""})&&md("close",e)},Rd=({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if(md("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},Od=32768,Dd=16384,Ld=61440;class Nd{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=n}_checkModeProperty(e){return(this.mode&Ld)===e}isDirectory(){return this._checkModeProperty(Dd)}isFile(){return this._checkModeProperty(Od)}}var Bd=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new Nd(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new Nd(e.stats[""]);else{var n=[],i=e.stats;ke&&(i=e,n.push({path:"/",stats:jd(t)})),Object.keys(i).forEach((e=>{if("errMsg"!==e){var t=i[e];""===e&&(e="/"),n.push({path:e,stats:new Nd(t)}),delete i[e]}})),e.stats=n}},$d=(e={})=>{Vc("stat",e,{path:""})&&md("stat",e,{beforeSuccess:t=>{Bd(t,e.path)}})},jd=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,n,i;if(md("statSync",{path:e,recursive:t,success(t){Bd(t,e),r=t.stats},fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}return r},Fd=(e={})=>{Vc("fstat",e,{fd:""})&&md("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:n,lastModifiedTime:i}=e;n>1617e9&&(n=Math.floor(n/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),e.stats=new Nd({mode:t,size:r,lastAccessedTime:n,lastModifiedTime:i}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},Wd=({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,n;if(md("fstatSync",{fd:e,fail(e){r=e.errMsg,n=e.errno},success(e){var{mode:r,size:n}=e,{lastAccessedTime:i,lastModifiedTime:a}=e;i>1617e9&&(i=Math.floor(i/1e3)),a>1617e9&&(a=Math.floor(a/1e3)),t=new Nd({mode:r,size:n,lastAccessedTime:i,lastModifiedTime:a})}}),r){var i=new Error(r);throw i.errno=n,i}return t},Ud=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"];class Vd extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class qd extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}function zd(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}function Gd(e,t){for(var r in t)e[r]=t[r];return e}var Hd=Object.prototype.hasOwnProperty;function Kd(e,t){return Hd.call(e,t)}function Jd(e,t,r){!1!==pt(e)&&t!==r&&Kd(e,t)&&(e[r]=e[t],delete e[t])}function Xd(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}function Yd(e,t=!0){if("string"!=typeof e)return e;var r=e.split("?")[0],n=e.split("?")[1];return(t||0!==r.length)&&(r+=".html"),void 0!==n?`${r}?${n}`:r}function Qd(e){var t={protocol:/^(.+):\/\//,host:/:\/\/(.+?)[?#\s/]/,path:/\w(\/.*?)[?#\s]/,query:/\?(.+?)[#/\s]/,hash:/#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((r=>{var n=t[r];t[r]="query"===r?n.exec(e)&&n.exec(e)[1].split("&").reduce(((e,t)=>{var r=t.split("=");return e[r[0]]=r[1],e}),{}):n.exec(e)&&n.exec(e)[1]})),t}var Zd=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function ep(e,t=!1){if("object"!=typeof e)return e;var r="";for(var n in e)if(Kd(e,n))if(t)try{r+=`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}&`}catch(t){r+=`${n}=${e[n]}&`}else r+=`${n}=${e[n]}&`;return r&&(r=r.slice(0,-1)),r}function tp(e){var t={};if(e.indexOf("?")>-1){var r=e.indexOf("?")+1,n=e.substring(r);if(n.indexOf("#")>-1&&(n=n.substring(0,n.indexOf("#"))),!n)return t;for(var i=n.split("&"),a=0;a<i.length;a++){var o=i[a].split("=");t[o[0]]=o[1]}}return t}var rp=null;function np(e,t){var r=Object.keys(t),n=!1,i=!1,a=rp;if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){for(var o,s="",l=0;l<e.length;l++){var c=e[l];if(i||!n)if(s+=c,"?"!==c||n){if("&"===c&&n)a!==rp?s+=encodeURIComponent(a):a=rp,o=Array(r.length).fill(0),i=!0;else if(n&&"="===c){i=!1;for(var u=0;u<o.length;u++)!1!==o[u]&&o[u]===r[u].length&&(a=t[r[u]])}else if(i){for(var d=void 0,p=0;p<o.length;p++){if(!1!==o[p])d=!0,r[p][o[p]]!==c?o[p]=!1:o[p]++}d||(o=[])}}else n=!0,i=!0,o=Array(r.length).fill(0);else if(a===rp){s+=c;continue}}s+=n?"&":"?";for(var h=0;h<r.length;h++){var f=r[h];s+=f+"=",s+=encodeURIComponent(t[f])}return s}return e}function ip(e,t){var r=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){var n=e.split("?"),i=n[0],a=(n[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),o=r.reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{});return i+"?"+ep(zd(a,o))}return e}function ap(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function op(e){if("string"==typeof e){var t=e.split("?"),r=t[0],n=(t[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),i=[];for(var a in n)Kd(n,a)&&i.push(`${a}=${encodeURIComponent(n[a])}`);return i.length>0?`${r}?${i.join("&")}`:e}return e}function sp(e){if(!Ce||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),r=t[1]||"",n=r.length>0?"&":"";e=`${t[0]}?${r}${n}devtools_ignore=true`}return e}var lp=/^[-+a-zA-Z0-9]+:\/\//,cp=/(^|\/)__[-+a-zA-Z0-9]+__\//;function up(e,t){return x.wrapSystemFunction("appServiceSDKScriptError",t,e)}function dp(e,t,r=!0){if(y.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${r}`),r&&(t=Yd(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return dp(e,t.substr(2),!1);var n,i,a=t.split("/");for(n=0,i=a.length;n<i&&".."===a[n];n++);a.splice(0,n);var o=e.length>0?e.split("/"):[];o.splice(o.length-n-1,n+1);var s=o.concat(a).join("/");return y.info(`[getRealRoute] finalRoute=${s}`),s}function pp(e){var t=e.match(lp);if(!t)return e;var r=t[0];if("plugin://"===r){var n=r.length,i=e.indexOf("/",n);if(i>=0){var a=e.slice(n,i),o=re.plugins&&re.plugins[a]?re.plugins[a].provider:a;e=e.slice(0,n)+o+e.slice(i)}var s=e.indexOf("?");s<0&&(s=e.length);var l=e.slice(0,s),c=Ar.Component._list[l];if(!c)throw new Vd(`Page "${l}" is not found`);e=c.is+e.slice(s)}else if("plugin-private://"===r){var u=e.indexOf("?");u<0&&(u=e.length);var d=e.slice(0,u);e="/"+br.convertComponentAliasToRoute(d)+e.slice(u)}else{if("wx://"!==r&&"wxpage://"!==r)throw new Vd(`Unknown URL protocol "${r}"`);e="/__wx__/"+e.slice(r.length)}return e}function hp(e,t=""){return t=t.replace(/^\//,""),Ue()?`__plugin__/${e}/${t}`:pp(`plugin-private://${e}/${t}`)}function fp(e,t,r=!0){for(;lp.test(t);)t=pp(t);var n=dp(e,t,r);return y.info(`[getRealRouteWithProtocol] lastRoute=${e}, relativeRoute=${t}, ret=${n}`),n}function gp(e){var t=e.match(lp),r=e.match(cp),n="";if(t){var i=t[0];if("plugin://"===i){var a=i.length,o=e.indexOf("/",a);if(o>=0){var s=e.slice(a,o);n=re.plugins&&re.plugins[s]?re.plugins[s].provider:s}}else if("plugin-private://"===i){var l=i.length,c=e.indexOf("/",l);if(c>=0)n=e.slice(l,c)}else"wx://"===i&&(n="//")}if(r){var u=r[0];if(u.endsWith("__plugin__/")){var d=e.indexOf(u)+u.length,p=e.indexOf("/",d);if(p>=0)n=e.slice(d,p)}else u.endsWith("__wx__/")&&(n="//")}return n}function vp(e,t){var r=gp(t);return!r||gp(vr.convertRouteToComponentAlias(e))===r}function mp(e){var t=e.match(lp);return t?t[0]:null}function yp(e,t){var r=new FileReader;r.onload=function(){t(this.result)},r.readAsArrayBuffer(e)}function bp(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function _p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function wp(e={},t){"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}function Sp(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.success&&e.success(r),"function"==typeof e.complete&&e.complete(r)}function Cp(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}var kp=(e,t)=>"glass-easel"===br.getComponentFramework(e)?M.getEnv().codeManager.getPluginRoutePrefix(t):vr.getPluginRoutePrefix(t),Ip=(e,t)=>{var r;return"glass-easel"===br.getComponentFramework(t)?null===(r=M.getEnv().getAdapterPage(t))||void 0===r?void 0:r.findNodeById(e):vr.getNodeById(e,t)},Pp=e=>{if("glass-easel"===br.getComponentFramework(e)){var t=M.getEnv().getAdapterPage(e);return null==t?void 0:t.getNodeId(t.root)}return vr.getRootNodeId(e)},Ap=(e,t,r=!0)=>{if("glass-easel"===br.getComponentFramework(t)){var n,i=M,a=i.getEnv().getAdapterPage(t),o=null===(n=i.getCallerMap(e))||void 0===n?void 0:n.component,s=null==a?void 0:a.getNodeId(o);return r&&(s=s&&o!==(null==a?void 0:a.root)?s:""),s}var l=e&&e.__wxExparserNodeId__;return r?l&&l!==vr.getRootNodeId(t)?l:"":l},xp=(e={})=>{var t=Object.assign({},e);if(Vc("write",t,{fd:""}))if(t.encoding&&-1===Ud.indexOf(t.encoding))zc("write",t,`invalid encoding "${t.encoding}"`);else{if(At(t.data)){if(t.data.byteLength>10485760)return void zc("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!rt(t.data))return void zc("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),md("write",t)}},Tp=({fd:e,data:t,offset:r,length:n,encoding:i,position:a}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(i&&-1===Ud.indexOf(i))throw new qd(`invalid encoding "${i}"`);if(At(t)){if(t.byteLength>10485760)throw new qd("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n<0)&&(n=t.byteLength-r)}else if(!rt(t))throw new TypeError("data must be a string or ArrayBuffer");var o,s,l;if("number"!=typeof a&&(a=void 0),md("writeSync",{fd:e,data:t,offset:r,length:n,encoding:i,position:a,fail(e){o=e.errMsg,l=e.errno},success(e){s={bytesWritten:e.bytesWritten}}}),o){var c=new Error(o);throw c.errno=l,c}return s},Ep=null,Mp=!1;function Rp(){if(!Mp)throw new Error("WeixinArrayBuffer not ready");return Ep}g.onLoad((()=>{Ep=p.g.WeixinArrayBuffer,Mp=!0}));var Op=(e={})=>{if(Vc("read",e,{fd:""}))if(At(e.arrayBuffer)){var t=Object.assign({},e),r=Rp();Ie&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),nt(t.position)&&t.position<0?t.position=0:at(t.position)||ot(t.position)?t.position=null:nt(t.position)||(t.position=0);var n=Number(t.length);Number.isNaN(n)?t.length=0:t.length=n;var i=Number(t.offset);Number.isNaN(i)?t.offset=0:t.offset=i,Be&&delete t.arrayBuffer,md("read",t,{beforeSuccess(r){if(Be){var n=new Uint8Array(e.arrayBuffer),i=new Uint8Array(r.arrayBuffer);n.set(i,t.offset),r.bytesRead=r.arrayBuffer.byteLength}r.arrayBuffer=e.arrayBuffer},afterAll(){Ie&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else zc("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},Dp=(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!At(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var n=Object.assign({},e),i=Rp();Ie&&i&&i.trace&&(n.arrayBufferId=i.trace(n.arrayBuffer,"rw"),delete n.arrayBuffer),nt(n.position)&&n.position<0?n.position=0:at(n.position)||ot(n.position)?n.position=null:nt(n.position)||(n.position=0);var a=Number(n.length);Number.isNaN(a)?n.length=0:n.length=a;var o,s,l,c=Number(n.offset);if(Number.isNaN(c)?n.offset=0:n.offset=c,Be&&delete n.arrayBuffer,md("readSync",{...n,fail(e){s=e.errMsg,l=e.errno},success(e){if(Be){var t=new Uint8Array(r),i=new Uint8Array(e.arrayBuffer);t.set(i,n.offset),e.bytesRead=e.arrayBuffer.byteLength}o={bytesRead:e.bytesRead,arrayBuffer:r}}}),Ie&&i&&i.untrace&&i.untrace(n.arrayBufferId),s){var u=new Error(s);throw u.errno=l,u}return o},Lp=(e={})=>{Vc("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),md("ftruncate",e))},Np=({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),md("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Bp={close:Md,closeSync:Rd,fstat:Fd,fstatSync:Wd,write:xp,writeSync:Tp,read:Op,readSync:Dp,ftruncate:Lp,ftruncateSync:Np},$p=e=>{Vc("saveFile",e,{tempFilePath:""})&&md("saveFile",e)},jp=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,n;if(md("saveFileSync",{tempFilePath:e,filePath:t,success(e){n=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return n},Fp=e=>{Vc("openDocument",e,{filePath:""})&&(e.showMenu=e.showMenu||!1,md("openDocument",e))},Wp=(e={})=>{md("getSavedFileList",e)},Up=(e={})=>{Vc("getSavedFileInfo",e,{filePath:""})&&md("getSavedFileInfo",e)},Vp=(e={})=>{Vc("removeSavedFile",e,{filePath:""})&&md("removeSavedFile",e)},qp=(e={})=>{if(Vc("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=Rt(e,{digestAlgorithm:""});if(t)return void zc("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1","sha256"].indexOf(e.digestAlgorithm))return void zc("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}md("getFileInfo",e,{})}},zp=ir("AppEnterBackground"),Gp=zp.internalOnMethod,Hp=e=>zp.onMethod(e);ur("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:")||(zp.emit(e),Kr("onAppEnterBackground",e))}));var Kp={},Jp={lastShareTicket:null,get:e=>Kp[e],set(e,t){var r=_p();return Kp[r]={shareKey:e,shareName:t},r}};const Xp=Jp;var Yp=new Qt,Qp={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:Xp,emitter:Yp};const Zp=Qp;var eh=null;g.onLoad((()=>{g.globalShare.reusableWorkerId&&th(g.globalShare.reusableWorkerId)}));var th=e=>{eh=e},rh=()=>eh,nh=e=>e.workerId,ih;function ah(){k.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(nh(t))return;if(t.data){var{cmd:r,callbackId:n,data:i}=t.data;if("callback"===r){var{result:a,errMsg:o}=i;this.emitter.emit(n,a,o)}}}}))}class oh{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new Qt,ah.call(this)}constructor(){if(rh())this.init(rh());else{var{workerId:e}=k.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,n)=>{var i=String(this.generateCallbackId());this.emitter.once(i,((e,t)=>{t?n(new Error(t)):r(e)}));var a={cmd:e,callbackId:i,data:t};a={data:a},k.postMsgToWorker(this.workerId,a,void 0,!1)}))}}var sh=()=>ih||(ih=new oh),lh=()=>!!ih,ch=e=>{var t,r,n=e.api.find((e=>"request"===e.name));if(n){var i=null===(t=n.req)||void 0===t?void 0:t.interpreterRules,a=null===(r=n.resp)||void 0===r?void 0:r.interpreterRules;sh().runTask("createWeAppRequestInterpreter",{rules:{req:i,res:a,exclusive:!0},appid:re.accountInfo.appId}).catch((e=>{y.error("createWeAppRequestInterpreter error:",e)}))}},uh=[],dh=e=>{uh.push(e)},ph=()=>uh,hh=()=>uh[uh.length-1],fh=e=>{switch(e){case 1001:case 1003:case 1023:case 1038:case 1041:case 1056:case 1080:case 1083:case 1089:case 1090:case 1103:case 1104:case 1131:case 1019:case 1112:case 1127:case 1134:case 1187:return!0;default:return!1}},gh=()=>{var e=uh.filter((e=>!fh(e)));return e[e.length-1]},vh=()=>{var e=uh.filter((e=>![1038].includes(e)));return e[e.length-1]},mh="default",yh=ir("apiCategoryChange"),bh=yh.onMethod,_h=yh.offMethod;function wh(){return mh}function Sh(e="default"){-1!==["default","nativeFunctionalized","browseOnly","embedded"].indexOf(e)&&(mh=e)}ur("sheetModeWindowStateChangedEvent",((e={})=>{Kr("sheetModeWindowStateChangedEvent",e),"fullPage"===e.state&&"default"!==mh&&(mh="default",yh.emit({apiCategory:mh}))})),en("getApiCategory",(({callbackId:e},t)=>{Kr("apiCategoryGot",{res:wh(),callbackId:e},[t])}));var Ch=null;ur("onMessageFromNavigateMiniProgram",(({extraData:e,appid:t})=>{Ch={extraData:e,appid:t}}));var kh=()=>Ch,Ih=()=>{Ch=null},Ph=eu("postMessageToReferrerMiniProgram",function(){var e=xd()((function*({extraData:e}){return yd("postMessageToReferrerMiniProgram",{extraData:e})}));return function(t){return e.apply(this,arguments)}}()),Ah;function xh(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:uu.query)||{},e.path=Xd(t?e.path:uu.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?uu.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:uu.lastShareInfo=void 0),Zp.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(Zp.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){var{shareInfo:r}=e;r.shareKey&&r.shareName&&(md("showUpdatableMessageSubscribeButton",{shareKey:r.shareKey}),e.shareTicket=Zp.ShareInfoStorage.set(r.shareKey,r.shareName),Zp.ShareInfoStorage.lastShareTicket=e.shareTicket)}return 1044!==e.scene||e.chatroomUsername||(e.scene=1007),e}function Th(e={},t){var r,n,i;0===(e=Object.assign({},e)).scene?e.scene=Ah:Ah=e.scene;var a=e.scene;1003===a?a=1089:1131===a||1158!==a&&1159!==a&&1160!==a||!Cf("getGroupToolbarInfo")&&(a=1008),[1106,1005,1006,1027,1042].indexOf(a)>-1&&(e.referrerInfo.appId=null),1092===a&&"wxf8df44389465ee03"===(null===(r=e.referrerInfo)||void 0===r||null===(n=r.privateExtraData)||void 0===n?void 0:n.targetAppId)&&(a=1037);var o=kh();Ih();var s=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:null!==(i=e.referrerInfo.extraData)&&void 0!==i?i:o&&o.appid===e.referrerInfo.appId?o.extraData:void 0}:{};(1092===a&&s.extraData&&s.extraData.csSessionId&&s.extraData._reportInfo&&(void 0===O||O.shouldStartReport()&&!O.shouldUpdateReportInfo(s.extraData.csSessionId)||(y.info("ca report startegy:",s.extraData._reportInfo),O.convertReportInfo2Strategys(s.extraData._reportInfo),O.startActionChainReport(),O.setSessionId(s.extraData.csSessionId),O.setEventJoinInterval(s.extraData._reportInfo.eventJoinInterval),O.setAsyncCallbackJoinEventInterval(s.extraData._reportInfo.asyncCallbackJoinEventInterval),O.setReportSetting({reportCache:s.extraData._reportInfo.reportCache,reportInterval:s.extraData._reportInfo.reportInterval}),O.protectActionReporter(),ch(s.extraData._reportInfo))),e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId)&&(e.referrerInfo.appId&&(s.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId,0===Object.keys(e.referrerInfo.privateExtraData).length&&delete e.referrerInfo.privateExtraData);var l={path:e.path,query:e.query,scene:a,shareTicket:e.shareTicket,referrerInfo:s};e.chatroomUsername&&1156===a&&(l.chatroomUsername=e.chatroomUsername),e.chatType&&(l.chatType=e.chatType);var c,u,d=e.nativeExtraData||{};(e.hostExtraData&&(l.hostExtraData=e.hostExtraData),d.location&&(l.locationInfo=d.location),Ke()||Xe())&&(e.nativeExtraData&&(l.nativeExtraData=e.nativeExtraData),null!==(c=e)&&void 0!==c&&null!==(u=c.referrerInfo)&&void 0!==u&&u.privateExtraData&&(l.privateExtraData=e.referrerInfo.privateExtraData),l.sessionId=e.sessionid||e.sessionId,l.isLaunch=e.isLaunch,e.isLaunch&&(l.prerender=!!re.prerender),l.clickTimestamp=e.clickTimestamp,l.preloadType=t);return Ke()&&(e.isLaunch?l.userConfig=re.userConfig:l.userConfig=e.userConfig),e.mode&&(l.mode=e.mode),e.apiCategory&&(l.apiCategory=e.apiCategory),1173===a&&(d.mimeType?l.forwardMaterials=[{type:d.mimeType,path:d.materialPath,name:d.materialName,size:d.materialSize}]:Array.isArray(d.materials)&&(l.forwardMaterials=d.materials)),1226===a&&d.iot&&(l.iot=d.iot),e.isTransparentBackgroundSupport&&(l.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),l.referrerInfo&&"wxb6d22f922f37b35a"===l.referrerInfo.appId&&(l.referrerInfo={}),l}function Eh(e,t){e.apiCategory=(e=>{if([1200,1201,1228].includes(vh()))return"default";switch(e.mode){case"default":case"halfPage":return"nativeFunctionalized"===e.appearance?"nativeFunctionalized":"default";case"singlePage":return"browseOnly";case"embedded":return"embedded";default:return"default"}})(e),Sh(e.apiCategory),void 0===e.isTransparentBackgroundSupport&&(e.isTransparentBackgroundSupport=re.isTransparentBackgroundSupport)}function Mh(e,t=""){if(gp(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),Xe()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}function Rh(e){try{br.setPrivateExtraData(e.privateExtraData),e.success()}catch(t){e.fail(t)}}var Oh=new Qt,Dh={};const Lh={emitter:Oh,puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:Dh};var Nh=new WeakMap,Bh=(e,t)=>Nh.set(e,t),$h=e=>Nh.get(e),jh=e=>Nh.delete(e),Fh=e=>{for(var t in Lh.puidToPluginWX)if(Lh.puidToPluginWX[t]===e)return t},Wh=e=>{if(Ue()){var t=$h(e);return t&&t.provider?t.provider:void 0}return Lh.pluginIDs[Fh(e)]},Uh=Object.keys,Vh=e=>{for(var t=Uh(Lh.pluginIDs),r=0;r<t.length;++r)if(Lh.pluginIDs[t[r]]===e)return Lh.puidToPluginWX[t[r]]},qh=e=>Lh.pluginVersions[Fh(e)],zh=e=>{var t=Wh(e);if(void 0!==t)return Lh.pluginInfos[t]},Gh=e=>{e.success(Lh.pluginInfos[e.pluginId])},Hh=e=>null==e?{}:{id:e.plugin_id,hostSign:{noncestr:e.noncestr||"",timestamp:e.timestamp||"",signature:e.host_sign||""},domains:{request:e.request_domain||[],uploadFile:e.upload_domain||[],downloadFile:e.download_domain||[]}},Kh=(e,t,r)=>{var n=new RegExp(`^${t}:`),i={};return["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(i[t]=i=>{i.errMsg=i.errMsg.replace(n,r+":"),e[t](i)})})),Object.assign({},e,i)},Jh=e=>{var t=Number(e);return[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join(".")},Xh={};function Yh(e){Xh=e}function Qh(){return Xh}var Zh={};function ef(e){Zh=e}function tf(){var e=Wh(this)||"";return Mh(Zh,e)}en("getEnterAppInfo",(({callbackId:e},t)=>{Kr("appEnterInfoGot",{res:Qh(),callbackId:e},[t])}));class rf{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}var nf=(()=>new rf)();const af=nf;var of,sf,lf;re.onReady((()=>{uu.scene=of=re.appLaunchInfo.scene,uu.sceneNote=re.appLaunchInfo.scene_note}));var cf=ir("AppEnterForeground"),uf=e=>cf.onMethod(e),df=cf.internalOnMethod;function pf(e){if(!Ue()){Yh(e=xh(e,!1));var t=Th(e);e.__public=Mh(t,""),y.info("[EnterOptions] set enterOptions by onAppEnterForeground"),ef(t),af.set("api_call_from_hot_boot_time",Date.now(),!0),cf.emit(e),uu.scene=e.scene,uu.sceneNote=e.scene_note}}var hf=e=>e&&e.referrerInfo&&"wx6bd2fb149a93a9c5"===e.referrerInfo.appId&&e.referrerInfo.extraData&&"boolean"==typeof e.referrerInfo.extraData.isSuccess;ur("onAppEnterForeground",((e={})=>{if(ke)if(hf(e)){var t=JSON.stringify(e.referrerInfo.extraData);if(sf!==t)return void(sf=t);sf=t,e.scene=of,delete e.referrerInfo}else of=e.scene;else if(Ie)if(1038===e.scene){if(hf(e))return void(lf=!0);var r;null!=e&&null!==(r=e.referrerInfo)&&void 0!==r&&r.appId?(lf=!1,of=e.scene):lf?e.scene=of:of=e.scene}else of=e.scene;var n=e.debugLaunchInfo||{};Object.assign(e,n),delete e.debugLaunchInfo;var i=1===e.reLaunch||!0===e.reLaunch;y.info(`[onAppEnterForeground] isReLaunch=${i}`),dh(e.scene),Eh(e,!1);var a=mp(e.path);if("wxpage://"===a&&(e.path="__wx__/"+e.path.slice(a.length)),i){var o=t=>{y.info(`[onAppEnterForeground] get onAppRoute [${t}], prerender=${re.prerender}`),"appLaunch"!==t.openType||!0!==re.prerender?(y.info("[onAppEnterForeground] emit enterForeground"),pf(e)):Zp.emitter.once("onAppRoute",o)};Zp.emitter.once("onAppRoute",o)}else pf(e);Kr("onAppEnterForeground",e)}));var ff={},gf={},vf={},mf=0,yf;re.onReady((()=>{Gp((()=>{mf=1})),df((()=>{mf=0}))}));var bf=Object.keys(de).map((e=>de[e])),_f=e=>{for(var t=0;t<e.length;t++){var r=bf[t];ff[r]=1===e[t].bg||4===e[t].bg,gf[r]=1===e[t].fg||4===e[t].fg}},wf=(e,t)=>{for(var r=0;r<e.length;r++){t[bf[r]]=1===e[r]||4===e[r]}},Sf=(e,t)=>{for(var r=0;r<bf.length;r++){var n=bf[r],i=1===e[n]||4===e[n];t[n]=i}};ur("onPermissionUpdate",(e=>{Sf(e.bg,ff),Sf(e.fg,gf)})),ur("onPluginPermissionUpdate",(()=>{})),re.onReady((()=>{md("getPermissionBytes",{indexes:bf,success(e){e.permissionBytes&&e.permissionBytesForRunningStatus||e.permissionBytesForRunningStatus?(_f(e.permissionBytesForRunningStatus),yf=1):e.permissionBytes&&(yf=0,wf(e.permissionBytes,vf))},fail(e){y.error("getPermissionBytes failed",e)}})}));var Cf=e=>{var t,r=de[e];if("number"!=typeof r)return!1;if(!at((t=0===yf?vf:0===mf?gf:ff)[r]))return t[r];var n=!1;return md("getPermissionBytes",{indexes:[r],success(e){e.permissionBytes&&(0===yf?(n=1===e.permissionBytes[0]||4===e.permissionBytes[0],vf[r]=n):(ff[r]=1===e.permissionBytes[0].bg||4===e.permissionBytes[0].bg,gf[r]=1===e.permissionBytes[0].fg||4===e.permissionBytes[0].fg))}}),n},kf=e=>{Hc({name:"checkPermission",args:e,success:!0,res:{hasPermission:Cf(e.apiName)}})},If=null,Pf=new Proxy({},{get(e,t,r){if(!If)throw new Error("NativeGlobal not ready");return Reflect.get(If,t,r)},set(e,t,r,n){if(!If)throw new Error("NativeGlobal not ready");return Reflect.set(If,t,r,n)}});function Af(e){g.onLoad((()=>{e(Pf)}))}g.onLoad((()=>{If="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const xf=Pf;var Tf=(e={})=>{if("Expt"===e.experimentType&&"[object Object]"===Object.prototype.toString.call(re.expt)){var t=re.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}md("getABTestConfig",e)},Ef=(e={})=>{if(Ke()){if("[object Object]"===Object.prototype.toString.call(re.expt)){var t=re.expt[e.experimentId];if(void 0!==t&&"function"==typeof e.success)return void e.success({testConfig:t})}md("getABTestConfig",e)}else zc("getABTestConfig",e,"permission denied",1)},Mf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","getBox2D","createSharedArrayBuffer","nv_constructor","nv_toString","createSelectorQuery"],Rf=[/^(get|set)Storage(Info)?(Sync)?$/,/^getFileSystemManager/,/^(get|set)ClipboardData$/,/^request$/,/^connectSocket/,/^connectWifi$/],Of=[{match:/^connectSocket/,version:1},{match:/^request/,version:ke?3:1},{match:/^downloadFile/,version:ke?3:1}];function Df(e,t){Of.push({match:e,version:t})}var Lf=e=>{var t=0;return Of.forEach((({match:r,version:n})=>("string"==typeof r?e===r&&(t=n):r instanceof RegExp&&r.test(e)&&(t=n),!1))),t},Nf=!1;re.onReady((()=>{var e=xf.fs;if(e&&e.FileReader){var t=!1,r=Ie?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";Tf({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Df(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var n=Cf("bindingReadFile");Nf=t||n,y.info(`${Nf?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${n}`)}}));var Bf=(e={})=>{if(Vc("readFile",e,{filePath:""}))if(at(e.encoding)||rt(e.encoding))if(at(e.position)||nt(e.position))if(at(e.length)||nt(e.length))if(Nf){var t,r=xf.fs;e.workerId,(t=new r.FileReader).onerror=t=>zc("readFile",e,t),t.onread=t=>Hc({name:"readFile",args:e,res:{data:t}});var n={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(n[t]=r)})),t.read(n)}else md("readFile",e);else zc("readFile",e,`invalid length: ${e.length}`);else zc("readFile",e,`invalid position: ${e.position}`);else zc("readFile",e,`invalid encoding: ${e.encoding}`)},$f=(e,t,r,n,i)=>{if(!e||!rt(e))throw new qd(`invalid filePath: ${e}`);if(!at(t)&&!rt(t))throw new qd(`invalid encoding: ${t}`);if(!at(r)&&!nt(r))throw new qd(`invalid position: ${r}`);if(!at(n)&&!nt(n))throw new qd(`invalid length: ${n}`);if(Nf){var a=xf.fs;try{return a.readFileSync(e,t)}catch(s){throw new Error(s)}}var o,s,l;if(md("readFileSync",{filePath:e,encoding:t,position:r,length:n,success(e){o=e.data},fail(e){s=e.errMsg,l=e.errno}}),s){var c=new Error(s);throw c.errno=l,c}return o},jf=(e={})=>{Vc("writeFile",e,{filePath:""})&&(e.encoding&&-1===Ud.indexOf(e.encoding)?zc("writeFile",e,`invalid encoding "${e.encoding}"`):md("writeFile",e,{}))},Ff=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===Ud.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,i;if(md("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}},Wf=(e={})=>{Vc("mkdir",e,{dirPath:""})&&md("mkdir",e)},Uf=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,n;if(md("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Vf=(e={})=>{Vc("rmdir",e,{dirPath:""})&&md("rmdir",e)},qf=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,n;if(md("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},zf=(e={})=>{(Te||"wxfile://"!==e.dirPath)&&(!Te||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?Vc("readdir",e,{dirPath:""})&&md("readdir",e):zc("readdir",e,"path permission denied")},Gf=e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,n;if(md("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}return t},Hf=(e={})=>{Vc("access",e,{path:""})&&md("access",e)},Kf=e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if(md("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},Jf=(e={})=>{Vc("unlink",e,{filePath:""})&&md("unlink",e)},Xf=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if(md("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},Yf=(e={})=>{var{zipFilePath:t}=e;t=""+t,Vc("unzip",e,{zipFilePath:""})&&md("unzip",Object.assign({},e,{targetDirectory:e.targetPath,zipFilePath:t}))},Qf=(e={})=>{Vc("copyFile",e,{srcPath:"",destPath:""})&&md("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},Zf=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,n;if(md("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},eg=(e={})=>{Vc("rename",e,{oldPath:"",newPath:""})&&md("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},tg=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,n;if(md("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},rg=(e={})=>{Vc("appendFile",e,{filePath:""})&&(e.encoding&&-1===Ud.indexOf(e.encoding)?zc("appendFile",e,`invalid encoding "${e.encoding}"`):md("fs_appendFile",e,{}))},ng=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===Ud.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,i;if(md("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}},ig="readZipEntry",ag=(e={})=>{Vc(ig,e,{filePath:""})&&(at(e.encoding)||-1!==Ud.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?md(ig,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${ig}:ok`:e.entries[t].errMsg=`${ig}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):zc(ig,e,"invalid entries"):zc(ig,e,`invalid encoding "${e.encoding}"`))},og=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],sg=(e={})=>{var t=Object.assign({},e);Vc("open",e,{filePath:""})&&(void 0===e.flag||og.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),md("open",t)):zc("open",e,`invalid flag "${e.flag}"`))},lg=(e={})=>{var t,r,n,{filePath:i}=e,{flag:a}=e;if(!i||"string"!=typeof i)throw new TypeError("filePath must be a string");if(void 0!==a&&!og.includes(a))throw new qd(`invalid flag: ${a}`);if(void 0===a&&(a="r"),md("openSync",{filePath:i,flag:a,fail(e){r=e.errMsg,n=e.errno},success(e){t=e.fd}}),r){var o=new Error(r);throw o.errno=n,o}return t},cg=(e={})=>{Vc("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),md("truncate",e,{}))},ug=({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),md("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},dg=(e={})=>{Vc("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&md("readCompressedFile",e)},pg=({filePath:e,compressionAlgorithm:t}={})=>{if(!rt(e))throw new qd(`invalid filePath: ${e}`);if(!rt(t))throw new qd(`invalid compressionAlgorithm: ${t}`);var r,n,i;if(md("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}return r},hg={saveFile:$p,saveFileSync:jp,getSavedFileList:Wp,getSavedFileInfo:Up,removeSavedFile:Vp,getFileInfo:qp,readFile:Bf,readFileSync:$f,writeFile:jf,writeFileSync:Ff,mkdir:Wf,mkdirSync:Uf,rmdir:Vf,rmdirSync:qf,readdir:zf,readdirSync:Gf,access:Hf,accessSync:Kf,unlink:Jf,unlinkSync:Xf,stat:$d,statSync:jd,unzip:Yf,copyFile:Qf,copyFileSync:Zf,rename:eg,renameSync:tg,appendFile:rg,appendFileSync:ng,readZipEntry:ag,open:sg,openSync:lg,truncate:cg,truncateSync:ug,readCompressedFile:dg,readCompressedFileSync:pg},fg={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},gg={openSync:!0,truncateSync:!0};function vg(e,t,r){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?T.thirdErrorReport({error:e,extend:t}):T.errorReport({key:r,error:e,extend:t})}}}}function mg(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var r;try{r=e[t]}catch(e){}"object"!=typeof r&&"function"!=typeof r||Object.isFrozen(r)||mg(r)})),e}function yg(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}function bg(e){var t="unknown";if(re.appContactInfo&&re.appContactInfo.operationInfo&&re.appContactInfo.operationInfo.jsonInfo&&re.appContactInfo.operationInfo.jsonInfo.apiAvailable){var{apiAvailable:r}=re.appContactInfo.operationInfo.jsonInfo;"number"==typeof r[e]&&(t=1===r[e])}return t}var _g=(()=>Object.assign)();function wg(e){return(t={})=>new Promise(((r,n)=>{e(_g(t,{success:r,fail:n}))}))}var Sg=/_+(\w)/g;function Cg(e){var t=e.replace(Sg,(function(){return arguments[2]?arguments[1].toUpperCase():arguments[0]}));return t}var kg=/(?=[A-Z])/;function Ig(e){return e.split(kg).join("_").toLowerCase()}function Pg(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ag(){return Ce?"boolean"==typeof re.urlCheck?!re.urlCheck:!__devtoolsConfig.urlCheck:!0===re.debug}function xg(e,t){var r,n=String(e).split(".").map((e=>parseInt(e,10))),i=String(t).split(".").map((e=>parseInt(e,10))),a=Math.max(n.length,i.length);if(null!=e&&null!=t){if(0===e.length&&0===t.length)return 0;if(0===e.length)return-1;if(0===t.length)return 1;for(var o=0;o<a&&0===(r=s(n[o],i[o]));o++);return r}function s(e,t){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),e>t?1:e<t?-1:0}console.error("versionCompare()参数格式错误")}function Tg(e){var t=!1;return function(...r){if(!t)return t=!0,e(...r)}}function Eg(e,t){return t.reduce(((t,r)=>(at(e[r])||(t[r]=e[r]),t)),{})}function Mg(){return re.appLaunchInfo&&"singlePage"===re.appLaunchInfo.mode}function Rg(){var e;return 1==(1&((null===(e=re.appLaunchInfo)||void 0===e?void 0:e.secFlagForSinglePageMode)||0))}function Og(){var e,t=(null===(e=WXConfig.appLaunchInfo)||void 0===e?void 0:e.secFlagForSinglePageMode)||0;return 1==(1&t)&&!(2==(2&t))}var Dg=function(){return re.isIsolateContext};function Lg(e){for(var t=e.length,r=0,n=0;n<t;++n)r=r<<8|e[n];return r}function Ng(e,t){var r=function(e){if("string"==typeof e){for(var t=e.split(".").map((e=>parseInt(e,10)));t.length<4;)t.push(0);return Lg(t.slice(0,4))}return"number"==typeof e?268435455&e:e};return(e=r(e))>(t=r(t))?1:e<t?-1:0}var Bg=(e,t)=>{var r;return function(n,...i){if(r)n.success&&n.success(r),n.complete&&n.complete(r);else{var a=n.success,o=n.complete;n.success=e=>{r=t(e),a&&a(e),o&&o(e)},e(n,...i)}}},$g=function(e,t,r){var n,i,a,o=null,s=0;r||(r={});var l=function(){s=!1===r.leading?0:Date.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var c=Date.now();s||!1!==r.leading||(s=c);var u=t-(c-s);return n=this,i=arguments,u<=0||u>t?(clearTimeout(o),o=null,s=c,a=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(l,u)),a}},jg="",Fg="",Wg="",Ug="",Vg="",qg="";re.onReady((()=>{try{jg=re.env.USER_DATA_PATH,Fg=re.env.OPEN_DATA_PATH,delete re.env.OPEN_DATA_PATH,Wg=jg+"/__plugins__",Ce?(Ug="http://__wxprivate__",Vg="http://sdk",qg="http://ad"):(Ug="wxfile://__wxprivate__",Vg="wxfile://sdk",qg="wxfile://ad")}catch(e){}}));var zg=()=>jg,Gg=()=>Fg,Hg=()=>Wg,Kg=e=>`${Wg}/${e}`,Jg=e=>`${Ug}/${e}`,Xg=()=>Vg,Yg=()=>qg,Qg=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),Zg=(e,t,r,n)=>{var i=zg(),a=Gg(),o=Hg();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||Mg()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!Qg.has(n)||(!e.startsWith(i)||e):"game"===t||"app"===t?!(e.startsWith(a)||e.startsWith(o)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(a)?e:!e.startsWith(i)||(!!e.startsWith(`${o}/${r}`)||e):e)},ev=function(e,t,r,n){return(...i)=>{var a,o=t.endsWith("Sync"),s=!o||gg[t]?i[0]:i,l=fg[t].every((e=>{var i=JSON.parse(JSON.stringify({[e]:s[e]}));s[e]=i[e];var o=Zg(s[e],r,n,t);return!0===o||(a=o,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||fg[t].forEach((e=>{"string"!=typeof s[e]||s[e].match(/^[a-zA-Z0-9]+:\/\//)||(s[e]=hp(n,s[e]))})),l)return e(...i);if(o){var c=new Error(`${t}:fail permission denied with path "${a}"`);throw c.errno=Wo,c}Hc({success:!1,name:t,args:s,errno:Wo,errMsg:`permission denied with path "${a}"`})}},tv=function(e,t,r,n){Object.keys(e).forEach((i=>{at(fg[i])||(ot(fg[i])?t[i]=(...t)=>e[i](...t):t[i]=ev(e[i],i,r,n))}))},rv=function(e,t,r){Object.keys(e).forEach((n=>{var i=e[n];t[n]=(e={})=>{var{fd:t}=e;if(r.has(t))return i(Object.assign({},e,{fd:t}));if(n.endsWith("Sync"))throw new Error(`${n}:fail invalid fd`);zc(n,e,"invalid fd")}}))},nv=function(e,t){var r=e.open,n=e.openSync,i=e.close,a=e.closeSync;e.open=(e={})=>{var{success:n}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof n&&n(e)}}))},e.openSync=(e={})=>{var r=n(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:n}=e;i(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof n&&n(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;a({fd:r}),t.delete(r)}},iv=(e,t="")=>{var r={},n=new Set;return tv(hg,r,e,t),rv(Bp,r,n),nv(r,n),r},av=()=>iv("app"),ov=()=>iv("game"),sv=()=>iv("opendata"),lv=e=>iv("app-plugin",e),cv=e=>iv("game-plugin",e),uv=e=>iv("private-space-for-inner-plugin",e),dv,pv=()=>(dv||(dv=av()),dv),hv=e=>pv().saveFile(e),fv=e=>pv().getFileInfo(e),gv=e=>pv().getSavedFileList(e),vv=e=>pv().getSavedFileInfo(e),mv=e=>pv().removeSavedFile(e),yv=!1,bv,_v,wv=()=>new Promise((e=>{var t="login";yv?e({success:!0,code:bv,token:_v,msg:`${t}: success`}):pv().readFile({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:r=>{var n={};try{n=JSON.parse(r.data)}catch(r){return void e({success:!1,msg:`${t}:fail app.miniapp.json json parse failed`})}var i=n.tempWxLoginCode;"string"==typeof i&&i.length>0||(i=void 0);var a=n.mockWithWxLoginToken;"string"==typeof a&&a.length>0||(a=void 0),e({success:!0,code:i,token:a,msg:`${t}: success`}),yv=!0,bv=i,_v=a},fail(){e({success:!1,msg:`${t}:fail get app.miniapp.json failed`}),yv=!0}})})),Sv=new Map,Cv=()=>{var e=new Map;return Ce||je()?new Proxy(e,{get:()=>()=>{}}):e},kv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Iv(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,n=String(e),i="",a=0,o=kv;n.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new Vd("btoa failed");t=t<<8|r}return i}function Pv(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Vd(`atob failed: invalid string length ${t.length}`);for(var n,i,a=0,o=0;i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)i=kv.indexOf(i);return r}function Av(e){for(var t,r="",n=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,i=0;i<n;i++)r+=String.fromCharCode(t[i]);return Iv(r)}function xv(e){for(var t=Pv(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer}var Tv=e=>Iv(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode("0x"+t)))),Ev=e=>decodeURIComponent(Pv(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")),Mv=e=>Tv(e).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_"),Rv=e=>Ev(e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"=")),Ov,Dv=null;function Lv(){return Ov?Promise.resolve(Ov):Dv||(Dv=EE({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:r}=e,n=new Uint8Array(xv(t)),i=new Uint8Array(xv(r));return Dv=null,Ov={encryptKeyBytes:n,ivBytes:i}})).catch((e=>{throw Dv=null,e})))}var Nv=!1;function Bv(){Nv||(sh().runTask("initAesWasm",{}),Nv=!0)}function $v(e,t,r){return sh().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}function jv(){return Fv.apply(this,arguments)}function Fv(){return Fv=xd()((function*(e={},t,r){var{encryptEnv:n="wasm"}=e;"wasm"===n&&Bv();var i=yield r;return yield $v(t,n,i)})),Fv.apply(this,arguments)}function Wv(e,t,r){return sh().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}function Uv(e={},t){var{key:r,data:n,dataType:i,storageId:a,encryptEnv:o="wasm"}=e,{failWithMsg:s}=Kc(e,"setStorage"),l=[Lv()];"wasm"===o&&Bv(),Promise.all(l).then((([e])=>Wv(n,o,e))).then((n=>{md(Ie?"setStorageAsync":"setStorage",{key:r,data:n,dataType:i,storageId:a,success:t=>{Sv.get(a).set(r,{data:n,dataType:i}),vt(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{s({msg:e.message}),y.error("encryptThenSetStorage error",e)}))}var Vv=(e,t={})=>{var{encrypt:r}=t;if(!0===r&&Oe)zc("setStorage",t,"miniapp dose not support encrypt");else if(Vc("setStorage",t,{key:""}))try{var{data:n,dataType:i}=Ft(t.data),a=t.key,o={key:a,data:n,dataType:i,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv,contextId:t.contextId},s={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(r&&k.isSupportWXLibWorker())Uv(o,s);else{var l=Sv.get(e),c=l.get(a);if(!g.env.isMagicBrushFrameEnv&&c&&c.dataType===i&&c.data===n)Hc({name:"setStorage",args:t});else md(Ie?"setStorageAsync":"setStorage",o,{...s,beforeSuccess:()=>{l.set(a,{data:n,dataType:i})}})}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},qv=(e,t,r="")=>{if("string"==typeof t){var n=Ie?"setStorage":"setStorageSync",{data:i,dataType:a}=Ft(r),o=!1,s="",l=Sv.get(e),c=l.get(t);if(!c||c.dataType!==a||c.data!==i){if(md(n,{key:t,data:i,dataType:a,storageId:e,fail(e={}){o=!0,s=e.errMsg.replace("setStorage:","setStorageSync:")}}),o)throw new Vd(s);l.set(t,{data:i,dataType:a})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${et(t)}`)},zv=eu("getStorage",xd()((function*(e={},t){var{encrypt:r,key:n}=e,i=r&&k.isSupportWXLibWorker(),a=Ie?"getStorageAsync":"getStorage";qc(e,{key:""});var o,s={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},l=Object.assign({},e,{storageId:t}),c=Sv.get(t),u=i?Lv():null;return!g.env.isMagicBrushFrameEnv&&c.has(n)?o={...c.get(n)}:(o=yield yd(a,l,s),c.set(n,{data:o.data,dataType:o.dataType})),i&&(o.data=yield jv(e,o.data,u)),o.data=(e._stringToAnyType||Ut)(o.data,o.dataType),delete o.dataType,o}))),Gv=(e,t={})=>zv(t,e);function Hv(e,t){var r=arguments[arguments.length-1]||{};if(rt(t)){var n,i=Sv.get(e);if(i.has(t)){var{data:a,dataType:o}=i.get(t);return(r._stringToAnyType||Ut)(a,o)}return md(Ie?"getStorage":"getStorageSync",{key:t,storageId:e},{beforeSuccess:(e={})=>{i.set(t,{data:e.data,dataType:e.dataType}),n=(r._stringToAnyType||Ut)(e.data,e.dataType)},beforeFail:()=>{n=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),n}}var Kv=eu("batchGetStorage",xd()((function*(e={},t){qc(e,{keyList:["1"]});var r=Object.assign({},e,{storageId:t}),n=Sv.get(t),i=yield yd("batchGetStorage",r);return Array.isArray(i.dataList)&&(i.dataList=i.dataList.map(((e,t)=>{var{data:i,dataType:a}=e;return i&&n.set(r.keyList[t],e),Ut(i,a)}))),i}))),Jv=(e,t={})=>Kv(t,e),Xv=(e,t)=>{var r;qc(t,["1"]);var n=Sv.get(e);return md("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(r=e).dataList=e.dataList.map(((e,r)=>{var{data:i,dataType:a}=e||{};return i&&n.set(t[r],e),Ut(i,a)}))}}),r.dataList},Yv=eu("batchSetStorage",function(){var e=xd()((function*(e,t){qc(e,{kvList:[{key:"1"}]});var r=Sv.get(t),n={kvList:e.kvList.map((e=>{r.delete(e.key);var{data:t,dataType:n}=Ft(e.value);return{key:e.key,data:t,dataType:n}})),storageId:t,success:e.success,fail:e.fail,complete:e.complete,contextId:e.contextId};return yield yd("batchSetStorage",n)}));return function(t,r){return e.apply(this,arguments)}}()),Qv=(e,t={})=>Yv(t,e),Zv=(e,t)=>{qc(t,[{key:"1"}]);var r,n=Sv.get(e),i=t.map((e=>{var{data:t,dataType:r}=Ft(e.value);return n.delete(e.key),{key:e.key,data:t,dataType:r}}));return md("batchSetStorageSync",{storageId:e,kvList:i,beforeAll(e){r=e}}),r},em=(e,t)=>{Vc("removeStorage",t,{key:""})&&(Sv.get(e).delete(t.key),md("removeStorage",Object.assign({},t,{storageId:e})))},tm=(e,t)=>{Vc("removeStorageSync",t,"")&&(Sv.get(e).delete(t),md("removeStorageSync",{key:t,storageId:e}))},rm=(e,t)=>{Sv.get(e).clear(),md(Ie?"clearStorageAsync":"clearStorage",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},nm=e=>{Sv.get(e).clear(),md(Ie?"clearStorage":"clearStorageSync",{storageId:e})},im=function(e){if(!Array.isArray(e))return[];var t=e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__")));return t},am=(e,t)=>{md("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=im(e.keys)}})},om=e=>{var t;return md("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=im(e.keys),delete e.errMsg}}),t},sm={setStorage:Vv,batchSetStorage:Qv,setStorageSync:qv,batchSetStorageSync:Zv,getStorage:Gv,batchGetStorage:Jv,getStorageSync:Hv,batchGetStorageSync:Xv,getStorageInfo:am,getStorageInfoSync:om,removeStorage:em,removeStorageSync:tm,clearStorage:rm,clearStorageSync:nm},lm={app:0,game:0,opendata:1,singlePage:2,cache:3,idaas:4},cm=e=>{var t=lm[e];return Sv.has(t)||Sv.set(t,Cv()),Object.keys(sm).reduce(((e,r)=>(e[r]=(...e)=>sm[r](t,...e),e)),{})};const um={app:cm("app"),game:cm("game"),opendata:cm("opendata"),singlePage:cm("singlePage"),cache:cm("cache"),idaas:cm("idaas")};var dm=um.idaas,pm="idaas_tokens",hm="",fm=0;function gm(e){hm=e.sysAccessToken,fm=e.expireTime;var t=wm();Sm(t?{...t,...e}:{...e})}function vm(){if(hm)return hm;var e=wm();return e?(hm=e.sysAccessToken,fm=e.expireTime,hm):""}function mm(){var e=vm();return e?{sysAccessToken:e,expireTime:fm}:{sysAccessToken:"",expireTime:0}}function ym(){var e=wm();return e?e.sysRefreshToken:""}function bm(){hm="",fm=0,Sm("")}function _m(e){return String(e).length<13&&(e*=1e3),Date.now()<e}function wm(){try{return dm.getStorageSync(pm)}catch(e){console.error("idaas getStorage fail ",e.message),Ce&&console.warn("请升级至最新 nightly 以支持调试身份管理 API")}}function Sm(e){Ce||md("saveIdassAccessToken",{accessToken:"object"==typeof e&&e.sysAccessToken||""});try{return dm.setStorageSync(pm,e)}catch(e){console.error("idaas setStorage fail ",e.message),Ce&&console.warn("请升级至最新 nightly 以支持调试身份管理 API")}}var Cm=void 0,km=void 0,Im="MULTIAPPID";function Pm(){return Cm?Promise.resolve(Cm):km||(km=new Promise((e=>{var t=()=>{e(Cm=Ce?{authorizeMiniprogramType:0,clientId:Im,userName:"",miniprogramLoginPath:""}:{authorizeMiniprogramType:0,clientId:"",userName:"",miniprogramLoginPath:"",adaptWxLogin:!1})};Bf({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:r=>{var n={};try{n=JSON.parse(r.data)}catch(e){return void t()}if(n.identityServiceConfig)if(n.identityServiceConfig.clientId||Ce){var i=n.identityServiceConfig.miniprogramLoginPath;i&&!i.startsWith("/")&&(n.identityServiceConfig.miniprogramLoginPath="/"+i),Cm=n.identityServiceConfig,Ce&&(Cm={...Cm,clientId:Im}),e(Cm)}else t();else t()},fail:e=>{console.error("idaas get identityServiceConfig fail ",e.errMsg),Ce&&console.warn("请升级至最新 nightly 以支持调试身份管理 API"),t()}})})).finally((()=>{km=void 0})))}var Am={Idaas_Refresh_Token_Expired:-2001020},xm=void 0;function Tm(e){return new Promise((t=>{Td({apiName:"idaas_oauth_token",reqData:JSON.stringify(e),success:e=>{"object"==typeof e.data?t({errCode:e.logicRet,errMsg:e.logicErrmsg,...e.data}):t({errCode:e.logicRet,errMsg:e.logicErrmsg,...JSON.parse(e.data||"{}")})},fail:e=>{console.error("updateSysAccessToken fail",{...e}),t({errCode:e.err_code||-1,errMsg:e.errMsg.replace("sendSaaADataPipe:fail ","")})}})}))}function Em(){var{sysAccessToken:e,expireTime:t}=mm(),r=ym(),n={sysAccessToken:"",expireTime:0};return e&&_m(t)?Promise.resolve({sysAccessToken:e,expireTime:t}):r?xm||(xm=new Promise((e=>{var t=0,i=()=>Pm().then((a=>{a.clientId?Tm({refresh_token:r,grant_type:"refresh_token",client_id:a.clientId}).then((r=>{if(r.errCode===Am.Idaas_Refresh_Token_Expired)return bm(),e(n);0===r.errCode?(gm({sysAccessToken:r.access_token,expireTime:r.expire_time}),e(mm())):t<3?(t++,i()):e(n)})).finally((()=>{xm=void 0})):e(n)}));i()})),xm):Promise.resolve(n)}var Mm={ILLEGAL_URL:-2005,NOT_LIMITS:-1024,NOT_LIMITS_QY:-1025,NOT_LIMITS_CARD:-1026,NOT_LOGIN:41001,INVALID_TOKEN:40001,INVALID_LOGIN:42001,NEED_CONFORM:-12e3,AUTH_DENY:-12006,SCOPE_UNAUTHORIZED:-12007,INVALID_CODE:10010,INVALID_CARD_ID:10023};function Rm(e,t,r,n){return Om.apply(this,arguments)}function Om(){return Om=xd()((function*(e,t,r,n){var i=yield wv(),a=n.scopeList;return Td({apiName:"jsoperatewxdata",reqData:JSON.stringify({data:JSON.stringify(t.data||{}),grant_scope:a[0].scope,opt:1,token:i.token}),success:t=>{console.warn("operateWXDataConfirm",t);var n=t.data;return r({errMsg:`${e}:ok`,data:JSON.parse(n.data)})},fail:t=>{console.error("operateWXDataConfirm",t),r({errMsg:`${e}:fail response fail`})}})})),Om.apply(this,arguments)}var Dm=["webapi_getuserinfo"],Lm=["webapi_wxahttpdns_getfreehostip","webapi_wxahttpdns_gethostip"],Nm=["GetUploadSetting"];function Bm(e,t,r){return $m.apply(this,arguments)}function $m(){return $m=xd()((function*(e,t,r){var n,i,a="jsoperatewxdata";Dm.includes(t.data.api_name)&&(n=(yield wv()).token);Lm.includes(t.data.api_name)&&(i=(yield Em()).sysAccessToken,a="wxajsoperatewxdata");Nm.includes(t.data.api_name)&&(a="cpfjsoperatewxdatanologin");var o={data:JSON.stringify(t.data||{}),token:n};return"webapi_plugin_setauth"===t.data.api_name&&(o.ext_info={source_env:2}),Td({apiName:a,reqData:JSON.stringify(o),idaasSessionKey:i,success:n=>{var i=0,o="";if(void 0!==n.logicRet&&0!==n.logicRet)return i=n.logicRet,o=n.logicErrmsg,void r({errMsg:`${e}:fail ${o}, errCode: ${i}`});try{var s=JSON.parse(n.data),l=s.baseresponse;if(l){var c=s.baseresponse.errcode;if(0===c){var u=JSON.parse(s.data);return r({errMsg:`${e}:ok`,data:u})}return console.warn("jsoperatewxdata fail:",n),c===Mm.NEED_CONFORM?Rm(e,t,r,{imageUrl:s.appicon_url,appName:s.appname,scopeList:[s.scope]}):c===Mm.SCOPE_UNAUTHORIZED?r({errMsg:`${e}:fail ${l.errmsg}`}):r({errMsg:`${e}:fail ${l.errmsg}`,err_code:c})}var d=n.logicErrmsg||n.errMsg||"no baseresponse";r({errMsg:`${e}:fail ${d}`}),console.error(`${a} fail:`,n)}catch(t){console.error(`operateWXData ${a} fail`,n),r({errMsg:`${e}:fail ${t}`})}},fail:t=>{console.error(`operateWXData ${a} `,t);var n=t.errMsg||"response fail";r({errMsg:`${e}:fail ${n}`})}})})),$m.apply(this,arguments)}function jm(e,t,r,n={}){"operateWXData"!==e?(console.error(`invokeMiniapp ${e} not support`),r({errMsg:`${e}:fail response fail`})):Bm(e,t,r)}var Fm=!1;re.onReady((()=>{var e;Fm=ke&&"1"===(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_android_eventcallback_after_listen)}));var Wm=()=>Fm,Um=()=>{var e,t,r=!1;if(Ie)r=!("1"!==(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_group_control)||"1"!==(null==re||null===(t=re.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1));else if(ke){var n,i;r=!("1"!==(null==re||null===(n=re.expt)||void 0===n?void 0:n.clicfg_appbrand_android_operatewxdata_quic_group_control)||"1"!==(null==re||null===(i=re.expt)||void 0===i?void 0:i.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1))}return r=r&&Cf("operateWXDataQuic")},Vm=()=>{var e,t=!1;if(Ie)t="1"===(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_batch);else if(ke){var r;t="1"===(null==re||null===(r=re.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_batch)}return t},qm,zm=()=>{if(void 0===qm){var e;if(Ie)qm=Number(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_ad_operatewxdata_batch)>=1;else if(ke){var t;qm=Number(null==re||null===(t=re.expt)||void 0===t?void 0:t.clicfg_appbrand_android_ad_operatewxdata_batch)>=1}else qm=!1;y.info("是否开启广告上报batch:",qm)}return qm},Gm=()=>{var e,t=!1;if(Ie)t="1"===(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority);else if(ke){var r;t="1"===(null==re||null===(r=re.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority)}return t},Hm=()=>{var e,t=!1;if(Ie)t="1"===(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority_group_control);else if(ke){var r;t="1"===(null==re||null===(r=re.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority_group_control)}return t},Km=()=>Gm()&&Hm(),Jm=()=>{var e=!1;return ke?e="1"===(null==re?void 0:re.expt.clicfg_appbrand_android_jsapi_nocallback):Ie&&(e="1"===(null==re?void 0:re.expt.clicfg_appbrand_ios_jsapi_nocallback)),e},Xm=e=>{var t,r,n,i,a;a=e?e.useQuic?1:0:Um()?1:0;var o,s=ke&&"1"===(null==re||null===(t=re.expt)||void 0===t?void 0:t.clicfg_handle_reqresp_in_worker_android)?10:0,l=Vm()?1e4:0,c=zm()?1e5:0,u=Jm()?1e6:0;o=e?e.usePriority?1e7:0:Km()?1e7:0;var d=Wm()?1e8:0,p=ke&&"1"===(null==re||null===(r=re.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_ipc_optimization)?1e9:0;return(1===Number(null==re||null===(n=re.expt)||void 0===n||null===(i=n.clicfg_miniprogram_adreport_use_kv)||void 0===i?void 0:i.value)?1e10:0)+p+d+o+u+c+l+1e3+100+s+a},Ym=()=>{var e,t=0,r=Gm()?10:0;if(Ie)t="1"===(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1)?1:0;else if(ke){var n;t="1"===(null==re||null===(n=re.expt)||void 0===n?void 0:n.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1)?1:0}return r+t},Qm=0;ur("onAppEnterBackground",(()=>{Qm++}));var Zm=()=>Qm;function ey(e){var{WXDataApiName:t,argument:r,isSuccess:n,invokeTime:i,TotalCost:a,result:o="",errMsg:s,isConfirm:l,queueLength:c,wxdataQueueTimestamp:u,wxdataDequeueTimestamp:d,beginCGITimestamp:p,CGICallbackTimestamp:h,beginCGITimestampAfterConfirm:f,CGICallbackTimestampAfterConfirm:g,wxlibCallbackTimestamp:v,requestInQueue:m,requestingCount:y,JsToClientCost:b,QueueCost:_,ChildToMainProcessCost:w,MMNetCost:S,MainToChildProcessCost:C,ClientToJsCost:k,fromWebview:I,doReportDetails:P,BatchType:A=0,sdkApiName:x,adExtra:E}=e;P&&setTimeout((()=>{var P=uu.currentNetworkType,M=re.appType+1e3,R=re.appLaunchInfo&&void 0!==re.appLaunchInfo.scene?re.appLaunchInfo.scene:0,O=I?2:1,D=E&&E.adReportAction,L=E&&E.adLogid,N=Xm(e),B=e.ProtocolType,$=e.QuicBytes,j=e.thisEnterBackgroundCount===Qm?1:2,F=[t,JSON.stringify(r).replace(/,/g,";"),n?1:0,i,a,P,o.replace(/,/g,";"),M,R,Du(),Lu(),encodeURIComponent(s||""),l?1:0,c,b,_,w,S,C,k,0,m?1:0,y,i,u,d,p,h,f,g,v,0,N,O,A,x,D,L,B,$,j].map(Nu(1024)).join(",");T.reportKeyValue({key:"WeAppOperateWXData",value:F})}),0)}var ty=new Set(["webapi_getwxauserallphone","webapi_wxa_createmidasorder","webapi_wxa_getiapinfocreateitemorder","webapi_wxa_getiapinfocreatecoinorder","webapi_getiapinfocreatecoinorder","webapi_getiapinfocreateitemorder","webapi_createiapbuygamecoinorder","webapi_createiapbuygameitemorder","webapi_getwxauserprivacyauthinfo","webapi_getuserallappauth","webapi_swapopengid","webapi_getshareinfo","ProductLogic","webapi_getadvert","gameTransfer","webapi_openproductaddorder","DiscoveryGetUsageApp","WxaDiscoveryChannel","qbase_commapi","webapi_finder_ec","webapi_game_transfer"]);function ry(e){if(e.doReportProfile&&ty.has(e.WXDataApiName)){var t,r=e.networkType||uu.currentNetworkType,n=re.appType+1e3,i=Du()+" "+Lu(),a=e.argument,o=e.WXDataApiName;if("ProductLogic"===o)o=`ProductLogic-${null===(t=a.data.data)||void 0===t?void 0:t.method}`;else if("gameTransfer"===o){var s;o=`gameTransfer-${null===(s=a.data.data)||void 0===s?void 0:s.req_path}`}else if("webapi_game_transfer"===o){var l;o=`webapi_game_transfer-${null===(l=a.data.data)||void 0===l?void 0:l.req_path}`}var c=Xm(e),u=e.isSuccess?0:1,d=e.invokeTime,p=e.TotalCost,h=e.TimeStampId,f=encodeURIComponent(e.errMsg||""),g=e.isConfirm?1:0,v=e.queueLength,m=e.JsToClientCost,y=e.QueueCost,b=e.ChildToMainProcessCost,_=e.MMNetCost,w=e.MainToChildProcessCost,S=e.ClientToJsCost,C=e.PopupCost,k=e.MMNetCost2rd,I=e.requestInQueue?1:0,P=e.requestingCount,A=e.ClientSequenceId,x=e.BeginTs,E=e.EndTs,M=e.thisEnterBackgroundCount===Qm?1:2,R=e.RequestCount,O=e.LaunchDistance,D=e.TimeSinceLastRequest,L=e.MarsPackCost,N=e.MarsConnCost,B=e.MarsTLSCost,$=e.MarsNetCost,j=e.MarsUnPackCost,F=e.ChannelType,W=e.ProtocolType,U=e.fromWebview?2:1,V=e.QuicBytes,q=e.LibParseCost,z=Ym(),G=e.MarsTotalCost,H=[r,i,n,c,o,u,d,p,h,f,g,v,m,y,b,_,w,S,C,k,I,P,A,x,E,encodeURIComponent(JSON.stringify(a)),M,R,O,D,G,"",L,"",N,B,$,j,F,W,V,U,q,z].join(",");T.reportKeyValue({key:"operateWXDataProfile",value:H})}}function ny(e){ey(e),ry(e)}var iy=0,ay=0,oy=0,sy,ly,cy=new Set(["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"]),uy=new Set(["advert_report","webapi_advideo_report","webapi_wxa_dramaplayreport","webapi_reportpayrecord","webapi_reportnvgcheckinfo","webapi_reportwxacityservicescreenshot","webapi_reportclicheckresult","webapi_openproductreportorder","webapi_wxaseceventreport","webapi_game_ad_report","webapi_wxaasyncinputreport","webapi_adfollow_report"]),dy=new Set(["qbase_commapi","webapi_botdemo"]),py=!1,hy=!1;re.onReady((()=>{sy=Date.now(),py=Um(),hy=Km()}));var fy=(e={},t={},{fromWebview:r,showApiVersion:n,showProfile:i,batchType:a,sdkApiName:o,adExtra:s})=>{var l=a>=1,c=Object.assign({},e);c._isFromBaseOperateWXData=!0;var u,d=t.beforeAll,p=c.data.api_name,h=Date.now();u=ly?h-ly:-1,ly=h;var f,g=h,v=Zm(),m=h-sy;if(h<=oy&&(h=oy+1),oy=h,cy.has(p)?(c.requestInQueue=!0,delete c.timeout):c.requestInQueue=!1,c.isImportant=!!l,dy.has(p)&&(c.keepAlive=!0),c.useQuic=py&&!l,c.data.tid=h,f=r?2:1,c.data.env=f,c.priority||hy&&(uy.has(p)?(c.priority=2,c.timeout=(c.timeout||6e4)+15e3):c.priority=3),Oe&&e.saaaMock){var b="operateWXData",_=ld(c,b,{},{});jm(b,c,_)}else if(!Oe||e.data.fromSaaADataPipe){var w={isSuccess:void 0,WXDataApiName:p,argument:c,invokeTime:g,requestInQueue:c.requestInQueue,requestingCount:++iy,TimeStampId:h,RequestCount:++ay,LaunchDistance:m,TimeSinceLastRequest:u,fromWebview:r,thisEnterBackgroundCount:v,BatchType:a,sdkApiName:o,adExtra:s,useQuic:py,usePriority:hy};T.reportFrameworkIDKey(25),y.info(`baseOperateWXData invoke apiName=${p}, TimeStampId=${h}, useQuic=${py}, usePriority=${hy}, batchType=${a}`),md("operateWXData",c,{beforeAll(e){var r=Date.now();w.onJsCallbackTimestamp=r,iy--;var n=Math.random(),a=n<.01,o=n<.1,s=a||o;if(w.doReportDetails=a,w.doReportProfile=o,s&&("object"==typeof e.data&&e.data?w.result=JSON.stringify(e.data):w.result=e.data),e.clientInfo&&"object"==typeof e.clientInfo){var l=e.clientInfo;delete e.clientInfo,(s||i)&&(Object.assign(w,l),w.JsToClientCost=l.wxdataQueueTimestamp-w.invokeTime,w.QueueCost=l.wxdataDequeueTimestamp-l.wxdataQueueTimestamp,w.ChildToMainProcessCost=l.beginCGITimestamp-l.wxdataDequeueTimestamp,w.MMNetCost=l.CGICallbackTimestamp-l.beginCGITimestamp,w.MainToChildProcessCost=l.wxlibCallbackTimestamp-l.CGICallbackTimestamp,w.ClientToJsCost=r-l.wxlibCallbackTimestamp,l.beginCGITimestampAfterConfirm>0&&l.beginCGITimestampAfterConfirm<0x9bc39d22b2c4&&(w.PopupCost=l.beginCGITimestampAfterConfirm-l.CGICallbackTimestamp,w.MMNetCost2rd=l.CGICallbackTimestampAfterConfirm-l.beginCGITimestampAfterConfirm),l.startConnectTime&&(w.MarsConnCost=l.connectSuccessfulTime-l.startConnectTime,w.MarsTLSCost=l.handshakeSuccessfulTime-l.startHandshakeTime,w.MarsPackCost=l.startSendPacketTime-l.connectSuccessfulTime,w.MarsNetCost=l.startReadPacketTime-l.startSendPacketTime,w.MarsUnPackCost=l.readPacketFinishedTime-l.startReadPacketTime,w.MarsTotalCost=l.readPacketFinishedTime-l.taskStartTime),w.networkType=l.netType,w.ChannelType=l.channelType,w.ProtocolType=l.protocolType)}"function"==typeof d&&d.call(t,e)},beforeSuccess(e){y.info(`baseOperateWXData success apiName=${p}, TimeStampId=${h}, useQuic=${py}, usePriority=${hy}, batchType=${a}`),T.reportFrameworkIDKey(26),w.isSuccess=!0,c.data.data&&c.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=w),n&&(e.apiVersion=Xm(w)),e.reportObj=w},beforeFail(e={}){T.reportFrameworkIDKey(27),w.isSuccess=!1,w.errMsg=JSON.stringify(e),w.err_code=e.err_code,w.errno=e.errno,y.info(`baseOperateWXData fail apiName=${p}, TimeStampId=${h}, useQuic=${py}, usePriority=${hy}, batchType=${a}, errMsg=${w.errMsg}`),"1030"!==e.err_code&&"1031"!==e.err_code||(w.QuicBytes=e.errMsg.slice(e.errMsg.length-1),w.ProtocolType=2),c.data.data&&c.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=w),e.reportObj=w}})}else zc("operateWXData",e,e.api_name+" fail: SDK暂不支持operateWXData API")},gy=JSON.parse,vy=JSON.stringify,my=!0,yy=(e,t,{timeout:r}={timeout:1e4})=>{if(!my)return t;var n,i=null;return(a={})=>{var o,{success:s,fail:l}=Kc(a,e);null===i?(o=!1,i=new Promise(((n,i)=>{t(Object.assign({},a,{success:n,fail:i,complete:void 0})),setTimeout((()=>{i({errMsg:`${e}:fail time out`,errno:Tn})}),r)}))):o=!0,i.then((e=>{if(i=null,o){var t={};try{t=gy(n)}catch(e){y.error("constructCachedOptimizedApi parse error",e)}s(t)}else{try{n=vy(e)}catch(e){y.error("constructCachedOptimizedApi stringify error",e)}s(e)}})).catch((e=>{i=null,l(e)}))}},by="",_y="",wy=!1,Sy=ir("networkstatusChange"),Cy=ir("networkWeakChange"),ky=ir("networkTypeReady"),Iy=e=>{md("getNetworkType",e,{beforeAll(e){e.weakNet=uu.isWeakNetwork}})},Py=Iy,Ay=Sy.onMethod,xy=Sy.offMethod,Ty=Cy.onMethod,Ey=Cy.offMethod,My=()=>by,Ry=ky.onMethod,Oy=()=>wy,Dy=()=>_y;"undefined"!=typeof IS_SDK_PACKAGE||qt("onNetworkStatusChange",((e={})=>{by=e.networkType,_y=e.signalStrength,uu.currentNetworkType=by,Sy.emit(e),Kr("onNetworkStatusChange",e)})),re.onReady((()=>{re.networkType&&(by=re.networkType),Py({success(e){by=e.networkType,_y=e.signalStrength,uu.currentNetworkType=by,wy=e.hasSystemProxy,ky.emit(by)}})}));var Ly=function(e,t){if("string"!=typeof e)return 0;var r,n,i,a=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=65535?2:4;else for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=127?1:r<=2047?2:r<=65535?3:4;return a};function Ny(e,t,r){if(!("number"==typeof t&&t>0))return console.error("sliceBySize缺少length参数"),e;if("string"!=typeof e)return 0;var n,i,a,o=0;if("utf-16"===(r=r?r.toLowerCase():"utf8")||"utf16"===r){for(i=0,a=e.length;i<a;i++)if((o+=(n=e.charCodeAt(i))<=65535?2:4)>t)return e.slice(0,i)}else for(i=0,a=e.length;i<a;i++)if((o+=(n=e.charCodeAt(i))<=127?1:n<=2047?2:n<=65535?3:4)>t)return e.slice(0,i);return e}var By=e=>{var t="";return Object.keys(e).forEach(((r,n)=>{try{var i=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==n&&(t+="&"),t+=i}catch(e){}})),t};const $y={query:{},scene:0,sceneNote:""};var jy=0,Fy=[],Wy=Math.random,Uy=new Set,Vy;re.onReady((()=>{Vy=Date.now()}));var qy=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:Fy,appType:T.getAppType()},null,2);md("reportRealtimeAction",{actionData:e,noCallback:!0}),Fy=[]},zy=({functionName:e,keyParam:t,result:r,costTime:n,errorMsg:i,statusCode:a,__skipDomainCheck__:o,dataLength:s=0,responseDataLength:l=0,profile:c={},queueTime:u=0,extraData:d={},uniqueId:p,isAsync:h=!0,errno:f,queueLength:g=0,accelerateOptions:v={},jsapiVersion:m=0,requestData:y="",response:b="",beginTime:_=0,endTime:w=0,options:S={}}={})=>{var C;t.length>1024&&(t=t.substring(0,1024));var k="",I="",P=0,A="";if(Ue()?(I=By($y.query),P=$y.scene,A=$y.sceneNote):(P=uu.scene,A=uu.sceneNote),void 0!==br){var x=br.getCurrentPages();if(x&&x.length>0){var E=x[x.length-1];if(E&&(k=E.route,br.getDisplayReporter)){var M,R=br.getDisplayReporter(E);I=(null==R||null===(M=R.showOptions)||void 0===M?void 0:M.query)||""}}}!f&&i&&/超时|timeout/.test(i)&&(f=5);var O=JSON.stringify(d),D=[e,t,r,n,i,T.getAppType(),a,s,My(),k,I,l,By(c),P,A,p,f,u,O,null===(C=re.wxAppInfo)||void 0===C?void 0:C.maxRequestConcurrent,w-Vy,g,m,0,uu.isWeakNetwork?1:0].map(encodeURIComponent).join(","),L=!1;if(h&&(1==r?Wy()<.01&&(L=!0):L=!0),L){var N,B="",$="",j="",F="",W="",U="",V="",q="",z="",G="",H=c.protocol||"",K=0;!0===c.socketReused?K=1:!1===c.socketReused&&(K=2);var J=!0===S.enableCache?1:2,X=!0===S.enableHttpDNS?1:2,Y=S.enableChunked?1:2,Q="",Z="",ee=Du()+" "+Lu(),te=Jy(),ne=S.method,ie=!0===S.enableHttp2?1:2,ae=!0===S.enableQuic?1:2,oe=!0===S.enableHttp3?1:2;c&&c.fetchStart&&_&&("request"===e||"downloadFile"===e||"uploadFile"===e)&&(B=c.fetchStart-_,$=c.domainLookUpEnd-c.domainLookUpStart,j=c.connectEnd-c.connectStart,F=c.SSLconnectionStart-c.connectStart,W=c.SSLconnectionEnd-c.SSLconnectionStart,U=(c.connectEnd||c.requestStart)-c.requestStart,V=c.responseStart-(c.connectEnd||c.requestStart),q=c.responseEnd-c.responseStart,z=c.responseEnd-c.fetchStart,G=w-c.responseEnd,Q=c.redirectEnd-c.redirectStart,Z=(c.domainLookUpStart||c.requestStart)-c.fetchStart);var se=[e,encodeURIComponent(t),r,n,encodeURIComponent(i),T.getAppType(),a,s,My(),k,"",l,"",P,encodeURIComponent(A),f,u,encodeURIComponent(O),null===(N=re.wxAppInfo)||void 0===N?void 0:N.maxRequestConcurrent,w-Vy,g,m,B,$,j,F,W,U,V,q,z,G,H,K,J,X,Y,Q,Z,ee,te,ne,ie,ae,oe].join(",");T.reportKeyValue({key:"NetworkAPI2",value:se})}T.reportKeyValue({key:"NetworkAPI",value:D}),T.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`});var{isHitRule:le,rawUrl:ce,rawHost:ue,accelerateType:de,host:pe,accelerateId:he,__AccelFailReqId__:fe}=v,{domainLookUpStart:ge,domainLookUpEnd:ve,connectStart:me,connectEnd:ye,SSLconnectionStart:be,SSLconnectionEnd:_e,requestStart:we,requestEnd:Se,responseStart:Ce,responseEnd:ke,socketReused:Ie,peerIP:Pe}=c;1===le&&[1,2].includes(r)&&T.reportKeyValue({key:"AccelerateNetwork",value:[e,encodeURIComponent(ce.substring(0,1024)),t,ue,pe,r,n,i,T.getAppType(),a,s,My(),l,By(c),P,f,le,de,he,ve-ge,ye-me,_e-be,Se-we,ke-Ce,Ie?1:0,Pe,fe].join(",")}),Fy.push([e,t,r,a||"",n,i,My(),o?"1":"0",T.getAppType(),s].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),Ky({functionName:e,keyParam:t,result:r,costTime:n,errorMsg:i,statusCode:a,dataLength:s,responseDataLength:l,requestData:y,response:b,profile:c,errno:f,__skipDomainCheck__:o}),Date.now()-jy>=6e4&&(jy=Date.now(),setTimeout(qy,6e4))};function Gy(e){Uy.add(e)}function Hy(e){Uy.delete(e)}function Ky(e){if(0!==Uy.size)try{Uy.forEach((t=>t(e)))}catch(e){}}var Jy=()=>(ke?100:0)+(ke?10:0)+(ke?1:0),Xy=(e,t,...r)=>{if(void 0!==x)x.surroundThirdByTryCatch(e,t)(...r);else if(void 0!==$)$.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}};class Yy{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){vt(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],n=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?Xy(e,n,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}function Qy(e){return e?Array.isArray(e)?e:e.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]}class Zy{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new Zy((t=>t(e)))}static reject(e){return new Zy((()=>{throw e}))}}var eb=e=>{if(Be)return!0;if(ke)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!Ie)return!1;if("Request"===e)if(1===Number(re.expt.clicfg_appbrand_ios_enable_async_create_request_task))return!0}};Ay((e=>{var t;t="wifi"===e.networkType?1:2,Object.keys(tb).forEach((e=>{tb[e].network!==t&&(tb[e].needUpdateDns=!0,tb[e].network=t,tb[e].doingDns=!1)}))}));var tb={};function rb(){if(void 0===br)return"";var e=br.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function nb(){return 1e4*Date.now()+Math.round(9999*Math.random())}class ib{constructor(){}createTask(e){throw new Error("not impl")}onTaskStateChange(e){throw new Error("not impl")}operate(){throw new Error("not impl")}}var ab=new Yy("RequestTaskJsBindingInvoker"),ob={},sb="Binding",lb=e=>sb+e,cb=(e,t)=>BE(e,`RequestTask.${t}`);class ub extends ib{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:n,enableHttp2:i,enableHttp3:a}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||a?e.protocol="h3":i&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,xf.RequestTask)(e);ob[lb(s.id)]=s;var l=Date.now();s.__mockClientInfo={invokeTime:l,beginCGITimestamp:l,CGICallbackTimestamp:l,wxlibCallbackTimestamp:l};s.responseInfo={},s.invokeArgs=e,s.onDataReceived=cb(hb,"onDataReceived"),s.onSucceeded=cb(mb,"onSucceeded"),s.onFailed=cb(yb,"onFailed"),s.onResponseStarted=cb(pb,"onResponseStarted"),s.onRedirectReceived=cb(vb,"onRedirectReceived"),Wm()||(s.onProgressUpdate=cb(gb,"onProgressUpdate"),s.onChunkedDataReceived=cb(fb,"onChunkedDataReceived")),s.operate({operationType:"request"});var c={requestTaskId:lb(s.id),errMsg:"createRequestTask:ok"};r(c),n(c)}onTaskStateChange(e){ab.off("stateChange"),ab.on("stateChange",e)}operate(e){var{operationType:t}=e,r=ob[e.requestTaskId];e.requestTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){if(Wm()){var r=ob[t];if(!r)return;"progressUpdate"===e?r.onProgressUpdate=cb(gb,"onProgressUpdate"):"headersReceived"===e||"chunked"===e&&(r.onChunkedDataReceived=cb(fb,"onChunkedDataReceived"))}}stopListenTaskStateChange({stateName:e,taskId:t}){var r=ob[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e?(r.onResponseStarted=null,r.onRedirectReceived=null):"chunked"===e&&(r.onChunkedDataReceived=null))}}var db=e=>{delete ob[lb(e.id)]};function pb(e){var t=this.responseInfo;Object.assign(t,e),ab.emit("stateChange",{requestTaskId:lb(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function hb(e){this.responseInfo.data=e}function fb(e){ab.emit("stateChange",{requestTaskId:lb(this.id),state:"chunked",data:e.data})}function gb(e){ab.emit("stateChange",{requestTaskId:lb(this.id),state:"progressUpdate",type:e.type,totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function vb(e={}){var t=this.responseInfo;t.header=e.header,t.statusCode=e.statusCode,ab.emit("stateChange",{requestTaskId:lb(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function mb(e={}){var t=this.responseInfo,r={requestTaskId:lb(this.id),state:"success",header:t.header,data:t.data,statusCode:t.statusCode,clientInfo:e.clientInfo};r.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),r.clientInfo=this.__mockClientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),void 0===r.data&&"text"===this.invokeArgs.responseType&&(r.data=""),ab.emit("stateChange",r),db(this)}function yb(e){e.errno;var t={requestTaskId:lb(this.id),state:"fail",clientInfo:e.clientInfo,errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};t.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),t.clientInfo=this.__mockClientInfo),ab.emit("stateChange",t),db(this)}var bb=(e,t)=>BE(e,`DownloadTask.${t}`),_b=new Yy("DownloadTaskJsBindingInvoker"),wb={};class Sb extends ib{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:n,enableHttp2:i,enableHttp3:a}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||a?e.protocol="h3":i&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,xf.DownloadTask)(e);wb[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=bb(Pb,"onSucceeded"),s.onFailed=bb(Ab,"onFailed"),s.onResponseStarted=bb(kb,"onResponseStarted"),Wm()||(s.onProgressUpdate=bb(Ib,"onProgressUpdate")),s.operate({operationType:"download"});var l={downloadTaskId:s.id,errMsg:"createDownloadTask:ok"};r(l),n(l)}onTaskStateChange(e){_b.off("stateChange"),_b.on("stateChange",e)}operate(e){var{operationType:t}=e,r=wb[e.downloadTaskId];e.downloadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){if(Wm()){var r=wb[t];if(!r)return;"progressUpdate"===e&&(r.onProgressUpdate=bb(Ib,"onProgressUpdate"))}}stopListenTaskStateChange({stateName:e,taskId:t}){var r=wb[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}var Cb=e=>{delete wb[e.id]};function kb(e){var t=this.responseInfo;Object.assign(t,e),_b.emit("stateChange",{downloadTaskId:this.id,state:"headersReceived",header:e.header,cookies:e.cookies||{}})}function Ib(e){_b.emit("stateChange",{downloadTaskId:this.id,state:"progressUpdate",totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,progress:e.progress})}function Pb(e={}){var t=this.responseInfo,r={downloadTaskId:this.id,state:"success",header:t.header,dataLength:e.dataLength,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.tempFilePath&&(r.tempFilePath=e.tempFilePath),e.filePath&&(r.filePath=e.filePath),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),_b.emit("stateChange",r),Cb(this)}function Ab(e){e.errno;var t={downloadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),_b.emit("stateChange",t),Cb(this)}var xb=(e,t)=>BE(e,`UploadTask.${t}`),Tb=new Yy("UploadTaskJsBindingInvoker"),Eb={};class Mb extends ib{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:n,enableHttp2:i,enableHttp3:a}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||a?e.protocol="h3":i&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,xf.UploadTask)(e);Eb[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=xb(Lb,"onSucceeded"),s.onFailed=xb(Nb,"onFailed"),s.onResponseStarted=xb(Ob,"onResponseStarted"),Wm()||(s.onProgressUpdate=xb(Db,"onProgressUpdate")),s.operate({operationType:"upload"});var l={uploadTaskId:s.id,errMsg:"createUploadTask:ok"};r(l),n(l)}onTaskStateChange(e){Tb.off("stateChange"),Tb.on("stateChange",e)}operate(e){var{operationType:t}=e,r=Eb[e.uploadTaskId];e.uploadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){if(Wm()){var r=Eb[t];if(!r)return;"progressUpdate"===e&&(r.onProgressUpdate=xb(Db,"onProgressUpdate"))}}stopListenTaskStateChange({stateName:e,taskId:t}){var r=Eb[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}var Rb=e=>{delete Eb[e.id]};function Ob(e){var t=this.responseInfo;Object.assign(t,e),Tb.emit("stateChange",{uploadTaskId:this.id,state:"headersReceived",header:e.header})}function Db(e){Tb.emit("stateChange",{uploadTaskId:this.id,state:"progressUpdate",progress:e.progress,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function Lb(e={}){var t=this.responseInfo,r={uploadTaskId:this.id,state:"success",header:t.header,data:e.data,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),Tb.emit("stateChange",r),Rb(this)}function Nb(e){e.errno;var t={uploadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),Tb.emit("stateChange",t),Rb(this)}var Bb=e=>!(!ke||e.enableHttpDNS),$b=e=>{var t;return!(!ke||e.enableHttpDNS)&&(!e.enableQuic||"1"===(null==re||null===(t=re.expt)||void 0===t?void 0:t.clicfg_enable_appbrand_downloadfile_enablequic_newcronet))},jb=e=>{var t;return!(!ke||e.enableHttpDNS)&&(!e.enableQuic||"1"===(null==re||null===(t=re.expt)||void 0===t?void 0:t.clicfg_enable_appbrand_downloadfile_enablequic_newcronet))},Fb={Request:{jsBinding:new ub},Download:{jsBinding:new Sb},Upload:{jsBinding:new Mb}},Wb=(e,t)=>"Request"===e&&xf.RequestTask&&(t.useHighPerformanceMode||Bb(t))?Fb.Request.jsBinding:"Download"===e&&xf.DownloadTask&&(t.useHighPerformanceMode||$b(t))?Fb.Download.jsBinding:"Upload"===e&&xf.UploadTask&&(t.useHighPerformanceMode||jb(t))?Fb.Upload.jsBinding:void 0,Ub=(e,t)=>{if(Fb[e]){var r=Fb[e];Object.keys(r).forEach((e=>{r[e].onTaskStateChange((e=>{t(e)}))}))}};function Vb(e){return function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:n,lastUrl:i,lastHost:a,lastErrorResponse:o,__innerRequestOptions__:s,__polyfill_ldns__:l,retryCount:c,exception:u}={}}){var d,p;!t&&null!=s&&s.__retryHttpDNS__&&(t=!0),e.header?(p=et(e.header),e.header=bp(e.header)):(d=!0,p="Undefined",e.header={}),"Undefined"!==p&&"Object"!==p&&(console.warn("wx.request: header must be an object"),e.header={}),d||(e.header=Object.keys(e.header).reduce(((t,r)=>{var n=r.toLowerCase();return"content-type"===n?t[n]=e.header[r]:t[r]=e.header[r],t}),{}));var h="text";e.responseType&&(h=e.responseType.toLowerCase());var f,g=e.header,v="GET";if("string"==typeof e.method&&(v=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(g["content-type"]=g["content-type"]||"application/json"),f=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==et(e.data)?g["content-type"].indexOf("application/x-www-form-urlencoded")>-1?ep(e.data,!0):g["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):f.toString():e.data,"GET"===v&&e.data){var m=ip(e.url,e.data);e.url=m}var y=null!=s&&s.timeout?s.timeout:e.timeout,b=null!=s&&s.retryCount?s.retryCount:0;b||(b=null!=c?c:0);var _=null!=s&&s.exception?s.exception:null;_||(_=u);var w=(null==s?void 0:s.__polyfill_ldns__)||l;return{header:g,method:v,responseType:h,dataStr:f,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:n,lastHost:a,lastUrl:i,__retryHttpDNS__:t,lastErrorResponse:o,startTimestamp:Date.now(),timeout:y,retryCount:b,exception:_,__polyfill_ldns__:w}}}var qb=p(517),zb=Symbol("pre"),Gb=Symbol("next"),Hb=Symbol("key"),Kb;class Jb{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[zb],r=e[Gb];t&&r?(t[Gb]=r,r[zb]=t,this.cacheTail[Gb]=e,e[zb]=this.cacheTail,e[Gb]=null,this.cacheTail=e):t||r&&(r[zb]=null,this.cacheHead=r,this.cacheTail[Gb]=e,e[zb]=this.cacheTail,e[Gb]=null,this.cacheTail=e)}insertCache(e,t){if(t[Hb]=e,this.cacheTail?(t[Gb]=null,t[zb]=this.cacheTail,this.cacheTail[Gb]=t,this.cacheTail=t):(this.cacheTail=t,t[Gb]=null,this.cacheHead=t,t[zb]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[Hb]];var r=this.cacheHead[Gb];r[zb]=null,this.cacheHead[Gb]=null,this.cacheHead[zb]=null,this.cacheHead=r}else this.cacheLength++}removeOldestCache(){if(this.cacheTail){var e=[this.cacheHead[Hb],this.cacheMap[this.cacheHead[Hb]]];delete this.cacheMap[this.cacheHead[Hb]];var t=this.cacheHead[Gb];return t[zb]=null,this.cacheHead[zb]=null,this.cacheHead[Gb]=null,this.cacheHead=t,this.cacheLength--,e}}removeCache(e){var t=this.getCache(e);t&&(t===this.cacheHead?(this.cacheHead=t[Gb],this.cacheHead&&(this.cacheHead[zb]=null)):t===this.cacheTail?(this.cacheTail=t[zb],this.cacheTail&&(this.cacheTail[Gb]=null)):(t[zb][Gb]=t[Gb],t[Gb][zb]=t[zb],t[Hb][zb]=null,t[Hb][Gb]=null),delete this.cacheMap[t[Hb]],this.cacheLength--)}}function Xb(e){Kb||(Kb=new Jb(50));var t,r=Kb.getCache(e);return r?(Kb.updateCache(r),r):((t="function"==typeof URL?new URL(e):(0,qb.Qc)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),Kb.insertCache(e,t),t)}var Yb={},Qb={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,preloadWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188,createWKVideo:1293,uploadFile:1308,gameRecorderOperateVideo:1310,gameRecorderGetVideoPath:1310,openCustomerServiceConversationDirectly:1316,plugin_shareAppMessage:1345,createLiteApp:1346,gameTransferForLiteGame:1359},Zb=e=>{if(Yb[e])return Yb[e];var t={},r=Object.values(Qb);return md("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(n){var i=n.pluginPermissionMap;if(i&&i[e]){for(var a=0;a<i[e].length;a++){var o=r[a];t[o]=1===i[e][a]}Yb[e]=t}},fail(e){}}),t},e_=(e,t)=>{var r=Qb[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):Yb[e]?Yb[e][r]:(Zb(e),Yb[e]&&Yb[e][r])},t_=Symbol("skipDNS"),r_=function({args:e={}}){var{ip:t}=e;if(t){var r=Wh(this);return r&&e_(r,"skipDNSRequest")?{skipDNS:t_,ip:e.ip}:{}}},n_="[accelerate]",i_=0,a_=1,o_={request_host_list:"requestHostMap",socket_host_list:"socketHostMap"},s_={isHitRule:i_,enableAcc:i_,requestHostMap:{},socketHostMap:{},forceDisableAcc:i_},l_={none:0,accelerate:1,disable:2,retryAccelFallback:3,forceDisableAcc:4,liteGatewayAcc:5},c_={[l_.none]:"none",[l_.accelerate]:"accelerate",[l_.disable]:"disable",[l_.retryAccelFallback]:"retryAccelFallback",[l_.forceDisableAcc]:"forceDisableAcc",[l_.liteGatewayAcc]:"liteGateway"};re.onReady((()=>{var e,t,r,n;Date.now();null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||t.enable_accelerate_network,((null==re||null===(r=re.appContactInfo)||void 0===r||null===(n=r.passThroughInfo)||void 0===n?void 0:n.enable_accelerate_network)||!1)&&TE({apiName:"webapi_get_oversea_accelerate_info",reqData:{},success:e=>{Date.now();var t=e.data.is_region_hit_rule,r=e.data.enable_acc;Object.assign(s_,{isHitRule:t,enableAcc:r}),r===a_&&Object.keys(o_).forEach((t=>{(e.data[t]||[]).forEach((e=>{s_[o_[t]][e.host]=e.acc_host}))}))},fail:e=>{}})}));var u_=e=>{var t;return(null==e||null===(t=e.header)||void 0===t?void 0:t["EO-LOG-UUID"])||""},d_=({host:e,hostMap:t,compatUrls:r,args:n,__retryAccelFallback__:i,__AccelFailReqId__:a})=>{var{disableAccelerate:o,url:s}=n,l=t[e],{disable:c,accelerate:u,retryAccelFallback:d,none:p,forceDisableAcc:h}=l_;if(o||i||s_.enableAcc===i_||s_.forceDisableAcc===a_||!l){var f=p;return l&&(o?f=c:i?(f=d,s_.forceDisableAcc=a_):s_.forceDisableAcc===a_&&(f=h)),{accelerateOptions:Object.assign({accelerateType:f},a?{__AccelFailReqId__:a}:{})}}var g=s,v=e,m=g.replace(v,l);return{accelerateOptions:{accelerateType:u},host:l,args:Object.assign({},n,{url:m}),compatUrls:Object.assign({},r,{host:l,url:m})}};function p_(e){var{host:t,args:r,compatUrls:n,options:i}=e,{requestHostMap:a,isHitRule:o}=s_,{accelerateOptions:s,...l}=d_({host:t,compatUrls:n,hostMap:a,args:r,__retryAccelFallback__:i.__retryAccelFallback__,__AccelFailReqId__:i.__AccelFailReqId__});return Object.assign({},l,{accelerateOptions:Object.assign({},s,{isHitRule:o,rawHost:t,rawUrl:r.url})})}var h_=({options:e,res:t,task:r})=>{var n=u_(t)||r.uniqueId,{isHitRule:i,rawUrl:a,rawHost:o,accelerateType:s}=e.accelerateOptions,l=e.originArgs.url,c=e.host,{profile:u,statusCode:d,errno:p,errMsg:h}=t,{domainLookUpStart:f,domainLookUpEnd:g,connectStart:v,connectEnd:m,SSLconnectionStart:y,SSLconnectionEnd:b,requestStart:_,requestEnd:w,responseStart:S,responseEnd:C,socketReused:k,peerIP:I}=u||{};return T.reportKeyValue({key:"AccelerateNetwork",value:["request",encodeURIComponent(a.substring(0,1024)),encodeURIComponent(l.substring(0,1024)),o,c,2,Date.now()-e.currentRequestStartTime,h,T.getAppType(),d,0,My(),0,By(u||{}),Ue()?$y.scene:uu.scene,p,i,s,n,g-f,m-v,b-y,w-_,C-S,k,I].join(",")}),delete e.accelerateOptions,e.originArgs.url=a,{args:e.originArgs,innerArgs:{__retryAccelFallback__:!0,__AccelFailReqId__:n}}};function f_(e,t,r=(e=>e),n=(e=>e),i=(e=>e)){return(a={})=>{Em().then((o=>{var s=o.sysAccessToken,{success:l,fail:c}=Kc(a,e);Td({apiName:t,reqData:JSON.stringify(r(a)||{}),idaasSessionKey:s,success(e){if(0===e.logicRet)if("object"==typeof e.data)l(n(e.data));else{var t=JSON.parse(e.data||{});l(n(t))}else c(i({errMsg:e.logicErrmsg,errCode:e.logicRet}))},fail(e){console.error(`operateSaaADataFactory ${t} fail: `,JSON.stringify(e)),c(i(e))}})}))}}var g_={},v_={},m_={},y_=(e,t,r)=>{if(m_[e])return m_[e];var n,i=e&&e.indexOf(":");n=(n=-1!==i?e.slice(0,i):e).toLowerCase();var a=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:n}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:n,service_id:t}};return m_[e]=EE(a).then((t=>{delete m_[e];var n,{wxa_state:i,ttl:a,hit_cache:o,ip_list:s=[],ip:l}=t.data;n=null!=s&&s.length?s[0]:l;var c=s.slice(1);if(0===i)return g_[e]={ip:n,expireTime:1e3*a+Date.now(),candidateIps:c},r?{...g_[e],hitCache:o}:g_[e];throw new Error(i)})).catch((t=>{if(!r&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete m_[e],t})),m_[e]},b_=e=>{var t=g_[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null},__=(e,t)=>{var r=v_[e];return t?(!r||r!==t)&&(delete v_[e],!0):(delete v_[e],!1)},w_=(e,t)=>{v_[e]=t};function S_({args:e={},host:t,skipDNS:r,banHttpDNS:n,options:i={}}){var a,o;if(r!==t_&&!n){var s,l,{enableHttpDNS:c,httpDNSServiceId:u}=e;if(null!=i&&null!==(a=i.__innerRequestOptions__)&&void 0!==a&&a.ip)return{host:t,ip:i.__innerRequestOptions__.ip,candicateIps:null===(l=i.__innerRequestOptions__)||void 0===l?void 0:l.candicateIps};if(null===(null==i||null===(o=i.__innerRequestOptions__)||void 0===o?void 0:o.ip))return{};if(!Oy()){if(!0===c&&rt(u)){var d=b_(t);return d&&!1===d.expired?(s=d.ip,{host:t,ip:s}):y_(t,u).then((e=>{if(s=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:i.retryCount?i.retryCount+1:1};var r=e.candidateIps;return{host:t,ip:s,candicateIps:r}}))}return!0===c?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function C_({host:e,ip:t,compatUrls:r}){var n=__(e,t);return t?{port:r.port,host:r.host,url:r.url,forbidReuse:n}:{forbidReuse:n}}Ay((()=>{g_={},v_={},m_={}}));var k_=!1;re.onReady((()=>{Ie&&1===Number(re.expt.clicfg_appbrand_ios_enable_async_create_request_task)&&(k_=!0)}));var I_=wg($d),P_=0,A_=new WeakMap,x_=new WeakMap,T_=new WeakMap,E_=new WeakMap,M_=new WeakMap,R_=new WeakMap,O_=new WeakMap,D_=new WeakMap,L_=new WeakMap,N_=new WeakMap,B_=new WeakMap,$_={},j_=new Yy("Network",!0),F_=y.createLogger("NetworkTask"),W_=new WeakMap,U_={},V_=new WeakMap,q_=new WeakMap;class z_{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:n,beforeFail:i}){var a,o,s=P_++;if(this.uniqueId=nb(),A_.set(this,s),T_.set(this,"waiting"),E_.set(this,e),M_.set(this,t),D_.set(this,r),L_.set(this,n),vt(i)&&N_.set(this,i),this.taskInvoker=Wb(t,e),!this.taskInvoker){var l=!1;(eb(t)||(Ie||ke)&&e.forceCellularNetwork)&&(l=!0),B_.set(this,l)}var c=new Zy(((e,t)=>{a=e,o=t}));W_.set(this,{promise:c,resolve:a,reject:o});var u=()=>{Q_.call(this)?(O_.set(this,[Date.now()]),$_[t].taskQueue.push({id:s,item:this})):H_.call(this)};vt(e.customCheck)?e.customCheck(e,(r=>{r?G_(t,e,r):u()})):u()}abort(){if(F_.info(`[${M_.get(this)}][${A_.get(this)}]abort()`),"waiting"===T_.get(this)){F_.info(`[${M_.get(this)}][${A_.get(this)}] waiting=true`);var e=$_[M_.get(this)].taskQueue.findIndex((e=>e.id===A_.get(this)));e>-1&&($_[M_.get(this)].taskQueue.splice(e,1),zc($_[M_.get(this)].functionName,E_.get(this),"abort")),T_.set(this,"done")}else{var t=W_.get(this).promise,r=E_.get(this);t.then((()=>{var e={[`${M_.get(this).toLowerCase()}TaskId`]:x_.get(this),operationType:"abort",contextId:r.contextId};this.taskInvoker?this.taskInvoker.operate(e):md(`operate${M_.get(this)}Task`,e)}))}}onProgressUpdate(e){W_.get(this).promise.then((()=>{var t=x_.get(this),r=M_.get(this);j_.on(`${r}${t}progressUpdate`,e),1===j_.getListenersLength(`${r}${t}progressUpdate`)&&tw.call(this,r,"progressUpdate",t)}))}offProgressUpdate(e){W_.get(this).promise.then((()=>{var t=x_.get(this),r=M_.get(this);j_.off(`${r}${t}progressUpdate`,e),j_.getListenersLength(`${r}${t}progressUpdate`)||rw.call(this,r,"progressUpdate",t)}))}onHeadersReceived(e){W_.get(this).promise.then((()=>{var t=x_.get(this),r=M_.get(this);j_.on(`${r}${t}headersReceived`,e),1===j_.getListenersLength(`${r}${t}headersReceived`)&&tw.call(this,r,"headersReceived",t)}))}offHeadersReceived(e){W_.get(this).promise.then((()=>{var t=x_.get(this),r=M_.get(this);j_.off(`${r}${t}headersReceived`,e),j_.getListenersLength(`${r}${t}headersReceived`)||rw.call(this,r,"headersReceived",t)}))}onChunkReceived(e){W_.get(this).promise.then((()=>{var t=x_.get(this),r=M_.get(this);j_.on(`${r}${t}chunked`,e),"Request"===r&&1===j_.getListenersLength(`${r}${t}chunked`)&&tw.call(this,r,"chunked",t)}))}offChunkReceived(e){W_.get(this).promise.then((()=>{var t=x_.get(this),r=M_.get(this);j_.off(`${r}${t}chunked`,e),"Request"!==r||j_.getListenersLength(`${r}${t}chunked`)||rw.call(this,r,"chunked",t)}))}}function G_(e,t,r,n){r=String(r).replace("createCellularNetworkRequestTaskAsync:fail ","");var i={name:$_[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r};"number"==typeof n&&(i.errno=n),Hc(i)}function H_(){var e=E_.get(this),t=M_.get(this),r=B_.get(this);T_.set(this,"sending"),R_.set(this,Date.now());var{errMsg:n,errno:i}=K_.call(this);r?W_.get(this).promise.then((()=>{J_.call(this)})).catch((({errMsg:r,errno:n})=>{G_(t,e,r,n)})):n?G_(t,e,n,i):x_.get(this)?J_.call(this):W_.get(this).promise.then((()=>{J_.call(this)}));setTimeout((()=>{zy({functionName:$_[t].functionName,keyParam:e.url,result:null,costTime:0,errorMsg:"",statusCode:null,__skipDomainCheck__:e.__skipDomainCheck__,dataLength:null,responseDataLength:null,profile:{},queueTime:null,extraData:{},uniqueId:this.uniqueId,isAsync:!1,errno:null,queueLength:0,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0})}),0)}function K_(){var e,t,r=M_.get(this),n=E_.get(this);$_[r].currentTaskCount++;var i={data:n.data,url:n.url,header:n.header,method:n.method,timeout:"number"==typeof n.timeout?n.timeout:0,enableHttp2:!0===n.enableHttp2,enableHttp3:!0===n.enableHttp3,enableQuic:!0===n.enableQuic,enableCache:!0===n.enableCache,enableProfile:!1!==n.enableProfile,ip:n.ip,port:n.port,forbidReuse:!0===n.forbidReuse,host:n.host,enableChunked:n.enableChunked,__skipDomainCheck__:n.__skipDomainCheck__,forceCellular:n.forceCellularNetwork,contextId:n.contextId,redirect:n.redirect,success:e=>{var t=e[`${r.toLowerCase()}TaskId`];x_.set(this,t),$_[r].taskIdMap[t]=this;var n=W_.get(this).resolve,i=W_.get(this).promise;n(),i.then((()=>{U_[t]&&"wait"===U_[t].status?U_[t].handlers.forEach((e=>e())):U_[t]={status:"normal"}}))},fail:i=>{$_[r].currentTaskCount--;var a=i[`${r.toLowerCase()}TaskId`];e=i.errMsg,t=i.errno,X_.call(this,{taskType:r,options:n,errMsg:e,success:!1,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0}),(0,W_.get(this).reject)({errMsg:e,errno:t}),F_.error(`[${r}][createTask][Fail] taskId=${a}`),U_[a]&&"wait"===U_[a].status&&delete U_[a]},complete:()=>{T_.set(this,"done")}},a=B_.get(this),o=`create${r}Task${a?"Async":""}`;(Ie||ke)&&n.forceCellularNetwork&&(o="createCellularNetworkRequestTaskAsync");var s={};"[object ArrayBuffer]"!==Object.prototype.toString.call(n.data)&&(s.notPack=!0);var l=D_.get(this)(i);return"createRequestTaskAsync"===o&&Ie&&k_&&(o="createRequestTaskRealAsync"),this.taskInvoker?this.taskInvoker.createTask(l,n):"Request"!==r||Ce||Te||g.env.isMagicBrushFrameEnv?md(o,l):Cd(o,l,s),{errMsg:e,errno:t}}function J_(){var e=x_.get(this),t=E_.get(this),r=M_.get(this),n=$_[r].functionName;j_.on(`${r}${e}success`,(e=>{var r=L_.get(this).call(this,e);null!=r&&r.__retry__||Hc({name:n,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),j_.on(`${r}${e}fail`,(e=>{var r=N_.get(this),i=r&&r.call(this,e);if(null!=i&&i.__retry__)y.info(`httpDns we retry url: ${t.url}`);else{i&&i.__changeError__&&(e=i.__changeError__);var a={name:n,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(a.errno=e.errno),e.exception&&(a.exception=e.exception),Hc(a)}}))}function X_({taskType:e,options:t,errMsg:r,success:n=!0,dataLength:i=0,statusCode:a="",responseDataLength:o=0,profile:s={},queueTime:l,uniqueId:c,errno:u,queueLength:d,accelerateId:p,jsapiVersion:h=0,response:f}){var g=t.url,v=n?1:2,m=Date.now(),y=R_.get(this),b=m-y,_=t.__skipDomainCheck__;b>=6e4&&F_.error(`reportTask costTime too long: ${b}ms, taskId=${x_.get(this)}`),zy({functionName:$_[e].functionName,keyParam:g,result:v,costTime:b,errorMsg:r,statusCode:a,__skipDomainCheck__:_,dataLength:i,responseDataLength:o,profile:s,queueTime:l,extraData:{},uniqueId:c,isAsync:!0,errno:u,queueLength:d,accelerateOptions:Object.assign({},t.accelerateOptions,{host:t.host,accelerateId:p}),jsapiVersion:h,requestData:t.data,response:f,beginTime:y,endTime:m,options:t})}function Y_(e,t){var r=`${t.toLowerCase()}TaskId`,n=e[r],{state:i,header:a}=e;delete e.state,delete e[r],"chunked"!==i&&(e.cookies=a?Qy(a["Set-Cookie"]||a["set-cookie"]):[]);var o=0;a&&(o=parseInt(a["Content-Length"]||a["content-length"]||"0",10));var s,l,c=()=>{if(j_.emit(`${t}${n}${i}`,e),"success"===i||"fail"===i){var r=$_[t].taskIdMap[n],a=E_.get(r);if(!r)return;$_[t].currentTaskCount-=1;var s=$_[t].taskQueue.length;if($_[t].taskQueue.length>0){var l=$_[t].taskQueue.shift().item,c=O_.get(l);if(c&&c[0]){var u=c[0];if(u>0){var d=Date.now()-u;O_.set(l,[u,d,s])}}H_.call(l)}var p=Promise.resolve(yg(a.data));if("Upload"===t){var h=0;"object"==typeof a.formData&&null!==a.formData&&(h=JSON.stringify(a.formData).length),p=I_({path:a.filePath}).then((e=>h+e.stats.size)).catch((()=>h))}var f=Promise.resolve(yg(e.data,o));if("Download"===t){var g=e.dataLength;f="number"==typeof g?Promise.resolve(g):I_({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([p,f]).then((([n,o])=>{var s=O_.get(r);X_.call(r,{taskType:t,options:a,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===i,dataLength:n,responseDataLength:o,response:e,profile:e.profile,queueTime:s&&s[1],uniqueId:r.uniqueId,errno:e.errno,queueLength:s&&s[2],socketReused:e.socketReused,peerIP:e.peerIP,accelerateId:u_(e),jsapiVersion:r.taskInvoker?r.taskInvoker.jsapiVersion:0}),O_.delete(r)})),V_.set($_[t].taskIdMap[n],!0),Z_.call(r)}};k_&&"Request"===t?"normal"===(null===(s=U_[n])||void 0===s?void 0:s.status)?c():"wait"===(null===(l=U_[n])||void 0===l?void 0:l.status)||(U_[n]={status:"wait",handlers:[c]}):c()}function Q_(){var e=M_.get(this);return $_[e].currentTaskCount>=$_[e].maxTaskCount}function Z_(){var e=M_.get(this),t=x_.get(this);delete $_[e].taskIdMap[t],delete U_[t],j_.removeAllListeners(`${e}${t}success`),j_.removeAllListeners(`${e}${t}fail`),j_.removeAllListeners(`${e}${t}complete`),j_.removeAllListeners(`${e}${t}progressUpdate`),j_.removeAllListeners(`${e}${t}headersReceived`),j_.removeAllListeners(`${e}${t}chunked`)}function ew(e,t){var r=$_[e]?$_[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};Ub(e,(t=>{Y_.call(this,t,e)})),qt(`on${e}TaskStateChange`,(t=>{Y_.call(this,t,e)})),$_[e]=Object.assign(r,t)}function tw(e,t,r){if(this.taskInvoker)this.taskInvoker.startListenTaskStateChange({stateName:t,taskId:r});else{var n=q_.get(this);n?n.add(t):(n=new Set([t]),q_.set(this,n)),md(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(n),noCallback:!0})}}function rw(e,t,r){if(this.taskInvoker)this.taskInvoker.stopListenTaskStateChange({stateName:t,taskId:r});else{var n=q_.get(this);n&&(n.delete(t),md(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(n),noCallback:!0}))}}var nw=({url:e,result:t,cost:r,pointCacheType:n,errMsg:i,errno:a,host:o,fullCost:s})=>{var l=[e,t,r,n,i?encodeURIComponent(i):i,a,o,s].join(",");T.reportKeyValue({key:"WeFreeHttpDns",value:l})},iw={},aw=(e,t={})=>{if(!iw[e]||t.noCache){var r={},n={},i={},a={on:(t,n)=>{r[t]&&y.warn(`基础库分包 ${e} on event: ${t} has subscribe listener`),r[t]=n,i[t]&&(i[t].forEach((e=>{n(e)})),delete i[t])},subscribe:(t,a)=>{r[t]&&y.warn(`基础库分包 ${e} subscribe event: ${t} has on listener`),n[t]||(n[t]=[]),n[t].push(a),i[t]&&(i[t].forEach((e=>{a(e)})),delete i[t])},publish:(e,t)=>{var i,a;return(i=r[e])?(i(t),!0):!!(a=n[e])&&(a.forEach((e=>e(t))),!0)},advancePublish:(e,t,r=!1)=>{(r?a.publish(e,t):ow(e,t))||(i[e]||(i[e]=[]),i[e].push(t))},off:e=>{r[e]=null}};return iw[e]=a,a}y.warn(`已经存在分包EM ${e}`)},ow=(e,t,r,n)=>{var i=iw[e];i&&(n?i.advancePublish(t,r):i.publish(t,r))},sw=(e={})=>{var{runCount:t,runCostAverage:r,runError:n,createError:i,isBinding:a,version:o,runErrorRate:s,createSessionParams:l,sessionId:c,resultType:u,createErrno:d,runErrno:p}=e;a=a?1:0,n||(n=""),i||(i="");var h=[t,r,encodeURIComponent(n),encodeURIComponent(i),a,o,s,c,encodeURIComponent(l),u,d,p].map(Nu(1024)).join(",");T.reportKeyValue({key:"WeAppXNetInvoke",value:h})},lw=(e,t)=>{if(t)try{e.success&&e.success({ver:t.GetInferenceEnvInfo().ver}),e.complete&&e.complete({ver:t.GetInferenceEnvInfo().ver})}catch(t){e.fail&&e.fail("getInferenceEnvInfo fail: ",t)}else md("getInferenceEnvInfo",e)},cw=Bg(lw,(e=>({ver:e.ver}))),uw=new WeakMap,dw;class pw{constructor(e={model:""}){this.em=void 0,this.sessionId=void 0,this.reportInfo=void 0,this.getVersionTask=void 0;var t,r=this;try{t=JSON.stringify(e)}catch(e){t=""}this.reportInfo={runCostAverage:0,runErrorRate:0,runCount:0,runErrorCount:0,createSessionParams:t,sessionId:Nt(),runErrno:0,createErrno:0};var n=!0;if(!1===e.asyncCreateSession&&(n=!1),this.em=aw("XnetBinding",{noCache:!0}),dw=xf.XInference,this.getVersionTask=new Promise((e=>{cw({success(t){e(t.ver),r.getVersionTask=t.ver},fail(){e("-1"),r.getVersionTask="-1"}},dw)})),y.warn("asyncCreateSession: ",n),n){dw.CreateAsync($E(((e,t)=>{if(e){var r={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};return this.report(r),this.em.advancePublish("onError",e,!0),this.reportInfo.createErrorMsg=e.errMsg,void(this.reportInfo.createErrno=e.errno)}uw.set(this,t),this.sessionId=t;var n={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(n),this.em.advancePublish("onLoad",void 0,!0)}),"XInference.CreateAsync"),e)}else{var i={...e};["success","fail","complate"].forEach((e=>{i[e]&&delete i[e]}));try{var a=dw.CreateSession(i);a&&(uw.set(this,a),this.sessionId=a,this.em.advancePublish("onLoad"));var o={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(o)}catch(e){var s={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};this.report(s),this.em.advancePublish("onError",e)}}}onLoad(e){this.em.on("onLoad",(()=>{e()}))}offLoad(){this.em.off("onLoad")}onError(e){this.em.on("onError",e)}offError(){this.em.off("onError")}run(e){var t=Date.now(),r=this,n=new Promise(((n,i)=>{var a={session:this.sessionId,inTensors:e};try{dw.RunAsync($E((function(e,a){r.reportInfo.runCount++;var o=Date.now()-t;if(r.reportInfo.runCostAverage=(r.reportInfo.runCostAverage*(r.reportInfo.runCount-1)+o)/r.reportInfo.runCount,e)return r.reportInfo.runErrorMsg=e.errMsg,r.reportInfo.runErrno=e.errno,void i({errMsg:"runInferenceSession:fail "+e});for(var s of Object.keys(a)){var l=a[s].data;l&&ArrayBuffer.isView(l)&&(a[s].data=l.buffer)}n(a)}),"XInference.RunAsync"),a)}catch(e){return void i(e)}}));return n}destroy(){var e=new Promise(((e,t)=>{var r={session:this.sessionId};try{dw.ReleaseAsync($E((function(r,n){r?t(r):e(n)}),"XInference.ReleaseAsync"),r)}catch(e){return void t(e)}})),t={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};return this.report(t),e}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};this.report(e)}report(e){e.isBinding=!0,It(this.getVersionTask)?this.getVersionTask.then((t=>{e.version=t,sw(e)})):(e.version=this.getVersionTask,sw(e))}get operator(){return{}}}var hw=JSON.parse,fw=JSON.stringify,gw=!0,vw=(e,t)=>{if(!gw)return t;var r;return(n={})=>{var{success:i,fail:a}=Kc(n,e);if(r){var o={};try{o=hw(r)}catch(e){y.error("constructCachedOptimizedSyncApi parse error",e.message)}i(o)}else t(Object.assign({},n,{success(e){try{r=fw(e)}catch(e){y.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{r=void 0})),i(e)},fail(e){r=void 0,a(e)},complete:void 0}))}},mw=re.SDKVersion,yw=e=>{var t=Se;if(Ie&&(e.brand="iPhone"),Ce&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=mw,e.enableDebug=Boolean(re.debug),re.devicePixelRatio&&(e.devicePixelRatio=re.devicePixelRatio),re.theme&&(e.theme=re.theme),re.host&&(Oe?(e.host={...re.host},delete e.host.uuid):e.host=re.host),re.appLaunchInfo&&re.appLaunchInfo.mode&&(e.mode=re.appLaunchInfo.mode),ke&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),Mg()&&!Ue()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),Be&&(e.renderer="h5"),Ie&&e.model&&0===e.model.indexOf("unknown")){var r=e.model.match(/^unknown<([^>]*)>$/),n=r&&r[1];n&&("iPhone15,4"===n?e.model=`iPhone 15<${n}>`:"iPhone15,5"===n?e.model=`iPhone 15 plus<${n}>`:"iPhone16,1"===n?e.model=`iPhone 15 pro<${n}>`:"iPhone16,2"===n&&(e.model=`iPhone 15 pro max<${n}>`))}},bw=()=>{re.isReady||(new Error).stack},_w=(e="")=>{e=e.replace(/,/g,";");var t=Du()+" "+Lu(),r=re.appType;T.reportKeyValue({key:"DeprecatedAPI",value:[e,t,r].join(",")})},ww=()=>{var e={};return Aw({success(t){delete t.errMsg,e=t}}),e},Sw=()=>{var e={},t=!1;return _getSystemInfo({success(r){delete r.errMsg,e=r,t&&reportDeprecatedAPI(`getSystemInfoSync Async Callback; WK_RENDERER_H5=${!!WK_RENDERER_H5}`)},fail(e){reportDeprecatedAPI(`getSystemInfoSync Fail Callback errMsg=${e.errMsg} errno=${e.errno} hasReturn=${t}`)}}),t=!0,e},Cw,kw=()=>Cw||(Cw=Object.assign({},ww())),Iw=e=>{delete(Cw=Object.assign({},e)).errMsg},Pw=e=>{bw();md("getSystemInfo",e,{beforeSuccess:e=>{yw(e),Iw(e)}})},Aw=vw("getSystemInfo",Pw),xw=e=>{re.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),bw());var t=re.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";md(t,e,{beforeSuccess:e=>{yw(e),Iw(e)}})},Tw=yy("getSystemInfoAsync",xw),Ew=e=>{Ie?zc("openSystemBluetoothSetting",e,"only for android",1):md("openSystemSetting",{...e,type:"systemBluetooth"})},Mw=e=>{md("openSystemSetting",{...e,type:"appAuthorize"})},Rw=Object.defineProperty,Ow=(e,t)=>{Rw(e,t,{get:()=>{var e;return md("getSystemInfo",{type:t,success:r=>{e=r[t]}}),e},enumerable:!0})},Dw=()=>{var e={};return Ow(e,"bluetoothEnabled"),Ow(e,"deviceOrientation"),Ow(e,"locationEnabled"),Ow(e,"wifiEnabled"),e},Lw=()=>{var e={};return Ow(e,"albumAuthorized"),Ow(e,"albumAddOnlyAuthorized"),Ow(e,"bluetoothAuthorized"),Ow(e,"cameraAuthorized"),Ow(e,"locationAuthorized"),Ow(e,"locationReducedAccuracy"),Ow(e,"microphoneAuthorized"),Ow(e,"notificationAlertAuthorized"),Ow(e,"notificationAuthorized"),Ow(e,"notificationBadgeAuthorized"),Ow(e,"notificationSoundAuthorized"),Ow(e,"phoneCalendarAuthorized"),Ow(e,"mediaAudioAuthorized"),Ow(e,"mediaImagesAuthorized"),Ow(e,"mediaVideoAuthorized"),e},Nw=JSON.parse,Bw=JSON.stringify,$w=!0,jw=e=>{if(!$w)return e;var t;return(r={})=>{if(t){var n={};try{n=Nw(t)}catch(e){y.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return n}var i=e(r);try{t=Bw(i)}catch(e){y.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{t=void 0})),i}},Fw={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPhone15,4":"iPhone 15","iPhone15,5":"iPhone 15 Plus","iPhone16,1":"iPhone 15 Pro","iPhone16,2":"iPhone 15 Pro Max","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},Ww=e=>{var t,r=null!==(t=e.match(/unknown<([^>]?)>/))&&void 0!==t?t:[];return r&&Fw[r[1]]||e},Uw=()=>{var e;md("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t=Se;return Ie&&(e.brand="iPhone",e.model=Ww(e.model)),Ce&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e},Vw=jw(Uw),qw={WX_CACHE_DEBUG_PREFIX:{path:"wxfile://sdk/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},MNXNET_ROOT_DIR:{path:"wxfile://sdk/mnxnet",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_MODEL_CACHE_PATH_PREFIX:{path:"wxfile://sdk/we_model",storageLimit:31457280,autoClearAfterExceeds:!1},WX_COMPILE_PREFIX:{path:"wxfile://__wxprivate__/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},PRIVACY_DIR:{path:"wxfile://__wxprivate__/privacy",storageLimit:5242880,autoClearAfterExceeds:!1},OBS_DIRECTION_PATH:{path:"wxfile://__wxprivate__/obs",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_INFO_CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/app_info",storageLimit:5242880,autoClearAfterExceeds:!1},CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/pay",storageLimit:5242880,autoClearAfterExceeds:!1},WX_SHARE_APP_MESSAGE_CACHE_PATH:{path:"wxfile://__wxprivate__/share_app_message",storageLimit:5242880,autoClearAfterExceeds:!1},WX_DEIVCE_BENCHMARK_PATH:{path:"wxfile://__wxprivate__/wx_device_benchmark",storageLimit:5242880,autoClearAfterExceeds:!1},AD_PATH:{path:"wxfile://ad",storageLimit:104857600,autoClearAfterExceeds:!1},SHORT_TV_CACHE:{path:"wxfile://__wxprivate__/short_tv",storageLimit:1048576,autoClearAfterExceeds:!0}},zw={},Gw=[],Hw=Object.entries(qw);function Kw(e){Gw.length||Hw.forEach((e=>{Gw.push(e[1].path)}));var t=void 0!==zw[e]?zw[e]:Gw.some((t=>e.includes(t)));return zw[e]=t,!!t}var Jw={};function Xw(e){var t;if(Jw[e])t=Jw[e];else{var r,n=null!==(r=Hw.find((t=>t[1].path===e)))&&void 0!==r?r:[],{storageLimit:i=5242880,autoClearAfterExceeds:a=!1}=n[1]||{};t={storageLimit:i,autoClearAfterExceeds:a},Jw[e]=t}return t}var Yw=.1,Qw=Du()+" "+Lu(),Zw=["appendFile","appendFileSync","copyFile","copyFileSync","saveFile","saveFileSync","unzip","write","writeFile","writeFileSync","writeSync"],eS={appendFile:"filePath",appendFileSync:0,copyFile:"destPath",copyFileSync:1,saveFile:"filePath",saveFileSync:1,unzip:"targetPath",writeFileSync:0,writeFile:"filePath"},tS,rS="wxfile://__wxprivate__",nS="wxfile://sdk",iS="http://__wxprivate__",aS="http://sdk",oS="wxfile://ad",sS=[iS,rS,aS,nS,oS],lS=104857600,cS=209715200,uS=lS,dS=({subDirPath:e=""})=>{Jf({filePath:e})},pS=function(){var e=xd()((function*(e,t,r,n,i){var a=(yield t)||0,o=(yield r)||0,s=n.includes("sdk")?uS:cS,l=rt(e)?Ly(e):null==e?void 0:e.byteLength,c=Xw(i),u=a+l;o+l<c.storageLimit&&u<s||(c.autoClearAfterExceeds&&dS({subDirPath:i}),yS({rootPath:n,rootSize:a,path:i,dirSize:i,isExceedsReport:!0}))}));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),hS=()=>{var e={};return Object.assign(e,Bp,hg),e},fS={},gS=new Proxy({},{get:(e,t)=>(...e)=>{if(tS||(tS=hS()),Zw.includes(t)&&!fS[t]){fS[t]=!0;var r=vS(tS[t],t);return tS[t]=r,r(...e)}return tS[t](...e)}}),vS=(e,t)=>{var r=t.endsWith("Sync"),n={};return(...i)=>{var a=eS[t],o=r?i[a]:i[0][a];o=mS(o);var s=n[o]?n[o]:sS.find((e=>o.includes(e)));if(!s)return e(...i);if(n[o]=s,Kw(o)){var l=bS(s),c=bS(o),u=s,d=o,p=i[0].data||i[1]||"";return pS(p,l,c,u,d),Math.random()<Yw&&yS(u,l,d,c),e(...i)}}},mS=e=>{var t="";try{var r=e.split("//"),n=r[1].split("/");if(t=`${r[0]}//${n[0]}`,n.length>2)t+=`/${n[1]}`}catch(e){}return t},yS=function(){var e=xd()((function*(e,t,r,n,i=!1){n=n?yield n:"",t=t?yield t:"";var a=[Qw,r,i?"exceeds disk size":"",n,e,t].join(",");T.reportKeyValue({key:"InnerDiskStatInfo",value:a,immediately:!0})}));return function(t,r,n,i){return e.apply(this,arguments)}}(),bS=function(){var e=xd()((function*(e){var t=null;return yield new Promise(((r,n)=>{$d({path:e,recursive:!1,success:e=>{t=e.stats.size,r()},fail:e=>{n(e)}})})).catch((e=>{})),t}));return function(t){return e.apply(this,arguments)}}(),_S=()=>gS,wS="getDeviceBenchmarkInfo",SS=_S(),CS=wg(SS.readFile),kS=wg(SS.writeFile),IS=wg(SS.access),PS=wg(SS.mkdir),AS=qw.WX_DEIVCE_BENCHMARK_PATH.path,xS=`${AS}/wechat_benchmark_info.json`,TS=864e5,ES=(e,t,r)=>{Hc({name:wS,args:e,res:{benchmarkLevel:t,modelLevel:r}})},MS=e=>{IS({path:AS}).then((()=>{e&&e()})).catch((()=>{PS({dirPath:AS,recursive:!1}).then((()=>{e&&e()}))}))},RS=(e,t,r=!0)=>{TE({apiName:"webapi_game_transfer",sdkApiName:"gameTransfer",reqData:{req_path:"benchmark.getdevicebenchmark",device:e},timeout:1e4,success:n=>{var i,a,{benchmarklevel:o=-1,model_level:s=0}=null!==(i=null==n||null===(a=n.data)||void 0===a?void 0:a.device_info)&&void 0!==i?i:{};r&&ES(t,o,s);try{var l=JSON.stringify({[e]:{benchmarkLevel:o,modelLevel:s,cacheTime:Date.now()}});MS((()=>{kS({filePath:xS,data:l,encoding:"utf8"})}))}catch(e){}},fail:e=>{var n;r&&zc(wS,t,null!==(n=e.errMsg)&&void 0!==n?n:"")}})},OS=function(){var e=xd()((function*(e){var t,r=null!==(t=YS(!0))&&void 0!==t?t:{},{brand:n,model:i,platform:a}=r,o=n,s=i;if("ios"===a){o="APPLE";var l=i.match(/<([^>]*)>$/),c=l&&l[1];s=null!=c?c:s}var u=`${o},${s}`.toUpperCase();try{var{data:d}=yield CS({filePath:xS,encoding:"utf8"}),p=JSON.parse(d);if(p[u]){var{benchmarkLevel:h,modelLevel:f,cacheTime:g}=p[u];ES(e,h,f),Date.now()-g>TS&&RS(u,e,!1)}else RS(u,e)}catch(t){RS(u,e)}}));return function(t){return e.apply(this,arguments)}}(),DS=yy(wS,OS),LS=()=>{var e;return md("getSystemInfo",{type:"windowInfo",success(t){delete(e=t).errMsg}}),e},NS=jw(LS),BS=()=>{var e;return md("getSystemInfo",{type:"appBaseInfo",success(t){delete(e=t).errMsg}}),e.SDKVersion=mw,e.enableDebug=Boolean(re.debug),re.theme&&(e.theme=re.theme),re.host&&(e.host=re.host),re.appLaunchInfo&&re.appLaunchInfo.mode&&(e.mode=re.appLaunchInfo.mode),ke&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),e},$S=jw(BS),jS,FS=!!S.clientManager,WS,US=new Set;null===(jS=S.clientManager)||void 0===jS||jS.once("clientConnected",((e,{ua:t}={})=>{WS=t,US.forEach((e=>{try{e(t)}catch(e){}})),US.clear()}));var VS=e=>{FS?WS?e(WS):US.add(e):e("")},qS=(e={})=>new Promise((t=>VS((r=>{sd({userAgent:r},"getRendererUserAgent",e,{}),t(r)})))),zS=null,GS=0,HS=0,KS=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];re.onReady((()=>{zS={};for(var e=0;e<KS.length;e++){if(!(KS[e]in re)){KS[e],zS=kw();break}zS[KS[e]]=re[KS[e]]}if(re.screenHeight&&re.screenWidth)GS=re.screenWidth,HS=re.screenHeight;else{var t=kw();GS=t.screenWidth,HS=t.screenHeight}}));var JS=()=>re.isReady?Object.assign({},zS):((new Error).stack,{}),XS=()=>re.isReady?{screenWidth:GS,screenHeight:HS,deviceOrientation:GS>HS?"landscape":"portrait"}:((new Error).stack,{}),YS=(()=>{var e;return(...t)=>{if(e)return e;if(!0===t[0]){if(zS)return zS;e=ww()}else e=ww();return e}})(),QS=new WeakMap,ZS=new WeakMap,eC,tC;class rC{constructor(e={}){var t;try{t=JSON.stringify(e)}catch(e){t=""}if(tC=new Promise((e=>{cw({success(t){e(t.ver),tC=t.ver},fail(){e("-1"),tC="-1"}})})),this.reportInfo={runCount:0,runCostAverage:0,runErrorMsg:"",createErrorMsg:"",createSessionParams:t,sessionId:Nt(),createErrno:0,runErrno:0,runErrorCount:0},ZS.set(this,new Yy("AI",!0)),!eC){var r=ww();eC=r.version}"8.0.37"===eC&&ke?setTimeout((()=>{this.notSupport=!0,ZS.get(this).emit("Error",{errMsg:"createInferenceSession fail: client not support"})})):md("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{QS.set(this,e),ZS.get(this).emit("Load"),nC({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams})},fail:e=>{this.reportInfo.createErrorMsg=e.errMsg,this.reportInfo.createErrno=e.errno,setTimeout((()=>{ZS.get(this).emit("Error",e)})),nC({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,createError:e.errMsg,createErrno:e.errno})}}))}onLoad(e){ZS.get(this).on("Load",e)}offLoad(e){ZS.get(this).off("Load",e)}onError(e){ZS.get(this).on("Error",e)}offError(e){ZS.get(this).off("Error",e)}run(e={}){if(this.notSupport)return Promise.reject({errMsg:"runInferenceSession fail: client not support",errno:2004002});var t=Rp(),r={input:{},sessionId:QS.get(this)};for(var n in e){var i,a;null!==(i=e[n])&&void 0!==i&&i.data&&null!==(a=e[n])&&void 0!==a&&a.shape&&(r.input[n]={type:e[n].type,shape:e[n].shape,data:t.trace(e[n].data,"rw")})}return new Promise(((e,n)=>{var i=Date.now(),a=this.reportInfo;a.runCount++,md("runInferenceSession",Object.assign(r,{success({output:r}){var n=Date.now()-i;for(var o in a.runCostAverage=(a.runCostAverage*(a.runCount-1)+n)/a.runCount,r){var s;if("number"==typeof(null===(s=r[o])||void 0===s?void 0:s.data)){var l=r[o].data;r[o].data=t.getTraceBuffer(l),t.untrace(l)}}e(r)},fail:e=>{a.runErrorCount++,a.runErrorMsg=null==e?void 0:e.errMsg,a.runErrno=null==e?void 0:e.errno,n(e)}}))}))}destroy(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};nC(e),md("releaseInferenceSession",{sessionId:QS.get(this)}),ZS.delete(this),QS.delete(this)}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};nC(e)}}var nC=e=>{e.isBinding=!1,It(tC)?tC.then((t=>{e.version=t,sw(e)})):(e.version=tC,sw(e))};function iC(e={}){return new rC(e)}var aC=function(e={}){var t=getPluginId(this),{model:r}=e;if(r.startsWith(getUserDir())){if(!r.startsWith(getPluginDir(t)))throw new ThirdScriptError(`invalid model: ${r}`)}else r=getPluginFilePath(t,r);return new rC(Object.assign({},e,{model:r}))},oC=!1;!p.g.__isAppServiceRemoteDebugMode__&&ke&&(oC=!0);var sC=(e={})=>oC?new pw(e):new rC(e),lC=function(e={}){var t=Wh(this),{model:r}=e;if(r.startsWith(zg())){if(!r.startsWith(Kg(t)))throw new qd(`invalid model: ${r}`)}else r=hp(t,r);return oC?new pw(Object.assign({},e,{model:r})):new rC(Object.assign({},e,{model:r}))},cC,uC;function dC(e,t){return t instanceof ArrayBuffer||t.buffer&&t.buffer instanceof ArrayBuffer?{byteLength:t.byteLength}:t}function pC(){var e;return cC=cC||xf.XInference,uC=uC||(null===(e=cC)||void 0===e?void 0:e.GetInferenceEnvInfo().ver)||"0.0.0"}function hC(e,t,r,n,i={},a=1){var o={},s={func:t,args:i};o.createSessionParams=JSON.stringify(s,dC),o.runError=r,o.runCount=a,o.version=pC(),o.resultType=4,o.isBinding=e,o.runCostAverage=n,sw(o)}var fC=_S(),gC=wg(fC.readFile),vC=wg(fC.writeFile),mC=wg(fC.access),yC=wg(fC.mkdir),bC;function _C(e,...t){var r;bC=bC||xf.XInference;try{r=new Promise(((r,n)=>{bC.InvokeMethod(e,$E((function(e,t){e?n(e):r(t)}),`XInference.InvokeMethod-${e}`),...t)}))}catch(t){y.warn(`[mnxnet]: AsyncInvoke ${e} err: ${t}`)}return r}function wC(e){return SC.apply(this,arguments)}function SC(){return SC=xd()((function*(e){try{var t=e.map((e=>_C("GetDeviceScore",e))),r=Promise.all(t).then((t=>{var r={};return e.forEach(((e,n)=>{r[e]=t[n]})),r})).catch((e=>(console.log(`[mnxnet]: benchmark: ${e}`),{})));return yield r}catch(e){return console.log(`[mnxnet]: benchmark err: ${e}`),{}}})),SC.apply(this,arguments)}var CC=qw.MNXNET_ROOT_DIR.path,kC=CC+"/mnxnet_benchmark_v1.json";function IC(e){return Array.from(new Set(e))}function PC(e){return AC.apply(this,arguments)}function AC(){return AC=xd()((function*(e,t={}){if(!Array.isArray(e))return y.warn("[mnxnet]: benchmarkTypes should be array"),{};try{yield mC({path:CC})}catch(e){yield yC({dirPath:CC})}var r={},n=(null==t?void 0:t.forceRunKeys)||[];try{var{data:i}=yield gC({filePath:kC,encoding:"utf8"}),a=JSON.parse(i);e.forEach((e=>{a[e]?r[e]=a[e]:n.push(e)}))}catch(t){n=e,1300002===t.errno?y.warn(`[mnxnet]: access ${t} ${JSON.stringify(t)}`):y.warn(`[mnxnet]: access benchmark cache failed: ${JSON.stringify(t)}`)}return(n=IC(n)).length?wC(n).then((e=>{var t=Object.assign({},e,r),n=JSON.stringify(t);y.warn(`[mnxnet]: rerun benchmark: ${n}`);try{vC({filePath:kC,data:n,encoding:"utf8"})}catch(e){y.warn(`[mnxnet]: write bench result to file failed: ${e}`)}return t})):r})),AC.apply(this,arguments)}var xC=!1,TC=-1,EC=()=>(xC||(TC=Vw().benchmarkLevel||-1,xC=!0),TC),MC=ir("lifeCycle:AppRoute"),RC=MC.internalOnMethod,OC=MC.internalOffMethod,DC=e=>{MC.onMethod(e)},LC=MC.offMethod,NC=e=>{var t={};for(var r of["path","query","openType","renderer","timeStamp","webviewId","routeEventId","pipMode","notFound","page"])r in e&&(t[r]=e[r]);return t},BC=(e,t)=>{if(gp(e.path)===t)return e;var r={path:e.path,query:{},openType:e.openType,renderer:e.renderer,webviewId:e.webviewId,routeEventId:e.routeEventId};return e.timeStamp&&(r.timeStamp=e.timeStamp),e.pipMode&&(r.pipMode=e.pipMode),e.notFound&&(r.notFound=e.notFound),e.page&&(r.page=e.page),r},$C=e=>{MC.emitInternal(e);var t=NC(e);MC.emitGlobal(BC(t,""))},jC=0,FC=[],WC=(e,t={},r,n)=>{var i=jC++;FC[i]=n,Kr("invokeWebviewMethod",{name:e,args:t,callbackId:i},void 0===r?[uu.currentWebviewId]:r)};en("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=FC[t];delete FC[t],r&&r(e)}));var UC=(e,t={},r={})=>{pt(t)||(t={});var n=ld(t=Object.assign({},t),e,r);WC(e,t,void 0,n)},VC=ir("LifeCycle:Show"),qC=VC.emitInternal.bind(VC),zC=VC.emitGlobal.bind(VC),GC=VC.onMethod,HC=VC.offMethod,KC=VC.internalOnMethod,JC=VC.internalOffMethod,XC=ir("LifeCycle:beforeHide"),YC=ir("LifeCycle:Hide"),QC=ir("LifeCycle:afterHide"),ZC=YC.emitInternal.bind(YC),ek=YC.emitGlobal.bind(YC),tk=XC.emitInternal.bind(XC),rk=QC.emitInternal.bind(QC),nk=YC.onMethod,ik=YC.offMethod,ak=XC.internalOnMethod,ok=XC.internalOffMethod,sk=YC.internalOnMethod,lk=YC.internalOffMethod,ck=QC.internalOnMethod,uk=QC.internalOffMethod,dk=[],pk=[],hk=["expires","domain","path","busid","indate","receivetime","spread","extra"],fk=502,gk=503,vk={scene:-1,sceneNote:"",sessionId:""};function mk(e){var t=re.accountInfo&&re.accountInfo.appId||"noAppId";WC("getCookiesFromGlobalStorage",{appId:t},void 0,e)}function yk(e,t){var r=re.accountInfo&&re.accountInfo.appId||"noAppId";e&&e.trim()&&WC("setCookiesToGlobalStorage",{cookies:e,appId:r},void 0,t)}function bk(e){return Ce||Cf(e)}function _k(e){mk((t=>{t&&Ck(t,!1,dk),e&&e()}))}function wk(){var e=Date.now(),t=[];dk.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;if(n&&1e3*n>e){var i=[];for(var a in r)hk.indexOf(a)>=0&&i.push(`${encodeURIComponent(a)}=${encodeURIComponent(r[a])}`);i.push(`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value)}`),t.push(i.join("; "))}}));var r=t.join(";; ");r.length>=4096||yk(r,(()=>{}))}function Sk(e,t){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(e.busid===i.busid&&e.key===i.key)return!0}return!1}function Ck(e,t,r){if("string"==typeof e){var n=Date.now();e.split(";;").forEach((e=>{var i,a=!1;if(e.split(";").forEach((e=>{i=i||{};var t=(e=e.split("="))[0].trim(),r=e[1]&&e[1].trim();if("expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),t&&void 0!==r){var n=decodeURIComponent(t);hk.indexOf(t)>=0&&!Kd(i,n)?i[n]=decodeURIComponent(r):(a=!0,i.key=n,i.value=decodeURIComponent(r))}})),i){a||(i.key="extra",i.value=i.extra,delete i.extra),t&&(i.receivetime=~~(n/1e3)),void 0===i.expires&&void 0!==i.indate&&i.receivetime&&(i.__wxprivate_calc_expires__=+i.receivetime+ +i.indate);var o=i.expires||i.__wxprivate_calc_expires__;o&&!(1e3*o>n)||Sk(i,r)||r.push(i),re.accountInfo&&re.accountInfo.appId&&i.spread&&(i.spread="*"===i.spread?"":i.spread+":",i.spread+=re.accountInfo.appId)}}))}}KC(((e={})=>{vk.scene=e.scene,vk.sceneNote=e.scene_note,vk.sessionId=e.sessionid||e.sessionId})),sk(((e={})=>{if(3===e.targetAction)for(var t=dk.length-1;t>=0;t--){var r=dk[t].extra;r&&"del_on_exit"===r&&dk.splice(t,1)}}));var kk=()=>{RC((()=>{var e=re.appLaunchInfo||{},t=+e.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;"string"==typeof i&&Ck(i,1037!==t,dk),_k(wk)})),df(((e={})=>{var t=+e.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;(1037===t||i&&"string"==typeof i||1===e.reLaunch||!0===e.reLaunch)&&(dk=[],pk=[]),"string"==typeof i&&Ck(i,1037!==t,dk),_k(wk)}))};function Ik(e){var t=[];for(var r in e)hk.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}function Pk(e){var t=[];return e.forEach((e=>{t.push(Ik(e))})),t.join(";; ")}var Ak=e=>{var t=Date.now(),r=[];dk.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!n||1e3*n>t)&&r.push(Ik(e))}));var n=r.join(";; ");return e&&e.success&&e.success({cookies:n}),n},xk=e=>{var t=Date.now(),r=[];dk.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;(!n||1e3*n>t)&&r.push(e)}));var n=re&&re.accountInfo&&re.accountInfo.appId||"",i=vk.scene||"",a=vk.sceneNote||"",o=vk.sessionId||"";r.push({key:"appid",value:n,busid:"wxapp"},{key:"sessionid",value:o,busid:"wxapp"},{key:"scene",value:i,busid:"wxapp"},{key:"scene_note",value:a,busid:"wxapp"});var{hostAppId:s,pluginAppId:l}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==s&&void 0!==l){var c=r.find((e=>"appid"===e.key));c&&(c.value=s),r.push({key:"plugin_appid",value:l,busid:"wxapp"})}var u=re.host||{};"SDK"===u.env&&r.push({key:"sdk_host_appid",value:u.appId,busid:"wxapp"});var d=r.map(Ik).join(";; ");return e&&e.success&&e.success({cookies:d}),d},Tk=()=>{var e=Date.now(),t=[];return pk.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;(!n||1e3*n>e)&&t.push(Ik(r))})),t.join(";; ")},Ek=e=>{var t=Date.now(),r=e.cookies||[],n=e.isTemporary;if(r instanceof Array){var i=n?pk:dk,a=[],o={},s={},l=re.accountInfo&&re.accountInfo.appId||"";if(r.forEach((e=>{if(e.key&&"string"==typeof e.key){var r=+e.expires;if(!e.value||r&&1e3*r<t)o[e.key]={key:e.key,busid:e.busid};else{var i={key:e.key,value:e.value};hk.forEach((t=>{var r=e[t];"expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),"spread"===t&&r&&!n&&l&&(i.spread="*"===r?"":r+":",i.spread+=l),"receivetime"!==t&&"spread"!==t&&void 0!==r&&(i[t]=r)})),s[e.key]=i,a.push(i)}}})),i.forEach((e=>{var r=o[e.key];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var n=s[e.key];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var i=e.expires||e.__wxprivate_calc_expires__;i&&1e3*i<t||a.push(e)}}})),Pk(a).length>=4096)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";n?pk=a:(dk=a,wk())}},Mk=e=>{var t=Date.now(),r=e.keys||[],n=e.busid,i=e.isTemporary;if(r instanceof Array){var a=[];return(i?pk:dk).forEach((e=>{var i=e.expires||e.__wxprivate_calc_expires__;if((!i||1e3*i>t)&&r.indexOf(e.key)>=0&&(!n||n&&n===e.busid)){var o={[e.key]:e.value};Object.keys(e).forEach((t=>{hk.indexOf(t)>=0&&(o[t]=e[t]),"indate"!==t&&"expires"!==t||(o[t]=+o[t])})),a.push(o)}})),a}},Rk=e=>{var t="setCookies:ok";if(bk("setCookies")){var r=Ek(e);r?(t=r,"function"==typeof e.fail&&e.fail({errMsg:t})):"function"==typeof e.success&&e.success({errMsg:t})}else t="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},Ok=e=>{var t="getCookies:ok";if(bk("getCookies")){var r=Mk(e);"function"==typeof e.success&&e.success({errMsg:t,cookies:r})}else t="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},Dk=1,Lk=2,Nk=3,Bk=4,$k,jk,Fk=new Promise(((e,t)=>{$k=e,jk=t})),Wk,Uk,Vk=new Promise(((e,t)=>{Wk=e,Uk=t})),qk={RequestBizaccount:"RequestBizaccount",getSubjectalterInfo:"getSubjectalterInfo",getgamepotentialfriends:"getgamepotentialfriends",getadcardbalance:"getadcardbalance",getUserGrantInfo:"getUserGrantInfo",getSecInfo:"getSecInfo",reportUserBehavior:"reportUserBehavior",getShareConfig:"getShareConfig",CheckUserOrderAuthStatus:"CheckUserOrderAuthStatus"},zk={RequestBizaccount:()=>({id:qk.RequestBizaccount,api_name:"webapi_openproduct_bizaccount",data:{path:re.appLaunchInfo.path,query:JSON.stringify(re.appLaunchInfo.query||{}),cookie:xk()}}),getSecInfo:()=>{var e=cT();return{id:qk.getSecInfo,api_name:"webapi_getwxaasyncsecinfo",data:{client_version:re.clientVersion,pub_version:void 0!==a&&a?a.version:"unknown",performance:EC(),instance_id:re.appLaunchInfo.sessionid||re.appLaunchInfo.sessionId,...e?{xnet_conf_list:[e]}:{}}}},reportUserBehavior:()=>{var e,t,r,n;return{id:qk.reportUserBehavior,api_name:"jsapi_reportuserbehav",data:{version:8,type:1,duration:0,scene_note:re.appLaunchInfo.scene_note,scene:re.appLaunchInfo.scene,realnameInfo:void 0,referrerInfo:{appId:(null===(e=re.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t?void 0:t.appId)||"",extraData:(null===(r=re.appLaunchInfo)||void 0===r||null===(n=r.referrerInfo)||void 0===n?void 0:n.extraData)||{}},appServiceType:re.appType,isColdStart:!0,isWxaAdultOnly:1===Number(re.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),uiState:Ue()?0:1}}},getgamepotentialfriends:()=>({id:qk.getgamepotentialfriends,api_name:"webapi_game_transfer",data:{req_path:"friend.getgamepotentialfriends",appid:re.accountInfo.appId,fetch_mode:1,version:2}}),getadcardbalance:()=>({id:qk.getadcardbalance,api_name:"webapi_getadcardbalance",data:{}}),getUserGrantInfo:()=>{var e,t;return{id:qk.getUserGrantInfo,api_name:"webapi_game_transfer",data:{req_path:"gamewxagcdatawap_getusergrantinfo",json_data:JSON.stringify({appid:null!==(e=null==re||null===(t=re.accountInfo)||void 0===t?void 0:t.appId)&&void 0!==e?e:"",user_action:[0]})}}},getSubjectalterInfo:()=>({id:qk.getSubjectalterInfo,api_name:"getSubjectalterInfo",data:{}}),getShareConfig:()=>({id:qk.getShareConfig,api_name:"webapi_getshareconf",data:{}}),CheckUserOrderAuthStatus:()=>({id:qk.CheckUserOrderAuthStatus,api_name:"webapi_mmec_wxa_auth",data:{method:"CheckUserOrderAuthStatus",msg:{}}})};re.onReady((()=>{var e=Vm();if(y.info("是否开启数据管道batch请求=",e,g.env),e){var t,r,n,i,a,o,s=[zk.getSecInfo()],l=1===Number(null==re||null===(t=re.appContactInfo)||void 0===t||null===(r=t.operationInfo)||void 0===r||null===(n=r.jsonInfo.op_info)||void 0===n?void 0:n.adult_only)||1===Number(null==re||null===(i=re.appContactInfo)||void 0===i||null===(a=i.operationInfo)||void 0===a||null===(o=a.jsonInfo.op_info)||void 0===o?void 0:o.grow_protect);!Ce&&(Ue()||He()&&l)&&s.push(zk.reportUserBehavior()),Ue()&&s.push(zk.getShareConfig()),ME({apiName:"LaunchImmediateBatch",sdkApiName:"getImmediateBatchOperateWXData",reqDataList:s,batchType:Dk,success:e=>{y.info("immediate batch 请求成功",e),Wk({reqList:s,res:e})},fail:e=>{y.error("immediate batch 请求失败",e),Uk({reqList:s,res:e})}}),setTimeout((()=>{var e,t,r,n,i=[];Ue()?i=[zk.getgamepotentialfriends(),zk.getadcardbalance(),zk.getUserGrantInfo(),zk.getSubjectalterInfo()]:He()&&(Cf("requestPayment")&&i.push(zk.RequestBizaccount()),i.push(zk.getSubjectalterInfo()),(null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(r=t.wxa_mgr)||void 0===r||null===(n=r.mgr_list)||void 0===n?void 0:n.some((e=>1053===e.id&&1===e.value)))&&i.push(zk.CheckUserOrderAuthStatus()));i.length>0&&ME({apiName:"LaunchDelayBatch",sdkApiName:"getDelayBatchOperateWXData",reqDataList:i,batchType:Lk,success:e=>{y.info("delay batch 请求成功",e),$k({reqList:i,res:e})},fail:e=>{y.error("delay batch 请求失败",e),jk({reqList:i,res:e})}})}),3500)}}));var Gk=e=>({id:t,success:r=(e=>{}),fail:n=(e=>{})})=>{e.then((({reqList:e,res:i})=>{var a=i.item_list||[],o=e.findIndex((e=>e.id===t));if(o>=0){var s=a[o],l={};s&&s.resp&&0===s.errcode?0!==s.resp.err_no?(l={errMsg:`${t}:fail `+(s.resp.errmsg?` ${s.resp.errmsg}`:""),errno:s.resp.err_no},n(l)):(l={errMsg:`${t}:ok`,data:s.resp.data||{},errno:0},r(l)):(l={errMsg:`${t}:fail `+(s.errmsg?` ${s.errmsg}`:""),errno:s.errcode},n(l))}else n({errMsg:`${t}:fail can not find data`})})).catch((e=>{y.error(t," 数据管道 batch 请求失败 ",e);var i=zk[t]();TE({apiName:i.api_name,reqData:i.data,sdkApiName:t,success:e=>{var n={errMsg:`${t}:ok`,data:e.data,errno:0};y.info("数据管道重试单独请求成功",n),r(n)},fail:e=>{y.error("数据管道重试单独请求失败",e),n(e)}})}))},Hk=Gk(Fk),Kk=Gk(Vk),Jk=null,Xk=void 0!==a&&a?a.version:"unknown";function Yk(){return Jk||(Jk=Ke()?Promise.resolve({data:{}}):new Promise(((e,t)=>{var r=cT();if(Vm())Kk({id:qk.getSecInfo,success:t=>{e(t)},fail:t});else{var n=EC();TE({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:{client_version:re.clientVersion,pub_version:Xk,performance:n,instance_id:re.appLaunchInfo.sessionid||re.appLaunchInfo.sessionId,...r?{xnet_conf_list:[r]}:{}},success:t=>{e(t)},fail:t})}})),Jk)}var Qk=function(){var e=xd()((function*(){return yield oT,Yk()}));return function(){return e.apply(this,arguments)}}(),Zk=e=>{var{success:t,fail:r}=e;TE({apiName:"webapi_getwxavodregisterno",sdkApiName:"getShortTVRegisterNo",reqData:{src:e.src},success(e){"function"==typeof t&&t(e)},fail(e){"function"==typeof r&&r(e)}})},eI,tI=()=>(eI||(eI=Qk().then((e=>{var t,r,n;y.info("game video getSecInfo res",e);var i=null!==(t=null==e||null===(r=e.data)||void 0===r||null===(n=r.opinfo_async)||void 0===n?void 0:n.video_domain_limit)&&void 0!==t?t:[],a=new Set;return i.forEach((e=>{Array.isArray(e.domain_list)&&e.domain_list.forEach((e=>a.add(e)))})),{videoDomainLimit:i,domainList:Array.from(a)}})).catch((e=>(y.error("game video getSecInfo error",e),{})))),eI),rI=e=>oI().then((({domainList:t,isShortTVMiniprogram:r})=>{if(r&&t&&t.length){var n=nI(e);return!!t.every((e=>!iI(e,n)))&&(0!==e.indexOf("wxfile://")&&(!Ce||0!==e.indexOf("http://tmp/")&&0!==e.indexOf("http://usr/"))||mI(e).then((e=>!e)))}return!1})),nI=e=>{try{return(0,qb.Qc)(e).host}catch(e){return""}},iI=(e,t)=>{var r=e.split("."),n=t.split(".");if(r.length>n.length)return!1;for(var i=1;i<=r.length;i++)if(r[r.length-i]!==n[n.length-i])return!1;return!0},aI=void 0,oI=()=>tI().then((({domainList:e,videoDomainLimit:t})=>(at(aI)&&(aI=!!t.length&&t.some((e=>"mmbizsecvod"===e.biz_flag))),{domainList:e,isShortTVMiniprogram:aI}))),sI=qw.SHORT_TV_CACHE.path,lI=`${sI}/localUrlMap.json`,cI=216e5,uI=1728e6,dI=!1,pI=[],hI=()=>{dI=!1,pI.forEach((e=>e())),pI=[]},fI=e=>0===e.indexOf("wxfile://tmp")||0===e.indexOf("http://tmp/")?cI:uI,gI=(e,t)=>{dI=!0,oI().then((({isShortTVMiniprogram:r})=>{r?rI(t).then((r=>{r?hI():qp({filePath:e,digestAlgorithm:"md5",success:r=>{var n=r.digest;_S().readFile({filePath:lI,encoding:"utf8",success:r=>{var i;try{i=JSON.parse(r.data)}catch(e){}if(i&&Array.isArray(i)){var a=Date.now(),o=[],s=!0;i.forEach((r=>{e===r.localUrl&&(r.expireTime=Date.now()+fI(e),r.md5=n,r.remoteUrl=t,s=!1),a>r.expireTime||o.push(r)})),vI(s?{md5:n,localUrl:e,remoteUrl:t}:null,o)}else vI({md5:n,localUrl:e,remoteUrl:t})},fail:r=>{vI({md5:n,localUrl:e,remoteUrl:t})}})},fail:e=>{hI()}})})).catch((()=>{hI()})):hI()})).catch((()=>{hI()}))},vI=(e,t=[])=>{function r(){_S().writeFile({filePath:lI,encoding:"utf8",data:JSON.stringify(t),success:e=>{hI()},fail:e=>{hI()}})}e&&(e.expireTime=Date.now()+fI(e.localUrl),t.push(e)),_S().access({path:lI,success:e=>{r()},fail:e=>{_S().mkdir({dirPath:sI,success:e=>{r()},fail:e=>{hI()}})}})},mI=e=>new Promise((t=>{function r(){_S().readFile({filePath:lI,encoding:"utf8",success:r=>{var n,i;try{n=JSON.parse(r.data)}catch(e){}return n&&Array.isArray(n)&&n.some((t=>e===t.localUrl&&(i=t.md5,!0)))&&i?void qp({filePath:e,digestAlgorithm:"md5",success:e=>{var r=e.digest;return t(r===i)},fail:e=>t(!1)}):t(!1)},fail:e=>t(!1)})}dI?pI.push(r):r()}));ew("Download",{maxTaskCount:10,functionName:"downloadFile"}),re.onReady((()=>{try{"number"==typeof re.wxAppInfo.maxDownloadConcurrent&&ew("Download",{maxTaskCount:re.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class yI extends z_{constructor(e){var{url:t,filePath:r,forVideoPlay:n=!0}=e;super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>{var{tempFilePath:i}=e;return e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),delete e.timeInterval,n&&gI(i||r,t),e}})}}const bI=yI;var _I=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(Vc("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__,Cf("skipDomainCheck_downloadFile")&&(t.__skipDomainCheck__=!0);try{return new bI(t)}catch(e){return void zc("downloadFile",t,e.message)}}}),wI=_I(),SI=_I({__skipDomainCheck__:!0}),CI=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith(Gg()))return wI(e);zc("downloadFile",e,"permission denied")},kI=qw.WX_WE_MODEL_CACHE_PATH_PREFIX.path,II=`${kI}/meta.json`,PI=`${kI}/vocab_meta.json`,AI=3,xI=10,TI=e=>kI+"/"+e+".onnx",EI=_S(),MI=wg(EI.readFile),RI=wg(EI.saveFile),OI=wg(EI.writeFile),DI=wg(EI.access),LI=wg(EI.unlink),NI=wg(EI.mkdir),BI=wg(SI),$I=function(){var e=xd()((function*(e=1){try{yield DI({path:kI})}catch(e){yield NI({recursive:!0,dirPath:`${kI}`})}try{var{data:t}=yield MI({filePath:1===e?II:PI,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),jI=!0,FI=function(){var e=xd()((function*(e,t,r=1,n=!1){if(!jI){var{tempFilePath:i}=yield BI({url:e,timeout:1e4});return(yield RI({tempFilePath:i,filePath:1===r?"wxfile://usr/__WeSafeModel__.onnx":"wxfile://usr/__WeSafeModelVocab__.txt"})).savedFilePath}var a={};if(!n)if(a=yield $I(r)){if(a[t]&&a[t].src===e)try{return TI(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else a={};var o=yield BI({url:e,timeout:1e4}),s=yield RI({tempFilePath:o.tempFilePath,filePath:TI(t)});a[t]={src:e,update:Date.now()};var l=Date.now(),c=-1;if(Object.keys(a).length>(1===r?AI:xI))for(var u of Object.keys(a)){var d=a[u];d.update<l&&(l=d.update,c=u)}if(-1!==c)try{yield LI({filePath:TI(c)}),delete a[c]}catch(e){y.error("contentCheck LRU unlink model error: ",e)}return yield OI({filePath:1===r?II:PI,data:JSON.stringify(a),encoding:"utf8"}),s.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}(),WI,UI=e=>{WI=e},VI=function(){var e=xd()((function*(e){var t;if(!Array.isArray(WI)||-1===(t=WI.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:n,update:i}=WI[t];return yield FI(r,n,2,i)}));return function(t){return e.apply(this,arguments)}}(),qI,zI=wg(Bf),GI=function(){var e=xd()((function*(e){if(qI)return qI;var t=yield VI(e),r=yield zI({filePath:t,encoding:"utf-8"});return qI=(qI=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{}),qI}));return function(t){return e.apply(this,arguments)}}();ew("Upload",{maxTaskCount:10,functionName:"uploadFile"}),re.onReady((()=>{try{"number"==typeof re.wxAppInfo.maxUploadConcurrent&&ew("Upload",{maxTaskCount:re.wxAppInfo.maxUploadConcurrent})}catch(e){}}));class HI extends z_{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>(e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),e)})}}const KI=HI;var JI=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(Vc("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},n={};t.header&&(r=bp(t.header)),t.formData&&(n=bp(t.formData)),t.__skipDomainCheck__=e.__skipDomainCheck__,Cf("skipDomainCheck_uploadFile")&&(t.__skipDomainCheck__=!0);try{return new KI(Object.assign({},t,{header:r,formData:n}))}catch(e){return void zc("uploadFile",t,e.message)}}}),XI=JI(),YI=JI({__skipDomainCheck__:!0}),QI={uninjected:0,injected:1},ZI={minigamelive:QI.uninjected,ad:QI.uninjected,cloud:QI.uninjected,protobuf:QI.uninjected,ga:QI.uninjected,kanata:QI.uninjected,midas:QI.uninjected,pixi:QI.uninjected,sclengine:QI.uninjected,minigamePlatform:QI.uninjected},eP=(e,t)=>{ZI[e]=t},tP=e=>ZI[e],rP=aw("sclEngine"),nP=!1,iP=()=>{nP||(nP=!0,tP("sclengine")===QI.injected?rP.publish("initReady"):rP.advancePublish("initReady"))},aP=ir("tapAnyWhere");en("tapAnyWhere",aP.emitInternal);var oP=aP.internalOnMethod,sP=aP.internalOffMethod,lP=aP.emitInternal,cP=!1;oP((()=>{iP(),cP||(cP=!0,uP.forEach((e=>e())),uP=[])}));var uP=[],dP=e=>{cP?e():uP.push(e)},pP=e=>({2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[e]),hP=(e={})=>{Oe?zc("openSetting",e,"openSetting:fail SDK暂不支持此API"):md("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var n=e.subscriptionsSetting.templatesInfo;r.itemSettings=n.reduce(((e,t)=>{var r=pP(t.tid),n={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=n[t.status]:(e[t.templateId]=n[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})},fP=(e={})=>{hP(e)},gP=!1,vP=void 0,mP=void 0,yP=void 0,bP=()=>vP,_P=!1,wP="group_forcecelluarnetwork",SP="forceCellularNetwork",CP=e=>vP=e,kP=()=>!gP&&(gP=!0,!0),IP,PP=()=>{!vP||IP||Ke()||(IP=!0,AP())},AP=()=>{var e,{language:t}=YS();switch(t){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}kP()&&dP((()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{fP({success:e=>{!1===e.authSetting["scope."+SP]&&CP(!1)}})}))}))}))},xP=function(){var e=xd()((function*(){if(Oe)return console.warn("[SaaA] checkAndUseMultiLink force use true"),!0;var e;if(void 0!==vP)return vP;try{mP||(mP=EE({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[wP]}})),e=yield mP}catch(t){if(!_P)return!1;e={data:{auth_item_list:[{scope:wP,state:0}]}}}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===wP)))){var n=r[t];if(0===n.state){yield(yP||(yP=EE({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:wP,state:1}]}})),yP).then((e=>{CP(!0)})).catch((e=>{}))}else 2===n.state?CP(!1):1===n.state&&CP(!0)}return vP}));return function(){return e.apply(this,arguments)}}(),TP,EP=0,MP=new WeakMap,RP=new WeakMap,OP=new WeakMap,DP=new WeakMap,LP={},NP=new Yy;qt("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,n=LP[r];if(n){var i=MP.get(n);if(delete e.state,delete e.socketTaskId,n){if("open"===t){PP(),n.readyState=n.OPEN;var a=OP.get(n).url,o=Date.now()-DP.get(n),s=e.statusCode,l=OP.get(n).__skipDomainCheck__,c=e.profile;zy({functionName:"connectSocket",keyParam:a,result:1,costTime:o,errorMsg:"",statusCode:s,__skipDomainCheck__:l,dataLength:0,responseDataLength:0,profile:c,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}else"close"!==t&&"error"!==t||(n.readyState=n.CLOSED);NP.emit(`${i}${t}`,e),NP.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,n),"close"===t&&(delete LP[r],NP.removeAllListeners(`${i}open`),NP.removeAllListeners(`${i}close`),NP.removeAllListeners(`${i}error`),NP.removeAllListeners(`${i}message`))}}}));var BP=function(e,t){NP.on(`${MP.get(this)}${e}`,x.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},$P=(TP=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0});var n,i=EP++;MP.set(this,i),OP.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=x.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),DP.set(this,Date.now()),nt(t.timeout)||(t.timeout=0);var a=t.forceCellularNetwork,o=()=>{var e={...t,forceCellular:a};md("createSocketTask",e,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{RP.set(this,e.socketTaskId),LP[e.socketTaskId]=this},beforeFail:e=>{var r=t.url,i=Date.now()-DP.get(this),a=t.__skipDomainCheck__;n=e.errMsg,zy({functionName:"connectSocket",keyParam:r,result:2,costTime:i,errorMsg:n,statusCode:"",__skipDomainCheck__:a,dataLength:0,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:e.errno,queueLength:0})}}),n&&(this.readyState=this.CLOSED,setTimeout((()=>{NP.emit(`${i}error`,{errMsg:n})}),0))},s=()=>{vt(t.customCheck)?t.customCheck(t,(e=>{e?(zc("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{NP.emit(`${i}error`,{errMsg:e})}),0)):o()})):o()};a?"boolean"!=typeof a?(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof a),a=!1,s()):xP().then((e=>{e||(a=!1),s()})):s()}send(e){if(this.readyState===this.OPEN){var t=Date.now();md("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:RP.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var n=OP.get(this).url,i=r.errMsg.indexOf("ok")>-1?1:2,a=Date.now()-t,o=r.errMsg,s=OP.get(this).__skipDomainCheck__,l=yg(e.data);zy({functionName:"sendSocketMessage",keyParam:n,result:i,costTime:a,errorMsg:o,statusCode:"",__skipDomainCheck__:s,dataLength:l,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}}})}else zc("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){md("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:RP.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){BP.call(this,"open",e)}onClose(e){BP.call(this,"close",e)}onMessage(e){BP.call(this,"message",e)}onError(e){BP.call(this,"error",e)}},H()(TP.prototype,"send",[Bt],Object.getOwnPropertyDescriptor(TP.prototype,"send"),TP.prototype),H()(TP.prototype,"close",[Bt],Object.getOwnPropertyDescriptor(TP.prototype,"close"),TP.prototype),TP),jP=({api:e,url:t})=>Ag()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((r,n)=>{md("checkNetworkAPIURL",{api:e,url:t,success:r,fail:n})})),FP=(e,t)=>BE(e,`WSS.${t}`),WP=5;re.onReady((()=>{re.wxAppInfo&&re.wxAppInfo.maxWebsocketConnect&&(WP=re.wxAppInfo.maxWebsocketConnect)}));var UP=new WeakMap,VP=new WeakMap,qP=new WeakMap,zP={},GP=new Yy,HP=0,KP=0;function JP(e,t,r){t.errMsg=t.errMsg||"ok",Hc({name:e,args:r,success:"ok"===t.errMsg,errMsg:t.errMsg})}class XP{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var n=xf.WSS,i=HP++,a=t.workerId?new n(t.workerId):new n;delete t.workerId,UP.set(this,t),VP.set(this,a),qP.set(this,i);var o=Date.now();a.onopen=FP(((e,r)=>{this.readyState!==this.CLOSED&&(PP(),KP++,this.readyState=this.OPEN,GP.emit(`${i}open`,{header:e,profile:r}),GP.emit("onSocketOpen",{header:e,profile:r},this),zy({functionName:"connectSocket",keyParam:t.url,result:1,costTime:Date.now()-o,errorMsg:"",statusCode:"",__skipDomainCheck__:t.__skipDomainCheck__,dataLength:0,responseDataLength:0,profile:r,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0}))}),"onopen"),a.onclose=FP(((e,t)=>{KP--,this.readyState=this.CLOSED,GP.emit(`${i}close`,{code:e,reason:t}),GP.emit("onSocketClose",{code:e,reason:t},this)}),"onclose"),a.onmessage=FP((e=>{this.readyState!==this.CLOSED&&(At(e)&&(e.__proto__=ArrayBuffer.prototype),GP.emit(`${i}message`,{data:e}),GP.emit("onSocketMessage",{data:e},this))}),"onmessage"),a.onerror=FP(((e,t)=>{KP--,this.readyState=this.CLOSED,setTimeout((()=>{GP.emit(`${i}error`,{errCode:e,errMsg:t}),GP.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)}),"onerror");var s=()=>{var e={errMsg:""};if(KP>=WP)this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${WP}`;else{var r=Eg(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile","forceCellularNetwork"]);r.forceCellularNetwork&&"boolean"==typeof r.forceCellularNetwork?xP().then((n=>{n&&(r.forceCellular=!0),r.forceCellularNetwork=void 0,e.errMsg=a.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(zP[i]=this),JP("connectSocket",e,t)})):(r.forceCellularNetwork&&"boolean"!=typeof r.forceCellularNetwork&&(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=void 0),e.errMsg=a.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(zP[i]=this),JP("connectSocket",e,t))}};vt(t.customCheck)?t.customCheck(t,(e=>{e?JP("connectSocket",{errMsg:e},t):s()})):(s(),jP({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;GP.emit(`${i}error`,{errMsg:t}),GP.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:VP.get(this).send(e.data)};(e.success||e.fail||e.complete)&&JP("sendSocketMessage",t,e)}close(e={}){this.readyState,JP("closeSocket",{errMsg:VP.get(this).close(nt(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){GP.on(`${qP.get(this)}open`,x.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){GP.on(`${qP.get(this)}close`,x.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){GP.on(`${qP.get(this)}message`,x.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){GP.on(`${qP.get(this)}error`,x.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var YP=$P,QP=LP;p.g.__isAppServiceRemoteDebugMode__||Af((e=>{e.WSS&&re.onReady((()=>{var t=!1,r=Ie?"clicfg_appbrand_ios_native_socket_wcwss_new":1;1===r?t=!0:Tf({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(t=!0)}});var n=Cf("bindingWebSocket");t||n||e.WSS.force?(YP=XP,QP=zP,Df(/^connectSocket/,2),y.info(`binding socket, abtest: ${t}, permission: ${n}`)):y.info(`jsapi socket, abtest: ${t}, permission: ${n}`)}))}));var ZP=new WeakMap,eA={};function tA(e,t){return eA[t]||(eA[t]=new WeakMap,NP.on(`onSocket${t}`,rA(t)),GP.on(`onSocket${t}`,rA(t))),function(r){Vc(`onSocket${t}`,r,Dt)&&eA[t].set(e,r)}}function rA(e){return function(t,r){var n=r.__socketInstance__,i=eA[e].get(n),a=ZP.get(n);i&&r===a&&x.surroundThirdByTryCatch(i,`at onSocket${e} callback function`)(t)}}var nA=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){r=Object.assign({},r,{url:`${r.url}`});var{workerId:n}=r;if(delete r.workerId,Vc("connectSocket",r,{url:""}))if(!1!==ap(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var i={};r.header&&(i=bp(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__,Cf("skipDomainCheck_socket")&&(r.__skipDomainCheck__=!0);try{var a=ZP.get(t),o=new YP(t,Object.assign({},r,{header:i,...n?{workerId:n}:{}}));return a&&a.readyState!==a.CLOSED?a.readyState:ZP.set(t,o),o}catch(e){return e.message,void zc("connectSocket",r,e.message)}}else zc("connectSocket",r,`invalid url "${r.url}"`)},closeSocket(e){var r=ZP.get(t);for(var n in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):zc("closeSocket",e,"WebSocket is not connected"),QP){var i=QP[n];i.__socketInstance__===t&&(i.readyState=i.CLOSED,i!==r&&i.close())}},sendSocketMessage(e){var r=ZP.get(t);r&&r.readyState===r.OPEN?r.send(e):zc("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:tA(t,"Open"),onSocketClose:tA(t,"Close"),onSocketMessage:tA(t,"Message"),onSocketError:tA(t,"Error")}},iA=nA(),aA=()=>nA({__skipDomainCheck__:!0}),oA=(e={})=>{md("uploadEncryptedFileToCDN",e,{})},sA=e=>{qt("onUploadEncryptedFileToCDNProgress",e)},lA=(e={})=>{md("uploadToCommonCDN",e,{})},cA=(e={})=>{if(Cf("uploadToCommonCDN"))md("uploadToCommonCDN",e,{});else{var t="uploadToCommonCDN:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},uA=(e={})=>{Ie?zc("addNativeDownloadTask",e,"iOS not supported"):md("addNativeDownloadTask",e,{})},dA=new WeakMap,pA=new WeakMap,hA=new Qt;function fA(e){var{success:t,fail:r,complete:n}=e;md("addDownloadTaskForNative",Object.assign(e,{success:e=>{delete e.errMsg,this.taskId=e.downloadId,hA.on(`${this.taskId}:success`,(e=>{e.errMsg="downloadApp:ok","function"==typeof t&&t(e),"function"==typeof n&&n(e)})),hA.on(`${this.taskId}:fail`,(e=>{e.errMsg=`downloadFile:fail ${e.errMsg}`,"function"==typeof r&&r(e),"function"==typeof n&&n(e)}));var i=pA.get(this)||[];dA.set(this,"ready"),i.forEach((e=>{gA.call(this,e[0],...e[1])})),hA.emit(`${this.taskId}:created`,e)},fail:e=>{"function"==typeof r&&r(e),"function"==typeof n&&n(e)},complete:()=>{pA.set(this,[])}}),{beforeAll(e){e.errMsg=e.errMsg.replace("addDownloadTaskForNative","downloadApp")}})}function gA(e,...t){if("ready"!==dA.get(this)){var r=pA.get(this)||[];return r.push([e,t]),void pA.set(this,r)}switch(e){case"cancel":md("cancelDownloadTaskForNative",{downloadIdArray:[this.taskId]});break;case"onProgressUpdate":hA.on(`${this.taskId}:progressUpdate`,(e=>{"function"==typeof t[0]&&x.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onProgressUpdate callback function")(e)}));break;case"onCreated":hA.on(`${this.taskId}:created`,(e=>{"function"==typeof t[0]&&x.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onCreated callback function")(e)}));break;default:md(`${e}DownloadTaskForNative`,{downloadId:this.taskId})}}qt("onDownloadAppStateChangeForNative",(e=>{var{state:t,downloadId:r}=e;switch(delete e.state,delete e.downloadId,delete e.appId,t){case"download_succ":hA.emit(`${r}:progressUpdate`,e),hA.emit(`${r}:success`,e);break;case"download_failed":hA.emit(`${r}:fail`,e);break;case"download_progress_changed":hA.emit(`${r}:progressUpdate`,e)}"download_succ"!==t&&"download_failed"!==t||(hA.removeAllListeners(`${r}:success`),hA.removeAllListeners(`${r}:fail`),hA.removeAllListeners(`${r}:progressUpdate`))}));class vA{constructor(e){this.taskId=null,["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=x.surroundThirdByTryCatch(e[t],`at api downloadApp ${t} callback function`))})),fA.call(this,e)}pause(){gA.call(this,"pause")}resume(){gA.call(this,"resume")}cancel(){gA.call(this,"cancel")}install(){gA.call(this,"install")}onCreated(e){gA.call(this,"onCreated",e)}onProgressUpdate(e){gA.call(this,"onProgressUpdate",e)}}const mA=vA;var yA=(e={})=>{if(Ie)zc("downloadApp",e,"iOS not supported");else{if(!Vc("downloadApp",e,{taskName:"",taskUrl:"",fileMd5:""}))return null;e.fileType=e.fileType||1;try{return new mA(e)}catch(t){return zc("downloadApp",e,t.message),null}}},bA=(e={})=>{Ie?zc("getAppInstallState",e,"iOS not supported"):e.packageName||e.packageNameArray?md("getInstallStateForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getInstallStateForNative","getAppInstallState")}}):zc("getAppInstallState",e,"parameter error: require packageName or packageNameArray")},_A=(e={})=>{Ie?zc("queryDownloadAppTask",e,"iOS not supported"):e.downloadId||e.downloadIdArray||e.appIdArray?md("queryDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("queryDownloadTaskForNative","queryDownloadAppTask"),"download_succ"===e.state&&(e.progress=100),(e.result||[]).forEach((e=>{"download_succ"===e.state&&(e.progress=100)}))}}):zc("queryDownloadAppTask",e,"parameter error: require downloadId or downloadIdArray or appIdArray")},wA=(e={})=>{Ie?zc("cancelDownloadAppTask",e,"iOS not supported"):Vc("cancelDownloadAppTask",e,{downloadIdArray:[]})&&md("cancelDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("cancelDownloadTaskForNative","cancelDownloadAppTask")}})},SA=(e={})=>{Ie?zc("installDownloadApp",e,"iOS not supported"):Vc("installDownloadApp",e,{downloadId:""})&&md("installDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("installDownloadTaskForNative","installDownloadApp")}})},CA=(e={})=>{Ie?zc("pauseDownloadAppTask",e,"iOS not supported"):Vc("pauseDownloadAppTask",e,{downloadId:""})&&md("pauseDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("pauseDownloadTaskForNative","pauseDownloadAppTask")}})},kA=(e={})=>{Ie?zc("resumeDownloadAppTask",e,"iOS not supported"):Vc("resumeDownloadAppTask",e,{downloadId:""})&&md("resumeDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("resumeDownloadTaskForNative","resumeDownloadAppTask")}})},IA=e=>{qt("onDownloadAppStateChangeForNative",((t={})=>{x.surroundThirdByTryCatch(e,"at onDownloadAppStateChange callback function")(t)}))},PA=(e={})=>{if(!ke)return Vc("downloadAppForIOS",e,{appUrl:""})?(md("downloadAppInternalForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("downloadAppInternalForNative","downloadAppForIOS")}}),null):null;zc("downloadAppForIOS",e,"android not supported")},AA=(e={})=>{Vc("calRqt",e,{rqt:""})&&md("calRqt",e)},xA=e=>{md("secureTunnel",e)},TA,EA,MA=e=>{TA=e},RA=e=>{EA=e},OA=()=>EA,DA=()=>TA,LA=2.074,NA;g.onLoad((()=>{NA=wg(vE)}));var BA=function(){var e=xd()((function*(e,t){if(!e)throw new Error("unexpected: get null ab");if(!t){var r=DA();t=[r*LA,r]}var n=e;"string"==typeof e&&(n=(yield NA({url:e,responseType:"arraybuffer"})).data);for(var i=Array.prototype.slice.call(new Uint8Array(n)),a=t[0],o=t[1],s=Array(a).fill(0).map((e=>[])),l=function*(e){for(var t=function*(t){var[r,n,a]=Array(3).fill(0).map(((r,n)=>i[e*o*3+3*t+n]));s[e].push([r,n,a])},r=0;r<o;r++)yield*t(r)},c=0;c<a;c++)yield*l(c);return s}));return function(t,r){return e.apply(this,arguments)}}(),$A;function jA(e,t,r){return FA.apply(this,arguments)}function FA(){return FA=xd()((function*(e,t,r){try{var n=e,i="";t.forEach((e=>{"dictName"===e.key&&(i=e.value),"testRet"===e.key&&(n=e.value.replaceAll("'",'"'))}));var a=yield GI(i),o=r[r.length-1],s=[],l=JSON.parse(n),c=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{c(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{c(e,t)}));else if(s.length<o){var r=e;""!==r&&" "!==r||(r="empty");var n=(t+":"+r).toLowerCase();if(a[n]>=0)s.push(a[n]);else{var i=0;if((n=(r+="").toLowerCase()).length<=20)for(var l=0;l<n.length;l++)for(var u=1;u<5;u++)if(a[n.substr(l,u)]>=0){s.push(a[n.substr(l,u)]),i=1;break}0==i&&(n=(t+":other").toLowerCase(),a[n]>=0&&s.push(a[n]))}}};for(c(l);s.length<o;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}})),FA.apply(this,arguments)}function WA(e){var t=["head","form","li","movable-view","navigator","br","h4","swiper","option","channel-video","rich-text","p","pre","checkbox","picker","keyboard-accessory","movable-area","h2","switch","live-pusher","em","picker-view-column","i","slider","cover-view","camera","view","label","h3","scroll-view","input","title","radio","cover-image","tr","icon","map","live-player","match-media","canvas","native-component","img","sticky-section","voip-room","text","list-view","checkbox-group","body","select","textarea","page-meta","sticky-header","ol","h1","strong","td","source","progress","page-container","a","functional-page-navigator","video","th","radio-group","div","channel-live","grid-view","ad","u","editor","navigation-bar","ul","h6","table","official-account","button","open-data","span","html","ad-custom","audio","image","swiper-item","root-portal","web-view","share-element","picker-view","h5","code"],r=new RegExp("<(\\/)?(.*?)>","g");return e=e.replace(r,((e,r,n)=>t.includes(n)?e:" ")),e=e.replace(/\s\s+/g," ")}function UA(e,t,r){return VA.apply(this,arguments)}function VA(){return VA=xd()((function*(e,t,r){class n{constructor(){this.children={},this.idx=null}}class i{constructor(e,t){this.root=new n,this.simple=e,this.dict=t}insert(e,t){var r=this.root;for(var i of e)r.children[i]||(r.children[i]=new n),r=r.children[i];r.idx=t}segment(e){var t,r,n=[],i=[],a="",o=null,s=this.root;for(var l of e)if(s.children[l])a+=l,o=(s=s.children[l]).idx;else{var c,u,d;if(a)n.push(a),i.push(null!==(c=null!==(u=o)&&void 0!==u?u:this.dict[a])&&void 0!==c?c:this.simple?1:100);if(a="",o=null,(s=this.root).children[l])a+=l,o=(s=s.children[l]).idx;else n.push(l),i.push(null!==(d=this.dict[l])&&void 0!==d?d:this.simple?1:100)}a&&(n.push(a),i.push(null!==(t=null!==(r=o)&&void 0!==r?r:this.dict[a])&&void 0!==t?t:this.simple?1:100));return[n,i]}}try{var a,o;t.forEach((e=>{"simple"===e.key&&(a=e.value),"dictName"===e.key&&(o=e.value)})),a="true"===a,o="null"===o?null:o;var s=e;try{s=s.toLowerCase(),s=WA((e=>e.replace(/<wx-/g,"<").replace(/<\/wx-/g,"</"))(function(e){return"<html>"+(e=e.replace(/<([\w-]+)(?:\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[\w-]+))?)*\s*(\/?)>/g,"<$1$2>"))+"</html>"}(s)))}catch(e){throw e}var l,c,u={};o=a?"minivocab_html":o;try{u=yield GI(o)}catch(e){throw e}try{[l,c]=function(e,t,r){var n=new i(r,t);for(var[a,o]of Object.entries(t))o<3209||n.insert(a,o);return n.segment(e)}(s,u,a)}catch(e){throw e}try{var d=r[1]-(a?0:2);if(c.length>d&&(c=c.slice(0,d)),a||(c.unshift(101),c.push(102)),c.length<d)for(;c.length<d;)c.push(0)}catch(e){throw e}return new Int32Array(c).buffer}catch(e){throw e}})),VA.apply(this,arguments)}function qA(e,t,r){return zA.apply(this,arguments)}function zA(){return zA=xd()((function*(e,t,r){try{var n,i,a=e,o=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"minSeqLength"===e.key&&(i=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var s=r.reduce(((e,t)=>e*t),1);a=a.slice(a.length*n,a.length*n+s);for(var l=yield GI(o?"minivocab":"alberttiny489kvocab"),c=r[0],u=r[r.length-1],d=[],p=[],h=0;h<a.length+1;h++)if("\n"===a[h]||h===a.length){if(p.length>=i){var f=u-(o?0:2);if(p.length>f&&(p=p.slice(0,f)),o||(p.unshift(101),p.push(102)),p.length<u)for(;p.length<u;)p.push(0);d.push(p)}if(p=[],d.length>=c)break}else p.push(l[a[h]]||(o?1:100));for(;d.length<c;)d.push(new Array(u).fill(0));return new Int32Array(...d).buffer}catch(e){y.warn("reshape occur error:",e)}})),zA.apply(this,arguments)}var GA="FusedResize";function HA(){return!!($A=$A||xf.XInference)||(y.warn("[mnxnet]: NativeGlobal.XInference not available"),!1)}function KA(e,t){try{return{res:t(),errMsg:null}}catch(t){return y.warn(`[mnxnet]: ${e} err: ${JSON.stringify(t)}`),{res:null,errMsg:(null==t?void 0:t.errMsg)||"errMsg not defined"}}}function JA(e,t){return KA(e,(()=>$A.InvokeMethod(e,null,t)))}function XA(){return(new Date).getTime()}function YA(e,t,r){return QA.apply(this,arguments)}function QA(){return QA=xd()((function*(e,t,r){y.warn("[mnxnet] resizeScreenshotRect use native impl");var n,i=.5,a=.5,o="NCHW",s=Math.min(r[0],r[1]);t.forEach((e=>{"mean"===e.key&&(i=e.value),"std"===e.key&&(a=e.value),"inputType"===e.key&&(o=e.value),"resizeType"===e.key&&e.value,"shortEdge"===e.key&&(s=e.value)}));try{$A=xf.XInference;var l={type:"uint8",shape:[r[0],r[1],3]};y.warn(`[mnxnet]: preprocess dataIn: ${JSON.stringify(l)}`),l.data=e;var c=1/(255*a),u=i/a,d=XA(),p=!1;"NCHW"===o&&(p=!0),n={image:l,dstHW:[s,s],bias:[u,u,u],scale:[c,c,c],toNCHW:p};var{res:h,errMsg:f}=JA("FuseProcess",n),g=XA()-d;return hC(1,GA,f,g,n,1),y.warn(`[mnxnet] preprocess cost ${g} ms`),h.data.buffer}catch(e){hC(1,GA,JSON.stringify(e),0,n,1),y.warn(`[mnxnet] preprocess err: ${e}`)}})),QA.apply(this,arguments)}var ZA="";function ex(e,t,r){return tx.apply(this,arguments)}function tx(){return tx=_asyncToGenerator((function*(e,t,r){try{var n=e,i=.5,a=.5,o="NCHW";t.forEach((e=>{"mean"===e.key&&(i=e.value),"std"===e.key&&(a=e.value),"inputType"===e.key&&(o=e.value),"resizeType"===e.key&&e.value}));var s=yield transformRGB(n,r),l=0,c=s.length/s[0].length,u=s[0].length;s.length<s[0].length&&(l=1,c=s[0].length/s.length,u=s.length);var d=[];if("NCHW"===o)for(var p=0;p<3;p++)for(var h=0;h<u;h++)for(var f=0;f<u;f++){var g=h,v=f;0===l?g=Math.floor(h*c):v=Math.floor(h*c),d.push((s[g][v][p]/255-i)/a)}else for(var m=0;m<u;m++)for(var y=0;y<u;y++){var b=m,_=y;0===l?b=Math.floor(m*c):_=Math.floor(y*c);for(var w=0;w<3;w++)d.push((s[b][_][w]/255-i)/a)}return new Float32Array(d).buffer}catch(e){throw e}})),tx.apply(this,arguments)}function rx(e,t,r){return nx.apply(this,arguments)}function nx(){return nx=xd()((function*(e,t,r){y.warn("[mnxnet]: resizeScreenshotRect called");try{var n=ZA.includes(GA);if(t.disableDipFuncList&&t.disableDipFuncList.includes(GA)&&(n=!1,y.warn("[mnxnet]: disable native fused resize by svr")),n&&HA())return y.warn("[mnxnet]: enableNativeFusedResize"),YA(e,t,r);var i=(new Date).getTime(),a=.5,o=.5,s="NCHW",l=e;t.forEach((e=>{"mean"===e.key&&(a=e.value),"std"===e.key&&(o=e.value),"inputType"===e.key&&(s=e.value),"resizeType"===e.key&&e.value}));var c=yield BA(l,r),u=0,d=c.length/c[0].length,p=c[0].length,h=c.length;c.length<c[0].length&&(u=1,d=c[0].length/c.length,p=c.length,h=c[0].length);var f={image:{type:"uint8",shape:[r[0],r[1],3]},dstHW:[p,p],toNCHW:"NCHW"===s},g=Math.ceil(d),v=Math.floor(g/2),m=[];if("NCHW"===s)for(var b=0;b<3;b++)for(var _=0;_<p;_++)for(var w=0;w<p;w++){var S=0,C=0,k=0;k=0===u?Math.floor(_*d):Math.floor(w*d);for(var I=0;I<g;I++){var P=k-v+I;P>=0&&P<h&&(S+=1,C+=0===u?c[P][w][b]:c[_][P][b])}S>0?m.push((C/S/255-a)/o):m.push(0)}else for(var A=0;A<p;A++)for(var x=0;x<p;x++){var T=0;T=0===u?Math.floor(A*d):Math.floor(x*d);for(var E=0;E<3;E++){for(var M=0,R=0,O=0;O<g;O++){var D=T-v+O;D>=0&&D<h&&(M+=1,R+=0===u?c[D][x][E]:c[A][D][E])}M>0?m.push((R/M/255-a)/o):m.push(0)}}var L=(new Date).getTime();return hC(0,GA,null,L-i,f,1),new Float32Array(m).buffer}catch(e){throw e}})),nx.apply(this,arguments)}function ix(e,t,r){return ax.apply(this,arguments)}function ax(){return ax=xd()((function*(e,t,r){try{var n=[],i=[];t.forEach((e=>{var t=e.key,r=e.value;n.push(t),r&&r.forceReRun&&i.push(t)}));for(var a=n.length,o=yield PC(n,{forceRunKeys:i}),s=new Float32Array(a),l=0;l<a;++l)s[l]=o[n[l]];return s.buffer}catch(e){return y.warn(`[mnxnet]: mnxnetBenchmark err: ${e}`),new ArrayBuffer(1)}})),ax.apply(this,arguments)}var ox=function(){var e=xd()((function*(e,t,r){var n,i,a,o,s=!0;if(t.forEach((e=>{"simple"===t.key&&(s="1"===t.value),"startPct"===e.key&&(n=e.value),"maxSize"===e.key&&(i=e.value-(s?0:2)),"dictName"===e.key&&(a=e.value)})),e=e.replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"").toLowerCase(),i<0){var l=e.length*n+i;l<0&&(l=0),e=e.slice(l,e.length*n)}else e=e.slice(e.length*n,e.length*n+i);a||(a=s?"minivocab":"alberttiny489kvocab");try{o=yield GI(a)}catch(e){}for(var c=r[r.length-1]-(s?0:2),u=[],d=0;d<e.length&&d<c;d++)u.push(o[e[d]]||(s?1:o["[UNK]"]));if(s||(u.unshift(o["[CLS]"]),u.push(o["[SEP]"])),u.length<c)for(;u.length<c;)u.push(0);return new Int32Array(u).buffer}));return function(t,r,n){return e.apply(this,arguments)}}();function sx(e,t,r){return lx.apply(this,arguments)}function lx(){return lx=xd()((function*(e,t,r){try{var n=0,i=512,a=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"maxSeqLength"===e.key&&(i=e.value),"dictType"===e.key&&"bert"===e.value&&(a=!1)}));var o,s=e.slice(Math.floor(e.length*n),e.length);try{o=yield r.readWordDict(a?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var l=[],c=0;c<s.length;c++){var u=s[c];o[u]&&o[u]>60&&o[u]<2900&&l.push(o[u])}var d=[],p=i-(a?0:2);if(l.length>p){for(var h=0;h<l.length;h++){var f=l[h];f>270&&f<570||f>580&&f<660||f>790&&f<990||f>1100&&f<1200||f>1300&&f<1900||f>2e3&&f<2800||d.push(f)}d.length>p&&(d=d.slice(0,p))}else d=l;for(a||(d.unshift(101),d.push(102));d.length<i;)d.push(0);return new Int32Array(d).buffer}catch(e){throw e}})),lx.apply(this,arguments)}var cx=p.g.eval,ux={mnxnetBenchmark:ix,GetTextIdsVec:ox,GetTextIdsSimple:(e,t,r)=>ox(e,t,r,!0),GetTextIdsMultiDimension:qA,GetTrimTextProcrss:sx,exceptionRetProcess:jA,resizeScreenshotRect:rx,html2WordEmbedding:UA},dx=function(){var e=xd()((function*(e,t,r,n,i,a){var o=void 0!==a?a:e[t],s=ux[r];if(s)try{return yield s(o,n,i)}catch(e){throw e}return o}));return function(t,r,n,i,a,o){return e.apply(this,arguments)}}(),px=function(){var e=xd()((function*(e,t,r,n,i){return new Promise(((a,o)=>{var s=a,l=o;try{hx(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:s,safeEvalExecCallbackReject:l,env:{readWordDict:GI,shape:n,transformRGB:BA,sdkUtils:i}})}catch(e){o(e)}}))}));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),hx=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");cx(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)};const fx=JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}');var gx={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5,modal:6,toast:7,loading:8},vx={1:"innerText",2:"innerHTML",3:"textContent",dom_text:"innerText",dom_html:"innerHTML",dom_content:"textContent"},mx=e=>e.reduce(((e,t)=>e*t),1),yx=e=>gx[e],bx,_x=()=>bx,wx,Sx=!1,Cx,kx=new Promise((e=>Cx=e)),Ix=function(){var e=xd()((function*(){if(!wx&&!Sx){Sx=!0;try{var e=yield Lx();if(!Array.isArray(e))return Cx(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:n,domTextPreset:i,regCheckCfg:a,modelName:o,taskId:s,debug:l,key:c,cliParamList:u,isScreenshot:d,isMultiModal:p,typicalShape:h,allowQuantize:f,allowNPU:g,onlyInteractionCheck:v,interactionPreset:m,runTiming:y}=e,{after_load_interval:b,after_load_maxcnt:_,at_redirect:w,most_cnt:S}=null!=n?n:{};return r.allowQuantize=f,r.allowNPU=g,r.typicalShape=h,(wx={}).mostCnt=S,wx.currentCnt=0,wx.afterLoadInterval=b,wx.afterLoadMaxCnt=_,wx.atRedirect=w,wx.modelUrl=t,wx.cfg=r,wx.domTextPreset=i,wx.regCheckCfg=a,wx.modelName=o,wx.taskId=s,wx.debug=l,wx.key=c,wx.cliParamList=u,wx.isScreenshot=d,wx.isMultiModal=p,wx.typicalShape=h,wx.allowNPU=g,wx.allowQuantize=f,wx.interactionPreset=m,wx.onlyInteractionCheck=v,wx.runTiming=y,bx=s,wx})),Cx(e)}catch(e){Cx(null)}}}));return function(){return e.apply(this,arguments)}}(),Px=function(){var e=xd()((function*(e,t=!1){Ix();var r=yield kx;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}(),Ax=!1,xx=()=>Ax=!0,Tx=1,Ex=({taskId:e,xnetResList:t,regResList:r,curPath:n,runScene:i,runTime:a,costTime:o,errMsg:s,debug:l,domTextPresetData:c,blockTime:u,logicCostList:d,specialCase:p,contentId:h,screenShotId:f,webviewCfg:g,sessionid:v,interactionType:m})=>{var y=[],b=[];Array.isArray(t)&&t.forEach((e=>{var t=e.multimodalScreenshotId;t&&b.push(t);var r=e.xnet_res;if(r){var n=[];for(var i of Object.keys(r)){var a=r[i];n.push({key:i,type:a.type,shape_list:a.shape,base64_data:Av(a.data)})}e.xnet_res=n,y.push(e)}else y.push(e)}));var _={task_id:e,xnet_res_list:y,reg_res_list:r,cur_path:n,run_scene:i,run_time:a,cost_time:o,errmsg:s,block_time:u,logic_cost_time_list:d,special_case:p,content_type:h,webview_url:null==g?void 0:g.webviewUrl,report_id:Tx++,sessionid:v,report_time:Date.now()};if(2===h)_.debug_data={preset_data_list:[{key:"screenshot",value:l}]};else if(Array.isArray(l)){var w=[];c&&l.forEach((e=>{if("modal"===e||"toast"===e||"clipboard"===e){if(e!==m)return;w.push({key:e,value:c})}else"screenshot"===e?w.push({key:e,value:f}):w.push({key:e,value:c[yx(e)]})})),b.length&&b.forEach((e=>{w.push({key:"screenshot_preprocessor",value:e})})),_.debug_data={preset_data_list:w}}TE({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:_})},Mx=(e,t={})=>{if(Ax){var r=_x(),n=t.sessionId;n&&delete t.sessionId;var i={task_id:r,xnet_moment:e,...t,sessionid:n,report_id:Tx++,report_time:Date.now()};TE({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:i})}},Rx=(e,t)=>r=>{TE({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:{task_id:e,sessionid:t,pre_proc_log:r,report_id:Tx++}})},Ox=["dom_text","dom_html","dom_content","dom","screenshot"],Dx=!1,Lx=()=>new Promise(((e,t)=>{var r,n,i,a;if(!Dx&&null!==(r=re.appContactInfo)&&void 0!==r&&null!==(n=r.operationInfo)&&void 0!==n&&null!==(i=n.jsonInfo)&&void 0!==i&&null!==(a=i.op_info)&&void 0!==a&&a.skip_async_secinfo)return e({close:!0});if(Dx){var o=function(){var e=xd()((function*(){var e={data:fx};e.data.wxa_client_check.gray_pub_mode&&xx(),e.data.wxa_client_check.check_logic&&e.data.wxa_client_check.check_logic.xnet&&UI(e.data.wxa_client_check.check_logic.vocab_list);var t=[];for(var r of e.data.wxa_client_check.check_logic.xnet_list){var n=yield Bx({xnet:r,reg_list:e.data.wxa_client_check.check_logic.reg_list},e.data.wxa_client_check.debug_data,e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_code:null);n.taskId=e.data.wxa_client_check.task_id,n.checkConfig=e.data.wxa_client_check.timing,n.debug=1===e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_data:null,n.debug_codes=n.debug?e.data.wxa_client_check.debug_code:null,t.push(n)}if(!t.length&&e.data.wxa_client_check.check_logic.reg_list){var i=[];if(e.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{i.push(yx(e))})),i.length){var a={regCheckCfg:e.data.wxa_client_check.check_logic.reg_list,domTextPreset:i};a.taskId=e.data.wxa_client_check.task_id,a.checkConfig=e.data.wxa_client_check.timing,a.debug=1===e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_data:null,t.push(a)}}return 1===e.data.wxa_client_check.timing.at_redirect&&(jx=1),t}));return function(){return e.apply(this,arguments)}}();o().then(e).catch((e=>{t(e)}))}else Qk().then(function(){var r=xd()((function*(r){try{var n,i;if(null===(n=r.data)||void 0===n||null===(i=n.wxa_client_check)||void 0===i||!i.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&UI(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&xx();var a=[];for(var o of r.data.wxa_client_check.check_logic.xnet_list){var s,l=yield Bx({xnet:o,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);l.taskId=r.data.wxa_client_check.task_id,l.checkConfig=r.data.wxa_client_check.timing,l.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,l.debug_codes=l.debug?r.data.wxa_client_check.debug_code:null,l.runTiming=null===(s=o.sub_timing)||void 0===s?void 0:s.event_list,a.push(l)}if(!a.length&&r.data.wxa_client_check.check_logic.reg_list){var c=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{c.push(yx(e))})),c.length){var u={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:c};u.taskId=r.data.wxa_client_check.task_id,u.checkConfig=r.data.wxa_client_check.timing,u.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,a.push(u)}}1===r.data.wxa_client_check.timing.at_redirect&&(jx=1),e(a)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),Nx=[],Bx=function(){var e=xd()((function*(e,t,r){var n,i={},{model_url:a,model_name:o,cli_param_list:s=[],svr_param_list:l=[],conf_name:c,allowNPU:u,allowQuantize:d,typicalShape:p}=e.xnet||{},h=null!==(n=e.reg_list)&&void 0!==n?n:[],f=[],g=!1,v=!1;if([...h,...s].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(v=!0),!f.includes(t)&&t&&Ox.includes(t)&&f.push(yx(t))})),a){var m={};s.forEach(((e,t)=>{var r;if(null!==(r=e.union)&&void 0!==r&&r.length){m[e.key]=e.union;var n="screenshot"!==e.preset_data,i="screenshot"===e.preset_data;e.union.forEach((t=>{"screenshot"!==s[t].preset_data?n=!0:i=!0,n&&i&&(e.isMultiModal=!0)}))}if(e.preposition){if(!s[t])throw new Error(`unexpect config: ${e.key} exist an illegal preposition`);s[t].asPreposition=!0}}));for(var y=function*(e){var t,n,a,o=s[e],{preset_data:l,pre_proc:c}=null!=o?o:{},{proc_name:u,param:d}=null!=c?c:{};i[o.key]={type:o.type||"int32",shape:o.shape_list,getData:(a=xd()((function*(e,t,{customShape:n,sdkUtils:a={}}={}){var s;if(r&&-1!==(s=r.findIndex((e=>e.func_name===u)))){var c,p=r[s].code;try{c=yield px(p,void 0!==t?t:e[yx(l)],d,null!=n?n:o.shape_list,a)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return c}if(i[o.key].prepositionPreHandler){var h=i[i[o.key].prepositionPreHandler];if(h){var f=yield h.getData(e,t,{customShape:n});return yield dx(f,yx(l),u,d,null!=n?n:o.shape_list,t)}}return yield dx(e,yx(l),u,d,null!=n?n:o.shape_list,t)})),function(e,t){return a.apply(this,arguments)}),prepositionPreHandler:null===(t=s[o.preposition])||void 0===t?void 0:t.key,isMultiModal:!!o.isMultiModal,modalType:"screenshot"===o.preset_data?"image":"text",param_ctrl:o.param_ctrl||{}},i[o.key].isMultiModal&&(g=!0),Object.keys(m).forEach((t=>{if(-1!==m[t].indexOf(e)){var r;if(null!==(r=o.union)&&void 0!==r&&r.length)throw new Error(`unexpect config: unionsponsor: ${o.key} is also the unionmember`);i[o.key].unionMember=!0}})),null!==(n=o.union)&&void 0!==n&&n.length&&(i[o.key].unionMembers=o.union.map((e=>({key:s[e].key,ready:!1}))))},b=0;b<s.length;b++)yield*y(b);l.forEach((e=>{i[e.key]={type:e.type,shape:e.shape_list,data:xv(e.base64_data)}}))}Nx.push(...f),Nx=Array.from(new Set(Nx));var _=[];v||Nx.forEach((e=>{6!==e&&7!==e&&8!==e||_.push(e)}));var w=!1;return(Nx=Nx.filter((e=>!(6===e||7===e||8===e)))).length||(w=!0),{onlyInteractionCheck:w&&!v,modelName:o,model:a,config:i,domTextPreset:Nx,interactionPreset:_,regCheckCfg:h,key:c,cliParamList:s,isScreenshot:v,isMultiModal:g,allowNPU:!!u,allowQuantize:!!d,typicalShape:p}}));return function(t,r,n){return e.apply(this,arguments)}}(),$x=function(){var e=xd()((function*(e,t,r,{customShape:n,debugCustomReport:i}={}){for(var a of Object.values(e))"function"==typeof a.getData&&(a.data=yield a.getData(t,r,{customShape:n,sdkUtils:{debugCustomReport:i}}));return e}));return function(t,r,n){return e.apply(this,arguments)}}(),jx,Fx=()=>{var e,t;return null!==(e=O)&&void 0!==e&&null!==(t=e.getCurrentRouteStartTime)&&void 0!==t&&t.call(e)?Date.now()-O.getCurrentRouteStartTime()>2e3?jx:void 0:-1},Wx=(e,t)=>t.map((t=>{var r=e[yx(t.preset_data)],n=new RegExp(t.reg_exp);return{id:t.id,match:n.test(r)}})),Ux=function(){var e=xd()((function*(e,t){return FI(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),Vx=null,qx,zx=(e={})=>{var t=Date.now();return new Promise(((r,n)=>{invokeWebviewMethod("getDOMContent",{type:e.type},void 0,(e=>{null!=e&&e.errMsg?n(e.errMsg):r({res:e,cost:Date.now()-t})}))}))},Gx=(e={})=>{var t=Date.now();return new Promise(((r,n)=>{WC("getMultiDOMContent",{types:e.types},void 0,(e=>{null!=e&&e.errMsg?n(e.errMsg):r({res:e,cost:Date.now()-t})}))}))},Hx=(e,t,r=!0)=>{var n;return n||Promise.resolve("")},Kx=aw("MultiModalCheck",{noCache:!0}),Jx,Xx=(e,t,r={})=>new Promise(((n,i)=>{if(Jx)return n(Jx);Ux(e,t).then((e=>{var t={...r};t.typicalShape||delete t.typicalShape;var a=sC({model:e,...t});a.onLoad((()=>{Jx=a,n(a)})),a.onError((e=>{Jx||i(e)}))})).catch((e=>{i(e)}))})),Yx=(e,t)=>{void 0===e&&(e=[]);try{var r,n=Date.now();return e.length&&(r=Wx(t,e)),{regRes:r,errMsg:null,cost:Date.now()-n}}catch(e){return{errMsg:e.message,cost:-1}}},Qx=function(){var e=xd()((function*(e,t,r,n,i,a,{customShape:o,isMultiModal:s,screenshotCheck:l,debug:c,preMultiDomContent:u=!1}={}){void 0===i&&(i={});var d,p=[];if(!t)return{xnetRes:null,errMsg:null,logicCost:p};try{var h=Date.now();Mx(2,{sessionId:e}),d=yield Xx(t,r,n),Mx(3,{sessionId:e});var f=Date.now()-h;p.push({logic_type:2,time_cost:f})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:p}}try{var g=Date.now();if(Mx(4,{sessionId:e}),s&&l)return Kx.advancePublish("requestScreenshotData",{shape:o,data:a},!0),{isMultiModal:!0};if(s){var v,m=Object.entries(n).filter((([e,t])=>"text"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{}),b=_x(),_=Rx(b,e);yield $x(m,i,a,{customShape:o,debugCustomReport:_});var w=new Promise((e=>{v=e}));Kx.on("requestScreenshotData",(e=>{v(e)}));var S=yield w,C=Object.entries(n).filter((([e,t])=>"image"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{});yield $x(C,i,S.data,{customShape:S.shape})}else u||(yield $x(n,i,a,{customShape:o}));Mx(5,{sessionId:e});var k,I={},P=function*(){if("allowNPU"===A||"allowQuantize"===A||"typicalShape"===A)return"continue";var e=n[A];if(e&&e.param_ctrl&&e.param_ctrl.remove_from_model_input)return"continue";if(I[A]=n[A],c&&"image"===n[A].modalType)try{k=yield Hx(n[A].data,[n[A].shape[2],n[A].shape[3]],!1)}catch(e){}};for(var A in n)yield*P();var x=Date.now()-g;p.push({logic_type:3,time_cost:x});var T=Date.now(),E=yield d.run(I);for(var M of(d.reportCurrentResult(),Object.keys(n))){var R=n[M];R&&R.param_ctrl&&R.param_ctrl.do_report&&(E[M]=R)}var O=Date.now()-T;return p.push({logic_type:4,time_cost:O}),Mx(6,{sessionId:e}),{xnetRes:E,logicCost:p,multimodalScreenshotId:k}}catch(e){return y.warn("xnet inference error: ",e),{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:p}}}));return function(t,r,n,i,a,o){return e.apply(this,arguments)}}(),Zx=function(){var e=xd()((function*(){var e=yield Px();if(e){var{domTextPreset:t}=e;return yield Gx({types:t})}}));return function(){return e.apply(this,arguments)}}(),eT=1,tT=!0,rT=function(){var e=xd()((function*(e,t,r){var n=yield Px(void 0,!0);if(n&&n.length){var i=eT++;tT&&(tT=!1,Mx(1,{sessionId:i}));var a,o,s,l=[],{domTextPreset:c,regCheckCfg:u,taskId:d,debug:p}=n[0],h=p?O.getCurrentFullyRoutePath():O.getCurrentRoutePath(),f=Date.now();t||r?o=!0:t=yield Gx({types:c}),s=t;var g,v,{res:m,cost:y}=s;o&&(m=t,y=0),m.htmlId&&(g=m,m=m.domData),r?v={regRes:void 0,errMsg:void 0,cost:0}:(v=Yx(u,m)).errMsg&&(a=v.errMsg),l.push({logic_type:1,time_cost:v.cost});var b=!1,_=[],w=n.map(function(){var e=xd()((function*(e){if(!e.asPreposition&&!e.unionMember&&(!e.isScreenshot||e.isMultiModal)){e.isMultiModal&&(b=!0);var{modelUrl:t,cfg:n,modelName:s,key:l,isMultiModal:c,runTiming:u=[]}=e;if(("modal"!==r||u.includes("at_modal"))&&("toast"!==r||u.includes("at_toast"))&&("clipboard"!==r||u.includes("at_clipboard"))){var{xnetRes:d,errMsg:h,logicCost:f,multimodalScreenshotId:g}=yield Qx(i,t,s,n,m,r?m:void 0,{isMultiModal:c,debug:p,preMultiDomContent:o}),v={conf_name:l,xnet_res:d,errmsg:h,logic_cost_time_list:f,multimodalScreenshotId:g};if(p){var y=[];for(var w of Object.keys(n)){var S,C=n[w],k=Av(C.data);(null===(S=k)||void 0===S?void 0:S.length)>2e4&&(k=k.slice(0,2e4)+":size over max"),y.push({key:w,type:C.type,shape_list:C.shape,base64_data:k})}v.debug_data={xnet_param:y}}_.push(v),h&&(a=h)}}}));return function(t){return e.apply(this,arguments)}}());if(yield Promise.all(w),_.length||v.regRes||a){var S,C=Date.now()-f;if(l.push({logic_type:5,time_cost:y}),b&&p){var k,I=new Promise((e=>{k=e}));Kx.on("screenshotUpload",(e=>{S=e,k()})),yield I}var P=e;"toast"===r?P=21:"modal"===r?P=22:"clipboard"===r?P=23:"loading"===r&&(P=24),Ex({taskId:d,xnetResList:_,regResList:v.regRes,curPath:h,runScene:P,runTime:Date.now(),costTime:C,errMsg:a,debug:p,domTextPresetData:m,blockTime:-1,logicCostList:l,contentId:b?3:1,screenShotId:S,webviewCfg:g,sessionid:i,interactionType:r})}}}));return function(t,r,n){return e.apply(this,arguments)}}(),nT=function(){var e=xd()((function*(e,t,r,n){var{taskId:i,debug:a}=e[0],o=eT++;if(t){var s;a&&(s=Hx(t,[r[1],r[0]],!0));var l,c=Date.now(),u=!1,d=e.map(function(){var e=xd()((function*(e){if(e.isScreenshot){var{modelUrl:n,cfg:i,modelName:s,key:c,isMultiModal:d}=e,{xnetRes:p,errMsg:h,logicCost:f}=yield Qx(o,n,s,i,null,t,{customShape:r,isMultiModal:d,screenshotCheck:!0,debug:a});if(h&&(l=h),d)return void(u=!0);var g={conf_name:c,xnet_res:p,errmsg:h,logic_cost_time_list:f};return a&&(g.debugCfg=e.cfg),g}}));return function(t){return e.apply(this,arguments)}}()),p=yield Promise.all(d);p=p.filter((e=>e));var h,f=Date.now()-c;if(s)try{h=yield s}catch(n){}u&&a&&Kx.advancePublish("screenshotUpload",h,!0),h&&p.forEach((e=>{var t=[];if(e&&e.debugCfg){for(var r of Object.keys(e.debugCfg))t.push({key:r,type:"screenshot",shape_list:null,base64_data:h});delete e.debugCfg,e.debug_data={xnet_param:t}}})),Ex({taskId:i,xnetResList:p,regResList:null,curPath:a?O.getCurrentFullyRoutePath():O.getCurrentRoutePath(),runScene:11,runTime:Date.now(),costTime:f,errMsg:l,debug:h,domTextPresetData:null,blockTime:-1,logicCostList:[],contentId:2,sessionid:o})}else Ex({taskId:i,xnetResList:null,regResList:null,curPath:a?O.getCurrentFullyRoutePath():O.getCurrentRoutePath(),runScene:11,runTime:Date.now(),costTime:-1,errMsg:n,debug:a,domTextPresetData:null,blockTime:-1,logicCostList:[],specialCase:[{key:"support_screenshot",value:"false"}],contentId:2,sessionid:o})}));return function(t,r,n,i){return e.apply(this,arguments)}}(),iT,aT,oT=new Promise((e=>{aT=e})),sT;re.onReady((()=>{sT=Cf("reportRequestErrorByAI")}));var lT=e=>{iT=e,aT(e)},cT=()=>iT,uT=e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null},dT=function(){var e=xd()((function*(e){if(iT&&sT){var t=yield Px(iT);if(t){var{modelUrl:r,modelName:n,cfg:i}=t,a=(yield Qx(void 0,r,n,i,void 0,e)).xnetRes;return!!(a=uT(a))&&a[0]-a[1]}}}));return function(t){return e.apply(this,arguments)}}(),pT=(e,t={})=>{if(Array.isArray(e))return e.reduce(((e,t,r)=>(e[r]=pT(t),e)),[]);if(!pt(e))return e;for(var r of Object.getOwnPropertyNames(e)){var n=e[r];t[r]=pT(n)}return t};function hT(e){var t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)||""}catch(r){t=et(e)}return t.replace(/,/g,";").substr(0,1024)}var fT={pay:"WePayVIPAppRequestError",goverment:"WeAppRequestError",interactiveApiPay:"WePayVIPAppInteractiveApiError",interactiveApiGoverment:"WeAppInteractiveApiError"};function gT(e,t,{point:r,schemaVersion:n,key:i,kvResult:a,routePath:o,networkType:s,nlpRet:l,aiConsistent:c,reportType:u}={}){var d=t.errno,p=fT[u];T.reportKeyValue({key:p,value:[s,e.url,t.errMsg,t.statusCode,hT(e.header),hT(e.data),hT(t.header),hT(t.data),e.method,ju().scene,encodeURIComponent(ju().scene_note||ju().sceneNote),mT,d,n,encodeURIComponent(i),encodeURIComponent(r),encodeURIComponent(a),o,void 0===l?-2:l,c].join(",")})}var vT=Math.random,mT=void 0!==a&&a?a.version:"unknown",yT=!1,bT=!1,_T=0,wT=e=>{var t=re.appLaunchInfo&&re.appLaunchInfo.scene;if(e&&"object"==typeof e){var r,n=e[t]||e.all,i=e.nlpKey;if(n)if(bT=Cf("reportPayVIPQuality"),yT=bT||Cf("reportRequestError2"),_T=null!==(r=n.ratio)&&void 0!==r?r:1,O.allowReportLoadingTime(),yT)return lT(i),!0;return Cf("reportRequestError3")?(yT=!0,_T=1,O.allowReportLoadingTime(),lT(i),!0):void 0}},ST=!1,CT=()=>ST=!0;function kT(e){try{e.data=JSON.parse(e.data)}catch(e){}}function IT(e,t,{uuid:r,invokeTime:n,dataType:i,networkType:a,routePath:o}={}){var s=O.shouldStartReport();if(yT&&vT()<_T||s||ST){var l=O.getCurrentRoutePath(),c=Date.now()-n;e=pT(e);var u=(t=pT(t)).data,d=Promise.resolve().then(xd()((function*(){if("string"!=typeof u)return-3;try{JSON.parse(u)}catch(e){return-3}return yield dT(u)}))).catch((()=>-3));sh().runTask("checkRequest",{response:t,requestData:e,checkResponse:!0,delay:!0}).then((e=>d.then((t=>(e.nlpRet=t,e))))).then((n=>{try{"json"===i&&kT(t);var{isImportantRequest:u,nlpRet:d}=n;if((n.hasError||d>0)&&yT){var{point:p,reportBody:h,reportArgs:f,schemaVersion:g,key:v,kvResult:m}=n;e.data&&(e.data=f),t.data&&(t.data=h),gT(e,t,{point:p,schemaVersion:g,key:v,kvResult:m,networkType:a,routePath:o,nlpRet:d,aiConsistent:d>0&&n.hasError?1:2,reportType:bT?"pay":"goverment"})}if(s){var b={isimportant:u,errMsg:t.errMsg,errno:t.errno},_=n.hasError;_&&(b.errinfo=t.errMsg||n.point,b.noFilterRes=!0),O.traceApi("request",e,t,_,r,c,!0,b)}if(ST&&u){var{sensitiveRequestPoint:w,sensitveResponsePoint:S}=n;[w,S].forEach(((t,r)=>{null!=t&&t.length&&T.reportKeyValue({key:"WeAppSensitiveRequest",value:[0===r?0:1,Zd(e.url),e.method,null,l,t.join(",")].map(encodeURIComponent).join(",")})}))}}catch(e){y.error("resolve 24247 worker error:",e)}})).catch((e=>{y.error("report 24247 error:",e)}))}}var PT=(e,t)=>`0,0,${e?2:t?3:0}, ${e||t?2:0}`,AT=(e={})=>{if(yT){var{apiName:t,content:r="",routePath:n,networkType:i,title:a=""}=e,o=bT?"interactiveApiPay":"interactiveApiGoverment";o=fT[o];var s=a+","+r;"showModal"!==t&&"showToast"!==t||sh().runTask("resolveInteractiveApiContent",{apiName:t,content:s}).then((e=>{if(e.result){var r;r="showModal"===t?1:"showToast"===t?2:3;var a=ju().instanceId||ju().sessionid,l=[t,encodeURIComponent(s),n,a,r,i,encodeURIComponent(PT(e.hitUserLowPriortyCustom,e.hitUserHighPriorityCustom))].join(",");T.reportKeyValue({key:o,value:l})}})).catch((e=>{y.error("resolveInteractiveApiContent:",e)}))}},xT=new RegExp("name_not_resolved","i"),TT=e=>xT.test(e.errMsg),ET=(e,t,r)=>!Oy()&&(!(!Cf("useFreeHttpDns")||!TT(e))&&(bE(t,r),!0)),MT=void 0===a?{version:"9.9.9",updateTime:"unknown"}:a,RT=MT,OT=()=>({updateTime:MT.updateTime,version:MT.version});function DT(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),i=Math.max(r.length,n.length);r.length<i;)r.push("0");for(;n.length<i;)n.push("0");for(var a=0;a<i;a++){var o=parseInt(r[a],10),s=parseInt(n[a],10);if(o>s)return 1;if(o<s)return-1}return 0}function LT(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function NT(e,t){return e||t?e?t?DT(LT(e),LT(t)):1:-1:0}var BT=!1,$T,jT,FT;re.onReady((()=>{var e,t,r,n,i,a,o,s,l,c,u,d,p,h,f;(null!==(e=re.appContactInfo)&&void 0!==e&&null!==(t=e.stablePassThroughInfo)&&void 0!==t&&null!==(r=t.wxcloud_gateway_conf)&&void 0!==r&&r.enabled||null!==(n=re.appContactInfo)&&void 0!==n&&null!==(i=n.wxcloud_gateway_conf)&&void 0!==i&&i.enabled)&&(BT=!0,$T=null===(a=re.appContactInfo)||void 0===a||null===(o=a.stablePassThroughInfo)||void 0===o?void 0:o.wxcloud_gateway_conf,(jT=null===(s=re.appContactInfo)||void 0===s||null===(l=s.passThroughInfo)||void 0===l?void 0:l.wxcloud_gateway)&&null!==(c=re.appContactInfo)&&void 0!==c&&null!==(u=c.stablePassThroughInfo)&&void 0!==u&&null!==(d=u.wxcloud_gateway_conf)&&void 0!==d&&d.lite_gateway_info&&(FT=null===(p=re.appContactInfo)||void 0===p||null===(h=p.stablePassThroughInfo)||void 0===h||null===(f=h.wxcloud_gateway_conf)||void 0===f?void 0:f.lite_gateway_info))}));var WT=!1;function UT(e,{host:t,compatUrls:r,args:n,__retryAccelFallback__:i}){var o,s,l,c,{disableAccelerate:u,url:d,header:p}=n,h=~~(Date.now()/1e3),f=null===(o=jT)||void 0===o?void 0:o.auth_info,g=null===(s=jT)||void 0===s?void 0:s.user_selected,v=e.forward_info_list,m=null==v?void 0:v.find((e=>e.url_prefixes.find((e=>d.startsWith(e))))),y=a.version,b="any"===(null===(l=$T)||void 0===l?void 0:l.env_version)||null===(c=$T)||void 0===c?void 0:c.env_version;if(!g||!f||h>f.exp||h-f.iat>86400||b&&re.envVersion!==b||u||i||WT||DT(y,e.min_lib_version)<0||!m)return i&&(WT=!0),{accelerateOptions:{accelerateType:l_.none}};var _=$T.domain,w=t,S=d.replace(w,_),C=p,k=Object.assign({},C,{"x-wx-lite-gw-token":String(f.token),"x-wx-port":String(m.port),"x-wx-route-tag":String(m.route_tag),"x-wx-rid":String(f.rid)});return{accelerateOptions:{accelerateType:l_.liteGatewayAcc},host:_,args:Object.assign({},n,{url:S,header:k,enableHttp3:!0}),compatUrls:Object.assign({},r,{host:_,url:S}),header:k}}function VT({options:e,res:t,task:r}){return WT=!0,{args:Object.assign({},e.originArgs,{url:e.accelerateOptions.rawUrl,header:e.accelerateOptions.rawHeader,enableHttp3:e.accelerateOptions.rawEnableHttp3}),innerArgs:{__retryAccelFallback__:!0}}}function qT(e){var t,r,n,i,a;try{if(FT){var{host:o,args:s,options:l}=e,{accelerateOptions:c,...u}=UT(FT,{host:o,args:s,compatUrls:e.compatUrls,__retryAccelFallback__:l.__retryAccelFallback__});if(c.accelerateType===l_.liteGatewayAcc)return Object.assign({},u,{accelerateOptions:Object.assign({},c,{rawHost:o,rawUrl:s.url,rawHeader:s.header,rawEnableHttp3:s.enableHttp3})})}}catch(e){return}if(BT)if(e.host!==$T.domain){if(!e.options.__skipDomainCheck__){var d=null===(t=(r=__cloudSDKMain__).getRequestMiddleware)||void 0===t?void 0:t.call(r,re)(e.args);return d?new Promise(((e,t)=>d(e,t))):void 0}}else if(null!==(n=e.args.useGatewayIp)&&void 0!==n&&n.enabled&&null!==(i=jT)&&void 0!==i&&null!==(a=i.prefetch_ip)&&void 0!==a&&a.ip){var p,h;if(Number(jT.prefetch_ip.exp)>~~(Date.now()/1e3))return e.args.useGatewayIp.state=2,{ip:null===(p=jT)||void 0===p||null===(h=p.prefetch_ip)||void 0===h?void 0:h.ip,skipDNS:t_};e.args.useGatewayIp.state=3}else{var f;!1===(null===(f=e.args.useGatewayIp)||void 0===f?void 0:f.enabled)?e.args.useGatewayIp.state=4:e.args.useGatewayIp&&(e.args.useGatewayIp.state=1)}}var zT=0,GT=/custom ip is invalid/;ew("Request",{maxTaskCount:10,functionName:"request"}),re.onReady((()=>{try{"number"==typeof re.wxAppInfo.maxRequestConcurrent&&ew("Request",{maxTaskCount:re.wxAppInfo.maxRequestConcurrent})}catch(e){}}));var HT=null;class KT extends z_{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,r=null==e?void 0:e.__wx_inner_invokeTime__,n=null==e?void 0:e.__wx_inner_request_network_type__,i=null==e?void 0:e.__wx_request_route_path__,a=null==e?void 0:e.rawHttpDnsError;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var o={JSApiType:1,invokeTime:Date.now(),requestingCount:++zT,jsApiVersion:0};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:s=>{if(s.profile&&(s.profile.usingHighPerformanceMode=!!s.profile.usingHighPerformanceMode),tb[e.host]||(tb[e.host]={needUpdateDns:!1,protocol:e.protocol}),a||e.exception){var l=a||e.exception;s.exception={reasons:l},(null==e?void 0:e.retryCount)>0&&(s.exception.retryCount=e.retryCount)}PP(),e.host&&e.ip&&w_(e.host,e.ip),o.isSuccess=!0,XT(s),QT(s),ZT(s),e.enableHttpDNS&&(s.useHttpDNS=!!e.ip);try{IT(e,s,{uuid:t,invokeTime:r,dataType:e.dataType,networkType:n,routePath:i})}catch(e){y.error("checkAndReportError error:",e)}"json"===e.dataType&&YT(s,e._jsonParse);if(e.__retryHttpDNS__){void 0===s.profile&&(s.profile={});var c=s.profile.domainLookUpStart-s.profile.fetchStart;s.profile.domainLookUpStart=e.lastRequestStartTime,s.profile.fetchStart=e.lastRequestStartTime-c,nw({url:e.lastUrl,result:0,fullCost:Date.now()-r,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}var u=e.accelerateOptions.accelerateType;if(s.accelerateType=c_[u],u===l_.accelerate){if(s.statusCode>=400){var{args:d,innerArgs:p}=h_({options:e,res:s,task:this});return _E(d,p),{__retry__:!0}}var h=u_(s);s.accelerateRequestId=h}else if(u===l_.liteGatewayAcc&&s.header&&s.header["x-wx-system-error"]){var{args:f,innerArgs:g}=VT({options:e,res:s,task:this});return _E(f,g),{__retry__:!0}}return JT(s,o,e),s},beforeFail(s){var l,c=!1;if(e.enableHttpDNS&&(s.useHttpDNS=!!e.ip),o.isSuccess=!1,JT(s,o,e),s.errMsg&&GT.test(s.errMsg)){var u=!0,d=Date.now()-e.startTimestamp,p="number"==typeof e.timeout?e.timeout:6e4;if(d>p&&(u=!1),u){var h,f=e.__retryHttpDNS__;if(null!==(h=e.candicateIps)&&void 0!==h&&h.length){var g=e.exception;g||(g=[]),g.push({errno:600001,errmsg:s.errMsg});var v=e.candicateIps[0],m=e.candicateIps.slice(1);return _E(e.originArgs,{__innerRequestOptions__:{ip:v,candicateIps:m,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:p-d,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:g,__retryHttpDNS__:f,redirect:e.redirect},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var b=e.exception;return b||(b=[]),b.push({errno:600001,errmsg:s.errMsg}),_E(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:p-d,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:b,__polyfill_ldns__:!0,__retryHttpDNS__:f,redirect:e.redirect}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.accelerateOptions.accelerateType===l_.accelerate){var{args:_,innerArgs:w}=h_({options:e,res:s,task:this});return _E(_,w),{__retry__:!0}}if(e.accelerateOptions.accelerateType===l_.liteGatewayAcc){var{args:S,innerArgs:C}=VT({options:e,res:s,task:this});return _E(S,C),{__retry__:!0}}if(e.__retryHttpDNS__){var k;nw({url:e.lastUrl,result:1,fullCost:Date.now()-r,pointCacheType:e.hitCache,errMsg:s.errMsg,errno:s.errno,host:e.lastHost,cost:null!==(k=e.weHttpDNSCoast)&&void 0!==k?k:-1}),c=e.lastErrorResponse}else{var I,P=e.exception;if(ET(s,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:s,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(I=e.retryCount)&&void 0!==I?I:0,exception:P}))return{__retry__:!0,__freehttpdns__:!0}}try{IT(e,s,{uuid:t,invokeTime:r,networkType:n,routePath:i})}catch(e){y.error("checkAndReportError error:",e)}(a||e.exception)&&(l={reasons:a||e.exception},(null==e?void 0:e.retryCount)>0&&(l.retryCount=e.retryCount));return c?{__changeError__:{...c,exception:l}}:s}}),this.taskInvoker&&this.taskInvoker.jsapiVersion&&(o.jsApiVersion=this.taskInvoker.jsapiVersion)}}function JT(e,t,r){var n=Date.now();if(zT--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var i=e.clientInfo;t.wxdataQueueTimestamp=i.invokeTime,t.wxdataDequeueTimestamp=i.invokeTime,t.beginCGITimestamp=i.beginCGITimestamp,t.CGICallbackTimestamp=i.CGICallbackTimestamp,t.wxlibCallbackTimestamp=i.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo}}function XT(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}function YT(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}function QT(e){e.statusCode=parseInt(e.statusCode,10)}function ZT(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}const eE=KT;var tE=new WeakMap;class rE{constructor(){var e,t=new Promise((t=>{e=t}));tE.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=tE.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=tE.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=tE.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=tE.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=tE.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=tE.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=tE.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}var nE=(e,t)=>{var{resolve:r}=tE.get(e);r(t)},iE={},aE=3e4,oE=!1;function sE({args:{url:e,__wx_inner_invokeTime__:t},host:r,needHttpdns:n=!1,options:{__retryHttpDNS__:i,lastErrorResponse:a,__refuseDns__:o=!1}}){var s,l;if((i||n)&&!o)if((null===(s=iE[e])||void 0===s?void 0:s.count)>=4)nw({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r});else if(!Oy()){if(oE){var c=b_(r);if(c&&!1===c.expired)return l=c.ip,{host:r,ip:l,hitCache:1}}var u=Date.now();return y_(r,void 0,!0).then((e=>{l=e.ip;var t=e.hitCache?2:0,n=Date.now()-u;return{host:r,ip:l,banHttpDNS:!0,weHttpDNSCoast:n,hitCache:t}})).catch((n=>{if(602107!=n.errno){iE[e]?iE[e].count++:iE[e]={count:1};var i=setTimeout((()=>{delete iE[e]}),aE);iE[e].cf&&clearTimeout(iE[e].cf),iE[e].cf=i}throw nw({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:n.errMsg||n.message||n.msg,errno:n.errno,host:r}),a}))}}(Ie||ke)&&(oE=!0);var lE=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):xP().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork})),cE=e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,r,n=0;n<e.length;n++){if(r=e[n],"."===t&&"."===r)return!0;t=r}return!1};function uE({host:e}){if(cE(e))throw new Error(`invalid host: ${e}`)}var dE=!1;function pE({host:e}){var t,r;return dE?(null!==(t=tb[e])&&void 0!==t&&t.needUpdateDns&&(tb[e].doingDns||(tb[e].doingDns=!0,_E({url:`${tb[e].protocol}//${e}`,timeout:5e3,complete(){tb[e].doingDns=!1,tb[e].needUpdateDns=!1}},{__refuseDns__:!0})),r=!0),{needHttpdns:r}):{needHttpdns:!1}}re.onReady((()=>{1===Number(re.expt.clicfg_appbrand_ios_dns_polyfill)&&(dE=!0)}));class hE{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var r=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new rE;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();nE(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:Hc({name:"request",args:e,errno:Dn,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:n,method:i,port:a,responseType:o,dataStr:s,options:l,forbidReuse:c,currentRequestStartTime:u,lastRequestStartTime:d,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,candicateIps:y,startTimestamp:b,timeout:_,protocol:w,compatUrls:S,rawHttpDnsError:C,retryCount:k,exception:I,__polyfill_ldns__:P,accelerateOptions:A}=this.innerParams;try{return new eE(Object.assign({},e,{header:n,method:i,responseType:o,data:s,ip:r,host:t,port:a,forbidReuse:c,currentRequestStartTime:u,lastRequestStartTime:d,originArgs:e,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,__skipDomainCheck__:A.accelerateType===l_.accelerate||A.accelerateType===l_.liteGatewayAcc||l.__skipDomainCheck__,candicateIps:y,startTimestamp:b,timeout:_,protocol:w,compatUrls:S,rawHttpDnsError:C,retryCount:k,exception:I,__polyfill_ldns__:P,accelerateOptions:A}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var fE=(e={})=>(t={},r={})=>gE(Object.assign({},e,r))(t),gE=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1,__refuseDns__:!1,__retryAccelFallback__:!1},e),function(t={}){var r;if(t.url){try{r=Xb(t.url)}catch(e){return void Hc({name:"request",args:t,errno:oa,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===r.protocol||"https:"===r.protocol)if("function"!=typeof t.data){Cf("skipDomainCheck")&&(e.__skipDomainCheck__=!0);var n=new hE({args:t,options:e});if(n.catch((e=>{zc("request",t,e.message||e.errMsg,e.errno)})).use(Vb(r)).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:r.host,protocol:r.protocol,compatUrls:{port:r.port||("http:"===r.protocol?80:443),host:r.hostname,url:`${r.hostname||""}${r.pathname||""}${r.search||""}${r.hash||""}`}})).use(pE).use(uE).use(r_.bind(this)).use(p_).use(sE).use(S_).use(lE).use(qT).useAfterAsyncTasks(C_),n.catchFn)return n.execute(t)}else Hc({name:"request",args:t,errno:sa,errMsg:"data should not be Function",success:!1});else Hc({name:"request",args:t,errno:oa,errMsg:`invalid url "${t.url}"`,success:!1})}else Hc({name:"request",args:t,errno:Hn,errMsg:`invalid url "${t.url}"`,success:!1})}),vE=gE({__skipDomainCheck__:!1}),mE=gE({__skipDomainCheck__:!0}),yE=gE({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),bE=fE({__retryHttpDNS__:!0}),_E=fE(),wE=function(e={}){var t=getPluginId(this);if(checkPluginPermissionSync(t,"useRequest"))return mE.call(this,e);beforeInvokeFail("request",e,"no permission")},SE=void 0,CE=void 0;re.onReady((()=>{var e="clicfg_appbrand_ios_enable_jsopdata_mock";Tf({experimentId:e,experimentType:"Expt",success:e=>{var t;e&&((null===(t=e.testConfig)||void 0===t?void 0:t.length)>10&&(SE=e.testConfig))},fail(t){y.error(e,"failed",t)}})}));var kE=()=>new Promise(((e,t)=>{if(CE)return e(CE);var r;"string"==typeof SE&&SE.endsWith("?openid=")&&(r=`${SE}${re.appLaunchInfo.openId}`),r?mE({url:r,success(r){try{var n=JSON.parse(r.data.data);CE=n,e(n)}catch(e){console.error("get operateWXData mock config error: ",e),t(e)}},fail(e){t(e)}}):t("empty request url")})),IE=()=>!!SE,PE=new Set(["webapi_getadvert","advert_report","webapi_advideo_report","webapi_adfollow_report","webapi_wxahttpdns_getfreehostip"]),AE=(()=>JSON.parse)(),xE=(e,t=!1,r=!1)=>({keepAlive:n,apiName:i="",reqData:a,sdkApiName:o="operateWXData",pluginId:s,success:l,fail:c,complete:u,fromComponent:d=!1,withCredentials:p=!1,showConfirm:h=!1,timeout:f=6e4,fromSaaADataPipe:g=!1,saaaMock:v=!1,contextId:m,reserveDataString:b=!1,showApiVersion:_=!1,showProfile:w=!1,priority:S,reqDataList:C=[],batchType:k=0,adExtra:I}={})=>{if(!Oe||g||v){var P={success:l,fail:c,complete:u},A={api_name:i,data:a||{},operate_directly:e};"string"==typeof s&&(A.plugin_appid=s),!0===d&&(A.from_component=!0),!0===p&&(A.with_credentials=!0),!0===h&&(A.show_confirm=!0),A.fromSaaADataPipe=g;var x=0;r&&(A.batch_type=1001,A.data_list=C,x=k);var T=IE(),E=()=>{fy({keepAlive:n,data:A,timeout:f,contextId:m,saaaMock:v,priority:e?S:void 0,success(t){if("string"==typeof t.data)try{t.data=AE(t.data)}catch(e){if(t.reportObj){var n=Date.now();t.reportObj.LibParseCost=n-t.reportObj.onJsCallbackTimestamp,t.reportObj.TotalCost=n-t.reportObj.invokeTime,t.reportObj.isSuccess=!1,t.reportObj.errMsg=`json parse error, json="${t.data}"`,t.reportObj.errno=fi,ny(t.reportObj)}return void Hc({name:o,args:P,errno:fi,errMsg:`json parse error, json="${t.data}"`,success:!1})}var{data:i={},reportObj:a={}}=t;delete t.data,delete t.reportObj;var{data:s,encryptedData:c,iv:d,cloud_id:p,err_no:h,signature:f,errmsg:v,quic_bytes:m,item_list:_}=i;if(delete i.quic_bytes,delete i.item_list,a.QuicBytes="number"==typeof m?m:0,e)void 0!==s&&(t.rawData=s),t.respData=i;else if("string"==typeof s)if(b)t.data={data:s};else try{t.data=AE(s)}catch(e){var S=Date.now();return a.LibParseCost=S-a.onJsCallbackTimestamp,a.TotalCost=S-a.invokeTime,a.isSuccess=!1,a.errMsg=`json parse error, json="${s}"`,a.errno=fi,ny(a),void Hc({name:o,args:P,errno:fi,errMsg:`json parse error, json="${s}"`,success:!1})}else t.data={};f&&(t.signature=f),c&&(t.encryptedData=c,t.iv=d,p&&(t.cloudID=p)),r&&_&&(_.forEach((e=>{try{"string"==typeof e.resp&&e.resp?(e.resp=AE(e.resp),"string"==typeof e.resp.data&&e.resp.data&&(e.resp.data=AE(e.resp.data))):e.resp={}}catch(t){y.error("batch operatewxdata parse item error",t.message),e.resp={}}})),t.item_list=_);var C=Date.now();a.LibParseCost=C-a.onJsCallbackTimestamp,a.TotalCost=C-a.invokeTime,a.errno=h,ny(a),g?(i.base_resp?0!==i.base_resp.ret?zc(o,P,i.base_resp.ret):(t.logicRet=i.logic_ret,t.logicErrmsg=i.logic_errmsg,"function"==typeof l&&l(t),"function"==typeof u&&u(t)):zc(o,P,-1),"function"==typeof l&&l(t),"function"==typeof u&&u(t)):"number"==typeof h&&0!==h?Hc({name:o,args:P,errno:h,errMsg:v,success:!1}):(w&&(t.profile={TotalCost:a.TotalCost,JsToClientCost:a.JsToClientCost,QueueCost:a.QueueCost,ChildToMainProcessCost:a.ChildToMainProcessCost,MMNetCost:a.MMNetCost,MainToChildProcessCost:a.MainToChildProcessCost,ClientToJsCost:a.ClientToJsCost,MarsPackCost:a.MarsPackCost,MarsConnCost:a.MarsConnCost,MarsTLSCost:a.MarsTLSCost,MarsNetCost:a.MarsNetCost,MarsUnPackCost:a.MarsUnPackCost,LibParseCost:a.LibParseCost,ProtocolType:a.ProtocolType}),"function"==typeof l&&l(t),"function"==typeof u&&u(t))},fail(e){var t=Date.now();e.reportObj.LibParseCost=t-e.reportObj.onJsCallbackTimestamp,e.reportObj.TotalCost=t-e.reportObj.invokeTime,ny(e.reportObj),delete e.reportObj,"function"==typeof c&&c(e),"function"==typeof u&&u(e)}},{beforeAll(e){"operateWXData"!==o&&(e.errMsg=e.errMsg.replace("operateWXData",o))}},{showApiVersion:_,showProfile:w,fromWebview:t,batchType:x,sdkApiName:o,adExtra:I})};T?kE().then((t=>{var r=t[i];if(r){var n=!1,s={},c=!1;try{if(s.data=JSON.parse(r),Array.isArray(s.data))e:for(var d of s.data){var p=d.__mock_inner_args__;if(!p){s.data=d.data,c=!0;break e}var h=!0;for(var f in p)if(a[f]!==p[f]){h=!1;break}if(h){s.data=d.data,c=!0;break e}}else s.data=s.data.data,c=!0}catch(e){console.error(`你使用了 ${i} 这个数据管道的mock，在parse出现错误`,e),n=!0}if(c||(n=!0),!n){console.error(`你使用了 ${i} 这个数据管道的mock，res为`,s);var{data:g,encryptedData:v,iv:m,cloud_id:y,err_no:b,signature:_,errmsg:w}=s.data;return e&&(void 0!==g&&(s.rawData=JSON.stringify(g)),s.respData=g),_&&(s.signature=_),v&&(s.encryptedData=v,s.iv=m,y&&(s.cloudID=y)),void("number"==typeof b&&0!==b?Hc({name:o,args:P,errno:b,errMsg:w,success:!1}):("function"==typeof l&&l(s),"function"==typeof u&&u(s)))}}E()})):E()}else zc("createOperateWXData",{apiName:i,success:l,fail:c,complete:u},o+" fail: SDK暂不支持operateWXData API")},TE=xE(!1),EE=wg(TE),ME=xE(!1,!1,!0),RE=xE(!1,!0),OE=xE(!1,!0,!0),DE=xE(!0),LE=(()=>Object.assign)();function NE(e,t,r=(()=>{}),n=(()=>{})){return(i={})=>{var{success:a,fail:o}=Kc(i,e);TE({apiName:t,reqData:r(i)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,LE(e,e.rawDataObject),n(e),delete e.rawDataObject,a(e)},fail:o,complete:void 0})}}function BE(e,t){var{initEventCallbackReport:r,eventCallbackBegin:n,eventCallbackEnd:i}=g.callbackReporter;return function(){r();var a=n(),o=e.apply(this,arguments);return a&&i(t,a,o),o}}function $E(e,t){var{initJsapiCallbackReport:r,jsapiCallbackBegin:n,jsapiCallbackEnd:i}=g.callbackReporter;return function(){r();var a=n(0,t),o=e.apply(this,arguments);return a&&i(t,a.jsHandleBegin,!1,o),o}}var jE={invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,startFacialEncryptionVerify:null,startFacialEncryptionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,isBluetoothDevicePaired:null,openBluetoothAdapter:null,openBluetoothAdapterBackground:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,startMonitoringBluetoothDevice:null,stopMonitoringBluetoothDevice:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,getMonitoredBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,setBluetoothBackgroundMode:null,getBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onMonitoredBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,onBLEMTUChange:null,offBLEMTUChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offMonitoredBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onWifiConnectedWithPartialInfo:null,offGetWifiList:null,offWifiConnected:null,offWifiConnectedWithPartialInfo:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,requestSubscribeDeviceMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null,publishWeChatState:null,chooseLicensePlate:null,openSystemBluetoothSetting:null,openAppAuthorizeSetting:null,getSystemSetting:null,getAppAuthorizeSetting:null,getDeviceInfo:null,getWindowInfo:null,getAppBaseInfo:null,openEmbeddedMiniProgram:null};const FE=jE;var WE={invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,startFacialEncryptionVerify:20,startFacialEncryptionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,openChannelsUserProfile:30,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:10,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10,publishWeChatState:20,chooseLicensePlate:20,openSystemBluetoothSetting:30,openAppAuthorizeSetting:30,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,openEmbeddedMiniProgram:30};const UE=WE;var VE={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,requestSubscribeDeviceMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,isBluetoothDevicePaired:1,openBluetoothAdapter:1,openBluetoothAdapterBackground:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,startMonitoringBluetoothDevice:1,stopMonitoringBluetoothDevice:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,getMonitoredBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,setBluetoothBackgroundMode:1,getBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onMonitoredBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,onBLEMTUChange:3,offBLEMTUChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offMonitoredBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onWifiConnectedWithPartialInfo:3,offGetWifiList:3,offWifiConnected:3,offWifiConnectedWithPartialInfo:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1,publishWeChatState:1,chooseLicensePlate:1,openSystemBluetoothSetting:1,openAppAuthorizeSetting:1,getSystemSetting:1,getAppAuthorizeSetting:1,getDeviceInfo:1,getWindowInfo:1,getAppBaseInfo:1,openEmbeddedMiniProgram:1};const qE=VE;var zE={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,addToDesktop:50,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:40,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,isBluetoothDevicePaired:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,requestSubscribeDeviceMessage:10,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:0,openChannelsActivity:0,openChannelsUserProfile:0,openChannelsLiveCollection:0,openChannelsEvent:0,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40,publishWeChatState:40,openCustomerServiceChat:40,chooseLicensePlate:40,openSystemBluetoothSetting:40,openAppAuthorizeSetting:40,getSystemSetting:0,getAppAuthorizeSetting:0,getDeviceInfo:0,getWindowInfo:0,getAppBaseInfo:0,openEmbeddedMiniProgram:0,addAccountCard:20,openHKOfflinePayView:20,openOfficialAccountArticle:40};const GE=zE;var HE={invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:2,reLaunch:1,navigateTo:2,switchTab:2,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10};const KE=HE;var JE={invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10,quicklyAddBrandContact:1};const XE=JE;var YE={openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,onBluetoothDeviceFound:10,onBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBluetoothAdapterStateChange:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,getConnectedBluetoothDevices:10,getBluetoothDevices:10,getBluetoothAdapterState:10,writeBLECharacteristicValue:10,setBLEMTU:10,readBLECharacteristicValue:10,onBLEMTUChange:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBLEMTUChange:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,notifyBLECharacteristicValueChange:10,getBLEMTU:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,createBLEConnection:10,closeBLEConnection:10,setBluetoothBackgroundMode:10,getMonitoredBluetoothDevices:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,onMonitoredBluetoothDeviceFound:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,createBLEPeripheralServer:10,setStorageSync:10,setStorage:10,removeStorageSync:10,removeStorage:10,getStorageSync:10,getStorage:10,getStorageInfoSync:10,getStorageInfo:10,clearStorageSync:10,clearStorage:10,request:10,login:10,getSystemInfo:10,getSystemInfoSync:10,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,getAccountInfoSync:10,onAppShow:10,onAppHide:10,base64ToArrayBuffer:10,arrayBufferToBase64:10,version:10,cloud:10},QE=Object.create(null);Object.assign(QE,YE);const ZE=QE;var eM=Object.create(null);Object.assign(eM,{sample:FE,ui:UE,log:qE,tap:GE,singlePage:KE,thirdApp:XE,background:ZE});var tM=(e,t)=>eM[t][e],rM=(e,t)=>{var r=eM[e],n=[];return Object.entries(r).forEach((([e,r])=>{r===t&&n.push(e)})),n},nM=!1,iM=null;function aM(e,t){"tap"===e&&(nM=!0,iM=t)}function oM(){setTimeout((()=>{nM=!1,iM=null}),0)}function sM(){return Ue()?nM:nM||vr.checkTapMark()||M.checkTapMark()}function lM(){return Ue()?iM:iM||vr.checkTapSource()||M.checkTapSource()}function cM(e){var t=tM(e,"thirdApp");return 0!==t&&1!==t||!Fe()||1===t&&sM()&&md("showToast",{icon:"",title:"暂不支持当前功能",duration:2500}),!0}var uM=null;function dM(){var e;return null===uM?!(null===(e=re.appLaunchInfo)||void 0===e||!e.inBackground):uM}function pM(e){uM=e}function hM(){return uM}function fM(e,t){var r=Qh(),n=[r.scene||0,r.scene_note||r.sceneNote||"",e||0,t||Date.now()].map(encodeURIComponent).join(",");T.reportKeyValue({key:"ClickWechatAppPreviewPage",value:n})}var gM=!1;function vM(e){Mg()&&(gM=e)}function mM(){Mg()&&(fM(1),T.submit())}function yM(){en("onSinglePageTap",(e=>{if(Mg()){var t=e.toast||gM;gM=!1,fM(t?3:2,e.ts)}}))}class bM{constructor(){this.blocking=!1,this.pendingRequests=[]}flushPendingRequests(){for(;this.pendingRequests.length;){var e=this.pendingRequests.shift();if(this.routeRequest(e),this.blocking)return}}routeRequest(e){if(this.blocking)return y.info("[RouteScheduler] routeRequest blocked",e.name,e.args),void this.pendingRequests.push(e);y.info("[RouteScheduler] routeRequest applied",e.name,e.args),e.requestFunc(),this.blocking=!!e.blockUntilFinished}isBlocking(){return this.blocking}block(){this.blocking=!0}unblock(){y.info("[RouteScheduler] unblock RouteRequests"),this.blocking=!1,this.flushPendingRequests()}}var _M=new bM;function wM(e,t,r){var n=t.replace(/\.html\?.*|\.html$/,"");return!!br.hasPageRoute(n)||(zc(e,r,`page "${Xd(t)}" is not found`),!1)}function SM(e,t,r){var n=Te?uu.lastActiveRoute:uu.lastRoute,i=void 0===t._relativePath?n:t._relativePath;y.info(`[normalizeUrl] APIName=${e}, url=${t.url}, _relativePath=${t._relativePath}, lastRoute=${n}`);try{return fp(i,t.url,!r)}catch(n){if(!(n instanceof Vd))throw n;if(!r){if(!vp(i,t.url))return t.url;zc(e,t,n.message)}}return""}var CM=ir("AppPerfRouteNavigation");function kM(e){return"wxpage://"===mp(e)}function IM(e,t,r){return!!kM(t)||(!vp(void 0===r._relativePath?uu.lastRoute:r._relativePath,t)||/^__wx__\//.test(t)||wM(e,t,r))}function PM(e,t){var r=SM(e,t,!0);if(!r)return!0;var n=bu(r),i=hu[Ig(e).toUpperCase()],a=!0,o="",s=pu.OK;if(n>-1){var l=yu[n];(o=l.redirect_url)&&1===l.is_valid?(zc(e,t,"url has been banned"),WC("openUrl",{url:o}),s=pu.BLOCK,a=!1):o&&1!==l.is_valid&&(s=pu.NO_BLOCK)}return ku(e,s,i,o,r),a}var AM=!1;function xM(e,t){return!AM||(zc(e,t,"current operation was banned."),!1)}function TM(e=0){AM=!0,setTimeout((()=>AM=!1),e)}var EM=(e={})=>{if(xM("navigateBack",e=Object.assign({},e))){var t=e._webviewId;if(void 0!==t){e.delta=void 0;var r=br.getPageMetaByWebviewId(t);if(r){var n=r.framesetViewId;e.viewId=n}}if("number"!=typeof e.delta?e.delta=1:(e.delta=parseInt(e.delta,10),e.delta<1&&(e.delta=1)),"function"==typeof br.getCurrentPagesByDomain)if(br.getCurrentPagesByDomain("").length<=1)return void zc("navigateBack",e,"cannot navigate back at first page.");e.singlePageData={};var i=Date.now();md("navigateBack",e,{beforeSuccess(){O.traceRoute("navigateBack")},afterFail(){_M.unblock(),O.traceRoute("navigateBack"),CM.emit({type:"navigateBack",start:i,routeFail:!0})}}),CM.emit({type:"navigateBack",start:i})}},MM={};class RM{constructor(){this.listener={},this.emitCache={}}emit(e,...t){if(!this.listener[e])return this.emitCache[e]||(this.emitCache[e]=[]),void this.emitCache[e].push(t);(()=>{for(var r of this.listener[e])r.fn.call(r.fn,...t);this.listener[e]=this.listener[e].filter((e=>"once"!==e.type))}).call(this)}_clearCache(e){if(this.emitCache[e])for(;this.emitCache[e].length>0;)this.emit(e,...this.emitCache[e].shift())}on(e,t){var r=x.surroundThirdByTryCatch(t,`at on ${e} callback function`);this._addListener(e,"on",r),this._clearCache(e)}once(e,t){var r=x.surroundThirdByTryCatch(t,`at once ${e} callback function`);this._addListener(e,"once",r),this._clearCache(e)}off(e,t){if(this.listener[e])if(t){var r=t.toString();for(var n in this.listener[e])for(var i=0;!(i>=this.listener[e].length);)r===this.listener[e][i].fn.toString()&&(this.listener[e].splice(i,1),i--),i++}else this.listener[e]=[],delete this.listener[e]}_addListener(e,t,r){this.listener[e]||(this.listener[e]=[]),this.listener[e].push({fn:r,type:t})}}var OM=new WeakMap;function DM(e){OM.set(e,MM),MM={}}function LM(e){return OM.get(e)}function NM(){var e=new RM,t=new RM,r={},n=["listener","emit","on","once","off","_addListener"];for(var i of n)"emit"===i?r[i]=t[i].bind(t):"function"==typeof e[i]?r[i]=e[i].bind(e):r[i]=e[i];for(var a of n)"emit"===a?MM[a]=e[a].bind(e):"function"==typeof t[a]?MM[a]=t[a].bind(t):MM[a]=t[a];return r}var BM=e=>{if(Vc("navigateTo",e,{url:""})&&PM("navigateTo",e)&&xM("navigateTo",e)){var t=SM("navigateTo",e,!1);if(t){e.url=t,e.url=op(e.url);var r={routeType:e.routeType||"",routeConfig:e.routeConfig||{},routeOptions:e.routeOptions||{}};if(e.singlePageData=r,uu.singlePageData=r,IM("navigateTo",e.url,e)){var n=NM();if(e.events)for(var i of Object.keys(e.events))n.on(i,e.events[i]);var a=()=>{var t=Date.now();md("navigateTo",e,{afterFail(){_M.unblock(),O.traceRoute("navigateTo",e.url,!1),CM.emit({type:"navigateTo",start:t,routeFail:!0})},beforeSuccess(t){O.traceRoute("navigateTo",e.url),t.eventChannel=n}}),CM.emit({type:"navigateTo",start:t})};1!==Fx()?a():Zx().then((e=>{rT(1,e)})).finally((()=>{a()}))}}}},$M=e=>{br.DisplayReporter.setEventRelatedInfo(e._relatedInfo),BM(e)},jM=e=>{if(Vc("redirectTo",e,{url:""})&&PM("redirectTo",e)&&xM("redirectTo",e)){var t=SM("redirectTo",e,!1);if(t&&(e.url=t,e.url=op(e.url),IM("redirectTo",e.url,e))){e.singlePageData={};var r=()=>{var t=Date.now();md("redirectTo",e,{afterFail(){_M.unblock(),O.traceRoute("redirectTo",e.url,!1),CM.emit({type:"redirectTo",start:t,routeFail:!0})},beforeSuccess(){O.traceRoute("redirectTo",e.url)}}),CM.emit({type:"redirectTo",start:t})};1!==Fx()?r():Zx().then((e=>{rT(3,e)})).finally((()=>{r()}))}}},FM=e=>{if("active"===uu.runningStatus||"ios"!==Se){if(Vc("reLaunch",e,{url:""})&&PM("reLaunch",e)&&xM("reLaunch",e)){var t=SM("reLaunch",e,!1);if(t&&(e.url=t,e.url=op(e.url),IM("reLaunch",e.url,e))){var r=Date.now();md("reLaunch",e,{afterFail(){_M.unblock(),O.traceRoute("reLaunch",e.url,!1),CM.emit({type:"reLaunch",start:r,routeFail:!0})},beforeSuccess(){O.traceRoute("reLaunch",e.url)}}),CM.emit({type:"reLaunch",start:r})}}}else zc("reLaunch",e,"can not invoke reLaunch in background")},WM=(e={})=>{if(Vc("switchTab",e,{url:""})&&(/\?.*$/.test(e.url)&&(console.warn("wx.switchTab: url 不支持 queryString"),e.url=e.url.replace(/\?.*$/,"")),PM("switchTab",e)&&xM("switchTab",e))){var t=SM("switchTab",e,!1);if(t&&(e.url=t,e.url=op(e.url),IM("switchTab",e.url,e))){var r=()=>{var t=Date.now();md("switchTab",e,{afterFail(){_M.unblock(),O.traceRoute("switchTo",e.url,!1),CM.emit({type:"switchTab",start:t,routeFail:!0})},beforeSuccess(){O.traceRoute("switchTo",e.url)}}),CM.emit({type:"switchTab",start:t})};1!==Fx()?r():Zx().then((e=>{rT(2,e)})).finally((()=>{r()}))}}},UM=(e,t)=>{var r={_relativePath:e,_webviewId:t};return{navigateTo(e){BM(Object.assign({},e,r))},redirectTo(e){jM(Object.assign({},e,r))},switchTab(e){WM(Object.assign({},e,r))},navigateBack(e){EM(Object.assign({},e,r))},reLaunch(e){FM(Object.assign({},e,r))}}},VM=new Qt;qt("onPageReload",((e={},t=0)=>{e.webviewId=t,VM.emit("onPageReload",e)}));var qM=function(e){VM.on("onPageReload",(t=>{t.path&&(t.path=Xd(t.path)),"function"==typeof e&&e(t)}))},zM=function(e){VM.emit(`onBeforeUnloadPage_${e}`,e),VM.removeAllListeners(`onBeforeShareAppMessage_${e}`),VM.removeAllListeners(`onBeforeCopyUrl_${e}`),KM(e)},GM={},HM=(e,t)=>(GM[e]=GM[e]||{},!!GM[e][t]||(GM[e][t]=!0,!1)),KM=e=>{delete GM[e]},JM=0,XM=function(e,t,r){var n=r;n||(n=JM++),HM(e,n)||VM.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},YM=function(e){VM.emit(`onBeforeShareAppMessage_${e}`,e)},QM=function(e,t){VM.on(`onBeforeShareAppMessage_${e}`,(e=>{"function"==typeof t&&t(e)}))},ZM=function(e){VM.emit(`onBeforeCopyUrl_${e}`,e)},eR=function(e,t){VM.on(`onBeforeCopyUrl_${e}`,(e=>{"function"==typeof t&&t(e)}))},tR=qM,rR=zM,nR=YM,iR=Zc(BM),aR=Zc(jM),oR=Zc(WM),sR=void 0,lR=e=>{JSON.stringify(e),sR=e},cR=function(){var e=xd()((function*(e){try{Kr("syncHighlightBottomBanner",{highlighted:!0}),yield uR({navigateInfo:e})}catch(e){}}));return function(t){return e.apply(this,arguments)}}(),uR=function(){var e=xd()((function*(e={}){try{yield yd("highlightBottomBanner",{shouldHighlight:!0}),lR(e.navigateInfo)}catch(e){md("showToast",{icon:"",title:"请前往小程序使用完整服务",duration:2500}),vM(!0)}}));return function(){return e.apply(this,arguments)}}();en("highlightBottomBanner",function(){var e=xd()((function*(e){try{yield uR(e)}catch(e){}}));return function(t){return e.apply(this,arguments)}}()),en("cancelHighlightBottomBanner",(()=>{lR(null),md("highlightBottomBanner",{shouldHighlight:!1})})),qt("onBottomBannerButtonClicked",((e={})=>{mM(),md("restart",{url:e.currentPath,scene:1155,privateExtraData:{singlePageNavigationInfo:sR},fail(e){y.error("restart fail",e)}})}));var dR=e=>new Promise((t=>setTimeout(t,e)));re.onReady(xd()((function*(){try{var e,t,r,n=null==re||null===(e=re.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t||null===(r=t.privateExtraData)||void 0===r?void 0:r.singlePageNavigationInfo;if(!n)return;yield dR(500);var{type:i,url:a,_relativePath:o}=n;switch(i){case"navigate":case"navigateTo":yield iR({url:a,_relativePath:o});break;case"redirect":case"redirectTo":yield aR({url:a,_relativePath:o});break;case"switchTab":yield oR({url:a,_relativePath:o})}}catch(e){}})));var pR=!1;function hR(e){pR=!!e.state,e.success&&e.success({state:pR})}function fR(e,t,r){cM(e);var n=tM(e,"ui");if(n>0&&pR)return!1;if(n>=20)if(void 0===br){if(t)return!1}else{var i=gp(br.getCurrentRoute()||"");if("//"===i)return!1;if(i!==t&&n>=30)return!1;if(uu.openingInnerPage)return!1}var a=tM(e,"singlePage")||0;if(10!==a&&Mg())switch(a){default:case 0:return!1;case 1:case 2:return!!sM()&&(Rg()?md("highlightTitleForSinglePage"):cR(2===a?{type:e,url:null==r?void 0:r.url,_relativePath:void 0===(null==r?void 0:r._relativePath)?uu.lastRoute:null==r?void 0:r._relativePath}:void 0),!1)}return 10===tM(e,"background")||!g.isStarted||!dM()}function gR(){}const vR={};var mR=e=>{if(!Array.isArray(e))return null;var t=1,r=e.map((e=>{var{api:r,rule:n}=e;return n.thisDeep=!0,{key:t++,type:"If",if:{compare:"eq",right:r},withRely:[...bR(n)]}}));_R={schemaVersion:"1.0.0",object:{conditions:r},string:{conditions:null}}},yR=(e,t)=>({type:"If",if:{compare:"eq",right:0===t?"req":"res"},withRely:[e],thisDeep:!0}),bR=(e={})=>{var t=[e.req,e.res].map(((e,t)=>e?yR(e,t):null)).filter((e=>null!==e));return t},_R,wR,SR={},CR=(e,t)=>{if(!SR[e])return Promise.resolve(!1);var r=sh().runTask("resolveApiFullRule",{rules:wR?null:_R,data:{[e]:t},appid:re.accountInfo.appId});return wR||(wR=!0),r.then((e=>e.result))},kR=e=>{var t=[];Object.entries(e).forEach((([e,r])=>{r.rule&&(t.push({api:e,rule:r.rule}),SR[e]=!0)})),mR(t)},IR=e=>e.key?e.key+"."+e.val:"STR_"+e.val,PR=e=>{var t=IR(e);return{key:"userCustom:"+t,type:"Pat",url:e.url,test:{test:e.key,flag:e.flag||""},withRely:[{key:"userCustomWR:"+t+"_val",type:"Pat",test:{test:e.val,flag:e.flag||""}}]}},AR=e=>{var t;return{key:"userCustom:"+("string"!=typeof e?IR(e):"STR_"+e),type:"Pat",url:null==e?void 0:e.url,test:{test:"string"==typeof e?e:e.val,flag:"string"==typeof e?"i":null!==(t=e.flag)&&void 0!==t?t:"i"}}},xR=e=>{var t=e.rules.map((e=>PR(e))),r=e.strRules.map((e=>AR(e))),n={};return Object.keys(e.priority).forEach((t=>{n["userCustom:"+t]=e.priority[t]})),{object:{conditions:t},string:{conditions:r},priorities:n,schemaVersion:"9.9.99"}},TR,ER=e=>{TR=e},MR=()=>TR,RR,OR,DR=new Promise(((e,t)=>{RR=e,OR=t})).catch((e=>{})),LR=()=>DR,NR=()=>{EE({apiName:"webapi_getwxaqualityossrule",reqData:{type_list:[1]}}).then((e=>{var t,r,n=null===(t=e.data)||void 0===t||null===(r=t.quality_oss_rule)||void 0===r?void 0:r.public_lib_rule;ER(n),RR(n)})).catch((e=>{OR()}))};re.onReady((()=>{Cf("WxaQualityOssRuleConfig")?NR():OR()}));var BR=_S(),$R="wxfile://ad",jR=`${$R}/sdk_dynamic_item.json`,FR=6048e5,WR=864e5,UR={},VR=.05,qR=Math.random,zR=()=>{try{var e=void 0!==a&&a?a.version:"unknown";return DT(e,"2.22.1")?"2230_":DT(e,"2.21.4")?"2215_":""}catch(e){return""}},GR=wg(BR.readFile),HR=wg(BR.writeFile);re.onReady((()=>{if(!g.env.isMagicBrushFrameEnv){var e=zR()+"WeAppRequestError",t=zR()+"ApiReportStrategy",r="weAppRequestErrorOpenStrategy",n="weQualityConfig",i={[t]:FR,[e]:WR,[r]:FR,[n]:WR},a={[t]:null,[e]:null,[r]:null,[n]:null};GR({filePath:jR,encoding:"utf-8"}).then((e=>{Cf("disableBusinessConfigCache")||(e=JSON.parse(e.data),Object.keys(e).forEach((t=>{Date.now()-e[t].cache_time>=i[t]||(a[t]=e[t])})))})).catch((()=>{})).finally((()=>{if(void 0!==g){var i=[];(o=[e,r,t,n].filter((e=>(a[e]&&i.push(e),!a[e]))),o.length?EE({apiName:"webapi_getwxabusinessconfig",reqData:{get_type:2,business_name:"WxaServiceQualityOss",item_name_list:o}}):Promise.resolve({data:{conf_item_list:[]}})).then((o=>{try{var s,l=o.data.conf_item_list;i.forEach((e=>{l.push({item_name:e,item_info:a[e].cache_info})}));try{l&&(l.forEach((e=>{switch(e.item_name){case t:try{var i=JSON.parse(e.item_info);UR=i,kR(i)}catch(e){}break;case r:try{var a=JSON.parse(e.item_info);s=wT(a),lT()}catch(e){}break;case n:try{var o=JSON.parse(e.item_info);O.setQualityConfig(o)}catch(e){}}})),Object.values(a).filter((e=>null===e)).length&&HR({filePath:jR,data:JSON.stringify({...l.reduce(((e,t)=>(null===a[t.item_name]?e[t.item_name]={cache_info:t.item_info,cache_time:Date.now()}:a[t.item_name]&&(e[t.item_name]=a[t.item_name]),e)),{})})}).catch((e=>{})));var c=qR()<=VR;if(c&&CT(),!s&&!c)return;var u=l.find((t=>t.item_name===e));if(u){var d;LR().then((e=>{d=e})).catch((()=>{})).finally((()=>{var e;sh().runTask("createWeAppRequestInterpreter",{rules:u.item_info,appid:null==re||null===(e=re.accountInfo)||void 0===e?void 0:e.appId,userRules:d||""}).catch((e=>{y.error("createWeAppRequestInterpreter occer error:",e)}))}));var p=JSON.parse(u.item_info);O.convert24247SchemaToSensitiveQueryJudgeSchema(p)}}catch(e){}}catch(e){}})).catch((e=>{lT()}))}var o}))}}));var KR=e=>UR[e],JR=e=>{var t;return!1===(null===(t=UR[e])||void 0===t?void 0:t.hook)},XR=e=>{var t;return!0===(null===(t=UR[e])||void 0===t?void 0:t.hook)},YR=(e,t,r=!1)=>{var n;if(!pt(t)&&!Array.isArray(t))return t;var i=KR(e);if(!i)return t;if(Array.isArray(null==i||null===(n=i[r?"res":"req"])||void 0===n?void 0:n.filter)){var a={};for(var o of Object.getOwnPropertyNames(t))i[r?"res":"req"].filter.includes(o)||(a[o]=t[o]);return Array.isArray(t)&&(a=Array.from(a)),a}return t},QR=0,ZR="",eO=Date.now(),tO=eO,rO=eO;g.onLoad((()=>{var e=Date.now();tO=e,rO=e}));var nO={};af.set("appLaunchInfo",nO),re.onReady((()=>{var e=Date.now();tO=e,rO=e,QR=re.appLaunchInfo.scene,ZR=re.appLaunchInfo.sessionid||re.appLaunchInfo.sessionId,Object.assign(nO,re.appLaunchInfo),ur("onAppEnterForeground",(e=>{Object.assign(nO,e),rO=Date.now(),e&&e.scene&&(QR=e.scene),e&&(e.sessionid||e.sessionId)&&(ZR=e.sessionid||e.sessionId)}))}));var iO="";function aO(e,t,r,n,i,a,o,s,l,c,u,d=!1,p){var h,f;for(var g of Rf)if(g.test(e)){r="";var v=o;n&&(o=""),"request"===e&&n&&!l&&1===a&&Cf("reportRresult")&&(o=null==v?void 0:v.data);break}var m,y=af.get("api_call_from_hot_boot_time",rO);m=void 0===c?-1:c?1:0;var b=Date.now(),_=$e()?2:Be?1:0,w=Xm(),S=Ym(),C=[e,t,Bu(YR(e,r)),n,i,0===a?u:b-i,My(),a,Bu(YR(e,o,!0)),re.appType+1e3,QR,Du(),Lu(),Lf(e),s,rb(),ZR,b-tO,b-y,encodeURIComponent(nO.scene_note||nO.sceneNote),null===(h=o)||void 0===h?void 0:h.errno,m,null===(f=o)||void 0===f?void 0:f.errCode,encodeURIComponent(iO),p,_,w,S].map(Nu(1024)).join(",");l||1!==a||(T.reportIDKey({key:"asyncApiCount"}),T.reportIDKey({key:"asyncApiCost",value:b-i})),l&&T.reportKeyValue({key:"WeAppInvoke2",value:C,immediately:d}),T.reportKeyValue({key:"WeAppInvoke",value:C,immediately:d})}KC((e=>{iO=e.sessionId}));var oO=new WeakSet,sO=null,lO=null;function cO(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&(!!r.configurable&&(!(!t||"_"===t[0])&&(!Mf.includes(t)&&r)))}function uO(e,...t){isFunction(e)&&e(...t)}function dO(e,t,r,n=!1){var i=nb(),a=Date.now();return(o,s,l=!1)=>{aO(e,i,t,null===s?0:1,a,0,s,r,n),!l&&aO(e,i,t,o?1:0,a,1,s,r,n,!0)}}function pO(e,t){bO("",e,1,t,!1)}var hO=null,fO=Math.random,gO=(e,t)=>!!JR(e)||!XR(e)&&(!vR[e]&&(!pt(t)||!("success"in t||"fail"in t||"complete"in t)||void 0));function vO(e){var t;return function(){return t=t||e.apply(this)}}function mO(e,t,r,n,i,a,o){var s=function(l,...c){var u,d,p=!1,h=getApiReportStrategy(e),f=null!==(u=null==h?void 0:h.ratio)&&void 0!==u?u:i,g=1===(null==h?void 0:h.ratio)||o,v=fO()<f,m=guid(),b=O.getAsyncCallApiRelatedEvent();(d=O.getTrackUserAction())&&O.pushApiToEventApiList(e,m);var _=Date.now(),w=c.length?[l,...c]:l,S=!0;Promise.resolve().then((()=>{S=!1}));var C=()=>!S;try{var k,I=arguments.length?[gO(e,l)?l:Object.assign({},l,{..."request"===e?{__wx_inner_uuid__:m,__wx_inner_invokeTime__:_,__wx_inner_request_network_type__:_getCurrentNetworkType(),__wx_request_route_path__:O.getCurrentRoutePath()}:{},success:t=>{var r;checkPointFullReportRule(e,{res:t}).then((r=>{g=g||r||p,(r||v||p)&&(!g||!T.isLimitReport(21688))&&report(e,m,w,1,_,1,t,a,g,C())})).catch((e=>{y.warn("checkPointFullReportRule err:",e)})),sO.includes(e)&&O.reportInteractionAPI({api:e,result:0,res:t}),"request"!==e&&O.traceApi(e,l,t,null,m,Date.now()-_,!0),d&&(r=O.setAsyncCallApiRelatedEvent(d)),uO(l&&l.success,t),d&&!1!==r&&setTimeout((()=>O.clearAsyncCallApiRelatedEvent(d)),O.getAsyncCallbackJoinEventInterval())},fail:t=>{var r;checkPointFullReportRule(e,{res:t}).then((r=>{g=g||r||p,(r||v||p)&&(!g||!T.isLimitReport(21688))&&report(e,m,w,0,_,1,t,a,g,C())})).catch((e=>{y.warn("checkPointFullReportRule err:",e)})),sO.includes(e)&&O.reportInteractionAPI({api:e,result:1,res:t}),"request"!==e&&O.traceApi(e,l,t,!0,m,Date.now()-_,!0,{errMsg:t.errMsg,errno:t.errno}),t.errno&&T.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[e,t.errno].join(",")}),isFunction(l&&l.fail)?(d&&(r=O.setAsyncCallApiRelatedEvent(d)),uO(l&&l.fail,t),d&&!1!==r&&setTimeout((()=>O.clearAsyncCallApiRelatedEvent(d)),O.getAsyncCallbackJoinEventInterval())):console.warn("call failed:,",t)}}),...c]:[];k=this instanceof s?Reflect.construct(t,I,t):Reflect.apply(t,r,I),O.traceApi(e,l,k,null,m,Date.now()-_,!1,{relatedEvent:b});var P=null===k?0:1;return checkPointFullReportRule(e,{req:w,res:k}).then((t=>{t&&(p=!0),g=g||t,(t||v)&&(!g||!T.isLimitReport(21688))&&report(e,m,w,P,_,0,k,a,g)})).catch((e=>{y.warn("checkPointFullReportRule err:",e)})),n&&isObject(k)&&!oO.has(k)&&(yO(e,k,!1,i,a,g,!1),oO.add(k)),k}catch(t){throw O.traceApi(e,l,null,!0,m,Date.now()-_,!1,{errMsg:t,relatedEvent:b}),checkPointFullReportRule(e,{req:w}).then((r=>{r&&(p=!0),g=g||r,(r||v)&&(!g||!T.isLimitReport(21688))&&report(e,m,w,0,_,0,t,a,g)})).catch((e=>{y.warn("checkPointFullReportRule err:",e)})),t}};return s}function yO(e,t,r,n,i,a,o){if(!isObject(t))return t;var s,l=new hO;for(var c of Object.getOwnPropertyNames(t))(s=cO(t,c))&&l.set(c,s);var u=Object.getPrototypeOf(t);for(var d of Object.getOwnPropertyNames(u))(s=cO(u,d))&&!s.get&&l.set(d,s);return l.forEach(((s,l)=>{if(o&&s.get)Object.defineProperty(t,l,{get:vO((function(){var c=s.get.apply(this);return isFunction(c)?mO(`${e}${e?".":""}${l}`,c,t,r&&"Sync"!==l.slice(-4),n,i,a):o&&isObject(c)?yO(`${e}${e?".":""}${l}`,c,r,n,i,a,o):void 0})),set:s.set,enumerable:s.enumerable,configurable:s.configurable});else{var c=s.value;if(!s.writable)return;isFunction(c)?t[l]=mO(`${e}${e?".":""}${l}`,c,t,r&&"Sync"!==l.slice(-4),n,i,a):o&&isObject(c)&&(t[l]=yO(`${e}${e?".":""}${l}`,c,r,n,i,a,o))}})),t}function bO(e,t,r,n,i=!1){if(isObject(t)){var a=new hO;for(var o of Object.getOwnPropertyNames(t))if(cO(t,o)){var s=Object.getOwnPropertyDescriptor(t,o);if(s.get||!s.writable||!isFunction(t[o]))return;a.set(o,t[o])}var l=Object.getPrototypeOf(t);for(var c of Object.getOwnPropertyNames(l))if(!cO(l,c)){var u=Object.getOwnPropertyDescriptor(l,c);if(u.get||!u.writable||!isFunction(l[c]))return;a.set(c,l[c])}a.forEach(((a,o)=>{var s;t[o]=new Proxy(t[o],{construct(t,a){var o,l=getApiReportStrategy(e),c=null!==(o=null==l?void 0:l.ratio)&&void 0!==o?o:r,u=1===(null==l?void 0:l.ratio)||i,d=fO()<c,p=_getCurrentNetworkType(),h=Date.now(),f=guid();s=a;try{var g=Reflect.construct(t,a);return d&&report(e,f,a,null===g?0:1,h,p,0,g,n,u),g}catch(t){throw d&&report(e,f,s,0,h,p,0,t,n,u),t}},get:(e,t)=>t===Symbol.hasInstance?t=>t instanceof e:e[t]})}))}}var _O=!1;function wO(e){if(e.createCanvas){var t=e.createCanvas;e.createCanvas=()=>{var r=t.call(e);if(r&&r.getContext){var n=r.getContext;r.getContext=(...e)=>{var t=n.call(r,...e);if(t&&t.compressedTexImage2D){var i=t.compressedTexImage2D;t.compressedTexImage2D=(...e)=>{_O||(_O=!0,report("WebGLRenderingContext.compressedTexImage2D",guid(),{},1,Date.now(),_getCurrentNetworkType(),0,void 0)),i.call(t,...e)}}return t}}return r}}}function SO(e,t=0){yO("",e,!0,.05,t,!1,!0),wO(e)}var CO={},kO=(e,t)=>{CO[e]=t},IO=e=>CO[e],PO=Symbol("IS_SUB_PACKAGE_INJECT_API"),AO=Symbol("EXIT_EXECUTE_SYMBOL"),xO=(e,...t)=>{vt(e)&&e(...t)},TO=(e,t,...r)=>{isFunction(e)&&e.call(t,...r)},EO=234234669135,MO=234231453256,RO=234532352353;function OO(e){var t;return function(){return t=t||e.apply(this)}}function DO(e,t){if("function"!=typeof e)return!1;var r=e.toString();return void 0!==e.prototype&&(e.prototype.constructor===e&&("class"===r.slice(0,5)||(Object.getOwnPropertyNames(e.prototype).length>=2||!/^function\s+\(|^function\s+anonymous\(/.test(r)&&(!(!t||!/^function\s+[A-Z]/.test(r))||!!/\b\(this\b|\bthis[\.\[]\b/.test(r)&&(!(t&&!/classCallCheck\(this/.test(r))||/^function\sdefault_\d+\s*\(/.test(r))))))}var LO=[],NO=e=>LO.push(e),BO=()=>LO,$O=e=>"function"==typeof e,jO=e=>"object"==typeof e&&e,FO="break_callback_execute",WO=Symbol("defineGeneralSymbol"),UO=new WeakSet;function VO(e,t){return function(r,n,i){if("noCondom"===e&&NO(n),i.value){var a;if(null!==(a=i.value)&&void 0!==a&&a.extraInfos){var o=i.value.extraInfos[e];o?Object.assign(o,t):i.value.extraInfos[e]=t}else i.value={extraInfos:{generalMetadata:{},[e]:t},value:i.value}}else{var s=i.initializer();if("noHook"===e)return void(i.initializer=()=>s);if("noExpose"===e)return void(i.initializer=()=>{});i.value={extraInfos:{[e]:t}},i.initializer=()=>{var e,t=null===(e=i.value)||void 0===e?void 0:e.extraInfos;return delete i.value.extraInfos,t.api=n,t.prefix="",Object.assign(t,r[WO]),qO(t,s,this)}}return i}}function qO(e,t,r,n=1){if(!jO(e))return t;var i,{api:a,prefix:o=""}=e;if((e.handleObject||e.handleSdkSubPackageObject||e.lazy)&&jO(t))return fR(a,"")||1!==n?new Proxy(t,{get(r,s){var l,c,u=Object.assign({},e,{api:s,prefix:o||a+".",lazy:void 0});u.handleObject=!1;var d=null===(l=e.lazy)||void 0===l||null===(c=l.hookHandlers)||void 0===c?void 0:c.getter;return d?"extraInfos"===s?r[s]:(i||(i=qO(u,d(),t,n)),i[s]):r[s]},set(r,s,l){if(i)i[s]=l;else{var c,u,d=null===(c=e.lazy)||void 0===c||null===(u=c.hookHandlers)||void 0===u?void 0:u.getter;if(d){var p=Object.assign({},e,{api:s,prefix:o||a+".",lazy:void 0});p.handleObject=!1,(i=qO(p,d(),t,n))[s]=l}else r[s]=l}return!0}}):(console.error(new Vd(a+":fail rejected due to no permission currently")),null);if(!$O(t))return t;var s,l=!0,c=[],u=[],d={},p=function(...r){var i,p,h;r[r.length-2]===PO&&(t=r[r.length-1],r=r.slice(0,-2));var f=!1,g=r[0],v=g,m=o+a,y={};if(l){l=!1,s=new Map;var b={};Object.keys(e).forEach((function(t){var r=e[t];if("object"==typeof r&&r){var{hookHandlers:i,getState:l,otherDecoratorStates:p}=r;if(i&&Object.keys(i).forEach((e=>{var r=s.get(e);r?r.push({fn:i[e],metaKey:t}):s.set(e,[{fn:i[e],metaKey:t}])})),l){c.push(t);var h=l(),f=Date.now(),v=Math.random(),m=1e4*f+Math.round(9999*v);h.prefix=o,h.api=a,h.originArgs=g,h.invokeTime=f,h.random=v,h.uuid=m,y[t]=h,b[t]&&(b[t].forEach((e=>{e[t]=h})),delete b[t]),h.deep>n&&(d[t]=h.deep)}p&&(u.push(t),y[t]=y[t]||{},y[t].otherDecoratorStates={},p.forEach((e=>{y[e]?y[t].otherDecoratorStates[e]=y[e]:b[e]?b[e].push(y[t].otherDecoratorStates):b[e]=[y[t].otherDecoratorStates]})))}}))}else{var _=Date.now(),w=Math.random(),S=1e4*_+Math.round(9999*w);c.forEach((function(t){var r=e[t],{getState:n}=r,i=n();i.prefix=o,i.api=a,i.originArgs=g,i.invokeTime=_,i.random=w,i.uuid=S,y[t]=i})),u.forEach((function(t){var r=e[t],{otherDecoratorStates:n}=r;y[t]=y[t]||{},y[t].otherDecoratorStates={},n.forEach((e=>{y[t].otherDecoratorStates[e]=y[e]}))}))}var C,k,I=()=>{if(pt(g));var i,l,c,u,p;try{var h,b=!1,_=s.get("beforeExecute");if(_&&_.forEach((function({fn:e,metaKey:t}){var r=e.call(y[t]);Array.isArray(r)&&r[0]===AO&&(b=r)})),!1!==b)return r[0]&&"object"==typeof r[0]?void setTimeout((()=>{zc(m,r[0],b[1])})):$O(b[2])?b[2]():void 0;var w=s.get("paramHandler");w&&w.forEach((function({fn:e,metaKey:t}){y[t].modifyArgs?e.call(y[t],r):e.call(y[t],...r)})),(!(null==y||null===(h=y.promised)||void 0===h||!h.promise)||!gO(m,r[0]))&&(f||(v=Object.assign({},v),y.timeout&&(y.timeout.afterCopyArgs=v)),["complete","success","fail"].forEach((function(e){var t=s.get(e),r=v[e];v[`__origin_${e}__`]=r,t&&(v[e]=function(n){"fail"===e&&(i=n),"success"===e&&(u=n);try{t.forEach((({fn:e,metaKey:t})=>e.call(y[t],n)))}catch(e){if(e===FO)return}$O(r)&&r.call(g,n);var a="after"+e[0].toUpperCase()+e.slice(1),o=s.get(a);o&&o.forEach((({fn:e,metaKey:t})=>e.call(y[t],n)))})})),f||(r[0]=v,f=!0));var S=s.get("hookArgs");S&&S.forEach((({fn:e,metaKey:t})=>e.call(y[t],v)));var C=!1,k=s.get("breakDirectly");if(k)for(var I=0;I<k.length;I++){var P=k[I].fn.call(y[k[I].metaKey],...r);if(P!==MO){C=!0,c=P;break}}if(!C)try{c=t.call(this,...r)}catch(e){var A=!1,x=s.get("errorHandler");x&&x.forEach((({fn:t,metaKey:r})=>{t.call(y[r],e)===RO&&(A=!0)})),A||(l=e)}var T={};for(var E in d)if(pt(c)){var M=Object.getPrototypeOf(c);for(var R of Object.getOwnPropertyNames(c).concat(Object.getOwnPropertyNames(M))){var O=R in M?M:c,D=(o||"")+a,L=cO(O,R);if(L&&(!L.get&&L.writable&&$O(O[R]))){var N={prefix:D+".",api:R};T[R]||(T[R]=N),T[R][E]=e[E]}}}var B=s.get("resultHandler");if(B&&B.forEach((({fn:e,metaKey:t})=>{var n=e.call(y[t],c,r,{syncError:l,callbackError:i});n!==EO&&(c=n)})),!UO.has(c)&&pt(c)){for(var $ of Object.getOwnPropertyNames(T))c[$]=qO(T[$],c[$],c,n+1);UO.add(c)}}catch(e){p=e;var j=s.get("uncaughtErrorHandler");j&&j.forEach((({fn:t,metaKey:r})=>{t.call(y[r],e)===RO&&(p=null)}))}var F=!0,W=s.get("afterCallback");if(W&&W.forEach((function({fn:e,metaKey:t}){e.call(y[t],r,u||c,{syncError:l,callbackError:i})===RO&&(F=!1)})),p)throw p;if(!l)return c;if(F)throw l},P=!0,A=s.get("asyncPrepositive"),x=s.get("syncPrepositive"),T=(null==y?void 0:y.promised)&&!(null!==(i=v)&&void 0!==i&&i.success||null!==(p=v)&&void 0!==p&&p.fail||null!==(h=v)&&void 0!==h&&h.complete);if(x)for(var E of x){var{fn:M,metaKey:R}=E,O=M.call(y[R],v);if(O[0]){if(O[3])return;var D,L,N=void 0;return N=O[4]?`${o+a}:fail${O[1]?" ":""}${O[1]}`:{errMsg:`${o+a}:fail${O[1]?" ":""}${O[1]}`,...O[2]?{errno:O[2]}:{}},T?Promise.reject(N):(null!==(D=v)&&void 0!==D&&D.fail&&v.fail(N),void(null!==(L=v)&&void 0!==L&&L.complete&&v.complete(N)))}}if(A){var B=[];A.forEach((({fn:e,metaKey:t})=>{B.push(e.call(y[t],v))})),B.find((e=>It(e)))&&(k=Promise.all(B))}return k?T?new Promise(((e,t)=>{k.then((r=>{for(var n of r)if(n[0]){P=!1,C=n[4]?`${o+a}:fail${n[1]?" ":""}${n[1]}`:{errMsg:`${o+a}:fail${n[1]?" ":""}${n[1]}`,...n[2]?{errno:n[2]}:{}};break}return P?void e(I()):void t(C)}))})):void k.then((e=>{for(var t of e)if(t[0]){P=!1,C=t[4]?`${o+a}:fail${t[1]?" ":""}${t[1]}`:{errMsg:`${o+a}:fail${t[1]?" ":""}${t[1]}`,...t[2]?{errno:t[2]}:{}};break}if(P)return I();var r,n;null!==(r=v)&&void 0!==r&&r.fail&&v.fail(C),null!==(n=v)&&void 0!==n&&n.complete&&v.complete(C)})):I()};return n>1?p.bind(r):p}function zO(e,t){return function(r){r.prototype[WO]?r.prototype[WO][e]=t:r.prototype[WO]={[e]:t}}}function GO(e){var t=e.prototype.constructor;return function(...r){var n=new t(...r),i=Object.getOwnPropertyDescriptors(n);return Object.keys(i).forEach((t=>{var r,a=i[t],o=null===(r=a.value)||void 0===r?void 0:r.extraInfos;o&&(Object.assign(o,e.prototype[WO]),Object.defineProperty(n,t,{value:a.value.value()}))})),n}}function HO(e=!0){return function(t){var r=Object.getOwnPropertyDescriptors(e?t.prototype:t);for(var n in r)if("constructor"!==n){var i,a=r[n],o=null===(i=a.value)||void 0===i?void 0:i.extraInfos;o&&(o.api=n,o.prefix="",Object.assign(o,t.prototype[WO]),Object.defineProperty(e?t.prototype:t,n,{value:qO(o,a.value.value,e?t.prototype:t),configurable:!0}))}}}var KO=function(e){return e[e.Open=0]="Open",e[e.Tap=8]="Tap",e[e.Click=10]="Click",e[e.Start=11]="Start",e[e.Stop=12]="Stop",e[e.CustomAttr=13]="CustomAttr",e[e.Routing=14]="Routing",e[e.WxInput=16]="WxInput",e[e.VisibilityChange=17]="VisibilityChange",e[e.Env=40]="Env",e[e.WindowState=41]="WindowState",e[e.Depth=83]="Depth",e[e.EleExposure=84]="EleExposure",e[e.EleUnExposure=85]="EleUnExposure",e[e.CommonDeps=86]="CommonDeps",e[e.UserScreenCapture=87]="UserScreenCapture",e[e.CustomEvent=88]="CustomEvent",e[e.UiReaction=89]="UiReaction",e[e.OnError=90]="OnError",e[e.OnUnhandledRejection=91]="OnUnhandledRejection",e[e.OnPageNotFound=92]="OnPageNotFound",e[e.OnLazyLoadError=93]="OnLazyLoadError",e[e.ToastError=94]="ToastError",e[e.RequestError=95]="RequestError",e[e.UploadFileError=96]="UploadFileError",e[e.DownloadFileError=97]="DownloadFileError",e[e.ConnectSocketError=98]="ConnectSocketError",e[e.ImgLoadError=99]="ImgLoadError",e[e.BatchReport=101]="BatchReport",e[e.Unsupported=102]="Unsupported",e[e.WeSessionIdChanged=103]="WeSessionIdChanged",e[e.NetworkAPI=110]="NetworkAPI",e[e.ConsoleError=111]="ConsoleError",e[e.ConsoleWarn=112]="ConsoleWarn",e[e.RTLogError=113]="RTLogError",e[e.RTLogWarn=114]="RTLogWarn",e[e.PerfAPI=115]="PerfAPI",e[e.NetworkWeak=116]="NetworkWeak",e[e.NetworkStatus=117]="NetworkStatus",e[e.FirstExposure=118]="FirstExposure",e[e.MemoryWarning=119]="MemoryWarning",e[e.RTLogInfo=120]="RTLogInfo",e[e.RTLogDebug=121]="RTLogDebug",e[e.ReportEvent=122]="ReportEvent",e[e.NetworkLimitExceeded=123]="NetworkLimitExceeded",e[e.NavigateTo=701]="NavigateTo",e[e.RedirectTo=702]="RedirectTo",e[e.NavigateBack=703]="NavigateBack",e[e.SwitchTab=704]="SwitchTab",e[e.AppLaunch=705]="AppLaunch",e[e.ReLaunch=706]="ReLaunch",e[e.AutoReLaunch=707]="AutoReLaunch",e[e.AppShow=720]="AppShow",e[e.AppHide=721]="AppHide",e[e.PageShow=722]="PageShow",e[e.PageAddToFavorites=723]="PageAddToFavorites",e[e.InitState=730]="InitState",e[e.ShowModal=740]="ShowModal",e[e.CloseModal=741]="CloseModal",e[e.ShowActionSheet=742]="ShowActionSheet",e[e.CloseActionSheet=743]="CloseActionSheet",e[e.ShowToast=744]="ShowToast",e[e.HideToast=745]="HideToast",e[e.OnShareAppMessage=746]="OnShareAppMessage",e[e.DoShareAppMessage=747]="DoShareAppMessage",e[e.OnShareTimeline=748]="OnShareTimeline",e[e.DoShareTimeline=749]="DoShareTimeline",e[e.KeyBoardHeightChange=750]="KeyBoardHeightChange",e[e.TabItemTap=751]="TabItemTap",e[e.PageStaytime=760]="PageStaytime",e[e.WeSession=780]="WeSession",e[e.ReserveChannelsLive=800]="ReserveChannelsLive",e[e.ReserveChannelsLiveDone=801]="ReserveChannelsLiveDone",e[e.OpenChannelsUserProfile=802]="OpenChannelsUserProfile",e[e.OpenChannelsUserProfileDone=803]="OpenChannelsUserProfileDone",e[e.OpenChannelsLive=804]="OpenChannelsLive",e[e.OpenChannelsLiveDone=805]="OpenChannelsLiveDone",e[e.OpenChannelsEvent=806]="OpenChannelsEvent",e[e.OpenChannelsEventDone=807]="OpenChannelsEventDone",e[e.OpenChannelsActivity=808]="OpenChannelsActivity",e[e.OpenChannelsActivityDone=809]="OpenChannelsActivityDone",e[e.GetChannelsShareKey=810]="GetChannelsShareKey",e[e.GetChannelsShareKeyDone=811]="GetChannelsShareKeyDone",e[e.GetChannelsLiveNoticeInfo=812]="GetChannelsLiveNoticeInfo",e[e.GetChannelsLiveNoticeInfoDone=813]="GetChannelsLiveNoticeInfoDone",e[e.GetChannelsLiveInfo=814]="GetChannelsLiveInfo",e[e.GetChannelsLiveInfoDone=815]="GetChannelsLiveInfoDone",e[e.RequestPayment=820]="RequestPayment",e[e.RequestPaymentDone=821]="RequestPaymentDone",e[e.RequestPluginPayment=822]="RequestPluginPayment",e[e.RequestPluginPaymentDone=823]="RequestPluginPaymentDone",e[e.RequestSubscribeMessage=824]="RequestSubscribeMessage",e[e.RequestSubscribeMessageDone=825]="RequestSubscribeMessageDone",e[e.RequestOrderPayment=826]="RequestOrderPayment",e[e.RequestOrderPaymentDone=827]="RequestOrderPaymentDone",e[e.PreviewMedia=830]="PreviewMedia",e[e.PreviewMediaDone=831]="PreviewMediaDone",e[e.PreviewImage=832]="PreviewImage",e[e.PreviewImageDone=833]="PreviewImageDone",e[e.EditImage=834]="EditImage",e[e.EditImageDone=835]="EditImageDone",e[e.CropImage=836]="CropImage",e[e.CropImageDone=837]="CropImageDone",e[e.ChooseMessageFile=838]="ChooseMessageFile",e[e.ChooseMessageFileDone=839]="ChooseMessageFileDone",e[e.ChooseImage=840]="ChooseImage",e[e.ChooseImageDone=841]="ChooseImageDone",e[e.ChooseVideo=842]="ChooseVideo",e[e.ChooseVideoDone=843]="ChooseVideoDone",e[e.ChooseMedia=844]="ChooseMedia",e[e.ChooseMediaDone=845]="ChooseMediaDone",e[e.OpenLocation=846]="OpenLocation",e[e.OpenLocationDone=847]="OpenLocationDone",e[e.OpenDocument=848]="OpenDocument",e[e.OpenDocumentDone=849]="OpenDocumentDone",e[e.OpenSetting=850]="OpenSetting",e[e.OpenSettingDone=851]="OpenSettingDone",e[e.ReportH5SessionId=910]="ReportH5SessionId",e}({}),JO=null,XO=2,YO=4,QO=4,ZO=1;function eD(){var e=new Uint8Array(XO);new DataView(e.buffer).setUint16(0,ZO)}function tD(e,t){var r=nD(e),n=new Uint8Array(YO+r.length+QO+t.length),i=new DataView(n.buffer);return i.setInt32(0,r.length),n.set(r,YO),i.setInt32(YO+r.length,t.length),n.set(t,YO+r.length+QO),n}function rD(e,t){var r=0,n=e?XO:0,i=[];for(var a of t){var o=nD(a[0]);i.push([o,a[1]]),n+=o.length+a[1].length+YO+QO}var s=new Uint8Array(n),l=new DataView(s.buffer);for(var[c,u]of(e&&(l.setInt16(0,ZO),r+=XO),i))l.setInt32(r,c.length),r+=YO,s.set(c,r),r+=c.length,l.setInt32(r,u.length),r+=QO,s.set(u,r);return s}function nD(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}var iD=p(818),aD=p.n(iD),oD={};function sD(e){var t=JSON.stringify(e);if(oD[t]){if(oD[t].expireTs>I8())return oD[t].authorization;delete oD[t]}var r=Math.round(I8()/1e3),n=r+3600,i=`${r};${n}`,a=aD().HmacSHA1(i,e.secretKey).toString(),o=[];for(var s of Object.keys(e.query)){var l=e.query[s]?encodeURIComponent(e.query[s]):"";o.push([encodeURIComponent(s).toLowerCase(),l])}o.sort(((e,t)=>e[0]===t[0]?0:e[0]>t[0]?1:-1));var c=o.map((e=>e[0])).join(";"),u=o.map((e=>`${e[0]}=${e[1]}`)).join("&"),d=[];d.push([encodeURIComponent("host"),encodeURIComponent(e.headers.host)]);var p=d.map((e=>e[0])).join(";"),h=d.map((e=>`${e[0]}=${e[1]}`)).join("&"),f=`${e.method.toLowerCase()}\n${e.pathname}\n${u}\n${h}\n`,g=["sha1",i,aD().SHA1(f).toString(),""].join("\n"),v=aD().HmacSHA1(g,a).toString(),m=["q-sign-algorithm=sha1","q-ak="+e.secretId,"q-sign-time="+i,"q-key-time="+i,"q-header-list="+p,"q-url-param-list="+c,"q-signature="+v].join("&");return oD[t]={authorization:m,expireTs:1e3*n},m}function lD(e,{method:t,headers:r,body:n}){return new Promise(((i,a)=>{mE({url:e,method:t,header:r,data:"string"==typeof n?n:null!=n&&n.buffer?n.buffer:n,success:i,fail:a})}))}function cD(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function uD(e){for(var t=e.length,r=5381,n=0;n<t;++n)r=(r<<5)+r+e.charCodeAt(n);return String(r)}function dD(){var e,t,r,n,i,a,o=JSON.parse(JSON.stringify(re));return delete o.appLaunchInfo.openId,null==o||(null===(e=o.appContactInfo)||void 0===e||delete e.call_plugin_info),null==o||(null===(t=o.appContactInfo)||void 0===t||delete t.operationInfo),null==o||(null===(r=o.appContactInfo)||void 0===r||delete r.stablePassThroughInfo),null==o||(null===(n=o.appContactInfo)||void 0===n||delete n.passThroughInfo),null==o||(null===(i=o.appLaunchInfo)||void 0===i||delete i.clickTimestamp),null==o||(null===(a=o.appLaunchInfo)||void 0===a||delete a.clickTimestampInMs),null==o||delete o.downloadDomain,null==o||delete o.expt,null==o||delete o.extendedLibList,null==o||delete o.host,null==o||delete o.subPackages,null==o||delete o.subpackages,null==o||delete o.userConfig,null==o||delete o.wxAppInfo,null==o||delete o.embeddedAppIdList,null==o||delete o.pages,o}function pD(){var e=null==re?void 0:re.appLaunchInfo.openId;return e?aD().SHA1(e).toString():null}var hD=/^(\w+)([><=]|!=)(.+)$/;function fD(e,t){try{var r=e.split(";").map((e=>e.trim())).filter((e=>e));for(var n of r){var i=n.match(hD);if(i&&4===i.length){var[a,o,s,l]=i,c=l.split(",").map((e=>e.trim())).filter((e=>e));if("os"===o)if("="===s){if(!c.includes(t.os))return!1}else{if("!="!==s)return!1;if(c.includes(t.os))return!1}else{if("lib"!==o)return!1;if("="===s){if(!c.includes(t.sdkVersion))return!1}else if("!="===s){if(c.includes(t.sdkVersion))return!1}else if(">"===s){if(DT(t.sdkVersion,c[0])<=0)return!1}else{if("<"!==s)return!1;if(DT(t.sdkVersion,c[0])>=0)return!1}}}}return!0}catch(e){return!1}}function gD(e){if(e){var t=e.split("\n"),r="",n=!1;for(var i of t)i.includes("/usr/")?(r+=i,n=!1):n||(r+="\n",n=!0);return"\n"===r?void 0:r}}function vD(e){md("appendRuntimeContext",{data:e.endsWith(";")?e:`${e};`,success(){},fail(e){}})}var mD=function(e){return e[e.LayoutCost=1]="LayoutCost",e[e.EncryptCost=2]="EncryptCost",e[e.CompressCost=3]="CompressCost",e[e.UploadCosCost=4]="UploadCosCost",e[e.UploadWxCost=5]="UploadWxCost",e[e.TaskCost=6]="TaskCost",e[e.LongTaskCost=7]="LongTaskCost",e[e.WebCodeLoadCost=8]="WebCodeLoadCost",e[e.WebSetupCost=9]="WebSetupCost",e[e.FetchCosCost=10]="FetchCosCost",e[e.CompressV1Cost=11]="CompressV1Cost",e[e.CompressV2Cost=12]="CompressV2Cost",e[e.UploadCosCostWithWxData=13]="UploadCosCostWithWxData",e[e.UploadConsoleErrorTimeCost=14]="UploadConsoleErrorTimeCost",e[e.UploadRealtimeLogTimeCost=15]="UploadRealtimeLogTimeCost",e[e.WebviewEvent=30]="WebviewEvent",e[e.AppserviceEvent=31]="AppserviceEvent",e[e.Error=32]="Error",e[e.Unsupport=33]="Unsupport",e[e.Task=34]="Task",e[e.LongTask=35]="LongTask",e[e.CosInfoFetch=37]="CosInfoFetch",e[e.CosInfoRefetch=38]="CosInfoRefetch",e[e.UploadCosSucess=39]="UploadCosSucess",e[e.UploadCosFailure=40]="UploadCosFailure",e[e.UploadWxSucess=41]="UploadWxSucess",e[e.UploadWxFailure=42]="UploadWxFailure",e[e.AutoSetup=43]="AutoSetup",e[e.SdkSetup=44]="SdkSetup",e[e.MissSample=45]="MissSample",e[e.CosAppend=46]="CosAppend",e[e.CosPut=47]="CosPut",e[e.CosHead=48]="CosHead",e[e.CommonAssetMiss=49]="CommonAssetMiss",e[e.CommonAssetHit=50]="CommonAssetHit",e[e.DbClose=51]="DbClose",e[e.UploadCosExpired=52]="UploadCosExpired",e[e.Teardown=53]="Teardown",e[e.Resetup=54]="Resetup",e[e.CanvasCapture=55]="CanvasCapture",e[e.CosPost=56]="CosPost",e[e.CosPutWithWxData=57]="CosPutWithWxData",e[e.Status451=58]="Status451",e[e.ZstdCompressErr=59]="ZstdCompressErr",e[e.ZstdCompressExceedLoopQuota=60]="ZstdCompressExceedLoopQuota",e[e.CosHeadBackEnd=61]="CosHeadBackEnd",e[e.CosInfoMissing=62]="CosInfoMissing",e[e.GetAuxiliaryDomainInfo=63]="GetAuxiliaryDomainInfo",e[e.ParseAuxiliaryDomainInfo=64]="ParseAuxiliaryDomainInfo",e[e.CoslessMode=65]="CoslessMode",e[e.UploadCosSucessWithWxData=66]="UploadCosSucessWithWxData",e[e.UploadCosFailureWithWxData=67]="UploadCosFailureWithWxData",e[e.PublishDataToWebview=68]="PublishDataToWebview",e[e.ReceiveDataInWebview=69]="ReceiveDataInWebview",e[e.PackAppserviceDataIntoWebviewKvs=70]="PackAppserviceDataIntoWebviewKvs",e[e.WebviewHeartBeatTimeout=71]="WebviewHeartBeatTimeout",e[e.ReporterHeartBeatTimeout=72]="ReporterHeartBeatTimeout",e[e.ReporterChanged=73]="ReporterChanged",e[e.WebReporterSuspended=74]="WebReporterSuspended",e[e.WebReporterAliveButBeReplaced=75]="WebReporterAliveButBeReplaced",e[e.CustomizeBucketLifecycleListObjects=76]="CustomizeBucketLifecycleListObjects",e[e.CustomizeBucketLifecycleDeleteObjects=77]="CustomizeBucketLifecycleDeleteObjects",e[e.UnifiedReportSuccess=78]="UnifiedReportSuccess",e[e.UnifiedReportFailure=79]="UnifiedReportFailure",e[e.UnifiedReportWebviewSuccess=1080]="UnifiedReportWebviewSuccess",e[e.UnifiedReportWebviewFailure=1081]="UnifiedReportWebviewFailure",e[e.FetchCosInfoWithWXData=1082]="FetchCosInfoWithWXData",e[e.FetchCosInfoWithHTTPS=1083]="FetchCosInfoWithHTTPS",e[e.AutoSwitchToCosless=1084]="AutoSwitchToCosless",e[e.MaskSensitiveTextCount=1090]="MaskSensitiveTextCount",e[e.MaskSensitiveTextSlow=1091]="MaskSensitiveTextSlow",e[e.NetworkSuccess=1100]="NetworkSuccess",e[e.NetworkFail=1101]="NetworkFail",e[e.LegacySetupApi=2099]="LegacySetupApi",e[e.RealtimeLogSerializeError=2100]="RealtimeLogSerializeError",e[e.__DeprecatedUploadWxNetwork=2101]="__DeprecatedUploadWxNetwork",e[e.__DeprecatedUploadNetwork=2101]="__DeprecatedUploadNetwork",e[e.UploadWxCustomEvent=2103]="UploadWxCustomEvent",e[e.UploadCustomEvent=2104]="UploadCustomEvent",e[e.UploadWxRealtimeLog=2105]="UploadWxRealtimeLog",e[e.UploadRealtimeLog=2106]="UploadRealtimeLog",e[e.NetworkHandleError=2107]="NetworkHandleError",e[e.UploadWxReportEvent=2108]="UploadWxReportEvent",e[e.UploadReportEvent=2109]="UploadReportEvent",e[e.UploadWxNetwork=2110]="UploadWxNetwork",e[e.UploadNetwork=2111]="UploadNetwork",e[e.ConsoleErrorSerializeError=2112]="ConsoleErrorSerializeError",e[e.ConsoleErrorDrop=2113]="ConsoleErrorDrop",e[e.UploadWxSize=80]="UploadWxSize",e[e.UploadCosSize=81]="UploadCosSize",e[e.UploadCommonSize=82]="UploadCommonSize",e[e.HitCommonSize=83]="HitCommonSize",e[e.CanvasAllCaptureSize=84]="CanvasAllCaptureSize",e[e.CanvasUploadCaptureSize=85]="CanvasUploadCaptureSize",e[e.UploadCosSizeWithWxData=86]="UploadCosSizeWithWxData",e[e.PublishDataToWebviewSize=87]="PublishDataToWebviewSize",e[e.ReceiveDataInWebviewSize=88]="ReceiveDataInWebviewSize",e[e.ReportAppserviceDataInWebviewSize=89]="ReportAppserviceDataInWebviewSize",e[e.CustomizeBucketLifecycleDeleteObjectsSize=90]="CustomizeBucketLifecycleDeleteObjectsSize",e[e.UploadReportEventSize=91]="UploadReportEventSize",e[e.UploadRealtimeLogSize=92]="UploadRealtimeLogSize",e[e.UploadNetworkSize=93]="UploadNetworkSize",e[e.ServerClientTimeDiff=94]="ServerClientTimeDiff",e[e.UploadConsoleErrorSize=95]="UploadConsoleErrorSize",e[e.RegisterRefetchCosTokenFromExpire=201]="RegisterRefetchCosTokenFromExpire",e[e.TaskQueueDeadTaskDetected=202]="TaskQueueDeadTaskDetected",e}({});function yD(e){return bD.apply(this,arguments)}function bD(){return bD=xd()((function*(e){var t=i8.cosInfo;if(!t)throw new Error("no cos info");var r=i8.customHost||`${t.bucket}.cos.${t.region}.myqcloud.com`,n=sD({secretId:t.secretid,secretKey:t.secretkey,method:"put",pathname:`/${e.key}`,query:{devtools_ignore:"true"},headers:{host:r}});c$(mD.CosPut);var i=yield lD(`https://${r}/${e.key}?devtools_ignore=true`,{method:"PUT",headers:{authorization:n,"x-cos-security-token":t.token},body:e.body});if(i.statusCode<300||451===i.statusCode||403===i.statusCode||404===i.statusCode){var a={};for(var o of Object.keys(i.header))a[o.toLowerCase()]=i.header[o];return{status:i.statusCode,headers:a}}throw new Error(`putObject status ${i.statusCode}`)})),bD.apply(this,arguments)}function _D(e,t){return wD.apply(this,arguments)}function wD(){return wD=xd()((function*(e,t){return t instanceof Uint8Array&&(t=Av(t.buffer)),c$(mD.CosPutWithWxData),yield EE({apiName:"webapi_wxobbackstopputobject",reqData:{project_key:i8.projectId,object_name:e,object_value:t}})})),wD.apply(this,arguments)}var SD={Raw:"0",Compressed:"1.0",CompressedAndAesCbc:"2.0"},CD={showModal:KO.ShowModal,closeModal:KO.CloseModal,showToast:KO.ShowToast,hideToast:KO.HideToast,showActionSheet:KO.ShowActionSheet,closeActionSheet:KO.CloseActionSheet,onShareAppMessage:KO.OnShareAppMessage,doShareAppMessage:KO.DoShareAppMessage,doShareTimeline:KO.DoShareTimeline,onShareTimeline:KO.OnShareTimeline,appLaunch:KO.AppLaunch,autoReLaunch:KO.AutoReLaunch,navigateTo:KO.NavigateTo,redirectTo:KO.RedirectTo,switchTab:KO.SwitchTab,reLaunch:KO.ReLaunch,navigateBack:KO.NavigateBack},kD={request:1,uploadFile:2,downloadFile:3,"gateway.call":5,"cloud.callFunction":6},ID=null;function PD(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}var AD=[],xD=function(e){};function TD(){try{var e=new MessageChannel,t=e.port1,r=e.port2;t.onmessage=function(){if(AD.length>0){var e=AD.shift();e&&e()}},xD=function(e){AD.push(e),r.postMessage(null)}}catch(e){}}TD();var ED=Uint8Array,MD=Uint16Array,RD=Uint32Array,OD=new ED([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),DD=new ED([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LD=new ED([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ND=function(e,t){for(var r=new MD(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new RD(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},BD=PD(ND(OD,2),2),$D=BD[0],jD=BD[1];$D[28]=258,jD[258]=28;var FD=PD(ND(DD,0),2);FD[0];for(var WD=FD[1],UD=new MD(32768),VD=0;VD<32768;++VD){var qD=(43690&VD)>>>1|(21845&VD)<<1;qD=(52428&qD)>>>2|(13107&qD)<<2,qD=(61680&qD)>>>4|(3855&qD)<<4,UD[VD]=((65280&qD)>>>8|(255&qD)<<8)>>>1}for(var zD=function(e,t,r){for(var n=e.length,i=0,a=new MD(t);i<n;++i)e[i]&&++a[e[i]-1];var o,s=new MD(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(r){o=new MD(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=s[e[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)o[UD[d]>>>l]=c}else for(o=new MD(n),i=0;i<n;++i)e[i]&&(o[i]=UD[s[e[i]-1]++]>>>15-e[i]);return o},GD=new ED(288),VD=0;VD<144;++VD)GD[VD]=8;for(var VD=144;VD<256;++VD)GD[VD]=9;for(var VD=256;VD<280;++VD)GD[VD]=7;for(var VD=280;VD<288;++VD)GD[VD]=8;for(var HD=new ED(32),VD=0;VD<32;++VD)HD[VD]=5;var KD=zD(GD,9,0);zD(GD,9,1);var JD=zD(HD,5,0);zD(HD,5,1);var XD=function(e){return(e+7)/8|0},YD=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?MD:4==e.BYTES_PER_ELEMENT?RD:ED)(r-t);return n.set(e.subarray(t,r)),n},QD=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ZD=function(e,t,r){var n=new Error(t||QD[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ZD),!r)throw n;return n},eL=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},tL=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},rL=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[cL,0];if(1==i){var o=new ED(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:s.f+l.f,l:s,r:l};var p=a[0].s;for(n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new MD(p+1),f=nL(r[u-1],h,0);if(f>t){n=0;var g=0,v=f-t,m=1<<v;for(a.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));n<i;++n){var y=a[n].s;if(!(h[y]>t))break;g+=m-(1<<f-h[y]),h[y]=t}for(g>>>=v;g>0;){var b=a[n].s;h[b]<t?g-=1<<t-h[b]++-1:++n}for(;n>=0&&g;--n){var _=a[n].s;h[_]==t&&(--h[_],++g)}f=t}return[new ED(h),f]},nL=function(e,t,r){return-1==e.s?Math.max(nL(e.l,t,r+1),nL(e.r,t,r+1)):t[e.s]=r},iL=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new MD(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[r.subarray(0,n),t]},aL=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},oL=function(e,t,r){var n=r.length,i=XD(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},sL=function(e,t,r,n,i,a,o,s,l,c,u){eL(t,u++,r),++i[256];for(var d=PD(rL(i,15),2),p=d[0],h=d[1],f=PD(rL(a,15),2),g=f[0],v=f[1],m=PD(iL(p),2),y=m[0],b=m[1],_=PD(iL(g),2),w=_[0],S=_[1],C=new MD(19),k=0;k<y.length;++k)C[31&y[k]]++;for(k=0;k<w.length;++k)C[31&w[k]]++;for(var I=PD(rL(C,7),2),P=I[0],A=I[1],x=19;x>4&&!P[LD[x-1]];--x);var T,E,M,R,O=c+5<<3,D=aL(i,GD)+aL(a,HD)+o,L=aL(i,p)+aL(a,g)+o+14+3*x+aL(C,P)+(2*C[16]+3*C[17]+7*C[18]);if(O<=D&&O<=L)return oL(t,u,e.subarray(l,l+c));if(eL(t,u,1+(L<D)),u+=2,L<D){T=zD(p,h,0),E=p,M=zD(g,v,0),R=g;var N=zD(P,A,0);eL(t,u,b-257),eL(t,u+5,S-1),eL(t,u+10,x-4),u+=14;for(k=0;k<x;++k)eL(t,u+3*k,P[LD[k]]);u+=3*x;for(var B=[y,w],$=0;$<2;++$){var j=B[$];for(k=0;k<j.length;++k){var F=31&j[k];eL(t,u,N[F]),u+=P[F],F>15&&(eL(t,u,j[k]>>>5&127),u+=j[k]>>>12)}}}else T=KD,E=GD,M=JD,R=HD;for(k=0;k<s;++k)if(n[k]>255){F=n[k]>>>18&31;tL(t,u,T[F+257]),u+=E[F+257],F>7&&(eL(t,u,n[k]>>>23&31),u+=OD[F]);var W=31&n[k];tL(t,u,M[W]),u+=R[W],W>3&&(tL(t,u,n[k]>>>5&8191),u+=DD[W])}else tL(t,u,T[n[k]]),u+=E[n[k]];return tL(t,u,T[256]),u+E[256]},lL=new RD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cL=new ED(0),uL=function(e,t,r,n,i,a){var o=e.length,s=new ED(n+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(n,s.length-i),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d>=o&&(l[c>>3]=a),c=oL(l,c+1,e.subarray(u,d))}else{for(var p=lL[t-1],h=p>>>13,f=8191&p,g=(1<<r)-1,v=new MD(32768),m=new MD(g+1),y=Math.ceil(r/3),b=2*y,_=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&g},w=new RD(25e3),S=new MD(288),C=new MD(32),k=0,I=0,P=(u=0,0),A=0,x=0;u<o;++u){var T=_(u),E=32767&u,M=m[T];if(v[E]=M,m[T]=E,A<=u){var R=o-u;if((k>7e3||P>24576)&&R>423){c=sL(e,l,0,w,S,C,I,P,x,u-x,c),P=k=I=0,x=u;for(var O=0;O<286;++O)S[O]=0;for(O=0;O<30;++O)C[O]=0}var D=2,L=0,N=f,B=E-M&32767;if(R>2&&T==_(u-B))for(var $=Math.min(h,R)-1,j=Math.min(32767,u),F=Math.min(258,R);B<=j&&--N&&E!=M;){if(e[u+D]==e[u+D-B]){for(var W=0;W<F&&e[u+W]==e[u+W-B];++W);if(W>D){if(D=W,L=B,W>$)break;var U=Math.min(B,W-2),V=0;for(O=0;O<U;++O){var q=u-B+O+32768&32767,z=q-v[q]+32768&32767;z>V&&(V=z,M=q)}}}B+=(E=M)-(M=v[E])+32768&32767}if(L){w[P++]=268435456|jD[D]<<18|WD[L];var G=31&jD[D],H=31&WD[L];I+=OD[G]+DD[H],++S[257+G],++C[H],A=u+D,++k}else w[P++]=e[u],++S[e[u]]}}c=sL(e,l,a,w,S,C,I,P,x,u-x,c),!a&&7&c&&(c=oL(l,c+1,cL))}return YD(s,0,n+XD(c)+i)};!function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}}();var dL=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=0|r.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}},pL=function(e,t,r,n,i){return uL(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},hL=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},fL=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)};function gL(e,t){t||(t={});var r=dL();r.p(e);var n=pL(e,t,2,4);return fL(n,t),hL(n,n.length-4,r.d()),n}var vL="undefined"!=typeof TextEncoder&&new TextEncoder,mL="undefined"!=typeof TextDecoder&&new TextDecoder,yL=0;try{mL.decode(cL,{stream:!0}),yL=1}catch(e){}var bL=function(e){for(var t="",r=0;;){var n=e[r++],i=(n>127)+(n>223)+(n>239);if(r+i>e.length)return[t,YD(e,r-1)];i?3==i?(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&i?String.fromCharCode((31&n)<<6|63&e[r++]):String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(n)}};function _L(e,t){if(t){for(var r=new ED(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(vL)return vL.encode(e);var i=e.length,a=new ED(e.length+(e.length>>1)),o=0,s=function(e){a[o++]=e};for(n=0;n<i;++n){if(o+5>a.length){var l=new ED(o+8+(i-n<<1));l.set(a),a=l}var c=e.charCodeAt(n);c<128||t?s(c):c<2048?(s(192|c>>6),s(128|63&c)):c>55295&&c<57344?(s(240|(c=65536+(1047552&c)|1023&e.charCodeAt(++n))>>18),s(128|c>>12&63),s(128|c>>6&63),s(128|63&c)):(s(224|c>>12),s(128|c>>6&63),s(128|63&c))}return YD(a,0,o)}function wL(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}if(mL)return mL.decode(e);var i=PD(bL(e),2),a=i[0];return i[1].length&&ZD(8),a}var SL=function(e){return e[e.Setup=1]="Setup",e[e.AppserviceStart=2]="AppserviceStart",e[e.WebviewStart=3]="WebviewStart",e[e.AppserviceCollect=4]="AppserviceCollect",e[e.WebviewCollect=5]="WebviewCollect",e[e.AppserviceEncode=6]="AppserviceEncode",e[e.WebviewEncode=7]="WebviewEncode",e[e.AppserviceReport=8]="AppserviceReport",e[e.WebviewReportCos=9]="WebviewReportCos",e[e.WebviewClean=10]="WebviewClean",e[e.WebviewReportWx=11]="WebviewReportWx",e[e.WebviewReport=12]="WebviewReport",e[e.AppserviceReportCos=13]="AppserviceReportCos",e[e.AppserviceReportWx=14]="AppserviceReportWx",e[e.CommonUploadError=15]="CommonUploadError",e[e.AppserviceTeardown=16]="AppserviceTeardown",e[e.TeardownApi=17]="TeardownApi",e[e.WebviewTeardown=18]="WebviewTeardown",e[e.Resetup=19]="Resetup",e[e.CollectWxImage=20]="CollectWxImage",e[e.CollectImage=21]="CollectImage",e[e.RefreshCos=22]="RefreshCos",e[e.PruneEvents=23]="PruneEvents",e[e.CosFetch=24]="CosFetch",e[e.GetAuxiliaryDomainInfo=25]="GetAuxiliaryDomainInfo",e[e.AppserviceReportCosWithWxData=26]="AppserviceReportCosWithWxData",e[e.WebviewReportCosWithWxData=27]="WebviewReportCosWithWxData",e[e.ObjectStoreError=28]="ObjectStoreError",e[e.FetchCosByWxDataError=29]="FetchCosByWxDataError",e[e.InvalidCustomDomain=30]="InvalidCustomDomain",e[e.CompressError=31]="CompressError",e[e.Debug=1e3]="Debug",e}({}),CL=e=>{var t={...e};if(delete t.success,delete t.fail,a8.recording)try{var r,n;if(t.type===SL.Debug)return;null===(r=(n=a8.recorderConfigs).errorCallback)||void 0===r||r.call(n,t)}catch(e){console.error(e)}};function kL(e,t,r){var n,i="";i=t instanceof Error?`name: ${t.name}; message: ${t.message}; stack: ${t.stack}; extra: ${r}`:"string"==typeof t?`message: ${t}; extra: ${r}`:`message: ${JSON.stringify(t)}; extra: ${r}`;var{version:a,updateTime:o}=OT();e$(JSON.stringify({report_items:[{session_id:null!==(n=a8.recorderConfigs.uuid)&&void 0!==n?n:"none",sdk_version:`${a} (${o})`,err_type:e,err_msg:i,os_name:re.system,os_version:re.envVersion}]})),CL({type:e,errMsg:i,extra:r})}var IL=null;function PL(e){return AL.apply(this,arguments)}function AL(){return AL=xd()((function*(e){c$(mD.CosInfoFetch);for(var t,r=JL(),n=function(){var t=xd()((function*(){return yield RL({apiName:"webapi_getcloudstoragefederationtoken",reqData:e?{project_key:r,object_prefix:`${e}*`}:{project_key:r}})}));return function(){return t.apply(this,arguments)}}(),i=0;i<3;){var a=Date.now();if(t=yield n(),Date.now()-a<=3e4)break;i++,console.warn(`[wxobs] COS info fetch attempt ${i} exceeded 30 seconds, retrying...`),kL(SL.CosFetch,new Error(`COS info fetch attempt ${i} exceeded 30 seconds (${Date.now()-a}ms)`),"getCosInfo")}if(3===i)throw console.warn("[wxobs] Failed to fetch COS info within time limit after multiple attempts"),new Error("COS info fetch out of time limit");var o=e||t.data.real_object_prefix;if(void 0===t.data)throw new Error("no cos info");if(!TL(t.data))throw new Error("invalid cos info");if(t.data.expire_timestamp){var s=1e3*t.data.expire_timestamp-I8()-3e5;IL=setTimeout(xd()((function*(){try{var e=yield PL(o);c$(mD.CosInfoRefetch),_8({...e,prefix:o})}catch(e){kL(SL.RefreshCos,e,"refetch cos info"),c$(mD.Error)}})),s>0?s:1e3)}return t.data})),AL.apply(this,arguments)}function xL(){IL&&(clearTimeout(IL),IL=null)}function TL(e){return!(ML(e.bucket)||ML(e.region)||ML(e.secretid)||ML(e.secretkey)||ML(e.token))&&(!EL(e.bucket)&&!EL(e.region))}function EL(e){return e.includes(".")||e.includes("?")||e.includes("/")||e.includes("#")}function ML(e){return!e||""===e.trim()}function RL(e){return new Promise(((t,r)=>{TE({...e,success:t,fail:r})}))}var OL=function(e){return e[e.AutoRecording=1]="AutoRecording",e[e.SdkRecording=2]="SdkRecording",e[e.PreRecording=3]="PreRecording",e}(OL||{}),DL;function LL(){return NL.apply(this,arguments)}function NL(){return(NL=xd()((function*(){return DL||(DL=$L()&&jL()?yield FL():BL())}))).apply(this,arguments)}function BL(){var e,t,r;return DL=(null===(e=re.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxob_meta_data)||(null===(r=re.appContactInfo)||void 0===r?void 0:r.wxob_meta_data)}function $L(){return Cf("userObRecording")}function jL(){return"windows"===re.platform||"mac"===re.platform}function FL(){return WL.apply(this,arguments)}function WL(){return(WL=xd()((function*(){var e=yield RL({apiName:"webapi_getwxobmetadata"});if(!e.data)throw new Error(`getMetaDataWithWxData fail: ${JSON.stringify(e)}`);return e.data}))).apply(this,arguments)}function UL(){return VL.apply(this,arguments)}function VL(){return(VL=xd()((function*(){var e=yield LL();return(null==e?void 0:e.wxob_mode)===OL.AutoRecording}))).apply(this,arguments)}function qL(){return zL.apply(this,arguments)}function zL(){return(zL=xd()((function*(){var e=yield LL();return(null==e?void 0:e.wxob_mode)===OL.SdkRecording}))).apply(this,arguments)}function GL(){return HL.apply(this,arguments)}function HL(){return(HL=xd()((function*(){var e=yield LL();return e?KL(e):void 0}))).apply(this,arguments)}function KL(e){var t,r,n,i,a,o,s,l,c,u,d,p,h,f,g,v;return{rawMetaData:e,isWhitelistMaskMode:e.is_whitelist_mask_mode,proportion:e.proportion,encrypt:e.encrypt,cloudServiceProvider:e.cloud_service_provider,minVersion:e.min_available_sdk_version,versionBlackList:e.sdk_version_black_list,exposureSelectorList:e.exposure_selector_list,pluginList:e.plugin_list,featureConfig:e.feature_config,networkConfig:{maxNormalNetworkLogTypes:null===(t=e.network_config)||void 0===t?void 0:t.max_normal_network_log_types,maxNormalNetworkLogOccurrence:null===(r=e.network_config)||void 0===r?void 0:r.max_normal_network_log_occurrence,maxErrorNetworkLogTypes:null===(n=e.network_config)||void 0===n?void 0:n.max_error_network_log_types,maxErrorNetworkLogOccurrence:null===(i=e.network_config)||void 0===i?void 0:i.max_error_network_log_occurrence,maxNormalNetworkLogTypesCustomCapture:null===(a=e.network_config)||void 0===a?void 0:a.max_normal_network_log_types_custom_capture,maxNormalNetworkLogOccurrenceCustomCapture:null===(o=e.network_config)||void 0===o?void 0:o.max_normal_network_log_occurrence_custom_capture,maxErrorNetworkLogTypesCustomCapture:null===(s=e.network_config)||void 0===s?void 0:s.max_error_network_log_types_custom_capture,maxErrorNetworkLogOccurrenceCustomCapture:null===(l=e.network_config)||void 0===l?void 0:l.max_error_network_log_occurrence_custom_capture},consoleConfig:{enableConsoleSerialization:null===(c=e.console_config)||void 0===c?void 0:c.enable_console_serialization,maxConsoleFieldLength:null===(u=e.console_config)||void 0===u?void 0:u.max_console_field_length,maxConsoleMsgOccurrence:null===(d=e.console_config)||void 0===d?void 0:d.max_console_msg_occurrence,consoleLogDropLength:null===(p=e.console_config)||void 0===p?void 0:p.console_log_drop_length,maxKeyCount:null===(h=e.console_config)||void 0===h?void 0:h.max_key_count,maxConsoleMsgTypes:null===(f=e.console_config)||void 0===f?void 0:f.max_console_msg_types,maxConsoleLength:null===(g=e.console_config)||void 0===g?void 0:g.max_console_length},reportInterval:e.collection_interval,customHost:ZL(e.url),textLenGranularity:null==e||null===(v=e.static_config)||void 0===v?void 0:v.text_length_granularity}}function JL(){var e,t;if(null===(e=re.accountInfo)||void 0===e||!e.appId)throw new Error("[wxobs as]appid is empty");return null===(t=re.accountInfo)||void 0===t?void 0:t.appId}function XL(){var e,t,r;return(DL=(null===(e=re.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxob_meta_data)||(null===(r=re.appContactInfo)||void 0===r?void 0:r.wxob_meta_data))?KL(DL):void 0}function YL(){return QL.apply(this,arguments)}function QL(){return QL=xd()((function*(){var e,t,r=yield LL(),n=null==r||null===(e=r.feature_config)||void 0===e?void 0:e.find((e=>"preemptiveSetup"===e.name));if(!n)return!1;if(!(!n.scope||fD(n.scope,{os:re.platform,sdkVersion:re.SDKVersion})))return!1;var i=null!==(t=n.proportion)&&void 0!==t?t:0;return 0!==i&&(100===i||i>=100*Math.random())})),QL.apply(this,arguments)}function ZL(e){if(e){return/^(?!:\/\/)([a-zA-Z0-9-_]+\.)*[a-zA-Z0-9][a-zA-Z0-9-_]+\.[a-zA-Z]{2,11}?$/.test(e)?e:void kL(SL.InvalidCustomDomain,new Error(`Invalid custom domain: ${e}`))}}function eN(){var e=new Date;return`${e.getFullYear().toString()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}`}function tN(e){return new Promise(((t,r)=>{TE({...e,success:t,fail:r})}))}function rN(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function nN(){var e=re.system;if(!e||"ios"!==re.platform)return!0;var[t,r]=e.split(" ");return"ios"!==t.toLowerCase()||iN(r,"11.0")>=0}function iN(e,t){for(var r=e.split(".").map(Number),n=t.split(".").map(Number),i=0;i<r.length;++i){if(n.length===i)return 1;if(r[i]!==n[i])return r[i]>n[i]?1:-1}return r.length!==n.length?-1:0}var aN={notSdkRecordingMode:"[体验分析] 当前启动方式是自动启动而不是自定义启动，请前往体验分析控制台【设置-采集配置】切换启动方式后，SDK setup 方法才可生效。\n（开发者工具请切换后重启开发者工具尝试；真机测试请重新扫码打开小程序）",unsupported:"[wxobs] this system version is not supported\n[体验分析] 当前系统版本不支持采集",setupSuccess:"[wxobs] setup success\n[体验分析] 采集启动成功",sdkSettingUp:"[wxobs] sdk record.\n[体验分析] SDK 采集模式, 正在启动采集",autoSetupInDevtool:"[wxobs] auto recording mode is not enabled in devtools. \n[体验分析] 为避免影响调试，开发者工具在非自定义启动模式下不会启动采集。详见 https://dev.weixin.qq.com/docs/analysis/sdk/debugging.html",cancelResetup:"[wxobs] autoSplitSession is not true cancel resetup\n[体验分析] 采集配置中未开启自动分片，取消重启采集",unknownRecordingMode:"[wxobs] unknown recording mode\n[体验分析] 未知的采集模式",autoRecordingModeDeprecated:"[wxobs] auto recording mode is deprecated \n[体验分析] 自动启动模式配置已过期",accessRecordingParamFailed:"[wxobs] can not access recording param. \n[体验分析] 无法获取采集配置",notSetup:"[wxobs] not setup\n[体验分析] 采集未启动",libversionBlackList:"[wxobs] this sdk version is blocked. \n[体验分析] 当前基础库版本已被禁用",alreadySetup:"[wxobs] already setup \n[体验分析] 采集已经启动"},oN,sN;function lN(){if(!oN)throw new Error("getLaunchOptionsSync:fail get launch options");var e=Wh(this)||"";return Mh(oN||{},e)}function cN(){if(!sN)throw new Error("getLaunchOptionsSync:fail get launch options");return sN||{}}en("getLaunchAppInfo",(({callbackId:e},t)=>{Kr("appLaunchInfoGot",{res:{sceneHistory:Zp.sceneHistory,appId:Zp.appId},callbackId:e},[t])})),re.onReady((()=>{if(!Ue()){var e=re.appLaunchInfo||{};Object.assign(e,re.debugLaunchInfo||{}),dh(e.scene),Eh(e,!0),Zp.appLaunchInfo=e,Zp.appLaunchShareInfo=e.shareInfo,Yh(e),y.info("[LaunchOptions] set launchOptions by config ready"),sN=xh(e,!0),oN=Th(sN,re.preloadType),sN.__public=Mh(oN,""),y.info("[EnterOptions] set enterOptions by config ready"),ef(oN)}}));var uN=_S(),dN=qw.OBS_DIRECTION_PATH.path,pN=`${dN}/meta.json`,hN=wg(uN.writeFile),fN=wg(uN.readFile),gN=wg(uN.access),vN=wg(uN.mkdir),mN="",yN="",bN=void 0;function _N(){return wN.apply(this,arguments)}function wN(){return wN=xd()((function*(){if(bN)return bN;try{return bN=SN(),yield bN}catch(e){throw e}finally{bN=void 0}})),wN.apply(this,arguments)}function SN(){return CN.apply(this,arguments)}function CN(){return(CN=xd()((function*(){if(mN)return mN;try{yield gN({path:dN})}catch(e){try{yield vN({dirPath:dN,recursive:!0})}catch(e){}}try{var e,t,r;try{t=(t=yield fN({filePath:pN,encoding:"utf-8"})).data}catch(e){}if(t&&(t=JSON.parse(t)),null!==(e=t)&&void 0!==e&&e.userIdentifier)return null===(r=t)||void 0===r?void 0:r.userIdentifier}catch(e){}var n={userIdentifier:cD()};return hN({filePath:pN,data:JSON.stringify(n)}),mN=n.userIdentifier,n.userIdentifier}))).apply(this,arguments)}function kN(){return mN}function IN(e){yN!==e&&(yN=e,WC("syncPXState",{customUid:e},i8.recordingWebviewIds,(()=>{})))}function PN(){return yN}var AN=function(e){return e[e.BOOLEAN=1]="BOOLEAN",e[e.STRING=2]="STRING",e[e.NUMBER=3]="NUMBER",e[e.JSON=4]="JSON",e}(AN||{}),xN={};function TN(e){return EN.apply(this,arguments)}function EN(){return EN=xd()((function*(e){var t;if(!e.flags||0===e.flags.length)return{};if(!e.latest){var r={},n=!0;for(var i of e.flags){if(!xN[i]){n=!1;break}r[i]=xN[i]}if(n)return r}var a=lN(),o={sessionId:i8.uuid,customUid:PN(),sdkVersion:re.SDKVersion,userVersion:null==re||null===(t=re.appContactInfo)||void 0===t?void 0:t.user_version,brand:re.brand,model:re.model,system:re.system,networkType:re.networkType,launch_scene:a.scene},s=[];for(var l of Object.keys(o)){var c=o[l];null!=c&&""!==c&&s.push({attribute:l,value:String(c)})}var u=yield tN({apiName:"webapi_wxobgetfeatureflag",reqData:{feature_flag_key:e.flags,context:[{kind:"user",kv:s}]}});if(void 0===u.data)throw new Error("empty feature flag info return");var d={},p={};for(var h of u.data.feature_flag_list){d[h.feature_flag_key]={key:h.feature_flag_key,type:h.variation_type,value:RN(h.value,h.variation_type)};var f=h.value;switch(h.variation_type){case AN.BOOLEAN:case AN.NUMBER:break;default:f=uD(h.value)}p[`flag_value_${h.feature_flag_key}`]=f}for(var g of(Object.assign(xN,d),e.flags))void 0!==d[g]&&null!==d[g]||(p[`flag_empty_${g}`]="1");return setTimeout((()=>{try{HN({wxobs_type:"feature_flags_received",...p})}catch(e){}}),0),d})),EN.apply(this,arguments)}function MN(){return xN}function RN(e,t){switch(t){case AN.BOOLEAN:return"true"===e;case AN.NUMBER:return Number(e);case AN.JSON:try{return JSON.parse(e)}catch(e){return null}default:return e}}var ON={autoStart:!0,isWhitelistMaskMode:!0,exposureSelectorList:[],shouldCapturePage:()=>!0,reportInterval:5e3,serverClientTimeDiff:0,networkConfig:{maxNormalNetworkLogTypes:50,maxNormalNetworkLogOccurrence:50,maxErrorNetworkLogTypes:50,maxErrorNetworkLogOccurrence:50},consoleConfig:{enableConsoleSerialization:!1,maxConsoleFieldLength:100,maxConsoleLength:1e3,maxConsoleMsgOccurrence:1e3,consoleLogDropLength:4096,maxConsoleMsgTypes:50,maxKeyCount:100}},DN=function(e){return e.NotSetup="NotSetup",e.SettingUp="SettingUp",e.WaitingForFirstReport="WaitingForFirstReport",e.Collecting="Collecting",e.TearingDown="TearingDown",e}({}),LN=DN.NotSetup,NN=null;function BN(){return $N.apply(this,arguments)}function $N(){return($N=xd()((function*(){var e;if(null!==(e=yield GL())&&void 0!==e&&e.versionBlackList&&re.SDKVersion&&(yield GL()).versionBlackList.indexOf(re.SDKVersion)>=0)throw new Error(aN.libversionBlackList)}))).apply(this,arguments)}function jN(e){var t=e.server_timestamp-Date.now(),r=Math.abs(t);return d$(mD.ServerClientTimeDiff,t),r>6e4?t:0}var FN=function(){var e=xd()((function*(e,t){var r;if((yield BN(),LN=DN.SettingUp,!a8.recording)&&!s8({...ON,...e,projectId:JL(),dataAttrs:null===(r=e.captureDataAttrs)||void 0===r||r}))throw new Error("Failed to complete preemptiveSetupWxobs");try{var n,i,a,o,s,l,c=JL(),u=e.coslessMode?void 0:null!=t?t:yield PL(),d=null!==(n=null==u||null===(i=u.real_object_prefix)||void 0===i||null===(a=i.split("/")[1])||void 0===a?void 0:a.replace("*",""))&&void 0!==n?n:eN();if(e.uuid=`${d}/${cD()}`,!nN())throw c$(mD.Unsupport),new Error(aN.unsupported);if(NN={attrs:null!==(o=e.attrs)&&void 0!==o?o:{},encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,param:{...ON,...e},prefix:d},!l8({projectId:c,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,cosInfo:u?{...u,prefix:d}:void 0,...{...ON,...e},uuid:e.uuid,serverClientTimeDiff:u?jN(u):0,dataAttrs:null===(s=e.captureDataAttrs)||void 0===s||s}))throw new Error("Failed to complete formalSetupWxobs");e.coslessMode||console.log(aN.setupSuccess),JN(null!==(l=e.attrs)&&void 0!==l?l:{}),LN=DN.WaitingForFirstReport}catch(e){throw c8(),LN=DN.NotSetup,NN=null,e}}));return function(t,r){return e.apply(this,arguments)}}(),WN=function(){var e=xd()((function*(e,t){var r,n,i,a,o,s;BN(),LN=DN.SettingUp;var l=JL(),c=e.coslessMode?void 0:null!=t?t:yield PL(),u=null!==(r=null==c||null===(n=c.real_object_prefix)||void 0===n||null===(i=n.split("/")[1])||void 0===i?void 0:i.replace("*",""))&&void 0!==r?r:eN();if(e.uuid=`${u}/${cD()}`,!nN())throw c$(mD.Unsupport),new Error(aN.unsupported);if(NN={attrs:null!==(a=e.attrs)&&void 0!==a?a:{},encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,param:{...ON,...e},prefix:u},!P8({projectId:l,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,cosInfo:c?{...c,prefix:u}:void 0,...{...ON,...e},uuid:e.uuid,serverClientTimeDiff:c?jN(c):0,dataAttrs:null===(o=e.captureDataAttrs)||void 0===o||o}))return LN=DN.NotSetup,void(NN=null);e.coslessMode||console.log(aN.setupSuccess),JN(null!==(s=e.attrs)&&void 0!==s?s:{}),LN=DN.WaitingForFirstReport}));return function(t,r){return e.apply(this,arguments)}}();function UN(e){return VN.apply(this,arguments)}function VN(){return(VN=xd()((function*(e){var t={};if(!(yield qL()))return console.error(aN.notSdkRecordingMode),t.errMsg=aN.notSdkRecordingMode,t;if(LN!==DN.NotSetup)return t.errMsg="重复调用: 采集已经启动",t;try{var r,n,i=yield GL();return"number"!=typeof(null==i?void 0:i.proportion)||eB(i.proportion)?(console.log(aN.sdkSettingUp),(yield YL())?yield FN({...e,encrypt:null==i?void 0:i.encrypt,cloudServiceProvider:null==i?void 0:i.cloudServiceProvider,exposureSelectorList:null==i?void 0:i.exposureSelectorList,pluginList:null==i?void 0:i.pluginList,featureConfig:null==i?void 0:i.featureConfig,networkConfig:null==i?void 0:i.networkConfig,consoleConfig:null==i?void 0:i.consoleConfig,reportInterval:null!==(r=null==i?void 0:i.reportInterval)&&void 0!==r?r:5e3,rawMetaData:null==i?void 0:i.rawMetaData,coslessMode:!1,customHost:null==i?void 0:i.customHost,textLenGranularity:null==i?void 0:i.textLenGranularity}):yield WN({...e,encrypt:null==i?void 0:i.encrypt,cloudServiceProvider:null==i?void 0:i.cloudServiceProvider,exposureSelectorList:null==i?void 0:i.exposureSelectorList,pluginList:null==i?void 0:i.pluginList,featureConfig:null==i?void 0:i.featureConfig,reportInterval:null!==(n=null==i?void 0:i.reportInterval)&&void 0!==n?n:5e3,rawMetaData:null==i?void 0:i.rawMetaData,coslessMode:!1,customHost:null==i?void 0:i.customHost,textLenGranularity:null==i?void 0:i.textLenGranularity}),t.sessionId=NN.param.uuid,c$(mD.SdkSetup),t):(t.errMsg="miss sample",c$(mD.MissSample),oB(),t)}catch(e){return t.errMsg=`setup failed: ${e.message} ${JSON.stringify(e)}`,kL(SL.Setup,e),t}}))).apply(this,arguments)}function qN(){LN===DN.WaitingForFirstReport&&(LN=DN.Collecting)}function zN(){return GN.apply(this,arguments)}function GN(){return(GN=xd()((function*(){if(NN)try{if(!NN)return void console.warn("[wxobs] not setup");LN=DN.TearingDown,console.log("[wxobs] obs is teardowning"),yield u8(),console.log("[wxobs] obs is teardowned"),c$(mD.Teardown),NN=null,LN=DN.NotSetup,xL()}catch(e){kL(SL.TeardownApi,e),console.error("[wxobs] teardown failed",e)}else console.warn("[wxobs] not setup")}))).apply(this,arguments)}function HN(e){return KN.apply(this,arguments)}function KN(){return(KN=xd()((function*(e){if(!NN)throw new Error("not setup");m8(e)}))).apply(this,arguments)}function JN(e){NN?(NN.attrs=e,Object.keys(e).length>0&&g8({...e})):console.warn(aN.notSetup)}function XN(){return LN}function YN(e=!1){return!!Ce&&(!e&&console.log(aN.autoSetupInDevtool),!0)}function QN(e=!1){var t=GL();return void 0===t?(!e&&console.warn(aN.accessRecordingParamFailed),!1):t}function ZN(){return!NN||(console.warn(aN.alreadySetup),!1)}function eB(e){return e>=100*Math.random()}function tB(){return rB.apply(this,arguments)}function rB(){return rB=xd()((function*(){if((yield UL())&&!YN()&&ZN()){if(!(yield YL()))return nB();var e=yield QN();if(e)try{if(eB(e.proportion)){var t,r;if(console.log("[wxobs] 自动采集模式 - 预设置阶段",{param:e}),!s8({...ON,...e,coslessMode:!1,projectId:JL(),dataAttrs:!0}))throw new Error("preemptiveSetupWxobs failed");LN=DN.SettingUp;try{r=yield PL()}catch(e){return console.error("[wxobs] Failed to get cosInfo",e),c8(),void(LN=DN.NotSetup)}if(r.wxob_mode&&1!==r.wxob_mode)return console.warn(aN.autoRecordingModeDeprecated),c8(),xL(),void(LN=DN.NotSetup);console.log("[wxobs] 自动采集模式 - 完整设置阶段",{param:e,cosInfo:r}),yield FN({isWhitelistMaskMode:e.isWhitelistMaskMode,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,exposureSelectorList:e.exposureSelectorList,pluginList:e.pluginList,featureConfig:e.featureConfig,reportInterval:null!==(t=e.reportInterval)&&void 0!==t?t:5e3,serverClientTimeDiff:0,rawMetaData:e.rawMetaData,coslessMode:!1,customHost:e.customHost,textLenGranularity:e.textLenGranularity},r),c$(mD.AutoSetup)}else oB(),c$(mD.MissSample)}catch(e){c8(),kL(SL.Setup,e)}}})),rB.apply(this,arguments)}function nB(){return iB.apply(this,arguments)}function iB(){return(iB=xd()((function*(){if((yield UL())&&!YN()&&ZN()){var e=yield QN();if(e)try{if(eB(e.proportion)){var t,r=yield PL();if(r.wxob_mode&&1!==r.wxob_mode)return console.warn(aN.autoRecordingModeDeprecated),void xL();console.log("[wxobs] 自动采集模式",{param:e}),yield WN({isWhitelistMaskMode:e.isWhitelistMaskMode,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,exposureSelectorList:e.exposureSelectorList,pluginList:e.pluginList,featureConfig:e.featureConfig,networkConfig:e.networkConfig,consoleConfig:e.consoleConfig,reportInterval:null!==(t=e.reportInterval)&&void 0!==t?t:5e3,serverClientTimeDiff:0,rawMetaData:e.rawMetaData,coslessMode:!1,customHost:e.customHost},r),c$(mD.AutoSetup)}else oB(),c$(mD.MissSample)}catch(e){kL(SL.Setup,e)}}}))).apply(this,arguments)}function aB(){var e=re.envVersion;return"develop"===e||"trial"===e}function oB(){return sB.apply(this,arguments)}function sB(){return(sB=xd()((function*(){if(!YN(!0)&&ZN()&&!aB()){var e=yield QN(!0);if(e)try{var t,r;if(yield YL())yield FN({isWhitelistMaskMode:e.isWhitelistMaskMode,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,exposureSelectorList:e.exposureSelectorList,pluginList:e.pluginList,featureConfig:e.featureConfig,networkConfig:e.networkConfig,consoleConfig:e.consoleConfig,reportInterval:null!==(t=e.reportInterval)&&void 0!==t?t:5e3,serverClientTimeDiff:0,rawMetaData:e.rawMetaData,coslessMode:!0,autoSplitSession:!1,customHost:e.customHost});else yield WN({isWhitelistMaskMode:e.isWhitelistMaskMode,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,exposureSelectorList:e.exposureSelectorList,pluginList:e.pluginList,featureConfig:e.featureConfig,networkConfig:e.networkConfig,consoleConfig:e.consoleConfig,reportInterval:null!==(r=e.reportInterval)&&void 0!==r?r:5e3,serverClientTimeDiff:0,rawMetaData:e.rawMetaData,coslessMode:!0,autoSplitSession:!1,customHost:e.customHost})}catch(e){kL(SL.Setup,e)}}}))).apply(this,arguments)}function lB(){return cB.apply(this,arguments)}function cB(){return(cB=xd()((function*(){try{var e;if(!NN)return void console.warn("[wxobs] not setup");var t,r=NN.param,n=yield UL(),i=yield qL();if(i&&!r.autoSplitSession)return void(null===(t=v)||void 0===t||t.log(aN.cancelResetup));null===(e=v)||void 0===e||e.log("[wxobs] resetup"),c$(mD.Resetup),yield zN(),setTimeout(xd()((function*(){try{if(r.coslessMode)oB();else if(n)tB();else if(i){var e;if(yield FN(r),!NN)throw new Error("setup failed: no controllerContext");null===(e=r.newSessionCallback)||void 0===e||e.call(r,{sessionId:NN.param.uuid})}else console.warn(aN.unknownRecordingMode)}catch(e){kL(SL.Resetup,e)}})),100)}catch(e){kL(SL.Resetup,e)}}))).apply(this,arguments)}try{re.onReady((()=>{tB(),S8(lB)}))}catch(e){kL(SL.Setup,e,"Foundation.onLoad")}function uB(e){if(qL())if(NN)console.warn("重复调用: 采集已经启动");else try{var t;c$(mD.LegacySetupApi);var r=XL();if("number"==typeof(null==r?void 0:r.proportion)&&r.proportion<100*Math.random())return console.warn("[wxobs] miss sample\n[体验分析] 未命中采样"),void c$(mD.MissSample);console.log("[wxobs] SDK 采集模式",{param:e,remoteParam:r}),FN({...e,encrypt:null==r?void 0:r.encrypt,cloudServiceProvider:null==r?void 0:r.cloudServiceProvider,exposureSelectorList:null==r?void 0:r.exposureSelectorList,pluginList:null==r?void 0:r.pluginList,featureConfig:null==r?void 0:r.featureConfig,networkConfig:null==r?void 0:r.networkConfig,consoleConfig:null==r?void 0:r.consoleConfig,reportInterval:null!==(t=null==r?void 0:r.reportInterval)&&void 0!==t?t:5e3,rawMetaData:null==r?void 0:r.rawMetaData,customHost:null==r?void 0:r.customHost}),c$(mD.SdkSetup)}catch(e){kL(SL.Setup,e)}else console.error(aN.notSdkRecordingMode)}var dB=e=>{switch(e.type){case KO.CustomEvent:var t,r,n=(null===(t=e.data)||void 0===t?void 0:t.__cos_only__)||(null===(r=e.data)||void 0===r?void 0:r.wxobs_props___cos_only___int);return n||c$(mD.UploadWxCustomEvent),c$(mD.UploadCustomEvent),n;case KO.NetworkAPI:var i=a8.recorderConfigs.enabledFeatures.uploadSuccessNetworkToWx,a=!e.data.isSdkSelected&&!i&&e.data.success;return a||c$(mD.UploadWxNetwork),c$(mD.UploadNetwork),a;case KO.RTLogInfo:case KO.RTLogDebug:case KO.RTLogWarn:case KO.RTLogError:var o=!a8.recorderConfigs.enabledFeatures.uploadRealtimeLogToWx;return o||c$(mD.UploadWxRealtimeLog),c$(mD.UploadRealtimeLog),o;default:return!1}},pB=0,hB;function fB(){pB=0}function gB(){}function vB(e){var t=pB,r=[],n=[];for(var i of e){var a={...i,extractedSeq:t++};dB(i)?n.push(a):r.push(a)}return[r,n,t]}function mB(e){pB=e}var yB=!0,bB=!0,_B=1,wB=new Set,SB=0,CB=new Map,kB=new Map;function IB(){function e(){return t.apply(this,arguments)}function t(){return(t=xd()((function*(){yield AB(),yB&&(hB=setTimeout(e,i8.reportInterval*_B))}))).apply(this,arguments)}yB=!0,_B=1,hB=setTimeout(e,i8.reportInterval*_B),setTimeout((()=>{Xr("wxobs:unifiedReportReady",(e=>{e.data,wB.add(e.data.webviewId)})),Xr("wxobs:unifiedReportAck",(e=>{e.data;var{ack:t,success:r}=e.data,n=CB.get(t);n&&(n(r),CB.delete(t))})),Xr("wxobs:unifiedReportCosDone",(e=>{for(var t of(e.data,e.data.acks)){var r=kB.get(t);r&&(r(),kB.delete(t))}}))}),0)}function PB(){yB=!1,clearTimeout(hB),wB.clear(),CB.clear(),kB.clear()}function AB(){return xB.apply(this,arguments)}function xB(){return xB=xd()((function*(e={}){var{backstopWithWxData:t=!1}=e;try{var{events:r}=a8;if(MB())return;if(a8.pending=!0,r.length,i8.enabledFeatures.batchListUpload){var{sentEvents:n,newSeq:i,uploadBatch:a,cosOnlyUploadBatch:o,cosOnlyEvents:s}=yield jB(r);try{yield TB({backstopWithWxData:t,sentEvents:n,uploadBatch:a,newSeq:i}),o&&(yield TB({backstopWithWxData:t,cosOnly:!0,sentEvents:s,uploadBatch:o,newSeq:i})),r.splice(0,n.length+s.length)}catch(e){kL(SL.AppserviceReport,e)}}else{var l=yield LB(r);for(var c of l){var{sentEvents:u,data:d,cosOnlyEvents:p,cosOnlyData:h,newSeq:f}=c;try{yield TB({backstopWithWxData:t,sentEvents:u,uploadBatch:d,newSeq:f}),h&&(yield TB({backstopWithWxData:t,cosOnly:!0,sentEvents:p,uploadBatch:h,newSeq:f})),r.splice(0,u.length+p.length)}catch(e){kL(SL.AppserviceReport,e)}}}}catch(e){kL(SL.AppserviceReport,e)}finally{a8.pending=!1}})),xB.apply(this,arguments)}function TB(e){return EB.apply(this,arguments)}function EB(){return EB=xd()((function*(e){var{backstopWithWxData:t=!1,sentEvents:r,uploadBatch:n,newSeq:i,cosOnly:a=!1}=e,{recorderConfigs:o}=a8,s=JSON.stringify(n),l=!1,c=!1;o.compress&&(s=yield qB(_L(s)),l=!0);try{l&&o.encrypt&&(s=yield KB(s),c=!0)}catch(e){var{events:u}=a8;throw u.unshift(...r),e}var d=I8();if(void 0!==o.reporter&&o.enabledFeatures.unifiedReport&&wB.has(o.reporter)&&!e.backstopWithWxData){var p=++SB,h=!1,f=new Promise((e=>{CB.set(p,e)}));r$(s,{compressed:l,encrypted:c,ack:p});try{var g=setTimeout((()=>{CB.has(p)&&(CB.get(p)(!1),CB.delete(p))}),3e3),v=yield f;if(clearTimeout(g),!v)throw new Error("Unified report failed");a||kB.set(p,(()=>{var e;null===(e=o.onReport)||void 0===e||e.call(o,{timestamp:d,from:"appservice"}),qN(),QB(s,{encrypted:c,compressed:l})})),mB(i),h=!0,c$(mD.UnifiedReportSuccess)}catch(e){c$(mD.UnifiedReportFailure)}if(h)return}try{var m=yield XB(s,{encrypted:c,compressed:l});if(n$(null==m?void 0:m.status))i$();else{if(451===(null==m?void 0:m.status))return void RB();if(403===(null==m?void 0:m.status)||404===(null==m?void 0:m.status))throw new Error(`uploadToCos status ${null==m?void 0:m.status} ${JSON.stringify(m)}`);OB(d,s.length)}a||(yield QB(s,{encrypted:c,compressed:l})),mB(i)}catch(e){if(t)try{yield XB(s,{encrypted:c,compressed:l},!0),OB(d,s.length,!0),a||(yield QB(s,{encrypted:c,compressed:l})),mB(i)}catch(e){DB(r,e,!0)}else DB(r,e)}})),EB.apply(this,arguments)}function MB(){var{events:e,pending:t}=a8;return!!t||0===e.length}function RB(){zN(),console.warn("[wxobs] cos 已欠费，取消采集"),c$(mD.Status451)}function OB(e,t,r=!1){var n;c$(r?mD.UploadCosSucessWithWxData:mD.UploadCosSucess),d$(r?mD.UploadCosCostWithWxData:mD.UploadCosCost,I8()-e),u$(r?mD.UploadCosSizeWithWxData:mD.UploadCosSize,t),_B=1,null===(n=i8.onReport)||void 0===n||n.call(i8,{timestamp:e,from:"appservice"}),qN(),bB=!1}function DB(e,t,r=!1){var{events:n}=a8;c$(r?mD.UploadCosFailureWithWxData:mD.UploadCosFailure),n.unshift(...e),kL(r?SL.AppserviceReportCosWithWxData:SL.AppserviceReportCos,t),_B=Math.min(1.5*_B,32)}function LB(e){return NB.apply(this,arguments)}function NB(){return NB=xd()((function*(e){var{sdkVersion:t,projectId:r,uuid:n}=a8.recorderConfigs,i={};for(var a of e){var o,s=null!==(o=a.weSessionId)&&void 0!==o?o:"";i[s]||(i[s]={meta:a.sessionLifeTimeMeta,events:[]}),i[s].events.push(a)}var l=[];for(var[c,u]of Object.entries(i)){var d,p,{meta:h={weSessionId:"",wesessionScene:0,wesessionSceneNote:"",isWesessionEntrance:0,openSource:1},events:f}=u,[g,v,m]=vB(f),y={record:{customUid:PN(),localUid:yield _N(),hashUid:null!==(d=i8.hashUid)&&void 0!==d?d:void 0,uuid:n,event:JSON.stringify(g.map((e=>({...e,weSessionId:void 0,sessionLifeTimeMeta:void 0})))),path:"",projectKey:r,sdkVersion:t,timestamp:I8(),weSessionId:c,coslessMode:i8.coslessMode,wesessionScene:h.wesessionScene,wesessionSceneNote:h.wesessionSceneNote,isWesessionEntrance:h.isWesessionEntrance,openSource:h.openSource,...null!==(p=i8.staticMeta)&&void 0!==p?p:{openId:"",enterScene:0,languageVersion:"",clientVersion:0,addState:-1,envVersion:-1,appversion:"",devicemodel:"",devicebrand:"",osName:"",osVersion:""}}},b=v.length>0?{record:{...y.record,event:JSON.stringify(v)}}:void 0;l.push({sentEvents:g,data:y,cosOnlyEvents:v,cosOnlyData:b,newSeq:m})}return l})),NB.apply(this,arguments)}var BB="",$B="{}";function jB(e){return FB.apply(this,arguments)}function FB(){return FB=xd()((function*(e){var{sdkVersion:t,projectId:r,uuid:n}=a8.recorderConfigs,i=yield _N(),a=[],o={weSessionId:"",path:BB,query:$B,events:[],sessionLifeTimeMeta:{weSessionId:"",wesessionScene:0,wesessionSceneNote:"",isWesessionEntrance:0,openSource:1}};for(var s of e){var l,c,u=null!==(l=s.weSessionId)&&void 0!==l?l:"",d=o.path,p=o.query;if(WB(s)){var{path:h,query:f}=UB(s);d=h,p=f}if(u!==o.weSessionId||d!==o.path||p!==o.query)o.events.length>0&&(o.weSessionId,o.path,o.query,o.events.length,a.push({...o})),o={weSessionId:u,path:d,query:p,events:[],sessionLifeTimeMeta:null!==(c=s.sessionLifeTimeMeta)&&void 0!==c?c:{weSessionId:"",wesessionScene:0,wesessionSceneNote:"",isWesessionEntrance:0,openSource:1}};o.events.push(s)}if(o.events.length>0&&a.push(o),a.length>0){var g=a[a.length-1];BB=g.path,$B=g.query}var v=[],m=[],y=[],b=[],_=0,w=function*(e){var a,[o,s,l]=vB([...e.events,{type:KO.BatchReport,data:{},timestamp:VB(e.events)}]);_=l,y=y.concat(o),b=b.concat(s);var c=null!==(a=e.sessionLifeTimeMeta)&&void 0!==a?a:{weSessionId:"",wesessionScene:0,wesessionSceneNote:"",isWesessionEntrance:0,openSource:1},u=a=>{var o,s;return{customUid:PN(),localUid:i,hashUid:null!==(o=i8.hashUid)&&void 0!==o?o:void 0,uuid:n,event:JSON.stringify(a.map((e=>({...e,weSessionId:void 0,sessionLifeTimeMeta:void 0})))),path:e.path,query:e.query,projectKey:r,sdkVersion:t,timestamp:I8(),weSessionId:e.weSessionId,coslessMode:i8.coslessMode,wesessionScene:c.wesessionScene,wesessionSceneNote:c.wesessionSceneNote,isWesessionEntrance:c.isWesessionEntrance,openSource:c.openSource,...null!==(s=i8.staticMeta)&&void 0!==s?s:{openId:"",enterScene:0,languageVersion:"",clientVersion:0,addState:-1,envVersion:-1,appversion:"",devicemodel:"",devicebrand:"",osName:"",osVersion:""}}};o.length>0&&v.push({record:u(o)}),s.length>0&&m.push({record:u(s)})};for(var S of a)yield*w(S);return a.length,v.length,m.length,y.length,b.length,{sentEvents:y,cosOnlyEvents:b,uploadBatch:v.length>1?{recordList:v.map((e=>e.record))}:v[0],cosOnlyUploadBatch:m.length>0?m.length>1?{recordList:m.map((e=>e.record))}:m[0]:null,newSeq:_}})),FB.apply(this,arguments)}function WB(e){return[KO.AppLaunch,KO.AutoReLaunch,KO.SwitchTab,KO.ReLaunch,KO.RedirectTo,KO.NavigateTo,KO.NavigateBack,KO.InitState].includes(e.type)}function UB(e){if(e.type===KO.InitState){var{path:t,query:r}=e.data.launchOptions;return{path:t,query:JSON.stringify(r)}}var{path:n,query:i}=e.data;return{path:n,query:JSON.stringify(i)}}function VB(e){var t=0;for(var r of e)r.timestamp&&r.timestamp>t&&(t=r.timestamp);return t||I8()}function qB(e){return zB.apply(this,arguments)}function zB(){return(zB=xd()((function*(e){var t=I8(),r=gL(e);return d$(mD.CompressCost,I8()-t),r}))).apply(this,arguments)}var GB=0,HB=new Map;function KB(e){return JB.apply(this,arguments)}function JB(){return JB=xd()((function*(e){var t=I8(),r={data:e.buffer,useBinary:!0,isArrayData:!0,tokenInfo:{encryptKeyBytes:Array.from(_L(i8.encrypt.key)),ivBytes:Array.from(_L(i8.encrypt.iv))}};try{var n=new Uint8Array(yield sh().runTask("aesEncrypt",r));return d$(mD.EncryptCost,I8()-t),n}catch(t){var i={data:Av(e),id:++GB};fr("wxobs:encrypt",{data:i},[i8.reporter]);var a=new Promise(((e,t)=>{HB.set(i.id,e),setTimeout((()=>t(new Error("webview encrypt timeout"))),5e3)}));return yield a}})),JB.apply(this,arguments)}function XB(e,t){return YB.apply(this,arguments)}function YB(){return YB=xd()((function*(e,{encrypted:t},r=!1){var{recorderConfigs:n}=a8;if(n.coslessMode)return{};var{projectId:i,uuid:a}=n,o=`${i}/${a}-appservice-${I8()}-${cD().slice(0,5)}`,s=rD(!0,[[t?`encrypt:${n.encrypt.version}`:"raw:1",e]]);if(e.length,s.length,r){var l=yield _D(o,s);return l}var c=yield yD({key:o,headers:{"Content-Type":"application/octet-stream"},body:s});return c})),YB.apply(this,arguments)}function QB(e,t){return ZB.apply(this,arguments)}function ZB(){return ZB=xd()((function*(e,{encrypted:t,compressed:r}){try{var n=Date.now(),{recorderConfigs:i}=a8,{sdkVersion:a}=i,o=yield lD(i.url,{method:"POST",headers:{"x-wx-ob-env":"appservice","x-wx-ob-sdkversion":a||"","x-wx-ob-pack-version":t?SD.CompressedAndAesCbc:r?SD.Compressed:SD.Raw,"x-wx-ob-project-key":i.projectId},body:e});return c$(mD.UploadWxSucess),d$(mD.UploadWxCost,Date.now()-n),u$(mD.UploadWxSize,e.length),o}catch(e){c$(mD.UploadWxFailure),kL(SL.AppserviceReportWx,e)}})),ZB.apply(this,arguments)}function e$(e){return t$.apply(this,arguments)}function t$(){return t$=xd()((function*(e){var{recorderConfigs:t}=a8,{sdkVersion:r}=t;try{var n;yield lD("https://servicewechat.com/ob/sdkmonitor?devtools_ignore=true",{method:"POST",headers:{"Content-Type":"application/json","x-wx-ob-env":"appservice","x-wx-ob-sdkversion":r,"x-wx-ob-pack-version":SD.Raw,"x-wx-ob-project-key":null===(n=re.accountInfo)||void 0===n?void 0:n.appId},body:e})}catch(e){}})),t$.apply(this,arguments)}function r$(e,t){var{recorderConfigs:r}=a8,n={data:Av(e),metadata:t,ack:t.ack};fr("wxobs:unifiedReport",{data:n},[r.reporter]),c$(mD.PublishDataToWebview),u$(mD.PublishDataToWebviewSize,e.length)}function n$(e){return i8.enabledFeatures.autoSwitchCosless&&(403===e||404===e||451===e)&&bB}function i$(){c$(mD.AutoSwitchToCosless),i8.coslessMode=!0,WC("syncPXState",{coslessMode:!0},i8.recordingWebviewIds,(()=>{}))}Xr("wxobs:encryptDone",(e=>{e.data;var{id:t,data:r}=e.data,n=HB.get(t);n&&(n(new Uint8Array(xv(r))),CB.delete(t))}));var a$=5e3,o$={},s$={},l$=[];function c$(e){u$(e,1)}function u$(e,t){e in o$||(o$[e]=0),e in s$||(s$[e]=0),o$[e]+=t,s$[e]+=t,h$()}function d$(e,t){l$.push({metric:e,value:t})}var p$=!1;function h$(){p$||(p$=!0,setTimeout(f$,a$))}function f$(){try{var e;if(0===Object.keys(s$).length)return;var{version:t,updateTime:r}=OT(),n=`${t} (${r})`,i=null!==(e=a8.recorderConfigs.uuid)&&void 0!==e?e:"none",a=Object.keys(s$).map((e=>({session_id:i,sdk_version:n,metric_type:Number(e),metric_value:Math.round(s$[Number(e)]),os_name:re.system,os_version:re.envVersion})));a.push(...l$.map((({metric:e,value:t})=>({session_id:i,sdk_version:n,metric_type:e,metric_value:Math.round(t),os_name:re.system,os_version:re.envVersion})))),e$(JSON.stringify({report_items:a})),s$={},l$=[]}catch(e){}finally{setTimeout(f$,a$)}}var g$=ir("onTabItemTap"),v$=g$.internalOnMethod;qt("onTabItemTap",((...e)=>{g$.emit(...e)}));var m$=ir("AppService-Error"),y$=ir("AppService-UnhandledRejection"),b$=m$.onMethod,_$=m$.offMethod,w$=y$.onMethod,S$=y$.offMethod;T.registerThirdErrorListener((e=>{m$.emit(e)})),T.registerThirdUnhandledRejectionListener(((e,t)=>{y$.emit({reason:e,promise:t})}));var C$=Object.hasOwnProperty,k$=ir("AppRouteNotFound"),I$=k$.onMethod,P$=k$.offMethod,A$=k$.emit,x$=(e,t)=>{y.info(`[rewriteRoute] (webviewId=${t}) ${e}`)},T$={},E$=(e,t)=>{var r=0;if(C$.call(e,"originalWebviewId")){var n;r=e.originalWebviewId,x$(`Found originalWebviewId=${r}`,t),null===(n=S.clientManager)||void 0===n||n.emit("clientIdChanged",r,t)}else{if(1!==Object.keys(T$).length)return x$(`No originalWebviewId found and we have ${Object.keys(T$).length} backup data, guess failed, cleaning backups and giving up`,t),T$={},e;r=Object.keys(T$)[0],x$(`No originalWebviewId found and guess it=${r}`,t)}var i=T$[r];return delete T$[r],["openType","wxMaterial","location","prerender"].forEach((t=>{e[t]=i[t]})),e},M$=(e,{needHtmlSuffix:t})=>{var r=pp(e.replace(/\.html(\?|$)/i,(e=>e.slice(5))));if("/"===r[0]&&(r=r.slice(1)),!t)return r;var n=r.indexOf("?");return n<0&&(n=r.length),r.slice(0,n)+".html"+r.slice(n)},R$=(e,t=0)=>{if(["dismissPip","navigateBack"].includes(e.openType))return{rewritten:!1,triggerNotFound:!1};if("rewriteRoute"===e.openType&&(e=E$(e,t)),!e.notFound)return{rewritten:!1,triggerNotFound:!1};for(var r=!1,n=e.rawPath;/^[-_+a-z]+:\/\//i.test(n);){x$(`${n} has protocol, try rewriting`,t);try{var i=mp(n);if("wxpage://"===i)return e.rawPath="__wx__/"+e.rawPath.slice(i.length),e.path="__wx__/"+e.path.slice(i.length),md("pageNotFoundCallback",{hasHandler:!0,webviewId:t}),{rewritten:!1,triggerNotFound:!1};n=M$(n,{needHtmlSuffix:!0}),r=!0}catch(e){return T.reportIDKey({key:"pageNotFound",force:!0}),"AppServiceSdkKnownError"===e.type&&console.error(e.message),md("pageNotFoundCallback",{hasHandler:!1,webviewId:t}),{rewritten:!1,triggerNotFound:!1}}}return r?(T$[t]=e,x$(`rewriteRoute from "${e.rawPath}" to "${n}"`,t),md("rewriteRoute",{url:n,webviewId:t,fail(e){"rewriteRoute:fail:not supported"===e.errMsg&&(x$(`rewriteRoute from "${e.rawPath}" to "${n}" not supported, fallback to redirectTo`,t),jM({url:n}))}}),{rewritten:!0,triggerNotFound:!1}):{rewritten:!1,triggerNotFound:!0}},O$=(e={})=>{md("captureScreen",e,{})},D$=ir("userCaptureScreen"),L$=D$.onMethod,N$=D$.offMethod,B$=null,$$=null,j$=[],F$=[],W$=uu,U$=()=>{var e;return null===(e=W$.lastRoute)||void 0===e?void 0:e.match(/__plugin__\/wx[a-z0-9]{16}/)};ur("onUserCaptureScreen",(e=>{U$()?V$($$,F$):V$(B$,j$),D$.emit(e)}));var V$=(e,t)=>{if("function"==typeof e){var r={},n=W$.query;"object"==typeof n&&(n=Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&")),r.takeScreenShotQuery=n,r.callBackHasPromise=!1,W$.query,r.takeScreenShotQuery,t.push(r);(e=>{setTimeout((()=>{var r=t.indexOf(e);r>-1&&t.splice(r,1)}),3e3)})(r);var i=e();i&&("string"==typeof i.query&&(r.takeScreenShotQuery=i.query),It(i.promise)&&(r.callBackHasPromise=!0,i.promise.then((e=>{e&&"string"==typeof e.query&&(r.takeScreenShotQuery=e.query)}))))}},q$=e=>e.length>0?e.shift():null;ur("onTakeScreenshot",xd()((function*(){var e,t=0,r=e=>{var r=W$.lastRoute||"";if(e)if(e.callBackHasPromise)setTimeout((()=>{var t="/"+r+".html";e.takeScreenShotQuery&&(t+="?"+e.takeScreenShotQuery),md("returnTakeScreenshot",{url:t})}),1500-t);else{var n="/"+r+".html";e.takeScreenShotQuery&&(n+="?"+e.takeScreenShotQuery),md("returnTakeScreenshot",{url:n})}else{var i=W$.query;"object"==typeof i&&(i=Object.keys(i).map((e=>`${e}=${i[e]}`)).join("&"));var a="/"+r+".html"+(i?"?"+i:"");W$.query,md("returnTakeScreenshot",{url:a})}};e=q$(j$);var n;n=q$(F$),"android"===re.platform?(t=500,U$()?setTimeout(r,t,n):setTimeout(r,t,e)):U$()?r(n):r(e)})));var z$=e=>{B$=e},G$=e=>{$$=e},H$=()=>{B$=null},K$=()=>{$$=null};re.onReady((()=>{var e,t,r,n=1092===(null===(e=re.appLaunchInfo)||void 0===e?void 0:e.scene),i=null===(t=re.appLaunchInfo)||void 0===t||null===(r=t.referrerInfo)||void 0===r?void 0:r.extraData;ur("onAppEnterForeground",(e=>{var t;n=1092===e.scene,i=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),ur("onUserCaptureScreen",(()=>{var e,t,r=W$.lastRoute||"",a=W$.query||{};"object"==typeof a&&(a=Object.keys(a).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(a[e])}`)).join("&")),T.reportKeyValue({key:"MiniprogramOnUserCaptureScreen",value:[r,a].join(",")}),n&&(null===(e=i)||void 0===e?void 0:e.csSessionId)&&TE({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:1,cs_session_id:null===(t=i)||void 0===t?void 0:t.csSessionId}})}))}));var J$=(e={})=>{md("getScreenBrightness",e,{})},X$=(e={})=>{md("setScreenBrightness",e,{})},Y$=(e={})=>{Vc("setKeepScreenOn",e,{keepScreenOn:!0})&&md("setKeepScreenOn",e,{})},Q$=(e={})=>{e.visualEffect=e.visualEffect||"none",md("setVisualEffectOnCapture",e,{})};ur("onScreenRecordingStateChanged",((e={})=>{var t=gp(uu.lastRoute);"//"!==t&&ir(`${t}onScreenRecordingStateChanged`).emit(e)}));var Z$=e=>t=>{ir(`${e}onScreenRecordingStateChanged`).onMethod(t)},ej=e=>t=>{ir(`${e}onScreenRecordingStateChanged`).offMethod(t)},tj=(e={})=>{md("getScreenRecordingState",e,{})},rj=!1,nj=0;oP((e=>{nj=e.timeStamp,rj=!0})),Gp((()=>{nj=0,rj=!1}));var ij=()=>rj,aj=()=>{nj=Date.now(),rj=!0},oj=e=>{aj(),"function"==typeof e.success&&e.success()},sj=()=>rj,lj=()=>nj,cj=null,uj=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],dj=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],pj=()=>({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0}),hj=(e,t,r)=>Math.min(Math.max(t,e),r),fj=({outer:e={width:0,height:0},inner:t={width:0,height:0},maxScale:r=1e3,minScale:n=0,side:i})=>{var a=e.width/e.height,o=t.width/t.height,s=e.width/t.width,l=e.height/t.height,c=a>o?l:s;return"width"===i?c=s:"height"===i&&(c=l),c=hj(c,n,r),t.width*=c,t.height*=c,e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height),{scale:c,outer:e,inner:t}},gj=(e=0)=>new Promise((t=>{setTimeout(t,e)})),vj=()=>{},mj=()=>{},yj=(e,t)=>{for(var r="",n=0,i=0;i<e.length;i++){if((n+=/[\u4e00-\u9fa5]/.test(e[i])?2:1)>t){r+="...";break}r+=e[i]}return r},bj=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),_j=e=>Object.keys(e).reduce(((t,r)=>{var n=e[r],i=typeof n;return"object"===i&&null!==n?t[r]=_j(n):"undefined"!==i&&(t[r]=e[r]),t}),{}),wj=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e},Sj=(e,t,r)=>{r&&ur(e,t)},Cj=(e,t)=>{Sj(e,t,"undefined"==typeof IS_SDK_PACKAGE)},kj;kj=32768;var Ij={uuid:kj,increase(){return this.uuid++}},Pj=new Qt({maxListeners:2e5}),Aj="portrait",xj="";re.onReady((()=>{Aj=re.deviceOrientation||Aj,xj=JS().model||""}));var Tj=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class Ej{constructor({parentId:e=0,id:t=Ij.increase(),style:r={},props:n={},name:i=""}={}){var a=re.platform;this.parentId=e,this.dest=0,this.id=t,this.name=i,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.autoLayout=!0,this.readyResult=new Promise((e=>{this.on("ready",e)})),r=Object.assign(pj(),r),Object.assign(r,r[Aj]);var o=/iphone x/.test(xj.toLowerCase())?"iphone x":a;Object.assign(r,r[o]),Object.assign(r,r[`${o}-${Aj}`]),this.style={},this.computedStyle=Object.assign({},r),this.lastComputedStyle=Object.assign({},r),this.layoutBox=null,Object.keys(r).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{if(t!==r[e]&&void 0!==t){if(r[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==uj.indexOf(e)&&this.style.scale){var n=t*this.style.scale;this.computedStyle[e]=n,this.lastComputedStyle[e]=n}"scale"===e&&uj.forEach((e=>{r[e]&&(this.computedStyle[e]=r[e]*t,this.lastComputedStyle[e]=r[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?(mj(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),dj.forEach((e=>{this.computedStyle[e]=0}))):(mj(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),dj.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),uj.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),r.hidden&&dj.forEach((e=>{this.computedStyle[e]=0})),Object.keys(n).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>n[e],set:t=>{t!==n[e]&&(n[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var r=0,n=0;try{r=this.layoutBox.left,n=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var i=Object.assign({},t);i.x+=r,i.y+=n,this.parent.emit(e,i)}else{var a=t.map((e=>({x:e.x+r,y:e.y+n})));this.parent.emit(e,a)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:r}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:r+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){Pj.emit(Tj(e,this.id),t)}on(e,t){Pj.on(Tj(e,this.id),t)}once(e,t){Pj.once(Tj(e,this.id),t)}off(e,t){Pj.off(Tj(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.autoLayout&&this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=Tj(e,this.id);Pj.removeAllListeners(t)}))}}var Mj=e=>{var{id:t}=JSON.parse(e.data);Pj.emit(Tj("click",t))};Cj("onTextViewClick",Mj),Cj("onImageViewClick",Mj),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();Cj(e,(e=>{try{if(e.data){var{id:r}=JSON.parse(e.data);Pj.emit(Tj(t,r),e.touch||e.touches)}else Pj.emit(Tj(t,e.viewId),e.touch||e.touches)}catch(e){}}))}));var Rj=["game.weixin.qq.com"],Oj=new Map,Dj=new WeakMap,Lj=e=>e?"insertGameHTMLWebView":"insertHTMLWebView",Nj=e=>e?"updateGameHTMLWebView":"updateHTMLWebView",Bj=e=>e?"removeGameHTMLWebView":"removeHTMLWebView",$j=(e,t)=>e&&t?invokeMethodWithPlugin(t):invokeMethod;function jj(){return new Promise(((e,t)=>{var r=Dj.get(this),{style:n,__skipDomainCheck__:i,src:a,zIndex:o,isGameWebview:s,pluginId:l,fullscreen:c,adjustResizeOnKeyboardStateChanged:u}=r,d=Lj(s);$j(s,l)(d,{htmlId:this.id,position:n,src:a,zIndex:o,backgroundColor:n.backgroundColor,__skipDomainCheck__:i,adjustResizeOnKeyboardStateChanged:u,fullscreen:c,success:e,fail:t})}))}class Fj extends(null){constructor({src:e,zIndex:t,style:r={},__skipDomainCheck__:n=!1,isGameWebview:i=!1,fullscreen:a,adjustResizeOnKeyboardStateChanged:o=!0},s){super({style:r}),Oj.set(this.id,this);var l={};try{l=parseUrl(e)}catch(e){console.error(e)}Dj.set(this,{src:e,zIndex:t,style:r,urlObj:l,isGameWebview:i,__skipDomainCheck__:n,adjustResizeOnKeyboardStateChanged:o,fullscreen:a,pluginId:s}),jj.call(this),this.isInserted=!0}get src(){var e;return null===(e=Dj.get(this))||void 0===e?void 0:e.src}set src(e){var t=Dj.get(this);if(t){t.src=e;var r=Nj(t.isGameWebview);try{var n=parseUrl(e);t.urlObj=n}catch(e){console.error(e)}$j(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,src:e})}}get style(){var e;return null===(e=Dj.get(this))||void 0===e?void 0:e.style}set style(e){var t=Dj.get(this);if(t&&t.style){var r=t.style;Object.assign(r,e);var n=Nj(t.isGameWebview),i=$j(t.isGameWebview,t.pluginId);this.isInserted&&i(n,{htmlId:this.id,position:r,backgroundColor:r.backgroundColor})}else t?t.style=e:Dj.set(this,{style:e})}get zIndex(){var e;return null===(e=Dj.get(this))||void 0===e?void 0:e.zIndex}set zIndex(e){var t=Dj.get(this);if(t){t.zIndex=e;var r=Nj(t.isGameWebview);$j(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,zIndex:e})}}postMessage(e){var t=Dj.get(this);return this.isInserted?t&&t.isGameWebview?new Promise(((r,n)=>{var i=Nj(t.isGameWebview);$j(t.isGameWebview,t.pluginId)(i,{htmlId:this.id,evaluateJavascript:"window.onMessage("+JSON.stringify(e)+")",success:r,fail:n})})):t&&!t.isGameWebview?Promise.reject({errMsg:"not support"}):Promise.reject({errMsg:"webview has been destroyed"}):Promise.reject({errMsg:"not inserted"})}destroy(){var e=Dj.get(this);if(e){var t=Bj(e.isGameWebview);Oj.delete(this.id),Dj.delete(this),$j(e.isGameWebview,e.pluginId)(t,{htmlId:this.id})}}}function Wj(){return[...Oj.keys()]}function Uj({htmlId:e}){var t=Oj.get(e);t&&t.onload&&setTimeout(t.onload)}function Vj({htmlId:e,errcodeCode:t,description:r,src:n}){var i=Oj.get(e);i&&i.onerror&&setTimeout(i.onerror({errcodeCode:t,description:r,src:n}))}function qj({name:e,arg:t,htmlId:r}){"postMessage"===e?Oj.forEach((({onmessage:e},n)=>{r&&r!==n||e&&setTimeout((()=>e(t)))})):0!==e.indexOf("XLogManager.")&&"reportKeyValue"!==e&&"getSDKVersion"!==e||Oj.forEach(((n,i)=>{var a;if(!r||r===i){var o=Oj.get(i),s=null===(a=Dj.get(o))||void 0===a?void 0:a.urlObj;if(s&&Rj.includes(s.host))if(0===e.indexOf("XLogManager.")){var l=e.split(".")[1];y[l](t)}else"reportKeyValue"===e&&T.reportKeyValue(t)}}))}re.onReady((()=>{Ue()&&(ur("onWebViewError",Vj),ur("onWebviewFinishLoad",Uj),ur("onWebInvokeAppService",qj),ur("WEB_INVOKE_APPSERVICE",qj))}));var zj=({urlList:e,success:t,fail:r,complete:n})=>{invokeMethod("private_onWebPageUrlExposed",{urlList:e,success:t,fail:r,complete:n})},Gj={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},Hj={sampleEventList:[]},Kj=new Map;function Jj(){var e=Hj.sampleEventList.find((e=>e.event===Gj.EVENT_CANVAS_SAMPLE_BY_TIME));if(e){var t=6e3,r=6,n=0;isNumber(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),isNumber(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{Zj(Gj.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{Zj(Gj.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),500)}),t)}}function Xj(){var e=Hj.sampleEventList.find((e=>e.event===Gj.EVENT_CANVAS_WEBVIEW_TIMING));if(e){var t=6e3,r=6,n=0;isNumber(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),isNumber(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{getWebViewIdList().forEach((e=>{Zj(Gj.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{getWebViewIdList().forEach((e=>{Zj(Gj.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),500)}),t)}}function Yj(){onMethod("onCanvasReportEventSampleConfigReceived",(e=>{var t=JSON.parse(e.keyEventSampleConfig);Array.isArray(t.sample_event_list)&&(Hj.sampleEventList=t.sample_event_list,Hj.sampleEventList.forEach((e=>{Kj.set(e,0)})),Jj(),Xj())})),onMethod("onStartReportCanvasData",(({event:e})=>{e===Gj.EVENT_CANVAS_WEBVIEW_BEFORE_JUMP?getWebViewIdList().forEach((t=>{Zj(e,t)})):Zj(e)}))}function Qj(e){return Hj.sampleEventList.find((t=>e===t.event))}function Zj(e,t){if(Ue()){var r=Qj(e);if(r){var n=Date.now(),i=Kj.get(r);if(r.sample_interval_seconds,(n-i)/1e3<r.sample_interval_seconds)return;md("reportCanvasData",{eventInfo:JSON.stringify(r),viewId:t>0?t:0,noCallback:!0,success(){Kj.set(r,n)},fail({errMsg:e}){}})}}}var eF=function(){var e=xd()((function*(e){var t;e||(e=yield Px(null,!0));var r=[];return e.forEach((e=>{var n=e.cliParamList;n&&n.forEach((n=>{var{pre_proc:i,preset_data:a}=n;if("screenshot"===a&&(r.push(e),i)){var{param:o}=i;o&&o.forEach((e=>{"shortEdge"===e.key&&(t=e.value)}))}}))})),{shortEdge:t,configs:r}}));return function(t){return e.apply(this,arguments)}}(),tF=0,rF=e=>{if(tF!==(e?1:2)){var t=0!==tF;tF=e?1:2,md("setSecuritySnapshotStrategy",{enabledSnapshot:e,snapshotIntervalMillis:100,shortEdge:DA(),success(){t||nF()},fail(e){eF().then((t=>{var{configs:r}=t;r.length&&nT(r,null,null,e)}))}})}},nF=()=>{ur("onDumpSecuritySnapshot",(e=>{rF(!1),eF().then((t=>{var{configs:r}=t;nT(r,e.buffer,[e.shape[1],e.shape[0]])}))}))},iF=[],aF=e=>{iF.push(e)},oF=e=>{iF.forEach((t=>{t(e)})),iF=[]},sF={},lF=(e,t=0)=>{var{afterLoadInterval:r,afterLoadMaxCnt:n,mostCnt:i}=e;if(!("number"!=typeof r||r<=0)&&O){var a=O.getCurrentFullyRoutePath();sF[a]||(sF[a]=!0,setTimeout(xd()((function*(){var r=O.getCurrentFullyRoutePath();if(e.currentCnt>i)sF[a]=!1;else if(a===r)try{e.currentCnt+=1,e.isMultiModal&&cF(),yield rT(11),ke&&OA()&&!e.isMultiModal&&(yield cF()),t<n?lF(e,t+1):sF[a]=!1}catch(e){sF[a]=!1}else sF[a]=!1})),r))}},cF=()=>{rF(!0)},uF=!1,dF=()=>uF,pF=function(){var e=xd()((function*(){var e=yield Px(null,!0);if(e&&e.length&&(e.forEach((e=>{var t=e.runTiming||[];["at_toast","at_modal","at_clipboard","at_loading"].some((e=>t.includes(e)))&&(uF||(uF=(e,t)=>{var r;"modal"===e?r=`${t.title}\r\n${t.content}`:"toast"===e&&(r=t.title),rT(11,r,e)}))})),!1===uF&&(uF=null),uF&&oF(uF),0!==e.filter((e=>!e.onlyInteractionCheck)).length)){var{configs:t,shortEdge:r}=yield eF(e),n=null==t?void 0:t[0];if(n){MA(r);var{afterLoadMaxCnt:i,afterLoadInterval:a}=n;RA({maxCnt:i,interval:a})}lF(e[0])}}));return function(){return e.apply(this,arguments)}}(),hF=(e,t,r)=>{t&&(rT(11,{res:e,cost:-1}),setTimeout((()=>hF(e,t-1,r)),r))},fF=0,gF=0,vF=null,mF=null,yF=e=>{e=e.map((e=>"innerHTML"===e?null:e)).filter((e=>e)),md("setAcquireWebviewDom",{enableAcquireWebviewDom:!0,type:e})},bF=()=>{md("setAcquireWebviewDom",{enableAcquireWebviewDom:!1})},_F=new Set,wF=function(){var e=xd()((function*({path:e,htmlId:t}){var r,n,i,a;if(ke&&(null===(r=re.appContactInfo)||void 0===r||null===(n=r.operationInfo)||void 0===n||null===(i=n.jsonInfo)||void 0===i||null===(a=i.op_info)||void 0===a||!a.skip_webview))if(_F.has(e));else{var o;if(!vF){var s=yield Px(null,!0);vF=o=s[0],mF=new Set,s.forEach((e=>{e.cliParamList.forEach((e=>{mF.add(yx(e.preset_data))})),e.debug.forEach((e=>{mF.add(e)}))})),mF=Array.from(new Set(Array.from(mF).map((e=>vx[e])).filter((e=>e)))),gF=o.afterLoadInterval,fF=o.afterLoadMaxCnt}if(o=vF)setTimeout((()=>{_F.add(e),t===SF&&yF(mF)}),gF)}}));return function(t){return e.apply(this,arguments)}}(),SF;ur("onDumpWebviewDom",(e=>{(e=JSON.parse(e)).domData={1:e.innerText,2:e.innerHTML,3:e.textContent},bF(),hF(e,fF,gF)}));var CF=({htmlId:e,src:t})=>{if(void 0===SF);else if(SF===e){if(_F.has(t))return;setTimeout((()=>{SF===e&&yF(mF)}),gF)}SF=e},kF=()=>{SF=void 0},IF=function(e){return e[e.Untranslate=0]="Untranslate",e[e.Translating=1]="Translating",e[e.Translated=2]="Translated",e[e.Reset=3]="Reset",e}(IF||{}),PF=function(e){return e[e.NotRequireTranslate=0]="NotRequireTranslate",e[e.RequireTranslate=1]="RequireTranslate",e}(PF||{}),AF=function(e){return e[e.Untranslate=0]="Untranslate",e[e.Translated=1]="Translated",e[e.Hidden=2]="Hidden",e}(AF||{}),xF=function(e){return e[e.Confirm=0]="Confirm",e[e.Cancle=1]="Cancle",e}(xF||{}),TF=function(e){return e[e.Setting=0]="Setting",e[e.Button=1]="Button",e[e.Modal=2]="Modal",e}(TF||{}),EF=IF.Untranslate,MF="en",RF=!1,OF=new Map,DF=e=>{EF=e},LF=e=>{MF=e},NF=e=>{RF=e},BF={tabBarList:[],navigationBarTitleText:"",toastMap:new Map,modalMap:new Map,actionSheetMap:new Map,mapMarkersIOS:new Map,mapMarkersAndroid:new Map},$F=function(e){return e.tabBar="tabBarList",e.navigationBar="navigationBarTitleText",e.toast="toastMap",e.modal="modalMap",e.actionSheet="actionSheetMap",e.mapMarkersIOS="mapMarkersIOS",e.mapMarkersAndroid="mapMarkersAndroid",e}($F||{});function jF(){var e,t,r,n,i,a,o,s;(null!==(e=f.tabBar)&&void 0!==e&&e.list&&null!==(t=f.tabBar)&&void 0!==t&&t.list.length&&(BF.tabBarList=f.tabBar.list),null!==(r=f.global)&&void 0!==r&&null!==(n=r.window)&&void 0!==n&&n.navigationBarTitleText&&null!==(i=f.global)&&void 0!==i&&null!==(a=i.window)&&void 0!==a&&a.navigationBarTitleText.length)&&(BF.navigationBarTitleText=null===(o=f.global)||void 0===o||null===(s=o.window)||void 0===s?void 0:s.navigationBarTitleText)}function FF(e,t,r){void 0===r?e in BF&&(BF[e]=t):BF.tabBarList.length>0&&BF.tabBarList[r]&&(BF.tabBarList[r][e]=t)}function WF(e,t,r){if(EF!==IF.Untranslate){var n={};r.forEach((e=>{Object.prototype.hasOwnProperty.call(t,e)&&""!==t[e]&&(n[e]=t[e])})),e in BF&&Array.isArray(BF[e])&&BF[e].push(n),e in BF&&BF[e]instanceof Map&&BF[e].set(t.id,n)}}function UF(e,t){EF!==IF.Untranslate&&(e in BF&&Array.isArray(BF[e])&&BF[e].pop(),void 0!==t&&e in BF&&BF[e]instanceof Map&&BF[e].delete(t))}var VF=ir("NavigationBarTitleUpdate"),qF=VF.internalOnMethod,zF=function(){var e=xd()((function*(e={}){Vc("setNavigationBarTitle",e,{title:""})&&(uu.navigationBarTitleMap[uu.lastRoute]=e.title,uu.lastRoute,e.title,FF("navigationBarTitleText",e.title),yield wW(e,["title"]),GF(e))}));return function(){return e.apply(this,arguments)}}(),GF=e=>{md("setNavigationBarTitle",e,{beforeAll(t){VF.emitInternal({title:e.title,...t})}})},HF=e=>{md("showNavigationBarLoading",e)},KF=e=>{md("hideNavigationBarLoading",e)},JF="#000000",XF="#ffffff";function YF(e){var t=(re.appContactInfo||{}).operationInfo||{};if(t.jsonInfo&&t.jsonInfo.op_info&&1===Number(t.jsonInfo.op_info.gray_flag)&&!Ue()&&!Ke()){var r=/^#([0-9|A-F|a-f]{6})$/.exec(e);if(null!=r){var n=parseInt(r[1].slice(0,2),16),i=parseInt(r[1].slice(2,4),16),a=parseInt(r[1].slice(4),16),o=Math.round(.299*n+.587*i+.114*a).toString(16).toUpperCase();md("setNavigationBarColor",{frontColor:XF,backgroundColor:`#${o}${o}${o}`})}}}re.onReady((()=>{RC((()=>{if(void 0!==re&&re.global&&re.global.window){var e=re.global.window;JF=e.navigationBarBackgroundColor||JF,XF="black"===e.navigationBarTextStyle?"#000000":"#ffffff"}var t=uu.lastRoute+".html";if(void 0!==re&&re.page&&re.page[t]&&re.page[t].window){var r=re.page[t].window;JF=r.navigationBarBackgroundColor||JF,XF="black"===r.navigationBarTextStyle?"#000000":"#ffffff"}YF(JF)}))}));var QF=(e={})=>{if(Vc("setNavigationBarColor",e,{frontColor:"",backgroundColor:""}))if(-1!==["#ffffff","#000000"].indexOf(e.frontColor)){"#ffffff"===e.frontColor?md("setStatusBarStyle",{color:"white"}):"#000000"===e.frontColor&&md("setStatusBarStyle",{color:"black"});var t=Object.assign({},e);JF=e.backgroundColor,XF=e.frontColor,md("setNavigationBarColor",t),YF(JF)}else zc("setNavigationBarColor",e,`invalid frontColor "${e.frontColor}"`)},ZF=(e={})=>{var t=Object.assign({},e);t.backgroundColor=JF,md("setNavigationBarColor",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setNavigationBarColor","setNavigationBarAlpha")}})},eW=()=>({backgroundColor:JF,frontColor:XF}),tW=(e={})=>{Vc("setNavigationBarRightButton",e,{hide:!0})&&md("setNavigationBarRightButton",e,{})},rW=e=>{qt("onCustomRightButtonClick",x.surroundThirdByTryCatch(e,"at onTapNavigationBarRightButton callback function"))},nW=(e={})=>{md("hideHomeButton",e,{})},iW=function(){var e=xd()((function*(e={}){if(Vc("setTabBarBadge",e,{index:0,text:""})){var t=Object.assign({},e);t.badgeValue=t.text,t.type="text",FF("badgeValue",t.badgeValue,t.index),yield wW(t,["badgeValue"]),function(e){if(!e)return 0;"string"!=typeof e&&(e+="");return e.replace(/[^\x00-\xff]/g,"01").length}(t.badgeValue)>4&&(t.badgeValue="..."),md("setTabBarBadge",t)}}));return function(){return e.apply(this,arguments)}}(),aW=(e={})=>{if(Vc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",md("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","removeTabBarBadge")}})}},oW=(e={})=>{if(Vc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="redDot",md("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","showTabBarRedDot")}})}},sW=(e={})=>{if(Vc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",md("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","hideTabBarRedDot")}})}},lW=!1;RC((e=>{setTimeout((()=>{try{lW=re.tabBar.list.some((({pagePath:t})=>t.startsWith(e.path)))}catch(e){}}),100)}));var cW=(e={})=>{void 0===e.animation&&(e.animation=!1),Vc("showTabBar",e,{animation:!0})&&md("showTabBar",e,{beforeSuccess:()=>lW=!0})},uW=(e={})=>{void 0===e.animation&&(e.animation=!1),Vc("hideTabBar",e,{animation:!0})&&md("hideTabBar",e,{beforeSuccess:()=>lW=!1})},dW=()=>lW,pW=(e={})=>{md("setTabBarStyle",e)},hW=null;re.onReady((()=>{hW=re.tabBar&&re.tabBar.list||[]}));var fW=function(){var e=xd()((function*(e={}){if(Vc("setTabBarItem",e,{index:0}))if(0!==(e.iconPath||"").indexOf("."))if(0!==(e.selectedIconPath||"").indexOf(".")){try{Kd(e,"text")||(e.text=hW[e.index].text||""),FF("text",e.text,e.index),hW[e.index].text=e.text}catch(e){e.message}yield wW(e,["text"]),md("setTabBarItem",e)}else zc("setTabBarItem",e,"selectedIconPath invalid, require absolute path");else zc("setTabBarItem",e,"iconPath invalid, require absolute path")}));return function(){return e.apply(this,arguments)}}(),gW=()=>{var e=br.getCurrentPagesByDomain("");if(e)return e[e.length-1]},vW=()=>{for(var[e,t]of OF)t.translateStatus=!1,t.translateLangChanged=!0,t.pageState=PF.RequireTranslate,OF.set(e,t)},mW=e=>{var t=gW();t&&(Kr("translateCurrentPage",{isTranslateLanguageChange:e},[t.__wxWebviewId__]),y.info("[Translate] translateCurrentPage",t))},yW=()=>{var e=gW();e&&(Kr("revertTranslateCurrentPage",{},[e.__wxWebviewId__]),y.info("[Translate] revertCurrentPage",e))},bW=function(){var e=xd()((function*(){var e=Object.keys(BF);for(var t of e)switch(t){case $F.modal:if(0!==BF[t].size)for(var[r,n]of BF[t]){var i=JSON.parse(JSON.stringify(n));yield wW(i,Object.keys(i)),md("updateModal",i)}break;case $F.toast:if(0!==BF[t].size)for(var[a,o]of BF[t]){var s=JSON.parse(JSON.stringify(o));yield wW(s,Object.keys(s)),md("updateToast",s)}break;case $F.actionSheet:if(0!==BF[t].size){var l=function*(){var e={};u.itemList&&u.itemList.length&&u.itemList.forEach(((t,r)=>{e[`item${r}`]=t})),Object.prototype.hasOwnProperty.call(u,"alertText")&&(e.alertText=null==u?void 0:u.alertText),Object.prototype.hasOwnProperty.call(u,"id")&&(e.id=u.id),yield wW(e,Object.keys(e));var t=Object.assign({},e),r=/^item\d+$/,n=[];Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(t,e)&&r.test(e)&&(n.push(t[e]),delete t[e])})),t.itemList=n,md("updateActionSheet",t)};for(var[c,u]of BF[t])yield*l()}break;case $F.tabBar:if(BF[t].length)for(var[d,p]of BF[t].entries())yield fW({index:d,text:p.text}),p.badgeText&&(yield iW({index:d,text:p.badgeText}));break;case $F.navigationBar:if(""!==BF[t]){var h={title:BF[t]};yield wW(h,["title"]),GF(h)}break;case $F.mapMarkersIOS:var f=BF[t];if(0!==f.size)for(var[g,v]of f){var m=JSON.parse(JSON.stringify(v));yield SW(m),md("updateMapMarkers",{mapId:g,markers:m})}break;case $F.mapMarkersAndroid:if(0!==BF[t].size)for(var[y,b]of BF[t]){var _=JSON.parse(JSON.stringify(b));yield SW(_.markers),md("updateMapMarkers",{mapId:y,..._})}}}));return function(){return e.apply(this,arguments)}}(),_W=function(){var e=xd()((function*(){var e=Object.keys(BF);for(var t of e)switch(t){case $F.modal:if(0!==BF[t].size)for(var[r,n]of BF[t])md("updateModal",n);break;case $F.toast:if(0!==BF[t].size)for(var[i,a]of BF[t])md("updateToast",a);break;case $F.actionSheet:if(0!==BF[t].size)for(var[o,s]of BF[t])md("updateActionSheet",s);break;case $F.tabBar:if(BF[t].length)for(var[l,c]of BF[t].entries())yield fW({index:l,text:c.text}),c.badgeText&&(yield iW({index:l,text:c.badgeText}));break;case $F.navigationBar:if(""!==BF[t]){var u={title:BF[t]};GF(u)}break;case $F.mapMarkersIOS:if(0!==BF[t].size)for(var[d,p]of BF[t])md("updateMapMarkers",{mapId:d,markers:p});break;case $F.mapMarkersAndroid:if(0!==BF[t].size)for(var[h,f]of BF[t])md("updateMapMarkers",{mapId:h,...f})}}));return function(){return e.apply(this,arguments)}}(),wW=function(){var e=xd()((function*(e,t){if(EF!==IF.Untranslate){var r=[],n=[],i=0,a=t.filter((t=>{if(e[t]&&"string"==typeof e[t]){var a=e[t].replaceAll("\\n","").replaceAll("\n","");return(10===n.length||i+a.length>2e3&&i>0)&&(r.push({text:n.join("\n")}),n=[],i=0),n.push(a),i+=a.length,!0}return!1}));if(n.length&&r.push({text:n.join("\n")}),a.length&&r.length)try{var o=(yield EE({apiName:"webapi_getwxatranslatedmsg",reqData:{item_list:r,to_lang:MF,path:""}})).data.item_list.map((e=>e.text.replace(/\n$/,"").split("\n"))).flat();o.length===a.length&&a.forEach(((t,r)=>{""!==o[r]&&(e[t]=o[r])}))}catch(e){md("showToast",{icon:"error",title:"translation meets frequency limit, please slow down and try again",duration:1e3}),y.error("invoke webapi_getwxatranslatedmsg error: ",e)}}}));return function(t,r){return e.apply(this,arguments)}}(),SW=function(){var e=xd()((function*(e){if(EF!==IF.Untranslate){var t=function*(e){var t=[],r=[],n=[];if(Object.prototype.hasOwnProperty.call(e,"callout")&&"string"==typeof e.callout.content&&e.callout.content.length>0&&(r.push(e.callout.content),n.push("callout")),Object.prototype.hasOwnProperty.call(e,"label")&&"string"==typeof e.label.content&&e.label.content.length>0&&(r.push(e.label.content),n.push("label")),r.length>0){t.push({text:r.join("\n")});try{var i=(yield EE({apiName:"webapi_getwxatranslatedmsg",reqData:{item_list:t,to_lang:MF,path:""}})).data.item_list.map((e=>e.text.replace(/\n$/,"").split("\n"))).flat();i.length===n.length&&n.forEach(((t,r)=>{""!==i[r]&&(e[t].content=i[r])}))}catch(e){md("showToast",{icon:"error",title:"translation meets frequency limit, please slow down and try again",duration:1e3}),y.error("invoke webapi_getwxatranslatedmsg error: ",e)}}};for(var r of e)yield*t(r)}}));return function(t){return e.apply(this,arguments)}}(),CW=(e,t,r)=>{if(EF!==IF.Untranslate){var n={};switch(e){case $F.modal:case $F.toast:n=JSON.parse(JSON.stringify(BF[e].get(t)));break;case $F.actionSheet:var i=BF[e].get(t);i.itemList&&i.itemList.length&&i.itemList.forEach(((e,t)=>{n[`item${t}`]=e})),Object.prototype.hasOwnProperty.call(i,"alertText")&&(n.alertText=null==i?void 0:i.alertText),Object.prototype.hasOwnProperty.call(i,"id")&&(n.id=i.id)}var a=Object.keys(n).filter((e=>"id"!==e));if(a.length){var o=[],s=[],l=0;if(a.forEach((e=>{var t=n[e].replaceAll("\\n","").replaceAll("\n","");(10===s.length||l+t.length>2e3&&l>0)&&(o.push({text:s.join("\n")}),s=[],l=0),s.push(t),l+=t.length})),s.length&&o.push({text:s.join("\n")}),o.length)try{TE({apiName:"webapi_getwxatranslatedmsg",reqData:{item_list:o,to_lang:MF,path:""},success:t=>{var i=t.data.item_list.map((e=>e.text.replace(/\n$/,"").split("\n"))).flat();if(i.length===a.length&&a.forEach(((e,t)=>{""!==i[t]&&(n[e]=i[t])})),r)switch(e){case $F.modal:case $F.toast:r(n);break;case $F.actionSheet:var o=Object.assign({},n),s=/^item\d+$/,l=[];Object.keys(o).forEach((e=>{Object.prototype.hasOwnProperty.call(o,e)&&s.test(e)&&(l.push(o[e]),delete o[e])})),o.itemList=l,r(o)}},fail:e=>{md("showToast",{icon:"error",title:"translation meets frequency limit, please slow down and try again",duration:1e3}),y.error("[operateWXData] webapi_getwxatranslatedmsg failed: ",e)}})}catch(e){y.error("invoke webapi_getwxatranslatedmsg error: ",e)}}}},kW=0,IW=0,PW=0,AW=!1,xW=ir("onNativeUi"),TW=xW.internalOnMethod,EW=xW.internalOffMethod;function MW(e,t){try{xW.emit({type:e,payload:t})}catch(e){}}var RW=(e={},t=!1)=>{var r={id:IW,title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==f.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==f.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:"",upper:!1};if(IW++,Vc("showModal",r=Gd(r,e),{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var n=!1;if(e.__sdk_inner_allowShowMoreLength__&&(n=!0),!n&&r.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)zc("showModal",e,"confirmText length should not larger than 4 Chinese characters");else if(!n&&r.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)zc("showModal",e,"cancelText length should not larger than 4 Chinese characters");else{var i=O.getCurrentRoutePath(),a=My();WF("modalMap",r,["id","title","content","confirmText","cancelText","placeholderText"]),CW("modalMap",r.id,DW),MW("showModal",r),md("showModal",r,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),e.cancel=Ie?!e.confirm:!e.confirm&&Boolean(e.cancel),MW("closeModal",{...e,...r}),aj()},beforeAll(){AW=!0},afterAll(){if(AW=!1,UF("modalMap",r.id),r.title){var e=dF();e?setTimeout((()=>{e("modal",{content:r.content,title:r.title,networkType:My()})})):!1===e&&aF((e=>{e("modal",{content:r.content,title:r.title,networkType:My()})}))}AT({apiName:"showModal",content:r.content,title:r.title,routePath:i,networkType:a})}})}}},OW=(e={})=>{(e=Object.assign({},e)).__sdk_inner_allowShowMoreLength__&&delete e.__sdk_inner_allowShowMoreLength__,void 0!==e.upper&&delete e.upper,RW(e),Ue()&&Zj(Gj.EVENT_CANVAS_AFTER_MODAL)},DW=(e={})=>{md("updateModal",e)},LW=1,NW=!1,BW=!1,$W=(e={},t=!1)=>{if(!BW||t){var r={id:kW,duration:1500,title:"",icon:"success",mask:!1};if(kW++,r=Gd(r,e),e.image&&(r.image=dp(uu.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(r.icon)<0&&(r.icon="success"),"none"===r.icon&&(r.icon=""),Vc("showToast",r,{duration:1,title:"",icon:""})){if(NW=LW++,t&&(BW=!0),setTimeout((()=>{NW=!1,t&&(BW=!1)}),r.duration),r.maskAll=!1,WF("toastMap",r,["id","title"]),CW("toastMap",r.id,UW),MW("showToast",r),md("showToast",r,{afterAll(){UF("toastMap",r.id)}}),y.warn("defaultArgs.icon: ",r.icon,r.title),"success"!==r.icon&&r.title){var n=dF();n?setTimeout((()=>{n("toast",{title:r.title,networkType:My()})})):!1===n&&(y.warn("registerInterenceTask"),aF((e=>{e("toast",{title:r.title,networkType:My()})})))}"success"!==r.icon&&setTimeout((()=>{AT({apiName:"showToast",title:r.title,networkType:My(),routePath:O.getCurrentRoutePath()})}))}}},jW=(e={})=>$W(e),FW=0,WW=(e={})=>{var t=null;if("none"===e.icon&&(e.icon=""),""===e.icon){var r={duration:1500,title:"",mask:!1};r=Gd(r,e),__sclEngine__.initScl((e=>{FW+=1,(t=e.mainRoot.append("officialToast-pop",{title:r.title,duration:r.duration,paddingTop:1===FW?100:20})).addListener("destroy",(()=>{try{FW-=1,e.mainRoot.remove(t)}catch(e){y.error("remove error:",e)}t=null}))}),!0)}else $W(e)},UW=(e={})=>{md("updateToast",e)},VW=(e={},t=!1)=>{if(!BW||t){if((Ce||e.noConflict)&&zW&&(!NW||NW<zW))return NW=!1,BW=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideToast:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");NW=!1,BW=!1,MW("hideToast",e),md("hideToast",e)}},qW=(e={})=>VW(e),zW=!1,GW=0,HW=(e={})=>{if(!BW){var t={id:kW,title:"",icon:"loading",mask:!1,duration:1e8};GW=kW,kW++,(t=Gd(t,e)).icon="loading",delete t.image,Vc("showLoading",t,{duration:1,title:""})&&(zW=LW++,t.maskAll=!1,WF("toastMap",t,["id","title"]),CW("toastMap",t.id,UW),O.startLoading(),MW("showToast",t),md("showToast",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("showToast","showLoading")}}))}},KW=(e={})=>{if(!BW){if((Ce||e.noConflict)&&NW&&(!zW||zW<NW))return zW=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideLoading:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");UF("toastMap",GW),zW=!1,O.endLoading(My()),MW("hideToast",e),md("hideToast",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})}},JW=(e={})=>{var t={id:PW,itemList:[],itemColor:"#000000",itemColorDark:void 0!==f.theme&&e.itemColor?e.itemColor:"#FFFFFFCC"};PW++,delete(t=Gd(t,e)).cancelText,delete t.cancelColor,Vc("showActionSheet",t,{itemList:["1"],itemColor:""})&&(e.itemList.length>6?zc("showActionSheet",e,"parameter error: itemList should not be large than 6"):(WF("actionSheetMap",t,["id","itemList","alertText"]),CW("actionSheetMap",t.id,XW),MW("showActionSheet",t),md("showActionSheet",t,{beforeAll:e=>{(e.errMsg.indexOf(":ok")>-1||e.errMsg.indexOf(":cancel")>-1)&&aj(),MW("closeActionSheet",{...e,...t}),AW=!0},afterAll:()=>{AW=!1,UF("actionSheetMap",t.id)}})))},XW=(e={})=>{md("updateActionSheet",e)},YW=(e={})=>{md("showShareActionSheet",e)},QW=()=>AW,ZW=0,eU=(e={})=>{Oe?zc("setTopBarText",e,"setTopBarText:fail SDK暂不支持此API"):e.text?Date.now()-ZW<5e3?zc("setTopBarText",e,"invoke too frequently"):md("setTopBarText",e,{beforeSuccess(){ZW=Date.now()}}):zc("setTopBarText",e,"invalid text")},tU=g;function rU(){return T}function nU(e){return"string"!=typeof e?JSON.stringify(e||{}):e}var iU=1e3,aU=null,oU=[],sU=!1,lU=!1,cU=Ce||!We(),uU=[];function dU(){aU=null,0!==oU.length&&(S.invoke("reportKeyValue",{noCallback:!0,version:2,dataArray:oU.map((e=>({key:26308,value:[e.category,e.name,Math.round(1e3*e.timeStamp),e.phase,encodeURIComponent(nU(e.args))].join(",")})))}),oU=[])}function pU(e,t){var r={...t,phase:e};r.args=nU(r.args),S.invoke("traceEvent",{events:[r]})}function hU(e,t){(lU||"API"!==t.category)&&(aU||(aU=setTimeout(dU,iU)),oU.push({...t,phase:e}))}function fU(e,t){Ce&&pU(e,t),sU&&hU(e,t)}function gU(){return cU}function vU(e){null===uU?cU&&e():uU.push(e)}re.onReady((e=>{var t,r,n=null===(t=e.expt)||void 0===t?void 0:t.clicfg_appbrand_report_trace_event;("1"===n?sU=!0:"2"===n&&(sU=!0,lU=!0),cU=cU||lU||!!Ee())&&(null===(r=uU)||void 0===r||r.forEach((e=>e())));uU=null}));var mU=!1;function yU(){var e;return mU?performance.now()+(performance.timeOrigin||(null===(e=performance.timing)||void 0===e?void 0:e.navigationStart)||0):Date.now()}var bU={},_U={};function wU(e,t){bU[e]||(bU[e]=[]),bU[e].push(t)}function SU(e,t){_U[e]||(_U[e]=[]),_U[e].push(t)}function CU(e){var t=[];function r(r,n,i,a=!1){var o;if(w.traceBegin(r,n),!a){var s={category:r,name:n,timeStamp:yU(),args:i||{}};t.push(s),"Framework"===r&&y.info(`[Trace][B] ${n} @ ${s.timeStamp} ${s.args.path||""}`),null===(o=bU[s.category])||void 0===o||o.forEach((t=>t(s,e))),fU("B",s)}}function n(r,n=!1){var i,a;if(w.traceEnd(),!n){var o=yU(),s=t.pop();if(!s)return y.error("[Trace] Must call traceBeginEvent before traceEndEvent."),rU().assertWithIDKey(!1,6),void rU().errorReport({key:"appServiceSDKScriptError",error:new Error(`traceEndEvent mismatch, args=${JSON.stringify(r||{})}`)});var l=s.args,c=s.timeStamp;s.timeStamp=o,s.args=r||s.args,"Framework"===s.category&&y.info(`[Trace][E] ${s.name} @ ${s.timeStamp} ${(null===(i=s.args)||void 0===i?void 0:i.path)||""}`),null===(a=_U[s.category])||void 0===a||a.forEach((t=>t(s,c,l,e))),fU("E",s)}}function i(e,t){r("API",e,t,gU())}function a(){n(void 0,gU())}return{traceBeginEvent:r,traceEndEvent:n,traceBeginAPI:i,traceEndAPI:a,useTraced:function(e,t,i,a){return function(...o){try{return r(e,t,a),i.apply(this,o)}finally{n()}}},useTracedEnd:function(e){return function(...t){try{return e(...t)}finally{n()}}},traceFlag:function(t,r,n){var i,a,o=yU(),s={category:t,name:r,timeStamp:o,args:n||{}};w.traceInstant(t,r),"Framework"===t&&y.info(`[Trace][I] ${r} @ ${o}`),null===(i=bU[t])||void 0===i||i.forEach((t=>t(s,e))),fU("B",s),fU("E",s),null===(a=_U[t])||void 0===a||a.forEach((t=>t(s,o,n,e)))},useTracedApi:function(e,t,r){return function(...n){try{return i(e,r),t.apply(this,n)}finally{a()}}},useTracedApiEnd:function(e){return function(...t){try{return e.apply(this,t)}finally{a()}}}}}var kU=1/0;const IU=CU(kU);var PU="__DOMReady",AU=ir("DomReady"),xU=AU.internalOnMethod,TU=e=>{uu.webviewEventCallback=e,en("PAGE_EVENT",(({data:t,eventName:r,nodeId:n},i=0)=>{var a="onPageScroll"!==r;a&&IU.traceBeginEvent("Framework","onWebviewEvent",{eventName:r});try{r===PU&&AU.emit({data:t,eventName:r,webviewId:i,nodeId:n}),e({data:t,eventName:r,webviewId:i,nodeId:n})}finally{a&&IU.traceEndEvent()}}))},EU=e=>{["onCanvasTouchStart","onCanvasTouchMove","onCanvasTouchEnd"].forEach((t=>{qt(t,((r,n)=>{e({data:r,eventName:t,webviewId:n})}))}))},MU=1,RU={};en("pageScrollDone",(e=>{if(!(e.callbackId<0||void 0===RU[e.callbackId])){var t=RU[e.callbackId];delete RU[e.callbackId],delete e.callbackId;var r="pageScrollTo";e.errMsg=e.errMsg||"scrollWebviewTo:ok",e.errMsg=e.errMsg.replace("scrollWebviewTo",r);var n=0===e.errMsg.indexOf(`${r}:ok`),i=0===e.errMsg.indexOf(`${r}:fail`);n?"function"==typeof t.success&&t.success(e):i&&"function"==typeof t.fail&&t.success(e),"function"==typeof t.complete&&t.complete(e)}}));var OU=e=>{var t=br.getCurrentPagesByDomain(""),r=t[t.length-1].__wxWebviewId__;Kd(e,"page")&&Kd(e.page,"__wxWebviewId__")&&(r=e.page.__wxWebviewId__);var n={};for(var i in e)"function"==typeof e[i]&&(n[i]=e[i],delete e[i]);e.callbackId=MU,RU[MU]=n,MU++,Kr("pageScrollTo",e,[r])},DU=(e={})=>{md("startPullDownRefresh",e,{})},LU=e=>{md("stopPullDownRefresh",e)},NU=0,BU={},$U=(e={})=>{BU[NU]={success:e.success,fail:e.fail,complete:e.complete},Kr("setPageStyle",{callbackId:NU,style:e.style},[uu.currentWebviewId]),NU+=1};en("callbackSetPageStyle",(({res:e,callbackId:t})=>{var{errMsg:r}=e,n=0===r.indexOf("setPageStyle:ok"),i=0===r.indexOf("setPageStyle:fail"),a=BU[t];delete BU[t],"object"==typeof a&&(n?"function"==typeof a.success&&a.success(e):i&&"function"==typeof a.fail&&a.fail(e),"function"==typeof a.complete&&a.complete(e))}));var jU=e=>{Kr("hideKeyboard",{},[uu.currentWebviewId]),Hc({name:"hideKeyboard",success:!0,args:e})},FU=null,WU="onKeyboardHeightChange",UU=ir(WU);en(WU,UU.emitInternal.bind(UU)),ur(WU,UU.emitInternal.bind(UU));var VU=e=>{FU&&qU(),FU=(t={})=>{x.surroundThirdByTryCatch(e,"at onKeyboardHeightChange callback function")(t)},UU.internalOnMethod(FU)},qU=()=>{FU&&(UU.internalOffMethod(FU),FU=null)};class zU{constructor(e={}){this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={transition:{duration:void 0!==e.duration?e.duration:400,timingFunction:void 0!==e.timingFunction?e.timingFunction:"linear",delay:void 0!==e.delay?e.delay:0},transformOrigin:e.transformOrigin||"50% 50% 0"}}export(){var e=this.actions;return this.actions=[],{actions:e}}step(e={}){return this.currentStepAnimates.forEach((e=>{"style"!==e.type?this.currentTransform[e.type]=e:this.currentTransform[`${e.type}.${e.args[0]}`]=e})),this.actions.push({animates:Object.keys(this.currentTransform).reduce(((e,t)=>[...e,this.currentTransform[t]]),[]),option:{transformOrigin:void 0!==e.transformOrigin?e.transformOrigin:this.option.transformOrigin,transition:{duration:void 0!==e.duration?e.duration:this.option.transition.duration,timingFunction:void 0!==e.timingFunction?e.timingFunction:this.option.transition.timingFunction,delay:void 0!==e.delay?e.delay:this.option.transition.delay}}}),this.currentStepAnimates=[],this}matrix(e=1,t=0,r=0,n=1,i=1,a=1){return this.currentStepAnimates.push({type:"matrix",args:[e,t,r,n,i,a]}),this}matrix3d(e=1,t=0,r=0,n=0,i=0,a=1,o=0,s=0,l=0,c=0,u=1,d=0,p=0,h=0,f=0,g=1){return this.currentStepAnimates.push({type:"matrix3d",args:[e,t,r,n,i,a,o,s,l,c,u,d,p,h,f,g]}),this.stepping=!1,this}rotate(e=0){return this.currentStepAnimates.push({type:"rotate",args:[e]}),this}rotate3d(e=0,t=0,r=0,n=0){return this.currentStepAnimates.push({type:"rotate3d",args:[e,t,r,n]}),this.stepping=!1,this}rotateX(e=0){return this.currentStepAnimates.push({type:"rotateX",args:[e]}),this.stepping=!1,this}rotateY(e=0){return this.currentStepAnimates.push({type:"rotateY",args:[e]}),this.stepping=!1,this}rotateZ(e=0){return this.currentStepAnimates.push({type:"rotateZ",args:[e]}),this.stepping=!1,this}scale(e=1,t){return t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this}scale3d(e=1,t=1,r=1){return this.currentStepAnimates.push({type:"scale3d",args:[e,t,r]}),this}scaleX(e=1){return this.currentStepAnimates.push({type:"scaleX",args:[e]}),this}scaleY(e=1){return this.currentStepAnimates.push({type:"scaleY",args:[e]}),this}scaleZ(e=1){return this.currentStepAnimates.push({type:"scaleZ",args:[e]}),this}skew(e=0,t=0){return this.currentStepAnimates.push({type:"skew",args:[e,t]}),this}skewX(e=0){return this.currentStepAnimates.push({type:"skewX",args:[e]}),this}skewY(e=0){return this.currentStepAnimates.push({type:"skewY",args:[e]}),this}translate(e=0,t=0){return this.currentStepAnimates.push({type:"translate",args:[e,t]}),this}translate3d(e=0,t=0,r=0){return this.currentStepAnimates.push({type:"translate3d",args:[e,t,r]}),this}translateX(e=0){return this.currentStepAnimates.push({type:"translateX",args:[e]}),this}translateY(e=0){return this.currentStepAnimates.push({type:"translateY",args:[e]}),this}translateZ(e=0){return this.currentStepAnimates.push({type:"translateZ",args:[e]}),this}opacity(e){return this.currentStepAnimates.push({type:"style",args:["opacity",e]}),this}backgroundColor(e){return this.currentStepAnimates.push({type:"style",args:["background-color",e]}),this}width(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["width",e]}),this}height(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["height",e]}),this}left(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["left",e]}),this}right(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["right",e]}),this}top(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["top",e]}),this}bottom(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["bottom",e]}),this}}var GU=(e={})=>{if(Vc("createAnimation",e,{}))return new zU(e)},HU=16,KU=[],JU=null,XU=null,YU=!1,QU=[],ZU=!1,eV="",tV=0,rV=0,nV=e=>{e.deviceOrientation&&(eV=e.deviceOrientation),tV=e.size.windowWidth,rV=e.size.windowHeight},iV=e=>{JU=e;var t=!1,r=!0;e.deviceOrientation!==eV&&(t=!0),e.size.windowWidth!==tV&&(t=!0),e.size.windowHeight!==rV&&(t=!0),nV(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(ZU=!0),"auto"===e.pageOrientation.originalPageOrientation||ZU||(t=!1,r=!1)),void 0!==br&&br.isFramesetMode()&&(r=!1),t&&(YU=!0);var n=e.changedWebviewIds;r&&n&&n.forEach((e=>{QU.indexOf(e)<0&&QU.push(e)})),XU||(XU=setTimeout((()=>{XU=null;var e=YU;YU=!1;var t=QU;QU=[];var r={deviceOrientation:JU.deviceOrientation,size:JU.size};e&&KU.forEach((e=>{x.surroundThirdByTryCatch(e,"at onWindowResize callback function")(r)})),t.forEach((e=>{var t=void 0!==br?br.getPageByWebviewId(e):null;t&&x.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",r)}),"at Resize callback function")()}))}),HU))};ur("onViewDidResize",(e=>{iV(e)}));var aV=e=>{KU.push(e)},oV=e=>{KU.splice(KU.indexOf(e),1)},sV,lV,cV;re.onReady((()=>{if(re.screenHeight&&re.screenWidth)lV=re.screenWidth,cV=re.screenHeight;else{var e=kw();lV=e.screenWidth,cV=e.screenHeight,sV=e.deviceOrientation}}));var uV=e=>{sV=e.deviceOrientation,lV=e.size.windowWidth,cV=e.size.windowHeight};ur("onViewDidResize",uV),ur("onAppRouteResized",uV);var dV=()=>sV||(lV>cV?"landscape":"portrait"),pV=e=>{md("setPageOrientation",e)},hV=e=>/^#[0-9a-fA-F]{6}$/.test(e),fV=(e={})=>{(e=Object.assign({},e)).backgroundColor&&!hV(e.backgroundColor)&&delete e.backgroundColor,e.backgroundColorTop&&!hV(e.backgroundColorTop)&&delete e.backgroundColorTop,e.backgroundColorBottom&&!hV(e.backgroundColorBottom)&&delete e.backgroundColorBottom,(e.backgroundColor||e.backgroundColorTop||e.backgroundColorBottom)&&md("setBackgroundColor",e)},gV=(e={})=>{-1!==["dark","light"].indexOf(e.textStyle)?md("setBackgroundTextStyle",e):zc("setBackgroundTextStyle",e,`invalid textStyle "${e.textStyle}"`)},vV=()=>{};function mV(e={}){var t="enableAlertBeforeUnload",r=T.surroundThirdByTryCatch(e.success||vV,`at api ${t} success callback function`),n=T.surroundThirdByTryCatch(e.fail||vV,`at api ${t} fail callback function`),i=T.surroundThirdByTryCatch(e.complete||vV,`at api ${t} complete callback function`),a="string"==typeof e.message?e.message:void 0;md("setNavigateBackConfirmDialog",{enable:!0,content:a,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})}function yV(e={}){var t="disableAlertBeforeUnload",r=T.surroundThirdByTryCatch(e.success||vV,`at api ${t} success callback function`),n=T.surroundThirdByTryCatch(e.fail||vV,`at api ${t} fail callback function`),i=T.surroundThirdByTryCatch(e.complete||vV,`at api ${t} complete callback function`);md("setNavigateBackConfirmDialog",{enable:!1,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})}var bV=ir("menuButtonBoundingClientRectWeightChange");qt("onMenuButtonBoundingClientRectWeightChange",((e={})=>{bV.emit(e)}));var _V=bV.onMethod,wV=bV.offMethod,SV=()=>{var e,t={};if(md("getMenuButtonBoundingClientRect",{success(e){Object.assign(t,e),delete t.errMsg},fail(t){e=t.errMsg}}),e)throw new qd(e);return t},CV=jw(SV),kV=(e={})=>{WC("getSelectedTextRange",{},[uu.currentWebviewId],(t=>{0===t.errMsg.indexOf("getSelectedTextRange:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},IV=ir("navigateBackIntercept"),PV={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},AV=[PV.SlideBack,PV.BottomBackButton,PV.NavigationBarBack,PV.NavigateBackCall],xV=[],TV=0,EV;qt("onNavigateBackIntercept",((e={})=>{var{id:t}=EV||{};IV.emit({...e,id:t}),Kr("onNavigateBackIntercept",{...e,id:t},[uu.currentWebviewId])}));var MV=Object.create(null);RC((e=>{var t=e.webviewId;MV[t]||(XM(t,(()=>{if(delete MV[t],xV.length)for(var e,r=0;r<xV.length;)(e=xV[r]).options.webviewId&&e.options.webviewId===t?xV.splice(r,1):r+=1}),"setNavigateBackInterception"),MV[t]=!0),xV.length&&RV()}));var RV=function(){var e=xd()((function*(){var e;EV=void 0;for(var t=xV.length-1;t>=0;--t)if(void 0===(e=xV[t]).options.webviewId||e.options.webviewId===uu.currentWebviewId){EV=e;break}var r=EV?EV.options.scopes:[],n=new Set(r||[]);return yd("setNavigateBackInterception",{scopes:AV.map((e=>({type:e,interception:n.has(e)})))})}));return function(){return e.apply(this,arguments)}}(),OV=function(){var e=xd()((function*(e={}){var t;e={...e,scopes:null!==(t=e.scopes)&&void 0!==t?t:AV};var r=++TV;return xV.push({id:r,options:e}),yield RV(),{id:r}}));return function(){return e.apply(this,arguments)}}(),DV=eu("setNavigateBackInterceptionById",OV),LV=function(){var e=xd()((function*({id:e}={}){var t=xV.findIndex((t=>t.id===e));t<0||(xV.splice(t,1),yield RV())}));return function(){return e.apply(this,arguments)}}(),NV=eu("stopNavigateBackInterceptionById",LV),BV=IV.internalOnMethod,$V=IV.internalOffMethod,jV=function(){var e=xd()((function*(e,t=AV){var{id:r}=yield OV({scopes:t}),n=t=>{t.id===r&&e(t)};return BV(n),{id:r,handler:n}}));return function(t){return e.apply(this,arguments)}}(),FV=function(){var e=xd()((function*(e){var{id:t,handler:r}=(yield e)||{};yield LV({id:t}),$V(r)}));return function(t){return e.apply(this,arguments)}}(),WV=10,UV=e=>{md("updatePerfData",e)},VV=e=>{md("traceEvent",e)},qV,zV=ir("memoryWarning"),GV=(e,t=!1)=>{t?qV=e:zV.onMethod(e)},HV=(e,t=!1)=>{t?qV=null:zV.offMethod(e)},KV=e=>{zV.internalOnMethod(e)},JV=e=>{zV.internalOffMethod(e)};qt("onMemoryWarningReceive",((e={})=>{ke&&e.level<WV||(zV.getGlobalListeners().length?zV.emitGlobal(e):"function"==typeof qV&&qV(e),zV.emitInternal(e))}));var XV=200,YV=[],QV=[],ZV=~~(Date.now()/1e3),eq=0;function tq(e,t,r,n){var i;null!==(i=re.userConfig)&&void 0!==i&&i.isWechatUser||md("operateRealtimeData",{type:t,content:r,priority:"string"==typeof n?n:n?"high":"low",id:e},{beforeSuccess(){},beforeFail(e){QV.forEach((t=>t(e)))}})}function rq(){var e=YV.shift();"function"==typeof e&&(e(),eq=+new Date),YV.length&&setTimeout(rq,XV)}g.onLoad((()=>{ZV=~~(Date.now()/1e3)}));var nq=(e,t,r)=>{if(1005===e||!Ce){var n=+new Date,i=ZV++;return n-eq>=XV&&!YV.length?(tq(i,e,t,r),eq=n):(YV.push((()=>{tq(i,e,t,r)})),setTimeout(rq,XV)),i}},iq=e=>{Ce||"function"==typeof e&&QV.push($t(e))};qt("onRealtimeDataResponse",(e=>{QV.forEach((t=>t(e)))}));var aq=ir("UpdateWXConfig"),oq=aq.onMethod,sq=aq.offMethod;qt("onUpdateWXConfig",(e=>{y.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{re[t]=e[t]})),aq.emit(e)}));var lq=function(){var e={miniProgram:{appId:Oe?re.weAppId||re.accountInfo&&re.accountInfo.appId||"":re.accountInfo&&re.accountInfo.appId||"",envVersion:re.envVersion||"release",version:re.appContactInfo&&re.appContactInfo.user_version||""}};if(Oe){var{miniappId:t="",moduleId:r=""}=re.host;e.host={miniappId:t,moduleId:r}}return e},cq,uq,dq=!1,pq={},hq=JSON.parse,fq=ir("onReportEvent"),gq=fq.internalOnMethod,vq=fq.internalOffMethod;function mq(e,t){try{fq.emit({reportId:e,data:t})}catch(e){}}function yq(){if("string"==typeof re.opConfig){var e;try{e=hq(re.opConfig)}catch(e){}return e&&e.expt_info}return re.opConfig&&re.opConfig.expt_info}function bq(){var e,t=yq();return t&&dq?(e=1,cq=t,T.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,cq=t,T.reportIDKey({key:"useLaunchExptInfo"}),T.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,T.reportIDKey({key:"useContactExptInfo"})),{exptInfo:cq,jsDataType:e}}function _q(){if(void 0===br)return"";var e=br.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function wq(e,t,r){T.reportKeyValue({key:"ExptHit",value:[Du(),Lu(),e,encodeURIComponent(JSON.stringify(t)),0,"",r].join(",")})}ur("onAppEnterForeground",(e=>{Object.assign(pq,e),uq=pq.sessionid||pq.sessionId})),oq((e=>{yq(e)&&(dq=!0)})),re.onReady((()=>{Object.assign(pq,re.appLaunchInfo);var e=yq();e?cq=e:re.appContactInfo&&re.appContactInfo.passThroughInfo&&(cq=re.appContactInfo.passThroughInfo.expt_info)}));var Sq=NE("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));function Cq(e){var t={},{exptInfo:r,jsDataType:n}=bq();return r&&Array.isArray(r.expt_param_list)&&(Array.isArray(e)||(e=r.expt_param_list.map((e=>e.param_name))),r.expt_param_list.forEach((r=>{-1!==e.indexOf(r.param_name)&&(t[r.param_name]=r.param_value,r.expt_id&&wq(r.expt_group_id,r,n))}))),t}function kq(){var e=YS(!0),{accountInfo:t,envVersion:r,clientVersion:n}=re||{},i=(pq.sessionid||pq.sessionId,pq.usedstate||pq.usedState),a=1;return"release"===r?a=3:"trial"===r&&(a=2),{openId:pq.openId,enterScene:pq.scene||0,languageVersion:e.language,clientVersion:n,addState:i,envVersion:a,appversion:lq().miniProgram.version,devicemodel:e.model,devicebrand:e.brand,osName:e.platform,osVersion:e.system}}function Iq(e,t,r="immediate"){var n=2,{accountInfo:i,envVersion:a}=re||{},o=i?i.appId:"";"release"===a?n=1:"trial"===a&&(n=3);var s=YS(!0),l=pq.sessionid||pq.sessionId,c=pq.usedstate||pq.usedState;mq(e,t),nq(1005,JSON.stringify({appid:o,app_state:n,appversion:lq().miniProgram.version,enter_scene:pq.scene,scene_note:pq.scene_note||pq.sceneNote,prescene:pq.prescene,prescene_note:pq.prescene_note||pq.presceneNote,sessionid:l,add_state:c,page_path:_q()||pq.path,page_query:JSON.stringify(pq.query||{}),referpagepath:pq.referpagepath,isentrance:uq||uq===l?0:1,event_time:Date.now(),sdk_version:mw,devicemodel:s.model,devicebrand:s.brand,os_name:s.platform,os_version:s.system,language_version:s.language,networktype:My(),event_name:e,event_value:JSON.stringify(t),unique_id:String(Date.now()+Math.random()),screen_width:re.screenWidth,screen_height:re.screenHeight,open_source:re.host&&re.host.appId?2:1,host_appid:re.host?re.host.appId:""}),r)}function Pq(e,t={}){Oe?zc("reportEvent",t,"reportEvent:fail SDK暂不支持此API"):(setTimeout((()=>Iq(e,t))),T.reportIDKey({key:"reportEventInvoke"}))}function Aq(e,t={}){setTimeout((()=>Iq(e,t,"high"))),T.reportIDKey({key:"reportEventInvoke"})}function xq(e,t,r=100){var n=Object.getPrototypeOf(Uint8Array),i="wxobs_type_",a=i+"Map",o=i+"Array",s=i+"Set",l=i+"Single_Exceeded",c=i+"Exceeded",u=[],d=new WeakMap,p=0,h=!1,f=e=>t?(e.length>t&&(e=e.slice(0,t)+"..."),e):e;return function(g,v){var m=0,y=void 0;if(0===u.length)u.push({fullKey:"@",key:g,depth:0,visited:!0}),y=u[0];else{for(;u[u.length-1].visited;)for(var b=u[u.length-1].depth;u.length>0&&u[u.length-1].depth===b;)u.pop();var _;if(m=u[u.length-1].depth,y=u.find((e=>e.depth===m&&e.key===g)))y.visited=!0,p+=(null===(_=y.key)||void 0===_?void 0:_.length)+4}if("object"==typeof v&&null!==v){var w,S;if(d.has(v)&&null!==(w=y)&&void 0!==w&&w.fullKey.startsWith(d.get(v)))return p+=`<Circular ${d.get(v)}>`.length,`<Circular ${d.get(v)}>`;d.set(v,null===(S=y)||void 0===S?void 0:S.fullKey)}if(e&&p>e)return h?void 0:(h=!0,c);var C=Object.prototype.toString.call(v);if("[object Set]"===C){var k=[...v];k.length>r&&(k.length=r,k.push("")),Object.keys([...k,""]).forEach((e=>{var t;u.push({fullKey:(null===(t=y)||void 0===t?void 0:t.fullKey)+"."+e,key:e,depth:m+1,visited:!1})}))}else if("[object Map]"===C){var I=[...v];I.length>r&&(I.length=r,I.push([l,!0]));var P=Object.fromEntries(I);P[a]=!0,Object.keys(P).forEach((e=>{var t;u.push({fullKey:(null===(t=y)||void 0===t?void 0:t.fullKey)+"."+e,key:e,depth:m+1,visited:!1})}))}else if("object"==typeof v&&null!==v&&!(v instanceof n||v instanceof ArrayBuffer||v instanceof DataView)){var A=Object.entries(v);A.length>r&&(A.length=r,A.push([l,!0]));var x=Object.fromEntries(A);"[object Array]"===Object.prototype.toString.call(v)&&(x[o]=!0),Object.keys(x).forEach((e=>{var t;u.push({fullKey:(null===(t=y)||void 0===t?void 0:t.fullKey)+"."+e,key:e,depth:m+1,visited:!1})}))}if("[object Null]"===C)return p+=4,i+"Null";if("[object Undefined]"===C)return p+=9,i+"Undefined";if("[object Function]"===C)return p+=("Function_"+(v.name||"anonymous")).length,i+"Function_"+(v.name||"anonymous");if("[object RegExp]"===C)return p+=`RegExp(${v.toString()})`.length,`RegExp(${v.toString()})`;if("[object Error]"===C){var T=f(i+"Error_"+v.message);return p+=T.length,T}if("[object Symbol]"===C){var E=f(v.toString());return p+=E.length,E}if("[object BigInt]"===C){var M=i+"Bigint_"+v.toString();return t&&M.length>10+t&&(M="BigInt length exceeded!"),p+=M.length,M}if("[object Promise]"===C)return p+=9,"<Promise>";if("[object Map]"===C){var R=[...v];R.length>r&&(R.length=r,R.push([l,!0]));var O=Object.fromEntries(R);return O[a]=!0,O}if("[object Set]"===C){var D=[...v];return D.length>r&&(D.length=r,D.push(l)),[...D,s]}if("[object WeakMap]"===C)return p+=9,"<WeakMap>";if("[object WeakSet]"===C)return p+=9,"<WeakSet>";if("[object Number]"===C)return isNaN(v)?(p+=3,i+"NaN"):v===1/0?(p+=8,i+"Infinity"):v===-1/0?(p+=9,i+"NegativeInfinity"):(p+=String(v).length,v);if("[object Object]"===C){var L=Object.entries(v);return L.length>r&&(L.length=r,L.push([l,!0])),Object.fromEntries(L)}if("[object Array]"===C){var N=Object.entries(v);return N.length>r&&(N.length=r,N.push([l,!0])),N.push([o,!0]),Object.fromEntries(N)}var B=f(String(v));return p+=B.length+2,B}}var Tq={debug:KO.RTLogDebug,info:KO.RTLogInfo,warn:KO.RTLogWarn,error:KO.RTLogError},Eq=({pluginId:e,level:t,args:r})=>{if(!e&&a8.recording&&t){var n=I8(),i=Tq[t];if(i){var a="";try{var o;a=JSON.stringify(r,xq(void 0,void 0,null!==(o=a8.recorderConfigs.consoleConfig.maxKeyCount)&&void 0!==o?o:100))}catch(e){return void c$(mD.RealtimeLogSerializeError)}u$(mD.UploadRealtimeLogSize,a.length),d$(mD.UploadRealtimeLogTimeCost,I8()-n),o8({type:i,timestamp:I8(),data:{content:a}})}}},Mq=(e={})=>{var t=e.success,r=e.complete,n={data:""+(Ce?0:"number"==typeof re.appLaunchInfo.appversion?re.appLaunchInfo.appversion:"number"==typeof re.accountInfo.appVersion?re.accountInfo.appVersion:0),errMsg:"getAppContact:ok"};t&&t(n),r&&r(n)},Rq=()=>{var e;return Mq({success:({data:t})=>e=t}),e},Oq=()=>{var e,t=!1;return Ie||ke?{appDebug:"develop"===re.envVersion||"trial"===re.envVersion,appMd5:"",appVersion:Rq(),libDebug:t,libMd5:"",libVersion:OT().version,clientVersion:re.clientVersion,system:{ios:"ios",android:"android"}[Se]||"",systemVersion:null===(e=(re.system||"").split(" "))||void 0===e?void 0:e[1],x5Version:0}:{}},Dq=(e={})=>{Vc("setEnableDebug",e,{enableDebug:!0})&&(md("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 wx.setEnableDebug 打开调试"))},Lq=(e={})=>{md("openDeliveryList",e,{})};function Nq(e){var t,r,n=Qd(e),i=null==re||null===(t=re.appContactInfo)||void 0===t||null===(r=t.stablePassThroughInfo)||void 0===r?void 0:r.wxa_open_url_domain_list;return!!(i&&n&&n.host&&i.includes(n.host)||Ke())}var Bq=e=>(t={})=>{if(!0!==uu.openUrlLock){var r=`${t.url}`,n=Object.assign({},t,{url:r});if(n.url=n.url||"",!ap(n.url)){console.error("invalid url",n.url);var i={errMsg:`${e}: invalid url "${n.url}"`};return"function"==typeof n.fail&&n.fail(i),void("function"==typeof n.complete&&n.complete(i))}"openUrl"!==e||Nq(r)?("openUrl"===e&&void 0!==O&&O.traceEvent("onH5Open",!1,{id:r},r,null,null),uu.openUrlLock=!0,md(e,n,{afterAll(){uu.openUrlLock=!1}})):Hc({name:e,args:n,errMsg:r+" is not in allowed domains",success:!1})}},$q=Bq("openUrl"),jq=Bq("private_openUrl"),Fq=!1,Wq=[],Uq=(e={})=>{if(!e.webviewId||!e.data){console.error("invalid arguments");var t={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof e.fail&&e.fail(t),void("function"==typeof e.complete&&e.complete(t))}"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),Fq?Wq.push(e):(Fq=!0,md("sendDataToH5",e,{afterAll(){if(Fq=!1,Wq.length){var e=Wq.shift();Uq(e)}}}))},Vq=!1,qq=[];function zq(e){for(var t=0;t<qq.length;t++)qq[t](e)}var Gq=e=>{if("function"==typeof e){qq.push(((t={})=>{t.webviewId&&t.data?("string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)):console.error("invalid arguments in onH5Data callback")})),Vq||(qt("onH5Data",zq),Vq=!0)}},Hq=(e,t,r=!1)=>(n={})=>{t||(t=e),Cf(e)||r?!0!==uu.openUrlExtBrowserLock&&(n.url=n.url||"",uu.openUrlExtBrowserLock=!0,md(t,n,{afterAll(){uu.openUrlExtBrowserLock=!1}})):zc(e,n,"no permission")},Kq=Hq("openUrlByExtBrowser"),Jq=Hq("openUrlByExtBrowser2","openUrlByExtBrowser"),Xq=Hq("openUrlByExtBrowser3","openUrlByExtBrowser",!0),Yq=function(e){"string"!=typeof e&&(e+="");var t,r,n=0;for(t=0;t<e.length;t++)(r=e.charCodeAt(t))<127?n+=1:r>=128&&r<=2047?n+=2:r>=2048&&r<=65535&&(n+=3);return n},Qq=function(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`},Zq={lastLogNum:1,lastLogSize:0},ez="undefined"!=typeof __initHelper&&1===__initHelper,tz=(Ce?"http://usr":"wxfile://usr")+"/miniprogramLog/",rz=e=>`${tz}log${e}`,nz={},iz=up(Uq),az=function(){try{return{data:$f.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message||""}}};function oz(e={}){if(!e.index||e.index>Zq.lastLogNum)e.complete&&e.complete();else{var t=Ie?1:5,r=e.readFileResp||az(rz(e.index),"utf8");if(r.data&&r.errMsg.indexOf("readFileSync:ok")>=0){var n=r.data.length,i=Math.max(parseInt(n/t,10),1),a=(e.slice-1)*i,o=r.data.substr(a,i);if(!o)return iz({webviewId:e.webviewId,data:{total:Zq.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:lz()}}),e.index++,e.slice=1,e.readFileResp=null,void oz(e);iz({webviewId:e.webviewId,data:{type:"uploadUserLogContent",content:o,index:e.index,slice:e.slice||1,total:Zq.lastLogNum,info:1===e.index&&1===e.slice?lz():null},success(){e.slice===t?(iz({webviewId:e.webviewId,data:{total:Zq.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:lz()}}),e.index++,e.slice=1,e.readFileResp=null,oz(e)):(e.slice++,e.readFileResp=r,oz(e))},fail(t){e.retry?iz({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t&&t.errMsg,index:e.index,info:lz()}}):(e.retry=!0,oz(e))}})}else iz({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:r.errMsg,index:e.index,info:lz()}})}}function sz(e){Object.assign(nz,e)}function lz(){return{...nz,...kw()}}ez||Gq((e=>{e.data&&"uploadUserLog"===e.data.type&&oz({index:1,slice:1,webviewId:e.webviewId})}));var cz="undefined"!=typeof __initHelper&&1===__initHelper,uz=(Ce?"http://usr":"wxfile://usr")+"/miniprogramLog/",dz=1048576,pz=4,hz=102400,fz=3e3,gz=1,vz=[],mz=!1,yz=!1,bz={},_z=e=>`${uz}log${e}`,wz,Sz=()=>(wz||(wz=new Promise((e=>{Hf({path:uz,success:()=>{var t=1,r=()=>{t<=pz+1?Hf({path:_z(t),success:()=>{bz[t]=!0,Zq.lastLogNum=t,t++,r()},fail:()=>{n()}}):n()},n=()=>{$d({path:_z(Zq.lastLogNum),success:t=>{var r=t.stats;Zq.lastLogSize=r.size,mz=!0,e()},fail:()=>{mz=!0,e()}})};r()},fail:()=>{Wf({dirPath:uz,success:()=>{mz=!0,e()},fail:()=>{e()}})}})}))),wz),Cz=()=>{cz||Sz().then((()=>{if(mz&&vz.length&&!yz){for(var e=[],t=0,r=0;r<vz.length;r++){var n=Yq(vz[r]);if(n>hz)console.warn("[wx.log warn] each log size exceed 100KB will be discard.");else{if(t+n>hz)break;t+=n,e.push(vz[r])}}if(e.length){if(Zq.lastLogSize+t>dz){if(Zq.lastLogNum+1>=pz+2)return yz=!0,void kz();Zq.lastLogNum++,Zq.lastLogSize=0}r===vz.length?vz=[]:vz.splice(0,r),bz[Zq.lastLogNum]?rg({filePath:_z(Zq.lastLogNum),data:(Zq.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8"}):Hf({path:_z(Zq.lastLogNum),success:()=>{rg({filePath:_z(Zq.lastLogNum),data:(Zq.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8"})},fail:()=>{jf({filePath:_z(Zq.lastLogNum),data:(Zq.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail(e){console.log("log writeFile err "+e.errMsg)}})}}),Zq.lastLogSize+=t}}}))};function kz(){setTimeout((()=>{Jf({filePath:_z(1),complete:()=>{var e=2,t=()=>{e<=pz+1?(eg({oldPath:_z(e),newPath:_z(e-1)}),e++,t()):r()},r=()=>{Zq.lastLogNum=pz+1,bz[Zq.lastLogNum]=!1,Zq.lastLogSize=0,yz=!1};t()}})}),50)}var Iz={logApiInvoke:!0};function Pz(e){var t={};return["info","debug","log","warn"].forEach((r=>{t[r]=function t(){Iz.modules&&Iz.modules.includes(e)&&Iz[r].apply(t,arguments)}})),t}["info","debug","log","warn"].forEach((e=>{Iz[e]=function(){if(!cz&&arguments.length){for(var t=[],r=0;r<arguments.length;r++)"number"==typeof arguments[r]||"string"==typeof arguments[r]?t.push(arguments[r]):t.push(JSON.stringify(arguments[r]));t.splice(0,0,Qq(new Date),`[${e}]`),vz.push(t.join(" "))}}}));var Az=!1;function xz(e={}){return Oe?console:(Az||(setInterval((()=>{Cz()}),fz),Az=!0),"number"==typeof e.level&&(Iz.level=e.level),Array.isArray(e.modules)&&(Iz.modules=e.modules),Iz.level===gz?Iz.logApiInvoke=!1:0===Iz.level&&(Iz.logApiInvoke=!0),Iz)}Iz._getUserLog=function(){var e=function(){try{return{stat:jd.apply(this,arguments),errMsg:"statSync:ok"}}catch(e){return{errMsg:e.message||""}}};_w("getLogManager._getUserLog");for(var t={},r=1;r<=pz+1;r++)t["log"+r]=e(_z(r));return t},Iz.privateSystemLog=(...e)=>{Ke()&&void 0!==T&&e&&e.length&&y.info(e)},Gp((()=>{Cz()}));var Tz="GetUploadSetting",Ez,Mz={};function Rz(e){return e?(Mz[e]||(Mz[e]=EE({sdkApiName:Tz,apiName:"GetUploadSetting",reqData:{},pluginId:e})),Mz[e]):Ez||(Ez=EE({sdkApiName:Tz,apiName:"GetUploadSetting",reqData:{},saaaMock:!0}))}function Oz(){var e=null;return{next:()=>(null===e&&(e=Date.now()),e++)}}var Dz={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},Lz=0;function Nz(){var e=0;return{get(){if(e>0)return e;if(0===Lz)throw Error("initTime not ready");return e=Lz},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==g?g.onLoad((()=>{Dz.offset=Date.now(),Lz=Date.now()})):(Dz.offset=Date.now(),Lz=Date.now());var Bz=Oz(),$z=function(){return Bz.next()},jz=ir("onRealtimeLog"),Fz=jz.internalOnMethod,Wz=jz.internalOffMethod;function Uz(e,t,r,...n){try{jz.emit({pluginId:e,mode:t,level:r,args:n})}catch(e){}}var Vz=function(){try{return Uf.apply(this,arguments)}catch(e){return{errMsg:e.message}}},qz=function(){try{return{data:$f.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}},zz=up((e=>Gz(e).errMsg.indexOf("accessSync:ok")>=0)),Gz=function(){try{return Kf.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message||""}}},Hz=function(e){return EE(e)},Kz=1e3,Jz={DEBUG:1,INFO:2,WARN:4,ERROR:8},Xz={ANDROID:1,IOS:2},Yz={WEAPP:1},Qz="",Zz=!1;function eG(e){Zz?e&&e():(Zz=!0,re.onReady((()=>{Qz=re.accountInfo.appId,e&&e()})))}function tG(){if(void 0!==br){var e=br.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}if(Ue())return"index"}var rG=3e5,nG;function iG(e){if(aG(),e="number"!=typeof e?rG:e,(e=Math.max(e,5e3))>0){var t=()=>{aG(),nG=setTimeout((()=>{bG(),t()}),e)};t()}}function aG(){nG&&(nG=clearTimeout(nG))}var oG=!1,sG=6e4,lG=2048;class cG{constructor(e={}){this.systemInfo=JS(),this.opt={},this.opt.level=Jz.INFO,this.mode=e.mode||"normal",this.pluginId=e.pluginId,this.pluginVersion=e.pluginVersion,this.timerId=null,this.isExceedTodayUploadLogCount=!1,this.opt.isClientReport=!!e.isClientReport,this.msgList={},this.filterList={},this.kvFilterList={},this.sizeList={},this.levelList={},this._uploadList=[],this._logInfo={},this._logInfo.level=0,this._logInfo.version=2,this._logInfo.source=Yz.WEAPP,this._logInfo.platform="ios"===this.systemInfo.platform?Xz.IOS:Xz.ANDROID,this._logInfo.libraryVersion=this.systemInfo.SDKVersion,this._logInfo.clientVersion=this.systemInfo.version,this._logInfo.appState="develop"===re.envVersion?2:"trial"===re.envVersion?3:1,this.exceedSizeList={},this.structSizeList={},this.historyLog={},this.retryLogList={},this.MaxSize=10240,this.MaxLogCount=500,this._logCacheBeforeLogConfig=[],setTimeout((()=>{Ce||this._getLogConfig()}),300),eG((()=>{Ue()&&this.cyclelyUploadInGame()})),this.uploadCount=0,this.failCount=0,this.opt.isClientReport&&(this.MaxSize=5120,this.MaxLogCount=200,iq((e=>{this.onRealtimeDataResponse(e)})))}cyclelyUploadInGame(){setTimeout((()=>{bG(),this.cyclelyUploadInGame()}),6e5)}onRealtimeDataResponse(e){if(this.uploadCount++,0!==e.errcode){var t=My();if("wifi"!==t&&"4g"!==t&&"5g"!==t||(this.failCount++,this.uploadCount>=5&&this.failCount/this.uploadCount>=.6&&(oG=!0,this.failCount=0,this.uploadCount=0,setTimeout((()=>{oG=!1}),sG))),e.idList&&e.idList.length){var r=!1,n={},i=!1,a={};e.idList.forEach((o=>{var s=this.historyLog[o];s&&(s.id,s.url,T.reportKeyValue({key:"UserLogFail",value:`,${t},${e.errcode},${parseInt(Date.now()/1e3,10)},${s.url},${s.libraryVersion},${Qz}`}),r=!0,delete this.historyLog[o],n[o]=s);var l=this.retryLogList[o];l&&(l.id,l.url,a[o]=l,delete this.retryLogList[o],i=!0)})),r&&(this.retryLogList=n,this.failRetry(n)),i&&this.saveToFile(a)}}}_getLogConfig(e,t){return Rz(this.pluginId).then((r=>{if(r.data){try{var n=r.data;this.MaxSize=1024*n.MaxLogSize,n.MaxLogCount&&(this.MaxLogCount=n.MaxLogCount),this._logInfo.id=n.UserUin,n.OpenId&&(this.traceid=`${n.OpenId}_${parseInt(Date.now()/1e3,10)}`),n.Debug&&n.Debug.MaxSize&&n.Debug.ExpireTime>Date.now()/1e3&&(this.isDebugMode=!0,this.MaxSize=1024*n.Debug.MaxSize,this.opt.level=Jz.DEBUG,n.Debug.MaxLogCount&&(this.MaxLogCount=n.Debug.MaxLogCount));var i=this._logCacheBeforeLogConfig||[];this._logCacheBeforeLogConfig=[],i.forEach((e=>{this._baseLog(e.key,e.path,...e.args)})),this._getConfigFail=!1,e&&this.upload(t),Ue()||iG(n.ReportInterval)}catch(e){this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]}setTimeout((()=>{this.tryUploadFailLog()}),100)}else this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]})).catch((e=>{e.errMsg&&e.errMsg.indexOf("fail invalid scope")>=0&&(this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]),this._getConfigFail=!0}))}_config(e={}){e.mode&&(this.mode=e.mode)}_checkSize(e,t){var r=0;if(!t||!t.length)return!0;if(!(e=this.pluginId||e||tG()))return!0;t.forEach((e=>{r+=Ly(e)})),this.sizeList[e]=this.sizeList[e]||0;var n=this.sizeList[e];return n+r>this.MaxSize?r:(this.sizeList[e]=n+r,!0)}_getLogValue(e){var t,r=typeof e,n="";if("function"===r&&(t="function(){}"),"undefined"===r)t="<Undefined>";else if("object"===r){n=(n=Object.prototype.toString.call(e)).replace(/^\[object |\]$/g,"");try{t="Error"===n?e.stack:JSON.stringify(e)}catch(e){n="Error",t=e.message}}else e+="";return t||e}_noLoginInfoId(){return!Oe&&!this._logInfo.id}_baseLog(e,t,...r){if(r.length&&!this._hasNoPermission)if(this._noLoginInfoId())this._logCacheBeforeLogConfig.push({key:e,path:t,args:r});else{var n,i,a,o;"object"==typeof e?(n=e.id,i=e.name,a=e.level,o=e.time):(n="__DEFAULT__",i="__DEFAULT__",a=e,o=+new Date);var s=Jz[a.toUpperCase()]||0;if(!(s<this.opt.level)){var l,c;if(t=this.pluginId||t||tG(),this.structSizeList[t]=this.structSizeList[t]||0,"kv"===this.mode){var[u,d]=r;if(!u||"string"!=typeof u)return;var p=this._getLogValue(d);c=this._checkSize(t,[u,p]),l=[n,o,i,u,p],Uz(this.pluginId,this.mode,a.toLowerCase(),d)}else l=r.map(this._getLogValue),c=this._checkSize(t,l),this.structSizeList[t]+=6+(l.length?3*l.length-1:0),Uz(this.pluginId,this.mode,a.toLowerCase(),...r);if(!0===c)this._addLogMsg(l,t,s);else{if(this.exceedSizeList[t]=this.exceedSizeList[t]||0,!this.exceedSizeList[t]){var h=[`UserLog:fail Log Size ${c} Exceed.`];"kv"===this.mode&&h.unshift("warning"),this._addLogMsg(h,t,Jz.WARN)}this.exceedSizeList[t]+=c}}}}_addLogMsg(e,t,r){if(!this.isExceedTodayUploadLogCount&&r&&(!this._getConfigFail||!this._getConfigRetry)){var n=this.pluginId||t||tG();if(n)if(this.msgList[n]=this.msgList[n]||[],this.msgList[n].length>=this.MaxLogCount)this.MaxLogCount;else{var i=this.msgList[n][0];if("kv"===this.mode){var[a,o,s,l,c]=e,u=[r,a,o,s,l,c];this.msgList[n].push(u)}else{var d=new Date,p=Math.ceil(+d/1e3),h=[i?p-i[0]:p,e,r,d.getMilliseconds()];if(!this.msgList[n].length){var f=(new Date).getTimezoneOffset();h.push(f)}this.msgList[n].push(h)}this.levelList[n]=this.levelList[n]||0,this.levelList[n]|=r}}}OperateWxUploadLog(e,t){if(!this.isExceedTodayUploadLogCount){var r=e.structSize||0;delete e.structSize;var n=e.rawSize||0;if(delete e.rawSize,this.opt.isClientReport){var i=this.pluginId?1004:1001;e.url;var a=nq(i,JSON.stringify({interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0,pluginId:this.pluginId||"",pluginVersion:this.pluginVersion||"",appId:Qz}));return this.historyLog[a]=e,T.reportKeyValue({key:"UserLog",value:`,${r+n},${n}${e.timestamp},${e.url},${e.filter1},${Qz}`}),void(t&&t(!0))}return Hz({sdkApiName:"UploadByApi",apiName:"UploadByApi",pluginId:this.pluginId,reqData:{interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0}}).then((()=>{t&&t(!0)})).catch((e=>{e&&1e4==+e.err_code&&(this.isExceedTodayUploadLogCount=!0),t&&t(!1),this.failCount++}))}}failRetry(e){this.uploadFailRetryTimerId||(this.uploadFailRetryTimerId=setTimeout((()=>{if(e)for(var t in e)this.historyLog.hasOwnProperty(t)&&this.OperateWxUploadLog(this.historyLog[t])}),3e3))}stat(e){return(e=this.pluginId||e||tG())&&this.sizeList[e]||0}getCurrentState(e){return{size:(e=this.pluginId||e||tG())&&this.sizeList[e]||0,maxSize:this.MaxSize,logCount:e&&this.msgList[e]&&this.msgList[e].length||0,maxLogCount:this.MaxLogCount}}_hasUploadInterval(){return!!this.opt.isClientReport||!(this._isUploading||Date.now()-this._lastUploadTime<Kz)}upload(e){var t=e||tG();if(e=this.pluginId||t){var r=this.msgList[e]||[];if(r&&r.length)if(this._hasUploadInterval()){if(this._getConfigFail||this._noLoginInfoId()){if(this._getConfigRetry)return;return this._getConfigRetry=!0,void this._getLogConfig(!0,t)}if(Zz){if(!oG){this.msgList[e]=[];var n=this.levelList[e]||Jz.DEBUG;this.levelList[e]=0;var i=this.sizeList[e];this.sizeList[e]=0;var a=this.exceedSizeList[e];this.exceedSizeList[e]=0;var o=this._logInfo;o.level=n,o.rawSize=a+i;var s=this.structSizeList[e]||0;if(o.structSize=s,this.structSizeList[e]=0,this._logInfo.timestamp=Math.ceil(Date.now()/1e3),this._logInfo=Object.assign({},this._logInfo),"kv"===this.mode){var l={},c={};r.forEach((e=>{var[t,r,n,i,a,o]=e,s=t||Jz.DEBUG;c[r]=c[r]||[n,{},s],c[r][1][a]=o,c[r][2]=Math.max(c[r][2],s),l[i]=l[i]||[],-1===l[i].indexOf(c[r])&&l[i].push(c[r])}));var u=this.kvFilterList,d=[];u&&u[e]&&Object.keys(u[e]).forEach((t=>{var r=u[e][t];r&&r.length&&r.forEach((e=>{var[r,n=""]=e;if(c[r]){var i=c[r][1];i.__REALTIME_LOG_TAG__=i.__REALTIME_LOG_TAG__||[],-1===i.__REALTIME_LOG_TAG__.indexOf(n)&&i.__REALTIME_LOG_TAG__.push(n),-1===d.indexOf(n)&&(d.push(n),d.push(`${t}_${n}`))}}))})),o.msg=JSON.stringify(l),o.filter1=[].concat(Object.keys(l),d).join(" "),this.kvFilterList[e]=[]}else o.msg=JSON.stringify(r),o.filter1=this.filterList[e]||"",this.filterList[e]="";Ly(o.msg),o.appid=Qz,this.pluginId&&(o.pluginid=this.pluginId),this.pluginVersion&&(o.pluginVersion=this.pluginVersion),"kv"===this.mode&&(o.mode=this.mode),o.url=t,this.traceid&&(o.traceid=this.traceid),o.device=this.systemInfo.model+" "+this.systemInfo.system,this._isUploading=!0,this.OperateWxUploadLog(o,(e=>{this._isUploading=!1,this._lastUploadTime=Date.now(),e&&this._uploadList.length&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.timerId=null,this.upload(this._uploadList.shift())}),Kz))}))}}else eG((()=>{Qz&&this.upload(t)}))}else this._uploadList.indexOf(t)<0&&this._uploadList.push(t)}}setFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),Ly(t)>lG)return!1;if(e=this.pluginId||e||tG(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=[[r.id,t]],!0}return this.filterList[e]=t,!0}addFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),e=this.pluginId||e||tG(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=n[e][r.name]||[],void n[e][r.name].push([r.id,t])}var i=this.filterList[e]||"";this.setFilterMsg(e,i+(i?" ":"")+t)}getTraceId(){return this.traceid||""}getFilePath(){var e=(re&&re.env.USER_DATA_PATH||(Ce?"http://usr":"wxfile://usr"))+"/miniprogramLog/",t=e+"realtime.log";return zz(e)||Vz(e),t}getFileContent(e){var t=qz(e,"utf8");try{if(t&&t.data)return t=JSON.parse(t.data)}catch(e){}return null}saveToFile(e){if(e){var t=this.getFilePath();if(zz(t)){var r=this.getFileContent(t);r&&Object.keys(r).forEach((t=>{e[t]||(e[t]=r[t])}))}jf({filePath:t,data:JSON.stringify(e),encoding:"utf8",fail(e){e.errMsg},success(e){}})}}tryUploadFailLog(){var e=this.getFilePath();if(zz(e)){var t=this.getFileContent(e);if(!t)return;Object.keys(t).forEach((e=>{this.OperateWxUploadLog(t[e])})),jf({filePath:e,data:"{}",encoding:"utf8",fail(e){e.errMsg},success(e){}})}}}var uG=null,dG={},pG=e=>e?dG[e]:uG,hG=(e,t)=>{e?dG[e]=t:uG=t},fG=()=>{var e=[];return uG&&e.push(uG),Object.keys(dG).forEach((t=>e.push(dG[t]))),e},gG=(e={},t,r)=>{var n="",i={stat(){if(!Ce){var e=pG(t);if(e)return e.stat(n)}},getCurrentState(){if(Ce)return{};var e=pG(t);return e?e.getCurrentState(n):{}},setFilterMsg(e){if(!Ce){var r=pG(t);if(r)return r.setFilterMsg(n,e)}},addFilterMsg(e){if(!Ce){var r=pG(t);if(r)return r.addFilterMsg(n,e)}},in(e){Ue()?n="index":e&&e.route&&(n=e.route)},tag(e){var r=$z(),i=+new Date;return{debug(a,o){if(!Ce){var s=pG(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"debug"},n,a,o)}},info(a,o){if(!Ce){var s=pG(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"info"},n,a,o)}},warn(a,o){if(!Ce){var s=pG(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"warn"},n,a,o)}},error(a,o){if(!Ce){var s=pG(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"error"},n,a,o)}},setFilterMsg(i){if(!Ce){var a=pG(t);if(a)return a.setFilterMsg(n,i,{name:e,id:r})}},addFilterMsg(i){if(!Ce){var a=pG(t);if(a)return a.addFilterMsg(n,i,{name:e,id:r})}}}}};return i=t?Object.assign(i,{config(){},debug(){},info(){},warn(){},error(){}}):Object.assign(i,{config(e){if(!Ce&&"object"==typeof e){var r=pG(t);r&&r._config(e)}},debug(...e){if(!Ce){var r=pG(t);if(r)return r._baseLog("debug",n,...e)}},info(...e){if(!Ce){var r=pG(t);if(r)return r._baseLog("info",n,...e)}},warn(...e){if(!Ce){var r=pG(t);if(r)return r._baseLog("warn",n,...e)}},error(...e){if(!Ce){var r=pG(t);if(r)return r._baseLog("error",n,...e)}}}),pG(t)||hG(t,new cG({isClientReport:e.isClientReport,pluginId:t,pluginVersion:r,mode:t?"kv":"normal"})),i},vG=e=>{e=e||{};var t="develop"===re.envVersion||"trial"===re.envVersion;return e.isClientReport=!t,gG(e)},mG=(e,t,r)=>{r=r||{};var n="develop"===re.envVersion||"trial"===re.envVersion;return r.isClientReport=!n,gG(r,e,t)},yG=e=>{e=e||{};var t="develop"===WXConfig.envVersion||"trial"===WXConfig.envVersion;return e.isClientReport=!t,gG(e)},bG=e=>{if(!Ce){var t=fG();t.length&&t.forEach((t=>{try{t.upload(e)}catch(e){}}))}},_G;Gp((e=>{Ce||e&&8===e.targetAction||Zz&&(_G&&clearTimeout(_G),_G=setTimeout((()=>{void 0!==br?br.getCurrentPagesByDomain("").forEach((e=>{bG(e.route)})):Ue()&&bG();_G=null}),10))}));var wG=50,SG=e=>"Error"===Object.prototype.toString.call(e).slice(8,-1),CG={},kG=0,IG=[],PG=()=>{kG++,xG(),OG(),i8.enabledFeatures.captureRealtimeLog&&$G(),EG(kG),UG(),i8.enabledFeatures.captureReportEvent&&NG()},AG=()=>{DG(),i8.enabledFeatures.captureRealtimeLog&&jG(),MG(),VG(),i8.enabledFeatures.captureReportEvent&&BG()};function xG(){return TG.apply(this,arguments)}function TG(){return TG=xd()((function*(){var e=lN(),{version:t,updateTime:r}=OT();o8({type:KO.InitState,data:{launchOptions:e,config:{...dD(),detailVersion:`${t} (${r})`},identifier:yield _N(),capsule:CV()},timestamp:I8()}),IG.push({path:e.path,query:e.query,timestamp:I8()}),Ke()&&AB()})),TG.apply(this,arguments)}function EG(e){var[t,r]=[0,I8()];RC((t=>{if(a8.recording&&e===kG){var r,n=p8(),i=CD[t.openType];if(i)o8({type:i,timestamp:I8(),data:{path:t.path,webviewId:t.webviewId,query:t.query,pageConfig:null===(r=re.page)||void 0===r?void 0:r[t.path],shouldCapture:n}}),IG.push({path:t.path,query:t.query,timestamp:I8()})}})),v$((t=>{if(a8.recording&&e===kG){var r=IG[IG.length-1],n=IG[IG.length-2];r&&n&&r.path===t.pagePath.replace(".html","")&&I8()-r.timestamp<100?o8({type:KO.TabItemTap,timestamp:I8(),data:{...t,current:n}}):o8({type:KO.TabItemTap,timestamp:I8(),data:{...t,current:null!=r?r:{path:"unknown",query:{},timestamp:0}}})}})),ur("onKeyboardHeightChange",(t=>{a8.recording&&e===kG&&o8({type:KO.KeyBoardHeightChange,timestamp:I8(),data:{payload:t}})})),GC((n=>{if(a8.recording&&e===kG){t+=I8()-r;var i={type:KO.AppShow,timestamp:I8(),data:{...n,inactiveTime:t}};delete i.data.shareTicket,setTimeout((()=>{o8(i)}),0)}})),sk((()=>{a8.recording&&e===kG&&(r=I8(),o8({type:KO.AppHide,data:{},timestamp:I8()}),AB({backstopWithWxData:!0}),f$())})),L$(HG),KV((t=>{a8.recording&&e===kG&&o8({type:KO.MemoryWarning,data:t,timestamp:I8()})}))}function MG(){N$(HG)}var RG=function(){var e=xd()((function*({type:e,payload:t}){if(a8.recording){var r=CD[e];r&&o8({timestamp:I8(),type:r,data:{payload:t}})}}));return function(t){return e.apply(this,arguments)}}();function OG(){TW(RG)}function DG(){EW(RG)}var LG=({reportId:e,data:t})=>{a8.recording&&!Ue()&&b8(e,t)};function NG(){gq(LG)}function BG(){vq(LG)}function $G(){Fz(Eq)}function jG(){Wz(Eq)}var FG=e=>{try{qG(KO.OnError,e)}catch(e){}},WG=e=>{try{qG(KO.OnUnhandledRejection,e)}catch(e){}};function UG(){b$(FG),w$(WG),I$(GG)}function VG(){_$(FG),S$(WG),P$(GG),CG={}}function qG(e,t){if(a8.recording&&t&&!(Object.keys(CG).length>=wG)){var r;e===KO.OnUnhandledRejection&&(t=t.reason),r=SG(t)?{name:t.name||"",message:t.message,stack:gD(t.stack||""),path:uu.lastRoute,query:uu.query}:{message:t+"",path:uu.lastRoute,query:uu.query};var n=JSON.stringify(r);if(CG[n])CG[n].count++,o8({type:e,timestamp:I8(),data:{eventHash:CG[n].eventHash,msgHash:CG[n].msgHash}});else{var i=uD(n),a=r.message?uD(r.message):void 0;CG[n]={eventHash:i,msgHash:a,count:1},o8({type:e,timestamp:I8(),data:{...r,eventHash:i,msgHash:a}})}}}var zG={page:"",time:0,count:0};function GG(e){if(a8.recording){var{query:t,isEntryPage:r}=e,{path:n}=e;"string"==typeof n&&n.endsWith(".html")&&(n=n.substring(0,n.indexOf(".html"))),zG.page&&zG.page===n?zG.count++:zG={page:n,time:I8(),count:1},I8()-zG.time<=3e3&&zG.count>3||o8({type:KO.OnPageNotFound,timestamp:I8(),data:{targetPath:n,targetQuery:t,isEntryPage:r,path:uu.lastRoute,query:uu.query}})}}function HG(){a8.recording&&o8({type:KO.UserScreenCapture,timestamp:I8(),data:{path:uu.lastRoute,query:uu.query}})}var KG={},JG={},XG=1024,YG=4096,QG=1e3,ZG=50,eH=100,tH=!1,rH=100;function nH(){if(void 0!==P){var e,t,r,n,i,a,o;P._subscribeConsole(aH);var s=a8.recorderConfigs.consoleConfig;XG=null!==(e=null==s?void 0:s.maxConsoleLength)&&void 0!==e?e:XG,QG=null!==(t=null==s?void 0:s.maxConsoleMsgOccurrence)&&void 0!==t?t:QG,ZG=null!==(r=null==s?void 0:s.maxConsoleMsgTypes)&&void 0!==r?r:ZG,eH=null!==(n=null==s?void 0:s.maxConsoleFieldLength)&&void 0!==n?n:eH,YG=null!==(i=null==s?void 0:s.consoleLogDropLength)&&void 0!==i?i:YG,tH=null!==(a=null==s?void 0:s.enableConsoleSerialization)&&void 0!==a?a:tH,rH=null!==(o=null==s?void 0:s.maxKeyCount)&&void 0!==o?o:rH}}function iH(){void 0!==P&&P._unsubscribeConsole(aH)}function aH(e,t,r){if(a8.recording&&!(Object.keys(JG).length>=ZG)&&"error"===e){var n=I8(),i="",a=()=>{(i=t.join(" ")).length>XG&&(i=i.substring(0,XG))};if(tH)try{(i="wxobs_serialized_"+JSON.stringify(t,xq(XG,eH))).length>YG&&(c$(mD.ConsoleErrorDrop),i="",a())}catch(e){c$(mD.ConsoleErrorSerializeError),a()}else a();if(JG[i]){if(JG[i]++>=QG)return}else JG[i]=1;var o={method:e,message:i,context:r,path:uu.lastRoute,query:uu.query},s=JSON.stringify(o);if(d$(mD.UploadConsoleErrorTimeCost,I8()-n),KG[s])KG[s].count++,o8({type:KO.ConsoleError,timestamp:I8(),data:{eventHash:KG[s].eventHash,msgHash:KG[s].msgHash}});else{var l=uD(s),c=uD(i);KG[s]={eventHash:l,msgHash:c,count:1},u$(mD.UploadConsoleErrorSize,s.length),o8({type:KO.ConsoleError,timestamp:I8(),data:{...o,eventHash:l,msgHash:c}})}}}var oH={},sH={},lH="servicewechat.com",cH=102400,uH=50,dH=50,pH=50,hH=50,fH=Number.MAX_SAFE_INTEGER,gH=Number.MAX_SAFE_INTEGER,vH=Number.MAX_SAFE_INTEGER,mH=Number.MAX_SAFE_INTEGER,yH="",bH=!1;function _H(){var e,t,r,n,i,a,o,s,l=a8.recorderConfigs.networkConfig;uH=null!==(e=null==l?void 0:l.maxNormalNetworkLogOccurrence)&&void 0!==e?e:uH,dH=null!==(t=null==l?void 0:l.maxNormalNetworkLogTypes)&&void 0!==t?t:dH,pH=null!==(r=null==l?void 0:l.maxErrorNetworkLogOccurrence)&&void 0!==r?r:pH,hH=null!==(n=null==l?void 0:l.maxErrorNetworkLogTypes)&&void 0!==n?n:hH,fH=null!==(i=null==l?void 0:l.maxNormalNetworkLogTypesCustomCapture)&&void 0!==i?i:Number.MAX_SAFE_INTEGER,gH=null!==(a=null==l?void 0:l.maxNormalNetworkLogOccurrenceCustomCapture)&&void 0!==a?a:Number.MAX_SAFE_INTEGER,vH=null!==(o=null==l?void 0:l.maxErrorNetworkLogTypesCustomCapture)&&void 0!==o?o:Number.MAX_SAFE_INTEGER,mH=null!==(s=null==l?void 0:l.maxErrorNetworkLogOccurrenceCustomCapture)&&void 0!==s?s:Number.MAX_SAFE_INTEGER;var c=a8.recorderConfigs.cosInfo;yH=i8.customHost||`${null==c?void 0:c.bucket}.cos.${null==c?void 0:c.region}.myqcloud.com`,Gy(IH),Ty(AH),Ay(xH);var u=My();TH({isConnected:"none"!==u,networkType:u}),bH=!1}function wH(){Hy(IH),Ey(AH),xy(xH)}function SH(e){IH(e)}function CH(e,t,r){var n=t?oH:sH;if(r){var i=t?fH:vH,a=t?gH:mH,o=Object.keys(n).length>=i||Boolean(n[e])&&n[e]>=a;return o&&!bH&&kH(),o}var s=t?dH:hH,l=t?uH:pH,c=Object.keys(n).length>s||Boolean(n[e])&&n[e]>l;return c&&!bH&&kH(),c}function kH(){if(!bH){var e={type:KO.NetworkLimitExceeded,data:{maxNormalNetworkLogTypes:dH,maxNormalNetworkLogOccurrence:uH,maxErrorNetworkLogTypes:hH,maxErrorNetworkLogOccurrence:pH,maxNormalNetworkLogTypesCustomCapture:fH,maxNormalNetworkLogOccurrenceCustomCapture:gH,maxErrorNetworkLogTypesCustomCapture:vH,maxErrorNetworkLogOccurrenceCustomCapture:mH}};o8({type:KO.NetworkLimitExceeded,timestamp:I8(),data:e.data}),bH=!0}}function IH(e){if(a8.recording&&a8.recorderConfigs.enabledFeatures.network)try{var t,r,n,i,a,o,s,l,c,u,d,p,h,{result:f,functionName:g,statusCode:v,keyParam:m,__skipDomainCheck__:y}=e;if(!kD[g]||y||!f)return;if(m.includes(yH)||m.includes(lH))return;var b={success:1===f&&v<400,url:m,requestData:e.requestData,responseData:null===(t=e.response)||void 0===t?void 0:t.data,cost:e.costTime,errMsg:null!==(r=e.errorMsg)&&void 0!==r?r:void 0,statusCode:null!==(n=e.statusCode)&&void 0!==n?n:void 0,profile:null!==(i=e.profile)&&void 0!==i&&i.responseEnd?{fetchStart:e.profile.fetchStart,responseEnd:e.profile.responseEnd}:void 0,isSdkSelected:!1,errno:e.errno};c$(b.success?mD.NetworkSuccess:mD.NetworkFail);var _=(null!==(a=a8.recorderConfigs.shouldCaptureNetwork)&&void 0!==a?a:PH)(b);if(!0===_){if(!1===(_=PH(b)))return}else{if(!1===_)return;if(null===(o=_)||void 0===o||!o.url)return;var w=!!a8.recorderConfigs.shouldCaptureNetwork,S=Boolean(_.success);if(CH(_.url,S,w))return;if(w){var C=_.requestData?String(_.requestData):void 0,k=_.responseData?String(_.responseData):void 0,I=_.custom||{},P={};for(var A of Object.keys(I))P[A]=String(I[A]);_={success:Boolean(_.success),url:String(_.url),requestData:C&&C.length>cH?C.slice(0,cH):C,responseData:k&&k.length>cH?k.slice(0,cH):k,cost:Number(_.cost||0),errMsg:String(_.errMsg),statusCode:Number(_.statusCode||0),profile:_.profile,custom:P,isSdkSelected:!0,errno:_.errno}}}b=_;var x={...b,api:kD[g]};null!==(s=x.errMsg)&&void 0!==s&&s.endsWith(":ok")&&delete x.errMsg;var T=x.success?oH:sH;T[x.url]?T[x.url]++:T[x.url]=1,o8({type:KO.NetworkAPI,timestamp:I8(),data:x});var E=x.url.length+(null!==(l=null===(c=x.requestData)||void 0===c?void 0:c.length)&&void 0!==l?l:0)+(null!==(u=null===(d=x.responseData)||void 0===d?void 0:d.length)&&void 0!==u?u:0)+(null!==(p=null===(h=x.errMsg)||void 0===h?void 0:h.length)&&void 0!==p?p:0);u$(mD.UploadNetworkSize,E)}catch(e){c$(mD.NetworkHandleError)}}function PH(e){if(!!!a8.recorderConfigs.enabledFeatures.captureSuccessNetwork&&e.success)return!1;var t={...e};return delete t.requestData,delete t.responseData,t}function AH(e){a8.recording&&o8({type:KO.NetworkWeak,timestamp:I8(),data:e})}function xH(e){a8.recording&&TH(e)}var TH=e=>{o8({type:KO.NetworkStatus,data:e,timestamp:I8()}),WC("syncPXState",{networkStatus:e.networkType},i8.recordingWebviewIds,(()=>{})),a8.recorderConfigs.networkStatus=e.networkType},EH=["navigation","loadPackage","render","script","resource"],MH=["navigation","render"],RH=["appLaunch","route","firstRender"];class OH{constructor(e,t,r,n,i){this.entryType=e,this.name=t,this.startTime=r,this.duration=void 0,n&&(this.duration=n-r),i&&Object.assign(this,i)}}class DH extends OH{constructor(e,t,r,n){super("render",e,t,r,n)}}class LH extends DH{constructor(e,t,r){super("firstRender",e,t,r)}}class NH extends OH{constructor(e,t,r){super("script","evaluateScript",e,t,r)}}class BH extends OH{constructor(e,t,r,n,i){super("navigation",e,t,r,Object.assign({navigationType:n},i))}}class $H extends BH{constructor(e,t,r){super("appLaunch",e,t,"appLaunch",r)}}class jH extends BH{constructor(e,t,r,n){super("route",e,t,r,n)}}class FH extends OH{constructor(e,t,r){super("loadPackage","downloadPackage",e,t,r)}}class WH extends OH{constructor(e,t,r){super("resource","resourceTiming",e,t,r)}}function UH(e){e.duration>0&&e.duration<1e6&&b.info(`Launch Time: ${e.duration} ms`)}"devtools"===re.platform&&b.info(`WeChatLib: ${RT.version} (${RT.updateTime})`),re.onReady((()=>{(Array.isArray(re.subpackages)?re.subpackages.length:0)>0?b.info(`No. of subpackages: ${re.subpackages.length}`):b.info("Subpackages: N/A");var e=!!re.isLazyLoad;b.info(`LazyCodeLoading: ${e}`),e&&re.__globalComponentsCount>0&&console.warn(`[Perf] 全局自定义组件可能影响按需注入的效果，请谨慎使用（在 app.json 中检测到 ${re.__globalComponentsCount} 个）。\n参考 https://developers.weixin.qq.com/miniprogram/dev/framework/ability/lazyload.html`)}));var VH=ir("lifeCycle:BeforeAppRoute"),qH=VH.internalOnMethod,zH=VH.internalOffMethod,GH=e=>{VH.onMethod(e)},HH=VH.offMethod,KH=e=>{var t=NC(e);t.path=Xd(t.path),delete t.timeStamp,VH.emit(BC(t,""))},JH=ir("lifeCycle:BeforePageLoad"),XH=e=>{JH.onMethod(e)},YH=JH.offMethod,QH=(e,t)=>{if(gp(e.path||"")===t)return e;var r={path:e.path,routeEventId:e.routeEventId};return e.query&&(r.query={}),e.componentFramework&&(r.componentFramework=e.componentFramework),e.page&&(r.page=e.page),r},ZH=e=>{JH.emit(QH(e,""))},eK=ir("lifeCycle:AfterPageLoad"),tK=e=>{eK.onMethod(e)},rK=eK.offMethod,nK=e=>{eK.emit(QH(e,""))},iK=ir("lifeCycle:BeforePageUnload"),aK=e=>{iK.onMethod(e)},oK=iK.offMethod,sK=e=>{iK.emit(QH(e,""))},lK=ir("lifeCycle:AfterPageUnload"),cK=e=>{lK.onMethod(e)},uK=lK.offMethod,dK=e=>{PK.delete(e.path),lK.emit(QH(e,""))},pK={},hK={},fK={},gK={},vK={},mK={},yK={},bK=e=>{KH(e),Object.values(pK).forEach((t=>{t(e)}))},_K=e=>{$C(e),Object.values(hK).forEach((t=>{t(e)}))},wK=e=>{DK(e),Object.values(fK).forEach((t=>{t(e)}))},SK=e=>{ZH(e),Object.values(gK).forEach((t=>{t(e)}))},CK=e=>{nK(e),Object.values(vK).forEach((t=>{t(e)}))},kK=e=>{sK(e),Object.values(mK).forEach((t=>{t(e)}))},IK=e=>{dK(e),Object.values(yK).forEach((t=>{t(e)}))},PK=new Map,AK=e=>{var t={};for(var r of["path","query","openType","timeStamp","webviewId","routeEventId"])r in e&&(t[r]=e[r]);return t},xK=(e,t)=>gp(e.path)===t?e:{path:e.path,query:{},openType:e.openType,timeStamp:e.timeStamp,webviewId:e.webviewId,routeEventId:e.routeEventId},TK=ir("lifeCycle:AppRouteDone"),EK=TK.internalOnMethod,MK=TK.internalOffMethod,RK=e=>{TK.onMethod(e)},OK=TK.offMethod,DK=e=>{e.routeEventId=PK.get(e.path)||"",TK.emitInternal(e);var t=AK(e);TK.emitGlobal(xK(t,""))},LK,NK,BK="updatePerfTimeline",$K=function(e){return e[e.AS_Config_Ready_Begin=0]="AS_Config_Ready_Begin",e[e.AS_Config_Ready_End=1]="AS_Config_Ready_End",e[e.App_onLaunch=2]="App_onLaunch",e[e.App_onLaunch_End=3]="App_onLaunch_End",e[e.App_onShow=4]="App_onShow",e[e.App_onShow_End=5]="App_onShow_End",e[e.Evaluate_Script_Begin=6]="Evaluate_Script_Begin",e[e.Evaluate_Script_End=7]="Evaluate_Script_End",e[e.SubPackage_Ready=8]="SubPackage_Ready",e[e.AppRoute_Begin=9]="AppRoute_Begin",e[e.AppRoute_End=10]="AppRoute_End",e[e.AppRoute_Callback_Begin=11]="AppRoute_Callback_Begin",e[e.AppRoute_Callback_End=12]="AppRoute_Callback_End",e[e.AppRoute_AppServiceEngine=13]="AppRoute_AppServiceEngine",e[e.Open_New_Page=14]="Open_New_Page",e[e.Publish_Init_Data=15]="Publish_Init_Data",e[e.Send_Init_Data=16]="Send_Init_Data",e[e.Recv_Init_Ready=17]="Recv_Init_Ready",e[e.AppRoute_Done_Begin=18]="AppRoute_Done_Begin",e[e.AppRoute_Done_End=19]="AppRoute_Done_End",e[e.TriggerAppRoute=20]="TriggerAppRoute",e[e.Page_onLoad=21]="Page_onLoad",e[e.Page_onLoad_End=22]="Page_onLoad_End",e[e.Page_onShow=23]="Page_onShow",e[e.Page_onShow_End=24]="Page_onShow_End",e[e.Evaluate_WAWebview_Begin=25]="Evaluate_WAWebview_Begin",e[e.Evaluate_WAWebview_End=26]="Evaluate_WAWebview_End",e[e.WV_Config_Ready_Begin=27]="WV_Config_Ready_Begin",e[e.WV_Config_Ready_End=28]="WV_Config_Ready_End",e[e.Evaluate_PageFrame_Begin=29]="Evaluate_PageFrame_Begin",e[e.Evaluate_PageFrame_End=30]="Evaluate_PageFrame_End",e[e.Evaluate_Subpackage_PageFrame_Begin=31]="Evaluate_Subpackage_PageFrame_Begin",e[e.Evaluate_Subpackage_PageFrame_End=32]="Evaluate_Subpackage_PageFrame_End",e[e.Set_CSS_Begin=33]="Set_CSS_Begin",e[e.Set_CSS_End=34]="Set_CSS_End",e[e.Generate_Func_Ready=35]="Generate_Func_Ready",e[e.Recv_Init_Data=36]="Recv_Init_Data",e[e.Init_Render_Begin=37]="Init_Render_Begin",e[e.Init_Render_End=38]="Init_Render_End",e[e.VD_Init_Render_Begin=39]="VD_Init_Render_Begin",e[e.VD_Init_Render_End=40]="VD_Init_Render_End",e[e.Send_Init_Ready=41]="Send_Init_Ready",e[e.Init_Ready_Rendering_Cache=42]="Init_Ready_Rendering_Cache",e[e.Init_Ready_Prerender=43]="Init_Ready_Prerender",e[e.Init_Ready_After_Rendering_Cache=44]="Init_Ready_After_Rendering_Cache",e[e.Init_Ready_Client=45]="Init_Ready_Client",e[e.Real_Init_Ready=46]="Real_Init_Ready",e[e.First_User_Interaction=47]="First_User_Interaction",e[e.FP=48]="FP",e[e.FCP=49]="FCP",e[e.LCP=50]="LCP",e[e.First_Start_Render=51]="First_Start_Render",e[e.Raster_Finish=52]="Raster_Finish",e}({}),jK=null,FK=[],WK={};function UK(e){return 0===e?"N/A":Math.round(e-(re.coldLaunchTime||0))}var VK=(null===(LK=g)||void 0===LK||null===(NK=LK.env)||void 0===NK?void 0:NK.typeStr)||"UNKNOWN";function qK(e,t,r={}){r.noRecord||FK.push([e,t]),WK[e]=t,r.noLog||y.info(`[CheckPoint][${VK}][${UK(t)}] ${$K[e]} @ ${t}`)}var zK=new Set;function GK(e,t){zK.has(e)||(zK.add(e),qK(e,t))}function HK(e){return WK[e]||0}function KK(){var e=FK;return FK=[],e}var JK=e=>{if(e.action){var t=e.data||"";rt(t)||(t=Ot(t));var r=e.action;if(nt(r)||(r=Number(r),!st(r))){var n=e.uintData||0;if(nt(n)||(n=Number(n),!st(n))){var i=e.data2||"";rt(i)||(i=Ot(i)),md("sendSaaAReportData",{data:t,uintData:n,action:r,data2:i,moduleId:re.accountInfo.appId})}}}},XK=e=>{var t=Rt(e,{method:"",param:{}});if(t)throw new Error(`invokeMiniappNativeExtension parameter error: ${t}`);eJ(e),JK({action:9,data:e.method,uintData:0})},YK=null,QK=null,ZK=e=>{var t=Rt(e,{method:"",param:{}});if(t)throw new Error(`onMiniappNativeExtensionMsg callback error: ${t}`);"object"==typeof YK&&YK[e.method]&&YK[e.method](e.param)},eJ=e=>{md("sendExtNative",e)},tJ=e=>{qt("onExtNative",(t=>{e&&e(t)}))},rJ=(e={})=>{nJ(e,!0)},nJ=(e={},t=!1)=>{null===YK&&(tJ(ZK),YK={},QK={});var r=Rt(e,{method:"",callback:()=>{}});if(r)throw new Error(`onMiniappNativeExtensionMsg error: ${r}`);QK[e.method]||(QK[e.method]=new Set,YK[e.method]=r=>{var n=QK[e.method];n&&n.forEach((e=>e(r))),t&&JK({action:9,data:e.method,uintData:1})}),QK[e.method].add(e.callback)},iJ=(e,t)=>{if("object"==typeof e&&(t=e.callback,e=e.method),"string"!=typeof e)throw new Error("offMiniappNativeExtensionMsg error: paramter method should be string");if(!t)return null!==YK&&delete YK[e],void(null!==QK&&delete QK[e]);QK[e]&&(QK[e].delete(t),0===QK[e].size&&(delete QK[e],delete YK[e]))},aJ=function(){var e=xd()((function*(e){return new Promise((t=>{eJ({method:"__is__native__register__exits__",param:{method:e},success(e){t(e.result)},fail(){t(!1)}})}))}));return function(t){return e.apply(this,arguments)}}(),oJ={wxlogin:1,wxpay:2,launchMiniprogram:3,share:4,subscribe:5,customerService:6,log:7,invoiceAuthInsert:8},sJ={text:0,imgae:1,music:2,video:3,webpage:4,miniprogram:5,musicvideo:6};function lJ(e){var t=e.lastIndexOf("."),r=t<1?"":e.substr(t+1);return-1!==["png","jpg","jpeg","bmp","webp","psd","svg","tiff"].indexOf(r.toLowerCase())}var cJ=!1,uJ=void 0,dJ=[];function pJ(){if(cJ=!1,uJ=void 0,dJ.length>0){var e=dJ.shift();fJ(e)}}function hJ(e){uJ&&"function"==typeof uJ.fail&&(Hc({name:"sendOpenReq",args:uJ,errno:10100001,errMsg:e,errCode:void 0,success:!1}),uJ.success=()=>{},uJ.fail=()=>{}),pJ()}nJ({method:"__appActiveBySystemForOpenSdkQueue__",callback:()=>{hJ("opensdk failed 并没有通过微信返回多端App。")}});var fJ=(e,t)=>{cJ?dJ.push(e):(uJ=e,cJ=!0,md("sendOpenReq",{...e,success(...t){e.success&&e.success(...t),pJ()},fail(t){e.fail&&e.fail(t),pJ()},requestInQueue:!1},t))},gJ=ir("sendOpenReq_log");qt("sendOpenReq_log",(e=>{gJ.emit(e)}));var vJ=gJ.onMethod,mJ=gJ.offMethod,yJ=(e={})=>{JK({action:12,data:"miniapp.login"}),fJ({...e,scope:"snsapi_userinfo",type:oJ.wxlogin})},bJ=(e={})=>{JK({action:12,data:"requestPayment"});var t=null;(t="string"!=typeof e.timeStamp&&"number"!=typeof e.timeStamp?"parameters error: timeStamp should be string or number":Rt(e,{mchId:"",prepayId:"",package:"",nonceStr:"",sign:""}))?zc("requestPayment",e,`parameter error: ${t}`):fJ({...e,type:oJ.wxpay})},_J,wJ=e=>{_J||(_J=SJ());try{_J(e)}catch(e){process.env.DEBUG&&console.error(e)}};function SJ(){return f_("","checkopenurl",(e=>({request_type:e.request_type,scene:e.scene,src_path:e.src_path,open_wxa_info:e.open_wxa_info})),(e=>e),(e=>e))}var CJ=(e={})=>{fJ({...e,type:oJ.launchMiniprogram})},kJ=(e={})=>{var{path:t,scene:r,miniprogramType:n=0,src_path:i}=e;t&&r&&wJ({scene:r,request_type:3,src_path:i,open_wxa_info:{weapp_type:n,path:t},success:e=>{var t=()=>{e.open_wxa_info&&fJ({userName:e.open_wxa_info.weapp_username,miniprogramType:e.open_wxa_info.weapp_type,path:e.open_wxa_info.path,type:oJ.launchMiniprogram})};e.action_info||console.error("launch miniprogram fail: no action_info"),1===e.action_info.action_code&&t(),2===e.action_info.action_code&&RW({title:e.action_info.alert_title||"",content:e.action_info.alert_msg,confirmText:e.action_info.allow_wording,cancelText:e.action_info.cancel_wording,success:e=>{e.confirm&&t()}}),4===e.action_info.action_code&&RW({title:e.action_info.alert_title||"",content:e.action_info.alert_msg,confirmText:e.action_info.allow_wording,showCancel:!1})},fail:()=>{console.error("launch miniprogram fail")}})},IJ=(e={})=>{var t=Rt(e,{text:"",scene:0});t?zc("shareTextMessage",e,`parameter error: ${t}`):fJ({...e,type:oJ.share,shareType:sJ.text})},PJ=(e={})=>{var t=Rt(e,{title:"",description:"",thumbPath:"",webpageUrl:"1",scene:0});t?zc("shareWebPageMessage",e,`parameter error: ${t}`):lJ(e.thumbPath)?fJ({...e,type:oJ.share,shareType:sJ.webpage}):zc("shareWebPageMessage",e,"thumbPath is not image")},AJ=(e={})=>{var t=Rt(e,{imagePath:"",thumbPath:"",scene:0});t?zc("shareImageMessage",e,`parameter error: ${t}`):lJ(e.thumbPath)?lJ(e.imagePath)?fJ({...e,type:oJ.share,shareType:sJ.imgae}):zc("shareImageMessage",e,"imagePath is not image"):zc("shareImageMessage",e,"thumbPath is not image")},xJ=(e={},t={})=>{var r=Rt(e,{webpageUrl:"1",userName:"",path:"",imagePath:"",withShareTicket:!0,miniprogramType:0,scene:0});return r?(e.fromShareButton&&console.error(`wx.miniapp.shareMiniProgramMessage parameter error: ${r}`),void zc("shareMiniProgramMessage",e,`parameter error: ${r}`)):lJ(e.imagePath)?void fJ({...e,type:oJ.share,shareType:sJ.miniprogram},t):(e.fromShareButton&&console.error(`wx.miniapp.shareMiniProgramMessage is not image ${JSON.stringify(e)}`),void zc("shareMiniProgramMessage",e,"imagePath is not image"))},TJ=(e={})=>{},EJ=(e={})=>{var t=Rt(e,{title:"",description:"",thumbPath:""});t?zc("shareVideoMessage",e,`parameter error: ${t}`):e.videoUrl||e.videoLowBandUrl?lJ(e.thumbPath)?fJ({...e,type:oJ.share,shareType:sJ.video}):zc("shareVideoMessage",e,"imagePath is not image"):zc("shareVideoMessage",e,"parameter error: videoUrl and videoLowBandUrl can not be empty in same time")},MJ=function(e={}){md("shareFile",e,{})},RJ=(e={})=>{var t=Rt(e,{scene:1,templateId:"",reserved:""});t?zc("requestSubscribeMessage",e,`parameter error: ${t}`):fJ({...e,type:oJ.subscribe})},OJ=(e={})=>{fJ({...e,type:oJ.customerService})},DJ=(e={})=>{md("closeAppModule",zd(e,{requestInQueue:!1}))},LJ=(e={})=>{md("closeApp",zd(e,{requestInQueue:!1}))},NJ=(e={})=>{md("sdk_getSDKVersion",e)},BJ=()=>{pv().readFile({filePath:"/saaa_config.json",encoding:"utf8",position:0,success(e){try{var t=JSON.parse(e.data).minSDKVersionMap;"object"==typeof t&&NJ({success(e){var r,n;("ios"===e.platform?(r=e.iosVersion,n=t.iosVersion):"android"===e.platform&&(r=e.androidVersion,n=t.androidVersion),"string"==typeof n&&"string"==typeof r)&&(((e,t)=>{if(e===t)return 0;for(e=e.split("."),t=t.split(".");e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0");for(var r=0;r<e.length;r++){if(1*e[r]>1*t[r])return 1;if(1*e[r]<1*t[r])return-1}return 0})(n,r)>0&&RW({title:"错误！",content:`SDK版本(${r})无法兼容当前代码包的版本要求(${n})`,confirmText:"关闭App",showCancel:!1,complete:()=>{DJ()}}))}})}catch(e){}},fail(e){}})};KC((()=>{BJ()}));var $J=(e={})=>{md("hasWechatInstall",e)},jJ=e=>{var t=e.userId||"";rt(t)||(t=Ot(t)),md("setSaaAUserId",{userId:t})},FJ="0",WJ={unknown:0,requestSKProducts:1,cancelRequestSKProducts:2,addPaymentByProductIdentifiers:3,addTransactionObserver:4,getAppStoreReceiptURL:5,getAppStoreReceiptData:6,canMakePayments:7,restoreCompletedTransactions:8,finishTransaction:9,requestSKReceiptRefreshRequest:10,getStorefront:11,getTransactions:12},UJ=e=>(Ie||zc("IAP",e,"IAP only for IOS"),!Ie),VJ=e=>{md("takeIAPAction",{...e,success(...t){e.success&&e.success(...t)},fail(t){e.fail&&e.fail(t)},requestInQueue:!1})},qJ=(e={})=>{if(JK({action:12,data:"requestSKProducts"}),!UJ(e))if(Array.isArray(e.productIdentifiers)){if(!(e.productIdentifiers.filter((e=>"string"!=typeof e||0===e.length)).length>0)){var t=`${FJ++}_${Date.now()}`;return VJ({...e,requestId:t,type:WJ.requestSKProducts}),{requestId:t}}zc("requestSKProducts",e,"One of the productIdentifiers is not string or is empty string")}else zc("requestSKProducts",e,"productIdentifiers should be array")},zJ=(e={})=>{if(!UJ(e)){var t=Rt(e,{requestId:"1"});t?zc("cancelRequestSKProducts",e,`parameter error: ${t}`):VJ({...e,type:WJ.cancelRequestSKProducts})}},GJ=(e={})=>{if(JK({action:12,data:"addPaymentByProductIdentifiers"}),!UJ(e)){var t={productIdentifier:"1"};void 0!==e.applicationUsername&&(t.applicationUsername=""),void 0!==e.quantity&&(t.quantity=1),void 0!==e.simulatesAskToBuyInSandbox&&(t.simulatesAskToBuyInSandbox=!0),void 0!==e.discountIdentifier&&(t.discountIdentifier="1");var r=Rt(e,t);r?zc("addPaymentByProductIdentifiers",e,`parameter error: ${r}`):VJ({...e,type:WJ.addPaymentByProductIdentifiers})}},HJ=["updatedTransactions","restoreCompletedTransactionsFailedWithError","paymentQueueRestoreCompletedTransactionsFinished","shouldAddStorePayment","paymentQueueDidChangeStorefront","didRevokeEntitlementsForProductIdentifiers","removedTransactions"],KJ=()=>{qt("onPaymentObserverCallback",(e=>{Array.isArray(JJ)&&JJ.forEach((t=>{"function"==typeof t[e.type]&&t[e.type]&&t[e.type](e.params)}))}))},JJ=null,XJ=!1,YJ=(e={})=>{if(JK({action:12,data:"addTransactionObserver"}),!UJ(e)){var t=HJ.filter((t=>!(!e[t]||"function"==typeof e[t])));t.length>0&&zc("addTransactionObserver",e,`parameter error: ${t.concat(" ")} is not function`),null===JJ&&(JJ=[],KJ()),JJ.push(e),XJ||(VJ({...e,type:WJ.addTransactionObserver}),XJ=!0)}},QJ=(e={})=>{if(!UJ(e))if(Array.isArray(JJ)){var t=JJ.indexOf(e);t>-1?(JJ.splice(t,1),"function"==typeof e.success&&e.success({msg:"removeTransactionObserver:ok"})):zc("addTransactionObserver",e,"cant find TransactionObserver")}else zc("addTransactionObserver",e,"no TransactionObserver is added")},ZJ=(e={})=>{if(JK({action:12,data:"finishTransaction"}),!UJ(e)){var t=Rt(e,{transactionIdentifier:"1"});t?zc("finishTransaction",e,`parameter error: ${t}`):VJ({...e,type:WJ.finishTransaction})}},eX=(e={})=>{UJ(e)||VJ({...e,type:WJ.restoreCompletedTransactions})},tX=(e={})=>{if(!UJ(e)){var t=!1;return VJ({...e,success:e=>{t=!!e.success},type:WJ.canMakePayments}),t}},rX=(e={})=>{JK({action:12,data:"getAppStoreReceiptURL"}),UJ(e)||VJ({...e,type:WJ.getAppStoreReceiptURL})},nX=(e={})=>{UJ(e)||VJ({...e,type:WJ.getAppStoreReceiptData})},iX=(e={})=>{UJ(e)||(JK({action:12,data:"getTransactions"}),VJ({...e,type:WJ.getTransactions}))},aX=(e={})=>{UJ(e)||VJ({...e,type:WJ.requestSKReceiptRefreshRequest})},oX=e=>{UJ(e)||VJ({...e,type:WJ.getStorefront})},sX={requestSKProducts:qJ,cancelRequestSKProducts:zJ,addPaymentByProductIdentifiers:GJ,addTransactionObserver:YJ,removeTransactionObserver:QJ,finishTransaction:ZJ,restoreCompletedTransactions:eX,canMakePayments:tX,getAppStoreReceiptURL:rX,getAppStoreReceiptData:nX,requestSKReceiptRefreshRequest:aX,getStorefront:oX,getTransactions:iX},lX=sX,cX=(e={})=>{md("openSaaAActionSheet",e)},uX=(e={},t={},...r)=>{var n=Object.assign({},e);n._isFromBaseOperateWXData=!0;var i=t.beforeAll,a=t.beforeSuccess,o=t.beforeFail;if(e.apiName){if(void 0!==e.reqData)try{n.reqData=JSON.stringify(e.reqData)}catch(t){return void beforeInvokeFail("operateSaaAData",e,"JSON.stringify reqData failed")}else e.reqData="{}";invokeMethod("sendSaaADataPipe",n,{beforeAll(e){"function"==typeof i&&i.call(t,e)},beforeSuccess(e){"function"==typeof a&&a.call(t,e)},beforeFail(e){"function"==typeof o&&o.call(t,e)}},...r)}else beforeInvokeFail("operateSaaAData",e,"apiName is undefined")},dX=e=>{Ie?md("forceCellularNetwork",e):zc("forceCellularNetwork",e,"forceCellularNetwork:fail 仅在 iOS 平台支持该 API")},pX=p(759),hX,fX=3e5,gX=!1,vX=[],mX=0,yX=!1;function bX(){if(gX=!1,vX.length>0){var e=vX.shift();_X(e)}}var _X=function(){var e=xd()((function*(e){Oe?SX(e):wX(e)}));return function(t){return e.apply(this,arguments)}}(),wX=e=>{md("login",zd(e,{requestInQueue:!1}),{beforeAll(e){delete e.clientInfo}})},SX=function(){var e=xd()((function*(e){var t=yield wv();if(!0===t.success&&t.code)Hc({name:"login",args:e,success:!0,errMsg:"",res:{code:t.code}});else if(!0===t.success&&t.token)try{Td({apiName:"jslogin",reqData:JSON.stringify({scope:["snsapi_base"],token:t.token}),success:t=>{var r,n=0,i="";if(void 0!==t.logicRet&&0!==t.logicRet)n=t.logicRet,i=t.logicErrmsg;else try{var a=JSON.parse(t.data);r=a.code;var o=a.baseresponse;i=0===(n=null==o?void 0:o.errcode)?"":`${o.errmsg}`}catch(e){n=-1,i=`${e}`,console.error("wx.login mock ",t)}Hc({name:"login",args:e,success:0===n,errMsg:i,errCode:n,res:{code:r}});var s=0===n?"wx.login mock success，code为非真实用户的jscode":`wx.login mock fail，${i}`;console.warn(s)},fail:t=>{console.error(`wx.login mock fail，${JSON.stringify(t)}`);var r=t.errMsg||"system error";zc("login",e,r)}})}catch(t){zc("login",e,"system error"),console.error(`wx.login mock fail，${t}`)}else{var{adaptWxLogin:r}=yield Pm();if(r){var{getMiniProgramCode:n}=(0,pX.getIdaasAPI)();n(e)}else{if(Ce)return console.warn("多端App无法在真机上使用wx.login, 请查看兼容文档"),void wX(e);var i={...e,fail(...t){var r="wx login failed:";try{r+=JSON.stringify(t)}catch(e){}eJ({method:"__saaa__report__action__",param:{success:!1,errMsg:r}}),"function"==typeof e.fail&&e.fail(...t)},success(...t){eJ({method:"__saaa__report__action__",param:{success:!0,errMsg:"login:success"}}),"function"==typeof e.success&&e.success(...t)}};if(gX)vX.push(i);else{if(gX=!0,!(yield NY()))return zc("wx.login",i,"wx.login: 多端App无法使用wx.login"),void bX();Date.now()-mX<=fX?OW({title:"调用wx.login中",content:"• 发现短时间再次调用wx.login，点击确定后将会再次跳转微信。\n• 可使用 wx.getMiniProgramCode 以实现静默获取小程序 jscode",confirmText:"确定",cancelText:"取消",success(e){e.confirm?CX(i):(zc("wx.login",i,"wx.login:短时间调用多次，取消使用SDK兼容模式。"),bX())},fail(){zc("wx.login",i,"wx.login:短时间调用多次，使用SDK兼容模式失败。"),bX()}}):(yX=!1,CX(i))}}}}));return function(t){return e.apply(this,arguments)}}();function CX(e){return kX.apply(this,arguments)}function kX(){return kX=xd()((function*(e){var t,r=yield NY();yX?(IX(e,r),r&&PX(e)):OW({title:"调用wx.login中",content:r?"确认后将跳转微信，请等待授权小程序唤起。":"•调用 wx.login 需前往「微信开发者工具-工具-微信能力调试」将微信授权页推送至微信客户端\n•如己确认在微信推送成功，可点击「确认」发起wx.login调用。",confirmText:"确认",cancelText:"取消",success:(t=xd()((function*(t){t.confirm?(yX=!0,IX(e,r),r&&PX(e)):(zc("wx.login",e,"wx.login:取消使用SDK登陆兼容模式。"),bX())})),function(e){return t.apply(this,arguments)}),fail(){zc("wx.login",e,"wx.login:使用SDK登陆兼容模式失败。"),bX()}})})),kX.apply(this,arguments)}function IX(e,t){VY({action:"login",isShell:t,...e,success(...t){mX=Date.now(),e.success(...t),bX()},fail(t){e.fail(t),bX()}})}function PX(e){return AX.apply(this,arguments)}function AX(){return(AX=xd()((function*(e){if(yield FY("login"));else{var t="wx.login 兼容模式调用失败：推送授权页失败.";OW({title:"wx.login调用失败",content:t,showCancel:!1,complete:()=>{zc("wx.login",e,t),bX()}})}}))).apply(this,arguments)}var xX=e=>{Oe?Date.now()-mX<=fX?"function"==typeof e.success&&e.success():"function"==typeof e.fail&&e.fail({errMsg:"checkSession fail: 兼容模式下，只保留 超过login的兼容时间 5min"}):(hX&&clearTimeout(hX),md("refreshSession",e,{beforeSuccess:e=>{hX=setTimeout((()=>{md("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:e=>{e.errMsg=e.errMsg.replace("refreshSession","checkSession")}}))},TX=e=>{Oe?zc("logout",e,"logout:fail SDK暂不支持此API"):md("logout",{})},EX=function(e={}){var t="login",r=getPluginId(this),n=Object.assign({},e,{miniprogram_appid:WXConfig.accountInfo.appId}),{success:i,fail:a,failWithMsg:o}=assembleCallbacks(e,t);checkPluginPermissionSync(r,"setPluginLoginAuth")?MX.call(this,{success(){invokeOperateWXData({sdkApiName:t,apiName:"webapi_plugin_login",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,i(e)},fail:a})},fail(e){o({msg:e.errMsg})}}):o({msg:"no permission"})},MX=function(e={}){var t="setPluginLoginAuth",r=getPluginId(this),n=Object.assign({},e,{miniprogram_appid:WXConfig.accountInfo.appId,auth_status:1}),{success:i,fail:a}=assembleCallbacks(e,t);invokeOperateWXData({sdkApiName:t,apiName:"webapi_plugin_setauth",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,i(e)},fail:a})},RX=um.idaas;en("miniappIdaasSendPhoneSmsToAppservice",function(){var e=xd()((function*(e){var{sendPhoneSms:t}=(0,pX.getIdaasService)();t({phoneNumber:e.phoneNumber,smsType:e.smsType,complete:t=>{Kr("miniappIdaasSendPhoneSmsToWebview",{callbackId:e.callbackId,data:t})}})}));return function(t){return e.apply(this,arguments)}}()),en("miniappIdaasPhoneOneClickLoginToAppservice",function(){var e=xd()((function*(e){var{phoneOneClickLogin:t}=(0,pX.getIdaasService)();t({complete:t=>{Kr("miniappIdaasPhoneOneClickLoginToWebview",{callbackId:e.callbackId,data:t})}})}));return function(t){return e.apply(this,arguments)}}());var OX=(e={})=>{JK({action:12,data:"XGPush_registerPush",uintData:1}),md("XGPush_registerPush",{...e,success(t){JK({action:12,data:"XGPush_registerPush_success",uintData:1}),"function"==typeof e.success&&e.success(t)},fail(t){JK({action:12,data:"XGPush_registerPush_fail",uintData:1}),"function"==typeof e.fail&&e.fail(t)}})},DX=(e={})=>{JK({action:12,data:"XGPush_unregisterPush",uintData:1}),md("XGPush_unregisterPush",e)},LX=(e={})=>{var t=Rt(e,{number:0});if(t)throw new Error(`setBadge parameter error: ${t}`);md("XGPush_setBadge",e)},NX=(e={})=>{JK({action:12,data:"XGPush_uploadXgPushLog",uintData:1}),md("XGPush_uploadXgPushLog",{...e,success(t){JK({action:12,data:"XGPush_uploadXgPushLog_success",uintData:1}),"function"==typeof e.success&&e.success(t)},fail(t){JK({action:12,data:"XGPush_uploadXgPushLog_fail",uintData:1}),"function"==typeof e.fail&&e.fail(t)}})},BX=ir("XGPush_NotificationShowedResult"),$X=BX.onMethod,jX=BX.offMethod;qt("XGPush_onNotificationShowedResult",((e={})=>{JK({action:12,data:"XGPush_onNotificationShowedResult",uintData:1}),BX.emit(e)}));var FX=ir("XGPush_NotificationClickedResult"),WX=FX.onMethod,UX=FX.offMethod,VX=[];qt("XGPush_onNotificationClickedResult",((e={})=>{JK({action:12,data:"XGPush_onNotificationClickedResult",uintData:1}),FX.getGlobalListeners().length>0?FX.emit(e):VX.push(e)}));var qX=e=>{WX(e),VX.length>0&&(VX.forEach((e=>{FX.emit(e)})),VX=[])},zX=ir("XGPush_onXGPushLog");qt("XGPush_onXGPushLog",(e=>{zX.emit(e)}));var GX=!1,HX=e=>{GX||(GX=!0,md("XGPush_registXgPushLog",{success(){zX.onMethod(e)},fail(t){zX.onMethod(e),zX.emit(t)}}))},KX=zX.offMethod,JX,XX=()=>(JX||(JX={registerPush:OX,unregisterPush:DX,onNotificationShowedResult:$X,offNotificationShowedResult:jX,onNotificationClickedResult:qX,offNotificationClickedResult:UX,setBadge:LX,onXgPushLog:HX,offXgPushLog:KX,uploadXgPushLog:NX}),JX),YX=ir("saaa_registOpenUrl"),QX=YX.onMethod,ZX=YX.offMethod;qt("SaaaOpenUrlMgr_OnOpenByUrl",((e={})=>{YX.emit(e)})),qt("SaaaOpenUrlMgr_OnNavigateByOpenUrl",((e={})=>{BM({url:e.url,fail:e=>{console.error("OnNavigateByOpenUrl fail",e.errMsg)}})}));var eY=e=>{if("function"!=typeof e)throw new Error("registOpenURL error: parameter must be functions");QX(e),JK({action:12,data:"registOpenURL"}),md("registOpenUrl",{success(e){Array.isArray(e.urlMsgArr)&&(e.urlMsgArr.forEach((e=>{YX.emit(e)})),JK({action:12,data:"registOpenURL_success"}))}})},tY=e=>{if("function"!=typeof e)throw new Error("registOpenURL error: parameter must be functions");ZX(e)},rY=e=>{JK({action:12,data:"jumpToAppStore"}),md("jumpToAppStore",e)},nY=e=>{JK({action:12,data:"jumpToGooglePlay"}),md("jumpToGooglePlay",e)},iY=e=>{JK({action:12,data:"openAppStoreRating"}),md("openAppStoreRating",e)},aY=e=>{JK({action:12,data:"copyNativeFileToWx"}),md("copyNativeFileToWx",e)},oY=e=>{JK({action:12,data:"copyWxFileToNative"}),md("copyWxFileToNative",e)},sY=e=>{JK({action:12,data:"googleLogin"}),md("googleLogin",e)},lY=e=>{JK({action:12,data:"googleRestoreLogin"}),md("googleRestoreLogin",e)},cY=e=>{JK({action:12,data:"googleLogout"}),md("googleLogout",e)},uY=function(e={}){JK({action:12,data:"installApp"}),md("installApp",e,{})},dY=ir("SaaaAd_LoadingSplashError"),pY=dY.onMethod,hY=dY.offMethod;qt("SaaaAd_onLoadingSplashError",(e=>{var t;null!==(t=f)&&void 0!==t&&t.debug&&console.warn(`[LoadingSplashError] errorCode:${e.errorCode} errorMsg:${e.errorMsg}`),dY.emit(e)}));var fY=(e={})=>{var t=Rt(e,{enable:!0});t?zc("setEnableAdSplash",e,`parameter error: ${t}`):md("setEnableAdSplash",e)},gY={loadPlugin:"loadPlugin",sendMsg:"sendMsg"},vY=["onMiniPluginEvent","offMiniPluginEvent"];function mY(e,t){"function"==typeof e&&e(t)}var yY={};function bY(e,t){yY[e]&&(yY[e].listeners=[]);var{synMethodList:r,asynMethodList:n}=t,i={};return r.forEach((t=>{var r=t.replace(":","");vY.includes(r)?console.error(`原生插件[${e}] ${r} 注册失败，该方法名是内部保留方法，请替换方法名`):Object.defineProperty(i,r,{get:()=>t=>{if(void 0===t&&(t={}),"[object Object]"===Object.prototype.toString.call(t)){var n,i;if(md("invokeNativePluginMethodSync",{nativePluginId:e,methodName:r,args:t,success(e){n=e.data},fail(e){i=e.errMsg}}),i)throw new Error(i);return n}console.error(`原生插件[${e}]方法 ${r} 调用失败，原生插件方法仅支持 Object 类型的参数`)},enumerable:!1,configurable:!1})})),n.forEach((t=>{var r=t.replaceAll(":","");vY.includes(r)?console.error(`原生插件[${e}] ${r} 注册失败，该方法名是内部保留方法，请替换方法名`):Object.defineProperty(i,r,{get:()=>(...t)=>{var n=0===t.length?[{},()=>{}]:t;"[object Object]"===Object.prototype.toString.call(n[0])?"[object Function]"===Object.prototype.toString.call(n[1])?md("invokeNativePluginMethod",{nativePluginId:e,methodName:r,args:n[0],success(e){var t=e.data;mY(n[1],t)},fail(t){console.error(`原生插件[${e}]方法 ${r} 调用失败, ${t.errMsg}`)}}):console.error(`原生插件[${e}]方法 ${r} 调用失败，原生插件方法第二个参数仅支持 Function 类型的参数`):console.error(`原生插件[${e}]方法 ${r} 调用失败，原生插件方法第一个参数仅支持 Object 类型的参数`)},enumerable:!1,configurable:!1})})),Object.defineProperty(i,"onMiniPluginEvent",{get:()=>t=>{if("function"!=typeof t)throw new Error("onMiniPluginEvent error: parameter must be type of function");yY[e].listeners.push(t)},enumerable:!1,configurable:!1}),Object.defineProperty(i,"offMiniPluginEvent",{get:()=>t=>{if(void 0===t)yY[e].listeners=[];else if("function"==typeof t){var r=yY[e].listeners.findIndex((e=>e===t));-1!==r&&yY[e].listeners.splice(r,1)}},enumerable:!1,configurable:!1}),Object.freeze(i)}qt("SaaaNativePluginsMgr_onPluginEvent",(e=>{if("string"==typeof e.pluginId&&yY[e.pluginId]&&yY[e.pluginId].plugin){var t=yY[e.pluginId].listeners;Array.isArray(t)&&t.forEach((t=>{var r={...e};delete r.pluginId,t(r)}))}}));var _Y=e=>{var t=Rt(e,{pluginId:"1"});t?zc("loadPlugin",e,`parameter error: ${t}`):yY[e.pluginId]?yY[e.pluginId].plugin?mY(e.success,yY[e.pluginId].plugin):yY[e.pluginId].loaded&&zc("loadPlugin",e,"already loaded but not finished"):(yY[e.pluginId]={loaded:!0},md("sendNativePluginsMsg",{action:gY.loadPlugin,nativePluginId:e.pluginId,success(t){var r=bY(e.pluginId,t.pluginInfo);yY[e.pluginId].plugin=r,mY(e.success,r)},fail(t){mY(e.fail,t)}}))},wY=e=>{JK({action:12,data:"openUrl"});var t=Rt(e,{url:"1"});t?zc("miniapp.openUrl",e,`parameter error: ${t}`):md("saaaOpenUrl",e)},SY=(e={})=>{md("getPrivacySetting",e)},CY=(e={})=>{md("revokePrivacySetting",e)},kY=(e={})=>{md("agreePrivacyAuthorization",e)},IY=function(e={}){md("chooseFile",e)},PY="video-ad has been destroyed",AY;class xY{constructor({adUnitId:e,multiton:t=!1}){this._private=void 0,this._destroyed=void 0,this._private={emitter:new Qt,adUnitId:e,multiton:t},this._destroyed=!1,JK({action:12,data:"createRewardedVideoAd",uintData:0,data2:""}),md("createRewardedVideoAd",{adUnitId:e,multiton:t,success:()=>{this.load()},fail:e=>{var t;null===(t=this._private)||void 0===t||t.emitter.emit("_error",e)}},{})}load(){return this._destroyed?Promise.reject({errMsg:PY}):new Promise(((e,t)=>{JK({action:12,data:"RewardedVideoAd.load",uintData:0,data2:""}),md("loadRewardedVideoAd",{success:()=>{var t;e(),null===(t=this._private)||void 0===t||t.emitter.emit("_load")},fail:e=>{var r;t(e),null===(r=this._private)||void 0===r||r.emitter.emit("_error",e)}},{})}))}show(){return this._destroyed?Promise.reject({errMsg:PY}):new Promise(((e,t)=>{JK({action:12,data:"RewardedVideoAd.show",uintData:0,data2:""}),md("showRewardedVideoAd",{success:()=>{JK({action:12,data:"listenRewardedVideoAd.close",uintData:0,data2:""}),md("listenRewardedVideoAdClose",{success:e=>{var t;null===(t=this._private)||void 0===t||t.emitter.emit("_close",e),this.load()},fail:()=>{}},{}),e()},fail:e=>{var r;t(e),null===(r=this._private)||void 0===r||r.emitter.emit("_error",e)}},{})}))}destroy(){this._destroyed||(this._destroyed=!0,this._private=null,JK({action:12,data:"RewardedVideoAd.destroy",uintData:0,data2:""}),md("destoryRewardedVideoAd",{},{}))}onLoad(e){var t;this._destroyed||null===(t=this._private)||void 0===t||t.emitter.on("_load",e)}offLoad(e){var t,r;this._destroyed||(e?null===(t=this._private)||void 0===t||t.emitter.removeListener("_load",e):null===(r=this._private)||void 0===r||r.emitter.removeAllListeners("_load"))}onError(e){var t;this._destroyed||null===(t=this._private)||void 0===t||t.emitter.on("_error",e)}offError(e){var t,r;this._destroyed||(e?null===(t=this._private)||void 0===t||t.emitter.removeListener("_error",e):null===(r=this._private)||void 0===r||r.emitter.removeAllListeners("_error"))}onClose(e){var t;this._destroyed||null===(t=this._private)||void 0===t||t.emitter.on("_close",e)}offClose(e){var t,r;this._destroyed||(e?null===(t=this._private)||void 0===t||t.emitter.removeListener("_close",e):null===(r=this._private)||void 0===r||r.emitter.removeAllListeners("_close"))}}var TY=e=>(AY&&!AY._destroyed||(AY=new xY(e)),AY),EY=(e={})=>{fJ({...e,type:oJ.invoiceAuthInsert})},MY=(e={})=>{md("getMetaData",e)};Ie&&RC((e=>{e&&"appLaunch"===e.openType&&md("getExtendModules",{success(e){var t=e.modulesMap;for(var r in t)!0!==t[r]&&console.error("Failed to load Extended Modules:",r)},fail(e){}})}));var RY={login:yJ,requestPayment:bJ,launchMiniProgram:CJ,shareTextMessage:IJ,shareWebPageMessage:PJ,shareMiniProgramMessage:xJ,shareImageMessage:AJ,shareVideoMessage:EJ,shareMusicMessage:TJ,shareFile:MJ,requestSubscribeMessage:RJ,openCustomerServiceChat:OJ,invokeMiniappNativeExtension:XK,onMiniappNativeExtensionMsg:rJ,offMiniappNativeExtensionMsg:iJ,onOpensdkLog:vJ,offOpensdkLog:mJ,closeAppModule:DJ,closeApp:LJ,getSDKVersion:NJ,jumpToAppStore:rY,jumpToGooglePlay:nY,openAppStoreRating:iY,copyNativeFileToWx:aY,installApp:uY,hasWechatInstall:$J,setSaaAUserId:jJ,IAP:lX,openSaaAActionSheet:cX,getXGPushManager:XX,registOpenURL:eY,unRegistOpenURL:tY,loadNativePlugin:_Y,...(0,pX.getMiniAppAPI)({sdk:E}),onAdSplashError:pY,offAdSplashError:hY,openUrl:wY,getPrivacySetting:SY,revokePrivacySetting:CY,agreePrivacyAuthorization:kY,chooseFile:IY,setEnableAdSplash:fY,createRewardedVideoAd:TY,invoiceAuthInsert:EY,getMetaData:MY,copyWxFileToNative:oY,googleLogin:sY,googleLogout:cY,googleRestoreLogin:lY};function OY(){var e,t;return null!==(e=f)&&void 0!==e&&null!==(t=e.accountInfo)&&void 0!==t&&t.appId?f.accountInfo.appId:""}var DY=1,LY=void 0,NY=()=>new Promise((e=>{function t(t){e(LY=t)}void 0!==LY&&e(LY),Aw({success:e=>{"android"===e.platform&&"com.tencent.dountapp"===e.host.packageName?t(!0):"ios"===e.platform?"com.tencent.devtools.donutapp.db"===e.host.bundleIdentifier?t(!0):aJ("__is__shell__app__").then((e=>{t(e)})):t(!1)},fail:()=>{t(!1)}})}));function BY(e,t=""){var r=OY();return!!r&&(("login"===e||"phonenumber"===e)&&`pages/index/index?action=${e}&moduleid=${r}&callbackId=${DY}${t}`)}en("miniappGetPhonenumbeToAppservice",function(){var e=xd()((function*(e){var t=yield NY();OW({title:"调用getphonenumber中",content:"确认后将跳转微信，请等待授权小程序唤起。",confirmText:"确定",cancelText:"取消",success:function(){var r=xd()((function*(r){if(r.confirm){if(VY({action:"phonenumber",isShell:t,success:t=>{Kr("miniappGetPhonenumbeToWebview",{...e,data:t})},fail:t=>{Kr("miniappGetPhonenumbeToWebview",{...e,data:t})}}),!(yield FY("phonenumber"))){var n="getPhoneNumber 兼容模式调用失败：推送授权页失败.";return void OW({title:"getPhoneNumber调用失败",content:n,showCancel:!1,complete:()=>{Kr("miniappGetPhonenumbeToWebview",{...e,data:{errMsg:n}})}})}}else Kr("miniappGetPhonenumbeToWebview",{...e,data:{errMsg:"getphonenumber: 取消跳转微信。"}})}));return function(e){return r.apply(this,arguments)}}(),fail(){Kr("miniappGetPhonenumbeToWebview",{...e,data:{errMsg:"getphonenumber: 取消跳转微信。(弹窗failed)"}})}})}));return function(t){return e.apply(this,arguments)}}());var $Y=void 0,jY=()=>new Promise((e=>{if(void 0===$Y){var t=OY();t?aJ("get__User__Ticket__for__shell").then((r=>{r?(nJ({method:"on__User__Ticket__for__shell",callback:t=>{t.ticket?($Y={ticket:t.ticket,transitiveData:t.transitiveData||""},e($Y)):e(!1),iJ("on__User__Ticket__for__shell")}}),eJ({method:"get__User__Ticket__for__shell",param:{moduleId:t}})):e(!1)})):e(!1)}else e($Y)}));function FY(e){return WY.apply(this,arguments)}function WY(){return(WY=xd()((function*(e){return new Promise((t=>{jY().then((r=>{if(!1!==r){var n=BY(e,r.transitiveData);if(n){var i={scene:1069,path:n,query:{},mode:"default",appearance:"default",referrerInfo:{appId:"wx9487a19f6505e47f"}},a=OY();if(a){var o=`https://p6ngateway.weixin.qq.com/cpf-dev/devapp/sendauthweapp?module_id=${a}&debug_launch_info=${encodeURIComponent(JSON.stringify(i))}`;r?mE({url:o,header:{"x-wx-accesstoken":r.ticket},success:e=>{var r,n;return 0===(null==e||null===(r=e.data)||void 0===r||null===(n=r.base_resp)||void 0===n?void 0:n.ret)?void t(!0):void t(!1)},fail:()=>{t(!1)}}):t(!1)}else t(!1)}else t(!1)}else t(!1)})).catch((()=>{t(!1)}))}))}))).apply(this,arguments)}var UY=function(){var e=xd()((function*(){var e=yield wv();(e.code||e.token)&&JK({action:18,data:e.token,data2:e.code})}));return function(){return e.apply(this,arguments)}}(),VY=e=>{var{action:t,isShell:r}=e;(DY++,"login"===t||"phonenumber"===t)?pv().readFile({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:n=>{var i={};try{i=JSON.parse(n.data)}catch(r){return void zc(t,e,`${t}:fail app.miniapp.json json parse failed`)}if(i.adapteByMiniprogram)if(i.adapteByMiniprogram.userName){var a=BY(t);a?RY.launchMiniProgram({userName:i.adapteByMiniprogram.userName,path:a,openWechatWithoutOpensdk:!!r,callbackIdForOpenWechat:DY,extData:"",miniprogramType:1,success:r=>{if("function"==typeof e.success){if("string"!=typeof r.extMsg)return void zc(t,e,`${t}:fail to get code from launchMiniProgram, no extMsg`);var n="",i={};try{i=JSON.parse(r.extMsg)}catch(e){}if("login"===t)(n=i.data)?Hc({name:"login",args:e,success:!0,errMsg:"",res:{code:n}}):zc(t,e,`${t}:fail to get code from launchMiniProgram`);else if("phonenumber"===t){var a=i.data;a?Hc({name:"phonenumber",args:e,success:!0,errMsg:"",res:a}):zc("getphonenumber",e,"getPhoneNumber:fail to getPhoneNumber from launchMiniProgram")}}},fail:t=>{"function"==typeof e.fail&&e.fail(t)}}):zc(t,e,`${t}:fail generate autho page path failed`)}else zc(t,e,`${t}:fail app.miniapp.json cant find userName 小程序原始id`);else zc(t,e,`${t}:fail app.miniapp.json cant find adapteByMiniprogram`)},fail(){zc(t,e,`${t}:fail get app.miniapp.json failed`)}}):zc("adapteByMiniprogram",e,"adapteByMiniprogram:fail action type not match")},qY=null;function zY(e){var t;null===(t=qY)||void 0===t||t(e),Oe&&!Ce&&UY()}var GY=new Promise((e=>{qY=e})),HY=new Yt,KY={LAUNCH:"appLaunch",ROUTE:"route",FIRST_RENDER:"firstRender",FP:"firstPaint",FCP:"firstContentfulPaint",LCP:"largestContentfulPaint"},JY=null,XY,YY=!1,QY=new Promise((e=>{JY=e})),ZY=Ce?new Promise((e=>{XY=e})):null;EK((()=>{var e;null===(e=JY)||void 0===e||e()}));var eQ=null,tQ=[];function rQ(e){}function nQ(e){"appLaunch"!==e.name||YY||(YY=!0,UH(e),zY({duration:e.duration,startTime:e.startTime})),QY.then((()=>(HY.emit(e.entryType,e),null))).catch((()=>{}))}var iQ=ir("RoutePerfDataEmitter");iQ.internalOnMethod(((e,t)=>{var r=re,n=t.data.path,i=t.data.viewId;if(e===KY.ROUTE&&t.isOpenTypeInAllowList)nQ(new jH(t.data.startTime,t.g($K.AppRoute_Done_Begin),"autoReLaunch"===t.data.openType?"reLaunch":t.data.openType,{path:n,pageId:i,referrerPath:t.data.referrer,referrerPageId:t.data.referrerViewId,navigationStart:t.g($K.AppRoute_Begin)}));else if(e===KY.FIRST_RENDER)nQ(new LH(t.g($K.AppRoute_Begin),t.g($K.Real_Init_Ready),{path:n,pageId:i,viewLayerReadyTime:t.g($K.Generate_Func_Ready),initDataSendTime:t.g($K.Send_Init_Data),initDataRecvTime:t.g($K.Recv_Init_Data),viewLayerRenderStartTime:t.g($K.Init_Render_Begin),viewLayerRenderEndTime:t.g($K.Init_Render_End)}));else if(e===KY.FP)nQ(new DH("firstPaint",t.g($K.FP),0,{path:n,pageId:i}));else if(e===KY.FCP)nQ(new DH("firstContentfulPaint",t.g($K.FCP),0,{path:n,pageId:i}));else if(e===KY.LCP)nQ(new DH("largestContentfulPaint",t.g($K.LCP),0,{path:n,pageId:i}));else if(e===KY.LAUNCH){var a=r.appLaunchInfo;if(Ce)null==ZY||ZY.then((e=>{r.coldLaunchTime||(r.coldLaunchTime=e),nQ(new $H(r.coldLaunchTime,t.g($K.Real_Init_Ready),{path:a.path,pageId:i}))}));else if(r.coldLaunchTime){var o=new $H(r.coldLaunchTime,t.g($K.Real_Init_Ready),{path:a.path,pageId:i});if(Ke())if(ke)o.preloadType=r.preloadType;else if(Ie){var s=r.preloadType,l=Math.floor(s%100/10),c=Math.floor(s%10),u=0;0===l&&0===c&&(u=0),1===l&&1===c&&(u=1),2===l&&2===c&&(u=2),0===l&&2===c&&(u=4),2===l&&0===c&&(u=5),o.preloadType=u}nQ(o)}}}));var aQ=9782784e5,oQ=e=>{var t=(new Date).getTimezoneOffset()/60;return e+aQ-3600*t*1e3};function sQ(e){if("loadPackage"===e.name&&!Ce){var t,r,n=Ie?oQ(e.startTime):e.startTime,i=Ie?oQ(e.endTime):e.endTime;nQ(new FH(n,i,{packageName:(null===(t=e.extraInfo)||void 0===t?void 0:t.packageName)||"",packageSize:(null===(r=e.extraInfo)||void 0===r?void 0:r.size)||0}))}var a,o;if(Ce)if("loadPackage"===e.name)nQ(new FH(e.startTime,e.endTime,{packageName:(null===(a=e.extraInfo)||void 0===a?void 0:a.packageName)||"",packageSize:(null===(o=e.extraInfo)||void 0===o?void 0:o.size)||0}));else if("evaluateJavaScript"!==e.name||Dg()){if("appLaunch"===e.name){var s;null===(s=XY)||void 0===s||s(e.startTime)}}else nQ(new NH(e.startTime,e.endTime,{moduleName:e.moduleName||"",fileList:[]}))}function lQ(){(Ie||ke)&&md("listenNewPerformanceMetric",{names:["loadPackage"],success:e=>{e.cachePerformanceMetric&&e.cachePerformanceMetric.forEach((e=>{sQ(e)}))},fail:e=>{y.error("listenNewPerformanceMetric fail",e)}})}function cQ(e){"/"!==e[0]&&(e="/"+e);var t=re.subPackages;if(Array.isArray(t)&&t.length){for(var r=0;r<t.length;++r){var n=t[r].root||"/";if("/"!==n[0]&&(n="/"+n),"/"!==n[n.length-1]&&(n+="/"),e.startsWith(n))return n}return"/__APP__/"}return""}qt("onNewPerformanceMetric",(e=>{sQ(e)})),en("perf_resource",(e=>{e.forEach((e=>{var t,r,n,{startTime:i}=e,a=e.startTime+e.duration;nQ(new WH(i,a,{uri:e.name,initiatorType:e.initiatorType,transferSize:null!==(t=e.transferSize)&&void 0!==t?t:0,domainLookupStart:null!==(r=e.domainLookupStart)&&void 0!==r?r:0,domainLookupEnd:null!==(n=e.domainLookupEnd)&&void 0!==n?n:0}))}))}));var uQ=5;function dQ(e){var t;if(e.data.isLaunch){var r=e.g($K.Evaluate_PageFrame_Begin),n=e.g($K.Evaluate_PageFrame_End);if(re.isReady&&(!r||n)){var i=re;T.reportKeyValue({key:"LaunchDetailSpeed",value:[e.g($K.WV_Config_Ready_Begin),r,n,e.g($K.Set_CSS_Begin),e.g($K.Set_CSS_End),e.g($K.Generate_Func_Ready),e.g($K.Recv_Init_Data),e.g($K.Init_Render_Begin),e.g($K.Init_Render_End),e.g($K.Real_Init_Ready),1,HK($K.AS_Config_Ready_Begin),HK($K.App_onLaunch),e.g($K.AppRoute_Begin),e.g($K.Open_New_Page),e.g($K.Send_Init_Data),i.preloadType||i.preload,encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),e.g($K.Evaluate_Subpackage_PageFrame_Begin),e.g($K.Evaluate_Subpackage_PageFrame_End),e.g($K.WV_Config_Ready_End),HK($K.AS_Config_Ready_End),uQ,i.isIsolateContext?1:0,e.data.delayedGwx,i.coldLaunchTime,null!==(t=i.appLaunchInfo.downloadCode)&&void 0!==t?t:-1].join(",")})}}}function pQ(e,t,r){var n;e.data.openType,e.data.referrer,e.data.path,e.g($K.Real_Init_Ready),e.g($K.FCP),e.g($K.LCP),_Q[t],_Q[r];var i=re;T.reportQualityData("Route",e.data.startTime,e.g($K.Init_Ready_Rendering_Cache)||e.g($K.Real_Init_Ready),[re.SDKVersion,encodeURIComponent(e.data.path),cQ(e.data.path),encodeURIComponent(e.data.referrer),cQ(e.data.referrer),e.data.openType,e.data.navId,e.data.isWebviewPreload,e.data.isPreloadPageFrame,re.isLazyLoad?1:0,e.g($K.AppRoute_Begin),e.g($K.AppRoute_Done_Begin),e.data.viewType,t,r,e.g($K.Send_Init_Data),e.g($K.Recv_Init_Data),e.g($K.Init_Render_Begin),e.g($K.Init_Render_End),e.g($K.FCP),e.g($K.LCP)||e.g($K.FCP),e.g($K.Init_Ready_Rendering_Cache)?1:0,e.data.downloadPackagesCount,null!==(n=i.appLaunchInfo.downloadCode)&&void 0!==n?n:-1,i.preloadType,i.coldLaunchTime,HK($K.SubPackage_Ready),HK($K.AS_Config_Ready_Begin),HK($K.AS_Config_Ready_End),~~(HK($K.App_onLaunch_End)-HK($K.App_onLaunch)),~~(HK($K.App_onShow_End)-HK($K.App_onShow)),~~(HK($K.Page_onLoad_End)-HK($K.Page_onLoad)),~~(HK($K.Page_onShow_End)-HK($K.Page_onShow))])}function hQ(e){T.reportQualityData("RenderStages",e.g($K.Recv_Init_Data),e.g($K.Real_Init_Ready),[re.SDKVersion,encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),0,e.data.isLaunch?1:0,e.g($K.Generate_Func_Ready),e.g($K.Init_Render_Begin),e.g($K.Init_Render_End),e.data.navId,e.data.openType,e.data.isWebviewPreload,e.data.isPreloadPageFrame,e.g($K.Send_Init_Data),"skyline"===e.data.backend?5:0])}function fQ(e){var t,r,n=re,i=[Du(),Lu(),n.coldLaunchTime,HK($K.AS_Config_Ready_Begin),HK($K.AS_Config_Ready_End),n.preload?1:0,HK($K.SubPackage_Ready),encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),e.g($K.TriggerAppRoute),e.g($K.AppRoute_Begin),e.g($K.AppRoute_Done_Begin),e.data.openType,e.g($K.Send_Init_Data),e.g($K.Recv_Init_Data),e.g($K.Init_Ready_Rendering_Cache)||e.g($K.Real_Init_Ready),e.g($K.Init_Render_Begin),e.g($K.Init_Render_End),e.g($K.FP)||e.g($K.FCP),e.g($K.FCP),e.g($K.LCP)||e.g($K.FCP),e.data.backend,n.preloadType,e.g($K.First_Start_Render),e.data.webCore,e.g($K.Init_Ready_Rendering_Cache)?1:0,(null===(t=n.accountInfo)||void 0===t?void 0:t.nickname)||"",null!==(r=n.appLaunchInfo.downloadCode)&&void 0!==r?r:-1,e.g($K.Raster_Finish)||0,e.data.downloadPackagesCount];T.reportQualityData2("Skyline",i)}function gQ(e){var t=[Du(),Lu(),e];T.reportQualityData2("ExitDramaEdu",t)}function vQ(){var e=[Du(),Lu()];T.reportQualityData2("Translate",e)}var mQ=1e4,yQ=1e4,bQ=5e3,_Q=function(e){return e[e.normal=1]="normal",e[e.force=2]="force",e[e.timeout=3]="timeout",e[e.loaded=4]="loaded",e[e.interrupted=5]="interrupted",e}({}),wQ=function(e){return e[e.NO_RENDERER=0]="NO_RENDERER",e[e.WEBVIEW=1]="WEBVIEW",e[e.SKYLINE=2]="SKYLINE",e}({}),SQ=["appLaunch","navigateTo","redirectTo","reLaunch","autoReLaunch","switchTab","navigateBack"],CQ=0;function kQ(e){return"boolean"==typeof e?e?1:0:-1}class IQ{constructor(e,t,r){var n,i,a,o,s,l,c;this.data=void 0,this.orderId=CQ++,this.appRouteDoneTimer=void 0,this.initReadyTimer=void 0,this.appRouteDoneResolve=void 0,this.initReadyResolve=void 0,this.renderFinishResolve=void 0,this.isOpenTypeInAllowList=void 0,this.isOpenTypeInAllowList=SQ.indexOf(t.openType)>=0;var u={navId:(null===(n=t.qualityData)||void 0===n?void 0:n.navId)||`${e}_${r}`,isWebviewPreload:kQ(null===(i=t.qualityData)||void 0===i?void 0:i.isWebviewPreload),isPreloadPageFrame:kQ(null===(a=t.qualityData)||void 0===a?void 0:a.isPreloadPageFrame),downloadPackagesCount:null!==(o=null===(s=(null===(l=t.qualityData)||void 0===l?void 0:l.downloadPackageList)||(null===(c=t.qualityData)||void 0===c?void 0:c.downloadedPackageList))||void 0===s?void 0:s.length)&&void 0!==o?o:-1},d=br.getCurrentPage(),p=!(!DQ[0]||DQ[0].type!==t.openType);if(this.data={referrer:(null==d?void 0:d.route)||br.getCurrentRoute()||"",referrerViewId:(null==d?void 0:d.webviewId)||0,path:t.path||"",viewId:e,timeline:{},openType:t.openType,isLaunch:0===this.orderId,isFromJSAPI:p,startTime:r,navId:u.navId,isWebviewPreload:u.isWebviewPreload,isPreloadPageFrame:u.isPreloadPageFrame,viewType:wQ.NO_RENDERER,delayedGwx:0,initReadyCalled:!1,appRouteDoneCalled:!1,backend:t.renderer||"webview",webCore:"",downloadPackagesCount:u.downloadPackagesCount},p){var h=DQ.shift();this.data.startTime=h.startTime}else{var f,g=null===(f=t.qualityData)||void 0===f?void 0:f.routeStartTime;"number"==typeof g&&g>1e5&&(this.data.startTime=g)}var v=$Q("skyline");this.isOpenTypeInAllowList&&(this.appRouteDoneTimer=setTimeout((()=>{var e;rU().assertWithIDKey(!1,7),y.warn("[RouteContext] appRouteDone timeout",this),null===(e=this.appRouteDoneResolve)||void 0===e||e.call(this,{type:_Q.timeout}),this.appRouteDoneResolve=void 0}),mQ),this.initReadyTimer=setTimeout((()=>{var e;rU().assertWithIDKey(!1,8),y.warn("[RouteContext] initReady timeout",this),null===(e=this.initReadyResolve)||void 0===e||e.call(this,{type:_Q.timeout}),this.initReadyResolve=void 0}),yQ),Promise.all([new Promise((e=>{this.appRouteDoneResolve=e})),new Promise((e=>{this.initReadyResolve=e})).then((e=>{if(e.type!==_Q.normal||FQ(this))return e;var t=setTimeout((()=>{var e;y.warn("[RouteContext] paintCheckPoints timeout",this),null===(e=this.renderFinishResolve)||void 0===e||e.call(this)}),bQ);return new Promise((r=>{this.renderFinishResolve=()=>{this.renderFinishResolve=void 0,t&&clearTimeout(t),r(e)}}))}))]).then((([e,r])=>{("appLaunch"!==t.openType||this.data.isLaunch)&&pQ(this,e.type,r.type),"navigateBack"!==t.openType&&v&&jQ(this,"skyline")&&fQ(this)})))}set(e,t){return this.data.timeline[e]=t,qK(e,t),this}updateViewCheckpoint(e){this.data.delayedGwx=e.delayedGWx,this.data.backend=e.backend,this.data.viewType="skyline"===e.backend?wQ.SKYLINE:wQ.WEBVIEW,this.data.webCore=e.webCore;var t={};return e.data.forEach((([e,r])=>{var n;(qK(e,r,{noLog:!0}),this.data.timeline[e]=r,e===$K.LCP||e===$K.FCP)&&(FQ(this)&&(null===(n=this.renderFinishResolve)||void 0===n||n.call(this)));t[e]=r})),t}g(e){return this.data.timeline[e]||0}get(e){return this.g(e)}setAppRouteDone(e){var t;if(!this.data.appRouteDoneCalled)return this.data.appRouteDoneCalled=!0,this.appRouteDoneTimer&&clearTimeout(this.appRouteDoneTimer),null===(t=this.appRouteDoneResolve)||void 0===t||t.call(this,{type:e}),this.appRouteDoneResolve=void 0,this}setAppRouteDoneAllBefore(e){var t=[];return Object.values(PQ).forEach((r=>{r.orderId<=this.orderId&&!r.g($K.AppRoute_Done_Begin)&&(r.set($K.AppRoute_Done_Begin,e),r.orderId<this.orderId&&r.set($K.AppRoute_Done_End,e),r.setAppRouteDone(r.orderId===this.orderId?_Q.normal:_Q.force),t.push(r))})),t}setInitReady(e=_Q.normal,t){var r;if(!this.data.initReadyCalled)return this.data.initReadyCalled=!0,this.data.viewType=t,this.initReadyTimer&&clearTimeout(this.initReadyTimer),null===(r=this.initReadyResolve)||void 0===r||r.call(this,{type:e}),this.initReadyResolve=void 0,this}}var PQ={},AQ=null,xQ=new Set;function TQ(e,t,r){var n=new IQ(e,t,r);return e in PQ&&n.setInitReady(_Q.loaded,wQ.NO_RENDERER),PQ[e]=n,AQ=e,oZ[n.data.referrer]&&(n.set($K.TriggerAppRoute,oZ[n.data.referrer]),delete oZ[n.data.referrer]),n}function EQ(e){return PQ[e]}function MQ(e,t){var r=RQ();r?r.set(e,t):qK(e,t)}function RQ(){return null!==AQ?PQ[AQ]:(rU().assertWithIDKey(!1,11),null)}function OQ(e){if(e in PQ){var t=PQ[e];t.data.initReadyCalled||t.setInitReady(_Q.interrupted,wQ.NO_RENDERER),t.data.appRouteDoneCalled||t.setAppRouteDone(_Q.interrupted),xQ.add(e),delete PQ[e]}else rU().assertWithIDKey(!1,12)}var DQ=[],LQ=(e,t)=>{var r=DQ.findIndex((r=>r.startTime===t&&r.type===e));DQ.splice(r,1)};function NQ(e,t){SQ.indexOf(e)<0||DQ.push({type:e,startTime:t})}function BQ(e){return xQ.has(e)}function $Q(e){var t,r=re;return!!Array.isArray(null==r||null===(t=r.renderer)||void 0===t?void 0:t.allUsed)&&r.renderer.allUsed.indexOf(e)>-1}function jQ(e,t){var r,n,i=e.data.path,a=(null===(r=re.renderer)||void 0===r?void 0:r.default)||"webview";return((null===(n=re.page[i])||void 0===n?void 0:n.window.renderer)||a)===t}var FQ=e=>{var t,r=null!==(t=e.data.webCore)&&void 0!==t?t:"unknown",n=0;return(n=r.includes("Chrome")||r.includes("XWEB")?e.g($K.LCP):e.g($K.FCP))>=e.g($K.Init_Render_End)&&n>=e.g($K.FCP)},WQ=ir("InitReadyFromService");function UQ(e){WQ.emit(),md("initReady",{inBackground:e})}var VQ=WQ.internalOnMethod,qQ=50,zQ=T.reportFrameworkIDKey.bind(T);function GQ(e){if(e.data.isLaunch){var t=e.g($K.Generate_Func_Ready),r=e.g($K.Send_Init_Data),n=e.g($K.Recv_Init_Data);n&&t&&r&&(zQ(n<t?1:2),Math.abs(r-t)<=qQ?zQ(6):zQ(r>=t?5:4))}}function HQ(e){if(e.data.isLaunch){var t=e.g($K.WV_Config_Ready_Begin),r=HK($K.AS_Config_Ready_Begin);r&&t&&(Math.abs(t-r)<=qQ?zQ(15):zQ(r>=t?14:13))}}var KQ=0,JQ=1,XQ=2,YQ=1,QQ=2;function ZQ(e){return e.endsWith("Begin")?KQ:e.endsWith("End")?JQ:XQ}function eZ(e){return e.replace(/_End|_Begin/,"").replace(/_/g,"")}function tZ(e){var t={service:[$K.AppRoute_Begin,$K.AppRoute_End,$K.Open_New_Page,$K.Send_Init_Data],view:[e.data.isLaunch?$K.App_onLaunch:-1,$K.Evaluate_PageFrame_Begin,$K.Evaluate_PageFrame_End,$K.Evaluate_Subpackage_PageFrame_Begin,$K.Evaluate_Subpackage_PageFrame_End,$K.Generate_Func_Ready,$K.Recv_Init_Data,$K.Init_Render_Begin,$K.Init_Render_End,$K.Init_Ready_Client,$K.Real_Init_Ready]},r=[];Object.entries(t).forEach((([t,n])=>{for(var i of n)if(!(i<0)){var a=$K[i],o=e.g(i);o&&r.push({timeStamp:o,eventName:eZ(a),eventType:ZQ(a),parent:`lib_${t}`,category:"service"===t?YQ:QQ})}})),fn("noticePerformanceMetrics",{events:r,noCallback:!0})}var rZ=()=>{var e=re.userConfig||{},t=[Du(),Lu(),null==e?void 0:e.isCareMode,null==e?void 0:e.isAccessibilityMode];T.reportQualityData2("UserConfig",t)};yr((()=>{vU((()=>{var e;null===(e=vr.setGlobalUpdatePerformanceListener)||void 0===e||e.call(vr,{withDataPaths:!1},((e,t,r)=>{IU.traceBeginAPI("updatePerformanceStat",{pendingStart:e.pendingStartTimestamp,updateStart:e.updateStartTimestamp,updateEnd:e.updateEndTimestamp,is:t.is,viewId:r}),IU.traceEndAPI()}))}))})),re.onReady((e=>{qK($K.AS_Config_Ready_Begin,e.onReadyStart||0),setTimeout((()=>{qK($K.AS_Config_Ready_End,e.onReadyEnd||0)}),0)}));var nZ=0,iZ=!1;wU("Framework",(e=>{var t=e.args;if(e.timeStamp=Math.round(e.timeStamp),"evaluateScript"===e.name)qK($K.Evaluate_Script_Begin,e.timeStamp);else if("openNewPage"===e.name)MQ($K.Open_New_Page,e.timeStamp);else if("publishInitData"===e.name)MQ($K.Publish_Init_Data,e.timeStamp);else if("sendInitData"===e.name)MQ($K.Send_Init_Data,e.timeStamp);else if("handleAppRoute"===e.name)MQ($K.AppRoute_AppServiceEngine,e.timeStamp);else if(e.name.startsWith("AppRoute#"))nZ=e.timeStamp,iZ=!1;else if("AppRouteDone"===e.name){var r=EQ(t.webviewId);if(r){var n=r.setAppRouteDoneAllBefore(e.timeStamp);r.g($K.AppRoute_Done_Begin)||r.set($K.AppRoute_Done_Begin,e.timeStamp),n.forEach((e=>{aZ.emit(KY.ROUTE,e)}))}else BQ(t.webviewId)||(rU().assertWithIDKey(!1,10),t.webviewId)}else"onAppRouteCallback"===e.name?(iZ=!0,TQ(t.webviewId,t,nZ).set($K.AppRoute_Begin,nZ).set($K.AppRoute_Callback_Begin,e.timeStamp),nZ=0):"onWebviewEvent"===e.name&&"__DOMReady"===(null==t?void 0:t.eventName)&&qK($K.Recv_Init_Ready,e.timeStamp)})),SU("Framework",((e,t,r)=>{var n=e.args;if(e.timeStamp=Math.round(e.timeStamp),"evaluateScript"===e.name){qK($K.Evaluate_Script_End,e.timeStamp);var{moduleName:i,fileList:a}=r;!1!==n.isSuccess&&nQ(new NH(t,e.timeStamp,{moduleName:i||"",fileList:a}))}else if(e.name.startsWith("AppRoute#"))iZ&&MQ($K.AppRoute_End,e.timeStamp);else if("onAppRouteCallback"===e.name)MQ($K.AppRoute_Callback_End,e.timeStamp);else if("AppRouteDone"===e.name){var o;null===(o=EQ(n.webviewId))||void 0===o||o.set($K.AppRoute_Done_End,e.timeStamp)}})),wU("LifeCycle",(e=>{var t=e.args;if(e.timeStamp=Math.round(e.timeStamp),"App.onLaunch"===e.name)qK($K.App_onLaunch,e.timeStamp);else if("App.onShow"===e.name)qK($K.App_onShow,e.timeStamp);else if("Page.onLoad"===e.name)qK($K.Page_onLoad,e.timeStamp);else if("Page.onShow"===e.name)qK($K.Page_onShow,e.timeStamp);else if("Page.onUnload"===e.name){OQ(t.id)}})),SU("LifeCycle",(e=>{e.timeStamp=Math.round(e.timeStamp),"App.onLaunch"===e.name?qK($K.App_onLaunch_End,e.timeStamp):"App.onShow"===e.name?qK($K.App_onShow_End,e.timeStamp):"Page.onLoad"===e.name?qK($K.Page_onLoad_End,e.timeStamp):"Page.onShow"===e.name&&qK($K.Page_onShow_End,e.timeStamp)}));var aZ=ir("RoutePerfDataEmitter"),oZ={};CM.internalOnMethod((e=>{if(e.routeFail){LQ(e.type,e.start);var t=Object.keys(oZ).find((t=>oZ[t]===e.start));void 0!==t&&delete oZ[t]}else{NQ(e.type,e.start);var r=RQ();r&&(oZ[r.data.path]=e.start)}}));var sZ=!0;function lZ(e){sZ&&aZ.emit(KY.LAUNCH,e),sZ=!1}function cZ(e,t){e[$K.FP]&&aZ.emit(KY.FP,t),e[$K.FCP]&&aZ.emit(KY.FCP,t),e[$K.LCP]&&aZ.emit(KY.LCP,t),!t.data.initReadyCalled&&e[$K.Real_Init_Ready]&&(t.setInitReady(_Q.normal,t.data.viewType),aZ.emit(KY.FIRST_RENDER,t),lZ(t),t.data.isLaunch&&(dQ(t),GQ(t),HQ(t),rZ()),hQ(t),tZ(t))}VQ((()=>{var e=Date.now(),t=RQ()||TQ(0,{openType:"appLaunch"},e);t&&(t.set($K.Real_Init_Ready,e),lZ(t))}));var uZ=50;function dZ(e,t,r){if(Ce||Ee()){var n=e.timeStamp-t;if(n>=uZ){var i=null==r?void 0:r.path;i?console.warn(`[Perf][${i}] ${e.name} took ${n.toFixed(0)}ms`):console.warn(`[Perf] ${e.name} took ${n.toFixed(0)}ms`)}}}function pZ(e){Kr("timelineData",{data:KK()},[e])}SU("User Script",dZ),SU("LifeCycle",dZ),en(BK,((e,t)=>{var r=EQ(t);if(r){var n=r.updateViewCheckpoint(e);cZ(n,r)}else BQ(t)||rU().assertWithIDKey(!1,9)}));var hZ=30;function fZ(e=""){return e.indexOf("__plugin__")>-1||e.indexOf("plugin-private://")>-1}function gZ(e=""){return e.indexOf("__wx__")>-1}function vZ(e=""){return fZ(e)||gZ(e)}var mZ=(e,t)=>e.startTime-t.startTime,yZ=new WeakMap;class bZ{constructor(e){yZ.set(this,{list:e})}getEntries(){var e,t=((null===(e=yZ.get(this))||void 0===e?void 0:e.list)||[]).slice();return t.sort(mZ),t}getEntriesByType(e){var t,r=[];if(!e)return console.warn("entryType is not provided"),r;if(EH.indexOf(e)<0)return console.warn("invalid entryType:",e),r;var n=(null===(t=yZ.get(this))||void 0===t?void 0:t.list)||[];for(var i of n)i.entryType===e&&r.push(i);return r}getEntriesByName(e,t){var r,n=[];if(!e)return console.warn("getEntriesByName requires name"),n;var i=(null===(r=yZ.get(this))||void 0===r?void 0:r.list)||[];for(var a of i)t&&t!==a.entryType||a.name!==e||n.push(a);return n}}var _Z=new WeakMap;class wZ{constructor(e){var t=[];_Z.set(this,{buffer:t,entryList:new bZ(t),bufferSize:hZ,pluginId:e}),this._initiateSubscription()}_initiateSubscription(){var e=_Z.get(this);e&&this.createObserver((t=>{for(0!==e.bufferSize&&e.buffer.push(...t.getEntries());e.buffer.length>e.bufferSize;)e.buffer.shift()})).observe({entryTypes:"string"==typeof e.pluginId?MH:EH.slice()})}getEntries(){var e;return(null===(e=_Z.get(this))||void 0===e?void 0:e.entryList.getEntries())||[]}getEntriesByType(e){var t;return(null===(t=_Z.get(this))||void 0===t?void 0:t.entryList.getEntriesByType(e))||[]}getEntriesByName(e,t){var r;return(null===(r=_Z.get(this))||void 0===r?void 0:r.entryList.getEntriesByName(e,t))||[]}createObserver(e){var t,r=null===(t=_Z.get(this))||void 0===t?void 0:t.pluginId;return"string"==typeof r?new PZ(e,r):new CZ(e)}setBufferSize(e){var t=_Z.get(this);t&&(t.bufferSize=e)}now(){return Date.now()}}var SZ=new WeakMap;class CZ{constructor(e){SZ.set(this,{callback:T.surroundThirdByTryCatch(e,"at api PerformanceObserver callback function"),timer:null,batchBuffer:[],observedEntryTypes:[],__handle:this._handle.bind(this)})}_handle(e){if(e&&"function"==typeof this._shouldHandle&&this._shouldHandle(e)){var t=SZ.get(this);t&&(t.batchBuffer.push(e),null===t.timer&&(t.timer=setTimeout((()=>{var e=new bZ(t.batchBuffer);t.callback(e,this),t.batchBuffer=[],t.timer=null}),500)))}}_shouldHandle(e){return!e.path||!vZ(e.path)}observe(e){if(e){var t=SZ.get(this);if(t)if(t.observedEntryTypes.length>0&&this.disconnect(),e.type||e.entryTypes){if(e.type&&e.entryTypes)console.warn("observe can only be called with either type or entryTypes, but not both of them");else if(e.type&&EH.indexOf(e.type)<0)console.warn("invalid entry type:",e.type);else if(Array.isArray(e.entryTypes)&&e.entryTypes.forEach((e=>{EH.indexOf(e)<0&&console.warn("invalid entry type:",e)})),e.type)HY.on(e.type,t.__handle),t.observedEntryTypes.push(e.type);else if(e.entryTypes)for(var r of e.entryTypes)EH.indexOf(r)>=0&&(HY.on(r,t.__handle),t.observedEntryTypes.push(r))}else console.warn("observe should be called with either type or entryTypes provided")}}disconnect(){var e=SZ.get(this);if(e){for(var t of e.observedEntryTypes)HY.off(t,e.__handle);e.observedEntryTypes.splice(0,e.observedEntryTypes.length)}}get supportedEntryTypes(){return EH.slice()}}var kZ=new WeakMap,IZ;class PZ extends CZ{constructor(e,t){super(e),kZ.set(this,{pluginId:t})}_handle(e){return e.path&&(e.path=vr.convertRouteToComponentAlias(e.path)),super._handle(e)}_shouldHandle(e){var t;if(!(e&&MH.indexOf(e.entryType)>=0&&RH.indexOf(e.name)>=0))return!1;var r=e.path;if(gZ(r))return!1;var n,i=`plugin-private://${null===(t=kZ.get(this))||void 0===t?void 0:t.pluginId}`;return!!((e instanceof BH||e instanceof DH)&&r&&(n=r)&&n.indexOf(i)>-1)}get supportedEntryTypes(){return MH.slice()}}function AZ(){return IZ||(IZ=new wZ,lQ()),IZ}Ue()||Ie||ke||(IZ=new wZ);var xZ=new Map,TZ;function EZ(e={}){var t=e.pluginId;return xZ.has(t)||xZ.set(t,new wZ(t)),xZ.get(t)}var MZ=["render","navigation"];function RZ(){var e=AZ();MZ.forEach((t=>e.getEntriesByType(t).forEach(LZ))),(TZ=e.createObserver(DZ)).observe({entryTypes:MZ})}function OZ(){TZ.disconnect()}function DZ(e){e.getEntries().forEach(LZ)}function LZ(e){o8({type:KO.PerfAPI,timestamp:I8(),data:{entry:e}})}function NZ(e){var t,r=!1;return function(){return r||(t=e(),r=!0),t}}function BZ(e,t,r="",n=""){var i=`canvas_${e}_${t}_${r}_`;return n&&n!==Pp(e)&&(i+=n),i}function $Z(e){var t=[],r=1;return subscribe(e,(e=>{for(var r=-1,n=0;n<t.length;n++){var i=t[n],a=i[0],o=i[1];if(a.cid===e.cid&&a.canvasId===e.canvasId){r=n,o(e);break}}r>=0&&t.splice(r,1)})),function(e,n){e.cid=r++,t.push([e,n])}}function jZ(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return Iv(t)}function FZ(e){for(var t=Pv(e),r=t.length,n=new Uint8ClampedArray(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}function WZ(e,t,r,n){var i=e;if(r||t){r=r.split("/")[0];var a=Ip(t,n),o=a&&a.is||"";if(r)if(0===i.indexOf("/"))i=kp(n,r)+dp(o,i,!1).replace(/\.html$/,"");else i=dp(vr.convertComponentAliasToRoute(o),i,!1).replace(/\.html$/,"");else i=dp(o,i,!1).replace(/\.html$/,"")}else i=dp(uu.lastRoute,i,!1).replace(/.html$/,"");return i}function UZ(e,t,r,n){return/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e||/wxfile:\/\//.test(e)?e:WZ(e,t,r,n)}function VZ(e,t,r,n){return/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e?e:"/__pageframe__/"+UZ(e,t,r,n)}function qZ(e){var t=e.setSrc.bind(e),r=e.getSrc.bind(e),n=e.getReferrerPolicy?e.getReferrerPolicy.bind(e):()=>{},i=e.setReferrerPolicy?e.setReferrerPolicy.bind(e):()=>{};return delete e.getSrc,delete e.setSrc,delete e.getReferrerPolicy,delete e.setReferrerPolicy,Object.defineProperty(e,"src",{enumerable:!0,set(e){t(e)},get:()=>r()}),Object.defineProperty(e,"referrerPolicy",{enumerable:!0,set(e){i(e)},get:()=>n()}),e}function zZ(e){return e&&e.length>0&&e.forEach((e=>{e.x=e.clientX||e.pageX,e.y=e.clientY||e.pageY,delete e.target})),e}function GZ(e){return e&&e.length>0&&e.forEach((e=>{e.clientX=e.x,e.clientY=e.y,e.pageX=e.x,e.pageY=e.y})),e}function HZ(...e){return function(...t){for(var r,n=0;n<e.length;++n){var i=e[n];"function"==typeof i&&(r=0===n?i(...t):i.call(null,r))}return r}}function KZ(){if(Ie&&Fe()){var e=255&Number(re.host.version);if(e>=16&&e<=31)return!0}return!1}var JZ=/[;/?:@&=+$,a-zA-Z0-9\-_.!~*'()#%]/,XZ;function YZ(e){for(var t,r=e.length,n="",i=0;i<r;++i)t=e.charAt(i),JZ.test(t)?n+=t:n+=encodeURI(t);return n}function QZ(e){XZ=e}function ZZ(e,t,r){XZ&&XZ(e,t,r)}var e0={},t0={};function r0(e,t){if(y.info(`assign canvas [${e}] to xrFrame [${t}]`),e0[e]=t,Array.isArray(t0[e])){var r=t0[e];delete t0[e],r.forEach((({type:e,evt:r})=>{ZZ(t,e,r)}))}}function n0(e,t,r){var n=e0[e];void 0===n?(Array.isArray(t0[e])||(t0[e]=[]),t0[e].push({type:t,evt:r})):ZZ(n,t,r)}var i0={},a0={},o0={},s0={},l0={},c0={},u0={},d0=new WeakMap,p0=new WeakMap,h0={},f0={},g0=new WeakMap,v0=e=>i0[e],m0=e=>d0.get(e),y0=(e,t)=>{i0[e]=t,a0[e]&&a0[e]()},b0=e=>o0[e]=o0[e]||new Promise((t=>{var r=a0[e]=()=>{var r=v0(e);r&&(t(r),delete a0[e])};r()})),_0=(e,t,r,n)=>{var i=BZ(e,t,r,n);return s0[i]},w0=(e,t,r,n)=>{var i=BZ(e,t,r,n);return c0[i]=c0[i]||new Promise((a=>{(l0[i]=()=>{var o=_0(e,t,r,n);void 0!==o&&(a(o),delete l0[i])})()}))},S0=(e,t,r,n,i)=>{var a=BZ(e,t,r,n);s0[a]=i,l0[a]&&l0[a]()},C0=e=>g0.get(e),k0=(e,t,r,n)=>{var i=BZ(e,t,r,n);delete s0[i],delete c0[i],delete l0[i]},I0=e=>u0[e],P0=(e,t)=>{u0[e.canvasNumber]=t,d0.set(t,e)},A0=e=>p0.get(e),x0=e=>{var t=I0(e);if(t)return p0.get(t)},T0=(e,t,r)=>{p0.set(t,r),g0.set(r,e),h0[e]&&h0[e]()},E0=e=>f0[e]=f0[e]||new Promise((t=>{(h0[e]=()=>{var r=x0(e);r&&(t(r),delete h0[e])})()}));en("canvasInserted",((e,t)=>{var{canvasNumber:r,canvasId:n,pluginId:i,nodeId:a}=e;y0(r,{...e,webviewId:t,lastTouches:[]}),n&&S0(t,n,i,a,r),XM(t,(()=>M0(r)),`Canvas#${r}`),e.isXrFrame&&n0(e.canvasId,"resize",{width:e.width,height:e.height,renderWidth:e.renderWidth,renderHeight:e.renderHeight})})),en("canvasUpdated",(({canvasNumber:e,data:t,width:r,height:n,renderWidth:i,renderHeight:a,top:o,left:s,hidden:l},c)=>{var u=v0(e);if(u){void 0!==r&&(u.top=o,u.left=s,u.width=r,u.height=n),void 0!==l&&(u.hidden=l),void 0!==a&&u.isXrFrame&&(u.renderWidth=i,u.renderHeight=a);var d=I0(e);d&&d._onUpdated(u),u.isXrFrame&&n0(u.canvasId,"resize",{width:r,height:n,renderWidth:i,renderHeight:a})}}));var M0=e=>{var t=v0(e);if(t){var r=I0(e);r&&r._onRemoved(),Te&&xf.removeOffScreenCanvas(t.canvasNumber),delete i0[e],delete a0[e],delete o0[e],t.canvasId&&k0(t.webviewId,t.canvasId,t.pluginId,t.nodeId),delete u0[e],delete h0[e],delete f0[e]}};en("canvasRemoved",(({canvasNumber:e},t)=>{M0(e),Kr("canvasRemovedCallback_"+e,{canvasNumber:e},[t])}));var R0=0,O0=new Map;en("onCanvasMethodCallback",(e=>{O0.forEach((t=>t(e)))})),en("xrFrameEvent",(({type:e,canvasNumber:t,data:r})=>{v0(t).isXrFrame&&n0(t,e,r)}));var D0=function(){var e=xd()((function*(e,t,r){return new Promise(((n,i)=>{var a=++R0;O0.set(a,(e=>{if(e.cid===a){O0.delete(a);var{errMsg:t,result:r}=e;t?i(new Error(`executeCanvasMethod failed: ${t}`)):n(r)}})),Kr("invokeCanvasMethod",{...r,canvasNumber:e,method:t,cid:a})}))}));return function(t,r,n){return e.apply(this,arguments)}}(),L0=0,N0=new Map;en("onDrawCanvas",(e=>{N0.forEach((t=>t(e)))}));var B0=function(){var e=xd()((function*(e,t,r){return new Promise(((n,i)=>{var a=++L0;N0.set(a,(e=>{if(e.cid===a){N0.delete(a);var{errMsg:t}=e;t?i(new Error(`executeWebviewCanvasDraw failed: ${t}`)):n()}})),Kr("canvasActionsChanged",{canvasNumber:e,cid:a,actions:t,reserve:r})}))}));return function(t,r,n){return e.apply(this,arguments)}}(),$0=[],j0=new Map;class F0{constructor(){this._initPromise=null}_init(){var e=this;return this._initPromise=this._initPromise||xd()((function*(){$0.length&&(yield e.loadFontFace($0))}))()}static initialize(e,t){j0.has(e)||j0.set(e,new t)}static ready(){var e=[];for(var t of j0.values())e.push(t._init());return Promise.all(e)}static addFontFace(e){$0.push(e);var t=[];for(var r of j0.values())t.push(r.loadFontFace([e]));return Promise.all(t)}}var W0=300,U0=150;function V0(e,t,r){var n=r;Object.defineProperty(e,t,{get:()=>(console.warn(`Canvas.${t} will be removed, DO NOT USE IT.`),n),set(e){n=e},enumerable:!1,configurable:!0})}class q0{constructor(e){P0(e,this),V0(this,"_canvasId",String(e.canvasNumber)),V0(this,"_width",e.width),V0(this,"_height",e.height),V0(this,"_top",e.top),V0(this,"_left",e.left)}}var z0=function(e,t){function r(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}function n(e){return e}return Oe?f_(e,t,r,n):NE(e,t,r,n)},G0=z0("getCloudFileUrl","qbase_commapi");function H0(e,t){for(var r=[],n=Math.ceil(e.length/t),i=0;i<n;i++)r.push(e.slice(i*t,(i+1)*t));return r}var K0=function(e,t,r){X0({fileIds:e,type:t,success:r})},J0=new Map,X0=function(e){var{fileIds:t,type:r,success:n}=e,i=new Map,a=[],o=!1;if(t.forEach((e=>{var t=J0.get(e);if(t){if(Date.now()<t.expireTime)return void(i.has(e)||(i.set(e,t.data),o||(o=!0)));J0.delete(e)}/^(cloud):\/\//.test(e)&&a.push(e)})),0!==a.length){var s=0,l=H0(t,50);Promise.all(l.map((e=>new Promise((t=>{G0({data:{fileid_list:e,type:r},success(r){var n=r;if(n.baseresponse&&0===n.baseresponse.errcode?n.download_list.forEach((e=>{i.set(e.fileid,e),!J0.has(e.fileid)&&e.max_age&&J0.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):n.baseresponse?e.forEach((e=>{i.set(e,{download_url:e,service_errcode:n.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+n.baseresponse.errcode}),J0.has(e)&&J0.delete(e)})):e.forEach((e=>{i.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),J0.has(e)&&J0.delete(e)})),n.baseresponse&&n.baseresponse.stat&&n.baseresponse.stat.qbase_cost_time){var a=n.baseresponse.stat.qbase_cost_time;a>s&&(s=a)}t()},fail(){t()},complete(e){}})}))))).then((()=>{Y0(t,i,s,n)})).catch((e=>{"function"==typeof n&&n({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else o?Y0(t,i,0,n):"function"==typeof n&&n({data:t.map((e=>({url:e})))})};function Y0(e,t,r,n){var i=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?i.push({url:r.download_url}):i.push({url:e,code:r.service_errcode,msg:r.errmsg}):i.push({url:e,code:-1,msg:"NO_RESULT"})}else i.push({url:e})})),"function"==typeof n&&n({data:i,cost:r})}var Q0=(e,t=!0)=>dp(uu.lastRoute,e,t);function Z0({UIArea:e=0,PositionID:t=0,ActionID:r,SourceID:n="",Time:i,ExternInfo:a,AppType:o}){var s={key:"PrivacyPopup",value:[My(),re.appLaunchInfo.scene,0,101100,e,t,r,"",0,0,"",n,"","",0,"",i,0,"",0,1,0,a?encodeURIComponent(JSON.stringify(a)):"",o,101].join(",")};T.reportKeyValue(s)}var e1=(e={})=>{var t=Object.assign({},e);t.style=t.type,md("vibrateShort",t,{})},t1=(e={})=>{md("vibrateLong",e,{})},r1=_S(),n1=r1.readFile,i1=r1.writeFile,a1=r1.access,o1=r1.mkdir,s1={},l1=null,c1=qw.PRIVACY_DIR.path,u1=c1+"/scopeState.txt";function d1(e){var{apiName:t,state:r}=e,n=JSON.stringify(r);if("{}"!==n){var i=()=>{i1({filePath:u1,data:n,encoding:"utf8",success(e){},fail(e){}})};a1({path:c1,success(){i()},fail(e){1300002===e.errno&&o1({dirPath:c1,recursive:!1,success(){i()},fail(e){}})}})}}function p1(e){return h1.apply(this,arguments)}function h1(){return(h1=xd()((function*(e){e.apiName;return null===l1&&(l1=new Promise((e=>{n1({filePath:u1,encoding:"utf8",position:0,success(t){var r;t.data;try{r=JSON.parse(t.data)}catch(e){_w(`getPrivacyState res data parse error: ${t.data}`),r={}}e({rawData:t.data,objData:r})},fail(t){e({rawData:"{}",objData:{}})}})}))),l1}))).apply(this,arguments)}var f1=e=>{if(Oe)zc("getBackgroundFetchData",e,"getBackgroundFetchData:fail SDK暂不支持此API");else if(Vc("getBackgroundFetchData",e,{fetchType:""}))if("pre"===e.fetchType||"periodic"===e.fetchType)try{md("getBackgroundFetchData",{fetchType:e.fetchType,cleanCache:e.cleanCache,success(t){Hc({name:"getBackgroundFetchData",args:e,res:t})},fail(t){Hc({name:"getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`getBackgroundFetchData:fail ${t.message}`})}else zc("getBackgroundFetchData",e,"invalid fetchType")},g1,v1=e=>{g1=e};qt("onBackgroundFetchData",(e=>{e.errMsg="onBackgroundFetchData:ok","function"==typeof g1&&x.surroundThirdByTryCatch(g1,"at onBackgroundFetchData callback function")(e)}));var m1=(e={})=>{Oe?zc("setBackgroundFetchToken",e,"setBackgroundFetchToken:fail SDK暂不支持此API"):Vc("setBackgroundFetchToken",e,{token:""})&&md("setBackgroundFetchToken",e)},y1=(e={})=>{Oe?zc("getBackgroundFetchToken",e,"getBackgroundFetchToken:fail SDK暂不支持此API"):md("getBackgroundFetchToken",e)},b1=e=>{try{md("private_getBackgroundFetchData",{fetchType:e.fetchType,success(t){Hc({name:"private_getBackgroundFetchData",args:e,res:t})},fail(t){Hc({name:"private_getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`private_getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`private_getBackgroundFetchData:fail ${t.message}`})}},_1=e=>{e&&ln.requireAuthJSApiList,e&&ln.requireAuthPipelineList,e&&ln.requireAuthOuterScopeList,md("setNeedsAcceptPrivacy",{needPrivacyJsApis:e?ln.requireAuthJSApiList:[],needPrivacyPipes:e?ln.requireAuthPipelineList:[],needPrivacyAuths:e?ln.requireAuthOuterScopeList:[],success:e=>{},fail:e=>{}})},w1=wg(Mq),S1=!1,C1,k1=()=>(S1||(S1=!0,C1=Promise.any([I1(),P1()]).then((e=>{var t,r,n,i,a,o,s,l,c,u;e.isFetchedData,ln.isCache=!0,ln.protoRes=e;var d=ln.protoRes.data,p=d.unauth_scope_list||[],h=d.need_popup_scope_list||[],f=d.min_popup_interval;ln.minGap=f,ln.forceOffcial=d.force_official,null!=d&&null!==(t=d.api_info)&&void 0!==t&&t.jsapi_list&&(ln.requireAuthJSApiList=d.api_info.jsapi_list,ln.requireAuthJSApiListMap=ln.requireAuthJSApiList.reduce(((e,t)=>(e[t]=1,e)),{})),null!=d&&null!==(r=d.api_info)&&void 0!==r&&r.pipe_list&&(ln.requireAuthPipelineList=d.api_info.pipe_list,ln.requireAuthPipelineListMap=ln.requireAuthPipelineList.reduce(((e,t)=>(e[t]=1,e)),{})),null!=d&&null!==(n=d.api_info)&&void 0!==n&&n.outer_scope_list&&(ln.requireAuthOuterScopeList=d.api_info.outer_scope_list,ln.requireAuthOuterScopeListMap=ln.requireAuthOuterScopeList.reduce(((e,t)=>(e[t]=1,e)),{})),1===ln.forceOffcial&&(ln.useCustomPrivacyAuthorization=!1),(d.popup_interval_item_list||[]).forEach((e=>{ln.popUpInterval[e.scope]=e.min_popup_interval}));var g=d.wording,v=ln.regExp,m=null==g?void 0:g.privacy_protocol_desc,y=null===(i=m)||void 0===i?void 0:i.match(v);ln.customUrl=null===(a=y)||void 0===a?void 0:a[2],ln.urlTitle=null===(o=y)||void 0===o?void 0:o[3],ln.standardInfo.title=g.title_wording,y=null===(s=m=null==g?void 0:g.desc)||void 0===s?void 0:s.match(v),ln.standardInfo.desc1=null===(l=y)||void 0===l?void 0:l[1],ln.standardInfo.urlTitle=null===(c=y)||void 0===c?void 0:c[3],ln.standardInfo.desc2=null===(u=y)||void 0===u?void 0:u[4],ln.standardInfo.allow=g.allow_wording,ln.standardInfo.cancel=g.cancel_wording,ln.standardInfo;var b=d.action_code;ln.actionCache=b,ln.banReasonCache=d.ban_reason,Object.assign(s1,cn),p.forEach((e=>{ln.unauthScopeCache[e]=!1,s1[e]=!1})),ln.unauthScopeCache,ln.hasAgree||(ln.needScopeCache=h),ln.needScopeCache,ln.needScopeCache.forEach((e=>{s1[e]=!1})),d1({apiName:"getPrivacyAuthinfoPromise",state:s1}),1!==ln.actionCache||ln.useCustomPrivacyAuthorization||_1(!0)}))),C1),I1=()=>new Promise(((e,t)=>{Ce?t({errMsg:"devtools not support private_getBackgroundFetchData"}):b1({fetchType:"1",success:r=>{if(r.fetchedData)try{var n=JSON.parse(r.fetchedData);e({isFetchedData:!0,data:n})}catch(e){y.error("parse private_getBackgroundFetchData fail",e),t(e)}else t({errMsg:"empty fetchedData"})},fail:e=>{y.error("backgroundfetch privacy fail",e),t(e)}})})),P1=()=>w1().catch((()=>({}))).then((e=>e.data?JSON.parse(e.data):0)).then((e=>{var t,r={popup_type:ln.useCustomPrivacyAuthorization?1:0,version:3,libVersion:re.SDKVersion,use_privacy_check:null!==(t=re.__usePrivacyCheck__)&&void 0!==t&&t,app_version:e};return EE({apiName:"webapi_getwxauserprivacyauthinfo",sdkApiName:"getwxauserprivacyauthinfo",reqData:r}).then((e=>e))})),A1=function(){var e=xd()((function*(e){var{event:t,env_check:r}=e,n="reportPrivacyAuthorization";switch(t){case"exposureAuthorization":break;case"agree":var i,a;if(ln.needScopeCache.forEach((e=>{s1[e]=!0})),ln.needScopeCache=[],ln.hasAgree=!0,_1(!1),d1({apiName:n,state:s1}),Z0({UIArea:ln.useCustomPrivacyAuthorization?10110003:10110002,PositionID:1,ActionID:6,AppType:1e3,Time:Date.now()-ln.popUpTime,ExternInfo:ln.externInfo}),!1===ln.isCache)try{yield k1()}catch(e){return void e.errors}var o=null===(i=ln.protoRes)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.need_popup_scope_list;if(o&&0!==o.length)EE({apiName:"webapi_setwxauserprivacyauthinfo",sdkApiName:"setwxauserprivacyauthinfo",reqData:{opt:1,auth_scope_list:o,env_check:r}}).then((e=>{})).catch((e=>{}));break;case"disagree":Z0({UIArea:ln.useCustomPrivacyAuthorization?10110003:10110002,PositionID:2,ActionID:7,AppType:1e3,Time:Date.now()-ln.popUpTime,ExternInfo:ln.externInfo})}}));return function(t){return e.apply(this,arguments)}}(),x1=e=>{!ln.didReportForPrivacyCheckBox&&1===ln.actionCache&&ln.useCheckBoxOnClientPopup&&(ln.didReportForPrivacyCheckBox=!0,A1({event:"agree"}))};hn.on("success",x1),en("authPopUpSuccess",x1);var T1=new Set,E1=e=>{T1.add(e)},M1=e=>T1.has(e),R1=e=>{var{method:t}=e;switch(t){case"agreePrivacyAuthorization":A1(e);break;case"addHasTapButtonId":var{id:r}=e;E1(r),"function"==typeof e.success&&e.success({errMsg:"addHasTapButtonId:ok"})}},O1=new Qt,D1={map:{},set(e){var t=Nt();return this.map[t]=e,t},get(e){return e?this.map[e]:Object.keys(this.map).map((e=>this.map[e]))}},L1=e=>/wxfile:\/\//.test(e)||/http:\/\//.test(e)?e:D1.get(e),N1=!1;function B1(){return!(!N1&&!_checkIsInteracting())}function $1(e){return e===j1||B1()||_checkIsInteracting()?Promise.resolve():Promise.reject(new Error("require user interaction (only in touchend event)"))}O1.on("beforeTouchEnd",(()=>{N1=!0})),O1.on("afterTouchEnd",(()=>{N1=!1})),sk((()=>{N1=!1}));var j1=Symbol("skipTouchEventCheckFlag"),F1,W1=e=>{var t=ln.useCustomPrivacyAuthorization;"function"==typeof e&&1!==ln.forceOffcial?ln.useCustomPrivacyAuthorization=!0:ln.useCustomPrivacyAuthorization=!1,t!==ln.useCustomPrivacyAuthorization&&1===ln.actionCache&&(ln.useCustomPrivacyAuthorization?_1(!1):_1(!0)),F1=(t,r)=>{x.surroundThirdByTryCatch(e,"at wx.onNeedPrivacyAuthorization callback function")((({buttonId:e,event:r})=>{if("agree"===r){var n=M1(e);M1(e),t(n?{success:!0}:{success:!1,errMsg:"privacy permission is not authorized or buttonId is wrong",errno:Bn})}else"disagree"===r&&t({success:!1,errMsg:"privacy permission is not authorized",errno:Bn})}),{referrer:r})}},U1=e=>(ln.popUpTime=Date.now(),Z0({UIArea:10110003,PositionID:0,ActionID:1,AppType:1e3,Time:0,ExternInfo:ln.externInfo}),new Promise((t=>{F1(t,e)}))),V1=function(){var e=xd()((function*(e={}){q1(e)}));return function(){return e.apply(this,arguments)}}(),q1=function(){var e=xd()((function*(e={}){if(!1===ln.isCache)try{yield k1()}catch(e){e.errors}Z0({UIArea:ln.useCustomPrivacyAuthorization?10110003:10110002,PositionID:3,ActionID:2,AppType:1e3,Time:Date.now()-ln.popUpTime,ExternInfo:ln.externInfo}),null!==ln.customUrl?md("private_openUrl",{url:ln.customUrl,isNativeStyle:!0,success:e.success,fail:t=>{t.errMsg+=" invalid url: "+ln.customUrl,e.fail(t)},complete:e.complete},{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPrivacyContract")}}):zc("openPrivacyContract",e,"url is null")}));return function(){return e.apply(this,arguments)}}();class z1{constructor(e={maxListeners:2e3}){this.emitter=new Qt(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=x.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}}var G1=e=>{invokeMethod("setDeviceOrientation",e)},H1="deviceOrientationChange",K1=new z1;qt("onDeviceOrientationChange",(e=>{e.value=e.value.toLowerCase(),/reverse/.test(e.value)&&(e.value="landscapeReverse"),K1.emit(H1,e)}));var J1=e=>{var t;null!==(t=K1.listeners(H1))&&void 0!==t&&t.length||md("enableDeviceOrientationChangeListening",{enable:!0}),K1.on(H1,e)},X1=e=>{var t;K1.off(H1,e),null!==(t=K1.listeners(H1))&&void 0!==t&&t.length||md("enableDeviceOrientationChangeListening",{enable:!1})},Y1=null,Q1=[],Z1,e3=({title:e,desc1:t,urlTitle:r,desc2:n,allow:i,cancel:a,success:o})=>{ln.popUpTime=Date.now(),Z0({UIArea:10110002,PositionID:0,ActionID:1,AppType:1e3,Time:0,ExternInfo:ln.externInfo});if(ln.isShowing)Q1.push(o);else{ln.isShowing=!0;var s=e=>{};J1(s),__sclEngine__.initScl((l=>{Z1=jV((()=>{}),[1,2,3]),(Y1=l.mainRoot.append("privacy-pop",{title:e,desc1:t,urlTitle:r,desc2:n,confirmText:i,cancelText:a,safeAreaHeight:ln.safeAreaHeight},{underMenuButton:!0})).addListener("jump",(({detail:e})=>{"jump"===e.reason&&q1({success:()=>{},fail:e=>{}})})),Y1.addListener("destroy",(({detail:e})=>{if(FV(Z1),X1(s),"cancel"===e.reason){A1({event:"disagree"});var t={success:!1,errMsg:"privacy permission is not authorized",errno:Bn};o(t),Q1.forEach((e=>{e(t)})),ln.isShowing=!1,Q1=[];try{l.mainRoot.remove(Y1)}catch(e){y.error("remove error:",e)}Y1=null}else{A1({event:"agree"});var r={success:!0};o(r),Q1.forEach((e=>{e(r)})),ln.isShowing=!1,Q1=[];try{l.mainRoot.remove(Y1)}catch(e){}Y1=null}}))}),!0)}},t3=wg(e3),r3=0,n3=e=>{var t=Date.now();return ln.isShowing||(t-r3)/1e3>ln.officialPrivacyAuthorizationShowingGap?(r3=t,t3(e)):(ln.officialPrivacyAuthorizationShowingGap,{success:!1,errMsg:"privacy permission is not authorized in gap",errno:Bn})},i3=Symbol("Cache"),a3={OFF:0,ON:1,UNKNOWN:2},o3={WEAK_NETWORK:"weakNetwork",ALWAYS:"always",NONE:"none"},s3=["ALL","GET","POST","PATCH","PUT","DELETE"],l3=6048e5,c3=2592e6,u3={JS_AUTHORIZE:1157,JS_AUTHORIZE_CONFIRM:1158,JS_OPERATE_WX_DATA:1133},d3=["login","checkSession","getSetting"],p3={ENTER_WEAK_NETWORK:1,EXIT_WEAK_NETWORK:2,REQUEST:3,EXIT_MINIPROGRAM:4,USE_CACHE_MANAGER:5,CACHE_MATCH:6,ENTER_WEAK_NETWORK_4_OLD:7,EXIT_WEAK_NETWORK_4_OLD:8,REQUEST_4_OLD:9,EXIT_MINIPROGRAM_4_OLD:10,PROXY_AUTHORIZE:11,PROXY_OPERATE_WX_DATA:12,PROXY_AUTHORIZE_SUCCESS:13,CALL_CONTAINER:20},h3=!1,f3=!1,g3=0,v3=!1,m3="",y3=0,b3=0,_3=0,w3=[p3.ENTER_WEAK_NETWORK_4_OLD,p3.EXIT_WEAK_NETWORK_4_OLD,p3.REQUEST_4_OLD,p3.EXIT_MINIPROGRAM_4_OLD],S3=[p3.ENTER_WEAK_NETWORK,p3.EXIT_WEAK_NETWORK,p3.EXIT_MINIPROGRAM,p3.ENTER_WEAK_NETWORK_4_OLD,p3.EXIT_WEAK_NETWORK_4_OLD,p3.EXIT_MINIPROGRAM_4_OLD],C3=!1,k3=0,I3=!1;function P3(){var e=HK($K.AppRoute_Begin);return{fr:HK($K.Real_Init_Ready)-e,fp:HK($K.FP)-e,fcp:HK($K.FCP)-e}}function A3(e){f3||(g3=Date.now(),f3=!0,!v3&&g3-y3<5e3&&(v3=!0),E3(p3.ENTER_WEAK_NETWORK,e))}function x3(e){f3&&(f3=!1,E3(p3.EXIT_WEAK_NETWORK,e,{duration:Date.now()-g3}))}function T3(){f3&&E3(p3.EXIT_MINIPROGRAM,null,{duration:Date.now()-g3}),C3&&E3(p3.EXIT_MINIPROGRAM_4_OLD,null,{duration:Date.now()-k3})}RC(((e={})=>{y3=Date.now(),v3=f3,I3=C3,m3=e.path||e.rawPath||""})),sk(((e={})=>{3===e.targetAction&&T3(),h3&&(E3(p3.CACHE_MATCH,null,{matchCount:b3,matchSuccessCount:_3}),b3=0,_3=0)}));var E3=function(){var e=xd()((function*(e,t,{isSuccess:r=!1,costTime:n=0,duration:i=0,matchCount:a=0,matchSuccessCount:o=0,extra1:s}={}){t=t||My()||"";var l={},c=yield GY;-1!==S3.indexOf(e)&&(l=P3());var u=-1!==w3.indexOf(e),d=u?I3:v3,p=[t,0,(u?C3:f3)?1:0,e,encodeURIComponent(m3),i,r?1:0,n,d?1:0,l.fr||0,l.fp||0,l.fcp||0,(null==c?void 0:c.duration)||0,a,o,s||""].join(",");T.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:p})}));return function(t,r){return e.apply(this,arguments)}}();function M3(e){if(f3||C3){var{url:t,complete:r}=e,n=Date.now();e.complete=e=>{r&&"function"==typeof r&&r(e);var i=e.errMsg||"",a=encodeURIComponent(t||"");f3&&E3(p3.REQUEST,null,{isSuccess:-1!==i.indexOf("ok"),costTime:Date.now()-n,extra1:a}),C3&&E3(p3.REQUEST_4_OLD,null,{isSuccess:-1!==i.indexOf("ok"),costTime:Date.now()-n,extra1:a})}}}function R3(e){f3&&E3(p3.CALL_CONTAINER,null,e)}function O3(){h3=!0,E3(p3.USE_CACHE_MANAGER)}function D3(e){b3++,e&&_3++}function L3(e,t){E3(e,null,{extra1:t})}function N3(){return f3}function B3(e){C3||(k3=Date.now(),C3=!0,!I3&&k3-y3<5e3&&(I3=!0),E3(p3.ENTER_WEAK_NETWORK_4_OLD,e))}function $3(e){C3&&(C3=!1,E3(p3.EXIT_WEAK_NETWORK_4_OLD,e,{duration:Date.now()-k3}))}Ry((e=>{"offline"!==e&&"none"!==e||B3(e)})),Ay((e=>{var{networkType:t=""}=e;"offline"===t||"none"===t?B3(t):$3(t)})),Ty((e=>{e.weakNet?B3():$3()}));var j3=(e,t)=>{if(Ie||ke){if("authorize"===t)return ln.requireAuthOuterScopeListMap[e],ln.requireAuthOuterScopeListMap[e];var r=un[e],[n,i,a]=r;return i?(ln.requireAuthJSApiListMap[i],ln.requireAuthJSApiListMap[i]):!!a&&(ln.requireAuthPipelineListMap[a],ln.requireAuthPipelineListMap[a])}return!1};try{re.onReady((()=>{Tw({success(e){var t,r,n=e;ln.externInfo.deviceOrientation="portrait"===n.deviceOrientation?1:2,ln.externInfo.screenWidth=n.screenWidth,ln.externInfo.screenHeight=n.screenHeight,ln.safeAreaHeight=n.windowHeight-(null!==(t=null===(r=n.safeArea)||void 0===r?void 0:r.height)&&void 0!==t?t:0)}})}))}catch(e){}function F3(e,t){return e.every((e=>t[e]))}function W3(e,t){return e.some((e=>t.includes(e)))}function U3(e,t){return e.some((e=>!1===t[e]))}var V3=function(){var e=xd()((function*(e,t){if(Ke()||N3())return Promise.resolve({success:!0});var r;if(!ln.isCache){var{rawData:n,objData:i}=yield p1({apiName:"checkPrivacy"});if(Object.assign(s1,i),"{}"!==n)if(F3(un[e][0],s1))return k1(),Promise.resolve({success:!0});try{yield k1()}catch(e){e.errors}}switch(ln.needScopeCache,ln.unauthScopeCache,ln.actionCache,ln.actionCache){case 0:return Promise.resolve({success:!0});case 1:var a=un[e][0];if(!ln.useCustomPrivacyAuthorization){var o,s,l=a[0];a.some((e=>!!ln.needScopeCache.includes(e)&&(l=e,!0))),ln.officialPrivacyAuthorizationShowingGap=null!==(o=null!==(s=ln.popUpInterval[l])&&void 0!==s?s:ln.minGap)&&void 0!==o?o:ln.officialPrivacyAuthorizationShowingGap}return ln.officialPrivacyAuthorizationShowingGap,U3(a,ln.unauthScopeCache)?Promise.resolve({success:!1,errMsg:"api scope is not declared in the privacy agreement",errno:zn}):W3(a,ln.needScopeCache)?"input.nickname"===e?{success:!1,errMsg:"input nickname component will degrade as input component when privacy permission is unauthorized ",errno:Bn}:ln.useCustomPrivacyAuthorization?U1(e):Cf("disablePrivacyOfficialPopup")?{success:!1,errMsg:"privacy permission is not authorized (disablePrivacyOfficialPopup)",errno:Bn}:j3(e,t)?(ln.useCheckBoxOnClientPopup=!0,Promise.resolve({success:!0})):n3({title:ln.standardInfo.title,desc1:ln.standardInfo.desc1,urlTitle:ln.standardInfo.urlTitle,desc2:ln.standardInfo.desc2,allow:ln.standardInfo.allow,cancel:ln.standardInfo.cancel}):Promise.resolve({success:!0});case 2:return r=mi,ln.banReasonCache&&null!==ln.banReasonCache?Promise.resolve({success:!1,errMsg:ln.banReasonCache,errno:r}):Promise.resolve({success:!1,errMsg:"privacy interface is banned",errno:r})}}));return function(t,r){return e.apply(this,arguments)}}(),q3,z3=null;re.onReady((()=>{var e,t,r;a2(null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.skip_auth_item_list),null!==(r=K3)&&void 0!==r&&r.length&&(J3=t2())}));var G3=!1,H3=!1,K3=[],J3=[],X3={},Y3={"scope.userLocation":1,"scope.userLocationBackground":2,"scope.userFuzzyLocation":3,"scope.record":8,"scope.camera":9},Q3={1:"scope.userLocation",2:"scope.userLocationBackground",3:"scope.userFuzzyLocation",8:"scope.record",9:"scope.camera"},Z3={1:"jsapi_location",2:"jsapi_fuzzy_location",3:"jsapi_location_background",8:"jsapi_record",9:"jsapi_camera"},e2={getLocation:"scope.userLocation",getFuzzyLocation:"scope.userFuzzyLocation",startLocationUpdate:"scope.userLocation",startLocationUpdateBackground:"scope.userLocationBackground"},t2=()=>{var e=[];return 0===K3.length?e:(K3.forEach((t=>{e.push(...t.scope_id_list),X3[t.path]=t.scope_id_list.map((e=>Q3[e]))})),Array.from(new Set(e)))},r2=e=>Y3[e],n2=()=>K3,i2=()=>J3,a2=e=>{null!=e&&e.length&&(K3=e)},o2=()=>G3,s2=e=>{Z0({UIArea:10110004,PositionID:1,ActionID:6,AppType:1e3,Time:Date.now()-e.tapTime,ExternInfo:e.innerText})},l2=e=>e.map((e=>Z3[e])),c2=(e=!1,t="")=>{H3=!0;var r=t2();return new Promise((n=>{__sclEngine__.initScl((i=>{var a,o;q3=jV((()=>{z3.closed(),H3=!1,FV(q3)}),[1,2,3]),(z3=i.mainRoot.append("emergency-popup",{title:"获取以下信息用于急救通话",icon:(null===(a=re.accountInfo)||void 0===a?void 0:a.icon)||"",nickname:(null===(o=re.accountInfo)||void 0===o?void 0:o.nickname)||"",showPrivacy:e,useLocation:r.includes(1)||r.includes(2)||r.includes(3),useRecord:r.includes(8),useCamera:r.includes(9),privacyGuide:t})).addListener("vibrateShort",(()=>{e1({type:"medium"})})),["confirm","cancel","openPrivacyUrl"].forEach((e=>{z3.addListener(e,(()=>{FV(q3),n({event:e})}))}))}))}))};en("agreePrivacyEmergency",((e,t)=>{H3?Kr("userTapPrivacyEmergencyConfirm",G3?{isConfirm:!0}:{isConfirm:!1},[t]):c2().then((r=>{var{event:n}=r;"confirm"===n?(Kr("userTapPrivacyEmergencyConfirm",{isConfirm:!0},[t]),G3=!0,s2(e)):Kr("userTapPrivacyEmergencyConfirm",{isConfirm:!1},[t])}))}));var u2=function(){var e=xd()((function*(e){var t="authorizeCombined";if(H3)G3?Hc({name:t,args:e}):zc(t,e,"user cancel");else{if(!Object.keys(null==ln?void 0:ln.standardInfo).length)try{yield k1()}catch(e){y.error("getPrivacyAuthinfoPromise fail",e)}var r=W3(l2(t2()),ln.needScopeCache),{urlTitle:n=""}=ln.standardInfo,{event:i}=yield c2(r,n);"confirm"===i&&(r&&A1({event:"agree"}),G3=!0,Hc({name:t,args:e})),"cancel"===i&&zc(t,e,"user cancel"),"openPrivacyUrl"===i&&q1()}}));return function(t){return e.apply(this,arguments)}}(),d2=()=>{var e;if(Ue())return{};var t,r=O.getCurrentRoutePathWithoutQuery().split(".")[0],n={};null!==(e=X3[r])&&void 0!==e&&e.length&&(null===(t=X3[r])||void 0===t||t.forEach((e=>{n[e]=!0})));return n},p2=(e,t=!1)=>{if(Ue())return!1;if(!e.length)return G3;var r=O.getCurrentRoutePathWithoutQuery(),n=0;return e.forEach((e=>{var i=t?e2[e]:e;K3.some((e=>r.includes(e.path)&&e.scope_id_list.includes(r2(i))))&&n++})),n===e.length&&G3},h2=e=>{var{success:t,fail:r}=e;p2(e.scopeNames)?t():r()},f2,g2=ke,v2={};en("xWebLivePusherSupported",(({enforcedXWebLive:e,canInsert2XWeb:t})=>{g2=e||t})),en("updateLivePusherPictureInPicture",((e={},t)=>{v2.webviewId=t,v2.pusherId=e.pusherId}));var m2=e=>{var t=Object.keys(e),r={},n=[];return t.forEach((t=>{var i=e[t];if("string"==typeof i&&i){if(!/^(wxfile|https?):\/\//.test(i))return void(r[t]=Q0(i,!1));if(/^cloud:\/\//.test(i))return void n.push({p:i,key:t})}r[t]=i})),n.length?new Promise((e=>{K0(n.map((e=>e.p)),"image",(t=>{t.data.forEach(((e,r)=>{t[n[r].key]=e})),e(t)}))})):Promise.resolve(r)},y2={},b2={},_2=new Yt,w2={},S2=Object.assign;function C2(e){w2[e]||(w2[e]=!0,XM(e,(e=>{delete w2[e],Object.keys(y2).forEach((t=>{new RegExp("^"+e).test(t)&&(delete b2[`${e}_${y2[t]}`],delete y2[t])}))}),"LivePusherContext"))}function k2(e,t,r){if(Ce)console.warn(`开发者工具暂不支持调用 LivePusherContext.${e} 方法`);else{t&&t.type;var n=bd(r);p2(["scope.record","scope.camera"])&&(t.permissionBytes=[1,1,1],n=Pd(r)),n(g2?"operateXWebLivePusher":"operateLivePusher",t)}}function I2(e,t){var r=`${this.webviewId}_${this.pluginId}`,n="exitPictureInPicture"===e;"number"==typeof y2[r]?(g2?t.viewId=n?t.pusherId:y2[r]:t.livePusherId=n?t.pusherId:y2[r],t.type=e,k2(e,t,this.pluginId)):_2.once("livePusherInserted",(()=>{I2.call(this,e,t)}))}function P2(e,...t){var r=`${this.webviewId}_${this.pluginId}`;"number"==typeof y2[r]?e.apply(this,t):_2.once("livePusherInserted",(()=>{P2.call(this,e,...t)}))}["xWebLivePusherInserted","livePusherInserted"].forEach((e=>{en(e,(({viewId:e,pusherId:t,pluginId:r,data:n},i)=>{var a=g2?e:t,o=`${i}_${r}`;y2[o]=a,b2[`${i}_${a}`]=n,_2.emit("livePusherInserted"),C2(i)}))})),["xWebLivePusherRemoved","livePusherRemoved"].forEach((e=>{en(e,(({viewId:e,pusherId:t,pluginId:r},n)=>{var i=g2?e:t;delete y2[`${n}_${r}`],delete b2[`${n}_${i}`]}))}));var A2=(f2=class{constructor(e,t){this.webviewId=e,this.pluginId=t}get _livePusherId(){var e=`${this.webviewId}_${this.pluginId}`;return y2[e]}start(e={}){I2.call(this,"start",e)}stop(e={}){I2.call(this,"stop",e)}pause(e={}){I2.call(this,"pause",e)}resume(e={}){I2.call(this,"resume",e)}switchCamera(e={}){I2.call(this,"switchCamera",e)}snapshot(e={}){var t="view"===e.sourceType?"snapshotView":"snapshot";I2.call(this,t,S2({quality:"raw"},e))}toggleTorch(e={}){I2.call(this,"toggleTorch",e)}playBGM(e={}){Vc("LivePusherContext.playBGM",e,{url:""})&&I2.call(this,"playBGM",e)}stopBGM(e={}){I2.call(this,"stopBGM",e)}pauseBGM(e={}){I2.call(this,"pauseBGM",e)}resumeBGM(e={}){I2.call(this,"resumeBGM",e)}setBGMVolume(e={}){Vc("LivePusherContext.setBGMVolume",e,{volume:0})&&I2.call(this,"setBGMVolume",e)}setMICVolume(e={}){Vc("LivePusherContext.setMICVolume",e,{volume:0})&&I2.call(this,"setMICVolume",e)}startPreview(e={}){I2.call(this,"startPreview",e)}stopPreview(e={}){I2.call(this,"stopPreview",e)}sendMessage(e={}){I2.call(this,"sendMessage",e)}exitPictureInPicture(e={}){v2&&I2.call(this,"exitPictureInPicture",S2({pusherId:v2.pusherId},e))}setZoom(e={}){Vc("LivePusherContext.setZoom",e,{zoom:1})&&I2.call(this,"setZoom",e)}getMaxZoom(e={}){I2.call(this,"getMaxZoom",e)}applyFilter(e={}){m2({path:e.path}).then((({path:t})=>{I2.call(this,"applyFilter",S2({},e,{path:t}))}))}clearFilters(e={}){I2.call(this,"clearFilters",e)}applySticker(e={}){var t=Array.isArray(e.stickers)?e.stickers:[];m2(t.map((e=>e.path))).then((r=>{I2.call(this,"applySticker",S2({},e,{stickerType:e.type,stickers:t.map(((e,t)=>({...e,path:r[t]})))}))}))}clearStickers(e={}){I2.call(this,"clearStickers",e)}applyLipStickMakeup({success:e,fail:t,complete:r,...n}={}){m2({path:n.path,shimmerPath:n.shimmerPath}).then((({path:i,shimmerPath:a})=>{I2.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"lipStick",makeup:{...n,path:i,shimmerPath:a}})}))}applyEyeShadowMakeup({success:e,fail:t,complete:r,...n}={}){m2({path:n.path,shimmerPosition:n.shimmerPosition}).then((({path:i,shimmerPosition:a})=>{I2.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"eyeShadow",makeup:{...n,path:i,shimmerPosition:a}})}))}applyBlusherStickMakeup({success:e,fail:t,complete:r,...n}={}){m2({path:n.path}).then((({path:i})=>{I2.call(this,"applyMakeup",S2({},n,{success:e,fail:t,complete:r,makeupType:"blusherStick",makeup:{...n,path:i}}))}))}applyFaceContourMakeup({success:e,fail:t,complete:r,...n}={}){m2({path:n.path}).then((({path:i})=>{I2.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"faceContour",makeup:{...n,path:i}})}))}applyEyeBrowMakeup({success:e,fail:t,complete:r,...n}={}){m2({path:n.path}).then((({path:i})=>{I2.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"eyeBrow",makeup:{...n,path:i}})}))}clearMakeups(e={}){I2.call(this,"clearMakeups",e)}},H()(f2.prototype,"start",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"start"),f2.prototype),H()(f2.prototype,"stop",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"stop"),f2.prototype),H()(f2.prototype,"pause",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"pause"),f2.prototype),H()(f2.prototype,"resume",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"resume"),f2.prototype),H()(f2.prototype,"switchCamera",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"switchCamera"),f2.prototype),H()(f2.prototype,"snapshot",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"snapshot"),f2.prototype),H()(f2.prototype,"toggleTorch",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"toggleTorch"),f2.prototype),H()(f2.prototype,"playBGM",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"playBGM"),f2.prototype),H()(f2.prototype,"stopBGM",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"stopBGM"),f2.prototype),H()(f2.prototype,"pauseBGM",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"pauseBGM"),f2.prototype),H()(f2.prototype,"resumeBGM",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"resumeBGM"),f2.prototype),H()(f2.prototype,"setBGMVolume",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"setBGMVolume"),f2.prototype),H()(f2.prototype,"setMICVolume",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"setMICVolume"),f2.prototype),H()(f2.prototype,"startPreview",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"startPreview"),f2.prototype),H()(f2.prototype,"stopPreview",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"stopPreview"),f2.prototype),H()(f2.prototype,"sendMessage",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"sendMessage"),f2.prototype),H()(f2.prototype,"exitPictureInPicture",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"exitPictureInPicture"),f2.prototype),H()(f2.prototype,"setZoom",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"setZoom"),f2.prototype),H()(f2.prototype,"getMaxZoom",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"getMaxZoom"),f2.prototype),H()(f2.prototype,"applyFilter",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"applyFilter"),f2.prototype),H()(f2.prototype,"clearFilters",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"clearFilters"),f2.prototype),H()(f2.prototype,"applySticker",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"applySticker"),f2.prototype),H()(f2.prototype,"clearStickers",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"clearStickers"),f2.prototype),H()(f2.prototype,"applyLipStickMakeup",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"applyLipStickMakeup"),f2.prototype),H()(f2.prototype,"applyEyeShadowMakeup",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"applyEyeShadowMakeup"),f2.prototype),H()(f2.prototype,"applyBlusherStickMakeup",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"applyBlusherStickMakeup"),f2.prototype),H()(f2.prototype,"applyFaceContourMakeup",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"applyFaceContourMakeup"),f2.prototype),H()(f2.prototype,"applyEyeBrowMakeup",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"applyEyeBrowMakeup"),f2.prototype),H()(f2.prototype,"clearMakeups",[Bt],Object.getOwnPropertyDescriptor(f2.prototype,"clearMakeups"),f2.prototype),f2),x2=new WeakMap,T2=e=>(x2.has(e)||x2.set(e,{}),x2.get(e)),E2=(e,t={})=>{var r=T2(e);return x2.set(e,{...r,...t})};function M2(e,t){var r=new Uint8Array(e),n=new Uint8Array(t);return r.length===n.length&&(n.set(r),!0)}class R2 extends A2{constructor(...e){super(...e),_2.addListener(`onLivePusherCameraFrame_${this.webviewId}`,(e=>{var{buffer:t,bufferId:r,onCustomRendererFrameEvent:n,width:i,height:a}=T2(this);if(n){var{deviceOrientationRotation:o}=e,s=n.call(this,{orientation:o,buffer:t});if(s instanceof ArrayBuffer&&(s===t||M2(s,t))){var l={bufferId:r,rotation:0,width:i,height:a};I2.call(this,"sendCustomVideoFrame",l)}}})),_2.addListener(`onLivePusherCameraFrameBufferUpdate_${this.webviewId}`,(e=>{var t,r=T2(this),{bufferId:n,rotation:i,height:a,width:o}=e,s=Rp();if(!s)throw new Error("onCustomRendererEvent:frame is not supported on your device");var l=s.get(n);if(!l)throw new Error("onCustomRendererEvent:frame fails to allocate ArrayBuffer");l.__proto__=ArrayBuffer.prototype,E2(this,{bufferId:n,buffer:l,rotation:i,height:a,width:o}),null===(t=r.onCustomRendererUpdateEvent)||void 0===t||t.call(this,{width:o,height:a})}))}onCustomRendererEvent(e,t){"frame"===e?(T2(this).onCustomRendererFrameEvent=t,P2.call(this,t,{orientation:0,buffer:new ArrayBuffer})):"update"===e&&(T2(this).onCustomRendererUpdateEvent=t)}offCustomRendererEvent(e){var t=T2(this).onCustomRendererUpdateEvent.forEach((r=>{t[r]===e&&(t[r]=null)}))}createOffscreenCanvas(e){return H4({...e,_forLivePusher:!0})}}function O2(e,t,r,n=""){return new R2(t,n)}var D2=0,L2={};re.onReady((()=>{D2=re.appType,L2=re.appLaunchInfo}));var N2=(e,t)=>{var r=[];return t.forEach((t=>{var n=e[t];"boolean"==typeof n&&(n=n?1:0),r.push(`${t}:${n}`)})),r.join("|")},B2=null,$2=({name:e,data:t})=>{var r=void 0!==br?br.getCurrentPagesByDomain(""):[],n=r.length>0&&r[r.length-1].__route__||"",i=My(),a=re.SDKVersion||"",o="";switch(e){case"loadFontFace":o=N2(t,["family","source","global","scopes"]);break;case"requestSubscribeMessage":o=N2(t,["templateCount","templateType","operationType"]);break;case"openCustomerServiceChat":o=N2(t,["extInfo","corpId"]);break;case"Intl":o=N2(t,["callPath"]);break;case"translateSwitch":o=N2(t,["action","openType","show"])}var s=[Math.round(Date.now()/1e3),L2.scene,L2.sessionid||L2.sessionId,n,i,a,e,o,D2,1,""].join(",");T.reportKeyValue({key:"APIUse",value:s})},j2={};function F2(e){var t=uu.currentWebviewId;j2[t]=j2[t]||{},j2[t][e]=!0}function W2(e,t={},r=!1,n=!1){r=r||sM(),T.reportKeyValue({key:"MiniprogramDoEvilIdentification",value:[e,encodeURIComponent(JSON.stringify(t)),r?1:0,Date.now(),n?1:0,T.getAppType()].join(",")})}sk((()=>{var e=!1;Object.keys(j2).forEach((t=>{var r=j2[t];r.cameraFrame&&r.webgl&&(e=!0)})),e&&$2({name:"suspectAR",data:{}}),j2={}}));var U2={previewImage:31,previewMedia:788,onLivePlayerFullScreenChange:372,onVideoFullScreenChange:131},V2=new Map,q2=new Map;re.onReady(xd()((function*(){yield new Promise((e=>setTimeout(e,2e3)));var{data:e={}}=yield Qk(),{api_cooltime_list:t=[]}=e;for(var{api:r,cooltime:n}of t)q2.set(r,n)})));var z2=e=>{var t;return null!==(t=q2.get(e))&&void 0!==t?t:0},G2=e=>{var t=z2(e);if(t<=0)return!1;V2.has(e)||V2.set(e,0);var r=V2.get(e),n=Date.now(),i=!0;if(n-r>=t)i=!1;else{var a=lj();i=a<r||a>n}return i||V2.set(e,n),i},H2=(e,t,r)=>{zc(t,r,`can't be invoked in ${z2(e)}ms until user taps`)},K2=new Set([1177,1184,1200,1228]),J2=new Set([0,1,2,7]),X2=()=>{var{scene:e}=Qh();return K2.has(e)&&J2.has(re.appType)&&"default"!==wh()},Y2={Unknown:"",Moving:"moving",Parking:"parking"},Q2={status:Y2.Unknown},Z2="onVehicleStatusUpdated",e6=e=>{Q2=e,Kr(Z2,e)};qt(Z2,e6);var t6=()=>Q2,r6=function(){var e=xd()((function*(){if(De&&(xe||ke)){var e=yield yd("getVehicleDrivingStatus",{});Q2=e}return Q2}));return function(){return e.apply(this,arguments)}}(),n6=eu("getVehicleStatus",r6),i6,a6=Ce||Te||xe,o6={},s6={},l6={},c6=new Yt,u6={},d6=new WeakMap,p6={},h6={},f6=["play","pause","stop","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback","hidePoster","startCasting","switchCasting","reconnectCasting","exitCasting"],g6={},v6={},m6=!0,y6=!0,b6=Object.keys;function _6(e){u6[e]||(u6[e]=!0,XM(e,(e=>{delete u6[e],b6(o6).concat(b6(s6)).forEach((t=>{new RegExp("^"+e).test(t)&&delete o6[t]})),b6(p6).forEach((t=>{(new RegExp("^api_"+e).test(t)||new RegExp("^SQ_"+e).test(t))&&delete p6[t]})),xe&&md("setKeepScreenOn",{keepScreenOn:!1},{})}),"VideoContext"))}en("updateVideoPictureInPicture",((e={},t)=>{l6.webviewId=t,l6.playerId=e.playerId})),en("videoAdPlay",(({videoPlayerId:e,type:t},r)=>{h6[`${r}_${e}`]=t})),en("videoPlayerInsert",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n,nodeInfo:i,data:a},o)=>{var s=`${o}_${r}_${e}_`;n&&n!==Pp(o)&&(s+=n),o6[s]=t,A6(i,t,o),c6.emit("videoPlayerInsert"),_6(o),v6[`${o}_${t}`]=a||{}})),en("xWebVideoInserted",(({domId:e,viewId:t,pluginId:r,nodeId:n,data:i},a)=>{var o=`${a}_${r}_${e}_`;n&&n!==Pp(a)&&(o+=n),o6[o]=t,v6[`${a}_${t}`]=i||{},c6.emit("videoPlayerInsert"),_6(a)})),en("videoPlayerUpdated",(({action:e,value:t,videoPlayerId:r},n)=>{x6({_videoId:r,_webviewId:n},e,t)})),en("videoPlayerRemoved",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==Pp(i)&&(a+=n),delete o6[a],T6(t,i);var o=`api_${i}_${r}_${e}_`;n&&n!==Pp(i)&&(o+=n);var s=`SQ_${i}_${t}`;delete p6[o],delete p6[s],delete v6[`${i}_${t}`]})),en("xWebVideoRemoved",(({domId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==Pp(n)&&(i+=r);var a=o6[i];delete o6[i],delete v6[`${n}_${a}`]})),en("xWebVideoSupported",(({isXWebSupported:e})=>{m6=m6&&e})),en("insertVideoToWebLayerStateChanged",(({viewId:e,inserted:t},r)=>{g6[`${r}_${e}`]=t}));var w6={},S6=Oz();en("onGetVideoInfo",(({callbackId:e,info:t}={})=>{var r=w6[e];w6[e]=null,r&&r(t)})),re.onReady((()=>{re.global&&re.global.window&&"seperated"===re.global.window.renderingMode&&(y6=!1,m6=!1)}));class C6{}var k6=(i6=class{constructor(e,t){var r=this.exportContext=new C6;f6.forEach((e=>{r[e]=this[e].bind(this)})),r._videoId=e,r._webviewId=t}play(){var e=this._getAppStatus();e===nu.BACK_GROUND||e===nu.LOCK||t6().status===Y2.Moving||this._invokeMethod("play")}pause(){this._invokeMethod("pause")}stop(){this._invokeMethod("stop")}seek(e,t="accurate"){if("accurate"!==t&&"inaccurate"!==t)throw new qd("Parameter 2 must either be `accurate` or be `inaccurate`");this._invokeMethod("seek",[e,t])}sendDanmu({text:e,color:t}){this._invokeMethod("sendDanmu",[e,t])}playbackRate(e){.5!==(e=parseFloat(e.toFixed(2)))&&.8!==e&&1!==e&&1.25!==e&&1.5!==e&&2!==e||this._invokeMethod("playbackRate",[e])}requestFullScreen(e={}){var t,r=sM();if(Oe||(t=G2(U2.onVideoFullScreenChange)),this._getInfo((e=>{W2("VideoContext.requestFullScreen",{src:e.src},r,t)})),X2())jW({icon:"none",title:"该场景不支持全屏"});else if(!t){var n=e.direction;[0,90,-90].indexOf(n)>-1?this._invokeMethod("requestFullScreen",[n]):this._invokeMethod("requestFullScreen"),d6.set(this,!0)}}exitFullScreen(){this._invokeMethod("exitFullScreen"),this.showStatusBar(),d6.set(this,!1)}showStatusBar(e={}){md("showStatusBar",e)}hideStatusBar(e={}){if(ke){var t="hideStatusBar:ok";return"function"==typeof e.success&&e.success({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}if(!d6.get(this)){var r="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:r}),void("function"==typeof e.complete&&e.complete({errMsg:r}))}md("hideStatusBar",e)}exitPictureInPicture(e={}){if(l6){var t=l6.playerId;Ie?md("operateVideoPlayer",{...e,videoPlayerId:t,type:"exitPictureInPicture"},{beforeAll(e){e.errMsg=e.errMsg.replace("operateVideoPlayer","exitPictureInPicture")}}):ke&&md("operateXWebVideo",{...e,viewId:t,type:"exitPictureInPicture"},{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebVideo","exitPictureInPicture")}})}}requestBackgroundPlayback(){this._invokeMethod("requestBackgroundPlayback",[])}exitBackgroundPlayback(){this._invokeMethod("exitBackgroundPlayback",[])}hidePoster(){this._invokeMethod("hidePoster")}startCasting(e){sM()&&this._getInfo((t=>{this._invokeMethod("startCasting",[t.src],e)}))}switchCasting(e){sM()&&this._invokeMethod("switchCasting",[],e)}reconnectCasting(e){sM()&&this._invokeMethod("reconnectCasting",[],e)}exitCasting(e){sM()&&this._invokeMethod("exitCasting",[],e)}_invokeMethodWithId(e,t,r){"number"==typeof e?function(){if("begin"!==h6[`${this.webviewId}_${e}`])if(y6&&(ke&&m6||Ie&&g6[`${this.webviewId}_${e}`])&&["requestFullScreen","exitFullScreen","sendDanmu","seek","stop","play","pause"].indexOf(t)>-1)Kr(`video_${this.webviewId}_${e}_actionChanged`,{method:t,data:r},[this.webviewId]);else{var n=this._getAppStatus();if(!a6&&n===nu.BACK_GROUND&&"stop"===t){var i="operateVideoPlayerBackground";return ke&&m6&&(i="operateXWebVideoBackground"),void md(i,{viewId:e,videoPlayerId:e,type:t})}a6?(this._sendAction(e,{method:t,data:r}),["play","pause","stop","seek","playbackRate"].indexOf(t)>-1&&x6(this.exportContext,t,r&&r[0])):ke&&m6?md("operateXWebVideo",{viewId:e,type:t,data:r}):md("operateVideoPlayer",{data:r,videoPlayerId:e,type:t})}else console.error(`${t}:fail cannot operate video while ad playing.`)}.apply(this):c6.once("videoPlayerInsert",(()=>{this._invokeMethod(t,r)}))}_sendActionWithEvnetName(e,t){Kr(e,t,[this.webviewId])}_getInfo(e){var t=S6.next();w6[t]=e;var r=this._getVideoPlayerId();r?this._sendActionWithEvnetName(`video_${this.webviewId}_${r}_getInfo`,{callbackId:t}):c6.once("videoPlayerInsert",(()=>{this._sendActionWithEvnetName(`video_${this.webviewId}_${this._getVideoPlayerId()}_getInfo`,{callbackId:t})}))}_getAppStatus(){return uu.appStatus}_getHanged(){return uu.hanged}},H()(i6.prototype,"startCasting",[Bt],Object.getOwnPropertyDescriptor(i6.prototype,"startCasting"),i6.prototype),H()(i6.prototype,"switchCasting",[Bt],Object.getOwnPropertyDescriptor(i6.prototype,"switchCasting"),i6.prototype),H()(i6.prototype,"reconnectCasting",[Bt],Object.getOwnPropertyDescriptor(i6.prototype,"reconnectCasting"),i6.prototype),H()(i6.prototype,"exitCasting",[Bt],Object.getOwnPropertyDescriptor(i6.prototype,"exitCasting"),i6.prototype),i6);class I6 extends k6{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new qd("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}_getVideoPlayerId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return o6[e]}_invokeMethod(e,t){var r=this._getVideoPlayerId();this._invokeMethodWithId(r,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}class P6 extends k6{constructor(e,t){super(e,t),this.videoPlayerId=e,this.webviewId=t}_getVideoPlayerId(){return this.videoPlayerId}_invokeMethod(e,t){var r=this._getVideoPlayerId();this._invokeMethodWithId(r,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}function A6(e,t,r){if(Ce){var n=document.createElement("video");e.elem=n,s6[`${r}_${t}`]=e,n.controls=!1,n.preload="auto",n.muted=!0,n.autoplay=e.autoplay,n.style.width=e.width+"px",n.style.height=e.height+"px"}}function x6(e,t,r){if(Ce&&void 0!==e._webviewId){var n=s6[`${e._webviewId}_${e._videoId}`].elem;switch(t){case"setSrc":n.src=r;break;case"play":n.play();break;case"pause":case"stop":n.pause();break;case"seek":0===n.readyState||1===n.readyState?n.oncanplay=()=>{n.currentTime=r,n.oncanplay=null}:n.currentTime=r;break;case"playbackRate":n.playbackRate=r}}}function T6(e,t){delete s6[`${t}_${e}`]}function E6(e){return s6[`${e._webviewId}_${e._videoId}`].elem}function M6(e,t,r="",n=""){var i=`api_${t}_${n}_${e}_`;if(r&&r!==Pp(t)&&(i+=r),p6[i])return p6[i].exportContext;var a=new I6(e,t,r,n);return p6[i]=a,a.exportContext}function R6(e,t){var r=`SQ_${t}_${e}`;if(p6[r])return p6[r].exportContext;var n=new P6(e,t);return p6[r]=n,n.exportContext}function O6(){return p.g.WeixinCanvas}var D6=ke,L6=()=>D6;Ie&&re.onReady((()=>{Tf({experimentId:"clicfg_canvas_use_magic_brush",experimentType:"Expt",success:e=>{JSON.stringify(e),void 0!==(null==e?void 0:e.testConfig)&&(D6="1"===e.testConfig)}})}));class N6 extends F0{loadFontFace(e){var t=xf.loadFont||p.g.loadFont;"function"==typeof t&&e.forEach((e=>{t(e.src,{family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})}))}}var B6=(e,t)=>{var r=xf.findElementById(t.canvasNumber);if(!r)throw new Error("Cannot find canvas instance");return e._innerId=r.__id,r},$6=(e,t)=>{var r=new xf.OffscreenCanvas(t.width,t.height);return e._innerId=r.__id,r};class j6 extends q0{constructor(e){super(e),F0.initialize(j6,N6);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=null===t?$6(this,e):B6(this,e);"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||W0,n.height=e.height||U0):(n.width=W0,n.height=U0),T0(r,this,n)}getContext(e,t){var r=m0(this),n="wgfx"===e&&r.isXrFrame;if(e!==r.type&&!n)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var i=A0(this);if(i)return!["webgl","webgl2"].includes(e)||null!=t&&t.alpha||Kr("WebGLSetOpaqueBackground",{canvasNumber:this.id}),HZ(f5)(i.getContext(e,t),this);console.error("Canvas getContext failed due to missing canvas instance")}_onUpdated(){}_onRemoved(){}get width(){return A0(this).width}set width(e){var t=A0(this);t&&(t.width=e)}get height(){return A0(this).height}set height(e){var t=A0(this);t&&(t.height=e)}createImage(){var e=m0(this),t=new xf.Image;return new s5(qZ(t),e)}createImageData(...e){return new(xf.ImageData||p.g.ImageData)(...e)}static createPath2D(...e){return new(xf.Path2D||p.g.Path2D)(...e)}createPath2D(...e){return j6.createPath2D(...e)}requestAnimationFrame(e){return xf.requestAnimationFrame(e)}cancelAnimationFrame(e){return xf.cancelAnimationFrame(e)}toDataURL(e,t){var r=A0(this);return r?r.toDataURL(e,t):""}}var F6=new WeakSet;function W6(e){if(!e||F6.has(e))return e;if(F6.add(e),e.fill){var t=e.fill.bind(e);e.fill=e=>e?t(e,e):t()}if(e.putImageData){var r=e.putImageData.bind(e);e.putImageData=(e,...t)=>0===e||"object"!=typeof e?null:r(e,...t)}return e}class U6{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var V6=Dz;class q6{constructor(e){this.id=0,this.canvasView=e,this.callbacks=new Map,this.vSync=new U6,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[V6.now()])})),this.canvasView.present()}))}swap(){this.canvasView.swapSurface()}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}var z6=new WeakMap;ke&&qt("onXWebCanvasSurfaceChange",((e={},t)=>{var r=I0(e.viewId),n=z6.get(r);n&&n.swap()}));class G6 extends F0{constructor(...e){super(...e),this._loadedFontAssets=[]}loadFontFace(e){var t,r=this,n=[],i=function(e){var t=r._loadedFontAssets.find((t=>t.src===e.src||t.originalSrc===e.originalSrc));t||n.push(e)};for(var a of e)i(a);n.length&&(this._loadedFontAssets.push(...n),ke?t=xf.SkiaCanvasLoadNewFont||p.g.SkiaCanvasLoadNewFont:Ie&&(t=p.g.skiacanvasLoadNewFont),"function"==typeof t&&t(e.map((e=>({src:e.src||"",family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})))))}}var H6=(e,t)=>{if(Ie)return new p.g.Canvas(t.canvasNumber);if(ke){var r=(xf.HTMLCanvasView||p.g.HTMLCanvasView).createView(t.canvasNumber),n=(xf.HTMLCanvasElement||p.g.HTMLCanvasElement).createElement(r),i=new q6(r);return z6.set(e,i),n}};class K6 extends q0{constructor(e){super(e),F0.initialize(K6,G6);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=H6(this,e);T0(r,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||W0,n.height=e.height||U0):(n.width=W0,n.height=U0)}_onUpdated(){}_onRemoved(){var e=z6.get(this);e&&(e.dispose(),z6.delete(this))}getContext(e,t){if("2d"!==e)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var r=A0(this);if(!r)return console.error("Canvas getContext failed due to missing canvas instance"),null;if(this._ctx)return this._ctx;var n=HZ(f5,W6)(r.getContext("2d",t),this);return Object.defineProperty(this,"_ctx",{value:n}),n}get width(){return A0(this).width}set width(e){var t=A0(this);t&&(t.width=e)}get height(){return A0(this).height}set height(e){var t=A0(this);t&&(t.height=e)}createImage(){var e,t=m0(this);return Ie?e=new p.g.Image:ke&&(e=new(xf.SkiaImages||SkiaImage)),new s5(qZ(e),t)}createImageData(e,t,r){return e?(t=parseFloat(t),r=parseFloat(r),Ie?new p.g.ImageData(e,t,r):ke?new(xf.SkiaImageData||p.g.SkiaImageData)(e,t,r):void 0):null}static createPath2D(...e){var t=ke?xf.SkiaPath2D||p.g.SkiaPath2D:p.g.Path2D;return 0===e.length?new t:1===e.length?new t(...e):null}createPath2D(...e){return K6.createPath2D(...e)}requestAnimationFrame(e){return Ie?O6().requestAnimationFrame(e):ke?re.useSkiaCanvasRaf?(xf.SkiaCanvasRequestAnimationFrame||p.g.SkiaCanvasRequestAnimationFrame)(e):z6.get(this).requestAnimationFrame(e):void 0}cancelAnimationFrame(e){if(Ie)return O6().cancelAnimationFrame(e);ke&&(re.useSkiaCanvasRaf?(xf.SkiaCanvasCancelAnimationFrame||p.g.SkiaCanvasCancelAnimationFrame)(e):z6.get(this).cancelAnimationFrame(e))}toDataURL(e,t){var r=A0(this);return r?r.toDataURL(e,t):""}}var J6=()=>Ie;class X6 extends F0{loadFontFace(e){var t=O6().loadFont||p.g.loadFont;"function"==typeof t&&e.forEach((e=>{t(e.src,{family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})}))}}var Y6=(e,t)=>O6().createCanvas(t.canvasNumber),Q6=(e,t)=>{var r=t.canvasNumber;md("insertWebGLCanvas",{position:{top:-100,left:-100,width:1,height:1},canvasId:r,keepAlive:!0,fail:e=>{}}),e._registerId=r;var n=O6().createOffscreenCanvas(r,t.width,t.height);return e._innerId=n.__id,n};class Z6 extends q0{constructor(e){super(e),F0.initialize(Z6,X6);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=null===t?Q6(this,e):Y6(this,e);"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||W0,n.height=e.height||U0):(n.width=W0,n.height=U0),T0(r,this,n)}getContext(e,t){var r=m0(this),n="wgfx"===e&&r.isXrFrame;if(e!==r.type&&!n)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var i=A0(this);if(i)return!["webgl","webgl2"].includes(e)||null!=t&&t.alpha||Kr("WebGLSetOpaqueBackground",{canvasNumber:this.id}),HZ(f5)(i.getContext(e,t),this);console.error("Canvas getContext failed due to missing canvas instance")}_onUpdated(){}_onRemoved(){}get width(){return A0(this).width}set width(e){var t=A0(this);t&&(t.width=e)}get height(){return A0(this).height}set height(e){var t=A0(this);t&&(t.height=e)}createImage(){var e=m0(this),t=O6().createImage(this.isOffscreenCanvas?this._registerId:this.id);return new s5(qZ(t),e)}createImageData(...e){return new(O6().ImageData)(...e)}static createPath2D(...e){return new(O6().Path2D)(...e)}createPath2D(...e){return Z6.createPath2D(...e)}requestAnimationFrame(e){return O6().requestAnimationFrame(e)}cancelAnimationFrame(e){return O6().cancelAnimationFrame(e)}toDataURL(e,t){var r=A0(this);return r?r.toDataURL(e,t):""}}var e5=e=>()=>{setTimeout((()=>{e()}),0)},t5=new WeakMap,r5=new WeakMap,n5=new WeakMap,i5=e=>t5.get(e),a5=e=>r5.get(e),o5=e=>n5.get(e);class s5{constructor(e,t,r){var n={};t5.set(this,n),r5.set(this,e),n5.set(this,t),e.onload=e5((()=>{"function"==typeof this.__onload&&this.__onload.apply(this),n.load&&n.load.forEach((e=>{try{e.apply(this)}catch(e){}}))})),e.onerror=e5((()=>{"function"==typeof this.__onerror&&this.__onerror.apply(this),n.error&&n.error.forEach((e=>{try{e.apply(this)}catch(e){}}))}))}set src(e){/^(http|https):\/\//.test(e)&&(e=YZ(e));var t=o5(this);a5(this).src=UZ(e,t.nodeId,t.pluginId,t.webviewId)}set referrerPolicy(e){"string"==typeof e&&(a5(this).referrerPolicy=e)}set onload(e){Object.defineProperty(this,"__onload",{value:e,writable:!0,configurable:!0,enumerable:!1})}set onerror(e){Object.defineProperty(this,"__onerror",{value:e,writable:!0,configurable:!0,enumerable:!1})}get referrerPolicy(){return a5(this).referrerPolicy}get src(){return a5(this).src}get onload(){return this.__onload}get onerror(){return this.__onerror}get complete(){return a5(this).complete}get width(){return a5(this).width}get height(){return a5(this).height}addEventListener(e,t){var r=i5(this);(r[e]=r[e]||new Set).add(t)}removeEventListener(e,t){var r=i5(this);r[e]&&r[e].delete(t)}}var l5=new WeakMap,c5;function u5(e,t,r){var n;if(Ce)return E6(t);var i=e.id,a=null!==(n=t._videoId)&&void 0!==n?n:t._livePusherId;if(e instanceof K6){var o=l5.get(t)||{};return o[i]||(o[i]=new c5(i,a,r),l5.set(t,o)),o[i]}if(e instanceof j6||e instanceof Z6){var s;if(!l5.has(t))(s=e instanceof Z6?O6().ExternalTexture||p.g.ExternalTexture:xf.ExternalTexture||p.g.ExternalTexture)&&l5.set(t,new s(a,r));return l5.get(t)}return t}g.onLoad((()=>{c5=p.g.SkiaCanvasExternalTexture,delete p.g.SkiaCanvasExternalTexture}));var d5=new WeakSet;function p5(e,t){var r=a5(t),n=o5(t),i=m0(e);if(n.isSkiaCanvas!==i.isSkiaCanvas)throw new Error("Cannot mix images created by different types of Canvas.");return Te&&r._isWebStandard||t._isWebStandard?r._imageData:r}function h5(e,t,r){if(e[r]){var n=e[r].bind(e);e[r]=(...e)=>(e.forEach(((n,i)=>{if(n instanceof s5)e[i]=p5(t,n);else if(n instanceof C6){var a=n;if("number"!=typeof a._videoId)throw new Error(`Failed to execute '${r}' on 'CanvasRenderingContext': The provided video context is invalid, make sure that comes from 'createSelectQuery.context'.`);e[i]=u5(t,a,"video")}else if(n instanceof R2){var o=n;if("number"!=typeof o._livePusherId)throw new Error(`Failed to execute '${r}' on 'CanvasRenderingContext2D': The provided live-pusher context is invalid, make sure that comes from 'wx.createLivePusherContext'.`);e[i]=u5(t,o,"livepusher")}else if(n instanceof q0){var s=m0(n),l=m0(t);if(s.isSkiaCanvas!==l.isSkiaCanvas)throw new Error("Cannot mix different types of Canvas.");e[i]=A0(n)}})),n(...e))}}function f5(e,t){return!e||d5.has(e)||(d5.add(e),h5(e,t,"drawImage"),h5(e,t,"createPattern"),h5(e,t,"texImage2D"),h5(e,t,"texSubImage2D"),h5(e,t,"texImage3D"),h5(e,t,"texSubImage3D")),e}var g5={},v5={},m5={},y5=uu.currentWebviewId;Ce&&(en("canvasPageScroll",((e,t)=>{"function"==typeof window.scrollTo&&(document.body.scrollWidth===e.width&&document.body.scrollHeight===e.height||(document.body.style.width=e.width+"px",document.body.style.height=e.height+"px"),window.scrollTo(e.scrollLeft,e.scrollTop),v5[t]={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})})),RC((e=>{var t=e.webviewId;m5[t]||(XM(t,(()=>{delete v5[t],delete g5[t],delete m5[t]}),"DevtoolsCanvas"),m5[t]=!0);var r=e.webviewId;if(r!==y5)for(var[n,i]of Object.entries(g5))if(String(n)===String(r)){for(var a of i){var o=x0(a);o&&(o.style.visibility="visible")}var s=v5[n];s?window.scrollTo(s.scrollLeft,s.scrollTop):window.scrollTo(0,0)}else for(var l of i){var c=x0(l);c&&(c.style.visibility="hidden")}y5=r})));class b5 extends F0{loadFontFace(e){return xd()((function*(){var t=globalThis.FontFace;"function"==typeof t&&(yield Promise.all(e.map(function(){var e=xd()((function*(e){var r=new t(e.family,`url(${e.src})`,{style:e.style,weight:e.weight,variant:e.variant});yield r.load(),document.fonts.add(r)}));return function(t){return e.apply(this,arguments)}}())))}))()}}var _5=e=>{var t=document.createElement("canvas");return t.style.position="absolute",t.style.top=(e.top||0)+"px",t.style.left=(e.left||0)+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.visibility=e.webviewId===uu.currentWebviewId?"visible":"hidden",document.body.appendChild(t),t};class w5 extends q0{constructor(e){super(e),F0.initialize(w5,b5);var{webviewId:t,canvasNumber:r}=e;(this.id=e.canvasNumber,null!==t)?(g5[t]=g5[t]||[]).push(r):this.isOffscreenCanvas=!0;var n=_5(e);T0(r,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||W0,n.height=e.height||U0):(n.width=W0,n.height=U0)}_onUpdated(e){var t=A0(this);t.style.top=(e.top||0)+"px",t.style.left=(e.left||0)+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.display=e.width<=0||e.height<=0||e.hidden?"none":""}_onRemoved(){var{webviewId:e,canvasNumber:t}=m0(this);if(null!==e){var r=g5[e]=g5[e]||[];r.splice(r.indexOf(t),1)}var n=A0(this);document.body.removeChild(n)}getContext(e,t){return e!==m0(this).type?(console.error("Invalid context type ["+e+"] for Canvas#getContext"),null):HZ(f5)(A0(this).getContext(e,t),this)}createImage(){var e=m0(this);return window.__global.createCustomImage((t=>VZ(t,e.nodeId,e.pluginId,e.webviewId)),(e=>e.replace(/^\/__pageframe__\//,"")))}createImageData(e,t,r){if(!e)return null;t=parseFloat(t),r=parseFloat(r);for(var n=document.createElement("canvas").getContext("2d").createImageData(t,r),i=0;i<e.length;i++)n.data[i]=e[i];return n}static createPath2D(...e){return window.Path2D?new window.Path2D(...e):null}createPath2D(...e){return w5.createPath2D(...e)}requestAnimationFrame(e){return window.requestAnimationFrame(e)}cancelAnimationFrame(e){return window.cancelAnimationFrame(e)}get width(){return A0(this).width}set width(e){var t=A0(this);t&&(t.width=e)}get height(){return A0(this).height}set height(e){var t=A0(this);t&&(t.height=e)}toDataURL(e,t){var r=A0(this);return r?r.toDataURL(e,t):""}}var S5={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"},C5=["scale","rotate","translate","setTransform","transform"],k5=["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"],I5=["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"],P5={},A5={};function x5(e){return"number"==typeof e}function T5(e){var t=null;if(null!==(t=/^#([0-9|A-F|a-f]{6})$/.exec(e)))return[parseInt(t[1].slice(0,2),16),parseInt(t[1].slice(2,4),16),parseInt(t[1].slice(4),16),255];if(null!==(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){var r=t[1].slice(0,1),n=t[1].slice(1,2),i=t[1].slice(2,3);return[r=parseInt(r+r,16),n=parseInt(n+n,16),i=parseInt(i+i,16),255]}if(null!==(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map((e=>Math.min(255,parseInt(e.trim(),10)))).concat(255);if(null!==(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map(((e,t)=>3===t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim(),10))));var a=e.toLowerCase();if(Kd(S5,a)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(S5[a]);var o=parseInt(t[1].slice(0,2),16),s=parseInt(t[1].slice(2,4),16),l=parseInt(t[1].slice(4,6),16),c=parseInt(t[1].slice(6,8),16);return[o,s,l,c=c>=0?c:255]}return console.group("非法颜色: "+e),console.error("不支持颜色："+e),console.groupEnd(),[0,0,0,255]}function E5(e){if(Array.isArray(e)){var t=[];return e.forEach((e=>{t.push(E5(e))})),t}if("object"==typeof e){var r={};for(var n in e)r[n]=E5(e[n]);return r}return e}function M5(e,t){return Ce||Te||xe||/wxfile:\/\//.test(t)?t:WZ(t,e.nodeId,e.pluginId,e.webviewId)}class R5{constructor(e,t){this.type=e,this.data=t,this.colorStop=[]}addColorStop(e,t){Z5()?this.colorStop.push([e,t]):this.colorStop.push([e,T5(t)])}}class O5{constructor(e){this.width=e}}class D5{constructor(e,t){this.image=e,this.repetition=t}}class L5{constructor(e,t,r,n){if(this.actions=[],this.path=[],this.subpath=[],this.webviewId=e,this.canvasId=t,this.pluginId=n,this.useHardwareAccelerate=!0,this.nodeId=r,this._id=BZ(e,t,n,r),this.drawingState=P5[this._id]=P5[this._id]||[],this.state=A5[this._id]=A5[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:Z5()?"#000000":Ie?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},this._transform={a:1,b:0,c:0,d:1,e:0,f:0},Ce||Te){var i=Te?new xf.OffscreenCanvas(0,0):document.createElement("canvas");this._context=i.getContext("2d")}}getActions(){var e=E5(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}clearActions(){this.actions=[],this.path=[],this.subpath=[]}draw(e=!1,t){t&&"function"!=typeof t&&(console.warn("CanvasContext.draw callback is not a function, got "+typeof t),t=null);var r=this.canvasId,n=E5(this.actions),i=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?v4({isWidgetCanvas:!0,actions:n,reserve:e}):v4({canvasId:r,actions:n,reserve:e,useHardwareAccelerate:i,complete:x.surroundThirdByTryCatch(t,"at canvasContext.draw callback function")},this.webviewId,this.pluginId,this.nodeId)}createLinearGradient(e,t,r,n){return new R5("linear",[e,t,r,n])}createCircularGradient(e,t,r){return new R5("radial",[e,t,r])}createPattern(e,t){if(void 0!==t){if(-1!==["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t))return e=e instanceof s5?e.src:e instanceof U5?e._src:M5(this,e),new D5(e,t);console.error(`Failed to execute 'createPattern' on 'CanvasContext': The provided type ('${t}') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'.`)}else console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.")}measureText(e){var t;return Ce||Te?(this._context.font=this.state.font,t=this._context.measureText(e)):md("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete(e){t={width:e.width||0}}}),new O5(t.width||0)}save(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}restore(){this.actions.push({method:"restore",data:[]}),this.state=A5[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:Z5()?"#000000":Ie?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}getLineDash(){return this.state.lineDash}beginPath(){this.path=[],this.subpath=[],(Ce||Z5())&&this.path.push({method:"beginPath",data:[]})}moveTo(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}closePath(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}lineTo(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}quadraticCurveTo(e,t,r,n){this.path.push({method:"quadraticCurveTo",data:[e,t,r,n]}),this.subpath.push([r,n])}bezierCurveTo(e,t,r,n,i,a){this.path.push({method:"bezierCurveTo",data:[e,t,r,n,i,a]}),this.subpath.push([i,a])}arc(e,t,r,n,i,a=!1){if(!ke||Z5())return this.path.push({method:"arc",data:[e,t,r,n,i,a]}),void this.subpath.push([e,t]);var o=e+Math.cos(n)*r,s=t+Math.sin(n)*r;if(this.subpath.push([o,s]),a&&n-i>=2*Math.PI||!a&&i-n>=2*Math.PI)this.subpath.push([o,s]);else{var l=e+Math.cos(i)*r,c=t+Math.sin(i)*r;this.subpath.push([l,c])}this.path.push({method:"arc",data:[e,t,r,n,i,a]})}rect(e,t,r,n){this.path.push({method:"rect",data:[e,t,r,n]}),this.subpath=[[e,t]],ke&&!Z5()&&this.path.push({method:"closePath",data:[]})}arcTo(e,t,r,n,i,a){if((!ke||Z5())&&!a)return this.path.push({method:"arcTo",data:[e,t,r,n,i]}),void this.subpath.push([r,n]);var o=this.subpath[this.subpath.length-1],s=o[0],l=o[1];if(s===e&&l===t||e===r&&t===n||0===i)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(s===e&&s===r||l===t&&l===n)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);var c,u,d,p,h,f,{sqrt:g,acos:v,sin:m,tan:y,atan:b,PI:_}=Math,w=function(e){return e**2},S=s-e,C=l-t,k=r-e,I=n-t,P=v((S*k+C*I)/(g(w(S)+w(C))*g(w(k)+w(I))))/2,A=Math.round(i/m(P)*1e6)/1e6,x=Math.round(i/y(P)*1e6)/1e6;if(s-e==0)c=e,u=l-t>0?t+x:t-x;else if(l-t==0)c=s-e>0?e+x:e-x,u=t;else{var T=(l-t)/(s-e),E=l-T*s;u=T*(c=(g(w(S)+w(C))*x+S*e+C*t-E*C)/(S+T*C))+E}if(r-e==0)d=e,p=n-t>0?t+x:t-x;else if(n-t==0)d=r-e>0?e+x:e-x,p=t;else{var M=(n-t)/(r-e),R=n-M*r;p=M*(d=(g(w(k)+w(k))*x+k*e+I*t-R*I)/(k+M*I))+R}var O=(c+d)/2-e,D=(u+p)/2-t;if(0===D)h=e,f=D>0?t+A:t-A;else{var L=D/O,N=t-L*e;f=L*(h=(g(w(O)+w(D))*A+e*O+t*D-N*D)/(O+L*D))+N}h=Math.round(1e6*h)/1e6;var B=u-(f=Math.round(1e6*f)/1e6),$=c-h,j=_-2*P,F=b(B/$);0===B&&$<0&&(F=Math.PI);var W=(c-h)*(p-f)-(u-f)*(d-h);this.path.push({method:"arc",data:[h,f,i,F,W>0?F+j:F-j,W<0]}),this.subpath.push([d,p])}getTransform(){return this._transform}_setWidthTransformFactor(e){this.clearActions(),this.draw(!1),this._widthTransformFactor=e,this.setTransform(1,0,0,1,0,0)}_setHeightTransformFactor(e){this.clearActions(),this.draw(!1),this._heightTransformFactor=e,this.setTransform(1,0,0,1,0,0)}clip(){this.actions.push({method:"clip",data:E5(this.path)})}set lineDashOffset(e){if(Ce||Te||xe)this.actions.push({method:"setLineDashOffset",data:[e]});else{var t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}}set globalCompositeOperation(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}set shadowBlur(e){Ce||Te||xe?this.actions.push({method:"setShadowBlur",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e)}set shadowColor(e){var t;Ce||Te||xe?this.actions.push({method:"setShadowColor",data:[e]}):(t=Z5()?e:Ie&&0===this.state.shadowBlur?[]:T5(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t)}set shadowOffsetX(e){Ce||Te||xe?this.actions.push({method:"setShadowOffsetX",data:[e]}):(this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e)}set shadowOffsetY(e){Ce||Te||xe?this.actions.push({method:"setShadowOffsetY",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e)}set font(e){this.state.font=e;var t=e.match(/^(([\w-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(t){var r=t[1].trim().split(/\s/),n=parseFloat(t[3]),i=t[7],a=[],o="",s=this;if(r.forEach(((e,t)=>{["italic","oblique","normal"].indexOf(e)>-1?(a.push({method:"setFontStyle",data:[e]}),this.state.fontStyle=e):["bold","normal"].indexOf(e)>-1?(a.push({method:"setFontWeight",data:[e]}),this.state.fontWeight=e):0===t?(a.push({method:"setFontStyle",data:["normal"]}),s.state.fontStyle="normal"):1===t&&l()})),1===r.length&&l(),o=a.map((e=>e.data[0])).join(" "),this.state.fontSize=n,this.state.fontFamily=i,Ce||Te||xe)return o=`${o} ${n}px ${i}`,void this.actions.push({method:"setFont",data:[o]});this.actions.push.apply(this.actions,a),this.actions.push({method:"setFontSize",data:[n]},{method:"setFontFamily",data:[i]})}else console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");function l(){a.push({method:"setFontWeight",data:["normal"]}),s.state.fontWeight="normal"}}get font(){return this.state.font}set fillStyle(e){N5(this,"setFillStyle",e)}set strokeStyle(e){N5(this,"setStrokeStyle",e)}set globalAlpha(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}set textAlign(e){this.actions.push({method:"setTextAlign",data:[e]})}set lineCap(e){this.actions.push({method:"setLineCap",data:[e]})}set lineJoin(e){this.actions.push({method:"setLineJoin",data:[e]})}set lineWidth(e){this.actions.push({method:"setLineWidth",data:[e]})}set miterLimit(e){this.actions.push({method:"setMiterLimit",data:[e]})}set textBaseline(e){this.actions.push({method:"setTextBaseline",data:[e]})}}function N5(e,t,r){"string"==typeof r?Z5()?e.actions.push({method:t,data:["normal",r]}):e.actions.push({method:t,data:["normal",T5(r)]}):"object"==typeof r&&r instanceof R5?e.actions.push({method:t,data:[r.type,r.data,r.colorStop]}):r instanceof D5&&e.actions.push({method:t,data:["pattern",r.image,r.repetition]})}[].concat(C5,k5).forEach((e=>{L5.prototype[e]="fill"===e||"stroke"===e?function(){this.actions.push({method:e+"Path",data:E5(this.path)})}:"fillRect"===e?function(e,t,r,n){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,r,n]}]})}:"strokeRect"===e?function(e,t,r,n){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,r,n]}]})}:"fillText"===e||"strokeText"===e?function(t,r,n,i){var a=[t.toString(),r,n];"number"==typeof i&&a.push(i),this.actions.push({method:e,data:a})}:"drawImage"===e?function(t,r,n,i,a,o,s,l,c){var u;t=t instanceof U5?t._src:M5(this,t),void 0===c&&(o=r,s=n,l=i,c=a,r=void 0,n=void 0,i=void 0,a=void 0),u=x5(r)&&x5(n)&&x5(i)&&x5(a)?[t,o,s,l,c,r,n,i,a]:x5(l)&&x5(c)?[t,o,s,l,c]:[t,o,s],this.actions.push({method:e,data:u})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:"transform"===e?function(t,r,n,i,a,o){var{a:s,b:l,c:c,d:u,e:d,f:p}=this._transform;this._transform={a:t*s+r*c,b:t*l+r*u,c:n*s+i*c,d:n*l+i*u,e:a*s+o*c+d,f:a*l+o*u+p},this.actions.push({method:e,data:[t,r,n,i,a,o]})}:"setTransform"===e?function(t,r,n,i,a,o){this._transform={a:t,b:r,c:n,d:i,e:a,f:o};var s=1/(this._widthTransformFactor||1),l=1/(this._heightTransformFactor||1);this.actions.push({method:e,data:[t*s,r*l,n*s,i*l,a*s,o*l]})}:"scale"===e?function(t,r){var{a:n,b:i,c:a,d:o,e:s,f:l}=this._transform;this._transform={a:n*t,b:i*t,c:a*r,d:o*r,e:s,f:l},this.actions.push({method:e,data:[t,r]})}:function(){this.actions.push({method:e,data:[].slice.apply(arguments)})}})),I5.forEach((e=>{"setFillStyle"===e||"setStrokeStyle"===e?L5.prototype[e]=function(){N5(this,e,arguments[0])}:"setGlobalAlpha"===e?L5.prototype[e]=function(){var t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"===e?L5.prototype[e]=function(){var t=[].slice.apply(arguments,[0,4]);Z5()||(t[3]=Ie&&0===t[2]?[]:T5(t[3])),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"===e?L5.prototype[e]=function(){var t=[].slice.apply(arguments,[0,2]);t[0]=Ie?t[0]&&!t[0].every((e=>0===e))?t[0]:[]:t[0]&&t[0].length?t[0]:[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?L5.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,e+"px"),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:L5.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}}));class B5{constructor(e){this.actions=[],e instanceof B5&&this.actions.push(...e.actions)}addPath(e){e instanceof B5&&this.actions.push(...e.actions)}arc(...e){this.actions.push({method:"arc",args:e})}arcTo(...e){this.actions.push({method:"arcTo",args:e})}bezierCurveTo(...e){this.actions.push({method:"bezierCurveTo",args:e})}closePath(...e){this.actions.push({method:"closePath",args:e})}ellipse(...e){this.actions.push({method:"ellipse",args:e})}lineTo(...e){this.actions.push({method:"lineTo",args:e})}moveTo(...e){this.actions.push({method:"moveTo",args:e})}quadraticCurveTo(...e){this.actions.push({method:"quadraticCurveTo",args:e})}rect(...e){this.actions.push({method:"rect",args:e})}}function $5(e,t){e.beginPath(),t.actions.forEach((({method:t,args:r})=>{e[t](...r)}))}var j5=new WeakSet;function F5(e){if(!e||j5.has(e))return e;if(j5.add(e),e.fill){var t=e.fill.bind(e);e.fill=(...r)=>r[0]instanceof B5?($5(e,r[0]),t(...r.slice(1))):t(...r)}if(e.stroke){var r=e.stroke.bind(e);e.stroke=(...t)=>t[0]instanceof B5?($5(e,t[0]),r(...t.slice(1))):r(...t)}if(e.clip){var n=e.clip.bind(e);e.clip=(...t)=>t[0]instanceof B5?($5(e,t[0]),n(...t.slice(1))):n(...t)}return e}class W5{constructor(e,t,r,n){this._canvasNumber=e,this._context=t,this._w=r,this._h=n,this._originalWidth=r,this._originalHeight=n}getContext(){return this._context}set width(e){this._context._setWidthTransformFactor(e/this._originalWidth),this._w=e}get width(){return this._w}set height(e){this._context._setHeightTransformFactor(e/this._originalHeight),this._h=e}get height(){return this._h}}class U5{constructor(){this._src=null,this._referrerPolicy=""}setSrc(e){this._src=e,/^(http|https):\/\//.test(e)?SI({url:e,success:e=>{this._src=e.tempFilePath,"function"==typeof this.onload&&this.onload()},fail:this.onerror||(()=>{})}):(/^\s*data:image\//.test(e)||/wxfile:\/\//.test(e)||(this._src="/"+e),"function"==typeof this.onload&&this.onload())}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}class V5{sync(e){var t=()=>{e(),this.t=setTimeout(t,1e3/60)};this.t=setTimeout(t,1e3/60)}dispose(){clearInterval(this.t)}}var q5=Dz;class z5{constructor(e,t){this.id=0,this.context=e,this.canvasInstance=t,this.callbacks=new Map,this.vSync=new V5,this.vSync.sync((()=>{var e=new Map(this.callbacks);if(this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[q5.now()])})),this.context.actions.length>0){for(var t=!0,r=this.context.actions,n=0;n<r.length;n++)if("clearRect"===r[n].method){var[i,a,o,s]=r[n].data;t=i>0||a>0||o<this.canvasInstance.width||s<this.canvasInstance.height}this.context.draw(t)}}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}var G5=new WeakMap,H5=(e,t)=>{var r=new L5(t.webviewId,t.canvasId,t.nodeId,t.pluginId),n=new W5(t.canvasNumber,r,t.width,t.height),i=new z5(r,n);return G5.set(e,i),n};class K5 extends q0{constructor(e){super(e);var{canvasNumber:t}=e;this.id=e.canvasNumber;var r=H5(this,e);r.width=W0,r.height=U0,T0(t,this,r)}_onUpdated(){}_onRemoved(){G5.get(this).dispose(),G5.delete(this)}getContext(e){return"2d"!==e?(console.error("Invalid context type ["+e+"] for Canvas#getContext"),null):HZ(f5,F5)(A0(this).getContext(),this)}get width(){var e=A0(this);return e&&e.width}set width(e){A0(this).width=e}get height(){var e=A0(this);return e&&e.height}set height(e){A0(this).height=e}createImage(){var e=m0(this),t=new U5;return new s5(qZ(t),e)}createImageData(){return null}static createPath2D(...e){return new B5(...e)}createPath2D(...e){return K5.createPath2D(...e)}requestAnimationFrame(e){return G5.get(this).requestAnimationFrame(e)}cancelAnimationFrame(e){G5.get(this).cancelAnimationFrame(e)}toDataURL(e,t){return null}}var J5=e=>{var t={};return r=>t[r]=t[r]||new Promise((t=>{var n=e.createImage();n.onload=()=>t(n),n.src=r}))},X5=new WeakMap,Y5=e=>{if(!X5.has(e)){var t=[],r=J5(e),n=!1,i=function(){var a=xd()((function*(){if(!n&&t.length){n=!0;var a,[o,s,l,c]=t.shift(),u=e.getContext("2d");try{!1===s&&(u.fillStyle="#000000",u.strokeStyle="#000000",u.shadowColor="#000000",u.shadowBlur=0,u.shadowOffsetX=0,u.shadowOffsetY=0,u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,e.width,e.height));for(var d=function*(){var{method:t,data:n}=o[p];switch(t){case"setLineDash":u.setLineDash(n[0]),u.lineDashOffset=n[1]||0;break;case"setLineDashOffset":u.lineDashOffset=n[0];break;case"setLineCap":u.lineCap=n[0];break;case"setLineJoin":u.lineJoin=n[0];break;case"setLineWidth":u.lineWidth=n[0];break;case"setFillStyle":case"setStrokeStyle":var i=void 0;switch(n[0]){case"normal":i=n[1];break;case"linear":i=u.createLinearGradient(...n[1]),n[2].forEach((e=>{var t=e[0],r=e[1];i.addColorStop(t,r)}));break;case"radial":var a=n[1][0],s=n[1][1],l=[a,s,0,a,s,n[1][2]];i=u.createRadialGradient(...l),n[2].forEach((e=>{var t=e[0],r=e[1];i.addColorStop(t,r)}));break;case"pattern":var c=yield r(n[1]);i=u.createPattern(c,n[2])}u[t[3].toLowerCase()+t.slice(4)]=i;break;case"setGlobalAlpha":u.globalAlpha=n[0]/255;break;case"setGlobalCompositeOperation":u.globalCompositeOperation=n[0];break;case"setShadow":u.shadowOffsetX=n[0],u.shadowOffsetY=n[1],u.shadowBlur=n[2],u.shadowColor=n[3];break;case"setShadowOffsetX":u.shadowOffsetX=n[0];break;case"setShadowOffsetY":u.shadowOffsetY=n[0];break;case"setShadowBlur":u.shadowBlur=n[0];break;case"setShadowColor":u.shadowColor=n[0];break;case"setFont":u.font=n[0];break;case"setFontSize":u.font=u.font.replace(/\d+\.?\d*px/,n[0]+"px");break;case"setFontStyle":u.fontStyle=n[0];break;case"setFontWeight":u.fontWeight=n[0];break;case"setFontFamily":u.fontFamily=n[0];break;case"setTextBaseline":u.textBaseline="normal"===n[0]?"alphabetic":n[0];break;case"setTextAlign":u.textAlign=n[0];break;case"setMiterLimit":u.miterLimit=n[0];break;case"save":u.save(...n);break;case"restore":u.restore(...n);break;case"lineTo":u.lineTo(...n);break;case"clip":n.forEach((e=>{u[e.method](...e.data)})),u.clip();break;case"scale":u.scale(...n);break;case"rotate":var d=n;n&&n.map&&(d=n.map((e=>"string"==typeof e?parseFloat(e):e))),u.rotate(...d);break;case"translate":u.translate(...n);break;case"transform":u.transform(...n);break;case"setTransform":u.setTransform(...n);break;case"fill":u.fill(...n);break;case"fillText":var[h,...f]=n;f&&f.map&&(f=f.map((e=>"string"==typeof e?parseFloat(e):e))),u.fillText(h,...f);break;case"fillRect":u.fillRect(...n);break;case"fillPath":u.beginPath(),n.forEach((e=>{u[e.method](...e.data)})),u.fill();break;case"stroke":u.stroke(...n);break;case"strokeText":var[g,...v]=n;v&&v.map&&(v=v.map((e=>"string"==typeof e?parseFloat(e):e))),u.strokeText(g,...v);break;case"strokeRect":u.strokeRect(...n);break;case"strokePath":u.beginPath(),n.forEach((e=>{u[e.method](...e.data)})),u.stroke();break;case"clearRect":u.clearRect(...n);break;case"drawImage":var[m,...y]=n;y&&y.map&&(y=y.map((e=>"string"==typeof e?parseFloat(e):e)));var b=yield r(m);u.drawImage.apply(u,[b,...y.slice(4,8),...y.slice(0,4)]);break;case"setWidth":var[_]=n;e.width=_;break;case"setHeight":var[w]=n;e.height=w;break;default:throw new Error(`unknown method "${t}" in actions.`)}},p=0;p<o.length;p++)yield*d()}catch(e){(a=e).message}a?c(a):l(),n=!1,i()}}));return function(){return a.apply(this,arguments)}}();X5.set(e,((e,r=!1)=>e?new Promise(((n,a)=>{t.push([e,r,n,a]),i()})):Promise.resolve()))}return X5.get(e)},Q5=function(){var e=xd()((function*(e,t,r){return Y5(e)(t,r)}));return function(t,r,n){return e.apply(this,arguments)}}(),Z5=NZ((()=>{var e=ke&&re.useXWebCanvas,t=Ie&&re.useSkiaCanvas;return e||t})),e4=0,t4=0,r4=4500,n4=Date.now;function i4(e){return a4.apply(this,arguments)}function a4(){return a4=xd()((function*(e,t="",r=""){var n=Number(e.x)||0,i=Number(e.y)||0,a=Number(e.width)||0,o=Number(e.height)||0;if(0===a)throw new Error("the source width is 0");if(0===o)throw new Error("the source height is 0");if(Z5()){var s=yield w0(uu.currentWebviewId,e.canvasId,r,t),l=(yield Y4(s,"2d")).getContext("2d").getImageData({x:n,y:i,width:a,height:o});return{width:l.width,height:l.height,data:l.data}}var c=_0(uu.currentWebviewId,e.canvasId,r,t);if("number"!=typeof c)throw new Error("fail canvas is empty");if(Ce||Te||xe){var u=yield D0(c,"getImageData",{x:n,y:i,width:a,height:o});return{height:u.height,width:u.width,data:Te?new Uint8ClampedArray(u.data):FZ(u.data)}}var d=yield yd("canvasGetImageData",{canvasId:c,jsInvokedAt:Date.now(),x:n,y:i,width:a,height:o});if("[object ArrayBuffer]"!==Object.prototype.toString.call(d.data))throw delete d.data,new Qc("",d);return{height:o,width:a,data:new Uint8ClampedArray(d.data)}})),a4.apply(this,arguments)}"undefined"!=typeof __widgetConfig__&&(r4="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25);var o4=eu("canvasGetImageData",i4);function s4(e,t){var r=Ap(t,uu.currentWebviewId);o4(e,r)}function l4(e,t,r){o4(e,r,t)}function c4(e){return u4.apply(this,arguments)}function u4(){return u4=xd()((function*(e,t="",r=""){if("number"!=typeof e.width)throw new Error("invalid width argument");if(!e.data||"[object Uint8ClampedArray]"!==Object.prototype.toString.call(e.data))throw new Error("data argument must be an Uint8ClampedArray");var n=Number(e.x)||0,i=Number(e.y)||0,a=e.data,o=e.width,s="number"==typeof e.height?e.height:a.length/o/4|0;if(o*s*4!==a.length)throw new Error("invalid data format");if(Z5()){var l=yield w0(uu.currentWebviewId,e.canvasId,r,t),c=yield Y4(l,"2d"),u=c.createImageData(a,o,s);c.getContext("2d").putImageData(u,n,i)}else{var d=_0(uu.currentWebviewId,e.canvasId,r,t);if("number"!=typeof d)throw new Error("fail canvas is empty");(Ce||Te||xe)&&(yield D0(d,"putImageData",{x:n,y:i,width:o,height:s,data:Te||xe?C.new(a.buffer).id:jZ(a)})),yield yd("canvasPutImageData",{canvasId:d,jsInvokedAt:Date.now(),x:n,y:i,width:o,height:s,data:a.buffer})}})),u4.apply(this,arguments)}var d4=eu("canvasPutImageData",c4);function p4(e,t){var r=Ap(t,uu.currentWebviewId);d4(e,r)}function h4(e,t,r){d4(e,r,t)}function f4(e){return g4.apply(this,arguments)}function g4(){return(g4=xd()((function*({isWidgetCanvas:e,canvasId:t,actions:r,reserve:n,useHardwareAccelerate:i},a=uu.currentWebviewId,o="",s=""){var l=n4();if(Array.isArray(r)){if(e){if(l-e4<r4){var c="调用 draw 过于频繁。";throw(t4+=1)>500&&(t4=0,console.warn(c)),new Error(c)}return e4=l,yield yd("drawCanvas",{canvasId:void 0,reserve:n,actions:r})}var u=_0(a,t,o,s);if(u||(u=yield w0(a,t,o,s)),Z5()){var d=yield Y4(u,"2d");return yield Q5(d,r,n)}return Ce||Te||xe?yield B0(u,r,n):yield yd("drawCanvas",{canvasId:u,reserve:n,useHardwareAccelerate:i,actions:r})}}))).apply(this,arguments)}var v4=eu("drawCanvas",f4);function m4(e){v4(e)}function y4(e,t,r){v4(e,uu.currentWebviewId,t,r)}var b4=null,_4=!0,w4=(e,t,r,n)=>{r*=t,n*=t,e.x=e.x?e.x*t:0,e.y=e.y?e.y*t:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width*t):r-e.x,e.height=e.height?Math.min(n-e.y,e.height*t):n-e.y,_4?(e.destWidth=e.destWidth?e.destWidth/t:e.width/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t):(e.destWidth=e.destWidth?e.destWidth/t:e.width/t/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t/t)},S4=(e,t,r,n)=>{e.x=e.x?e.x:0,e.y=e.y?e.y:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width):r-e.x,e.height=e.height?Math.min(n-e.y,e.height):n-e.y,_4?(e.destWidth=e.destWidth?e.destWidth:e.width*t,e.destHeight=e.destHeight?e.destHeight:e.height*t):(e.destWidth=e.destWidth?e.destWidth:e.width,e.destHeight=e.destHeight?e.destHeight:e.height)},C4=function(){var e=xd()((function*(e,t){var r=zd({},t),n=300,i=150,a=v0(t.canvasNumber);return a&&(n=a.width,i=a.height),!Ie||"6.5.10"!==e.version&&"6.5.11"!==e.version&&"6.5.12"!==e.version?S4(r,e.pixelRatio,n,i):w4(r,e.pixelRatio,n,i),yield yd("canvasToTempFilePath",{...r,canvasId:t.canvasNumber})}));return function(t,r){return e.apply(this,arguments)}}();function k4(e,t){return I4.apply(this,arguments)}function I4(){return I4=xd()((function*(e,t){var r=m0(e),n=null!=r&&r.width?e.width/r.width:b4.pixelRatio;if(t.x=Number(t.x)||0,t.y=Number(t.y)||0,e instanceof Z6||e instanceof j6){if(t.width*=n,t.height*=n,t.x=t.x?t.x*n:0,t.y=t.y?t.y*n:0,t.width=Number(t.width)||e.width-t.x,t.height=Number(t.height)||e.height-t.y,t.destWidth=t.destWidth||t.width,t.destHeight=t.destHeight||t.height,t.x+t.width>e.width&&(t.width=e.width-t.x),t.y+t.height>e.height&&(t.height=e.height-t.y),0===t.width)throw new Error("width is 0");if(0===t.height)throw new Error("height is 0");var i=e.getContext("2d").getImageData(t.x,t.y,t.width,t.height);return yield yd("canvasToTempFilePath",{...t,x:0,y:0,data:i.data.buffer,needScaleData:!0})}if(e instanceof K6)return t.canvasId=e.id,S4(t,n,e.width/n,e.height/n),yield new Promise((e=>setTimeout(e,100))),yield yd("canvasToTempFilePath",t);if(e instanceof w5){t.width*=n,t.height*=n,t.x=t.x?t.x*n:0,t.y=t.y?t.y*n:0,t.width=Number(t.width)||e.width-t.x,t.height=Number(t.height)||e.height-t.y,t.destWidth=t.destWidth||t.width,t.destHeight=t.destHeight||t.height,t.x+t.width>e.width&&(t.width=e.width-t.x),t.y+t.height>e.height&&(t.height=e.height-t.y);var a=document.createElement("canvas"),o=a.getContext("2d");a.width=t.destWidth,a.height=t.destHeight,o.drawImage(A0(e),t.x,t.y,t.width,t.height,0,0,t.destWidth,t.destHeight);var s=a.toDataURL({png:"image/png",jpg:"image/jpeg"}[t.fileType],t.quality);return s=s.replace(/^data:image\/(jpg|png|jpeg);base64,/,""),yield yd("base64ToTempFilePath",{base64Data:s,...t})}e instanceof K5&&(yield new Promise((t=>{e.requestAnimationFrame((()=>{e.requestAnimationFrame(t)}))})));var{canvasNumber:l}=m0(e),{dataUrl:c}=yield D0(l,"toDataURL",t);return yield yd("base64ToTempFilePath",{base64Data:c,...t})})),I4.apply(this,arguments)}function P4(e){return A4.apply(this,arguments)}function A4(){return(A4=xd()((function*(e){if(Ce||Te||xe){var{dataUrl:t}=yield D0(e.canvasNumber,"toDataURL",e);return yield yd("base64ToTempFilePath",{base64Data:t,...e})}if(Z5()&&ke){var r=yield Y4(e.canvasNumber,"2d");if(e.x=Number(e.x)||0,e.y=Number(e.y)||0,e.width=Number(e.width)||r.width-e.x,e.height=Number(e.height)||r.height-e.y,0===e.width)throw new Error("width is 0");if(0===e.height)throw new Error("height is 0");var n=r.getContext("2d").getImageData(e.x,e.y,e.width,e.height);return yield yd("canvasToTempFilePath",{...e,data:n.data.buffer})}return b4||(b4=JS()),C4(b4,e)}))).apply(this,arguments)}function x4(e){return T4.apply(this,arguments)}function T4(){return T4=xd()((function*(e){if(e.fileType=["jpg","png"].indexOf(e.fileType)>-1?e.fileType:"png",e.quality="jpg"===e.fileType?e.quality<0||e.quality>1?1:e.quality:1,e.jpgQuality=e.quality,e.canvas){var t=e.canvas;return delete e.canvas,k4(t,e)}return P4(e)})),T4.apply(this,arguments)}function E4(e){return M4.apply(this,arguments)}function M4(){return(M4=xd()((function*(e,t="",r=""){if(!e.canvasId&&!e.canvas)throw new Error("should pass canvasId or canvas");if(e.canvas)return b4||(b4=JS()),x4(e);var n=_0(uu.currentWebviewId,e.canvasId,r,t);if("number"!=typeof n)throw new Error("fail canvas is empty");return x4({...e,canvasNumber:n})}))).apply(this,arguments)}var R4=eu("canvasToTempFilePath",E4);function O4(e,t){var r=Ap(t,uu.currentWebviewId);R4(e,r)}function D4(e,t,r){R4(e,r,t)}class L4{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var N4=Dz;class B4{constructor(){this.id=0,this.callbacks=new Map,this.vSync=new L4,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[N4.now()])}))}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}class $4{constructor(){this._src=null,this._referrerPolicy="",this._imageData="",this._isWebStandard=!0}setSrc(e){var t=this;return xd()((function*(){try{var r;if(t._src=e,/^(http|https):\/\//.test(e)){var n=yield xf.fetchAsBlob(t._src,{referrerPolicy:t._referrerPolicy});r=yield globalThis.createImageBitmap(n)}else if(/^data:image\/(jpg|png|jpeg);base64,/.test(e)){for(var i=/^data:image\/(jpg|png|jpeg);base64,(.*)$/.exec(e),a=(i[1],atob(i[2])),o=[],s=0;s<a.length;++s)o[s]=a.charCodeAt(s);var l=new Uint8Array(o),c=new xf.Blob([l]);r=yield globalThis.createImageBitmap(c)}else{var u=new xf.Blob([$f(e)]);r=yield globalThis.createImageBitmap(u)}t._imageData=r,t.width=r.width,t.height=r.height,"function"==typeof t.onload&&t.onload()}catch(e){console.error("image load error",e),"function"==typeof t.onerror&&t.onerror(e)}}))()}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}var j4=new WeakMap,F4=(e,t)=>{var r=new B4;return j4.set(e,r),null!==t.webviewId?xf.getOffScreenCanvas(t.canvasNumber):new xf.OffscreenCanvas(t.width,t.height)};class W4 extends q0{constructor(e){super(e);var{canvasNumber:t,webviewId:r}=e;this.id=t,null===r&&(this.isOffscreenCanvas=!0);var n=F4(this,e);T0(t,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||W0,n.height=e.height||U0):(n.width=W0,n.height=U0)}_onUpdated(){}_onRemoved(){j4.get(this).dispose(),j4.delete(this)}requestAnimationFrame(e){return xf.requestAnimationFrame(e)}cancelAnimationFrame(e){return xf.requestAnimationFrame(e)}getContext(e,t){if(e!==m0(this).type)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var r=A0(this).getContext(e,t);return r?HZ(f5)(r,this):null}get width(){return A0(this).width}set width(e){var t=A0(this);t&&(t.width=e)}get height(){return A0(this).height}set height(e){var t=A0(this);t&&(t.height=e)}createImage(){var e=m0(this),t=new $4;return new s5(qZ(t),e)}createImageData(...e){return new xf.ImageData(...e)}static createPath2D(...e){return new xf.Path2D(...e)}createPath2D(...e){return new xf.Path2D(...e)}toDataURL(e,t){var r=A0(this),n=xf.createCanvasElement();return n.width=r.width,n.height=r.height,n.getContext("2d").drawImage(r,0,0),n.toDataURL(e,t)}}var U4={},V4=()=>{for(;;){var e=Math.floor(32767*Math.random());if(!U4[e])return U4[e]=!0,e}};function q4(e,t,r,n,i,a){var o={type:r,canvasId:"",width:e,height:t,canvasNumber:-1*V4(),nodeId:n,pluginId:i,webviewId:null,lastTouches:[],data:{},compPath:"",isBindingCanvas:!0,isSkiaCanvas:!1,isEjectaCanvas:!1,isMagicBrushCanvas:!1};try{if("2d"===r&&KZ())return new K5(o);if(Ie||ke)return L6()?(o.isMagicBrushCanvas=!0,new j6(o)):(a||"2d"!==r)&&J6()?(o.isEjectaCanvas=!0,new Z6(o)):(o.isSkiaCanvas=!0,new K6(o));if(Te)return new W4(o);if(Ce)return window&&"function"==typeof window.scrollTo?new w5(o):(console.warn("开发工具暂不支持获取 Canvas 节点"),null)}catch(e){e.message}return null}var z4=1,G4=1;function H4(e=z4,t=G4,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},{type:i,width:a,height:o,compInst:s,pluginId:l,_forLivePusher:c=!1}={type:"webgl",width:z4,height:G4,compInst:null,pluginId:"",...n},u=Ap(s,uu.currentWebviewId,!1)||"";switch(i){case"2d":case"webgl":case"webgl2":return q4(a,o,i,u,l,c);default:throw new Error(`unknown type "${i}"`)}}function K4(e){return Ie||ke?e.isMagicBrushCanvas?new j6(e):e.isEjectaCanvas?new Z6(e):e.isSkiaCanvas?new K6(e):new K5(e):Ce?window&&"function"==typeof window.scrollTo?new w5(e):(console.warn("开发工具暂不支持获取 Canvas 节点"),null):Te?new W4(e):new K5(e)}var J4=function(){var e=xd()((function*(){for(;ke&&!xf.findElementById;)yield new Promise((e=>setTimeout(e,100)))}));return function(){return e.apply(this,arguments)}}();function X4(){if(!(this instanceof X4))throw new TypeError("Cannot call Path2D as a function");return console.warn("`new Path2D()` should not be used, please use `canvas.createPath2D()`."),Ie||ke?KZ()?K5.createPath2D():L6()?j6.createPath2D():K6.createPath2D():Ce?w5.createPath2D():Te?W4.createPath2D():K5.createPath2D()}function Y4(e,t){return Q4.apply(this,arguments)}function Q4(){return Q4=xd()((function*(e,t){if(!t)return null;try{var r=yield b0(e);if(!r.isBindingCanvas)return null;r.isMagicBrushCanvas&&(yield J4());var n=I0(e);n||(n=K4(r)),yield F0.ready();try{f7(e,t,n)}catch{}return n}catch(e){e.stack,T.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at getOrCreateCanvasInterface"})}return null})),Q4.apply(this,arguments)}var Z4=()=>new L5,e7=(e,t,r="",n="")=>new L5(e,t,r,n),t7=(e,t)=>{var r=Ap(t,uu.currentWebviewId);return e7(uu.currentWebviewId,e,r)},r7=(e,t,r)=>e7(uu.currentWebviewId,e,r,t),n7=200,i7=100,a7=!1,o7=new Map,s7=new Map,l7=new Set,c7,u7=e=>{a7||(a7=!0,p7(e))},d7=()=>{a7&&(a7=!1,clearTimeout(c7))},p7=e=>{if(l7.size){var t=Array.from(l7);for(var r of t)h7(r),l7.delete(r);l7.clear()}c7=setTimeout((()=>p7(e)),null!=e?e:i7)},h7=e=>{var t=o7.get(e),r=I8();O4({x:0,y:0,width:t.width,height:t.height,destWidth:t.width>n7?n7:t.width,destHeight:t.height>n7?n7:t.height,canvas:t,fileType:"png",quality:1,success(n){_S().readFile({filePath:n.tempFilePath,success(n){try{WC("canvasCollect",{data:wL(new Uint8Array(n.data),!0),nodeId:s7.get(e).nodeId,height:t.height,width:t.width,timestamp:r},[s7.get(e).webviewId])}catch(e){kL(SL.AppserviceCollect,e,"addEvents")}},fail(e){kL(SL.AppserviceCollect,e,"fm.readFile")}})},fail(e){kL(SL.AppserviceCollect,e,"canvasToTempFilePath")}})},f7=(e,t,r)=>{if("2d"===t&&a8.recorderConfigs.enabledFeatures.canvas){if(o7.has(e))return;o7.set(e,r),M0((e=>{o7.delete(e)})),s7.has(e)&&v7(e)}},g7=e=>{e.canvasNumber,a7&&(s7.set(e.canvasNumber,{webviewId:e.webviewId,nodeId:e.nodeId}),o7.has(e.canvasNumber)&&v7(e.canvasNumber))};function v7(e){var t=o7.get(e);if(t){var r=t.getContext("2d");if(r){var n=Object.getOwnPropertyDescriptors(r.__proto__),i=function(){if("function"==typeof o.value&&"constructor"!==a){var t=o.value;o.value=function(...r){return l7.add(e),r=r.map((e=>e instanceof s5?a5(e):e)),t.apply(this,r)},Object.defineProperty(r,a,o)}};for(var[a,o]of Object.entries(n))i()}}}var m7=!1,y7=null,b7=e=>eu("openBusinessView",function(){var t=xd()((function*(t){if(m7)throw new Error("another navigation is in progress");m7=!0,t.timeout&&(y7=setTimeout((()=>m7=!1),t.timeout));try{if(qc(t,{businessType:""}),e&&!Cf("openBusinessView"))throw new Error("no permission");var r=Object.assign({},t);return e&&(delete r.sourcetype,delete r.preScene,delete r.preSceneNote,delete r.agentId,delete r.privateExtraData,delete r.scene,delete r.sceneNote),yield yd("openBusinessView",r)}finally{m7=!1,y7&&clearTimeout(y7)}}));return function(e){return t.apply(this,arguments)}}()),_7=b7(!0),w7=b7(!1),S7="openMedicalInsuranceService",C7=e=>{var t;if(!Cf(S7))return zc(S7,e,"no permission");w7({businessType:S7,privateExtraData:{appId:e.appId,path:e.path,envVersion:e.envVersion},extraData:null!==(t=e.extraData)&&void 0!==t?t:{},timeout:3e3})},k7={},I7=uu.webViewComponentInfo={},P7=!1,A7=["mp.weixin.qq.com","open.weixin.qq.com","sz.open.weixin.qq.com","hk.open.weixin.qq.com","game.weixin.qq.com","view.inews.qq.com"],x7=null,T7=!1,E7=[];function M7(e,t=!1){if(!e)return e;try{var r=(0,qb.Qc)(e,!0),n=r.host,i=r.hostname,a=r.query||{},o=!!a.pass_ticket||!!a.exportkey;if(("qq.com"===i||i.indexOf(".qq.com")>=0)&&a.uin&&a.key&&(o=!0),o&&(y.info("[wx-web-view] need to report url",e),T.reportKeyValue({key:"MiniprogramWebviewExportUrl",value:[encodeURIComponent(e),encodeURIComponent(O.getCurrentRoutePath())].join(","),immediately:!0})),A7.indexOf(i)>=0){y.info("[wx-web-view] need to intercept",e,P7);var s=P7?{pass_ticket:!0,exportkey:!0}:{},l=Object.keys(a).filter((e=>"uin"!==e&&"key"!==e&&!s[e])).map((e=>`${e}=${a[e]}`)).join("&");l=l?`?${l}`:"",e=`${r.protocol?`${r.protocol}//`:""}${n||""}${r.pathname||""}${l}${r.hash||""}`}t||Cf("returnWebviewUrlNotInBizDomainList")||(x7?T7||x7.filter((e=>i===e||new RegExp(`.${e}$`).test(i))).length||("mp.weixin.qq.com"!==n||"/s"!==r.pathname&&0!==r.pathname.indexOf("/s/"))&&(e=""):(e="",T.reportIDKey({key:"webviewBizDomainSkipReturn"})))}catch(e){y.info("[wx-web-view] parse url error",e.message)}return e}function R7(){return O7.apply(this,arguments)}function O7(){return(O7=xd()((function*(){if(x7)return Promise.resolve();var e=new Promise((e=>setTimeout(e,3e3)));return Promise.race([new Promise((e=>{TE({apiName:"webapi_getwxanetwork",reqData:{},success:e,fail:e})})),e]).then((e=>{if(e&&e.data){var t=e.data.BizDomain||[];x7=t.map((e=>(0,qb.Qc)(e).host))}else T7=!0,x7=[],T.reportIDKey({key:"webviewBizDomainFetch_fail"})}))}))).apply(this,arguments)}function D7(e,t,r){var n=I7[e];n&&n[`bind${t}`]&&uu.webviewEventCallback&&uu.webviewEventCallback({data:{type:t,target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimestamp,detail:r},eventName:n[`bind${t}`],webviewId:e,nodeId:n.nodeId})}function L7(e){var t=k7[e];t&&t.length&&D7(e,"message",{data:t})}re.onReady(xd()((function*(){var e,t,r=((null===(e=(yield Qk()).data)||void 0===e||null===(t=e.opinfo_async)||void 0===t?void 0:t.ctrl_flags)||[]).find((e=>"webview_src_filter"===e.k));P7=r&&"1"===r.v}))),en("getWebviewBizDomainList",function(){var e=xd()((function*(e,t){var r=!Cf("returnWebviewUrlNotInBizDomainList");E7.push(t),R7().then((()=>{E7.length&&Kr("returnWebviewBizDomainList",{bizDomainList:x7,needCheckBizDomain:r,isFetchBizDomainListError:T7},E7),E7.length=0}))}));return function(t,r){return e.apply(this,arguments)}}()),en("webviewSrcChange",(e=>{var{newVal:t}=e;void 0!==O&&O.traceEvent("onH5Open",!1,{id:t},null,null,null)})),en("webviewInnerUrlChange",(e=>{e&&(e.src&&wF({path:e.src,htmlId:e.htmlId}),CF({htmlId:e.htmlId,src:e.src}))})),en("webViewInserted",((e,t)=>{I7[t]=e,k7[t]=[],O.setRouteHasWebview(O.getCurrentRawRoutePath(),e),XM(t,(e=>{L7(e),delete I7[e],delete k7[e]}),"onWebInvokeAppService"),QM(t,L7),eR(t,L7),md("hideShareTimelineMenu")})),en("webViewRemoved",((e,t)=>{L7(t),delete I7[t],delete k7[t],br.showShareTimelineMenuIfNeeded(t)}));var N7=new Map,B7=(e,t)=>N7.set(e,t),$7=e=>N7.delete(e);function j7({name:e,arg:t},r){e.startsWith("vConsole")||console.log("invokeAppService",e,t,r),!ke||Te||xe||(r=uu.currentWebviewId),"navigateBack"===e?EM({delta:t.delta}):"navigateTo"===e?BM({url:t.url}):"redirectTo"===e?jM({url:t.url}):"reLaunch"===e?FM({url:t.url}):"switchTab"===e?WM({url:t.url}):"error"===e?D7(r,"error",{errMsg:"web-view load failed due to not in domain list",url:M7(t.url,!0),fullUrl:M7(t.fullUrl||"",!0)}):"postMessage"===e?k7[r]&&k7[r].push(t):N7.has(e)&&N7.get(e)(t,r)}qt("onWebInvokeAppService",j7),qt("WEB_INVOKE_APPSERVICE",j7),B7(S7,C7);var F7="wxobs:h5UUIDReport";function W7(){V7()}function U7(){q7()}function V7(){B7(F7,(({uuid:e,projectId:t},r)=>{o8({type:KO.ReportH5SessionId,timestamp:I8(),webviewId:r,data:{h5SessionId:e,projectId:t}})}))}function q7(){$7(F7)}var z7={},G7={},H7=1e3,K7=5e3,J7;function X7(){n8("[wxobs] Setup heartbeat monitoring"),i8.enabledFeatures.reporterScheduler&&(Q7(),Xr("wxobs:heartbeat",(e=>{e8(String(e.data.webviewId))})))}function Y7(){n8("[wxobs] Teardown heartbeat monitoring"),i8.enabledFeatures.reporterScheduler&&(z7={},G7={},clearTimeout(J7))}function Q7(){for(var e of Object.keys(z7))"removed"!==z7[e]&&i8.recordingWebviewIds.indexOf(Number(e))<0&&(n8(`[wxobs] Webview removed from monitoring: ${e}`),z7[e]="removed",Number(e)===i8.reporter&&n8(`[wxobs] Reporter removed from monitoring: ${e}`));for(var t of(n8("[wxobs] Checking heartbeat for all webviews"),i8.recordingWebviewIds))void 0===t||z7[t]?"normal"===z7[t]&&Z7(String(t))&&(n8(`[wxobs] Heartbeat timeout for webview: ${t}`),z7[t]="abnormal",c$(mD.WebviewHeartBeatTimeout),t===i8.reporter&&(n8(`[wxobs] Reporter heartbeat abnormal: ${t}`),c$(mD.ReporterHeartBeatTimeout))):(n8(`[wxobs] New webview detected: ${t}`),z7[t]="unknown");void 0!==i8.reporter&&"normal"===z7[i8.reporter]||(n8("[wxobs] Reporter heartbeat abnormal: "+i8.reporter),t8()),J7=setTimeout(Q7,H7),n8(Object.keys(z7).map((e=>`${e}: ${z7[e]}`))),n8("reporter:",i8.reporter)}function Z7(e){return I8()-G7[e]>K7}function e8(e){z7[e]="normal",G7[e]=I8()}function t8(){var e;for(var t of(n8("[wxobs] Electing new reporter"),Object.keys(z7)))if("normal"===z7[t]){e=t;break}e&&(i8.reporter=Number(e),r8(),n8(`[wxobs] New reporter elected: ${e}`))}function r8(){n8(`[wxobs] Publishing reporter change: ${i8.reporter}`),fr("wxobs:reporterChange",{data:{newReporter:i8.reporter}})}function n8(...e){}var i8={recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",reportInterval:5e3,serverClientTimeDiff:0,weSessionId:null},a8={events:[],pending:!1,recorderConfigs:i8,recording:!1,pendingRecordingPages:[],isFullySetup:!1},o8=e=>{var t,r;a8.recording&&(e.weSessionId=null!==(t=a8.recorderConfigs.weSessionId)&&void 0!==t?t:"",e.networktype=null!==(r=a8.recorderConfigs.networkStatus)&&void 0!==r?r:"",e.sessionLifeTimeMeta=a8.recorderConfigs.wesessionMeta,a8.events.push(e),e.data.wxobs_sdk_primary_uid&&IN(e.data.wxobs_sdk_primary_uid),c$(mD.AppserviceEvent))},s8=e=>{try{if(a8.recording)return!1;if(i8.coslessMode){if(!i8.enabledFeatures.coslessMode)return!1;c$(mD.CoslessMode)}Object.assign(i8,e),C8(i8),d8(),PG(),_H(),RZ(),fB(),W7(),i8.enabledFeatures.console&&nH()}catch(e){return kL(SL.AppserviceStart,e),!1}return!0},l8=e=>{try{if(a8.isFullySetup)return!1;if("string"!=typeof e.projectId||""===e.projectId)return!1;if(Object.assign(i8,e),i8.coslessMode){if(!i8.enabledFeatures.coslessMode)return!1;c$(mD.CoslessMode)}return e.serverClientTimeDiff&&k8(e.serverClientTimeDiff),IB(),X7(),e.canvas&&u7(e.canvasCollectInterval),_N().then((e=>{WC("syncPXState",{localUid:e},i8.recordingWebviewIds,(()=>{}))})),f8(),a8.isFullySetup=!0,e.uuid,vD(`wxobs_uuid=${e.uuid};`),sz({obsid:e.uuid}),!0}catch(e){return kL(SL.AppserviceStart,e),!1}};function c8(){a8.recording&&(a8.recording=!1,a8.events=[],a8.pending=!1,a8.pendingRecordingPages=[],Object.assign(i8,{recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",reportInterval:5e3,serverClientTimeDiff:0,weSessionId:null}),AG(),wH(),OZ(),gB(),iH(),U7())}var u8=function(){var e=xd()((function*(){try{if(!a8.recording)return;i8.recordingWebviewIds,WC("teardownUserBehavior",void 0,i8.recordingWebviewIds,(()=>v.log("[wxobs] webview teardown success\n[体验分析] 体验分析已停止"))),Object.assign(i8,{recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",projectId:"",encrypt:void 0,shouldCapturePage:()=>!0,reporter:void 0,errorCallback:void 0,onReport:void 0}),a8.recording=!1,a8.events=[],a8.recorderConfigs=i8,a8.pending=!1,a8.isFullySetup=!1,a8.pendingRecordingPages=[],PB(),AG(),iH(),wH(),OZ(),Y7(),gB(),d7(),U7()}catch(e){throw kL(SL.AppserviceTeardown,e),e}}));return function(){return e.apply(this,arguments)}}(),d8=()=>{i8.sdkVersion=OT().version||"",i8.platform=ww().platform,i8.hashUid=pD(),i8.staticMeta=kq(),a8.recording=!0;var e=p8();o8({timestamp:I8(),type:KO.Start,data:{webviews:uu.getWebviewIds(),shouldCapture:e}})};function p8(){var e=uu.currentWebviewId;return!!(a8.recording&&i8.recordingWebviewIds.indexOf(e)<0&&a8.recorderConfigs.shouldCapturePage(uu.lastRoute,uu.query))&&(a8.isFullySetup?(h8(e,uu.query),!0):(a8.pendingRecordingPages.push({webviewId:e,route:uu.lastRoute,query:uu.query}),uu.lastRoute,!1))}function h8(e,t){i8.recordingWebviewIds.push(e),void 0===i8.reporter&&(i8.reporter=e),WC("recordUserBehavior",{...i8,query:t},[e],(()=>v.info(`[wxobs] trigger recordUserBehavior for webview ${e}`)))}function f8(){for(a8.isFullySetup=!0;a8.pendingRecordingPages.length>0;){var e=a8.pendingRecordingPages.shift();if(void 0!==e){h8(e.webviewId,e.query);e.route}}}function g8(e){return v8.apply(this,arguments)}function v8(){return v8=xd()((function*(e){a8.recording&&o8({type:KO.CustomAttr,timestamp:I8(),data:e})})),v8.apply(this,arguments)}function m8(e){return y8.apply(this,arguments)}function y8(){return(y8=xd()((function*(e){if(!a8.recording)throw new Error("wxobs is not recording");o8({type:KO.CustomEvent,timestamp:I8(),data:e})}))).apply(this,arguments)}function b8(e,t){if(a8.recording){var r="[wxobs] reportEvent 同步错误,",n={},i=0;try{if("object"!=typeof t||null===t)return void console.error(`${r} 需要为 Object`);var a=Boolean(t.__cos_only__)||!i8.enabledFeatures.uploadReportEventToWx,o=Object.keys(t);if(!(a||o.length<=10))return void console.error(`${r} 需要少于 10 个属性`);for(var s=0;s<o.length;s++){if(o[s].length>50&&!o[s].includes(","))return void console.error(`${r}${o[s]} 属性key过长，需<=50，且不包含','`);var l=t[o[s]];if("string"==typeof l){if(!a&&(l.length>255||l.includes(",")))return void console.error(`${r}${o[s]} 属性 value 不符合规则，长度不能超过 255 且不能包含英文逗号（,），如需包含请先转义`);n[`wxobs_props_${o[s]}_string`]=l,i+=l.length+`wxobs_props_${o[s]}_string`.length}else{if(!Number.isSafeInteger(l))return void console.error(`${r}${o[s]}属性value不符合规则`);n[`wxobs_props_${o[s]}_int`]=`${l}`,i+=`${l}`.length+`wxobs_props_${o[s]}_int`.length}}a&&(n.__cos_only__="1"),u$(mD.UploadReportEventSize,i),o8({type:KO.ReportEvent,timestamp:I8(),data:{...n,wxobs_primary_event_name:e,wxobs_type:"__userob_default_custom_event_emit__"}})}catch(e){console.error(r,e)}}}function _8(e){i8.cosInfo=e,WC("resetCosInfo",e,i8.recordingWebviewIds,(()=>{}))}var w8=18e5;function S8(e){var t=I8();KC((r=>{a8.recording&&I8()-t>w8&&1089!==r.scene&&e()})),sk((()=>{t=I8()}))}function C8(e){if(e.enabledFeatures={},e.featureConfig){var t=OT().version||"",r=ww().platform;for(var n of e.featureConfig){var i;if(!n.scope||fD(n.scope,{os:r,sdkVersion:t})){var a=null!==(i=n.proportion)&&void 0!==i?i:0;0!==a&&(100===a||a>=100*Math.random())&&(e.enabledFeatures[n.name]=!0)}}for(var o of(e.featureConfig=[],Object.keys(e.enabledFeatures)))e.enabledFeatures[o]&&e.featureConfig.push({name:o,proportion:100})}else e.featureConfig=[]}var k8=e=>{0!==e&&a8.events.length>0&&(a8.events=a8.events.map((t=>({...t,timestamp:t.timestamp+e}))),a8.events.length)};function I8(){return Date.now()+i8.serverClientTimeDiff}var P8=e=>{try{if(a8.recording)return!1;if("string"!=typeof e.projectId||""===e.projectId)return!1;if(Object.assign(i8,e),C8(i8),i8.coslessMode){if(!i8.enabledFeatures.coslessMode)return!1;c$(mD.CoslessMode)}return a8.isFullySetup=!0,d8(),PG(),IB(),_H(),RZ(),fB(),W7(),X7(),e.canvas&&u7(e.canvasCollectInterval),i8.enabledFeatures.console&&nH(),_N().then((e=>{WC("syncPXState",{localUid:e},i8.recordingWebviewIds,(()=>{}))})),e.uuid,vD(`wxobs_uuid=${e.uuid};`),sz({obsid:e.uuid}),!0}catch(e){return kL(SL.AppserviceStart,e),!1}};function A8(e,t){return VO("wxobs",{hookHandlers:{beforeExecute(){O8.includes(e)||x8(e)},afterCallback(t){O8.includes(e)&&x8(e,t)},success(){E8(t,0)},fail(){E8(t,1)}}})}function x8(e,t){return T8.apply(this,arguments)}function T8(){return(T8=xd()((function*(e,t){var r;a8.recording&&o8({timestamp:I8(),type:e,data:null!==(r=R8(e,t))&&void 0!==r?r:{}})}))).apply(this,arguments)}function E8(e,t){return M8.apply(this,arguments)}function M8(){return(M8=xd()((function*(e,t){a8.recording&&o8({timestamp:I8(),type:e,data:{state:t}})}))).apply(this,arguments)}var R8=(e,t)=>{var r=null==t?void 0:t[0];switch(e){case KO.RequestSubscribeMessage:return{tmpIds:null==r?void 0:r.tmplIds};case KO.ReserveChannelsLive:return{noticeId:null==r?void 0:r.noticeId};case KO.OpenChannelsUserProfile:case KO.OpenChannelsLive:return{finderUserName:null==r?void 0:r.finderUserName};case KO.OpenChannelsEvent:return{finderUserName:null==r?void 0:r.finderUserName,eventId:null==r?void 0:r.eventId};case KO.OpenChannelsActivity:return{finderUserName:null==r?void 0:r.finderUserName,feedId:null==r?void 0:r.feedId};case KO.GetChannelsLiveNoticeInfo:case KO.GetChannelsLiveInfo:return{finderUserName:null==r?void 0:r.finderUserName};case KO.RequestPayment:case KO.RequestPluginPayment:return{path:uu.lastRoute};default:return{}}},O8=[KO.RequestSubscribeMessage,KO.ReserveChannelsLive,KO.OpenChannelsUserProfile,KO.OpenChannelsLive,KO.OpenChannelsEvent,KO.OpenChannelsActivity,KO.GetChannelsLiveNoticeInfo,KO.GetChannelsLiveInfo,KO.RequestPayment,KO.RequestPluginPayment],D8=ir("subpackage:beforeSubPackageReady"),L8=ir("subpackage:onSubPackageReady"),N8=D8.internalOnMethod,B8=L8.internalOnMethod;qt("onSubPackageReady",(e=>{y.info("[onSubPackageReady]",e),D8.emit(e),L8.emit(e)}));var $8=new Qt({maxListeners:2e5}),j8={onMapMarkerClusterCreate:"markerClusterCreate",onMapMarkerClusterClick:"markerClusterClick",onMapVisualLayerEvent:"visualLayerEvent",onMapMarkerCollisionStatusChange:"markerCollisionStatusChange"};Object.keys(j8).forEach((e=>{ur(e,((t={},r=0)=>{var n=t.mapId,i=j8[e];delete t.mapId,$8.emit(`${i}_${r}_${n}`,t)}))})),en("mapEvent",((e,t)=>{var r=e.res,n=e.mapId,i=e.event;$8.emit(`${i}_${t}_${n}`,r)})),ur("onMapInterpolatePoint",((e={})=>{Kr("onMapInterpolatePoint",e)})),ur("onLeaveVideoPictureInPicture",((e={})=>{Kr("onLeaveVideoPictureInPicture",e)})),ur("onLeaveLivePlayerPictureInPicture",((e={})=>{Kr("onLeaveLivePlayerPictureInPicture",e)})),ur("onLeaveLivePusherPictureInPicture",((e={})=>{Kr("onLeaveLivePusherPictureInPicture",e)})),ur("onLivePusherCameraFrame",((e={},t=0)=>{_2.emit(`onLivePusherCameraFrame_${t}`,e)})),ur("onXWebLivePusherCameraFrame",((e={},t=0)=>{_2.emit(`onLivePusherCameraFrame_${t}`,e)})),ur("onLivePusherCameraFrameBufferUpdate",((e={},t=0)=>{_2.emit(`onLivePusherCameraFrameBufferUpdate_${t}`,e)})),ur("onXWebLivePusherCameraFrameBufferUpdate",((e={},t=0)=>{_2.emit(`onLivePusherCameraFrameBufferUpdate_${t}`,e)}));var F8="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",W8={cancel:0,accept:1},U8=()=>{var e=new Qt,t="",r=null,n=[];function i(e){r&&!n.length?(n.push(e),r.des()):e()}function a(n,i,a,s){var{tmpl:l,opApi:c}=i;r||(r=s.mainRoot.append(l,{})),r.addListener("ready",(()=>{if(r)if(r.isReady){var e=o(i,n,r.extra);r.setData({...e,enter:!0})}else r.isReady=!0})),r.addListener("destroy",(i=>{r=null,FV(a);var{type:o}=i.detail;o?function(e,r,n){TE({sdkApiName:t,apiName:r.name,reqData:r.request({opType:n,...e}),success(i){n===W8.accept?(Hc({name:t,args:e,res:i}),r.success()):zc(t,e,"user cancel operation")},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();zc(t,e,n,+r.err_code)}})}(n,c,W8[o]):e.emit("desComp")}))}function o(e,t,r={}){var n=e.genData(t,r);return Object.assign(n,{appIcon:re.accountInfo.icon||F8,appName:re.accountInfo.nickname}),n}return e.on("desComp",(()=>{n.forEach((e=>e())),n=[]})),(e,n={})=>{Vc(t=n.api,e,n.checkArgs(e))&&__sclEngine__.initScl((s=>{var l=function(e){return jV((r=>{[PV.BottomBackButton,PV.NavigationBackInterceptionType,PV.NavigateBackCall].includes(r.type)&&i((()=>{zc(t,e,"user navigate back operation")}))}))}(e);a(e,n,l,s),TE({sdkApiName:t,apiName:n.checkApi.name,reqData:n.checkApi.request(e),success(a){if(!n.checkApi.confirm(a))return delete a.data,void i((()=>{Hc({name:t,args:e,res:a})}));if(r)if(r.isReady){var s=o(n,e,a);r.setData({...s,enter:!0})}else r.isReady=!0,r.extra=a},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();i((()=>{zc(t,e,n,+r.err_code)}))}})}))}},V8={authorize:{scopes:{"scope.devicePanel":{api:"authorize",tmpl:"device-panel",checkArgs:()=>({}),checkApi:{name:"webapi_wx_authorize",request:({scope:e})=>({scope:e}),confirm:e=>e.data.need_confirm},opApi:{name:"webapi_wx_authorize_confirm",request:({scope:e,opType:t})=>({scope:e,opt:t?1:2}),success:()=>{}},genData:()=>({wording1:"自动同步所有设备到「发现 - 小程序 - 设备」中",wording2:"同步后，可直接控制使用设备。"})}}},addDevicePanel:{api:"addDevicePanel",tmpl:"device-panel",checkArgs:()=>({sn:"",snTicket:"",modelId:"",deviceName:"",location:""}),checkApi:{name:"CheckDevicePanel",request:({sn:e,snTicket:t,modelId:r})=>({sn:e,sn_ticket:t,model_id:r}),confirm:e=>1===e.data.need_alert},opApi:{name:"AddDevicePanel",request:({opType:e,sn:t,modelId:r,deviceName:n,envVersion:i,path:a,query:o,location:s})=>({action_type:e,sn:t,model_id:r,name:n,version_type:i||re.envVersion,path:a,query:o,location:s}),success:()=>{jW({title:"已添加",icon:"success"})}},genData:({deviceName:e})=>({wording1:`将“${e}”设备组件添加到「发现 - 小程序 - 设备」中`,wording2:"添加后，可直接控制使用该设备。"})},requestDeviceVoIP:{api:"requestDeviceVoIP",tmpl:"device-voip",checkArgs:({isGroup:e})=>!0===e?{groupId:""}:{sn:"",snTicket:"",modelId:"",deviceName:""},checkApi:{name:"CheckDeviceVoip",request:({sn:e,snTicket:t,modelId:r,deviceName:n,isGroup:i,groupId:a})=>!0===i?{is_group:i,group_id:a}:{sn:e,sn_ticket:t,model_id:r,device_name:n},confirm:e=>1===e.data.need_alert},opApi:{name:"AddDeviceVoip",request:({opType:e,sn:t,snTicket:r,modelId:n,deviceName:i,isGroup:a,groupId:o})=>!0===a?{action_type:e,is_group:a,group_id:o}:{action_type:e,sn:t,sn_ticket:r,model_id:n,device_name:i},success:()=>{}},genData:(e,t)=>({wording1:`为「${t.data.device_name}」开启语音、视频通话提醒`,wording2:"用于设备发起的语音和视频通话邀请"})}},q8=["scope.userLocation","scope.userFuzzyLocation"],z8=(e="gcj02")=>{var t,r=null==re?void 0:re.appLaunchInfo,n=null!==(t=uu.scene)&&void 0!==t?t:null==r?void 0:r.scene;if(1242===n||1245===n){var i,a,o=null==r||null===(i=r.referrerInfo)||void 0===i||null===(a=i.privateExtraData)||void 0===a?void 0:a.location;if(o)return"gcj02"===e?{...o}:X8(o)}return null},G8=(e,{type:t}={},r=!0)=>r?{...e,type:t,speed:0,altitude:0,accuracy:10,verticalAccuracy:10,horizontalAccuracy:10}:{...e,type:t},H8=Math.PI,K8=6378245,J8=.006693421622965943,X8=e=>{if(Z8(e.longitude,e.latitude))return{...e};var{latitude:t,longitude:r}=e,n=t/180*H8,i=Y8(r-105,t-35),a=Q8(r-105,t-35),o=Math.sin(n);o=1-J8*o*o;var s=Math.sqrt(o);return i=180*i/(K8*(1-J8)/(o*s)*H8),{longitude:2*r-(r+(a=180*a/(K8/s*Math.cos(n)*H8))),latitude:2*t-(t+i)}},Y8=(e,t)=>{var r=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*H8)+20*Math.sin(2*e*H8))/3,r+=2*(20*Math.sin(t*H8)+40*Math.sin(t/3*H8))/3,r+=2*(160*Math.sin(t/12*H8)+320*Math.sin(t*H8/30))/3},Q8=(e,t)=>{var r=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*H8)+20*Math.sin(2*e*H8))/3,r+=2*(20*Math.sin(e*H8)+40*Math.sin(e/3*H8))/3,r+=2*(150*Math.sin(e/12*H8)+300*Math.sin(e/30*H8))/3},Z8=(e,t)=>!(e>73.66&&e<135.05&&t>3.86&&t<53.55),e9=function(){var e=xd()((function*(e={}){var t="getPrivacySetting";if(!1===ln.isCache)try{yield k1()}catch(e){e.errors}var r=1===ln.actionCache;ln.actionCache,r&&ln.needScopeCache.length>0?Hc({name:t,args:e,res:{needAuthorization:!0,privacyContractName:ln.urlTitle}}):Hc({name:t,args:e,res:{needAuthorization:!1,privacyContractName:ln.urlTitle}})}));return function(){return e.apply(this,arguments)}}(),t9=e=>{var{success:t,apiName:r,type:n}=e;V3(r,n).catch((e=>({success:!0}))).then((({success:e,errMsg:r,errno:n})=>{t(e?{success:!0}:{success:!1,errMsg:r,errno:n})}))},r9=function(){var e=xd()((function*(e){if(!ln.isCache)try{yield k1()}catch(e){e.errors}var t=1===ln.actionCache;return t&&ln.needScopeCache.length>0?ln.useCustomPrivacyAuthorization?U1(e):(ln.officialPrivacyAuthorizationShowingGap=0,n3({title:ln.standardInfo.title,desc1:ln.standardInfo.desc1,urlTitle:ln.standardInfo.urlTitle,desc2:ln.standardInfo.desc2,allow:ln.standardInfo.allow,cancel:ln.standardInfo.cancel})):(ln.needScopeCache.length,Promise.resolve({success:!0}))}));return function(t){return e.apply(this,arguments)}}(),n9=e=>{r9("requirePrivacyAuthorize").then((({success:t,errMsg:r,errno:n})=>{Hc(!0===t?{name:"requirePrivacyAuthorize",args:e,success:!0,errno:n,errMsg:r}:{name:"requirePrivacyAuthorize",args:e,success:!1,errno:n,errMsg:r})}))},i9="",a9=e=>{var t=i9===e;return i9=e,t},o9=(e,t,r,n)=>{var i=[Du()+" "+Lu(),1,(null==br?void 0:br.getCurrentRoute())||"",!a9(ju().sessionid||ju().sessionId)?1:0,e,t?1:0,n?1:2,r].join(",");T.reportKeyValue({key:"Authorize",value:i})},s9=U8(),l9=un;function c9(e){return"scope.userInfo"!==e||(bg("getUserInfo")||bg("authorize"))}function u9(e){return Object.keys(V8.authorize.scopes).includes(e)}var d9=(e,t=!1)=>{var r="authorize",n=bd(e),i=i2(),a=o2();return xd()((function*(e={}){if(Oe)Hc({name:"authorize",args:e,errMsg:"authorize success",errCode:0,errno:0,success:!0,exception:void 0});else if(a&&i.includes(r2(`${e.scope}`)))Hc({name:"authorize",args:e,success:!0});else if(Vc("authorize",e,{scope:""})){var o=sM();if(!t&&l9[e.scope]){var s=yield V3(e.scope,"authorize").catch((e=>({success:!0})));if(!s.success)return o9(e.scope,o,1,!1),void Hc({name:"authorize",args:e,success:!1,errMsg:s.errMsg,errno:s.errno,errCode:s.errno,exception:void 0})}if(!c9(e.scope))return o9(e.scope,o,1,!1),void zc("authorize",e,"scope unauthorized");if(!u9(e.scope))return e.scope&&z8()&&q8.includes(e.scope)?(o9(e.scope,o,2,!1),void setTimeout((()=>sd({},r,e,{})),100)):void n(r,zd(e,{scope:[e.scope],requestInQueue:!0}),{beforeAll(e){delete e.body,delete e.clientInfo,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)},beforeSuccess(t){var r=!!t.showedModal;delete t.showedModal,o9(e.scope,o,2,r)},beforeFail(t){var r=!!t.showedModal;delete t.showedModal,o9(e.scope,o,1,r)}});Object.entries(V8.authorize.scopes).forEach((([t,r])=>{t===e.scope&&s9(e,r)}))}}))},p9=d9(void 0,!1),h9=new Set,f9=new WeakMap,g9={service:"service",plugin:"plugin"},v9={[g9.service]:0,[g9.plugin]:0},m9={add(e,t){h9.add(e),f9.set(e,t),v9[t]++},remove(e){var t=f9.get(e);h9.delete(e)&&(f9.delete(e),v9[t]--)},get size(){return h9.size},getSizeByType:e=>v9[e]};const y9=m9;var b9={UNLOCKED:0,LOCKING:1,LOCKED:2},_9=new WeakMap,w9=new Map,S9=ArrayBuffer,C9;function k9(e){g.onLoad((()=>{Be||C9.new||e(C9)}))}g.onLoad((()=>{C9="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer,"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?S9=__global.SharedArrayBuffer:p.g.SharedArrayBuffer&&(S9=p.g.SharedArrayBuffer))}));class I9{constructor(e,t){if(!nt(e)||e<0)throw new qd(`Invalid array buffer length ${e}`);if(nt(t)){var r;try{r=C9.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new S9(e),writable:!1,enumerable:!0});var n=C9.new(this.buffer);Object.defineProperty(this,"_sabId",{value:n,enumerable:!0,writable:!1})}var i={writeStatus:b9.UNLOCKED,readStatus:b9.UNLOCKED,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};_9.set(this,i),w9.set(this._sabId,this)}destroy(){var e=_9.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],w9.delete(this._sabId),_9.get(this).destroyed=!0,this.unlock(),C9.destroy(this._sabId)}lock(e,t=!1){var r=_9.get(this),{destroyed:n,writeStatus:i,readStatus:a,writeLockCallbacks:o,readLockCallbacks:s}=r;if(n)throw new qd("SharedArrayBuffer has been destroyed");if(!vt(e))throw new qd("callback must be a function");i!==b9.LOCKED?(o.push(e),i===b9.LOCKING||(r.writeStatus=b9.LOCKING,r.writeLockId=C9.Lock(this._sabId,(()=>{o.forEach((e=>e())),s.forEach((e=>e())),r.writeStatus=b9.LOCKED,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=_9.get(this),{writeLockId:t,readLockId:r,writeStatus:n,readStatus:i,destroyed:a}=e;a?console.warn("unlock: SharedArrayBuffer has been destroyed"):(n!==b9.LOCKING&&n!==b9.LOCKED||(C9.Unlock(this._sabId,t),e.writeStatus=b9.UNLOCKED,e.writeLockId=void 0,e.writeLockCallbacks=[]),i!==b9.LOCKING&&i!==b9.LOCKED||(C9.Unlock(this._sabId,r),e.readStatus=b9.UNLOCKED,e.readLockId=void 0,e.readLockCallbacks=[]))}}var P9=e=>Be?{buffer:new ArrayBuffer(e)}:new I9(e),A9=e=>w9.has(e)?w9.get(e):new I9(0,e),x9=e=>Be?e:pt(e)?nt(e._sabId)?A9(e._sabId):Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=x9(n),t}),{}):gt(e)?e.map(x9):e,T9,E9;"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME?Be||(T9=f.supportWorkerMultiContext||f.supoortWorkerMultiContext):Be||re.onReady((()=>{T9=re.supportWorkerMultiContext||re.supoortWorkerMultiContext})),g.onLoad((()=>{(E9=function(e,t,r,n,i){this.message=e,this.line=t,this.column=r,this.stack=n,this.error=i}).prototype=Error}));var M9=e=>new E9(e.message,e.line,e.column,e.stack,e),R9=()=>T9,O9=e=>{T9=e},D9=new WeakMap,L9=new WeakMap,N9=new WeakMap,B9={},$9={},j9={},F9={},W9=new WeakMap,U9=new WeakMap,V9=e=>e.workerId,q9=e=>{e.__isNativeConsole__?y[e.level](...e.logs):console[e.level](...e.logs)},z9=0,G9={};function H9(e,t,r=++z9){return F9[e]?(G9[e]||(G9[e]=[]),G9[e].push({id:r,callback:t})):(F9[e]=r,t()),r}function K9(e,t){if(F9[e]===t&&(delete F9[e],G9[e]&&G9[e].length)){var{id:r,callback:n}=G9[e].shift();H9(e,n,r)}}k9((e=>{var t=0;Object.assign(e,{new(e){var r=++t;return j9[r]=e,Object.keys(B9).forEach((t=>{var n=D9.get(B9[t]);k.postMsgToWorker(n,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:r},!1,!1)})),r},get:e=>j9[e],destroy(e){delete j9[e]},Lock:H9,Unlock:K9})})),k.onWorkerMsg(((e,t)=>{var r,n=V9(t);r=n?$9[e]:B9[e];var i=L9.get(r),a=U9.get(r);if("log"!==t.__cmd__){if("setSharedBuffer"===t.__cmd__)return j9[t.__id__]=t.__buffer__,void Object.keys(B9).forEach((r=>{var n=D9.get(B9[r]);n!==e&&k.postMsgToWorker(n,t,!1,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if("workerUncaughtError"===t.__cmd__){var o=t.__data__;if("string"==typeof o)try{o=JSON.parse(o)}catch(e){console.warn("warning: occur illegal error: ",o)}return o=g.convertToErrorObj(o),void(B9[e]&&"function"==typeof B9[e].errorHandler?B9[e].errorHandler(o):(console.error("Worker Uncaught: ",o),T.errorReport({key:"appServiceSDKScriptError",error:o,extend:"at Splash Ad Worker"})))}if("readCompressedFile"!==t.__cmd__){if(r)if(a&&a.useWKWorker){if(!V9(t))return;if("requireScriptSuccess"===t.__cmd__){var s=W9.get(r);return void(s&&s.evaluateWorkerScriptPromiseResolve&&s.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void Bf({filePath:t.filePath,success:({data:r})=>k.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode(...new Uint16Array(r))},void 0,!0),fail:({errMsg:r})=>k.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:r},void 0,!0)});"function"==typeof i&&i(t.data)}else"function"==typeof i&&i(x9(t.data))}else dg({filePath:t.filePath,compressionAlgorithm:t.compressionAlgorithm,complete:r=>{k.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:r},!1,!1)}})}else K9(t.__sid__,t.__lid__);else H9(t.__sid__,(()=>{r.postMessage(t)}),t.__lid__)}else q9(t.logData)}));var J9=function(e,t){Cf("skipWorkerProtect")&&(t||(t={}),t.__sdk_skip_protect=!0);var r=D9.get(this);k.postMsgToWorker(r,{__cmd__:"requireScript",__script__:e,__id__:r,__options__:t},void 0,!1)},X9=function(){var e,t=new Promise((t=>{e=t}));W9.set(this,{evaluateWorkerScriptPromise:t,evaluateWorkerScriptPromiseResolve:e})};class Y9{constructor(e,t,r={useWKWorker:!1,contextType:"",pluginId:"",injectFilePath:""}){this.errorHandler=void 0,this.allowPostMessage=!1,D9.set(this,e),U9.set(this,r),this._id=e,r.useWKWorker?($9[e]=this,X9.call(this)):(B9[e]=this,R9()?J9.call(this,t,{pluginId:r.pluginId,workerId:e,injectFilePath:r.injectFilePath},!0):J9.call(this,t,{pluginId:r.pluginId,workerId:e})),y9.add(this,r.contextType)}postMessage(e){var t=D9.get(this),r=W9.get(this),n=U9.get(this);n&&n.useWKWorker&&r?r.evaluateWorkerScriptPromise.then((()=>{k.postMsgToWorker(t,{data:e,appid:re.accountInfo.appId},void 0,!0)})):(e={data:e},k.postMsgToWorker(t,e,void 0,!1))}onMessage(e){L9.set(this,e)}onError(e){this.errorHandler=e}terminate(){if(D9.has(this)){var e=D9.get(this),t=U9.get(this);t&&t.useWKWorker?k.postMsgToWorker(e,{__cmd__:"terminate",appid:re.accountInfo.appId},void 0,!0):k.terminate(e,!1),y9.remove(this),D9.delete(this),L9.delete(this),W9.delete(this),N9.delete(this),U9.delete(this),t&&t.useWKWorker?delete $9[e]:delete B9[e]}}onProcessKilled(e){N9.set(this,e)}}qt("onWorkerWebViewTerminate",(()=>{Object.keys($9).forEach((e=>{var t=$9[e],r=U9.get(t);if(r&&r.useWKWorker){var n=N9.get(t);y9.remove(t),D9.delete(t),L9.delete(t),W9.delete(t),N9.delete(t),U9.delete(t),delete $9[e],"function"==typeof n&&x.surroundThirdByTryCatch(n,"at Worker.onProcessKilled callback function")(),T.reportIDKey({key:"onWorkerWebViewTerminate"}),y.error("onWorkerWebViewTerminate",e)}}))}));var Q9=e=>{if(e._id>=0&&$9[e._id])return e._id},Z9,eee={},tee={},ree={},nee=[],iee={},aee=new Yt,oee=new WeakMap;function see(e){var t=[],r=1;return en(e,(e=>{t.forEach((t=>{var r=t[0],n=t[1];r.cid===e.cid&&r.cameraId===e.cameraId&&n(e)})),t=[]})),function(e,n){e.cid=r++,t.push([e,n])}}var lee=see("onOperateCameraCallback"),cee={};function uee({cameraId:e,pluginId:t},r){aee.emit("cameraRemoved"),delete eee[`${r}_${t}`],delete tee[`${r}_${e}`],delete ree[`${r}_${e}`],delete cee[r]}function dee(e,t,r){var n=null,i=null,a=null,o=tu("start",xd()((function*(){var l=480,c=640,u=`${t}_${r}`;if("number"!=typeof eee[u]&&!eee[u])return yield new Promise((e=>aee.once("cameraInsert",e))),o();var d=tee[`${t}_${eee[u]}`],{frameSize:p}=d||{};"small"===p?(l=288,c=352):"medium"===p?(l=480,c=640):"large"===p&&(l=720,c=1280),a=()=>{s()},aee.once("cameraRemoved",a);var h,f=window.createObjectURL||window.URL&&window.URL.createObjectURL||window.webkitURL.createObjectURL,g=document.createElement("video"),v=document.createElement("canvas"),m=v.getContext("2d");v.width=l,v.height=c,g.style.width=l+"px",g.style.height=c+"px";try{h=yield new Promise(((e,t)=>{navigator.getUserMedia({video:{width:l,height:c},audio:!1},e,t)}))}catch(e){throw new Error("camera is not found")}"srcObject"in g?g.srcObject=h:g.src=f(h),g.play(),n=h.getTracks()[0];var y=()=>{m.drawImage(g,0,0),e({width:l,height:c,data:m.getImageData(0,0,l,c).data.buffer}),i=window.requestAnimationFrame(y)};i=window.requestAnimationFrame(y)}))),s=tu("stop",xd()((function*(){window.cancelAnimationFrame(i),aee.off("cameraRemoved",a),n&&n.stop()})));return{start:o,stop:s}}ur("onCameraInitDone",(()=>{cee[uu.currentWebviewId]=!0,aee.emit("cameraInitialized")})),en("cameraInserted",function(){var e=xd()((function*({cameraId:e,pluginId:t,bindings:r},n){eee[`${n}_${t}`]=e,tee[`${n}_${e}`]=r,aee.emit("cameraInsert"),XM(n,(()=>{uee({cameraId:e,pluginId:t},n)}),"CameraContext")}));return function(t,r){return e.apply(this,arguments)}}()),en("cameraUpdated",(({cameraId:e,hidden:t},r)=>{ree[`${r}_${e}`]=t})),en("cameraRemoved",(({cameraId:e,pluginId:t},r)=>{uee({cameraId:e,pluginId:t},r)})),EK((()=>{if(void 0!==br&&"function"===br.getCurrentPagesByDomain){var e=br.getCurrentPagesByDomain("").map((e=>e.__wxWebviewId__));Object.keys(eee).forEach((t=>{var r=t.split("_").shift();-1===e.indexOf(Number(r))&&(delete tee[`${r}_${eee[t]}`],delete ree[`${r}_${eee[t]}`],delete eee[t],iee[r]&&(iee[r].forEach((e=>{clearTimeout(e)})),delete iee[r]))}))}})),qt("onCameraVideoTaken",((e={},t=0)=>{nee.forEach((r=>{r(e,t)}))}));var pee=(Z9=class{constructor(e,t){this.webviewId=e,this.pluginId=t}onCameraFrame(e){if(!e||"function"!=typeof e)throw new Error("callback is not a function");var t=x.surroundThirdByTryCatch(e,"at CameraContext.onCameraFrame callback function");if(Ce||Te)return dee(t,this.webviewId,this.pluginId);var r=this.webviewId,n=Zc(this._invokeMethod.bind(this,"listenFrameChange")),i=Zc(this._invokeMethod.bind(this,"closeFrameChange")),a=!1,o=null,s=null,l=null,c=tu("start",xd()((function*(e={}){if(!a){if(a=!0,ke&&!cee[r]&&(yield new Promise((e=>aee.once("cameraInitialized",e)))),!a)throw new Error("listener has been stopped");var i;p2(["scope.camera"])||(yield V3("CameraContext.onCameraFrame").catch((e=>({success:!0}))).then((({success:e,errMsg:t,errno:r})=>{if(!e){var n=new Error(t);throw n.errno=r,n}}))),Ie&&ur("onCameraFrame",o=()=>{if(a&&s){var e={width:s.width,height:s.height,data:s.data};t(e)}});try{var{worker:c}=e,d=c?Q9(c):void 0,p={};void 0!==d&&Cf("listenFrameChangeInWorker")&&(p.workerId=d),i=yield n(p)}catch(e){throw Ie&&hr("onCameraFrame",o),e}if(!a)throw new Error("listener has been stopped");var h=Rp();if(!h)throw new Error("onCameraFrame is not supported on your device");var f=h.get(i.bufferId);if(!f)throw new Error("onCameraFrame fails to allocate ArrayBuffer");f.__proto__=ArrayBuffer.prototype;var g={width:i.width,height:i.height,data:f};Ie?s={width:i.width,height:i.height,data:f}:ur("onCameraFrame",o=()=>{a&&t(g)}),l=()=>{u()},aee.once("cameraRemoved",l),F2("cameraFrame")}}))),u=tu("stop",xd()((function*(){a&&(a=!1,l&&(aee.off("cameraRemoved",l),l=null),o&&(hr("onCameraFrame",o),o=null),yield i({}))})));return{start:c,stop:u}}_invoke(e,t){t.type=e,Ce||Te||xe?(lee(t,(({imageData:r,videoData:n})=>{function i(t,n){md("base64ToTempFilePath",Object.assign({fileType:"jpg",base64Data:r},t),{beforeAll:r=>{"takePhoto"===t.type?r.tempImagePath=r.tempFilePath:r.tempFilePath&&(r.tempThumbPath=r.tempFilePath),n&&(r.tempVideoPath=n),r.errMsg=r.errMsg.replace("base64ToTempFilePath",e),delete r.tempFilePath}})}n?md("base64ToTempFilePath",{fileType:"webm",base64Data:n,complete(e){i(t,e.tempFilePath)}}):"startRecord"===e?("function"==typeof t.success&&t.success({errMsg:"startRecord:ok"}),"function"==typeof t.complete&&t.complete({errMsg:"startRecord:ok"})):i(t)})),Kr("operateCamera",t,[this.webviewId])):p2(["scope.camera"])?(t.permissionBytes=[1,1,1],Id("operateCamera",t)):md("operateCamera",t)}_invokeMethod(e,t){var r=`${this.webviewId}_${this.pluginId}`;if("number"==typeof eee[r]||eee[r]){var n=tee[`${this.webviewId}_${eee[r]}`];if(n.isCancelAuth)return"function"==typeof t.fail&&t.fail({errMsg:"user cancel auth"}),void("function"==typeof t.complete&&t.complete({errMsg:"user cancel auth"}));if("scanCode"===n.mode&&("takePhoto"===e||"startRecord"===e))return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}));t.cameraId=eee[r],this._invoke(e,t)}else aee.once("cameraInsert",(()=>{this._invokeMethod(e,t)}))}takePhoto(e={}){var t=`${this.webviewId}_${this.pluginId}`;if(ree[`${this.webviewId}_${eee[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));"boolean"!=typeof e.selfieMirror&&(e.selfieMirror=!0),this._invokeMethod("takePhoto",e)}setZoom(e={}){Vc("CameraContext.setZoom",e,{zoom:1})&&(e.zoom<1&&(e.zoom=1),this._invokeMethod("setZoom",e))}startRecord(e={}){p2(["scope.camera"])?(oee.set(this,!0),this._startRecord(e)):p9({scope:"scope.record",success:()=>{oee.set(this,!0),this._startRecord(e)},fail:()=>{"function"==typeof e.fail&&e.fail({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."}),"function"==typeof e.complete&&e.complete({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."})}})}_startRecord(e={}){if(oee.get(this)){var t=`${this.webviewId}_${this.pluginId}`;if(ree[`${this.webviewId}_${eee[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));var r,n=e.timeoutCallback,i=e.success,a=e.fail,o=()=>{var t="number"==typeof e.timeout?Math.max(0,e.timeout):30;t=Math.min(t,300),r=this._timer=setTimeout((()=>{this._isRecording&&(this.stopRecord({complete:n||function(){}}),this._isRecording=!1)}),1e3*t),0===t?clearTimeout(r):iee[this.webviewId]?iee[this.webviewId].push(r):iee[this.webviewId]=[r];var i=this._videoTaken=(e,t)=>{var a=`${t}_${this.pluginId}`;if(e.cameraId===eee[a]){var o=nee.indexOf(i);o>-1&&nee.splice(o,1),this._isRecording&&(delete e.cameraId,"function"==typeof n&&n(e),this._isRecording=!1,clearTimeout(r))}};nee.push(i)};e.fail=e=>{this._isRecording=!1,r&&(r=clearTimeout(r)),"function"==typeof a&&a(e)},e.success=e=>{r&&(r=clearTimeout(r)),o(),"function"==typeof i&&i(e)},"boolean"!=typeof e.selfieMirror&&(e.selfieMirror=!0),this._invokeMethod("startRecord",e),this._isRecording||(this._isRecording=!0)}}stopRecord(e={}){var t=nee.indexOf(this._videoTaken);t>-1&&(nee.splice(t,1),this._videoTaken=null),this._invokeMethod("stopRecord",e),this._isRecording=!1,clearTimeout(this._timer)}},H()(Z9.prototype,"takePhoto",[Bt],Object.getOwnPropertyDescriptor(Z9.prototype,"takePhoto"),Z9.prototype),H()(Z9.prototype,"setZoom",[Bt],Object.getOwnPropertyDescriptor(Z9.prototype,"setZoom"),Z9.prototype),H()(Z9.prototype,"startRecord",[Bt],Object.getOwnPropertyDescriptor(Z9.prototype,"startRecord"),Z9.prototype),H()(Z9.prototype,"stopRecord",[Bt],Object.getOwnPropertyDescriptor(Z9.prototype,"stopRecord"),Z9.prototype),Z9);function hee(e,t,r,n=""){return new pee(t,n)}var fee=e=>{Oe?zc("bindPaymentCard",e,"bindPaymentCard:fail SDK暂不支持此API"):md("bindPaymentCard",e)},gee=e=>{Oe?zc("loadPaySpeechDialectConfig",e,"loadPaySpeechDialectConfig:fail SDK暂不支持此API"):md("loadPaySpeechDialectConfig",e)},vee=(e={})=>{Oe?zc("phoneBindCardVerifySms",e,"phoneBindCardVerifySms:fail SDK暂不支持此API"):ke||Ie?md("phoneBindCardVerifySms",e):zc("phoneBindCardVerifySms",e,"not yet supported")},mee=e=>{Oe?zc("requestMallPayment",e,"requestMallPayment:fail SDK暂不支持此API"):md("requestMallPayment",e)},yee=e=>{Oe?zc("requestVerifyUserIdentity",e,"requestVerifyUserIdentity:fail SDK暂不支持此API"):md("requestVerifyUserIdentity",e)},bee=e=>{Oe?zc("getWCPayOverseaPrepayRequest",e,"getWCPayOverseaPrepayRequest:fail SDK暂不支持此API"):md("getWCPayOverseaPrepayRequest",e)},_ee=e=>{Oe?zc("openOfflinePayView",e,"openOfflinePayView:fail SDK暂不支持此API"):md("openOfflinePayView",e)},wee=(e={})=>{Oe?zc("requestEntrustAuthorization",e,"requestEntrustAuthorization:fail SDK暂不支持此API"):md("requestEntrustAuthorization",e)},See=new Yy("InnerPage",!1),Cee={lifetimes:{detached(){var e=this.options;null!=e&&e.pageType&&See.emit(`${e.pageType}-unload`,e)},ready(){var e=this.options;null!=e&&e.pageType&&See.emit(`${e.pageType}-load`,e)}},pageLifetimes:{hide(){var e=this.options;null!=e&&e.pageType&&See.emit(`${e.pageType}-hide`,e)},show(){var e=this.options;null!=e&&e.pageType&&See.emit(`${e.pageType}-show`,e)}}};yr((()=>{var e="wx://inner-page",t={[`${e}.json`]:{usingComponents:{}}};vr.Component(Cee,"//",t,`${e}.js`)}));var kee=(e,t)=>{See.on(`${e}-load`,t)},Iee=(e,t)=>{See.off(`${e}-load`,t)},Pee=(e,t)=>{See.on(`${e}-unload`,t)},Aee=(e,t)=>{See.off(`${e}-unload`,t)},xee=(e,t)=>{See.on(`${e}-show`,t)},Tee=(e,t)=>{See.off(`${e}-show`,t)},Eee=(e,t)=>{See.on(`${e}-hide`,t)},Mee=(e,t)=>{See.off(`${e}-hide`,t)},Ree=[],Oee=null;function Dee(){var e=Ree;Ree=[],Oee=null;for(var t=0,r=e.length;t<r;t++){var n,i=e[t];i&&(i=x.surroundThirdByTryCatch(i,"at api nextTick callback function")),null===(n=i)||void 0===n||n()}}var Lee=e=>{e&&"function"==typeof e&&(Ree.push(e),Oee||(Oee=setTimeout(Dee,0)))},Nee=ir("exitMiniProgram"),Bee=Nee.internalOnMethod,$ee=()=>Nee.emit(),jee=(e={})=>{md("exitMiniProgram",e,{beforeSuccess(){Nee.emit()}})},Fee="payCompletedPage",Wee={},Uee=[],Vee={},qee=()=>{var e=Nt();return Uee.push(e),e},zee=(e,t,r)=>{Wee[e]?Wee[e][t]=r:Wee[e]={[t]:r}},Gee=[],Hee=e=>(e.payCompletedPageArgs.endsWith(".html")&&(e.payCompletedPageArgs=decodeURIComponent(e.payCompletedPageArgs.replace(/\.html$/,""))),JSON.parse(e.payCompletedPageArgs)),Kee=(e={})=>{var t,r="";return null!=e&&null!==(t=e.mch_conf)&&void 0!==t&&t.mch_ext_id&&(r=e.mch_conf.mch_ext_id),r},Jee=(e,t)=>{var r=n=>{Hee(n).payCompletedPageId===e&&"navigateBack"===uu.lastOpenType&&Lee((()=>{"function"==typeof t&&x.surroundThirdByTryCatch(t,"at on payCompletedPage.onUnload callback function")(),Aee(Fee,r)}))};Pee(Fee,r)},Xee={};kee(Fee,(e=>{if(e.payCompletedPageArgs&&Uee.length>0){var t=Date.now(),r=Hee(e),n=r.payCompletedPageId,i=r.payCompletedDataObj?"goldPlan":"normal";Xee[n]=Xee[n]||{},Xee[n].startTime=t,zee(n,"timeD",t);var a=Kee(r.payCompletedDataObj);if(ste("exposePaymentCompletedPage","",n,i,a),Kr("paymentCompletedPageOnload",{payCompletedPageId:n}),"function"==typeof Vee[n]?(Vee[n](),delete Vee[n]):Vee[n]=!0,!1===r.showNavBackButton){var o=jV((()=>{}),[1,2,3]);Gee.push(o)}}})),Pee(Fee,(e=>{if(e.payCompletedPageArgs){var t=Hee(e),r=t.payCompletedPageId,n=t.payCompletedDataObj?"goldPlan":"normal",i=Kee(t.payCompletedDataObj);if(Xee[r]){var a=Xee[r].startTime,o=Date.now()-a;ste("exitPage",JSON.stringify({duration:o}),r,n,i),delete Xee[r],ADSDK.handlePayInterstitialAd({op:"destroy"})}else ste("exitPage","",r,n,i);Gee.forEach((e=>{FV(e)})),Gee=[]}})),Eee(Fee,(e=>{if(e.payCompletedPageArgs){var t=Hee(e),r=t.payCompletedPageId,n=t.payCompletedDataObj?"goldPlan":"normal",i=Kee(t.payCompletedDataObj);if(Xee[r]){var{showTime:a,showCount:o}=Xee[r],s=Date.now()-a;ste("onHide",JSON.stringify({duration:s,showCount:o}),r,n,i)}else ste("onHide","",r,n,i)}})),df((e=>{var t;if("__wx__/inner-page"===e.path&&"payCompletedPage"===(null===(t=e.query)||void 0===t?void 0:t.pageType)){var r=JSON.parse(e.query.payCompletedPageArgs),{payCompletedPageId:n}=r;Xee[n]=Xee[n]||{},Xee[n].showTime=Date.now(),Xee[n].showCount?Xee[n].showCount++:(Xee[n].showCount=1,Kr("afterPayUserInteractionEnd",{payCompletedPageId:n,onShow:!0}),ADSDK.handlePayInterstitialAd({op:"show"}))}}));var Yee=new Map,Qee=new Map,Zee=(e,t)=>{Yee.get(e)?(t(Yee.get(e)),Yee.delete(e)):Qee.set(e,t)},ete=(e,t={})=>{var r,n;ste("fetchPaymentCompletedPageInfo","",e,"","");var i={pay_key_list:(null===(r=t.templateData)||void 0===r?void 0:r.infos)||[],pay_title:null===(n=t.templateData)||void 0===n?void 0:n.title,template_id:t.templateId};TE({apiName:"webapi_getpaycallbackappconf",sdkApiName:"preFetchPaymentCompletedPageInfo",reqData:i,fail(){ste("fetchPaymentCompletedPageInfoFail","",e,"","")},success(){ste("fetchPaymentCompletedPageInfoSuccess","",e,"","")},complete(t){y.info("webapi_getpaycallbackappconf 回调",t),Qee.get(e)?(Qee.get(e)(t),Qee.delete(e)):Yee.set(e,t)}})},tte=e=>{var{method:t,payCompletedPageId:r,success:n,fail:i,args:a}=e;switch(t){case"getPaymentCompletedPageInfo":Zee(r,(e=>{e.errMsg.indexOf(":fail")>=0?i(e):n(e)}));break;case"couponAdExposure":ste("couponAdExposure",JSON.stringify(a),r,a.payType,a.mchExtId);break;case"bottomAdExposure":var o=Date.now(),s=Wee[r];if(s){var{timeA:l,timeB:c,timeC:u,timeD:d}=s;void 0===c?(a.costOne=u-l,a.costTow=d-u,a.costThree=o-d,a.total=a.costOne+a.costTow+a.costThree):u-c<0?(a.costOne=u-l,a.costTow=d-u,a.costThree=o-d,a.costDuringA2B=c-l,a.costDuringB2E=o-c,a.total=a.costOne+a.costTow+a.costThree):(a.cost1=c-l,a.cost2=u-c,a.cost3=d-u,a.cost4=o-d),ste("bottomAdExposure",JSON.stringify(a),r,a.payType,a.mchExtId)}break;case"amountExposure":ste("amountExposure","",r,a.payType,a.mchExtId);break;case"checkPayCompletedPageId":n({valid:Uee.includes(r)});break;case"customTicketExposure":var p=Date.now(),h=Wee[r];if(h){var{timeA:f,timeB:g,timeC:v,timeD:m}=h,b={};void 0===g?(b.costOne=v-f,b.costTow=m-v,b.costThree=p-m,b.total=b.costOne+b.costTow+b.costThree):v-g<0?(b.costOne=v-f,b.costTow=m-v,b.costThree=p-m,b.costDuringA2B=g-f,b.costDuringB2E=p-g,b.total=b.costOne+b.costTow+b.costThree):(b.cost1=g-f,b.cost2=v-g,b.cost3=m-v,b.cost4=p-m),ste("customTicketExposure",JSON.stringify(b),r,"goldPlan",a.mchExtId)}break;case"report":var{actionType:_,actionStatus:w,mchExtId:S,payType:C}=a;ste(_,w,r,C,S);break;case"navigateToOrSwitchTab":y.info("navigateToOrSwitchTab",a);var{path:k}=a,I=k.split("?")[0];br.isTabBarPage({route:I})?WM({url:"/"+I,success:e=>{y.info("jumpMiniprogram switchTab success",e),console.log(e)},fail:e=>{y.error("jumpMiniprogram switchTab fail",e),console.error(e)}}):BM({url:"/"+k,success:e=>{y.info("jumpMiniprogram navigateTo success",e),console.log(e)},fail:e=>{y.error("jumpMiniprogram navigateTo fail",e),console.error(e)}})}},rte,nte=e=>{rte=e},ite=e=>"function"==typeof rte&&rte(e),ate=(e={})=>{var t,r,n=e.payCompletedDataObj?"goldPlan":"normal",{payCompletedPageId:i}=e;return ste("beforeOpenPaymentCompletedPage","",i,n,Kee(e.payCompletedDataObj),null===(t=e.payCompletedDataObj)||void 0===t||null===(r=t.mch_conf)||void 0===r?void 0:r.custom_url),zee(i,"timeC",Date.now()),new Promise((t=>{var r=`wxpage://inner-page?pageType=payCompletedPage&payCompletedPageArgs=${encodeURIComponent(JSON.stringify(e))}`;_M.routeRequest({blockUntilFinished:!0,name:"navigateTo",args:{url:r},requestFunc(){uu.openingInnerPage=!0,(new Date).toLocaleString(),Id("navigateTo",{permissionBytes:[1,1,1],url:r,success(e){(new Date).toLocaleString(),y.info("openPayCompletedPage success",e),t()},fail(e){_M.unblock(),y.info("openPayCompletedPage fail",e),t()}})}})}))},ote="",ste=(e,t,r,n,i="",a="")=>{var o,s=(null==br?void 0:br.getCurrentRoute())||"";o="__wx__/inner-page"===s?ote:ote=s;var l=Du()+" "+Lu();T.reportKeyValue({key:"PayCompletedPage",value:[1,o,e,encodeURIComponent(t),r,n,l,i,encodeURIComponent(a)].join(",")})},lte=()=>{var e=Cf("openPaymentCompletedPage"),t=Cf("openPaymentCompletedPageFull");if(y.info("支付回调页 mainControl=",e),y.info("支付回调页 hasFull=",t),e){if(t)return!0;var r="wx_wxapp_expt_payad",n=Cq([r]);return void 0===n[r]?(y.info("支付回调页 exptDefaultTrue"),!0):"1"===n[r]?(y.info("支付回调页 expt=",!0),!0):(y.info("支付回调页 expt=",!1),!1)}return!1},cte=()=>Cf("paymentCompletedPageCoupon"),ute={},dte={};ur("onPayResultBeforeUserInteractionEnd",(e=>{if(!Ue()){var t=ute[e.requestId];if(t){var{payCompletedPageId:r,withCoupon:n,hasOpenPaymentCompletedPagePermission:i,showNavBackButton:a}=t;zee(r,"timeA",Date.now()),delete ute[e.requestId];var o,s,l,c,u,d,p,h,f,g,v,m={withCoupon:n};if(e.payCompletedData)null!==(u=o=JSON.parse(Rv(e.payCompletedData)))&&void 0!==u&&null!==(d=u.mch_conf)&&void 0!==d&&d.mch_ext_id&&(l=m.mchExtId=o.mch_conf.mch_ext_id),null!==(p=o)&&void 0!==p&&null!==(h=p.mch_conf)&&void 0!==h&&h.custom_url&&(s=o.mch_conf.custom_url),null!==(f=o)&&void 0!==f&&null!==(g=f.mch_conf)&&void 0!==g&&g.callback_type&&(c=o.mch_conf.callback_type);if(v=e.payCompletedData?"goldPlanBusinessPay":i?"nomalBusinessPay":"noCallbackPagePay",ste("onPayResultBeforeUserInteractionEnd",v,r,e.payCompletedData?"goldPlan":"normal",l,s),i||o){var y=pte(m,n,o,r,a,c,s,l);dte[r]={handleBeforeUserInteractionEndPromise:y,type:v,mchExtId:l}}else ste("paySuccess","noCallbackPagePay",r,o?"goldPlan":"normal","")}}}));var pte=function(){var e=xd()((function*(e,t,r,n,i,a,o,s){var l=!1;if(r){y.info("payCompletedDataObj ==",r),ite(e),ste("paySuccess","goldPlanBusinessPay",n,"goldPlan",s,o),T.reportFrameworkIDKey(19);try{if(ste("payCompletedData",a,n,"goldPlan",s,o),2===a){var c=0,u=()=>{c++,(e=>{jee({success:()=>{},fail:e})})((()=>{10!==c&&setTimeout((()=>{u()}),500)}))};u()}else if(3===a){var d=yield Qk(),p=null==d?void 0:d.data,h=null==p?void 0:p.opinfo_async;T.reportFrameworkIDKey(20),l=!0,yield ate({payCompletedPageId:n,withCoupon:t,payCompletedDataObj:r,banCustom:1===(null==h?void 0:h.ban_payment_diy_receipt),showNavBackButton:i})}}catch(e){ste("payCompletedDataDecodeFail",e.message||e.errMsg,n,"goldPlan","",o),y.error("payCompletedData base64 decode fail",e.message)}}else{ste("paySuccess","nomalBusinessPay",n,"normal","");var f=ite(e);if(It(f)){var g=yield Promise.race([new Promise((e=>{setTimeout((()=>{e(void 0)}),2e3)})),f]);y.info("是否有广告配置",g),ste("checkHaveAdSuccess",!0===g,n,"normal",""),!0===g&&(l=!0,yield ate({payCompletedPageId:n,withCoupon:t,showNavBackButton:i}))}else y.info("checkHaveAdPromise is not promise",f,n),ste("checkHaveAdSuccess",!1,n,"normal","")}return{needSetCallbackResult:l}}));return function(t,r,n,i,a,o,s,l){return e.apply(this,arguments)}}(),hte=function(){var e=xd()((function*(e,t){zee(e,"timeB",Date.now()),(new Date).toLocaleString();var r=dte[e];if(r){var{handleBeforeUserInteractionEndPromise:n,type:i,mchExtId:a}=r;ste("handleAfterUserInteractionEnd","",e,i,a),delete dte[e];var{needSetCallbackResult:o}=yield n;o&&fte(t,e),!0===Vee[e]?(ste("publish_afterPayUserInteractionEnd",1,e,i,a),Kr("afterPayUserInteractionEnd",{payCompletedPageId:e}),delete Vee[e]):Vee[e]=()=>{ste("publish_afterPayUserInteractionEnd",2,e,i,a),Kr("afterPayUserInteractionEnd",{payCompletedPageId:e})}}}));return function(t,r){return e.apply(this,arguments)}}(),fte=(e,t)=>{e.payCompletedPage={onLoad(e){setTimeout((()=>{e()}),0)},onUnload(e){Jee(t,e)}}};re.onReady((()=>{nte((({withCoupon:e,mchExtId:t})=>ADSDK.loadPayAd({hasWxPayCustomCard:!!e,mchExtId:t})))}));var gte=(()=>{var e,t,r,n;return df((i=>{e=+i.scene||0,t=i.scene_note||i.sceneNote||"",r=+i.prescene||0,n=i.prescene_note||i.presceneNote||""})),re.onReady((()=>{(()=>{var i=re.appLaunchInfo||{};e=i.scene||0,t=i.scene_note||i.sceneNote||"",r=i.prescene||0,n=i.prescene_note||i.presceneNote||""})()})),()=>({scene:e,scene_note:t,prescene:r,prescene_note:n})})();function vte(e){var t=re.accountInfo&&re.accountInfo.appId||"noAppId";WC("getRiskWarningFromGlobalStorage",{appId:t},void 0,e)}function mte(e,t){var r=re.accountInfo&&re.accountInfo.appId||"noAppId";e&&WC("setRiskWarningToGlobalStorage",{riskWarning:e,appId:r},void 0,t)}function yte(e){var t=re.accountInfo&&re.accountInfo.appId||"noAppId";WC("getRequestPaymentFromGlobalStorage",{appId:t},void 0,e)}function bte(e,t){var r=re.accountInfo&&re.accountInfo.appId||"noAppId";e&&WC("setRequestPaymentToGlobalStorage",{requestPayment:e,appId:r},void 0,t)}var _te=500,wte={UNCHECK:0,CHECK_FAIL:1,CHECK_TIMEOUT:2,SUCCESS:3,REJECT:4},Ste={NONE:0,CONFIRM:1,CANCEL:2},Cte={NONE:0,SUCCESS:1,FAILED:2},kte=({ticket:e,checkTicketStatus:t})=>{var r=re.appLaunchInfo||{},n=gte(),i=[r.sessionid||r.sessionId||"",n.scene,n.scene_note,n.prescene,n.prescene_note,t||0,e||""].join(",");T.reportKeyValue({key:"RequestPaymentCheckTicket",value:i})},Ite=function(){var e=xd()((function*({extUserUin:e,addOrderStatus:t,requestPaymentStatus:r,requestPaymentErrmsg:n,prepayId:i,payInfo:a,outOrderId:o}){var s=YS(!0),l=re.appLaunchInfo||{},{data:c}=yield EE({apiName:"webapi_openproductreportorder",reqData:{ext_info:{ext_useruin:e,ext_appid:re.host&&re.host.appId,session_id:l.sessionid||l.sessionId||"",...gte(),add_order_status:t,request_payment_status:r,request_payment_errmsg:n,model:s.model,brand:s.brand,version:s.version,system:s.system,platform:s.platform,sdk_version:s.SDKVersion},prepay_id:i,pay_info:a,order_info:{out_order_id:o}}});return c}));return function(t){return e.apply(this,arguments)}}(),Pte=e=>{var t=Object.keys(uu.query).map((e=>`${e}=${uu.query[e]}`)).join("&"),r=[`${uu.lastRoute}?${t}`,e].join(",");T.reportKeyValue({key:"RequestPaymentRiskConfirm",value:r})},Ate=Zc(TE),xte=function(){var e=xd()((function*(e={}){var{data:t}=yield Ate({apiName:"webapi_openproductcheckticket",reqData:{...e}});return t}));return function(){return e.apply(this,arguments)}}(),Tte=function(){var e=xd()((function*(){var{time:e,isRiskWarning:t,wording:r}=yield new Promise((e=>{yte((t=>{var r,n,i,a,o=!1,s="";((null==re||null===(r=re.appContactInfo)||void 0===r||null===(n=r.operationInfo)||void 0===n||null===(i=n.jsonInfo)||void 0===i||null===(a=i.warning_info)||void 0===a?void 0:a.jsapi_alter)||[]).forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(o=!0,s=e.wording)})),e({time:t,isRiskWarning:o,wording:s})}))})),n=(+new Date-(e||0))/1e3/60;if(t&&!(n<30)){var i=Ste.NONE;try{yield new Promise(((e,t)=>{RW({content:r,confirmText:"继续支付",cancelText:"取消",success(r){r.confirm?(i=Ste.CONFIRM,e()):(i=Ste.CANCEL,t(new Error("cancel")))}})})),bte(+new Date)}finally{Pte(i)}}}));return function(){return e.apply(this,arguments)}}(),Ete=!1,Mte=500,Rte=!1,Ote=Zc(TE),Dte=function(){var e=xd()((function*(e){var t=xk(),{data:r}=yield Ote({apiName:"webapi_openproduct_bizaccount",reqData:{path:e.path,query:JSON.stringify(e.query||{}),cookie:t}});return r}));return function(t){return e.apply(this,arguments)}}(),Lte=function(){var e=xd()((function*(e){try{if(void 0!==e.openproduct_checkticket&&(Ete=!!e.openproduct_checkticket),void 0!==e.openproduct_checktickettimeout&&(Mte=parseInt(e.openproduct_checktickettimeout,10)),void 0!==e.openproduct_checkticket_deprecated&&(Rte=!!e.openproduct_checkticket_deprecated),void 0!==e.openleague_cookie){var t=[];Ck(e.openleague_cookie||"",!1,t);var r=Ek({cookies:t});r&&y.error("[set openleague_cookie]",r)}if(void 0!==e.share_cookie){var n=[];Ck(e.share_cookie||"",!1,n);var i=Ek({cookies:n,isTemporary:!0});i&&y.error("[set share_cookie]",i)}}catch(e){}}));return function(t){return e.apply(this,arguments)}}();re.onReady((()=>{He()&&(setTimeout((()=>{Cf("requestPayment")&&(Vm()?new Promise((e=>{Hk({id:qk.RequestBizaccount,success:t=>{var r=t.data;e(r)},fail:()=>{e({})}})})):Dte(re.appLaunchInfo||{})).then((e=>{Lte(e)}))}),4e3),df((e=>{(e.reLaunch||e.isLaunch)&&setTimeout((()=>{Cf("requestPayment")&&Dte(e).then((e=>{Lte(e)}))}),1500)})))}));var Nte=()=>{var e,t,r;return{shouldCheck:null!==(e=Ete)&&void 0!==e&&e,timeout:null!==(t=Mte)&&void 0!==t?t:_te,deprecated:null!==(r=Rte)&&void 0!==r&&r}},Bte,$te=null,jte=(e,t)=>{var r=[];if(null!=e&&e.content){var n=e.content.matchAll(/(?<preText>.*?)<a\shref="(?<href>.*?)">(?<linkText>.*?)<\/a\s?>(?<endText>.*?)/g);if(n){var i=[...n];if(i){r=i.map((e=>{if(e.groups){var{preText:t,linkText:r,href:n}=e.groups;return{preText:t,linkText:r,href:n}}return{}}));var a=i[i.length-1][0],o=e.content.split(a)[1];r.push({preText:o})}}}__sclEngine__.initScl((n=>{Bte=jV((()=>{}),[1,2,3]),($te=n.mainRoot.append("sync-order-modal",{contentWordingList:r,title:e.title,confirmText:e.accept_button_word,cancelText:e.deny_button_word,imgUrl:e.img_url},{underMenuButton:!0})).addListener("jump",(({detail:e})=>{jq({url:e.url,success:e=>{},fail:e=>{y.error("sync-order-modal fail",e)}})})),$te.addListener("destroy",(({detail:e})=>{FV(Bte);try{n.mainRoot.remove($te)}catch(e){y.error("remove error:",e)}$te=null,"allow"===e.reason?t({accept:!0}):"cancel"===e.reason&&t({accept:!1})}))}),!0)},Fte,Wte=!1,Ute="",Vte={title:"",content:"",accept_button_word:"",deny_button_word:"",img_url:""};re.onReady((()=>{var e,t,r,n,i=null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(r=t.wxa_mgr)||void 0===r||null===(n=r.mgr_list)||void 0===n?void 0:n.some((e=>1053===e.id&&1===e.value));He()&&i?setTimeout((()=>{var e;Cf("requestPayment")?((e=Vm()?new Promise((e=>{Hk({id:qk.CheckUserOrderAuthStatus,success:t=>{var r=t.data;e(r)},fail:t=>{y.error("CheckUserOrderAuthStatus 1 fail",t),e({})}})})):new Promise((e=>{TE({timeout:1e4,apiName:"webapi_mmec_wxa_auth",sdkApiName:"CheckUserOrderAuthStatus",reqData:{method:"CheckUserOrderAuthStatus",msg:{}},success:t=>{e(t.data)},fail:t=>{y.error("CheckUserOrderAuthStatus 2 fail",t),e({})}})}))).then((e=>{"number"==typeof e.status?1!==e.status&&0!==e.status||(Ute=e.cookie,Wte=0===e.status&&1===e.need_auth,Vte=e.auth_display_info||{}):Ute=`mmec_wxa_order_payment=${Nt()}; expires=${Math.round(Date.now()/1e3)+2592e3}; busid=mmec_wxa_order;; `;var t=[];Ck(Ute||"",!1,t),Ek({cookies:t})})),Fte=e):Fte=Promise.resolve({})}),4e3):Fte=Promise.resolve({})}));var qte=()=>Fte,zte=()=>{if(Wte)return new Promise((e=>{Wte=!1,jte(Vte,(({accept:t})=>{TE({apiName:"webapi_mmec_wxa_auth",sdkApiName:"SetUserOrderAuthStatus",reqData:{method:"SetUserOrderAuthStatus",msg:{status:t?1:2,cookie:Ute}},success:e=>{if(e.data.cookie){var t=[];Ck((Ute=e.data.cookie)||"",!1,t),Ek({cookies:t})}},fail:e=>{y.error("SetUserOrderAuthStatus fail",e);var t=[];Ck((Ute=`mmec_wxa_order_payment=${Nt()}; expires=${Math.round(Date.now()/1e3)+2592e3}; busid=mmec_wxa_order;; `)||"",!1,t),Ek({cookies:t})}}),e()}))}))},Gte=function(){var e=xd()((function*(e,t={}){e=Object.assign({},e);var{deprecated:r,shouldCheck:n}=Nte(),i=n||!1,a=lte()&&(Ie||ke),o=cte();y.info("是否开了支付回调页功能",a),y.info("是否配了商家优惠券",o);var s=qee();if(a&&ete(s,e.payCompletedPageOptions),i){if(r)throw new Error("wx.requestPayment is disabed");var l=wte.UNCHECK,c=e.ticket||"";try{var u=Nte().timeout||_te;try{var{is_authorized:d}=yield Promise.race([xte({ticket:c,prepay_id:e.package.replace("prepay_id=",""),...gte(),cookie:xk(),sdk_version:re.SDKVersion||""}),Qte("timeout",u)]);l=d?wte.SUCCESS:wte.REJECT}catch(e){y.error("[paymentCheckTicket] fail",e),l=e&&"timeout"===e.message?wte.CHECK_TIMEOUT:wte.CHECK_FAIL}if(l===wte.REJECT)throw new Error("wx.requestPayment is disabled in the current context")}finally{kte({ticket:c,checkTicketStatus:l})}}var p,h=Cte.NONE;try{var f,g,v=yield tre(e,{payCompletedPageId:s,withCoupon:o,hasOpenPaymentCompletedPagePermission:a,showNavBackButton:null===(f=e)||void 0===f||null===(g=f.payCompletedPageOptions)||void 0===g?void 0:g.showNavBackButton,...t});return h=Cte.SUCCESS,yield zte(),v}catch(e){throw h=Cte.FAILED,p=e.message,e}finally{i&&Ite({prepayId:(e.package||"").replace("prepay_id=",""),requestPaymentStatus:h,requestPaymentErrmsg:p})}}));return function(t){return e.apply(this,arguments)}}(),Hte=0,Kte=eu("requestPayment",function(){var e=xd()((function*(e){if(!Oe){var t=Rt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);return yield qte(),yield Gte(e)}zc("requestPayment",e,"requestPayment:fail SDK暂不支持此API")}));return function(t){return e.apply(this,arguments)}}()),Jte=eu("requestPayment",function(){var e=xd()((function*(e){var t=Rt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);return e=Object.assign({},e),yield tre(e)}));return function(t){return e.apply(this,arguments)}}()),Xte=Zc(md.bind(null,"requestPayment")),Yte=Zc(md.bind(null,"requestScanPOSPay")),Qte=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),Zte=!1,ere=()=>Zte,tre=function(){var e=xd()((function*(e,{payCompletedPageId:t,withCoupon:r,hasOpenPaymentCompletedPagePermission:n,showNavBackButton:i,useRequestScanPOSPay:a=!1,ext:o={}}={}){var s,l,c,u;yield Tte();var d=xk();e.passCookies&&"string"==typeof e.passCookies?e.cookie=d?e.passCookies+";; "+d:e.passCookies:d?e.cookie=d:delete e.cookie,delete e.passCookies,e.cookie;var p=on(),h=null===(s=re.appContactInfo)||void 0===s||null===(l=s.operationInfo)||void 0===l||null===(c=l.jsonInfo)||void 0===c||null===(u=c.op_info)||void 0===u?void 0:u.jump_homepage_after_pay,f=()=>Zte=!0;o.afterSuccess=f,Ce&&(o.afterAll=f),Hte++,ute[Hte]={payCompletedPageId:t,withCoupon:r,hasOpenPaymentCompletedPagePermission:n,showNavBackButton:i};var g=a?Yte:Xte,v=yield g({adUxInfo:p,...e,grantMessageQuota:!0,requestId:Hte,commonUxInfo:sn()},o);y.info("支付客户端返回的 res",v);var m=v.payCompletedData;if(delete v.payCompletedData,h){var b=re.entryPagePath;b&&("/"!==b[0]&&(b="/"+b),b=b.replace(".html",""),FM({url:b}),TM(100))}else(n||m)&&(yield hte(t,v));return TE({apiName:"webapi_reportpayrecord",reqData:{prepay_id:e.package.replace("prepay_id=","")}}),WC("reportPaymentFormId",{packageStr:e.package}),aj(),v}));return function(t){return e.apply(this,arguments)}}(),rre=3e4,nre=null,ire=null,are=()=>{ire=null,nre=null,VW({},!0)};en("InputWxPayConfirm",((e,t)=>{ire&&(clearTimeout(ire),are()),nre=+e.value,Kr("InputWxPayAmountSet",e,[t]),$W({icon:"loading",title:"正在加载",duration:rre,mask:!0},!0),ire=setTimeout((()=>{are(),Kr("InputWxPayAmountTimeout",e,[t])}),rre)}));var ore=e=>{var t=()=>{ire&&clearTimeout(ire),are()};if(!nre)return t(),zc("requestScanPOSPay",e,"invalid amount");var r=Object.assign({},e,{amount:nre});return t(),sre(r)},sre=eu("requestScanPOSPay",function(){var e=xd()((function*(e,t={}){var r=Rt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:"",amount:0});if(r)throw new Error(`parameter error: ${r}`);return yield Gte(e,{ext:t,useRequestScanPOSPay:!0})}));return function(t){return e.apply(this,arguments)}}()),lre=Zc(TE),cre=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),ure={NONE:0,SUCCESS:1,FAILED:2,TIMEOUT:3,REJECTED:4},dre={NONE:0,SUCCESS:1,FAILED:2},pre=function(){var e=xd()((function*({extUserUin:e,prepayId:t,payInfo:r,orderInfo:n}={}){var i=re.appLaunchInfo||{},a=re.host&&re.host.appId,o=i.sessionid||i.sessionId||"",s=xk(),l=re.SDKVersion||"",c=gte(),u=Date.now(),{data:d}=yield lre({apiName:"webapi_openproductaddorder",reqData:{ext_info:{ext_useruin:e,ext_appid:a,session_id:o,cookie:s,sdk_version:l,...c},prepay_id:t,pay_info:r,order_info:n,check_agreement:!0}}),p=Date.now(),h=[e,a,o,s,l,c.scene||"",c.scene_note||"",c.prescene||"",c.prescene_note||"",t,r,p-u,p].join(",");return T.reportKeyValue({key:"PaymentAddOrderCall",value:h}),d}));return function(){return e.apply(this,arguments)}}(),hre=e=>{var t;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}else t=e;return new Promise((e=>{if(!t)return e(!0);__sclEngine__.initScl((r=>{var n=r.mainRoot.append("request-order-payment",{...t});n.addListener("confirm",(()=>e(!0))),n.addListener("cancel",(()=>e(!1)));var i=jV((()=>{n.handleCancel(),FV(i)}))}))}))},fre=(e,t,r="")=>new Promise(((n,i)=>{qW(),RW({title:e,confirmText:t,cancelText:r,showCancel:!!r,success({confirm:e}){n(!!e)},fail:i})})),gre=function(){var e=xd()((function*(){var{data:e}=yield lre({apiName:"webapi_openproductacceptagreement",reqData:{}});return e}));return function(){return e.apply(this,arguments)}}(),vre=eu("requestOrderPayment",xd()((function*(e={}){if(Oe)zc("requestOrderPayment",e,"requestOrderPayment:fail SDK暂不支持此API");else{var t=e.package,r="",n="",i="string"==typeof t,a=i&&0===t.indexOf("pay_info="),o=i&&0===t.indexOf("pay_score=");if(a||o){var s=Rt(e,{package:""});if(s)throw new Error(`parameter error: ${s}`);n=o?t.replace("pay_score=",""):t.replace("pay_info=","")}else{var l=Rt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(l)throw new Error(`parameter error: ${l}`);r=(t||"").replace("prepay_id=","")}var c,u,d,{orderInfo:p={},extUserUin:h,...f}=e,g=Nte().timeout,v=(e.orderInfo||{}).out_order_id,m=ure.NONE,b=dre.NONE;try{try{var _=yield Promise.race([pre({extUserUin:h,prepayId:r,payInfo:n,orderInfo:p}),cre("timeout",g)]),{errcode:w,errmsg:S}=_,{cookie:C,pay_info:k,agreement_info:I,risk_info:P}=_;if(P&&P.decision){var{decision:A,action:x,wording:T,block_page_info:E}=P;if(1===A){if(1===x)yield fre(T,E.alternative_btn_wording);else if(2===x){var M=yield fre(T,E.btn_wording,E.alternative_btn_wording);M&&E.btn_direct_url?jq({url:E.btn_direct_url}):!M&&E.alternative_btn_wording_direct_url&&jq({url:E.alternative_btn_wording_direct_url})}}else if(2===A&&50===x){(yield fre(T,E.btn_wording,E.alternative_btn_wording))||(w=1010067,S="user cancel")}}if(1040046===w){var R=I.agreement_content;(yield hre(R))?(w=0,S="",gre()):S=S||"user rejected"}if(m=0===w?ure.SUCCESS:ure.REJECTED,u=S,c=w,n&&k&&(n=k),0===w&&void 0!==C){var O=[];Ck(C||"",!1,O);var D=Ek({cookies:O});D&&y.error("[set openleague_cookie]",D)}}catch(e){m=e&&"timeout"===e.message?ure.TIMEOUT:ure.FAILED}if(m===ure.REJECTED)throw new Qc(u||"addOrder failed",{addOrderErrCode:c});if(n)try{var L=OrderMidasSDK.getMidasPayApi(e.midasExtraData),N=e.midasEnv||"release";yield new Promise(((e,t)=>{L.init(N);var r=(r,n,i)=>{0===r?e():t(-2===r?new Error(`cancel, errCode: ${r}, innerCode: ${n}, message: ${i}`):-3===r?new Error(`parameter error, errCode: ${r}, innerCode: ${n}, message: ${i}`):new Error(`fail, errCode: ${r}, innerCode: ${n}, message: ${i}`))};o?L.launchPayScore(n,{mode:"wxpayScoreUse"},r):L.pay(n,r)})),b=dre.SUCCESS}catch(e){throw d=e.message||"unknown",b=dre.FAILED,e}else try{var B=Ik({key:"prepay_id",value:r,busid:"mmbiz_wxa_related_order"});f.passCookies&&"string"==typeof f.passCookies?f.passCookies=B+";;"+f.passCookies:f.passCookies=B,yield tre(f),b=dre.SUCCESS}catch(e){throw d=e.message||"unknown",b=dre.FAILED,e}}finally{Ite({extUserUin:h,addOrderStatus:m,requestPaymentStatus:b,requestPaymentErrmsg:d,prepayId:r,payInfo:n,outOrderId:v})}}}))),mre=(e={})=>{var{success:t,fail:r,complete:n}=e;TE({sdkApiName:"checkBeforeAddOrder",apiName:"webapi_openproductcheckscene",reqData:{scene:gte().scene,cookie:xk()},success(e){"function"==typeof t&&t(e),"function"==typeof n&&n(e)},fail(e){"function"==typeof r&&r(e),"function"==typeof n&&n(e)}})},yre=e=>{Oe?zc("handleWCPayOverseaWalletBuffer",e,"handleWCPayOverseaWalletBuffer:fail SDK暂不支持此API"):md("handleWCPayOverseaWalletBuffer",e)},bre=(e={})=>{Oe?zc("openSelectPayment",e,"openSelectPayment:fail SDK暂不支持此API"):md("openSelectPayment",e)},_re=(e={})=>{Oe?zc("requestFacetoFacePayment",e,"requestFacetoFacePayment:fail SDK暂不支持此API"):md("requestFacetoFacePayment",e)},wre=e=>{Oe?zc("setCurrentPaySpeech",e,"setCurrentPaySpeech:fail SDK暂不支持此API"):md("setCurrentPaySpeech",e)},Sre=e=>{Oe?zc("openWCPayCardList",e,"openWCPayCardList:fail SDK暂不支持此API"):md("openWCPayCardList",e)},Cre=e=>{Oe?zc("requestH5Transaction",e,"requestH5Transaction:fail SDK暂不支持此API"):md("requestH5Transaction",e)},kre=e=>{Oe?zc("requestPaymentToBank",e,"requestPaymentToBank:fail SDK暂不支持此API"):md("requestPaymentToBank",e)},Ire=e=>{Oe?zc("verifyPaymentPassword",e,"verifyPaymentPassword:fail SDK暂不支持此API"):md("verifyPaymentPassword",e)},Pre=(e={})=>{Oe?zc("requestQueryCashier",e,"requestQueryCashier:fail SDK暂不支持此API"):Vc("requestQueryCashier",e,{timeStamp:0,nonceStr:"",package:"",signType:"",paySign:""})&&md("requestQueryCashier",e)},Are=e=>{Oe?zc("openWCPayOverseaPaymentReceive",e,"openWCPayOverseaPaymentReceive:fail SDK暂不支持此API"):md("openWCPayOverseaPaymentReceive",e)},xre=e=>{Oe?zc("requestJointPayment",e,"requestJointPayment:fail SDK暂不支持此API"):md("requestJointPayment",e)},Tre=e=>{var t=bd(e);return(e={})=>{t("requestPersonalPay",e)}},Ere=Tre(),Mre=e=>{Vc("notifyWCPayResult",e,{appId:"",timeStamp:"",bizEventKey:""})&&md("notifyWCPayResult",e)},Rre=e=>{var t;md("requestMedicalInsurancePay",Object.assign({},e,{appid:(null===(t=re.accountInfo)||void 0===t?void 0:t.appId)||""}))},Ore=e=>{md("requestMerchantTransfer",e)},Dre=function(e,t,r){setTimeout((()=>{Kr("callbackMiniProgramFunction",{callbackId:t,argArr:r},[e])}),0)},Lre=e=>{var t=null;"object"!=typeof e&&(e=[e]);for(var r=0;r<e.length;r++){var n=e[r];".js"!==n.slice(-3)&&(n+=".js");try{t=wr.require(n)}catch(e){}if(t)return t}return t},Nre=({callbackId:e,paths:t,funcName:r,argArr:n},i)=>{var a=Lre(t);if(a)if("function"!=typeof a[r]){Dre(i,e,[{errMsg:"callMiniProgramFunction:fail Function not found"}])}else n.push(((...t)=>{Dre(i,e,t)})),a[r].apply({},n);else{Dre(i,e,[{errMsg:"callMiniProgramFunction:fail File not found"}])}};en("callMiniProgramFunction",Nre);var Bre=(e,t,r,n)=>{var i=Lre(e);if(i)if("function"!=typeof i[t]){n({errMsg:"callMiniProgramFunction:fail Function not found"})}else r.push(((...e)=>{n(...e)})),i[t].apply({},r);else{n({errMsg:"callMiniProgramFunction:fail File not found"})}},{pluginInfos:$re}=Lh,jre,Fre=[],Wre=e=>{var t=String(e).split(".",3);return t.length<3?-1:Number(1e3*t[0]*1e3+1e3*t[1]+1*t[2])},Ure,Vre=e=>{if(e){void 0===jre&&(jre=[]);for(var t=0;t<e.length;t++){var r=e[t];jre.push(r);var n=r.appId;if(void 0!==r.appId&&void 0!==r.plugin_list&&(r.plugin_list[0]&&$re[n])){var i=r.plugin_list[0].PluginNetWork||{},a=r.plugin_list[0].last_version||{};$re[n].domains={request:i.RequestDomain||[],uploadFile:i.UploadDomain||[],downloadFile:i.DownloadDomain||[],connectSocket:i.WsRequestDomain||[],tcp:i.TCPDomain||[]},$re[n].latestCustomVersion=Wre(a.custom_version)}}}};function qre(){void 0!==Ure&&Ure(),Fre.forEach((e=>{e(jre)}))}function zre(e){void 0===jre?Fre.push(e.success):e.success(jre)}var Gre=(e,t)=>{for(var r=0;r<e.length;r++){var n=e[r],i=n.plugin_id,a=$re[i];if(!a)return;a.banning=n.banning,a.runningFlag=n.running_flag_info,a.hostSign={noncestr:n.noncestr||"",timestamp:n.timestamp||"",signature:n.host_sign||""},!0!==t[i]&&"latest"===a.specifiedVersion&&2===a.runningFlag&&(a.runningFlag=0)}Hre(e),Ure&&Ure()},Hre=e=>{"android"===re.platform&&(Ure=()=>{for(var t=function(){var t=e[r],n=t.plugin_id,i=$re[n];if(!i)return{v:void 0};var a=(e,r)=>{var n=new Set(i.domains[e]);t[r].forEach((e=>{n.add(e)})),i.domains[e]=Array.from(n)};a("request","request_domain"),a("uploadFile","upload_domain"),a("downloadFile","download_domain"),a("connectSocket","wsrequest_domain")},r=0;r<e.length;r++){var n=t();if("object"==typeof n)return n.v}y.info("[Plugin] (5072) doCombineDomainsFromVerifyPlugin -> ",Object.keys($re).map((e=>[e,$re[e].domains])))})},Kre=({version:e,customVersion:t,specifiedVersion:r})=>({customVersion:t,version:e,domains:{},hostSign:{},specifiedVersion:r}),Jre=({name:e,scene:t,strategy:r,timeDiffToLastTap:n=0})=>{var i;void 0!==br&&(i=br.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===uu.currentWebviewId))||{});var a=[e,t,T.getAppType(),i?i.route:"",r||0,n].map(encodeURIComponent).join(",");T.reportKeyValue({key:"RecycledAPI",value:a})},Xre={constant:{modalCancel:"取消"}},Yre=["modalConfirm1","modalMessage1","modalSkipLink1","modalConfirm2","modalMessage2","modalSkipLink2","attemptSkipMaxThreshold","attemptSkipMinTime","currentAttemptSkipCount","shouldExecuteFirstSkipLimitStrategy","shouldExecuteSkipMaxLimitStrategy","expId1","expId2","startLimitCount","uneffectFirstSkipLimit"];Xre.attemptSkipMaxThreshold=5,Xre.currentAttemptSkipCount=0,Xre.currentUserFirstUseThisGame=!1,Xre.currentUserUseThisGameTime=0,Xre.currentUserUseThisGameTimer=null,Xre.isPause=null,Xre.limitStrategy=null;var Qre=e=>1===e?3303:3304,Zre={count:0,uuid:null,navigateCount:0,bannedCount:0},ene=()=>{Zre.uuid||(Zre.uuid=Nt())},tne=(e,t,r)=>{ene(),Zre.count,Zre.uuid,Zre.bannedCount,Zre.navigateCount,parseInt(Date.now()/100,10),T.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,Qre(e),0,1,"","",My(),encodeURIComponent(JSON.stringify({content:t,expid:r,uuid:Zre.uuid,bannedCount:Zre.bannedCount,navigateCount:Zre.navigateCount,count:Zre.count,timestamp:parseInt(Date.now()/100,10)}))].join(",")})},rne=(e,t,r)=>{T.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,Qre(e),1,2,"","",My(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})},nne=(e,t,r)=>{T.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,Qre(e),2,2,"","",My(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})};Object.defineProperties(Xre,{allowSkip:{get(){return this.shouldExecuteSkipMaxLimitStrategy&&(this.startLimitCount&&this.currentAttemptSkipCount++,this.currentAttemptSkipCount>this.attemptSkipMaxThreshold)?(this.limitStrategy=1,tne(1,this.modalMessage,this.expId1),1):this.shouldExecuteFirstSkipLimitStrategy&&this.currentUserUseThisGameTime<=this.attemptSkipMinTime?(this.limitStrategy=2,tne(2,this.modalMessage,this.expId2),2):3},configurable:!1},needLimit:{get(){return this.shouldExecuteFirstSkipLimitStrategy||this.shouldExecuteSkipMaxLimitStrategy},configurable:!1},...Yre.reduce(((e,t)=>(e["set"+t.slice(0,1).toUpperCase()+t.slice(1)]={get:()=>e=>{Xre[t]=e},configurable:!1},e)),{}),modalMessage:{get(){return this["modalMessage"+this.limitStrategy]},configurable:!1},modalConfirm:{get(){return this["modalConfirm"+this.limitStrategy]},configurable:!1},modalSkipLink:{get(){return this["modalSkipLink"+this.limitStrategy]},configurable:!1},reportModalConfirm:{get(){return()=>{rne(this.limitStrategy,this.modalMessage,this["expId"+this.limitStrategy])}},configurable:!1},reportModalCancel:{get(){return()=>{nne(this.limitStrategy,this.modalMessage,this["expId"+this.limitStrategy])}},configurable:!1}}),Xre.resumeLimitTimer=function(e){this.isPause=!1,e&&clearTimeout(this.currentUserUseThisGameTimer),this.currentUserUseThisGameTimer=setTimeout((()=>{this.currentUserUseThisGameTime++,this.isPause||(this.currentUserUseThisGameTime<=this.attemptSkipMinTime?this.resumeLimitTimer():this.uneffectFirstSkipLimit||(this.setUneffectFirstSkipLimit(!0),this.setCurrentAttemptSkipCount(0)))}),1e3)},Xre.pauseLimitTimer=function(){this.isPause=!0},Xre.allowStartLimitCount=function(){this.setStartLimitCount(!0)};var ine=(e={})=>{Oe?zc("openMiniProgramSearch",e,"openMiniProgramSearch:fail SDK暂不支持此API"):md("openWeAppSearch",e)},ane=(e={})=>{Oe?zc("openMiniProgramHistoryList",e,"openMiniProgramHistoryList:fail SDK暂不支持此API"):md("openWeAppHistoryList",e)},one=(e={})=>{Oe?zc("openMiniProgramStarList",e,"openMiniProgramStarList:fail SDK暂不支持此API"):md("openWeAppStarList",e)},sne=(e={})=>{md("openWeAppAuthManageList",e)},lne=(e={})=>{if(Oe)zc("batchGetContactDirectly",e,"batchGetContactDirectly:fail SDK暂不支持此API");else if(Cf("batchGetContactDirectly"))md("batchGetContact",e,{beforeAll(e){e.errMsg=e.errMsg.replace("batchGetContact","batchGetContactDirectly")}});else{var t="batchGetContactDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},cne=(e={})=>{if(Ie||ke){var{type:t}=e,r="app";0,r=t||r,Promise.all([new Promise(((e,t)=>{md("preloadMiniProgramEnv",{type:r,fail:e=>{t(e),y.warn("navigateToMiniprogram create preload env fail:",e)},success(t){e(t)}})})),new Promise(((t,r)=>{md("predownloadMiniProgramPackage",{appId:e.appId,path:e.path,scene:1,success:e=>{t(e)},fail:e=>{y.warn("navigateToMiniprogram load miniProgramPackage fail:",e),r(e)}})}))]).then((t=>{e.success&&e.success(t)})).catch((t=>{e.fail&&e.fail(t)}))}},une=(e={})=>{if(Cf("preloadMiniProgramEnvDirectly"))md("preloadMiniProgramEnv",e,{beforeAll(e){e.errMsg=e.errMsg.replace("preloadMiniProgramEnv","preloadMiniProgramEnvDirectly")}});else{var t="preloadMiniProgramEnvDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},dne=(e={})=>{if(Oe)zc("predownloadMiniProgramPackageDirectly",e,"predownloadMiniProgramPackageDirectly:fail SDK暂不支持此API");else if(Cf("predownloadMiniProgramPackageDirectly"))md("predownloadMiniProgramPackage",e,{beforeAll(e){e.errMsg=e.errMsg.replace("predownloadMiniProgramPackage","predownloadMiniProgramPackageDirectly")}});else{var t="predownloadMiniProgramPackageDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},pne={confirm:{zh_cn:"允许",zh_tw:"允許",zh_hk:"允許",en:"Allow"},cancel:{zh_cn:"取消",zh_tw:"取消",zh_hk:"取消",en:"Cancel"}},hne=Zc(TE),fne=function(){var e=xd()((function*(e={},t={},r={}){y.info(`[__doNavigateToMiniProgram], args=${JSON.stringify(e)}, privateArgs=${JSON.stringify(t)}, ext=${JSON.stringify(r)}`);var n=Object.assign({},e);delete n.sourcetype,delete n.preScene,delete n.preSceneNote,delete n.mode,Ke()||(delete n.scene,delete n.sceneNote);var i=Ak();i?(n.privateExtraData=n.privateExtraData||{},n.privateExtraData.cookies=i):n.privateExtraData&&delete n.privateExtraData.cookies;var a=Object.assign({},n,t);return"string"==typeof a.path&&a.path.trim().length>0?a.path=Yd(a.path,!1).trim():a.path=void 0,a.halfPage=Object.assign({},a.halfPage||{}),a.halfPage.hideCapsuleMenu=!1,a.halfPage.capsuleMenuType="singleClose",y.info(`[__doNavigateToMiniProgram], finalArgs=${JSON.stringify(a)}`),a.needTransferToWeChat&&Fe()?(yield yd("sdk_navigateToMiniProgram",a,r),{}):yd("navigateToMiniProgram",a,r)}));return function(){return e.apply(this,arguments)}}(),gne=eu("doNavigateToMiniProgram",fne),vne=(e,t,r,n,i)=>{var a=[e,t,re.appType+1e3,r+1e3,n,Bu(i)].join(",");T.reportKeyValue({key:"NavigateToMiniProgramAlert",value:a})},mne=(()=>{var e;return()=>(e||(e=new Promise((e=>{__sclEngine__.initScl((t=>e(t.mainRoot)))}))),e)})(),yne=function(){var e=xd()((function*(e){var t,r=yield mne();switch(_ne){case bne.HALF_SCREEN_DIALOG_WITHOUT_LOGO:t=r.append("navigateToMp",{title:e.oldWording,logo:"",name:"",type:bne.HALF_SCREEN_DIALOG});break;case bne.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:bne.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({used_friend_cnt_sub_desc:e})=>{t.setData({desc:e||""})}));break;case bne.HALF_SCREEN_DIALOG_WITH_SCORE:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:bne.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({score_sub_desc:e})=>{t.setData({desc:e||""})}));break;default:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:_ne})}var n=jV((e=>{[PV.BottomBackButton,PV.NavigationBackInterceptionType,PV.NavigateBackCall].includes(e.type)&&t.handleCancel()})),i=yield new Promise((e=>{t.addListener("confirm",(()=>{e({confirm:!0})})),t.addListener("cancel",(()=>{e({confirm:!1})}))}));return FV(n),i}));return function(t){return e.apply(this,arguments)}}(),bne={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},_ne=bne.DEFAULT,wne=()=>_ne!==bne.DEFAULT&&"undefined"!=typeof __sclEngine__&&(Ce||Ie||ke),Sne=function(){var e=xd()((function*(e,t,r,n,i,a,o){var s,l=wne()&&i,c=l?_ne:bne.DEFAULT,u=Qh(),d=wh()||re.appLaunchInfo.appearance;if(1!==t&&["nativeFunctionalized"].includes(d)){if(7!==n)throw jW({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${d} apiCategory.`);vne(4,r,n,c,o)}if(1!==t){var p=u.scene,h=null===(s=u.referrerInfo)||void 0===s?void 0:s.appId;if(1037!==p||h!==r){var f;try{var g;if(l)f=yield yne({...i,oldWording:e,expensiveWording:a});else try{var v="允许",m="取消";if("wx243bf61757446caa"===re.accountInfo.appId){var y,b=null===(y=ww())||void 0===y?void 0:y.language;"string"==typeof b&&(b.toLowerCase().startsWith("zh")?(v=pne.confirm[b.toLowerCase()],m=pne.cancel[b.toLowerCase()]):(v=pne.confirm.en,m=pne.cancel.en))}f=yield Promise.race([new Promise((e=>{var t=()=>e({confirm:!1});RC(t),g=()=>OC(t)})),yd("showModal",{title:e,content:"",confirmText:v,cancelText:m,showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"})])}finally{g()}}catch(e){throw vne(3,r,n,c,o),e}var{confirm:_}=f;if(!_)throw vne(2,r,n,c,o),new Error("cancel");Xre.shouldExecuteSkipMaxLimitStrategy&&Xre.setCurrentAttemptSkipCount(0),vne(1,r,n,c,o)}else vne(5,r,n,c,o)}else vne(4,r,n,c,o)}));return function(t,r,n,i,a,o,s){return e.apply(this,arguments)}}(),Cne=function(){var e=xd()((function*({appId:e,path:t,shortLink:r,verifyUnionProduct:n}){var i;y.info(`[_getNavigateWxAppInfo] appId=${e} shortLink=${r} verifyUnionProduct=${n}`);var a=new Promise((e=>{i=e}));e&&!r&&i(e);var o=a.then((e=>Ine({appId:e}))),s=0,l=1;try{var c=yield hne({apiName:n?"webapi_getembeddedunionproductinfo":"webapi_getnavigatewxaappinfo",reqData:{req_type:r?l:s,target_appid:e,target_short_link:r,target_path:t}});y.info(`[operateWXData][webapi_getnavigatewxaappinfo][success] data=${JSON.stringify(c.data)}`);var u=c.data,d=u.action_code,p=u.skip_local_check,h=Boolean(u.runtime_sdk_whitelist),f=u.target_short_link_info,g=u.allow_embedded_mode;return f&&(e=f.wxa_appid,t=(f.wxa_path||"").replace(/\.html(\?|$)/,"$1"),i(e)),{appId:e,path:t,actionCode:d,skipLocalCheck:p,reason:u.reason,wording:u.wording,appType:u.apptype,newWording:u.new_wording,popupInfo:u.pop_up_info,needTransferToWeChat:h,shortLinkInfo:f,allowEmbeddedMode:g,expensiveInfo:o}}catch(e){throw y.error(`[operateWXData][webapi_getnavigatewxaappinfo][fail], errMsg=${e.message||e.errMsg}`),e}}));return function(t){return e.apply(this,arguments)}}(),kne={score_sub_desc:1,used_friend_cnt_sub_desc:2},Ine=function(){var e=xd()((function*(e){var t=[];switch(_ne){case bne.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t.push(kne.used_friend_cnt_sub_desc);break;case bne.HALF_SCREEN_DIALOG_WITH_SCORE:t.push(kne.score_sub_desc)}if(!t.length)return{};y.info(`[_getNavigateWxAppDescInfo] appId=${e.appId}`);try{var{data:r}=yield hne({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:e.appId,desc_type_list:t}});return r}catch(e){return e.message,{}}}));return function(t){return e.apply(this,arguments)}}(),Pne=(Ane=[],re.onReady((()=>{Array.isArray(re.navigateToMiniProgramAppIdList)&&(Ane=re.navigateToMiniProgramAppIdList,Cf("openWxappLimit5")&&Ane.splice(5))})),(e,t)=>new Promise(((r,n)=>{var i=bg("navigateToMiniProgramConfig");!1===i||Ce?t?r():Ane.indexOf(e)>-1?r({sourcetype:4}):n({errMsg:`appId "${e}" is not in navigateToMiniProgramAppIdList`}):!0===i?r():"unknown"===i?r({sourcetype:4}):n({errMsg:"unknown available"})}))),Ane,xne=!1,Tne=function(){var e=xd()((function*({appId:e,path:t,shortLink:r,extraData:n},i){if(y.info(`[__checkBeforeNavigateToMiniProgram] appId=${e} path=${t} shortLink=${r} isNavigating=${xne}`),xne)throw new Error("another navigation is in progress");xne=!0;try{_ne!==bne.DEFAULT&&mne();try{i||(i=yield Promise.race([Cne({appId:e,path:t,shortLink:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("getNavigateWxAppInfo timeout"))),1e4)))]))}catch(r){if(y.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),"data exceed max size"===r.errMsg)throw r;return{appId:e,path:t}}var{actionCode:a,skipLocalCheck:o,reason:s,wording:l,appType:c,newWording:u,popupInfo:d,needTransferToWeChat:p,expensiveInfo:h}=i;if(e=i.appId,t=i.path,y.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${a}, skipLocalCheck=${o}, reason=${s}, wording=${l}, appType=${c}, needTransferToWeChat=${p}`),1!==a&&2!==a)throw d?(T.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,3302,0,1,s,"跳转跳出",My()].join(",")}),md("showModal",{showCancel:!0,content:d.desc,confirmText:d.confirm_wording,cancelText:d.cancel_wording,success({confirm:e}){var t=d.confirm_url;e&&jq({url:t}),T.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,3302,e?1:2,2,s,"跳转跳出",My()].join(",")})}})):l&&md("showModal",{content:l,showCancel:!1}),new Error(s);try{var f=yield Pne(e,o);return cne({appId:e,path:t}),yield Sne(l,a,e,c,u,h,n),{...f,appId:e,path:t,needTransferToWeChat:p}}catch(e){var g=e.errMsg||e.message;throw new Error(g)}}finally{xne=!1}}));return function(t,r){return e.apply(this,arguments)}}(),Ene=eu("checkBeforeNavigateToMiniProgram",Tne),Mne=function(){var e=xd()((function*(e={}){if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&qc(e,{appId:""}),e.path&&qc(e,{path:""}),e.shortLink&&qc(e,{shortLink:""});var t=void 0!==e.appId?String(e.appId):void 0,r=void 0!==e.path?String(e.path):void 0,n=void 0!==e.shortLink?String(e.shortLink):void 0;if(r&&r.length>=65536)throw new Error("path length should be less than 65536");if(n&&n.length>=1024)throw new Error("shortLink length should be less than 1024");y.info(`[_navigateToMiniProgram] appId=${t} path=${r} shortLink=${n}`);try{var i=yield Tne({appId:t,path:r,shortLink:n,extraData:e.extraData});return y.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(i)}`),yield fne(e,{appId:i.appId,path:i.path,sourcetype:i.sourcetype,needTransferToWeChat:i.needTransferToWeChat})}catch(e){var a=e.errMsg||e.message;throw y.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${a}`),["cancel","another navigation is in progress"].includes(a)||T.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(a)}}));return function(){return e.apply(this,arguments)}}(),Rne=eu("navigateToMiniProgramWithoutTapCheck",Mne),One=function(){var e=xd()((function*(e){var t=re.accountInfo.appId;if(!ze()||"wx308bd2aeb83d3345"===t||"wxc98889eca359c1e5"===t)return Mne(e);if(!sj())throw new Error("can only be invoked by user TAP gesture.");var r=lj();return Jre({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===r?-2:Date.now()-r}),Mne(e)}));return function(t){return e.apply(this,arguments)}}(),Dne=eu("navigateToMiniProgram",One),Lne=function(){var e=xd()((function*(e){if(!Cf("navigateToMiniProgramDirectly"))throw new Error("no permission");return fne(e,e)}));return function(t){return e.apply(this,arguments)}}(),Nne=eu("navigateToMiniProgramDirectly",Lne),Bne=()=>function(e){gne(e,e,{beforeAll(e){e.errMsg=e.errMsg.replace("navigateToMiniProgram","navigateToMiniProgramDirectly")}})},$ne=(e,t)=>{var r;if(!e&&(null!=t&&null!==(r=t.banning)&&void 0!==r&&r.pay_banned)){var n='functional page of type "request-payment" is banned for this plugin.';return console.error(n),jne("fail",{errMsg:n}),!0}return!1},jne,Fne=e=>{jne=(t,r={},n={})=>{"string"==typeof n&&(n={detail:n}),r.errMsg&&"string"==typeof r.errMsg?n.reason=r.errMsg:r.errMsg="";var i="requestPluginPayment";"success"===t?Hc({name:i,args:e,success:!0,res:r,errno:null,errCode:null}):"fail"===t&&Hc({name:i,args:e,success:!1,res:r,errno:null,errCode:null,errMsg:r.errMsg})}},Wne={_listener:{},MAX_LISTENER_LIMIT:10,emit:e=>{Wne._listener[e.callbackId]&&Wne._listener[e.callbackId](e)},on:(e,t)=>{Object.keys(Wne._listener).length>Wne.MAX_LISTENER_LIMIT&&(Wne._listener={}),Wne._listener[e]=t},off:e=>{delete Wne._listener[e]}},Une=Wne,Vne=(e,t)=>{var r="RPP."+String(Date.now())+"."+String(Math.floor(2147483647*Math.random()));Wne.on(r,(e=>{oj({success:()=>{"success"===e.ret?jne("success",e.detail):"fail"===e.ret?jne("fail",e.detail||{}):"cancel"===e.ret&&jne("fail",Object.assign({},e.detail,{errMsg:"payment cancel"})),Wne.off(r)}})})),zre({success:n=>{var{pluginId:i,hostAppId:a,isSelfFunctionalPage:o}=e,s=n.find((e=>e.appId===i));if(!(s&&Array.isArray(s.plugin_list)&&s.plugin_list.length>0)){throw new Error("wx.requestPluginPayment: Invalid plugin info.")}var{version:l}=t,c=re.appLaunchInfo.sessionid,u=T.getAppType(),d=s.plugin_list[0],p=qh(re.appContactInfo.call_plugin_info),h={functionalPage:{callbackId:r,name:"requestPayment",originAccountInfo:re.accountInfo,pluginVersion:p,pluginInfo:{nickname:d.nickname,icon:d.headimgurl+"/0"},args:t}},f="/__wx__/functional-page?name=requestPayment&";if(o)Rh({privateExtraData:h,success:()=>{BM({url:f})},fail:e=>{jne("fail",e)}});else{var g={__noCheckBeforeNavigateToMiniProgram:!0,appId:i,agentId:i,sourceAppId:a,sourcetype:2,path:f,envVersion:l,scene:1099,sceneNote:[a,c,u,p].join(":"),privateExtraData:h,success:()=>{},fail:e=>{jne("fail",e)}};Bne()(g)}}})},qne=(e={})=>{Bre(["__wx__/functional-pages/request-payment.js","functional-pages/request-payment.js"],"beforeRequestPayment",[e],((e,t)=>{if(e)jne("fail",e);else{var r=String(t.package);Kte({timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:e=>{e.extraData=t.extraData,jne("success",e,r)},fail:e=>{jne("fail",e,r)}})}}))},zne=e=>{TE({apiName:"webapi_checkappplugincontractorinfo",sdkApiName:"requestPluginPayment",reqData:{},complete:()=>{},...e})},Gne=function(){var e=xd()((function*(e){var t=Rt(e,{fee:0,version:""});if(t)throw new Error(`parameter error: ${t}`);e=Object.assign({},{fee:e.fee,version:e.version,paymentArgs:e.paymentArgs,currencyType:e.currencyType,success:e.success,fail:e.fail}),Fne(e);var r=zh(this),n=Wh(this),i=re.accountInfo.appId,a=n===i;a||!Ce?$ne(a,r)||zne({pluginId:n,success(t){var r,o;null!==(r=t.data)&&void 0!==r&&r.is_associated&&n===i?qne(e.paymentArgs):(null!==(o=t.data)&&void 0!==o&&o.is_associated&&n!==i&&(e.quickPay=!0),Vne({pluginId:n,isSelfFunctionalPage:a,hostAppId:i},e))},fail(t){Vne({pluginId:n,isSelfFunctionalPage:a,hostAppId:i},e)}}):console.warn("For developer:开发者工具上暂不支持调试插件功能页，请在真机上测试。")}));return function(t){return e.apply(this,arguments)}}(),Hne="openHKOfflinePayView",Kne=e=>{Vc(Hne,e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""})&&md(Hne,e)},Jne="",Xne=e=>{Jne=e},Yne=()=>Jne,Qne={channelApiname:"",invokeId:"",time4:void 0,time6:void 0},Zne={channelApiname:"",invokeId:"",time4:void 0,time6:void 0},eie=({invokeId:e,actionType:t,actionValue:r=0,actionStatus:n="",actionTimestamp:i,actionCost:a=0})=>{var o=Xm(),s=Ym(),l=[My(),Du()+" "+Lu(),e,t,r,encodeURIComponent(n),i,a,1,o,s];T.reportKeyValue({key:"VirtualPayment",value:l.join(",")})},tie=({invokeId:e,actionType:t,actionValue:r=0,actionStatus:n="",actionTimestamp:i,actionCost:a=0})=>{var o=[My(),Du()+" "+Lu(),e,`b2b-${t}`,r,encodeURIComponent(n),i,a,1];T.reportKeyValue({key:"VirtualPayment",value:o.join(",")})},rie="requestCommonPayment",nie=1,iie=e=>{var t=Object.fromEntries(Object.entries(e).filter((([e])=>"success"!==e&&"fail"!==e&&"complete"!==e)));return t},aie=(e={})=>{oie(e)},oie=(e={},t="")=>{var r,{success:n,fail:i}=Kc(e,"requestCommonPayment"),a=Date.now(),o=Nt(),s=JSON.stringify(e);tie({invokeId:o,actionType:"invokerequestCommonPayment",actionStatus:s,actionTimestamp:a}),HW({title:"支付中...",mask:!0});var l=!0;if("string"==typeof e.signData){var c,u,d,p=re.accountInfo.appId,h=(e=>{var n=iie(e),i={pay_sdk_version:nie,user_args:{sign_data:n.signData,mode:n.mode,signature:n.signature,pay_sig:n.paySig},scene_note:uu.sceneNote,plugin_id:t},s=Date.now();return tie({invokeId:o,actionType:"beforeCreateItemOrder",actionStatus:JSON.stringify(i),actionCost:s-a,actionTimestamp:s}),EE({apiName:"webapi_wxa_createmidasorder",sdkApiName:"webapi_wxa_createmidasorder",reqData:i}).then((e=>{if(r=Date.now(),e.data&&0===e.data.err_code)return tie({invokeId:o,actionType:"afterCreateItemOrder",actionStatus:JSON.stringify(e.data),actionCost:r-s,actionTimestamp:r}),e.data;throw{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw r=Date.now(),tie({invokeId:o,actionType:"afterCreateItemOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:r-s,actionTimestamp:r}),e}))})(e);h.then((t=>{var r=t.iap_info,n=r.use_save_result;c=r.open_id,u=r.offer_id;var i=t.order_info,a={};return n&&i&&i.save_result&&(a.save_result=i.save_result),r.use_wx_proxy&&(a.use_wx_proxy=1),r.direct_channel&&(a.direct_channel="wechat"),Zne.channelApiname=r.channel_apiname,a.openid=c,a.login_wx_appid=p||e.loginWXAppId,a.pf="android",a.goodstokenurl=i.url_params,a.openkey=i.iap_access_token,d=i.env,a.buy_quantity=i.buy_quantity,a.zoneid=i.zoneid,a})).then((e=>{e.offer_id=u,e.session_type="wc_actoken",e.session_id="hy_gameid";var t,n=Date.now();try{tie({invokeId:o,actionType:"invokeMidas",actionCost:n-r,actionTimestamp:n}),Zne.time4=n,Zne.invokeId=o;var i="goods";Xne("requestCommonPayment"),MidasSDK.getMidasPayApi()[i].destroy(),t=MidasSDK.getMidasPayApi()[i].init({env:d})}catch(e){l&&(KW(),l=!1),tie({invokeId:o,actionType:"invokeMidasFail",actionStatus:e.message,actionCost:n-r,actionTimestamp:n})}setTimeout((()=>{l&&(KW(),l=!1)}),10);var a=function(e,t){return new Promise((r=>{e.launchPay(t,(e=>{r(e)}))}))}(t,e);return a})).then((e=>{var{resultCode:t,resultMsg:r}=e;0!==t?(-15009!==t&&1138!==t||(RW({title:"提示",content:r,showCancel:!1}),r="PAY_LIMIT"),i({errMsg:`${rie}:fail ${r}`,errno:t,errCode:t})):n({})})).catch(((e={})=>{l&&(KW(),l=!1),void 0===e.errCode&&"string"==typeof e.err_code&&("0"===e.err_code?e.errCode=5:e.errCode=parseInt(e.err_code,10)),i({errMsg:`${rie}:fail ${e.errMsg||e.message}`,errno:e.errno||e.errCode,errCode:e.errCode})}))}else i({errMsg:`${rie}:fail signData参数类型必须是string`,errno:1001,errCode:1001})},sie="";re.onReady((()=>{var e,t;!(sie=re.appLaunchInfo.chatroomUsername)&&1008===re.appLaunchInfo.scene&&null!==(e=re.appLaunchInfo.shareInfo)&&void 0!==e&&e.shareName&&(sie=null===(t=re.appLaunchInfo.shareInfo)||void 0===t?void 0:t.shareName)})),ur("onAppEnterForeground",((e={})=>{var t,r;!(sie=e.chatroomUsername)&&1008===e.scene&&null!==(t=e.shareInfo)&&void 0!==t&&t.shareName&&(sie=null===(r=e.shareInfo)||void 0===r?void 0:r.shareName)}));var lie=()=>sie,cie="getShareInfo",uie=(e={})=>{if(Oe)zc("getShareInfo",e,"getShareInfo:fail SDK暂不支持此API");else{var t=Xp.get(e.shareTicket),{success:r,fail:n,failWithMsg:i}=Kc(e,cie);lie()?t?TE({sdkApiName:cie,apiName:"webapi_getshareinfo",reqData:{share_key:t.shareKey,share_name:t.shareName},success(e){var{data:t}=e;t.roomTopic&&(e.roomTopic=t.roomTopic),delete e.data,r(e)},fail:n}):i({msg:"invalid shareTicket"}):i({msg:"invalid scene"})}},die={showShareAppMessageMenu:!1,showShareTimelineMenu:!1,withShareTicket:!1,isPrivateMessage:!1},pie=(e={})=>{if(Oe)zc("showShareMenu",e,"showShareMenu:fail SDK暂不支持此API");else{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage"],r=[];if(t.includes("shareAppMessage")){die.showShareAppMessageMenu=!0;var n=new Promise(((t,r)=>{!0===e.withShareTicket?(die.withShareTicket=!0,md("showShareMenuWithShareTicket",{withShareTicket:!0,success:t,fail:r,beforeAll(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail(e){e.errMsg+=", with arg withShareTicket: true"}})):(die.withShareTicket=!1,md("showShareMenu",{success:t,fail:r}))}));r.push(n)}if(t.includes("shareAppMessage")&&t.includes("shareTimeline")&&!uu.hasWebViewCompnent){die.showShareTimelineMenu=!0;var i=new Promise(((e,t)=>{md("showShareTimelineMenu",{success:e,fail:t})}));r.push(i)}Promise.all(r).then((()=>{Hc({name:"showShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("showShareMenu:fail","").replace("showShareTimelineMenu:fail","");zc("showShareMenu",e,r,t.errCode)}))}},hie=(e={})=>{if(Oe)console.error({errMsg:"hideShareMenu:fail SDK暂不支持此API"});else{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage","shareTimeline"],r=[];if(t.includes("shareTimeline")&&(die.showShareTimelineMenu=!1,r.push(i())),t.includes("shareAppMessage")){die.showShareAppMessageMenu=!1,0===r.length&&r.push(i());var n=new Promise(((e,t)=>{md("hideShareMenu",{success:e,fail:t})}));r.push(n)}Promise.all(r).then((()=>{Hc({name:"hideShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("hideShareMenu:fail","").replace("hideShareTimelineMenu:fail","");zc("hideShareMenu",e,r,t.errCode)}))}function i(){return new Promise(((e,t)=>{md("hideShareTimelineMenu",{success:e,fail:t})}))}};function fie(e){return new Promise(((t,r)=>{"boolean"==typeof e.withShareTicket?md("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:r},{beforeAll(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}))}function gie(e){return new Promise(((t,r)=>{if("boolean"==typeof e.isUpdatableMessage||"boolean"==typeof e.isPrivateMessage){var n=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo&&e.templateInfo.templateId,parameter_list:e.templateInfo&&e.templateInfo.parameterList});md("updateShareMenuUpdatable",{isPrivateMessage:e.isPrivateMessage,updatable:e.isUpdatableMessage,templateId:n,success:t,fail:r}),!0===e.isPrivateMessage?die.isPrivateMessage=!0:!1===e.isPrivateMessage&&(die.isPrivateMessage=!1)}else t({errMsg:"updateShareMenu:ok"})}))}function vie(e){return new Promise(((t,r)=>{"string"==typeof e.toDoActivityId?(md("updateShareMenuUpdatable",{updatable:!0}),md("updateShareMenuShareTicket",{withShareTicket:!0}),md("updateShareMenuToDo",{toDoActivityId:e.toDoActivityId,isToDoMessage:"boolean"!=typeof e.isToDoMessage||e.isToDoMessage,success:e=>{t(e)},fail:e=>{r(e)}})):t({errMsg:"updateShareMenu:ok"})}))}var mie=(e={})=>{Oe?zc("updateShareMenu",e,"updateShareMenu:fail SDK暂不支持此API"):Promise.all([fie(e),gie(e),vie(e)]).then((t=>{"function"==typeof e.success&&x.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&x.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])})).catch((t=>{void 0===t.errMsg&&(t.errMsg="updateShareMenu:fail "+t.message),"function"==typeof e.fail&&x.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&x.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},yie=e=>{if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t},bie=["wx60422b707e49ff2e","wxb6d22f922f37b35a","wx4e5da2583ced2054"],_ie=(e={})=>{if(Oe)zc("shareAppMessageForFakeNative",e,"shareAppMessageForFakeNative:fail SDK暂不支持此API");else if(Vc("shareAppMessageForFakeNative",e,{title:"",bizType:0})){var t=Object.assign({useDefaultSnapshot:!0,disableForward:!1},e);if(e.path&&"string"==typeof e.path)t.path=yie(br.convertComponentAliasToRoute(e.path));else{var r=Object.keys(uu.query).map((e=>`${e}=${uu.query[e]}`)).join("&"),n=`${uu.lastRoute}?${r}`;t.path=yie(br.convertComponentAliasToRoute(n))}e.imageUrl&&"string"==typeof e.imageUrl&&(/^(http|https|wxfile):\/\//.test(e.imageUrl)?t.imageUrl=e.imageUrl:t.imageUrl=Q0(e.imageUrl,!1));var i=re.accountInfo.appId;bie.includes(i)||(delete t.bizSourceName,delete t.bizSourceIconUrl),md("shareAppMessageForFakeNative",t)}},wie=e=>{if(e&&"string"==typeof e)if(/^\w+:\/\//.test(e)){if(!/^wxfile:\/\//.test(e)&&!/^http:\/\/(tmp|store|usr)\//.test(e))throw new Error("invalid path")}else if(e)return Q0(e,!1);return e},Sie=eu("shareFileMessage",xd()((function*(e={}){if(Oe)zc("shareFileMessage",e,"shareFileMessage:fail SDK暂不支持此API");else{qc(e,{filePath:""});var t=wie(e.filePath);try{yield yd("shareFileMessage",{...e,filePath:t})}catch(e){if("cancel"!==e.message)throw e}}}))),Cie=eu("shareVideoMessage",xd()((function*(e={}){if(Oe)zc("shareVideoMessage",e,"shareVideoMessage:fail SDK暂不支持此API");else{qc(e,{videoPath:""});var t=wie(e.videoPath),r=wie(e.thumbPath);try{yield yd("shareVideoMessage",{...e,videoPath:t,thumbPath:r})}catch(e){if("cancel"!==e.message)throw e}}}))),kie="authPrivateMessage";function Iie(e={}){if(Oe)zc("authPrivateMessage",e,"authPrivateMessage:fail SDK暂不支持此API");else{var{success:t,fail:r,failWithMsg:n}=Kc(e,kie),i=Xp.get(e.shareTicket);i&&i.shareKey?Cf("authShareRelationship")?TE({sdkApiName:kie,apiName:"webapi_authmgr",reqData:{share_key:i.shareKey},success(e){var{iv:r,encrypt_activity_id:n,res:i}=e.data;t({iv:r,encryptedData:n,valid:1===i})},fail:r}):n({msg:"no permission"}):n({msg:"invalid shareTicket"})}}var Pie=function(e){return e[e.DisableAsyncReport=0]="DisableAsyncReport",e[e.ReportAction=1]="ReportAction",e[e.ReportContent=2]="ReportContent",e[e.ReportContentWithImg=3]="ReportContentWithImg",e}({}),Aie=function(e){return e[e.DisableSyncCheck=4]="DisableSyncCheck",e[e.EasyMode=5]="EasyMode",e[e.StrictMode=6]="StrictMode",e}({}),xie=function(e){return e[e.Blur=0]="Blur",e[e.Upload=1]="Upload",e}({}),Tie=null,Eie=function(e){return e[e.NO=0]="NO",e[e.YES=1]="YES",e}({}),Mie={textInput:0,input_text:0,nicknameInput:1,input_nickname:1,textarea:2,editor:3,chooseImage:4,chooseMedia:5,chooseAvatar:6},Rie=e=>t=>null!=t&&e.includes(t),Oie=Rie([Pie.DisableAsyncReport,Pie.ReportAction,Pie.ReportContent,Pie.ReportContentWithImg]),Die=Rie([Aie.DisableSyncCheck,Aie.EasyMode,Aie.StrictMode]),Lie={Pending:0,Fullfilled:1,Rejected:2};class Nie{constructor(e={}){this.resolve=void 0,this.reject=void 0,this.promise=void 0,this.status=Lie.Pending;var t=this;t.promise=new Promise(((r,n)=>{t.resolve=e=>{t.status=Lie.Fullfilled,r(e)},t.reject=e=>{t.status=Lie.Rejected,n(e)};var{timeout:i}=e;i&&this.setTimeoutReject(i)}))}setTimeoutReject(e,t="timeout"){setTimeout((()=>this.reject(t)),e)}}var Bie=null,$ie=Zc(mE),jie=Zc(Bf),Fie=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),Wie=null,Uie=null,Vie=function(){var e=xd()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function qie(e){return zie.apply(this,arguments)}function zie(){return(zie=xd()((function*(e){Bie||(Bie=Zc(Zie));var{tempFilePath:t}=yield Bie({src:e,quality:60,compressedWidth:224,compressHeight:224}),{data:r}=yield jie({filePath:t});return yield Vie(xd()((function*(){var e,t=null===(e=re.appLaunchInfo)||void 0===e?void 0:e.openId,n=yield Promise.race([Fie(4e3,"upload timeout"),$ie({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&sn=${Wie.uploadimg_sn||""}&openid=${t||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:r})]);if(200!==n.statusCode)throw new Error(`upload fail, ${n.data.retcode}`);return n.data.media_id_str})),2)}))).apply(this,arguments)}function Gie(){var e=new Nie,t=function(){var t=xd()((function*(t){var r=yield e.promise;Kr("onReceiveSecInfo",r,[t])}));return function(e){return t.apply(this,arguments)}}();re.onReady(xd()((function*(){var t=yield Qk(),r=null==t?void 0:t.data;Wie=null==r?void 0:r.wxa_input_auth;var n=null==r?void 0:r.opinfo_async,i=null==r?void 0:r.func_ban_conf,a=null==r?void 0:r.func_warning_conf,o={opInfo:n,ugcConfig:Wie,funcBanConf:i,funcWarningConf:a};e.resolve(o)}))),S.clientManager.on("clientConnected",t)}function Hie(e,t){return Kie.apply(this,arguments)}function Kie(){return Kie=xd()((function*(e,t,r=""){if(Wie&&Array.isArray(t)){var n=Wie.async_report_mode,i=Wie.sync_check_mode;if((!Die(i)||i===Aie.DisableSyncCheck)&&Oie(n)&&n!==Pie.DisableAsyncReport&&"number"==typeof Mie[e]){var a={async_report_mode:n,query_path:rb(),component_type:Mie[e],report_time:Date.now(),content_length:t.length,action_type:xie.Upload,plugin_app_id:r};if(n===Pie.ReportContentWithImg){var o=[];for(var s of t)o.push(yield qie(s));a.content=o.join(",")}TE({apiName:"webapi_wxaasyncinputreport",reqData:a,pluginId:r,success:e=>{},fail:e=>{}})}}})),Kie.apply(this,arguments)}function Jie(e,t){return Xie.apply(this,arguments)}function Xie(){return(Xie=_asyncToGenerator((function*(e,t,r=""){}))).apply(this,arguments)}function Yie(e){if(Wie){var t=Wie[`${e}_auth`]===Eie.YES;return t&&jW({icon:"none",title:"小程序涉嫌违规该功能暂不可用"}),t}}var Qie=function(e={}){if(Yie("choose_image"))zc("chooseImage",e,"This api is temporarily unavailable");else{var t=Wh(this);bd(t)("chooseImage",zd({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},e),{beforeSuccess(e){var r;e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter((e=>e)).map(((t,r)=>({path:t,size:e.tempFileSizes[r]}))):e.tempFiles=(e.tempFiles||[]).filter((e=>e.path&&"number"==typeof e.size)),delete e.tempFileSizes,null!==(r=e.tempFiles)&&void 0!==r&&r.length&&Hie("chooseImage",e.tempFiles.map((e=>e.path)),t)}})}},Zie=(e={})=>{var t={src:"",quality:80};Vc("compressImage",t=Gd(t,e),{src:" ",quality:80})&&(Ue()||/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)?(Ie&&0===t.src.indexOf("/")&&t.src&&(t.src=t.src.slice(1)),md("compressImage",t)):(t.src=dp(uu.lastRoute,t.src,!1),md("compressImage",t)))},eae=["16:9","9:16","4:3","3:4","5:4","4:5","1:1"],tae=(e={})=>{if(Oe)zc("cropImage",e,"cropImage:fail SDK暂不支持此API");else if(Vc("cropImage",e,{src:" "})){var t=(e.cropScale||"1:1").trim();if(-1!==eae.indexOf(t)){var r=t.split(":"),n=parseInt(r[0],10),i=parseInt(r[1],10),a=Gd({},e);a.width=Number.isNaN(n)?1:n,a.height=Number.isNaN(i)?1:i,/^wxfile:\/\//.test(a.src)||/^http:\/\/(tmp|store|usr)\//.test(a.src)||(a.src=dp(uu.lastRoute,a.src,!1)),md("cropImage",a)}else zc("cropImage",e,"invalid cropScale")}},rae=(e={})=>{if(Oe)zc("editImage",e,"editImage:fail SDK暂不支持此API");else if(Vc("editImage",e,{src:" "})){var t=e.fail,r={beforeAll(e){"editImage:Parse imageUrl fail, maybe imageUrl is illegal?"===e.errMsg&&(e.errMsg="editImage:fail Parse imageUrl fail, maybe imageUrl is illegal?","function"==typeof t&&t(e))}};/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)||(e.src=dp(uu.lastRoute,e.src,!1)),md("editImage",e,r)}},nae=e=>{var t=Object.assign({},e),r=[t.src];K0(r,"image",(e=>(t.src=e.data[0].url,iae(t,CI))))},iae=(e,t)=>{Vc("getImageInfo",e,{src:""})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)?md("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}}):/^(http|https):\/\//.test(e.src)?t({url:e.src,success(t){404!==t.statusCode?(e.src=t.tempFilePath,md("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})):zc("getImageInfo",e,"image not found (404)")},fail(t){zc("getImageInfo",e,"download image fail. reason: "+t.errMsg)}}):(e.src=dp(uu.lastRoute,e.src,!1),md("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})))},aae={BlockFuncBits:0};function oae(e){var t={openCustomerServiceConversation:1,openPage:2,setClipboardData:4,previewImage:8,previewMedia:16,navigateToMiniProgram:32,openUrlByExtBrowser:64,getPhoneNumber:128};if(!(e&&rt(e)&&Ue()&&Object.keys(t).includes(e)))return!1;var r=t[e],n=!1;try{n=Boolean((null==aae?void 0:aae.BlockFuncBits)&r)}catch(e){}return n}function sae(e={}){if(!(WXConfig.clientVersion<402666272)&&0!==Object.keys(e).length&&IS_IOS){var t={rewriteCtrl:e};_invokeMethod("rewriteQRCodeIdentifyCtrl",Object.assign(t,{success:e=>{},fail:e=>{y.error("rewriteQRCodeIdentifyCtrl fail",e)}}))}}var lae="previewImage",cae=(e={})=>{if(oae(lae))zc(lae,e,"no permission");else if(Vc(lae,e,{urls:[""]})){var t,r=!1;e.urls=e.urls.filter((e=>!(!/^https?:\/\//.test(e)&&!Cf("previewImageLocal"))||(r=!0,!1))),r&&console.error("local image url is rejected due to no permission"),Oe||(t=G2(U2.previewImage));var n=re.version,i=re.system,a="7.0.12"===n&&i.indexOf("iOS 13.4")>=0;for(var o of e.urls)if(/^\s*data:image\//.test(o)&&a)return void zc(lae,e,"url can not be base64 on iOS 13.4");var s=Object.assign({},e);s.urls=s.urls.slice(),s.referrerPolicy=s.referrerPolicy||"origin",K0(s.urls,"image",(r=>{var n=s.urls;if(s.urls=[...r.data.map((e=>e.url))],s.current){var i=n.indexOf(s.current);i>=0&&(s.current=s.urls[i])}s.urls&&(s.urls=s.urls.map((e=>D1.get(e)||e))),t?H2(U2.previewImage,lae,e):md(lae,s),W2(lae,{urls:s.urls||[]},!1,t)}))}},uae=function(e={}){e.filePath=D1.get(e.filePath)||e.filePath,bd(Wh(this))("saveImageToPhotosAlbum",e,{})};function dae(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function pae({UIArea:e,PositionID:t,ActionID:r,ExpID:n="",ContentType:i=0,ContentID:a=0,ExternInfo:o,ClassID:s=0,SceneID:l=108100}){if(Ue()){var c="portrait"===re.deviceOrientation?1:2;T.reportKeyValue({key:"GameAdsSkipCard",value:[My(),re.appLaunchInfo.scene,0,l,e,t,r,"",0,/landscape/.test(re.deviceOrientation)?2:1,c,0,"",n,0,"",Date.now(),0,"",i,a,0,o?encodeURIComponent(JSON.stringify(o)):"",s].join(",")})}}var hae=()=>new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),fae=Zc(nae),gae=Zc(Zie),vae=Zc(Bf),mae=Zc(mE),yae={SHOW_MENU:1,SHARE:2,SHARE_SUCCESS:3,SHARE_FAIL:4,ADD_TO_FAVORITES:5,SAVE_TO_ALBUM:6,CANCEL:7,SHARE_FORBIDDEN:8,SHARE_SERVER_ERROR:9},bae=({action:e})=>{var t=re.appLaunchInfo||{},r=[re.appType+1e3,e,t.sessionid||t.sessionId||""].join(",");T.reportKeyValue({key:"ShareImageMenu",value:r})},_ae=function(){var e=xd()((function*(e){var t=Ie||(null==e?void 0:e.imgPath)&&0!==(null==e?void 0:e.imgPath.indexOf("/")),r=Cf("publishWeChatState")&&Ue()&&t,n=(yield hae()).append("share-image",{imgPath:e.imgPath,height:e.height,width:e.width,style:e.style,actions:JSON.stringify("v2"===e.style?[{action:"cancel",text:"取消",imageSrc:"https://res.wx.qq.com/op_res/I78lneZf9jQBd0zqhgo1zWelcg-yn8SApFxCI6KX-35eBc7NuPJe6cxpl1qOZS-0CNdZKk5kyqVufCtOhxl15w"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/I78lneZf9jQBd0zqhgo1zUt7rZ_1QFq0P8vmPXK3GlTCdCSQQvc6ExvS4qiSAazFv7hP-R19EYcq-06GODx-zQ"},e.canShareToFriend&&Cf("shareImageMessage")?{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/I78lneZf9jQBd0zqhgo1zSnBsdfWBp_VHbQ4Ii2j_lSKUWY9yFIsixFCZdft5DlJ-wUz-4znIwq-LMcZR9LcKA"}:null].filter(Boolean):[e.canShareToFriend&&Cf("shareImageMessage")?{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg",imageDarkSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg"}:null,{action:r?"setWxState":"addToFavorites",text:r?"设为状态":"收藏",imageSrc:r?"https://res.wx.qq.com/op_res/fFpOsAWm683UVWQsw9J9UYpBqpOxsoE_Ueun95gpkPMi3oppYmfVprxvWxVib_R6phyqnXrC4JaTTgtVxW0jxg":"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng",imageDarkSrc:r?"https://res.wx.qq.com/op_res/fFpOsAWm683UVWQsw9J9UYpBqpOxsoE_Ueun95gpkPMi3oppYmfVprxvWxVib_R6phyqnXrC4JaTTgtVxW0jxg":"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/BgIIq_VgA_b30mPKYKb4CmnQemMBJMujsqfe6REw4MSf3i_ql8KU-FywDJLSRGRnxQOWW5VphGdXW0Yr2-Z-0g",imageDarkSrc:"https://res.wx.qq.com/op_res/G0_niEOxSlL24rHxfWQRrYEhHlR548A2lETw0Se_jFtJt3ZpHTIaPZPeINUGM3--cFoO5adG9q8jjhNfUzKUxA"}].filter(Boolean))}),i=jV((e=>{[PV.BottomBackButton,PV.NavigationBackInterceptionType,PV.NavigateBackCall].includes(e.type)&&n.handleClose()})),{action:a}=yield new Promise((e=>{["shareToFriend","addToFavorites","setWxState","saveToAlbum","cancel"].forEach((t=>{n.addListener(t,(()=>e({action:t})))}))}));return FV(i),{action:a}}));return function(t){return e.apply(this,arguments)}}(),wae=function(){var e=xd()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}(),Sae=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),Cae=function(){var e=xd()((function*({url:e,width:t,height:r,pluginId:n}){var i=xd()((function*(){var n=t>r&&t>640?640:void 0,i=r>t&&r>640?640:void 0,{tempFilePath:a}=yield gae({src:e,quality:60,compressedWidth:n,compressedHeight:i}),{data:o}=yield vae({filePath:a});return o}))(),a=xd()((function*(){var{data:e}=yield EE({apiName:"webapi_getc2cauthkey",reqData:{},pluginId:n});return y.info("[requestImageReview] c2cAuthInfo",e),e}))(),[o,s]=yield Promise.all([i,a]),l=yield wae(xd()((function*(){var e=yield Promise.race([Sae(4e3,"upload timeout"),mae({url:"https://finder-assistant.mp.video.tencent-cloud.com/snsuploadsimple",method:"POST",header:{"X-Arguments":[`apptype=${s.apptype}`,"filetype=20304",`openid=${re.appLaunchInfo.openId||""}`,"filekey=image",`timestamp=${s.timestamp}`,`authkey=${s.authkey}`].join("&"),"Content-Type":"application/x-www-form-urlencoded"},data:o})]);if(y.info("[requestImageReview] uploadc2c",e.data),200!==e.statusCode)throw new Error(`upload fail, ${e.data.retcode}`);return e.data.fileurl})),1),c=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);y.info("[requestImageReview] requestId",c),y.info("[requestImageReview] c2cUrl",l);var{data:u}=yield EE({apiName:"webapi_checkwxaposterurl",reqData:{url:l,request_id:c},pluginId:n});return y.info("[requestImageReview] checkResult",u),u}));return function(t){return e.apply(this,arguments)}}(),kae=eu("showShareImageMenu",xd()((function*(e={},{pluginId:t}={}){if(Oe)console.error({errMsg:"showShareImageMenu:fail SDK暂不支持此API"});else{var r=Date.now(),n=Date.now()+dae();if(!Cf("showShareImageMenu"))throw new Error("no permission");qc(e,{path:"1"});var{path:i,style:a,needShowEntrance:o,entrancePath:s="",desc:l}=e,c=D1.get(i)||i;if(/^\w+:\/\//.test(c)){if(!/^wxfile:\/\//.test(c)&&!/^http:\/\/(tmp|store|usr)\//.test(c))throw new Error("invalid path")}else c="/"+Q0(c,!1);var u,d=!0,{height:p,width:h,type:f}=yield fae({src:c});o&&(u=Cae({url:c,width:h,height:p,pluginId:t}),d="gif"!==f);var g,{action:v}=yield _ae({imgPath:c,height:p,width:h,style:Ue()?"default":a,canShareToFriend:d}),m="";if(rt(s))m=null!==(g=s.split("?")[1])&&void 0!==g?g:"";switch(Ue()&&pae({SceneID:108101,UIArea:10810100,PositionID:0,ActionID:1,ExternInfo:{image_url:c,query:m}}),bae({action:yae.SHOW_MENU}),v){case"shareToFriend":Ue()&&pae({SceneID:108101,UIArea:10810101,PositionID:0,ActionID:2});try{if(o){var y=!1,b=!1;try{HW({title:"正在生成海报"});var{errcode:_,hit_category:w}=yield Promise.race([Sae(1e4,"upload image timeout"),u]);y=0===_,b=!!w}catch(e){throw setTimeout((()=>{jW({title:"当前网络状态不佳，请稍后再试"})})),bae({action:yae.SHARE_SERVER_ERROR}),e}finally{KW()}if(!y||!b)throw setTimeout((()=>{jW({title:y?"无法生成海报":"海报内容违规，无法打开"})}),0),bae({action:yae.SHARE_FORBIDDEN}),new Error("forbidden");yield yd("shareImageMessage",{imagePath:c,needShowEntrance:o,entrancePath:"string"==typeof s&&s?Yd(s):void 0}).then((()=>{Ue()&&pae({SceneID:108101,UIArea:10810101,PositionID:1,ActionID:3,ExternInfo:{share_id:n}})}))}else yield yd("shareImageMessage",{imagePath:c}).then((()=>{Ue()&&pae({SceneID:108101,UIArea:10810101,PositionID:1,ActionID:3,ExternInfo:{share_id:n}})}));bae({action:yae.SHARE_SUCCESS})}catch(e){if("cancel"===e.message)return void bae({action:yae.SHARE_FAIL});throw e}return;case"addToFavorites":return bae({action:yae.ADD_TO_FAVORITES}),void(yield yd("addImageToFavorites",{url:c}));case"setWxState":return Ue()&&pae({SceneID:108101,UIArea:10810101,PositionID:2,ActionID:2}),void(yield new Promise((e=>{var t=Date.now(),r=c;rt(r)&&0===r.indexOf("/")&&Ie&&(r=r.slice(1)),md("publishWeChatState",{state:"1019",imgUrl:r,desc:l,url:"string"==typeof s&&s?Yd(s):void 0,success:()=>{Ue()&&pae({SceneID:108101,UIArea:10810101,PositionID:3,ActionID:3,ExternInfo:{status_type:1,share_id:n,status_id:"1019",time:Date.now()-t,desc:l}})},complete:()=>{e()}})})));case"saveToAlbum":return Ue()&&pae({SceneID:108101,UIArea:10810101,PositionID:4,ActionID:2}),bae({action:yae.SAVE_TO_ALBUM}),yield yd("saveImageToPhotosAlbum",{filePath:c}),void(Ie&&jW({icon:"success",title:"已保存"}));default:throw Ue()&&pae({SceneID:108101,UIArea:10810101,PositionID:5,ActionID:2,ExternInfo:{stay_time:Date.now()-r}}),bae({action:yae.CANCEL}),new Error("cancel")}}}))),Iae=!1,Pae=null,Aae=null;RC((()=>{Iae=!0})),EK((()=>{Iae=!1,Pae&&(xae(Pae),Pae=null),Aae&&(Tae(Aae),Aae=null)}));var xae=e=>{Oe?zc("addCard",e,"addCard:fail SDK暂不支持此API"):Vc("addCard",e,{cardList:[]})&&(Iae?Pae=e:md("addCard",e))},Tae=e=>{Oe?zc("openCard",e,"openCard:fail SDK暂不支持此API"):Vc("openCard",e,{cardList:[]})&&(Iae?Aae=e:md("openCard",e))},Eae=(e={})=>{Oe?zc("checkIsSupportSoterAuthentication",e,"checkIsSupportSoterAuthentication:fail SDK暂不支持此API"):md("checkIsSupportSoterAuthentication",e,{})},Mae=(e={})=>{if(Oe)zc("startSoterAuthentication",e,"startSoterAuthentication:fail SDK暂不支持此API");else if(Vc("startSoterAuthentication",e,{challenge:""})){var t=e.success;md("startSoterAuthentication",Object.assign({},e,{success(r){0!==r.errCode?"function"==typeof e.fail&&x.surroundThirdByTryCatch(e.fail,"at api startSoterAuthentication fail callback function")(r):"function"==typeof t&&x.surroundThirdByTryCatch(t,"at api startSoterAuthentication success callback function")(r)}}),{beforeSuccess(e){"number"==typeof e.errCode&&0!==e.errCode&&(e.errMsg="startSoterAuthentication:fail")}})}},Rae=(e={})=>{Oe?zc("checkIsSoterEnrolledInDevice",e,"checkIsSoterEnrolledInDevice:fail SDK暂不支持此API"):Vc("checkIsSoterEnrolledInDevice",e,{checkAuthMode:""})&&md("checkIsSoterEnrolledInDevice",e,{})},Oae=(e={})=>{Oe?zc("openGoldenRedPacketDetail",e,"openGoldenRedPacketDetail:fail SDK暂不支持此API"):md("openGoldenRedPacketDetail",e,{})},Dae=(e={})=>{Oe?zc("sendGoldenRedPacket",e,"sendGoldenRedPacket:fail SDK暂不支持此API"):md("sendGoldenRedPacket",e,{})},Lae=(e={})=>{if(Oe)zc("sendBizRedPacket",e,"sendBizRedPacket:fail SDK暂不支持此API");else{if(Cf("sendBizRedPacketForOpen")){var t=tf().scene;if(1047!==t&&1124!==t&&1011!==t&&1025!==t){var r=`sendBizRedPacket:fail scene ${t} not support.`;return e.fail&&e.fail({errMsg:r}),void(e.complete&&e.complete({errMsg:r}))}}md("sendBizRedPacket",e,{})}},Nae=(e={})=>{invokeMethod("openRedPacket",e,{})},Bae=Object.assign,$ae=Object.create,jae=u.prototype.call.bind(String.prototype.toString),Fae=u.prototype.call.bind(String.prototype.indexOf),Wae="https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket",Uae=(e={})=>{if(Oe)zc("showRedPackage",e,"sendGoldenRedPacket:fail SDK暂不支持此API");else if(Vc("showRedPackage",e,{url:""}))if(Cf("showRedPackage")){var t=$ae(null);Bae(t,e),t.url=jae(t.url),t.isNativeStyle=!0,0===Fae(t.url,Wae)?md("private_openUrl",t,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","showRedPackage")}}):zc("showRedPackage",t,"url is invalid")}else zc("showRedPackage",e,"no permission")},Vae=(e={})=>{md("jumpRedPacketEnvelopePreview",e,{})},qae=(e={})=>{md("quickSendRedPacket",e,{})},zae=(e={})=>{md("sendRedCoverAppMsg",e,{})},Gae=(e={})=>!1,Hae=e=>JSON.stringify({name:e.name,id_card_number:e.idCardNumber,user_id_key:e.userIdKey}),Kae=(e={})=>{var t=Hae(e);md("startFacialEncryptionVerify",zd(e,{requestVerifyPreInfo:t}),{})},Jae=(e={})=>{var t=Hae(e);md("startFacialEncryptionVerifyAndUploadVideo",zd(e,{requestVerifyPreInfo:t}),{})},Xae=e=>JSON.stringify({name:e.name,id_card_number:e.idCardNumber,mobile:e.mobile,outer_verify_id:e.outerVerifyId,user_id_key:e.userIdKey}),Yae=(e={})=>{var t=Xae(e);md("startFacialRecognitionVerify",zd(e,{requestVerifyPreInfo:t}),{})},Qae=(e={})=>{var t=Xae(e);md("startFacialRecognitionVerifyAndUploadVideo",zd(e,{requestVerifyPreInfo:t}),{})},Zae=(e={})=>{ke?md("checkTrafficCardConditions",e):zc("checkTrafficCardConditions",e,"not yet supported")},eoe=(e={})=>{ke?md("queryTrafficCardInfo",e):zc("queryTrafficCardInfo",e,"not yet supported")},toe=(e={})=>{ke?md("issueTrafficCard",e):zc("issueTrafficCard",e,"not yet supported")},roe=(e={})=>{ke?md("rechargeTrafficCard",e):zc("rechargeTrafficCard",e,"not yet supported")},noe=(e={})=>{ke?md("setDefaultTrafficCard",e):zc("setDefaultTrafficCard",e,"not yet supported")},ioe=(e={})=>{ke?md("deleteTrafficCard",e):zc("deleteTrafficCard",e,"not yet supported")},aoe=(e={})=>{if(Oe)zc("addFileToFavorites",e,"addFileToFavorites:fail SDK暂不支持此API");else if(Vc("addFileToFavorites",e,{filePath:""})){var t=wie(e.filePath);md("addFileToFavorites",{...e,filePath:t})}},ooe=(e={})=>{if(Oe)return zc("addVideoToFavorites",e,"addVideoToFavorites:fail SDK暂不支持此API");if(Vc("addVideoToFavorites",e,{videoPath:""})){var t=wie(e.videoPath),r=wie(e.thumbPath);md("addVideoToFavorites",{...e,videoPath:t,thumbPath:r})}},soe=(e={})=>{md("openChannelsCreateContact",e)},loe=[1177,1184,1195,1208],coe=(e={})=>{var{scene:t}=tf();if(-1!==loe.indexOf(t)){var{success:r,fail:n,complete:i}=e;TE({sdkApiName:"getChannelsShareKey",apiName:"webapi_get_channels_share_info",reqData:{scene_note:gte().scene_note,cookie:xk()},success({errMsg:e,data:t={}}){var{sharer_openid:n,promoter:a={}}=t,o={errMsg:e,sharerOpenId:n,promoter:{finderNickname:a.finder_nickname,promoterId:a.promoter_id,promoterOpenId:a.promoter_openid}};"function"==typeof r&&r(o),"function"==typeof i&&i(o)},fail(e){"function"==typeof n&&n(e),"function"==typeof i&&i(e)}})}else zc("getChannelsShareKey",e,`invalid scene, current is ${t}`)},uoe=(e={})=>{md("openChannelsPostPage",e)},doe=/^wx[0-9a-f]{16}(\/.*)?$/,poe="webapi_reportwxauseuserinfo",hoe={addPhoneCalendar:["jsapi_photocalendar"],addPhoneContact:["jsapi_phonecontact"],chooseImage:["jsapi_media"],chooseInvoice:["jsapi_invoice"],chooseInvoiceTitle:["jsapi_invoice"],chooseLicensePlate:["jsapi_licenseplate"],chooseLocation:["jsapi_choose_location"],chooseMedia:["jsapi_media"],chooseMessageFile:["jsapi_messagefile"],choosePoi:["jsapi_choose_location"],chooseVideo:["jsapi_media"],createBLEPeripheralServer:["webapi_bluetooth"],enableLocationUpdate:["jsapi_location"],enableLocationUpdateBackground:["jsapi_location"],getClipboardData:["jsapi_clipboard"],getFuzzyLocation:["jsapi_fuzzy_location"],getLocation:["jsapi_location"],getPhoneNumber:["webapi_getuserwxphone_group"],insertCamera:["jsapi_camera"],insertLivePusher:["jsapi_camera","jsapi_record"],insertVoIPView:["jsapi_camera"],insertXWebCamera:["jsapi_camera"],insertXWebLivePusher:["jsapi_camera","jsapi_record"],insertXWebVoIPView:["jsapi_camera"],joinVoIPChat:["jsapi_record"],openAddress:["jsapi_address"],openBluetoothAdapter:["webapi_bluetooth"],saveImageToPhotosAlbum:["jsapi_photos_album"],saveVideoToPhotosAlbum:["jsapi_photos_album"],setClipboardData:["jsapi_clipboard"],startRecord:["jsapi_record"]},foe={jsapi_accelerometer:2,jsapi_address:0,jsapi_camera:1,jsapi_choose_location:0,jsapi_clipboard:2,jsapi_compass:2,jsapi_devicemotion:2,jsapi_fuzzy_location:1,jsapi_gyroscope:2,jsapi_invoice:0,jsapi_licenseplate:0,jsapi_location:1,jsapi_media:0,jsapi_messagefile:0,jsapi_phonecontact:1,jsapi_photocalendar:1,jsapi_photos_album:1,jsapi_record:1,jsapi_useravatar:0,jsapi_username:0,webapi_bluetooth:1,webapi_getuserwxphone_group:0,webapi_userinfo:0,webapi_werun:1},goe=u.prototype.call.bind(String.prototype.split),voe=u.prototype.call.bind(String.prototype.match),moe=u.prototype.call.bind(Object.prototype.hasOwnProperty),yoe=e=>goe(e,"/",1)[0],boe=(e,t)=>moe(hoe,e)?_oe(hoe[e],t):null,_oe=(e,t)=>{var r="string"==typeof t&&voe(t,doe)?yoe(t):null;return e.map((e=>({apiName:poe,reqData:{scope:e,report_type:foe[e],state:1},pluginId:r,fail({errMsg:t}){y.warn(`[reportUserPrivacyStat] failed, scope=${e}, pluginId=${r}, errMsg=${t}`)}})))};const woe={getArgsByJsApi:boe,getArgsByScope:_oe,WxDataName:poe};td(((e,t)=>{if(!Ke()){var r=woe.getArgsByJsApi(e,t);null!==r&&setTimeout((()=>{y.info(`[reportUserPrivacyStat] reason: invoke service jsApi [${e}] success by [${t}]`),r.forEach((e=>{TE(e)}))}),200)}}));var Soe=e=>function(t,r){Ke()||setTimeout((()=>{y.info(`[reportUserPrivacyStat] reason: service ${r} by [${t}]`),woe.getArgsByScope(e,t).forEach((e=>{TE(e)}))}),200)},Coe=Soe(["webapi_userinfo"]),koe=Soe(["webapi_werun"]),Ioe=Soe(["jsapi_record"]),Poe=Soe(["jsapi_accelerometer"]),Aoe=Soe(["jsapi_compass"]),xoe=Soe(["jsapi_devicemotion"]),Toe=Soe(["jsapi_gyroscope"]),Eoe=Soe(["jsapi_camera"]),Moe=Soe(["jsapi_username"]),Roe=Soe(["jsapi_useravatar"]),Ooe=Soe(["webapi_getuserwxphone_group"]),Doe=function(){var e=xd()((function*(e={}){var t=!1;if(Oe){var r=yield wv();if(t=Boolean(r.token),console.warn("多端App无法使用wx.getUserInfo, 请适配"),!t)return void zc("getUserInfo",e,"getUserInfo:fail SDK暂不支持此API")}var n=re.SDKVersion,i=!0===bg("getUserInfo")||"unknown"===bg("getUserInfo"),{success:a,fail:o}=Kc(e,"getUserInfo");TE({sdkApiName:"getUserInfo",apiName:"webapi_getuserinfo",reqData:{lang:e.lang||"en",version:n},withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:i,saaaMock:t,success:e=>{var{cloudID:t,encryptedData:r,iv:n,signature:i,data:o}=e;a({cloudID:t,encryptedData:r,iv:n,signature:i,userInfo:o,rawData:JSON.stringify(e.data)}),Ue()&&setTimeout((()=>Coe("","wx.getUserInfo")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),o(e)}})}));return function(){return e.apply(this,arguments)}}(),Loe=(e={},t={})=>{if(Vc("getUserProfile",e,{desc:""})){var r=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(r>30||r<2)zc("getUserProfile",e,"desc length does not meet the requirements");else{var n=!0===bg("getUserProfile")||"unknown"===bg("getUserProfile"),{success:i,fail:a}=Kc(e,"getUserProfile"),o={lang:e.lang||"en",desc:e.desc};2===e.mode&&(o.get_profile_mode=2),o.version=re.SDKVersion,Mq({success(e){var t=JSON.parse(e.data);o.app_version=t},complete(){TE({sdkApiName:"getUserProfile",apiName:"webapi_getuserprofile",withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:n,reqData:o,pluginId:undefined,success:e=>{var{cloudID:t,encryptedData:r,iv:n,signature:a,data:o}=e;i({cloudID:t,encryptedData:r,iv:n,signature:a,userInfo:o,rawData:JSON.stringify(e.data)}),null!=o&&o.is_demote||setTimeout((()=>Coe("","wx.getUserProfile")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),a(e)},complete:()=>{"function"==typeof t.afterAll&&t.afterAll()}})}})}}},Noe=(e={})=>{NE("getUserAvatarInfo","webapi_getuseravatarpopupinfo")(e)},Boe=(e={})=>{var t=NE("confirmAvatarInfo","webapi_confirmuseravatarinfo",(e=>e),(e=>{try{e.userInfo=e.rawDataObject,Object.keys(e.userInfo).forEach((t=>{delete e[t]})),e.rawData=JSON.stringify(e.userInfo)}catch(e){}}));t(e)},$oe=(e={})=>{md("createVestUser",e,{beforeSuccess(e){e.userInfo&&(e.userInfo.avatar=e.userInfo.headImg,e.userInfo.desc=e.userInfo.desc||"",delete e.userInfo.headImg)}})},joe=(e={})=>{md("createVestUser",e,{})},Foe=null,Woe=!1,Uoe="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",Voe=(e={})=>{if(Oe)zc("getUserProfile",e,"getUserProfile:fail SDK暂不支持此API");else{if(Woe)return console.error("invoke wx.getUserProfile too frequently");if(Vc("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)zc("getUserProfile",e,"desc length does not meet the requirements");else{var r=re.accountInfo.nickname,n=re.accountInfo.icon||Uoe;Woe=!0,Noe({success(t){if(t&&t.avatar_info){var i="number"==typeof e.showType?e.showType:t.show_type,a="string"==typeof e.wording?e.wording:"",o=t.avatar_info.is_ban_modify_avatar,s=t.avatar_info.default_headimg_url,l=t.avatar_info.default_headimg_fileid,c=t.avatar_info.default_avatar_id,u=(t.avatar_info.avatar_list||[]).map((e=>({id:e.id,avatar:e.avatarurl,nickname:e.nickname,desc:e.desc||""}))),d=t.avatar_info.avatar_limit;if(0!==i){if(Woe=!1,1===i){d+=1;var p={id:-100,avatar:s,nickname:"微信用户",desc:"临时头像昵称"};u.splice(1,0,p)}var h=JSON.stringify({appName:r,appIcon:n,infoList:u,showType:i,selected:c,limit:d,isBanModifyAvatar:o,wording:a}),f=jV((e=>{[PV.BottomBackButton,PV.NavigationBackInterceptionType,PV.NavigateBackCall].includes(e.type)&&Foe&&Foe.handleCancel()}));__sclEngine__.initScl((t=>{(Foe=t.mainRoot.append("user-profile",{input:h})).addListener("confirm",(t=>{FV(f),Boe({avatar_id:t.detail.selected,opt:1,lang:e.lang||"en",success(r){e.__requireId__&&(r.avatarId=t.detail.selected),Hc({name:"getUserProfile",args:e,res:r})},fail(){zc("getUserProfile",e,"confirmAvatarInfo fail")},complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),Foe=null})),Foe.addListener("cancel",(()=>{FV(f),zc("getUserProfile",e,"cancel"),Boe({avatar_id:-100,opt:2,lang:e.lang||"en",complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),Foe=null})),Foe.addListener("create",(()=>{$oe({sessionId:Math.floor(Date.now()/1e3),defaultAvatarUrl:s,defaultAvatarFileId:l,complete(e){e.userInfo&&(u.push(e.userInfo),console.log("[user-profile] createVestUser: ",e,u),Foe.setData({infoList:u})),Foe.setData({hide:!1})}})}))}))}else Loe(e,{afterAll:()=>Woe=!1})}else zc("getUserProfile",e,"getUserAvatarInfo fail")},fail(){Woe=!1,zc("getUserProfile",e,"getUserAvatarInfo fail")}})}}}},qoe=(e={})=>{Oe?zc("getUserProfile",e,"getUserProfile:fail SDK暂不支持此API"):Voe(Object.assign({},e,{__requireId__:!1}))},zoe=function(e){Oe?zc("chooseAddress",e,"chooseAddress:fail SDK暂不支持此API"):bd(Wh(this))("openAddress",e,{beforeSuccess(e){Jd(e,"addressPostalCode","postalCode"),Jd(e,"proviceFirstStageName","provinceName"),Jd(e,"addressCitySecondStageName","cityName"),Jd(e,"addressCountiesThirdStageName","countyName"),Jd(e,"addressStreetFourthStageName","streetName"),Jd(e,"addressDetailInfoNew","detailInfoNew"),Jd(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddress"),delete e.err_msg}})},Goe={SYS_MSG_TYPE_INTERACTIVE:1,SYS_MSG_TYPE_RANK:2,SYS_MSG_TYPE_PRIVATE_CHAT:3,SYS_MSG_TYPE_WHATS_NEW:4},Hoe=Koe(Goe);function Koe(e){var t={};for(var r in e)t[e[r]]=r;return t}function Joe(e){return Goe[e]}function Xoe(e){return Hoe[e]}function Yoe(e){var t,r,n=re.SDKVersion,i=(null!=re&&null!==(t=re.requiredPrivateInfos)&&void 0!==t&&t.includes("getFuzzyLocation")?1:0)+((null==re||null===(r=re.requiredPrivateInfos)||void 0===r?void 0:r.length)>0?2:0),a=Object.assign({with_sub_msg:"boolean"==typeof e.withSubscriptions&&e.withSubscriptions,version:n,ext_flag:i},e);return delete a.withSubscriptions,a}function Qoe(e){if(y.info("webapi_getuserallappauth res=",e),e.auth_item?e.authSetting=e.auth_item.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}):e.authSetting={},void 0!==e.sub_msg_switch){var t={mainSwitch:1===e.sub_msg_switch};if(e.sub_msg_list){var r=e.sub_msg_list.reduce(((e,t)=>{var r=t.template_id;return t.sys_msg_type>0&&(r=Xoe(t.sys_msg_type)),t.ban_flag?e[r]="ban":(e[r]=t.setting_status?"accept":"reject",t.is_accept_with_audio?e[r]="acceptWithAudio":t.is_accept_with_force_push&&(e[r]="acceptWithForcePush")),e}),{});t.itemSettings=r,Object.assign(t,r)}e.subscriptionsSetting=t}return delete e.signature,delete e.auth_item,delete e.sub_msg_list,delete e.sub_msg_switch,e}var Zoe=(e={})=>{if(Oe)return(e={})=>{zc("getSetting",e,"getSetting:fail SDK暂不支持此API")};if(o2()){var t=d2(),r=null,{withSubscriptions:n=!1}=e,i=(n="")=>{if(r){var i,a=(null===(i=r)||void 0===i?void 0:i.authSetting)||{};r.authSetting=Object.assign(a,t),Hc({name:"getSetting",args:e,success:!0,res:r})}else{try{n=n.split(":")[1]}catch(e){}zc("getSetting",e,n)}};NE("getSetting","webapi_getuserallappauth",Yoe,Qoe)({withSubscriptions:n,success:e=>{r=e,i()},fail:e=>{i(null==e?void 0:e.errMsg),y.error(e)}})}else NE("getSetting","webapi_getuserallappauth",Yoe,Qoe)(e)},ese=function(e={}){if(Oe)zc("getWeRunData",e,"getWeRunData:fail SDK暂不支持此API");else{var t=Wh(this);bd(t)("openWeRunSetting",{checkSupport:!0,success(){var{success:r,fail:n}=Kc(e);TE({apiName:"webapi_getwerunstep_history",sdkApiName:"getWeRunData",reqData:{},success(e){r(e),koe(t,"wx.getWeRunData")},fail:n})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&x.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&x.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})}},tse=(e={})=>{Oe?zc("uploadWeRunData",e,"uploadWeRunData:fail SDK暂不支持此API"):"number"!=typeof e.step||e.step<0?zc("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):md("openWeRunSetting",{checkSupport:!1,success(){md("uploadWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&x.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&x.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},rse=(e={})=>{Oe?zc("addWeRunData",e,"addWeRunData:fail SDK暂不支持此API"):"number"!=typeof e.step||e.step<0?zc("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):md("openWeRunSetting",{checkSupport:!1,success(){md("addWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&x.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&x.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},nse=function(e={}){Oe?zc("chooseInvoiceTitle",e,"chooseInvoiceTitle:fail SDK暂不支持此API"):bd(Wh(this))("chooseInvoiceTitle",e,{beforeSuccess(e){var t=e.invoiceTitleInfo||e.choose_invoice_title_info;if(t)try{var r=JSON.parse(t);delete e.invoiceTitleInfo,delete e.choose_invoice_title_info,e=Object.assign(e,r)}catch(e){}}})},ise=e=>(t={})=>{Vc("operateWXData",t,{apiName:""})&&DE({keepAlive:t.keepAlive,apiName:t.apiName,reqData:t.reqData||{},pluginId:e?t.pluginId:void 0,timeout:t.timeout,showApiVersion:t.showApiVersion,showProfile:t.showProfile,priority:2===t.priority||3===t.priority?t.priority:void 0,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},ase=ise(!1),ose=ise(!0),sse=NE("getOpenDeviceId","webapi_getdeviceinfo");function lse(e,t){return"openStickerSetView"===e?{productId:t.productid}:"openSingleStickerView"===e?{md5:t.md5,emojiInfoBuf:t.emoji_info_buf_base64,showEntry:1}:"openStickerIPView"===e?{title:t.title,desc:t.desc,iconUrl:t.icon_url,setKey:t.set_key}:t}function cse(e,t){if(Vc(e,t,{url:""})){var r=t.url;delete t.url;var{protocol:n,hostname:i,pathname:a,query:o}=(0,qb.Qc)(r,!0),s=decodeURIComponent(o.token||"");"http:"!==n&&"https:"!==n||"weixin.qq.com"!==i||"/jumpemoticonstore"!==a||!s?zc(e,t,"invalid url"):TE({sdkApiName:e,apiName:"webapi_checkwxajumpemotiontoken",reqData:{token:s},success(r){try{var n,i=lse(e,JSON.parse(null===(n=r.data)||void 0===n?void 0:n.jsapi_json));md(e,{...t,...i})}catch(r){zc(e,t,"params parse error")}},fail(r){zc(e,t,r.errMsg||"")}})}}function use(e={}){cse("openStickerSetView",e)}function dse(e={}){cse("openSingleStickerView",e)}function pse(e={}){cse("openStickerIPView",e)}var hse=ir("ThemeChange"),fse=hse.onMethod,gse=hse.internalOnMethod,vse=hse.offMethod;qt("onThemeChange",(e=>{void 0!==re.theme&&(re.theme=e.theme,hse.emit({theme:e.theme}))}));var mse=(e=[])=>e.map((e=>({sport_type_id:e.typeId,sport_time:e.time||0,sport_distance:e.distance||0,sport_number:e.number||0,sport_calorie:e.calorie||0,sport_url:e.url||""}))),yse=(e={})=>{var t=NE("checkWxaSportRecord","webapi_checkwxasportrecord",(e=>({sport_record_list:mse(e.recordList)})));t(e)},bse=(e={})=>{var t=NE("reportWxaSportRecord","webapi_reportwxasportrecord",(e=>({sport_record_list:mse(e.recordList)})));t(e)},_se=wg(yse),wse=wg(bse),Sse=({show:e=0,statusCancel:t=0,statusConfirm:r=0,clickMoreCount:n=0})=>{var i=[e,t,r,n];T.reportKeyValue({key:"ShareToWeRun",value:i.join(","),immediately:!0})},Cse=null;fse((e=>{var t=e.theme;Cse&&Cse.setData({theme:t})}));var kse=(e,t=[])=>{var r={};return t.forEach((t=>{e.hasOwnProperty(t)&&(r[t]=e[t])})),r},Ise=(e="",t)=>{var r=jV((e=>{[PV.BottomBackButton,PV.NavigationBackInterceptionType,PV.NavigateBackCall].includes(e.type)&&Cse&&(Cse.handleCancel(),Cse=null)}));__sclEngine__.initScl((n=>{var i=n.mainRoot.append("werun",{input:e});Cse=i,i.addListener("confirm",(e=>{var n=e.detail.clickMoreCount;Sse({show:1,statusCancel:0,statusConfirm:1,clickMoreCount:n}),FV(r),wse({recordList:t.recordList}).then((()=>Hc({name:"shareToWeRun",args:t}))).catch((e=>zc("shareToWeRun",t,e.errMsg,+e.err_code)))})),i.addListener("cancel",(e=>{var n=e.detail.clickMoreCount;Sse({show:1,statusCancel:1,statusConfirm:0,clickMoreCount:n}),zc("shareToWeRun",t,"cancel"),FV(r)}))}))},Pse=(e={})=>{Oe?zc("shareToWeRun",e,"shareToWeRun:fail SDK暂不支持此API"):Vc("shareToWeRun",e,{recordList:[]})&&(Cf("shareDataToWeRun")?_se({recordList:e.recordList}).then((t=>{var r=t.wording||{},n=kse(r,["title","sport_name","note_title","note_detail"]);n.theme=ww().theme||"light";var i=JSON.stringify(n);Ise(i,e)}),(t=>{Sse({show:0,statusCancel:0,statusConfirm:0,clickMoreCount:0}),zc("shareToWeRun",e,t.errMsg,+t.err_code)})):zc("shareToWeRun",e,"has no permission",-100004))},Ase=0;g.onLoad((()=>{Ase=parseInt(Date.now()/1e3,10)}));var xse=function(e={}){Oe?zc("chooseInvoice",e,"chooseInvoice:fail SDK暂不支持此API"):bd(Wh(this))("chooseInvoice",Object.assign({},e,{timeStamp:Ase,nonceStr:Ase+""}),{beforeSuccess(){}})},Tse=e=>{var t=bd(e);return(e={})=>{t("faceVerifyForPay",e)}},Ese=Tse(),Mse=(e={})=>{if(Oe)zc("openOfficialAccountProfile",e,"openOfficialAccountProfile:fail SDK暂不支持此API");else{var t=Object.assign({},e,{scene:151});delete t.profileReportInfo,md("openBizProfile",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("openBizProfile","openOfficialAccountProfile")}})}},Rse=(e={})=>{Oe?zc("openMiniProgramProfile",e,"openMiniProgramProfile:fail SDK暂不支持此API"):md("openWeAppProfile",e)},Ose=(e={})=>{if(Oe)zc("openUserProfile",e,"openUserProfile:fail SDK暂不支持此API");else{var t=Object.assign({},e);delete t.profileReportInfo,md("openUserProfile",t)}},Dse=e=>(t={})=>{var r=Object.assign({},t,{scene:151});delete r.profileReportInfo,bd(e)("openBizProfile",r,{beforeAll:e=>{e.errMsg=e.errMsg.replace("openBizProfile","openOfficialAccountProfile")}})},Lse=(e={})=>{md("preventApplePayUI",e)},Nse=!1;RC((()=>{Nse=!1})),Gp((()=>{Nse=!1}));var Bse=e=>{if(Oe)zc("requestSubscribeMessage",e,"requestSubscribeMessage:fail SDK暂不支持此API");else if(Nse)zc("requestSubscribeMessage",e,"last call has not ended");else{if(!Vc("requestSubscribeMessage",e,{tmplIds:[]}))return;Nse=!0,Ce?jse(e):$se(e)}},$se=e=>{T.reportIDKey({key:"requestSubscribeMessageWithNative",force:!0});var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),md("requestSubscribeMessage",t,{beforeAll(){Nse=!1},beforeSuccess(){T.reportIDKey({key:"requestSubscribeMessageWithNativeSuccess",force:!0}),Nse=!1},beforeFail(){T.reportIDKey({key:"requestSubscribeMessageWithNativeFail",force:!0})}})},jse=e=>{var t,r,n=e.tmplIds||[];if(0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t)return Nse=!1,void zc("requestSubscribeMessage",e,t,r);var i=n.map((e=>({TemplateId:e})));TE({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:re.accountInfo.appId,ActionType:1,ItemList:i},success(t){var r=(t.data.InfoList||[])[0]||{};if(r.TemplateId!==n[0])return Nse=!1,void Hc({name:"requestSubscribeMessage",args:e,res:{[n[0]]:"ban"}});var i="订阅一次以下消息通知";3===r.TemplateType&&(i="长期订阅以下消息通知"),OW({title:i,content:r.Title||"",confirmText:"允许",cancelText:"取消",success(t){Nse=!1,Fse(e,t)},fail(t){Nse=!1,zc("requestSubscribeMessage",e,t.errMsg)}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();zc("requestSubscribeMessage",e,r,+t.err_code),Nse=!1}})},Fse=(e,t)=>{var r=e.tmplIds[0];TE({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:re.accountInfo.appId,ActionType:2,UIData:{OpType:t.confirm?1:2,UIItem:[{TemplateId:r,ChooseStatus:1}]}},success(){var n={};n[`${r}`]=""+(t.confirm?"accept":"reject"),Hc({name:"requestSubscribeMessage",args:e,res:n}),$2({name:"requestSubscribeMessage",data:{templateCount:1,templateType:0,operationType:t.confirm?1:2}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();zc("requestSubscribeMessage",e,r,+t.err_code)}})},Wse="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",Use={none:0,accept:1,cancel:2,reject:3},Vse={0:"none",1:"accept",2:"cancel",3:"reject"},qse=!1,zse=0,Gse=null;function Hse(e){WC("setGuideFlag",{value:e},[zse],(e=>{e.errMsg&&e.errMsg}))}function Kse(e){WC("getGuideFlag",{},[zse],(t=>{t.errMsg?t.errMsg:e(!!t.data)}))}function Jse(){setTimeout((()=>{Kse((e=>{Gse&&Gse.setData({showGuideOnce:e})}))}),500)}function Xse(e=!0){qse=!1,Gse&&e&&Gse.des()}function Yse(){return jV((e=>{[PV.BottomBackButton,PV.NavigationBackInterceptionType,PV.NavigateBackCall].includes(e.type)&&Xse()}))}function Qse(e,t,r){Gse||(Gse=r.mainRoot.append("device-message",{})),Gse.addListener("ready",(()=>{Gse&&(Gse.initData?(Gse.setData({...Gse.initData,enter:!0}),Jse()):Gse.isReady=!0)})),Gse.addListener("confirm",(t=>{ele(e,Use.accept,t.detail.items)})),Gse.addListener("cancel",(t=>{ele(e,Use.cancel,t.detail.items)})),Gse.addListener("reject",(t=>{ele(e,Use.reject,t.detail.items)})),Gse.addListener("destroy",(()=>{Gse=null,FV(t)})),Gse.addListener("vibrate",(()=>{e1({type:"medium"})})),Gse.addListener("setGuideFlag",(e=>{Hse(e.detail.value)}))}function Zse(e,t){TE({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:1,sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,ItemList:e.tmplIds.map((e=>({TemplateId:e})))},success(r){var n=r.data.InfoList||[],i=[],a=[];if(n.forEach((e=>{e.OperType&&e.OperType!==Use.cancel?a.push(e):i.push(e)})),!i.length){var o={},s=a.some((e=>e.OperType===Use.accept));return a.forEach((e=>{o[e.TemplateId]=Vse[e.OperType]})),Hc({name:"requestSubscribeDeviceMessage",success:s,args:e,res:o}),void Xse()}var l={appIcon:re.accountInfo.icon||Wse,appName:re.accountInfo.nickname,items:i.map((e=>({name:e.Title,checked:!1,...e.IsForcePushTemplate?{isDefaultForcePush:1===e.IsDefaultForcePush,isForcePush:!0,forcePushStatus:!1}:{},id:e.TemplateId,noticeList:e.KeyWordList})))};t(l)},fail(t){var r=t.errMsg.replace("requestSubscribeDeviceMessage:fail:","").trim();zc("requestSubscribeDeviceMessage",e,r,+t.err_code),Xse()}})}function ele(e,t,r){TE({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:2,sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,UIData:{OpType:t,UIItem:r.map((e=>({TemplateId:e.id,ChooseStatus:e.checked?1:0,...e.isForcePush?{IsAcceptWithForcePush:e.forcePushStatus?1:0}:{}})))}},success(){if(t===Use.cancel||t===Use.reject)zc("requestSubscribeDeviceMessage",e,`${Vse[t]} operation`);else{var n={};r.forEach((e=>{n[e.id]=e.checked?"accept":"reject"})),Hc({name:"requestSubscribeDeviceMessage",args:e,res:n})}Xse(!1)},fail(t){var r=t.errMsg.replace("requestSubscribeDeviceMessage:fail:","").trim();zc("requestSubscribeDeviceMessage",e,r,+t.err_code),Xse(!1)}})}RC((e=>{zse=e.webviewId,Xse()})),Gp((()=>{Xse()}));var tle=e=>{if(Vc("requestSubscribeDeviceMessage",e,{sn:"",snTicket:"",modelId:"",tmplIds:[]})){var t,r,n=e.tmplIds||[];0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t?zc("requestSubscribeDeviceMessage",e,t,r):qse||(qse=!0,__sclEngine__.initScl((t=>{var r=Yse();Qse(e,r,t),Zse(e,(e=>{Gse&&(Gse.isReady?(Gse.setData({...e,enter:!0}),Jse()):Gse.initData=e)}))})))}},rle=(e={})=>{Vc("requestBizSplitBillPayment",e,{orderNo:""})&&md("requestBizSplitBillPayment",e)},nle="getGroupEnterInfo",ile=(e={})=>{if(Oe)zc("getGroupEnterInfo",e,"getGroupEnterInfo:fail SDK暂不支持此API");else{var{success:t,fail:r,failWithMsg:n}=Kc(e,nle),i=lie();i?Cf("getGroupToolbarInfo")?TE({sdkApiName:nle,apiName:"webapi_swapopengid",reqData:{chatroom_name:i},success:t,fail:r}):n({msg:"no permission"}):n({msg:"invalid scene"})}},ale=()=>EE({apiName:"webapi_getapppublishwxstatecheckflag",reqData:{}}),ole=[1011,1017,1025,1047,1124,1034],sle=[1001,1038,1041,1089,1090,1104,1131,1187],lle={NeedCheck:0,NotCheck:1},cle=e=>{if(ole.includes(e))return!0;if(sle.includes(e)){var{scene:t}=cN();return ole.includes(t)}return!1},ule=function(){var e=xd()((function*(){try{var{data:e}=yield ale(),{check_scene_flag:t=lle.NeedCheck,check_pay_success_flag:r=lle.NeedCheck}=e||{};return{shouldCheckScene:t===lle.NeedCheck,shouldCheckPayment:r===lle.NeedCheck}}catch(e){return{shouldCheckScene:!0,shouldCheckPayment:!0}}}));return function(){return e.apply(this,arguments)}}(),dle=(e={})=>{var{scene:t}=tf();ule().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{!n||ere()?!r||cle(t)?md("publishWechatStateActivity",e,{beforeSuccess:e=>{var{tailType:t,tailUserName:r,tailPath:n,tailUri:i}=e;delete e.tailType,delete e.tailUserName,delete e.tailPath,delete e.tailUri,T.reportKeyValue({key:"PublishWechatState",value:[t,r,n,i].map(encodeURIComponent).join(",")})}}):zc("publishWechatStateActivity",e,`invalid scene, current is ${t}`):zc("publishWechatStateActivity",e,"should only called after a successful payment")}))},ple=()=>{var{scene:e}=tf();return ere()&&cle(e)},hle=e=>{var{scene:t}=tf(),{success:r,failWithMsg:n}=Kc(e,"checkPublishWeChatStateSceneAsync");ule().then((({shouldCheckScene:e,shouldCheckPayment:n})=>{(!n||ere())&&(!e||cle(t))?r({canPublishWeChatState:!0}):r({canPublishWeChatState:!1})})).catch((e=>{n({msg:"system error"})}))},fle=(e={})=>{if(Oe)console.error({errMsg:"publishWeChatState:fail SDK暂不支持此API"});else{var{scene:t}=tf();ule().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{if(!n||ere())if(!r||cle(t)){var i=Object.assign({},e);if("string"==typeof i.url){var a=SM("publishWeChatState",i,!1);if(!a)return;i.url=a,i.url=op(i.url)}md("publishWeChatState",i)}else zc("publishWeChatState",e,`invalid scene, current is ${t}`);else zc("publishWeChatState",e,"should only called after a successful payment")}))}},gle=(e={})=>{if(Oe)zc("openCustomerServiceChat",e,"openCustomerServiceChat:fail SDK暂不支持此API, 请采用wx.miniapp.openCustomerServiceChat");else{e=Object.assign({},e);var t=()=>{try{$2({name:"openCustomerServiceChat",data:{extInfo:"object"==typeof e.extInfo?JSON.stringify(e.extInfo):e.extInfo,corpId:e.corpId}})}catch(e){}};Ue()?TE({apiName:"webapi_getgamewxkfinfo",sdkApiName:"openCustomerServiceChat",reqData:{raw_kf_args:{extinfo:e.extInfo,corpid:e.corpId,show_message_card:e.showMessageCard,send_message_title:e.sendMessageTitle,send_message_path:e.sendMessagePath,send_message_img:e.sendMessageImg}},success:r=>{var n=r.data;if(0===(null==n?void 0:n.err_code)){var{processed_kf_args:i,need_ban_kf:a}=n;if(a)zc("openCustomerServiceChat",e,"customer service ability is banned");else{var{extinfo:o,corpid:s,show_message_card:l,send_message_title:c,send_message_path:u,send_message_img:d}=i||{};o.scene=20,md("openCustomerServiceChat",{extInfo:o,corpId:s,showMessageCard:l,sendMessageTitle:c,sendMessagePath:u,sendMessageImg:d,scene:+re.appLaunchInfo.scene,success:e.success,fail:e.fail,complete:e.complete},{beforeSuccess:t})}}else{var{err_code:p,err_msg:h}=n;y.error("openCustomerServiceChat err_code",p),zc("openCustomerServiceChat",e,h,p)}},fail:t=>{y.error("openCustomerServiceChat operateWXData Fail",t),console.error("openCustomerServiceChat operateWXData Fail",t),zc("openCustomerServiceChat",e,t.errMsg)}}):(e.extInfo=Object.assign({},e.extInfo,{scene:8}),md("openCustomerServiceChat",Object.assign({},e,{scene:+re.appLaunchInfo.scene}),{beforeSuccess:t}))}},vle=function(e={}){Oe?zc("chooseLicensePlate",e,"chooseLicensePlate:fail SDK暂不支持此API"):bd(Wh(this))("chooseLicensePlate",e,{beforeSuccess:e=>{e.plate&&(e.plateNumber=e.plate,delete e.plate)}})},mle=(e={})=>{Vc("ncidas",e,{orgID:"",businessID:"",bizSeq:"",type:0})&&md("openCTID",Object.assign({},e,{miniProgramPlatformID:"00000002"}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("openCTID","ncidas")}})},yle=U8(),ble=e=>{yle(e,V8.addDevicePanel)},_le=e=>{if(Vc("removeDevicePanel",e,{sn:"",snTicket:"",modelId:""})){var{sn:t,snTicket:r,modelId:n}=e;TE({sdkApiName:"removeDevicePanel",apiName:"RemoveDevicePanel",reqData:{sn:t,sn_ticket:r,model_id:n},success(t){Hc({name:"removeDevicePanel",args:e,res:t}),jW({title:"已删除",icon:"success"})},fail(t){var r=t.errMsg.replace("removeDevicePanel:fail:","").trim();zc("removeDevicePanel",e,r,+t.err_code)}})}},wle=e=>{TE({sdkApiName:"getDevicePanelList",apiName:"GetWxaDevicePanel",reqData:{},success(t){Hc({name:"getDevicePanelList",args:e,res:t})},fail(t){var r=t.errMsg.replace("getDevicePanelList:fail:","").trim();zc("getDevicePanelList",e,r,+t.err_code)}})},Sle=e=>{TE({sdkApiName:"canIUseDevicePanel",apiName:"CanUseDevicePanel",reqData:{},success({data:t}){var r={result:!!t&&t.check_result};Hc({name:"canIUseDevicePanel",args:e,res:r})},fail(t){var r=t.errMsg.replace("canIUseDevicePanel:fail:","").trim();zc("canIUseDevicePanel",e,r,+t.err_code)}})},Cle=e=>{if(Vc("batchAddDevicePanel",e,{devices:[{sn:"",snTicket:"",modelId:"",deviceName:"",location:""}]})){var t=e.devices.map((e=>({sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,name:e.deviceName,location:e.location,path:e.path,version_type:e.envVersion||re.envVersion})));TE({sdkApiName:"batchAddDevicePanel",apiName:"BatchAddDevicePanel",reqData:{device_list:t},success(t){Hc({name:"batchAddDevicePanel",args:e,res:t})},fail(t){var r=t.errMsg.replace("batchAddDevicePanel:fail:","").trim();zc("batchAddDevicePanel",e,r,+t.err_code)}})}},kle=U8(),Ile=e=>{kle(e,V8.requestDeviceVoIP)},Ple=e=>{TE({sdkApiName:"getDeviceVoIPList",apiName:"GetIotVoipContactList",reqData:{type:1},success(t){var r=((t.data||{}).contact_list||[]).map((({sn:e,model_id:t,group_id:r,status:n})=>({sn:e,model_id:t,group_id:r,status:n})));Hc({name:"getDeviceVoIPList",args:e,res:{list:r}})},fail(t){var r=t.errMsg.replace("getDeviceVoIPList:fail:","").trim();zc("getDeviceVoIPList",e,r,+t.err_code)}})},Ale="checkIsAddedToMyMiniProgram",xle=NE(Ale,"webapi_checkwxauserstarwxa",(()=>{}),(e=>{e.added=e.is_star_wxa,delete e.is_star_wxa}));function Tle(e){xle(Object.assign({},e))}var Ele=NE("getWeComProfileInfo","webapi_getweworkprofileinfo",(({dataUrl:e})=>({wework_profile_url:e,scene:Qh().scene})),(e=>{e.corp_brief_name&&(e.name=e.corp_brief_name,delete e.corp_brief_name)})),Mle="openWeComUserProfile",Rle=e=>{Ie&&(e.url=e.dataUrl,delete e.dataUrl),md("openWeComUserProfile",e)},Ole=e=>{Vc(Mle,e,{dataUrl:""})&&Ele({...e,success:({name:t})=>{RW({title:`即将打开“${t}”的企业微信名片`,confirmText:"确定",cancelText:"取消",success:({confirm:t})=>{if(!t)return zc(Mle,e,"cancel");Rle(e)}})},fail:t=>{var r=t.errMsg.replace(/^\w+:fail\s*/,"");"1420103"===t.err_code&&(r="小程序和企业主体不同"),zc(Mle,e,r,t.err_code)}})},Dle,Lle=!Ne&&(Re||Oe),Nle=Te||Ce||Lle||xe,Ble={},$le={},jle=new Yt,Fle={},Wle={},Ule={},Vle=["getCenterLocation","getRegion","getScale","includePoints","moveToLocation","translateMarker","setIndoorFloor","getIndoorFloor","setIndoorMaskColor","getRotate","getSkew","eraseLines","setCenterOffset","addCustomLayer","removeCustomLayer","moveAlong","initMarkerCluster","addMarkers","removeMarkers","on","off","once","toScreenLocation","fromScreenLocation","addGroundOverlay","updateGroundOverlay","removeGroundOverlay","openMapApp","setLocMarkerIcon","addVisualLayer","removeVisualLayer","addArc","removeArc","setBoundary","executeVisualLayerCommand"];function qle(e){Fle[e]||(Fle[e]=!0,XM(e,(e=>{delete Fle[e],Object.keys(Ble).forEach((t=>{new RegExp("^"+e).test(t)&&(delete $le[`${e}_${Ble[t]}`],delete Ble[t])})),Object.keys(Wle).forEach((t=>{new RegExp("^api_"+e).test(t)&&(delete $le[`${e}_${Ble[t.substr(4)]}`],delete Wle[t])})),Object.keys(Wle).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&(delete $le[t.substr(3)],delete Wle[t])}))}),"MapContext"))}var zle=0;en("mapInsert",((e,t)=>{var{nodeId:r,domId:n,mapId:i,pluginId:a}=e,o=`${t}_${a}_${n}_`;r&&r!==Pp(t)&&(o+=r),Ble[o]=i,$le[`${t}_${i}`]=e,jle.emit(`mapInsert-${o}`),qle(t)})),en("mapRemove",(({domId:e,mapId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==Pp(i)&&(a+=n),delete Ble[a],delete $le[`${i}_${t}`];var o=`api_${i}_${r}_${e}_`;n&&n!==Pp(i)&&(o+=n);var s=`SQ_${i}_${t}`;delete Wle[o],delete Wle[s]}));class Gle{}en("operateMapCallback",(e=>{var t=e.callbackId;t&&"function"==typeof Ule[t]&&(Ule[t](e),delete Ule[t])}));var Hle=(Dle=class{constructor(){var e=this.exportContext=new Gle;Vle.forEach((t=>e[t]=this[t].bind(this))),this._lastMarkerPos={},this._lastMarkerDeg={},this._translating={},this._delayTranslate={},this._isGetMarkerPos={}}get data(){return $le[`${this.webviewId}_${this.mapId}`]}on(e,t){this._listenerHandler("on",e,t)}off(e,t){this._listenerHandler("off",e,t)}once(e,t){this._listenerHandler("once",e,t)}_invoke(e,t,r){if(["openMapApp"].indexOf(e)<0&&(Nle||["includeMapPoints","getMapMarker","hasUseShowLocation"].indexOf(e)>=0)){t.method=e;var n=`callback${this.webviewId}_${t.mapId}_${zle++}`;Ule[n]=function(e){delete e.callbackId,delete e.mapId,delete e.method,e.errMsg&&(e.errMsg.indexOf(":ok")>-1?"function"==typeof t.success&&t.success(e):e.errMsg.indexOf(":fail")>-1&&"function"==typeof t.fail&&t.fail(e)),"function"==typeof t.complete&&t.complete(e)},t.callbackId=n,Kr("operateMap",t,[this.webviewId])}else md(e,t,r)}toScreenLocation(e={}){this._invokeMethod("toScreenLocation",e)}fromScreenLocation(e={}){this._invokeMethod("fromScreenLocation",e)}getCenterLocation(e={}){var t=this;t._invokeMethod("hasUseShowLocation",{complete(r){r.useShowLocation&&t._moveToEmptyLocation?p9({scope:"scope.userLocation",success(){t._invokeMethod("getMapCenterLocation",e)},fail(t){var r="user not authorized scope.userLocation";t.errMsg&&(r=t.errMsg.replace("authorize:fail","")),zc("getMapCenterLocation",e,r)}}):t._invokeMethod("getMapCenterLocation",e)}})}setLocMarkerIcon(e={}){if(Vc("setLocMarkerIcon",e,{iconPath:""})){var t=Object.assign({},e);/^(wxfile|https?)/.test(t.iconPath)||(t.iconPath=Q0(t.iconPath,!1)),this._invokeMethod("setMapLocMarkerIcon",t)}}getScale(e={}){this._invokeMethod("getMapScale",e,{beforeSuccess(e){e.scale=+Number.parseFloat(e.scale).toFixed(2)}})}getRegion(e={}){this._invokeMethod("getMapRegion",e)}moveToLocation(e={}){"number"!=typeof e.longitude||"number"!=typeof e.latitude?this._moveToEmptyLocation=!0:this._moveToEmptyLocation=!1,V3("moveToLocation").catch((()=>({success:!0}))).then((({success:t,errMsg:r,errno:n})=>{t?this._invokeMethod("moveToMapLocation",e):Hc({name:"moveToLocation",args:e,success:!1,errno:n,errMsg:r})}))}addGroundOverlay(e={}){if(Vc("addGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);/^(wxfile|https?)/.test(t.src)||(t.src=Q0(t.src,!1)),this._invokeMethod("addMapGroundOverlay",t)}}openMapApp(e={}){Vc("openMapApp",e,{longitude:0,latitude:0,destination:""})&&this._invokeMethod("openMapApp",e)}removeGroundOverlay(e={}){Vc("removeGroundOverlay",e,{id:0})&&this._invokeMethod("removeMapGroundOverlay",e)}updateGroundOverlay(e={}){if(Vc("updateGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);this._invokeMethod("updateMapGroundOverlay",t)}}moveAlong(e={}){if(Vc("moveAlong",e,{duration:0,markerId:0,path:[]})){var t={autoRotate:!0};Object.assign(t,e),this._invokeMethod("moveMapMarkerAlong",t)}}addMarkers(e={}){var t=this;if(Vc("addMarkers",e,{markers:[]}))if(Nle){var r=Object.assign({clear:!1},e);this._invokeMethod("addMapMarkers",r)}else{var n=e.markers.map(((e={})=>{nt(e.id)||nt(e.clusterId)||console.warn("marker id must be a number");var t=Object.assign({},e);t.anchor=pt(t.anchor)?t.anchor:{x:.5,y:1},t.alpha=nt(t.alpha)?t.alpha:1,t.rotate=nt(t.rotate)?t.rotate:0;var r=t.iconPath;return rt(r)&&!/^(wxfile|https?)/.test(r)&&(t.iconPath=Q0(r,!1)),pt(t.label)&&(t.label=Object.assign({content:"",color:"#000000",fontSize:12,borderRadius:0,borderWidth:0,borderColor:"#000000",bgColor:"#00000000",padding:0,anchorX:0,anchorY:0,textAlign:"right"},t.label)),pt(t.callout)?(t.callout=Object.assign({content:"",color:"#000000",fontSize:12,display:"BYCLICK",borderRadius:0,borderWidth:0,borderColor:"#00000000",bgColor:"#ffffff",padding:0,anchorX:0,anchorY:0,textAlign:"center"},t.callout),t.callout.display="ALWAYS"===t.callout.display?1:0):rt(t.title)&&(t.callout={content:t.title,bgColor:"#FFFFFF",padding:10,display:0,textAlign:"center"}),delete t.title,t.data=JSON.stringify({markerId:t.id}),t})),i={};n.forEach(((e,t)=>{var r=e.iconPath;rt(r)&&/^cloud:/.test(r)&&(i[r]||(i[r]=[]),i[r].push(t))}));var a=Object.keys(i);K0(a,"image",function(){var r=xd()((function*(r){var o=[...r.data.map((e=>e.url))];o.forEach(((e,t)=>{i[a[t]].forEach((t=>{n[t].iconPath=e}))})),Ie&&BF.mapMarkersIOS.set(t.mapId,JSON.parse(JSON.stringify(n))),ke&&BF.mapMarkersAndroid.set(t.mapId,JSON.parse(JSON.stringify(Object.assign({clear:!1},e,{markers:n})))),yield SW(n);var s=Object.assign({clear:!1},e,{markers:n});t._invokeMethod("addMapMarkers",s)}));return function(e){return r.apply(this,arguments)}}())}}removeMarkers(e={}){if(Vc("removeMarkers",e,{markerIds:[]})){var t=Object.assign({},{markers:e.markerIds},e);this._invokeMethod("removeMapMarkers",t)}}initMarkerCluster(e={}){var t=Object.assign({enableDefaultStyle:!0,zoomOnClick:!0,gridSize:60},e);this._invokeMethod("initMapMarkerCluster",t)}translateMarker(e={}){var t=e.markerId;if(void 0!==t)if(e.destination)if(this._translating[t])this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e];else{if(!this._isGetMarkerPos[t])return this._translating[t]=!0,this._invokeMethod("getMapMarker",{markerId:t,success:e=>{this._lastMarkerPos[t]=e.pos},complete:()=>{this._isGetMarkerPos[t]=!0,this._translating[t]=!1;var e=this._delayTranslate[t];e&&e.length&&this.translateMarker(e.shift())}}),void(this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e]);0===e.duration&&(e.duration=1);var r={markerId:t,keyFrames:[],success:t=>{"function"==typeof e.success&&e.success.call(this,t),"function"==typeof e.animationEnd&&e.animationEnd.call(this)},fail:r=>{this._delayTranslate[t]=[],"function"==typeof e.fail&&e.fail.call(this,r)},complete:r=>{"function"==typeof e.complete&&e.complete.call(this,r),this._translating[t]=!1;var n=this._delayTranslate[t];n&&n.length&&this.translateMarker(n.shift())}},n=0,i=this._lastMarkerPos[t],a=e.destination,o=!(i&&i.latitude===a.latitude&&i.longitude===a.longitude);if(e.autoRotate||"number"!=typeof e.rotate){var s,l;if(i){var c=a.latitude-i.latitude,u=a.longitude-i.longitude,d=c/u||0;s=Math.abs((u<0?180:0)-Math.abs(180*Math.atan(d)/Math.PI))*(c>0?-1:1)}"number"==typeof this._lastMarkerDeg[t]&&(l=s-this._lastMarkerDeg[t],Math.abs(l)>180&&(l=l>0?l-360:l+360),Math.abs(l)>3&&e.autoRotate&&o&&(n=l)),(Math.abs(l)>3&&e.autoRotate||void 0===this._lastMarkerDeg[t])&&(this._lastMarkerDeg[t]=s)}else{var p=e.rotate-(this._lastMarkerDeg[t]||0);Math.abs(p)>3&&(Math.abs(p)>180&&(p=p>0?p-360:p+360),n=p,this._lastMarkerDeg[t]=e.rotate)}var h="number"==typeof e.duration?e.duration:1e3;e.moveWithRotate?r.keyFrames.push({rotate:n,duration:h,...e.destination}):(o&&r.keyFrames.push({duration:h,...e.destination}),0!==n&&r.keyFrames.unshift({rotate:n,duration:Math.abs(n)<10?100:500})),r.keyFrames.length>0?(this._translating[t]=!0,this._invokeMethod("translateMapMarker",r)):setTimeout((()=>{r.success(),r.complete()})),this._lastMarkerPos[t]=e.destination}else console.warn("MapContext.translateMarker: require destination");else console.warn("MapContext.translateMarker: require markerId")}includePoints(e={}){if(e.points&&e.points instanceof Array){e.points.forEach((e=>{e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)}));var t=e.padding;e.padding=[0,0,0,0],t&&(e.padding[0]=Number(t[0])||0,e.padding[1]=Number(t[1])||0,e.padding[2]=Number(t[2])||0,e.padding[3]=Number(t[3])||0),this._invokeMethod("includeMapPoints",e)}}setIndoorFloor(e={}){e.buildingId?e.floorName?this._invokeMethod("setMapIndoorFloor",e):console.warn("MapContext.setIndoorFloor: require floorName"):console.warn("MapContext.setIndoorFloor: require buildingId")}getIndoorFloor(e={}){this._invokeMethod("getMapIndoorFloor",e)}getRotate(e={}){this._invokeMethod("getMapRotate",e)}getSkew(e={}){this._invokeMethod("getMapSkew",e)}setIndoorMaskColor(e={}){this._invokeMethod("setMapIndoorMaskColor",e)}eraseLines(e={}){e.lines&&e.lines instanceof Array?this._invokeMethod("eraseMapLines",e):console.warn("MapContext.eraseLines: require lines")}setCenterOffset(e={}){var t=Object.assign({offset:[.5,.5],animated:!1},e);this._invokeMethod("setMapCenterOffset",t)}addCustomLayer(e={}){Vc("addCustomLayer",e,{layerId:""})&&this._invokeMethod("addMapCustomLayer",e,{afterAll:e=>{var t,r,n,i;T.reportKeyValue({key:"MiniProgramCommercialMap",value:[2,/^\w+:ok/.test(e.errMsg||"")?1:0,null!==(t=null===(r=this.data)||void 0===r?void 0:r.subkey)&&void 0!==t?t:"",null!==(n=null===(i=this.data)||void 0===i?void 0:i.pluginId)&&void 0!==n?n:""].join(",")})}})}removeCustomLayer(e={}){Vc("removeCustomLayer",e,{layerId:""})&&this._invokeMethod("removeMapCustomLayer",e)}addVisualLayer(e={}){Vc("addVisualLayer",e,{layerId:""})&&this._invokeMethod("addMapVisualLayer",e)}removeVisualLayer(e={}){Vc("removeVisualLayer",e,{layerId:""})&&this._invokeMethod("removeMapVisualLayer",e)}executeVisualLayerCommand(e={}){Vc("executeVisualLayerCommand",e,{command:""})&&this._invokeMethod("executeMapVisualLayerCommand",e)}addArc(e={}){Vc("addArc",e,{id:0,start:{},end:{}})&&this._invokeMethod("addMapArc",e)}removeArc(e={}){Vc("removeArc",e,{id:0})&&this._invokeMethod("removeMapArc",e)}setBoundary(e={}){this._invokeMethod("setMapBoundary",e)}},H()(Dle.prototype,"toScreenLocation",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"toScreenLocation"),Dle.prototype),H()(Dle.prototype,"fromScreenLocation",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"fromScreenLocation"),Dle.prototype),H()(Dle.prototype,"getCenterLocation",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"getCenterLocation"),Dle.prototype),H()(Dle.prototype,"setLocMarkerIcon",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"setLocMarkerIcon"),Dle.prototype),H()(Dle.prototype,"getScale",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"getScale"),Dle.prototype),H()(Dle.prototype,"getRegion",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"getRegion"),Dle.prototype),H()(Dle.prototype,"moveToLocation",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"moveToLocation"),Dle.prototype),H()(Dle.prototype,"addGroundOverlay",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"addGroundOverlay"),Dle.prototype),H()(Dle.prototype,"openMapApp",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"openMapApp"),Dle.prototype),H()(Dle.prototype,"removeGroundOverlay",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"removeGroundOverlay"),Dle.prototype),H()(Dle.prototype,"updateGroundOverlay",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"updateGroundOverlay"),Dle.prototype),H()(Dle.prototype,"moveAlong",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"moveAlong"),Dle.prototype),H()(Dle.prototype,"addMarkers",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"addMarkers"),Dle.prototype),H()(Dle.prototype,"removeMarkers",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"removeMarkers"),Dle.prototype),H()(Dle.prototype,"initMarkerCluster",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"initMarkerCluster"),Dle.prototype),H()(Dle.prototype,"translateMarker",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"translateMarker"),Dle.prototype),H()(Dle.prototype,"includePoints",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"includePoints"),Dle.prototype),H()(Dle.prototype,"setIndoorFloor",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"setIndoorFloor"),Dle.prototype),H()(Dle.prototype,"getIndoorFloor",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"getIndoorFloor"),Dle.prototype),H()(Dle.prototype,"getRotate",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"getRotate"),Dle.prototype),H()(Dle.prototype,"getSkew",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"getSkew"),Dle.prototype),H()(Dle.prototype,"setIndoorMaskColor",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"setIndoorMaskColor"),Dle.prototype),H()(Dle.prototype,"eraseLines",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"eraseLines"),Dle.prototype),H()(Dle.prototype,"setCenterOffset",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"setCenterOffset"),Dle.prototype),H()(Dle.prototype,"addCustomLayer",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"addCustomLayer"),Dle.prototype),H()(Dle.prototype,"removeCustomLayer",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"removeCustomLayer"),Dle.prototype),H()(Dle.prototype,"addVisualLayer",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"addVisualLayer"),Dle.prototype),H()(Dle.prototype,"removeVisualLayer",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"removeVisualLayer"),Dle.prototype),H()(Dle.prototype,"executeVisualLayerCommand",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"executeVisualLayerCommand"),Dle.prototype),H()(Dle.prototype,"addArc",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"addArc"),Dle.prototype),H()(Dle.prototype,"removeArc",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"removeArc"),Dle.prototype),H()(Dle.prototype,"setBoundary",[Bt],Object.getOwnPropertyDescriptor(Dle.prototype,"setBoundary"),Dle.prototype),Dle);class Kle extends Hle{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new qd("Parameter 1 should be a string");this.domId=e,this.pluginId=n,this.webviewId=t,this.nodeId=r}get mapId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return Ble[e]}_invokeMethod(e,t,r={}){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;"number"==typeof Ble[n]||Ble[n]?(t.mapId=Ble[n],this._invoke(e,t,r)):jle.once(`mapInsert-${n}`,(()=>{t.mapId=Ble[n],this._invoke(e,t,r)}))}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n,i=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,a=this.webviewId;"number"==typeof Ble[i]||Ble[i]?(n=Ble[i],$8[e](`${t}_${a}_${n}`,r)):jle.once(`mapInsert-${i}`,(()=>{n=Ble[i],$8[e](`${t}_${a}_${n}`,r)}))}}}class Jle extends Hle{constructor(e,t){super(),this.mapId=e,this.webviewId=t}_invokeMethod(e,t,r={}){t.mapId=this.mapId,this._invoke(e,t,r)}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n=this.webviewId,i=this.mapId;$8[e](`${t}_${n}_${i}`,r)}}}var Xle=(e,t,r="",n="")=>{var i=`api_${t}_${n}_${e}_`;if(r&&r!==Pp(t)&&(i+=r),Wle[i])return Wle[i].exportContext;var a=new Kle(e,t,r,n);return Wle[i]=a,a.exportContext},Yle=(e,t)=>{var r=`SQ_${t}_${e}`;if(Wle[r])return Wle[r].exportContext;var n=new Jle(e,t);return Wle[r]=n,n.exportContext},Qle=ir("AudioInterruptionBegin"),Zle=Qle.onMethod,ece=Qle.offMethod,tce=ir("AudioInterruptionEnd"),rce=tce.onMethod,nce=tce.offMethod,ice=tce.internalOnMethod,ace=tce.internalOffMethod,oce=void 0,sce=!1;function lce(){return xf&&xf.WXAUDIO?xf.WXAUDIO:xf&&xf.AudioContext?xf.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null}function cce(){return new oce}function uce(){if(!sce)throw new Error("detect WebAudioContext too early");return!!oce}g.onLoad((()=>{oce=lce(),sce=!0}));var dce=!1,pce=()=>{dce=!0},hce=()=>({"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}}),fce=hce(),gce={},vce=(e,t)=>t+"-"+e,mce=(e,t,r)=>{if(t){fce[e].playCount++;var n=vce(t,r);gce[n]?(gce[n].playCount++,gce[n].playBeginTime=Date.now()):gce[n]={playCount:1,playBeginTime:Date.now()}}},yce=(e,t,r,n,i,a)=>{fce[e].realPlayCount++;var o=vce(t,r);if(t&&gce[o]){var s=n-gce[o].playBeginTime,l=1===gce[o].playCount?"firstPlay":"notFirstPlay";if(fce[e].duringPlayToRealPlay[l].push(s),i){var c={key:"MediaApi",value:[My(),Du()+" "+Lu(),"createInnerAudioContext",e,r,`playSuccess(${l})`,s,s,encodeURIComponent(JSON.stringify({size:a,src:t}))].join(",")};Math.random()<.005&&T.reportKeyValue(c)}}},bce=({mediaType:e,implementType:t,mediaInstanceId:r,actionType:n,actionStatus:i,costTime:a,src:o,errmsg:s})=>{fce[t].playErrorCount++,fce[t].playErrorCount>1||T.reportKeyValue({key:"MediaApi",value:[My(),Du()+" "+Lu(),e,t,r,n,i,a,Bu(`"${o}" fail: ${s}`)].join(",")})},_ce=()=>{isGame()&&Math.random()<.005&&!dce&&Object.keys(fce).forEach((e=>{var t=fce[e],r=t.playCount,n=t.realPlayCount;if(r>0){var i=t.playErrorCount,a={key:"MediaApi",value:[_getCurrentNetworkType(),getLibVersionStr()+" "+getLibUpdateTimeStr(),"createInnerAudioContext",e,"","successRate",n/r,n/r,encode(JSON.stringify({playCount:r,realPlayCount:n,playErrorCount:i}))].join(",")};T.reportKeyValue(a)}})),fce=hce()};var wce=()=>{},Sce=()=>{},Cce=()=>{},kce,Ice,Pce=0,Ace=0,xce=0,Tce,Ece=new WeakMap,Mce=new WeakMap,Rce=new WeakMap,Oce=new WeakMap,Dce=new WeakMap,Lce=new WeakMap,Nce=new WeakMap,Bce=new WeakMap,$ce=new WeakMap,jce=new WeakMap,Fce=new WeakMap,Wce=new WeakMap,Uce=new Map,Vce={},qce=52428800,zce=0,Gce=0,Hce=e=>new Zy(((t,r)=>{yE({...e,success:t,fail:r})})),Kce=e=>new Zy(((t,r)=>{Bf({...e,success:t,fail:r})})),Jce=(e,t,r)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(zce+=e.audioBufferSize)>qce&&Xce(r),e.audioBuffer),Xce=e=>{var t=Object.keys(Vce).sort(((e,t)=>Vce[e].index-Vce[t].index));t.some((t=>{var r=Vce[t];if(r.audioBuffer&&e!==t){var n=r.audioBufferSize;if(delete r.audioBuffer,delete r.audioBufferSize,delete Vce[t],(zce-=n)<=qce)return!0}return!1}))},Yce=e=>{e.index=++Gce},Qce=(e,t,r)=>{var n=Vce[e];if(n&&n.audioBuffer)Yce(n),t(n.audioBuffer,{sync:!0});else if(n&&n.loading)Yce(n),n.successCallbacks.push(t),n.failCallbacks.push(r);else{Vce[e]={loading:!0,successCallbacks:[t],failCallbacks:[r]},(/^(http|https):\/\//.test(e)?eue(e):/^(cloud):\/\//.test(e)?tue(e):/^(wxblob:\/\/)/.test(e)?rue(e):/^data:audio\//.test(e)?nue(e):Zce(e)).then((t=>{Tce.decodeAudioData(t,$E((t=>{var r,n=Vce[e];Yce(n),r=n.audioBuffer?n.audioBuffer:Jce(n,t,e);try{n.successCallbacks&&n.successCallbacks.forEach((e=>{e(r,{sync:!1})}))}catch(e){console.error(e),y.error("loadAudio invoke successCallback fail",e.message),n.failCallbacks&&n.failCallbacks.forEach((t=>{t(e)}))}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),"WebAudioAdapter-decodeAudioData-success"),$E((t=>{try{var r=Vce[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),y.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),"WebAudioAdapter-decodeAudioData-fail"))})).catch((t=>{try{var r=Vce[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),y.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))}},Zce=e=>Kce({filePath:e}).then((e=>e.data)),eue=e=>Hce({url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0}).then((e=>e.data)),tue=e=>new Zy(((t,r)=>{K0([e],"audio",(e=>{eue(e.data[0].url).then((e=>t(e))).catch((e=>{r(e)}))}))})),rue=e=>new Zy((t=>{t(af.get(e))})),nue=e=>{var t=e.indexOf("base64,")+7;return e=e.slice(t),new Zy(((t,r)=>{try{t(xv(e))}catch(e){e.errMsg=e.message,r(e)}}))},iue=function(e){Ece.set(this,Object.assign(Ece.get(this),e))},aue=function(e){return Ece.get(this)[e]},oue=function(){return Ece.get(this)},sue=function(){this.stop(!0),iue.call(this,{_source:null});var e=Rce.get(this);e&&e()},lue=function(e){var t=++xce,r=Tce.createBufferSource(t),{currentPlayBackTime:n,state:i}=cue.call(this,e),{loop:a,playbackRate:o,_buffer:s,_gainNode:l,_instanceId:c,src:u,withReport:d}=i,p=sue.bind(this);r.onended=BE(p,"WebAudioAdapter-BufferSource.onended"),r.buffer=s,r.loop=a,r.playbackRate.value=o,l&&r.connect(l),r.start(0,n),Tce.resume(),iue.call(this,{_isPlaying:!0,paused:!1,_source:r,_played:!0,_playbackTime:0,_lastCurrentTime:n,_startedAt:Tce.currentTime,_endedHandler:p,_bufferSourceId:t}),this._startTimeupdateInterval(),(Ie||ke)&&d&&Uce.set(t,{_instanceId:c,src:u})},cue=function(e){e=e||oue.call(this);var t,{_startedAt:r,_playbackTime:n,_isPlaying:i,playbackRate:a,_lastCurrentTime:o,duration:s}=e;return(t=i?o+(Tce.currentTime-r)*a:n)>s&&(t%=s),{currentPlayBackTime:t,state:e}},uue=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=oue.call(this);e&&e.disconnect(),iue.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,Mce.delete(this),Rce.delete(this),Oce.delete(this),Dce.delete(this),Nce.delete(this),Lce.delete(this),Bce.delete(this),$ce.delete(this),Wce.delete(this),clearInterval(Fce.get(this)),Fce.delete(this)},due=function(){this.stop(!0),iue.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},pue=function(e){var t,r;due.call(this);var n=new Zy(((e,n)=>{t=e,r=n}));iue.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:n,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:r})},hue={},fue=(e,t)=>e+"-"+t,gue=function(e,t){var r=fue(t,e);hue[r]?hue[r]++:hue[r]=1};class vue{constructor({withReport:e}={}){Tce||("function"==typeof(Tce=cce()).create&&Tce.create(-1,!0),(Ie||ke)&&(Tce.onmessage=BE((e=>{var{message:t,node_id:r}=e;if("real_play"===t){var n=Uce.get(r);if(Uce.delete(r),n){var{_instanceId:i,src:a}=n,o=fue(i,a);hue[o]&&(hue[o]--,this.ignoreReport||Cce(a,i,Date.now()))}}}),"WebAudioAdapter-AudioContext.onmessage")));var t=Tce.createGain();t&&t.connect&&t.connect(Tce.destination);var r={withReport:e},n=new Zy(((e,t)=>{r._audioLoadPromiseResolve=e,r._audioLoadPromiseReject=t}));Ece.set(this,Object.assign(r,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:n,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++Ace}))}get src(){return aue.call(this,"src")}set src(e){var{src:t,_gainNode:r}=oue.call(this);r&&"string"==typeof e&&e.length>0&&t!==e&&(t&&pue.call(this,e),iue.call(this,{src:e}),Qce(e,((t,{sync:r})=>{var{src:n,_gainNode:i,_isPlaying:a,autoplay:o,_audioLoadPromiseResolve:s}=oue.call(this);if(i){if(n===e){if(iue.call(this,{_ready:!0,_buffer:t,duration:t.duration}),r)setTimeout((()=>{var e=Mce.get(this);e&&e()}),0);else{var l=Mce.get(this);l&&l()}return!o||a||ede()||this.play(),s(!1),null}s(!0)}}),(t=>{var r=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),y.error("loadAudioFail ",t);var n=oue.call(this),{_audioLoadPromiseReject:i}=n,a=Oce.get(this);a&&a({type:"error",errMsg:r,errno:t.errno}),i(t)})))}get startTime(){return aue.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r,_gainNode:n}=oue.call(this);n&&e!==r&&"number"==typeof e&&e>=0&&(iue.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return aue.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:r}=oue.call(this);r&&!!e!==t&&(e&&(this.ignoreReport=!0,pce()),iue.call(this,{autoplay:!!e}))}get loop(){return aue.call(this,"loop")}set loop(e){var{_source:t,_gainNode:r}=oue.call(this);r&&(e=!!e,iue.call(this,{loop:e}),e&&(this.ignoreReport=!0,pce()),t&&(t.loop=e))}get volume(){return aue.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=oue.call(this);r&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(iue.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return aue.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r,_gainNode:n}=oue.call(this);n&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(iue.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:Tce.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return aue.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=cue.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=oue.call(this);if(!r)return;var n=Bce.get(this),i=$ce.get(this),a=Mce.get(this);i&&i(),this.ignoreReport=!0,pce(),t?(this.stop(!0),iue.call(this,{_playbackTime:e}),this.play(!0)):iue.call(this,{_playbackTime:e}),n&&n(),a&&a()}}get paused(){return aue.call(this,"paused")}get buffered(){var{duration:e}=oue.call(this);return e>0?e:0}play(e=!1){var t=oue.call(this),{_isPlaying:r,_ready:n,_loadPromise:i,_gainNode:a,_playPendingIdMap:o,withReport:s,src:l,_instanceId:c}=t;if(a){var u=this.lastPlayTime,d=Date.now();if(this.lastPlayTime=d,u&&d-u<1e3&&(this.ignoreReport=!0,pce()),r&&!e&&s&&!this.ignoreReport)return wce(l,c),void Cce(l,c,Date.now());e||!s||this.ignoreReport||wce(l,c);var p=()=>{if(!e){var t=Dce.get(this);t&&t()}};if(n){var h;try{lue.call(this,t)}catch(t){h=t;var f=Oce.get(this);f&&f({type:"error",errMsg:t.message}),!e&&s&&Sce(l,t.message),console.error(t)}h||(!e&&s&&gue(l,c),p())}else{var g=++Pce;o[g]=!0,i.then((u=>{var d=!1===o[g];if(delete o[g],u)return r=null,n=null,i=null,a=null,t=null,void(p=null);if(!d){var h,f=oue.call(this),{_isPlaying:v}=f;if(!v){try{lue.call(this,f)}catch(t){h=t;var m=Oce.get(this);m&&m({type:"error",errMsg:t.message}),!e&&s&&Sce(l,t.message),console.error(t)}return h||(!e&&s&&gue(l,c),p()),null}}})).catch((e=>{s&&Sce(l,e.errMsg||e.message)}))}}}pause(){var e=oue.call(this),{_isPlaying:t,_source:r,_gainNode:n,_playPendingIdMap:i}=e;if(n)if(r&&t){var a=Lce.get(this);r.stop(0),r.onended=null,iue.call(this,{_source:null,_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),a&&a()}else Object.keys(i).forEach((e=>{i[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:r,_isPlaying:n,_playPendingIdMap:i}=oue.call(this);if(r){if(t)try{var a=Nce.get(this);t.stop(0),t.onended=null,iue.call(this,{_source:null,_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&a&&a(),this._finishTimeupdateInterval()}catch(e){y.error("stop时出错",e)}n||Object.keys(i).forEach((e=>{i[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=oue.call(this);if(!r)return;var n=Bce.get(this),i=$ce.get(this),a=Mce.get(this);i&&i(),this.ignoreReport=!0,pce(),t?(this.stop(!0),iue.call(this,{_playbackTime:e}),this.play(!0)):iue.call(this,{_playbackTime:e}),n&&n(),a&&a()}}destroy(){var{_gainNode:e}=oue.call(this);e&&uue.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;Mce.set(this,e)}else Mce.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;Rce.set(this,e)}else Rce.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;Oce.set(this,e)}else Oce.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;Dce.set(this,e)}else Dce.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;Lce.set(this,e)}else Lce.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;Nce.set(this,e)}else Nce.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;Bce.set(this,e)}else Bce.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;$ce.set(this,e)}else $ce.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;jce.set(this,e)}else jce.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=oue.call(this);if(!t)return;Wce.set(this,e)}else Wce.delete(this)}_startTimeupdateInterval(){var{_gainNode:e,_instanceId:t,_isPlaying:r}=oue.call(this);if(e){var n=Fce.get(this),i=jce.get(this);clearInterval(n),r&&setTimeout((()=>{i&&i()}),0);var a=setInterval((()=>{var e=jce.get(this),{_isPlaying:t}=oue.call(this);t&&e&&e()}),350);Fce.set(this,a)}}_finishTimeupdateInterval(){var e=Fce.get(this);clearInterval(e)}}var mue=()=>uce()&&!0,yue=(e,t)=>BE(e,`AudioElement.${t}`),bue,_ue=new WeakMap,wue=new WeakMap,Sue=function(){return wue.get(this)},Cue={},kue=(e,t)=>e+"-"+t,Iue=function(e,t){var r=kue(t,e);Cue[r]?Cue[r]++:Cue[r]=1},Pue=()=>(bue||"function"==typeof(bue=cce()).create&&bue.create(),bue),Aue=0,xue=0,Tue=new Map;class Eue{constructor({size:e,type:t}){this.reportBeginPlay=()=>{},this.reportFailPlay=()=>{},this.reportSuccessPlay=()=>{};var r=0===e?"WebAudioHTMLAudioElementRemote-1.0":"WebAudioHTMLAudioElementLocal-1.0";this.reportBeginPlay=(e,t)=>{this.ignoreReport||mce(r,e,t)},this.reportFailPlay=(e,t)=>{bce({mediaType:"createInnerAudioContext",implementType:r,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:t})},this.reportSuccessPlay=(e,t,n,i)=>{this.ignoreReport||yce(r,e,t,n,!0,i)};var n=Pue(),i=n.createHTMLAudioElement();(xue+=1)>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (>200) InnerAudioContext instances have been created, please destroy the existing instances first !");var a=n.createMediaElementSource(i),o=n.createGain();a.connect(o),o&&o.connect&&o.connect(n.destination),_ue.set(this,i);var s=Nt();wue.set(this,{startTime:0,source:a,gain:o,_instanceId:s,size:e,type:t,_isStop:!1}),i.addEventListener("error",yue((e=>{var t,r=(null===(t=_ue.get(this))||void 0===t?void 0:t.src)||"";this.reportFailPlay(r,e.message)}),"error-1")),i.addEventListener("inner",yue((e=>{if("real_play"===e.type){var{play_id:t}=e;if(t){t=+t;var r=Tue.get(t);if(Tue.delete(t),r){var{_instanceId:n,src:i,size:a}=r,o=kue(n,i);Cue[o]&&(Cue[o]--,this.reportSuccessPlay(i,n,Date.now(),a))}}}}),"inner"))}get src(){var e;return this.cloudId?this.cloudId:null===(e=_ue.get(this))||void 0===e?void 0:e.src}set src(e){_ue.get(this)&&K0([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,_ue.get(this).src=e}))}get startTime(){var e;return null===(e=wue.get(this))||void 0===e?void 0:e.startTime}set startTime(e){var{_played:t,startTime:r}=Sue.call(this);e!==r&&"number"==typeof e&&e>=0&&wue.get(this)&&(wue.get(this).startTime=e,t||this.seek(e))}get autoplay(){var e;return null===(e=_ue.get(this))||void 0===e?void 0:e.autoplay}set autoplay(e){_ue.get(this)&&(e?(this.ignoreReport=!0,pce(),setTimeout((()=>{_ue.get(this)&&(_ue.get(this).autoplay=e)}),0)):_ue.get(this).autoplay=e)}get loop(){var e;return null===(e=_ue.get(this))||void 0===e?void 0:e.loop}set loop(e){_ue.get(this)&&(e&&(this.ignoreReport=!0,pce()),_ue.get(this).loop=e)}get volume(){var e;return null===(e=_ue.get(this))||void 0===e?void 0:e.volume}set volume(e){_ue.get(this)&&(_ue.get(this).volume=e)}get playbackRate(){var e;return null===(e=_ue.get(this))||void 0===e?void 0:e.playbackRate}set playbackRate(e){_ue.get(this)&&(_ue.get(this).playbackRate=e)}get duration(){var e;return null===(e=_ue.get(this))||void 0===e?void 0:e.duration}get currentTime(){var e;return null===(e=_ue.get(this))||void 0===e?void 0:e.currentTime}set currentTime(e){if(_ue.get(this)){this.ignoreReport=!0,pce();var t=wue.get(this);t&&(t._isStop=!1),_ue.get(this).currentTime=e}}get paused(){var e;return null===(e=_ue.get(this))||void 0===e?void 0:e.paused}get buffered(){var e;return null===(e=_ue.get(this))||void 0===e?void 0:e.duration}play(){var e,t,r,n,i=null===(e=_ue.get(this))||void 0===e?void 0:e.src,a=null===(t=wue.get(this))||void 0===t?void 0:t._instanceId,o=null===(r=wue.get(this))||void 0===r?void 0:r.size,s=this.lastPlayTime,l=Date.now();this.lastPlayTime=l,s&&l-s<1e3&&(this.ignoreReport=!0,pce()),a&&this.reportBeginPlay(i,a);var c=++Aue;(Ie||ke)&&Tue.set(c,{_instanceId:a,src:i,size:o}),Iue(i,a);var u=wue.get(this);u&&(u._isStop=!1),null===(n=_ue.get(this))||void 0===n||n.play(c)}pause(){var e;null===(e=_ue.get(this))||void 0===e||e.pause()}stop(){var e=_ue.get(this);if(e){e.pause();var t=wue.get(this);t&&(t._isStop=!0),e.currentTime=0}}seek(e){if(_ue.get(this)){this.ignoreReport=!0,pce();var t=wue.get(this);t&&(t._isStop=!1),_ue.get(this).currentTime=e}}destroy(){var e,t=wue.get(this);t&&(t.gain&&t.gain.disconnect&&t.gain.disconnect(),null===(e=t.source)||void 0===e||e.disconnect());_ue.delete(this),wue.delete(this),xue-=1}set oncanplay(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("canplay",yue(((...t)=>{wue.get(this)._isStop||e(...t)}),"canplay"))}set onended(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("ended",yue(e,"ended"))}set onerror(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("error",yue(e,"error-2"))}set onplay(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("play",yue(e,"play"))}set onpause(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("pause",yue(e,"pause"))}set onstop(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("stop",yue(e,"stop"))}set onseeked(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("seeked",yue(e,"seeked"))}set onseeking(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("seeking",yue(e,"seeking"))}set ontimeupdate(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("timeupdate",yue(e,"timeupdate"))}set onwaiting(e){var t;null===(t=_ue.get(this))||void 0===t||t.addEventListener("waiting",yue(e,"waiting"))}}var Mue=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],Rue=["startTime","duration","currentTime"],Oue=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],Due=new Set,Lue=new WeakMap,Nue=new WeakMap,Bue=new WeakMap,$ue=new WeakMap;class jue{constructor(e,t=1e3,r){var n=new Qt;Lue.set(this,e),$ue.set(this,{conversion:t,type:r}),Mue.forEach((r=>Object.defineProperty(this,r,{get:()=>Rue.includes(r)?e[r]/t:e[r],set(n){X2()||(Rue.includes(r)?e[r]=t*n:e[r]=n)}}))),Oue.forEach((t=>{this["on"+t]=e=>{var r=x.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);Nue.set(e,r),Bue.set(r,e),n.on(t,r)},this["off"+t]=e=>{if(vt(e)){var r=Nue.get(e);vt(r)&&(n.off(t,r),Nue.delete(e),Bue.delete(r))}else n.listeners(t).forEach((e=>{var t=Bue.get(e);Nue.delete(t),Bue.delete(e)})),n.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,r)=>{e?pt(e)?n.emit(t,e):n.emit(t,{errCode:e,errMsg:r}):n.emit(t),"Play"===t?Due.add(this):"Ended"!==t&&"Error"!==t&&"Pause"!==t&&"Stop"!==t||Due.delete(this)}}))}play(){var e;X2()||ede()&&"inner"!==$ue.get(this).type||null===(e=Lue.get(this))||void 0===e||e.play()}stop(){var e;null===(e=Lue.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=Lue.get(this))||void 0===e||e.pause()}seek(e){var t,r;if(!X2()){var{conversion:n}=null!==(t=$ue.get(this))&&void 0!==t?t:{};null===(r=Lue.get(this))||void 0===r||r.seek(n*e)}}destroy(){var e=Lue.get(this);e.destroy&&e.destroy(),Oue.forEach((e=>{this["off"+e]()})),Due.delete(this),Lue.delete(this)}static pauseAllAudio(){Due.forEach((e=>{if("inner"!==$ue.get(e).type){var t=Lue.get(e);t&&t.pause()}}))}}class Fue extends jue{constructor({type:e}){super(new xf.Audio,1e3,e)}}class Wue extends jue{constructor({withReport:e,type:t}={}){super(new vue({withReport:e}),1,t)}}class Uue extends jue{constructor({size:e,type:t}={}){super(new Eue({size:e}),1,t)}}var Vue=new Set,que=()=>{var{system:e}=JS();ke&&-1===NT(e,"6.0.0")&&console.error("Error: WebAudio don't support android system under 6!");var t=cce();xf&&xf.WXAUDIO&&t&&"function"==typeof t.create&&t.create(),Vue.add(t);var r=[];if(["close","resume","suspend"].forEach((e=>{var n=t[e];Object.defineProperty(t,e,{configurable:!1,get:()=>function(){return"close"===e&&Vue.delete(t),new Promise((e=>{r.push(e);var i=t.onstatechange;t.onstatechange=BE((()=>{"function"==typeof i&&i();var e=r.pop();e&&e(),t.onstatechange=i}),"WebAudioContext-onstatechange"),n.call(t)}))}.bind(t)})})),ke||Ie&&xf&&xf.WXAUDIO){var n=new Set,i=t.createBufferSource;t.createBufferSource=()=>{var e,r=i.call(t),a=null;r.onended=BE(((...t)=>{n.delete(r),"function"==typeof a&&a(...t),a=null,r&&(r.onended=null),r=null,clearTimeout(e)}),"BufferSource-onended");var o=new Proxy(r,{get(t,i){var o=Reflect.get(t,i);return"function"==typeof o&&(o=o.bind(t)),"start"===i?function(...t){if(X2()||ede())console.warn("AudioBufferSourceNode.start() operation was canceled because the ad was playing");else{if(r&&r.buffer&&(n.add(r),r.buffer.duration)){var i=Math.floor(1e3*(r.buffer.duration/r.playbackRate.value+5));i>0&&(e=setTimeout((()=>{r&&(n.delete(r),a=null,r&&(r.onended=null),r=null)}),i))}o(...t)}}:"stop"===i?function(...t){return n.delete(r),r&&(r.onended=null),r=null,clearTimeout(e),"function"==typeof a?setTimeout((()=>{"function"==typeof a?(a(),a=null):a=null}),0):a=null,o(...t)}:o},set:(e,t,r)=>"onended"===t?(a=r,!0):Reflect.set(e,t,r)});return o};var a=t.createPeriodicWave;t.createPeriodicWave=(e,r,n)=>{if(e.length===r.length)return a.call(t,e,r,n);console.error(`Length of real array (${e.length}) and length of imaginary array (${r.length}) must match.`)}}return t};class zue{static pauseAllAudio(){Vue.forEach((e=>{e.suspend()}))}}var Gue=()=>{Mde.pauseAllAudio(),jue.pauseAllAudio(),zue.pauseAllAudio()},Hue,Kue=e=>{try{Hue=JSON.stringify(e)}catch(e){console.error(e)}md("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))},Jue=()=>{if(Hue){var e=JSON.parse(Hue);md("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))}},Xue=!1,Yue=!1;"undefined"!=typeof IS_SDK_PACKAGE||qt("onAudioInterruptionBegin",(e=>{Xue=!0,!1===Yue&&Qle.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||qt("onAudioInterruptionEnd",(e=>{Xue=!1,!1===Yue&&tce.emit(e)}));var Que=()=>{!1===Xue&&!1===Yue&&(Yue=!0,Qle.emit({}),Gue())},Zue=()=>{!1===Xue&&!0===Yue&&(Yue=!1,tce.emit({})),Jue()},ede=()=>Yue,tde=()=>{},rde=()=>{},nde=()=>{},ide,ade=new WeakMap,ode=new WeakMap,sde=new WeakMap,lde=new WeakMap,cde=new WeakMap,ude=new WeakMap,dde=new WeakMap,pde=new WeakMap,hde=new Map,fde=new Map,gde=new Map,vde=y.createLogger("InnerAudio"),mde=function(e,t){ode.set(this,Object.assign(ode.get(this),{[e]:t})),"src"===e&&ode.set(this,Object.assign(ode.get(this),{paused:!0})),lde.get(this)&&(setTimeout((()=>{var r=Object.assign({},ode.get(this),cde.get(this),{timestamp:Date.now(),audioId:ade.get(this),success:()=>{ode.set(this,Object.assign(ode.get(this),{[e]:t}))},fail:()=>{bde.call(this)}});ede()&&(r.autoplay=!1),md("setAudioState",r),lde.set(this,!0)}),0),lde.set(this,!1)),cde.set(this,Object.assign(cde.get(this),{[e]:t}))},yde=function(e,t){dde.get(this).then((()=>{mde.call(this,e,t)}))},bde=function(e,t){var r=ode.get(this)[e];return md("getAudioState",{audioId:ade.get(this),success:n=>{delete n.errMsg,ode.set(this,Object.assign(ode.get(this),n)),r=n[e],"function"==typeof t&&t(r)}}),r},_de=function(e){var t=ade.get(this);md("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:r})=>{vde.error(`operateAudio fail: errMsg="${r}"`,e.operationType,t),Ade.call(this,"error",{errMsg:r,errCode:-1});var n=ode.get(this);null!=n&&n.withReport&&rde("",r,null==n?void 0:n.implementType)}},e))},wde=function(e){return dde.get(this).then((()=>{if("play"===e.operationType){var t=ode.get(this);if(null!=t&&t.withReport&&!t.ignoreReport){var r=ade.get(this);tde(null==t?void 0:t.src,r,null==t?void 0:t.implementType)}}setTimeout((()=>{_de.call(this,e)}),0)}))},Sde=new Qt;"undefined"!=typeof IS_SDK_PACKAGE||qt("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=hde.get(e.audioId);null!=t&&t.withReport&&!t.ignoreReport&&nde(null==t?void 0:t.src,e.audioId,Date.now(),null==t?void 0:t.implementType,null==t?void 0:t.size)}else{e.state=e.state.toLowerCase();var{state:r,audioId:n,errMsg:i}=e;delete e.audioId,delete e.state;var a="play"!==r,o=hde.get(n);o&&(o.paused=a),"error"===r&&null!=o&&o.withReport&&rde(null==o?void 0:o.src,i,null==o?void 0:o.implementType);var s=gde.get(n);if(!s||!(r in s))return;Sde.emit(`${n}_onAudioStateChange_${r}`,e)}}));var Cde=function(e,t){var r=`${ade.get(this)}_onAudioStateChange_${e}`,n=r=>{x.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};ude.set(t,n),Sde.on(r,n)},kde=function(e,t){dde.get(this).then((()=>{Cde.call(this,e,t)}))},Ide=function(e,t){var r=`${ade.get(this)}_onAudioStateChange_${e}`;if(vt(t)){var n=ude.get(t);vt(n)&&Sde.off(r,n)}else Sde.removeAllListeners(r)},Pde=function(e,t){dde.get(this).then((()=>{Ide.call(this,e,t)}))},Ade=function(e,t){Sde.emit(`${ade.get(this)}_onAudioStateChange_${e}`,t)},xde=0,Tde=!1;class Ede{constructor({pluginId:e,withReport:t,type:r,size:n}={}){var i,a;ode.set(this,{}),cde.set(this,{}),sde.set(this,void 0),lde.set(this,!0),"string"==typeof e&&pde.set(this,e.split("/",1)[0]),dde.set(this,new Zy(((e,t)=>{i=e,a=t})));var o={},s=0===n?"jsapiRemote-1.0":"jsapiLocal-1.0";md(ke||Be||xe?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var a={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:r,size:n,implementType:s};if(gde.set(e.audioId,o),hde.set(e.audioId,a),ade.set(this,e.audioId),ode.set(this,a),xf.BindingObject){var l=new xf.BindingObject;this.__bindingObject=l,fde[l.__id]=e.audioId}(xde+=1)>=1024&&!Tde&&Ie&&(Tde=!0,T.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),xde>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(i,0)},fail:e=>{t&&rde("",e.errMsg,s),a(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var r=e.toLowerCase();o[r]=1,kde.call(this,r,t)},this[`off${e}`]=t=>{var r=e.toLowerCase();delete o[r],Pde.call(this,r,t)}}))}get src(){return this.cloudId?this.cloudId:bde.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=pde.get(this);"string"==typeof t&&null===mp(e)&&(e=hp(t,e)),K0([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,yde.call(this,"src",e)}))}else Ade.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return bde.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?yde.call(this,"startTime",1e3*e):Ade("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){if("boolean"==typeof e&&!X2()){if(!0===e){var t=ade.get(this),r=hde.get(t);r&&(r.ignoreReport=!0,pce())}yde.call(this,"autoplay",e)}}get autoplay(){return bde.call(this,"autoplay")}set loop(e){if("boolean"==typeof e){if(!0===e){var t=ade.get(this),r=hde.get(t);r&&(r.ignoreReport=!0,pce())}yde.call(this,"loop",e)}}get loop(){return bde.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&yde.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return bde.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||yde.call(this,"volume",e)}get volume(){return bde.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||yde.call(this,"playbackRate",e)}get playbackRate(){return bde.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&yde.call(this,"referrerPolicy",e)}get referrerPolicy(){return bde.call(this,"referrerPolicy")}get paused(){return bde.call(this,"paused")}get duration(){return bde.call(this,"duration")/1e3}set currentTime(e){if("number"!=typeof e||e<0)Ade("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=ade.get(this),r=hde.get(t);r&&(r.ignoreReport=!0,pce()),wde.call(this,{operationType:"seek",currentTime:1e3*e})}}get currentTime(){return bde.call(this,"currentTime")/1e3}get buffered(){return bde.call(this,"buffered")/1e3}play(){if(!(X2()||ede()&&"inner"!==ode.get(this).type)){var e=this.lastPlayTime,t=Date.now();if(this.lastPlayTime=t,e&&t-e<1e3){var r=ade.get(this),n=hde.get(r);n&&(n.ignoreReport=!0,pce())}wde.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}}pause(){wde.call(this,{operationType:"pause"})}stop(){wde.call(this,{operationType:"stop"})}seek(e){if(!X2())if("number"!=typeof e||e<0)Ade("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=ade.get(this),r=hde.get(t);r&&(r.ignoreReport=!0,pce()),wde.call(this,{operationType:"seek",currentTime:1e3*e})}}destroy(){dde.get(this).then((()=>{var e=ade.get(this);hde.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;Sde.removeAllListeners(r)})),gde.delete(e),hde.delete(e),xde-=1,setTimeout((()=>{md("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){dde.get(this).then((()=>{var t=`${ade.get(this)}_onAudioStateChange_timeupdate`;void 0===sde.get(this)&&sde.set(this,setInterval((()=>{if("active"===uu.runningStatus&&!0!==ode.get(this).paused&&1!==ode.get(this).paused){var e=ode.get(this).currentTime;bde.call(this,"currentTime",(r=>{r!==e&&Sde.emit(t)}))}}),250)),Sde.removeAllListeners(t);var r=t=>{x.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};ude.set(e,r),Sde.on(t,r)}))}offTimeUpdate(e){dde.get(this).then((()=>{Pde.call(this,"timeupdate",e)}))}static pauseAllAudio(){hde.forEach(((e,t)=>{"inner"!==e.type&&md("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}}const Mde=Ede;var Rde=()=>({startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set}),Ode=new WeakMap,Dde=function(e){return Ode.get(e)||{}},Lde=function(e,t){var r;return null===(r=Ode.get(e))||void 0===r?void 0:r[t]},Nde=new Map,Bde=wg($d),$de=e=>Nde.has(e)?Nde.get(e):Bde({path:e}).then((t=>(Nde.set(e,t),t))),jde=function(e,t){var{bufferedOperations:r,staticOperations:n}=e;e.audioInstance=t,Object.keys(n).forEach((e=>{var r=n[e];Ct(r)?r.forEach((r=>{t["on"+e](r)})):t[e]=r})),r.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},Fde=function(e,t,r){var n;e.staticOperations&&t in e.staticOperations?(e.staticOperations[t]=r,e.audioInstance&&(e.audioInstance[t]=r)):e.audioInstance?e.audioInstance[t]=r:null==e||null===(n=e.bufferedOperations)||void 0===n||n.push({type:"set",value:r,key:t})},Wde=function(e,t,r,n){var i;n?("on"===n?e.staticOperations&&e.staticOperations[t].add(r):"off"===n&&e.staticOperations&&e.staticOperations[t].delete(r),e.audioInstance&&e.audioInstance[n+t]&&e.audioInstance[n+t](r)):e.audioInstance?e.audioInstance[t]&&e.audioInstance[t](r):null==e||null===(i=e.bufferedOperations)||void 0===i||i.push({type:"method",value:r,key:t})},Ude=(e,t)=>{var r=!1,n=Pue();n&&"function"==typeof n.createHTMLAudioElement&&(r=!0);var i=e=>{var{stats:n}=e;n.size<102400?t("NativeWebAudio",!1):t(r?"HTMLAudioElement":"AudioJsApi",!0,n.size)};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t(r?"HTMLAudioElement":"AudioJsApi",!0,0);else if(/^(data:audio\/)/.test(e))t("NativeWebAudio",!1);else{var a=$de(e);It(a)?a.then((e=>{i(e)})).catch((e=>{console.error(e),y.error("statLocalAudio fail",e),t("AudioJsApi",!0,0)})):i(a)}},Vde=function(e,t){var r;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var n=new Zy((e=>{r=e}));t.src=e,t._ready=!1,t._statPromise=n,t._statPromiseResolve=r};class qde{constructor({pluginId:e,type:t}={}){var r={pluginId:e,bufferedOperations:[],staticOperations:Rde(),_ready:!1,type:t};r._statPromise=new Zy((e=>{r._statPromiseResolve=e})),Ode.set(this,r)}get src(){return Lde(this,"src")}set src(e){var t=Dde(this),{src:r,audioInstance:n,audioInstanceType:i,pluginId:a}=t;"string"==typeof e&&e.length>0&&r!==e&&(r&&Vde.call(this,e,t),t.src=e,Ude(e,n?(r,o,s)=>{var l=Dde(this);if(l.src===e){var{_statPromiseResolve:c}=l;t._ready=!0,t.audioInstanceType=r,r===i?n.src=e:(n.destroy(),t.audioInstance=null,"AudioJsApi"===r?(Fde(t,"src",e),jde(t,new Mde({pluginId:a,withReport:o,type:Ode.get(this).type,size:s}))):"NativeWebAudio"===r?(Fde(t,"src",e),jde(t,new Wue({withReport:o,type:Ode.get(this).type}))):"HTMLAudioElement"===r&&(Fde(t,"src",e),jde(t,new Uue({withReport:o,type:Ode.get(this).type,size:s})))),c&&c()}}:(r,n,i)=>{var o=Dde(this);if(o.src===e){var{_statPromiseResolve:s}=o;t._ready=!0,t.audioInstanceType=r,"AudioJsApi"===r?(Fde(t,"src",e),jde(t,new Mde({pluginId:a,withReport:n,type:Ode.get(this).type,size:i}))):"NativeWebAudio"===r?(Fde(t,"src",e),jde(t,new Wue({withReport:n,type:Ode.get(this).type}))):"HTMLAudioElement"===r&&(Fde(t,"src",e),jde(t,new Uue({withReport:n,size:i}))),s&&s()}}))}get startTime(){var e=Lde(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=Dde(this),{startTime:r}=t;e!==r&&"number"==typeof e&&e>=0&&(t.startTime=e,Fde(t,"startTime",e))}get autoplay(){var e=Lde(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=Dde(this),{autoplay:r,_statPromise:n}=t;(e=!!e)!==r&&(t.autoplay=e,e?n&&n.then((()=>{Fde(t,"autoplay",e)})):Fde(t,"autoplay",e))}get loop(){var e=Lde(this,"loop");return void 0!==e&&e}set loop(e){var t=Dde(this),{loop:r}=t;(e=!!e)!==r&&(t.loop=e,Fde(t,"loop",e))}get volume(){var e=Lde(this,"volume");return void 0!==e?e:1}set volume(e){var t=Dde(this),{volume:r}=t;"number"==typeof e&&e>=0&&e<=1&&e!==r&&(t.volume=e,Fde(t,"volume",e))}get playbackRate(){var e=Lde(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=Dde(this),{playbackRate:r}=t;"number"==typeof e&&r!==e&&e>=.5&&e<=2&&(t.playbackRate=e,Fde(t,"playbackRate",e))}get duration(){var{audioInstance:e}=Dde(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=Dde(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=Dde(this);t.currentTime=e,Fde(t,"currentTime",e)}}get paused(){var{audioInstance:e}=Dde(this);return!e||e.paused}get buffered(){var{audioInstance:e}=Dde(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return Lde(this,"referrerPolicy")||""}set referrerPolicy(e){var t=Dde(this),{referrerPolicy:r}=t;"string"==typeof e&&e.length>0&&r!==e&&(t.referrerPolicy=e,Fde(t,"referrerPolicy",e))}play(){var e=Dde(this),{_statPromise:t,_ready:r}=e;r?Wde(e,"play"):t&&t.then((()=>{Wde(e,"play")}))}pause(){var e=Dde(this);Wde(e,"pause")}stop(){var e=Dde(this);Wde(e,"stop")}seek(e){var t=Dde(this);Wde(t,"seek",e)}destroy(){var e=Dde(this);Wde(e,"destroy"),Ode.delete(this)}onTimeUpdate(e){var t=Dde(this);Wde(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=Dde(this);Wde(t,"TimeUpdate",e,"off")}onCanplay(e){var t=Dde(this);Wde(t,"Canplay",e,"on")}offCanplay(e){var t=Dde(this);Wde(t,"Canplay",e,"off")}onPlay(e){var t=Dde(this);Wde(t,"Play",e,"on")}offPlay(e){var t=Dde(this);Wde(t,"Play",e,"off")}onPause(e){var t=Dde(this);Wde(t,"Pause",e,"on")}offPause(e){var t=Dde(this);Wde(t,"Pause",e,"off")}onStop(e){var t=Dde(this);Wde(t,"Stop",e,"on")}offStop(e){var t=Dde(this);Wde(t,"Stop",e,"off")}onEnded(e){var t=Dde(this);Wde(t,"Ended",e,"on")}offEnded(e){var t=Dde(this);Wde(t,"Ended",e,"off")}onError(e){var t=Dde(this);Wde(t,"Error",e,"on")}offError(e){var t=Dde(this);Wde(t,"Error",e,"off")}onWaiting(e){var t=Dde(this);Wde(t,"Waiting",e,"on")}offWaiting(e){var t=Dde(this);Wde(t,"Waiting",e,"off")}onSeeking(e){var t=Dde(this);Wde(t,"Seeking",e,"on")}offSeeking(e){var t=Dde(this);Wde(t,"Seeking",e,"off")}onSeeked(e){var t=Dde(this);Wde(t,"Seeked",e,"on")}offSeeked(e){var t=Dde(this);Wde(t,"Seeked",e,"off")}}var zde=!1;(Ie||ke)&&re.onReady((()=>{if(Cf("forceUseAudioDynamic"))if(Ue())zde=!0,y.info("小游戏开启 forceUseAudioDynamic");else{var e=Ie?"clicfg_appbrand_ios_force_use_audio_dynamic_new":"clicfg_appbrand_android_force_use_audio_dynamic_new";zde="1"===(null==re?void 0:re.expt[e]),y.info(`小程序${zde?"开启":"关闭"} forceUseAudioDynamic`)}else y.info("关闭 forceUseAudioDynamic")}));var Gde=y.createLogger("InnerAudioContext"),Hde=function(e={},t="outer"){var r=!0;if(ke){var{system:n}=JS();-1===NT(n,"6.0.0")&&(r=!1)}Be&&(r=!1);var i=Wh(this),{useWebAudioImplement:a}=e;return(Te||Ce)&&(a=!0),xe&&xf.Audio?(Gde.info("using NativeAudio"),new Fue({type:t})):a&&mue()&&r?(Gde.info("using WebAudio"),new Wue({type:t})):mue()&&r&&zde?(Gde.info("using AudioDynamic"),new qde({pluginId:i,type:t})):(Gde.info("using AudioJsApi"),new Mde({pluginId:i,type:t}))},Kde=function(e={}){return Hde.call(this,e)},Jde,Xde=Ce,Yde={},Qde={},Zde={},epe=new Yt,tpe={},rpe=new WeakMap,npe={},ipe=["play","stop","mute","pause","resume","requestFullScreen","exitFullScreen","snapshot","requestPictureInPicture","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback","startCasting","switchCasting","reconnectCasting","exitCasting"],ape=Object.assign,ope={};function spe(e,t){return`${e}_${t}`}function lpe(e){tpe[e]||(tpe[e]=!0,XM(e,(e=>{delete tpe[e],Object.keys(Yde).forEach((t=>{new RegExp("^"+e).test(t)&&(delete Qde[`${e}_${Yde[t]}`],delete Yde[t])})),Object.keys(npe).forEach((t=>{new RegExp("^api_"+e).test(t)?(delete Qde[`${e}_${Yde[t.substr(4)]}`],delete npe[t]):new RegExp("^SQ_"+e).test(t)&&(delete Qde[t.substr(3)],delete npe[t])})),Y$({keepScreenOn:!1})}),"LivePlayerContext"))}en("xWebLivePlayerSupported",(({insert2XWebEnabled:e,viewId:t},r)=>{ope[spe(r,t)]=e})),en("updateLivePlayerPictureInPicture",((e={},t)=>{Zde.webviewId=t,Zde.playerId=e.playerId})),["xWebLivePlayerInsert","livePlayerInsert"].forEach((e=>{en(e,(({viewId:e,domId:t,playerId:r,pluginId:n,data:i,nodeId:a},o)=>{var s=ope[spe(o,e)]?e:r,l=`${o}_${n}_${t}_`;a&&a!==Pp(o)&&(l+=a),Yde[l]=s,Qde[`${o}_${s}`]=i||{},epe.emit("livePlayerInsert"),lpe(o)}))})),["xWebLivePlayerRemoved","livePlayerRemoved"].forEach((e=>{en(e,(({viewId:e,domId:t,playerId:r,pluginId:n,nodeId:i},a)=>{var o=ope[spe(a,e)]?e:r,s=`${a}_${n}_${t}_`;i&&i!==Pp(a)&&(s+=i),delete Yde[s],delete Qde[`${a}_${o}`];var l=`api_${a}_${n}_${t}_`;i&&i!==Pp(a)&&(l+=i);var c=`SQ_${a}_${o}`;delete npe[l],delete npe[c],Y$({keepScreenOn:!1})}))}));var cpe={},upe=Oz();en("onGetPlayerInfo",(({callbackId:e,info:t}={})=>{var r=cpe[e];cpe[e]=null,r&&r(t)}));class dpe{}var ppe=(Jde=class{constructor(){var e=this.exportContext=new dpe;ipe.forEach((t=>e[t]=this[t].bind(this)))}play(e={}){var t=this._getAppStatus();t===nu.BACK_GROUND||t===nu.LOCK||(this._invokeMethod("play",[],e),Y$({keepScreenOn:!0}))}stop(e={}){this._invokeMethod("stop",[],e),Y$({keepScreenOn:!1})}mute(e={}){this._invokeMethod("mute",[],e)}pause(e={}){this._invokeMethod("pause",[],e),Y$({keepScreenOn:!1})}resume(e={}){this._invokeMethod("resume",[],e),Y$({keepScreenOn:!0})}requestFullScreen(e={}){var t;Oe||(t=G2(U2.onLivePlayerFullScreenChange));var r=sM();if(this._getInfo((e=>{W2("LivePlayerContext.requestFullScreen",{src:e.src},r,t)})),!t)if(X2())jW({icon:"none",title:"该场景不支持全屏"});else{var n=this._getPlayerId(),i=this._getWebviewId();if(ope[spe(i,n)])this._invokeWebviewMethod("xWebLivePlayerRequestFullScreen",{direction:e.direction},e);else{var a=e.direction;[0,90,-90].indexOf(a)>-1?this._invokeMethod("requestFullScreen",[a],e):this._invokeMethod("requestFullScreen",[],e),rpe.set(this,!0)}}}exitFullScreen(e={}){var t=this._getPlayerId(),r=this._getWebviewId();ope[spe(r,t)]?this._invokeWebviewMethod("xWebLivePlayerExitFullScreen",[],e):(this._invokeMethod("exitFullScreen",[],e),this.showStatusBar(),rpe.set(this,!1))}exitPictureInPicture(e={}){if(Zde){var t=bd(this.pluginId);Ie?t("operateLivePlayer",{...e,type:"exitPictureInPicture",livePlayerId:Zde.playerId},{beforeAll(e){e.errMsg=e.errMsg.replace("operateLivePlayer","exitPictureInPicture")}}):ke&&t("operateXWebLivePlayer",{...e,type:"exitPictureInPicture",viewId:Zde.playerId},{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebLivePlayer","exitPictureInPicture")}})}}showStatusBar(e={}){md("showStatusBar",e)}hideStatusBar(e={}){if(!rpe.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}md("hideStatusBar",e)}snapshot(e={}){if(Xde)return console.warn("开发者工具暂不支持 LivePlayerContext.snapshot 接口，请到客户端调试。"),void("function"!=typeof e.fail&&"function"!=typeof e.complete||(e.fail||e.complete)({errMsg:"operateLivePlayer:fail not support in devtools"}));var t="view"===e.sourceType?"snapshotView":"snapshot";this._invokeMethod(t,[],ape({quality:"raw"},e))}requestBackgroundPlayback(e={}){this._invokeMethod("requestBackgroundPlayback",[],e)}exitBackgroundPlayback(e={}){this._invokeMethod("exitBackgroundPlayback",[],e)}requestPictureInPicture(e={}){var t=this._getPlayerId();"number"==typeof t?bd(this.pluginId)("requestLivePlayerPictureInPicture",{...e,viewId:t,livePlayerId:t,beforeAll(e){e.errMsg=e.errMsg.replace("requestLivePlayerPictureInPicture","requestPictureInPicture")}}):zc("requestPictureInPicture",e,"playerId not exists")}startCasting(e){sM()&&this._getInfo((t=>{this._invokeMethod("startCasting",[t.src],e)}))}switchCasting(e){sM()&&this._invokeMethod("switchCasting",[],e)}reconnectCasting(e){sM()&&this._invokeMethod("reconnectCasting",[],e)}exitCasting(e){sM()&&this._invokeMethod("exitCasting",[],e)}_invokeMethodWithId(e,t,r,n){var i=this._getPlayerId(),a=this._getWebviewId(),o=ope[spe(a,i)],s=o?"operateXWebLivePlayer":"operateLivePlayer";"number"==typeof e?(Xde&&(n.type=t,n.playerId=e,Kr("operateLivePlayer",n,[this.webviewId])),function(){var i=o?{viewId:e}:{livePlayerId:e},a=bd(this.pluginId);this._getAppStatus()===nu.BACK_GROUND&&"stop"===t&&(s=`${s}Background`),a(s,ape({},n,{data:r,type:t,...i}))}.apply(this)):epe.once("livePlayerInsert",(()=>{this._invokeMethod(t,r,n)}))}_getAppStatus(){return uu.appStatus}_getHanged(){return uu.hanged}_getPlayerId(){}_getWebviewId(){}_getInfo(e){var t=upe.next();cpe[t]=e;var r=this._getPlayerId();"number"==typeof r?Kr(`livePlayerGetInfo${r}`,{callbackId:t},[this.webviewId]):epe.once("livePlayerInsert",(()=>{Kr(`livePlayerGetInfo${this._getPlayerId()}`,{callbackId:t},[this.webviewId])}))}},H()(Jde.prototype,"play",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"play"),Jde.prototype),H()(Jde.prototype,"stop",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"stop"),Jde.prototype),H()(Jde.prototype,"mute",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"mute"),Jde.prototype),H()(Jde.prototype,"pause",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"pause"),Jde.prototype),H()(Jde.prototype,"resume",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"resume"),Jde.prototype),H()(Jde.prototype,"requestFullScreen",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"requestFullScreen"),Jde.prototype),H()(Jde.prototype,"exitFullScreen",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"exitFullScreen"),Jde.prototype),H()(Jde.prototype,"exitPictureInPicture",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"exitPictureInPicture"),Jde.prototype),H()(Jde.prototype,"snapshot",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"snapshot"),Jde.prototype),H()(Jde.prototype,"requestBackgroundPlayback",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"requestBackgroundPlayback"),Jde.prototype),H()(Jde.prototype,"exitBackgroundPlayback",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"exitBackgroundPlayback"),Jde.prototype),H()(Jde.prototype,"requestPictureInPicture",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"requestPictureInPicture"),Jde.prototype),H()(Jde.prototype,"startCasting",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"startCasting"),Jde.prototype),H()(Jde.prototype,"switchCasting",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"switchCasting"),Jde.prototype),H()(Jde.prototype,"reconnectCasting",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"reconnectCasting"),Jde.prototype),H()(Jde.prototype,"exitCasting",[Bt],Object.getOwnPropertyDescriptor(Jde.prototype,"exitCasting"),Jde.prototype),Jde);class hpe extends ppe{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new qd("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.nodeId=r,this.pluginId=n}_invokeMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=Yde[n];this._invokeMethodWithId(i,e,t,r)}_getPlayerId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return Yde[e]}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=Yde[n];"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),Kr(e,{viewId:i,...t},[this.webviewId])}}class fpe extends ppe{constructor(e,t,r){super(),this.playerId=e,this.webviewId=t,this.pluginId=r}_invokeMethod(e,t,r){var n=this.playerId;this._invokeMethodWithId(n,e,t,r)}_getPlayerId(){return this.playerId}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),Kr(e,{viewId:this.playerId,...t},[this.webviewId])}}function gpe(e,t,r="",n=""){var i=`api_${t}_${n}_${e}_`;if(r&&r!==Pp(t)&&(i+=r),npe[i])return npe[i].exportContext;var a=new hpe(e,t,r,n);return npe[i]=a,a.exportContext}function vpe(e,t,r=""){var n=`SQ_${t}_${e}`;if(npe[n])return npe[n].exportContext;var i=new fpe(e,t,r);return npe[n]=i,i.exportContext}var mpe={},ype=new Yt,bpe={};function _pe(e){bpe[e]||(bpe[e]=!0,XM(e,(e=>{delete bpe[e],Object.keys(mpe).forEach((t=>{new RegExp("^"+e).test(t)&&delete mpe[t]}))}),"AudioContext"))}en("audioInsert",(({audioId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==Pp(n)&&(i+=r),mpe[i]=!0,ype.emit(`audioInsert_${i}`),_pe(n)})),en("audioRemove",(({audioId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==Pp(n)&&(i+=r),delete mpe[i]}));class wpe{constructor(e,t,r,n){if("string"!=typeof e)throw new qd("Parameter 1 should be a string");this.audioId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}setSrc(e){this._sendAction({method:"setSrc",data:e})}play(){this._getAppStatus()===nu.BACK_GROUND||X2()||this._sendAction({method:"play"})}pause(){this._sendAction({method:"pause"})}seek(e){this._sendAction({method:"setCurrentTime",data:e})}_ready(e){var t=`${this.webviewId}_${this.pluginId}_${this.audioId}_${this.nodeId}`;mpe[t]?e():ype.on(`audioInsert_${t}`,(()=>{e()}))}_sendAction(e){this._ready((()=>{Kr(`audio_${this.pluginId}_${this.audioId}_${this.nodeId}_actionChanged`,e,[this.webviewId])}))}}function Spe(e,t,r="",n=""){var i=new wpe(e,t,r,n);return i._getAppStatus=()=>uu.appStatus,i._getHanged=()=>uu.hanged,Gp.call(this,(()=>{i.pause()})),i}var Cpe={},kpe={},Ipe={},Ppe={},Ape=1;function xpe(e){Ipe[e]||(Ipe[e]=!0,XM(e,(e=>{delete Ipe[e],Object.keys(Cpe).forEach((t=>{new RegExp("^"+e).test(t)&&delete Cpe[t]})),Object.keys(kpe).forEach((t=>{new RegExp("^api_"+e).test(t)&&delete kpe[t]})),Object.keys(kpe).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&delete kpe[t]}))}),"EditorContext"))}en("editorInsert",(({domId:e,editorId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==Pp(i)&&(a+=n),Cpe[a]=t,xpe(i)})),en("editorRemoved",(({domId:e,editorId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==Pp(i)&&(a+=n),delete Cpe[a];var o=`SQ_${i}_${t}`;delete kpe[`api_${i}_${r}_${e}_${n}`],delete kpe[o]})),en("doEditorActionCallback",(e=>{var t=e.callbackId;if(t&&void 0!==Ppe[t]){delete e.callbackId;var r=Ppe[t];e.errMsg&&(e.errMsg.indexOf("ok")>-1?"function"==typeof r.success&&r.success(e):e.errMsg.indexOf("fail")>-1&&"function"==typeof r.fail&&r.fail(e)),"function"==typeof r.complete&&r.complete(e),delete Ppe[t]}}));var Tpe=["insertDivider","insertImage","insertText","setContents","getContents","clear","removeFormat","undo","redo","blur","getSelectionText"];class Epe{format(e,t=!1){this._execCommand("format",{name:e,value:t,needCallBack:!1})}scrollIntoView(){this._execCommand("scrollIntoView",{needCallBack:!1})}_execCommandWithId(e,t,r){if(r.needCallBack){var n={};Object.keys(r).forEach((e=>{"function"==typeof r[e]&&(n[e]=r[e],delete r[e])}));var i=`callback${this.webviewId}_${e}_${Ape++}`;Ppe[i]=n,r.callbackId=i}delete r.needCallBack,this.action={method:t,args:r},Kr(`editor_${this.webviewId}_${e}_actionChanged`,this.action,[this.webviewId])}}Tpe.forEach((e=>{Epe.prototype[e]=Vt((function(t){this._execCommand(e,{...t,needCallBack:!0})}))}));class Mpe extends Epe{constructor(e,t){super(),this.editorId=e,this.webviewId=t}_execCommand(e,t){this._execCommandWithId(this.editorId,e,t)}}function Rpe(e,t){var r=`SQ_${t}_${e}`;if(kpe[r])return kpe[r];var n=new Mpe(e,t);return kpe[r]=n,n}var Ope=e=>{var t=e.map(encodeURIComponent).join(",");T.reportKeyValue({key:"BLEConnection",value:t})},Dpe=ir("onBLEConnectionStateChanged"),Lpe=Dpe.onMethod,Npe=Dpe.offMethod,Bpe=Dpe.internalOnMethod;qt("onBLEConnectionStateChanged",(e=>{Dpe.emit(e)}));var $pe=ir("onBluetoothAdapterStateChange"),jpe=$pe.onMethod,Fpe=$pe.offMethod,Wpe=$pe.internalOnMethod,Upe={};qt("onBluetoothAdapterStateChange",(e=>{var t=Object.entries(e).every((([e,t])=>Upe[e]===t));t||(Upe=e,$pe.emit(e))}));var Vpe=0,qpe=!1,zpe={connects:null,scene:null,targetAction:null,startTime:null,endTime:null},Gpe=()=>{Object.keys(zpe).forEach((e=>{zpe[e]=null}))},Hpe=()=>Object.values(zpe).every((e=>null!==e));Bpe((e=>{e&&(e.connected?Vpe++:Vpe--)})),Wpe((e=>{e&&!e.available&&(Vpe=0)})),Gp((e=>{Vpe>0&&(qpe=!0,zpe.startTime=Date.now(),zpe.targetAction=e.targetAction)})),df((e=>{qpe&&(zpe.endTime=Date.now(),setTimeout((()=>{Vpe>0&&(zpe.connects=Vpe,zpe.scene=e.scene,Hpe()&&Ope([zpe.connects,zpe.scene,zpe.targetAction,zpe.endTime-zpe.startTime])),qpe=!1,Gpe()}),100))}));var Kpe=(e={})=>{e.success({currentRoute:uu.lastRoute})},Jpe=(e={})=>{e.success({pathPaths:br.getCurrentPagesByDomain(null).map((e=>e.route))})},Xpe=(e={})=>{var{lastRoute:t=uu.lastRoute,relativeRoute:r=".",needTrans:n=!0}=e;e.success({route:fp(t,r,n)})},Ype=ir("videoFullScreenChange"),Qpe=Ype.onMethod,Zpe=Ype.offMethod,ehe=(e={})=>{Ype.emit(e)};function the(e){if(!Array.isArray(e)||e.some((e=>"string"!=typeof e||0===e.length)))return"invalid keyList"}var rhe=NE("getUserCloudStorage","webapi_getselfuserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),nhe=e=>{var t=the(e.keyList);t?zc("getUserCloudStorage",e,t):rhe(e)},ihe=NE("getFriendCloudStorage","webapi_getfrienduserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),ahe=(e={})=>{var t=the(e.keyList);t?zc("getFriendCloudStorage",e,t):ihe(e)},ohe=NE("getGroupCloudStorage","webapi_getgroupuserstorage",(({keyList:e=[],shareTicket:t})=>{var r=Xp.get(t),{shareKey:n,shareName:i}=r;return{key:e,share_key:n,share_name:i}}),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),she=e=>{var t=the(e.keyList);t?zc("getGroupCloudStorage",e,t):setTimeout((()=>{e.shareTicket?Xp.get(e.shareTicket)?ohe(e):zc("getGroupCloudStorage",e,"参数 shareTicket 不正确"):Xp.lastShareTicket&&Xp.get(Xp.lastShareTicket)?ohe(Object.assign({shareTicket:Xp.lastShareTicket},e)):zc("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)},lhe,che,uhe=!1;en("hoverMenuButton",((e,t)=>{lhe||che||__sclEngine__.initScl((({mainRoot:t})=>{(lhe=t.append("menuButton",{})).addListener("handleTap",(()=>{gQ(1),(che=t.append("shortTVHalfScreen",{dramaName:e.dramaName,dramaCoverUrl:e.dramaCoverUrl})).addListener("exit",(()=>{gQ(3),t.remove(lhe),t.remove(che),lhe=null,che=null,fhe({fail(){Id("navigateBackNative",{permissionBytes:[1,1,1]})}})})),che.addListener("navigate",(()=>{gQ(2),t.remove(lhe),t.remove(che),lhe=null,che=null;uhe=!0,Mne({appId:"wxb6d22f922f37b35a",path:"pages/index/index?from_drama_weapp=1",__noCheckBeforeNavigateToMiniProgram:!0})}))}))}))}));var dhe=()=>uhe,phe=!1,hhe=[1037,1227,1263];re.onReady((()=>{var e,t=null===(e=re.appLaunchInfo)||void 0===e?void 0:e.scene;phe=phe||hhe.includes(t)})),df((e=>{phe=phe||hhe.includes(e.scene),1038===e.scene&&"wxb6d22f922f37b35a"===e.referrerInfo.appId&&dhe()&&fhe({fail(){Id("navigateBackNative",{permissionBytes:[1,1,1]})}})}));var fhe=(e={})=>{phe?md("navigateBackMiniProgram",e,{}):zc("navigateBackMiniProgram",e,"not MiniProgram can navigate back.")},ghe=(e={},t="/")=>{if(Vc("navigateToDevMiniProgram",e,{appId:""}))if(["undefined","string"].includes(typeof e.relativeURL)){var r=Object.assign({},e);"string"==typeof r.path&&void 0===r.relativeURL&&(r.relativeURL=Yd(r.path,!1)),bd(t)("navigateToDevMiniProgram",r,{})}else zc("navigateToDevMiniProgram",e,"relativeURL should be string or undefined")},vhe=e=>{ghe(e,"/")},mhe=(e={})=>{var t=Object.assign({},e);t.path&&(t.path=Yd(t.path)),md("launchMiniProgram",t)},yhe=(e={})=>{if(Vc("launchDevMiniProgram",e,{appId:""})){var t=Object.assign({},e);t.path=Yd(t.path,!1),"string"==typeof t.path&&void 0===t.relativeURL&&(t.relativeURL=t.path),md("launchDevMiniProgram",t,{})}},bhe=!0,_he=[{h:"支付方式1",src:"url"},{h:"支付方式2",src:"url2"},{h:"支付方式3",src:"url3"},{h:"支付方式4",src:"url4"}],whe=Symbol("wePaySpecialOpenMiniProgram"),She=Symbol("skipSceneSymbol"),Che=!1,khe=function(){var e=xd()((function*(e,t){try{var r=yield Tne({appId:t.appId,path:t.path},t);return y.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(r)}`),fne(e,{appId:r.appId,path:r.path,sourcetype:r.sourcetype,needTransferToWeChat:r.needTransferToWeChat})}catch(e){var n=e.errMsg||e.message;throw y.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${n}`),["cancel","another navigation is in progress"].includes(n)||T.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(n)}}));return function(t,r){return e.apply(this,arguments)}}(),Ihe=(()=>{var e=[];return re.onReady((()=>{Array.isArray(re.embeddedAppIdList)&&(e=re.embeddedAppIdList)})),t=>e.indexOf(t)>=0})(),Phe={NONE:0,BANNED_PLATFORM:1,BANNED_APP_TYPE:2,INVALID_ACTION_CODE:3,DISALLOW_EMBEDDED_MODE:4,BANNED_ORIENTATION:5,NOT_IN_EMBEDDED_APPID_LIST:6,NOT_TRIGGERED_BY_TAP:7,INVALID_API_CATEGORY:8,SPECIAL_SCENE:9},Ahe=function(){var e=xd()((function*({appId:e,path:t,shortLink:r,verify:n,tapMark:i},a){if(y.info(`[_checkBeforeOpenEmbeddedMiniProgram] appId=${e} path=${t} shortLink=${r} isOpening=${Che}`),Che)throw new Error("another navigation is in progress");Che=!0;try{try{a||(a=yield Cne({appId:e,path:t,shortLink:r,verifyUnionProduct:"unionProduct"===n}))}catch(r){y.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),a={appId:e,path:t}}var{actionCode:o,allowEmbeddedMode:s,appType:l}=a;e=a.appId,t=a.path;var c=dV(),u=vh();y.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${o} appType=${l} allowEmbeddedMode=${s} pageOrientation=${c} lastNonBClassScene=${u}`);var d=!1,p=Phe.NONE;return Ie||ke?Ue()||4===l||19===l?(d=!0,p=Phe.BANNED_APP_TYPE):[1,2].includes(o)?s?"landscape"===c?(d=!0,p=Phe.BANNED_ORIENTATION):i?["embedded"].includes(wh())?(d=!0,p=Phe.INVALID_API_CATEGORY):[1200,1201,1228].includes(u)&&(d=!0,p=Phe.SPECIAL_SCENE):(d=!0,p=Phe.NOT_TRIGGERED_BY_TAP):(d=!0,p=Phe.DISALLOW_EMBEDDED_MODE):(d=!0,p=Phe.INVALID_ACTION_CODE):(d=!0,p=Phe.BANNED_PLATFORM),{...a,shouldFallback:d,fallbackReason:p}}finally{Che=!1}}));return function(t,r){return e.apply(this,arguments)}}(),xhe=(e,t,r,n,i)=>{var a=Object.keys(uu.query).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(uu.query[e])}`)).join("&"),o=[`${uu.lastRoute}?${a}`||"",e||"",t||"",r||"",n,i].join(",");T.reportKeyValue({key:"OpenEmbeddedMiniProgramResult",value:o})},The=function(){var e=xd()((function*(e){y.info(`[_doOpenEmbeddedMiniProgram], args=${JSON.stringify(e)}`),delete(e={...e}).sourcetype,delete e.preScene,delete e.preSceneNote,e.mode="embedded",Ke()||e.skipSceneSymbol===She||(delete e.scene,delete e.sceneNote);var t=Ak();return t?(e.privateExtraData=e.privateExtraData||{},e.privateExtraData.cookies=t):e.privateExtraData&&delete e.privateExtraData.cookies,"string"==typeof e.path&&e.path.trim().length>0?e.path=Yd(e.path,!1).trim():e.path=void 0,y.info(`[_doOpenEmbeddedMiniProgram], finalArgs=${JSON.stringify(e)}`),yd("navigateToMiniProgram",e)}));return function(t){return e.apply(this,arguments)}}();function Ehe(){return Mhe.apply(this,arguments)}function Mhe(){return Mhe=xd()((function*(e={}){if(Oe)throw jW({icon:"none",title:"SDK 暂不支持当前功能"}),new Error("openEmbeddedMiniProgram:fail SDK暂不支持此API");var t=e.__skip_tap_check__===whe,r=t||sM();if(!t){if(!ij())throw new Error("can only be invoked by user TAP gesture.");if("requestPayment"===lM()&&!Cf("canOpenEmbeddedMiniProgramAfterPayment"))throw new Error("forbidden after payment.")}var n=wh();if(["nativeFunctionalized"].includes(n))throw jW({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${n} apiCategory.`);e.appId&&qc(e,{appId:""}),e.path&&qc(e,{path:""}),e.shortLink&&qc(e,{shortLink:""});var i=void 0!==e.appId?String(e.appId):void 0,a=void 0!==e.path?String(e.path):void 0,o=void 0!==e.shortLink?String(e.shortLink):void 0;if(a&&a.length>=65536)throw new Error("path length should be less than 65536");if(o&&o.length>=1024)throw new Error("shortLink length should be less than 1024");y.info(`[_openEmbeddedMiniProgram] appId=${i} path=${a} shortLink=${o} verify=${e.verify}`);var s=i,l=a,c=0,u=0;e.embedded={allowFullScreen:!1},e.allowFullScreen&&(delete e.allowFullScreen,e.embedded.allowFullScreen=!0);try{var d=yield Ahe({appId:i,path:a,shortLink:o,verify:e.verify,tapMark:r});return y.info(`[_checkBeforeOpenEmbeddedMiniProgram][resolve], res=${JSON.stringify(d)}`),s=d.appId,l=d.path,e.skipSceneSymbol===She&&(d.shouldFallback=!1),d.shouldFallback?(c=2,u=d.fallbackReason,console.warn(`openEmbeddedMiniProgram will fallback to navigateToMiniProgram. (reason: ${{[Phe.BANNED_PLATFORM]:"invalid platform",[Phe.BANNED_APP_TYPE]:"invalid app type",[Phe.INVALID_ACTION_CODE]:"forbid to navigate",[Phe.DISALLOW_EMBEDDED_MODE]:"forbidden",[Phe.BANNED_ORIENTATION]:"invalid orientation",[Phe.NOT_IN_EMBEDDED_APPID_LIST]:"not in list",[Phe.NOT_TRIGGERED_BY_TAP]:"not triggered by tap",[Phe.INVALID_API_CATEGORY]:"invalid api category",[Phe.SPECIAL_SCENE]:"special scene"}[u]||"unknown"})`),yield khe(e,d)):(c=1,yield The({...e,appId:d.appId,path:d.path,sourcetype:d.sourcetype}))}catch(e){var p=e.errMsg||e.message;throw y.error(`[_checkBeforeOpenEmbeddedMiniProgram][reject], errMsg=${p}`),["cancel","another navigation is in progress"].includes(p)||T.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before open embed miniprogram"}),new Error(p)}finally{xhe(s,l,e.shortLink,c,u)}})),Mhe.apply(this,arguments)}var Rhe=eu("openEmbeddedMiniProgram",Ehe),Ohe=ir("onSheetModeVisibleHeightChange"),Dhe=Ohe.onMethod,Lhe=Ohe.offMethod,Nhe=null;ur("onSheetModeVisibleHeightChange",((e={})=>{Nhe&&Nhe.height===e.height&&Nhe.initialHeight===e.initialHeight||(Nhe=e,Ohe.emit(e),Kr("onSheetModeVisibleHeightChange",e))}));var Bhe=null,$he=[];en("videoAdPreloadInfoGet",(e=>{Bhe=e,$he.forEach((e=>{null==e||e(Bhe)})),$he=[]}));var jhe=e=>$he.push(e),Fhe=()=>Bhe,Whe=1515,Uhe=74,Vhe=75,qhe=76,zhe=80,Ghe=81,Hhe=0,Khe={};RC((e=>{Khe=e,Hhe=e.webviewId}));var Jhe=Date.now(),Xhe=Jhe,Yhe=Jhe,Qhe=0;g.onLoad((()=>{Jhe=Date.now(),Xhe=Jhe,Yhe=Jhe})),df((()=>{(Jhe=Date.now())>Xhe&&(Qhe+=Jhe-Xhe)})),Gp((()=>{Xhe=Date.now()})),EK((()=>{Yhe=Date.now()}));var Zhe=null,efe=e=>{var t=Fhe();t?e&&e(t):(Zhe&&clearTimeout(Zhe),Zhe=setTimeout((()=>{Kr("videoAdPreloadInfo",null,[Hhe])}),0),jhe(e))},tfe=new Date;g.onLoad((()=>{tfe=new Date}));var rfe="";re.onReady((()=>{tfe=new Date;var e=JS();rfe=e.model}));var nfe=e=>{var t={};try{for(var r of e=JSON.parse(e))Object.prototype.hasOwnProperty.call(r,"exp_para")&&r.exp_para.forEach((e=>{t[e.name]=Number(e.value)}));return t}catch(e){return{}}},ife=(e,t)=>{try{var r=Date.now();SI({url:t.video_info.videoUrl,success(n){t.video_info.preloadUrl=n.tempFilePath,ofe(e,t),ADSDK.reportAdMonitorData(zhe,{costTime:Date.now()-r},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})},fail(n){ofe(e,t),ADSDK.reportAdMonitorData(Ghe,{costTime:Date.now()-r,e:n},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})}})}catch(e){}},afe={},ofe=(e,t)=>{afe[e]=t},sfe=e=>{efe((t=>{var r={};Fe()&&(r.in_3rd_app=1);var n={ad_unit_id:e,pos_id:"7090665964306299",scene_type:t.scene_type,weapp_path:Khe.path,user_agent:t.ua,weapp_extra_data:JSON.stringify({start_ts:tfe.valueOf(),enter_ts:Jhe,user_duration:Date.now()-Yhe-Qhe,machine_type:rfe,env:re.host&&re.host.env,app_appid:re.host&&re.host.appId}),ext_slot_custom_comm:JSON.stringify(r)};TE({sdkApiName:"getadvert",apiName:"webapi_getadvert",reqData:n,success:t=>{try{if((t=t.data).advertisement_num>=1&&t.advertisement_info.length){var r=t.advertisement_info[0];r._preloadTime=+new Date,r.crt_size===Whe?ife(e,r):ofe(e,r);var n=nfe(r.flow_exp_info);void 0!==n.widget_gray_preload_max&&(cfe=n.widget_gray_preload_max),ADSDK.reportAdMonitorData(Uhe,{errMsg:"advertisement success",errCode:t.ret},{ad_pos_type:6,aid:r.aid,traceid:r.traceid,ad_unit_id:e})}else ADSDK.reportAdMonitorData(Vhe,{errMsg:"no advertisement",errCode:t.ret},{ad_pos_type:6,ad_unit_id:e})}catch(t){ADSDK.reportAdMonitorData(Vhe,{errMsg:"advertisement error"},{ad_pos_type:6,ad_unit_id:e})}},fail:()=>{ADSDK.reportAdMonitorData(qhe,{errMsg:"advertisement fail"},{ad_pos_type:6,ad_unit_id:e})}})}))},lfe=[],cfe=5,ufe=e=>{if(console.warn("注意：wx.preloadVideoAd接口即将下线，请使用wx.preloadAd替换。"),Array.isArray(e))for(var t=0,r=e.length;t<r;t++){var n=e[t];-1===lfe.indexOf(n)?lfe.length>=cfe?console.warn(`preloadVideoAd最多预加载${cfe}个广告单元,${n}将不被预加载`):(lfe.push(n),sfe(n)):console.warn(`preloadVideoAd已预加载过${n}这个广告单元,请勿重复调用`)}else console.warn("preloadVideoAd参数应为数组")},dfe=e=>{var t=e.data,{unitId:r}=t;afe[r]?(e.success&&e.success({adData:afe[r]}),delete afe[r]):e.success&&e.success({adData:null}),-1!==lfe.indexOf(r)&&setTimeout((()=>{sfe(r)}),1e3)},pfe=()=>lfe,hfe=(e={})=>{md("shareImageMessage",e,{})},ffe=Zc(SI),gfe=Zc(Zie),vfe=Zc(tae),mfe=Zc(nae),yfe=Zc(mE),bfe=Zc(Bf),_fe=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),wfe="https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0",Sfe,Cfe=function(){var e=xd()((function*(){return Sfe||(Sfe=xd()((function*(){var e,t,r,n=yield EE({apiName:"webapi_getuseravatarpopupinfo",reqData:{}}),{avatarurl:i,nickname:a}=(null==n||null===(e=n.data)||void 0===e||null===(t=e.avatar_info)||void 0===t||null===(r=t.avatar_list)||void 0===r?void 0:r[0])||{};return{avatarUrl:i,nickName:a}}))()),Sfe}));return function(){return e.apply(this,arguments)}}(),kfe=()=>new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),Ife=function(){var e=xd()((function*(e){var t=(yield kfe()).append("choose-avatar",{avatarUrl:e.avatarUrl}),r=jV((e=>{[PV.BottomBackButton,PV.NavigationBackInterceptionType,PV.NavigateBackCall].includes(e.type)&&t.handleClose()})),{action:n}=yield new Promise((e=>{["chooseAvatar","chooseAlbum","takePicture","cancel"].forEach((r=>{t.addListener(r,(()=>e({action:r})))}))}));return FV(r),{action:n}}));return function(t){return e.apply(this,arguments)}}(),Pfe=!1,Afe=function(){var e=xd()((function*(e){return e?new Promise((t=>{_e(e,"chooseAvatar",1,(e=>{t(e)}))})):Cf("chooseAvatar")}));return function(t){return e.apply(this,arguments)}}(),xfe={UNKNOWN:0,CHOOSE_AVATAR:1,TAKE_PICTURE:2,CHOOSE_ALBUM:3,CANCEL:4,TAKE_PICTURE_CANCEL:5,CHOOSE_ALBUM_CANCEL:6,AVATAR_ILLEGAL:7,REVIEW_TIMEOUT:8},Tfe=({action:e})=>{var t=[re.appType+1e3,uu.lastRoute,1,e].join(",");T.reportKeyValue({key:"WxappNicknameAvatarAutofill",value:t})},Efe=function(){var e=xd()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}(),Mfe=function(){var e=xd()((function*({avatarUrl:e}){var{width:t,height:r}=yield mfe({src:e}),n=xd()((function*(){var n=t>r&&t>640?640:void 0,i=r>t&&r>640?640:void 0,{tempFilePath:a}=yield gfe({src:e,quality:60,compressedWidth:n,compressedHeight:i}),{data:o}=yield bfe({filePath:a});return o}))(),i=xd()((function*(){var{data:e}=yield EE({apiName:"webapi_getc2cauthkey",reqData:{}});return y.info("[requestAvatarReview] c2cAuthInfo",e),e}))(),[a,o]=yield Promise.all([n,i]),s=yield Efe(xd()((function*(){var e=yield Promise.race([_fe(4e3,"upload timeout"),yfe({url:"https://finder-assistant.mp.video.tencent-cloud.com/snsuploadsimple",method:"POST",header:{"X-Arguments":[`apptype=${o.apptype}`,"filetype=20304",`openid=${re.appLaunchInfo.openId||""}`,"filekey=image",`timestamp=${o.timestamp}`,`authkey=${o.authkey}`].join("&"),"Content-Type":"application/x-www-form-urlencoded"},data:a})]);if(y.info("[requestAvatarReview] uploadc2c",e.data),200!==e.statusCode)throw new Error(`upload fail, ${e.data.retcode}`);return e.data.fileurl})),1),l=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);y.info("[requestAvatarReview] requestId",l),y.info("[requestAvatarReview] c2cUrl",s);var{data:c}=yield EE({apiName:"webapi_checkuserprofile",reqData:{c2c_url:s,request_id:l}});return y.info("[requestAvatarReview] checkResult",c),c}));return function(t){return e.apply(this,arguments)}}(),Rfe=eu("chooseAvatar",xd()((function*({pluginId:e}={}){if(!(yield Afe(e)))throw new Error("no permission");if(Pfe)throw new Error("another chooseAvatar is in progress");if(Yie("choose_avatar"))throw new Error("This api is temporarily unavailable");var t;try{t=yield V3("button.chooseAvatar")}catch(e){t={success:!0}}if(!t.success){var r=new Error(t.errMsg);throw r.errno=t.errno,r}var n=xfe.UNKNOWN;try{Pfe=!0;var i=(yield Cfe()).avatarUrl||wfe,{action:a}=yield Ife({avatarUrl:i});switch(a){case"chooseAvatar":var o;n=xfe.CHOOSE_AVATAR;try{HW({title:"加载中"}),o=(yield ffe({url:i})).tempFilePath}finally{KW()}return o&&(Hie("chooseAvatar",[o],e),Roe(e,"SCL chooseAvatar")),{avatarUrl:o};case"chooseAlbum":case"takePicture":var s;n="chooseAlbum"===a?xfe.CHOOSE_ALBUM:xfe.TAKE_PICTURE;try{var l;s=null===(l=(yield yd("chooseMedia",{count:1,mediaType:["image"],sourceType:"chooseAlbum"===a?["album"]:["camera"]})).tempFiles[0])||void 0===l?void 0:l.tempFilePath}catch(e){throw"cancel"===e.message&&(n="chooseAlbum"===a?xfe.CHOOSE_ALBUM_CANCEL:xfe.TAKE_PICTURE_CANCEL),e}var c=!1,u=Promise.race([_fe(1e4,"upload avatar timeout"),Mfe({avatarUrl:s})]);try{s=(yield vfe({src:s,cropScale:"1:1"})).tempFilePath}catch(e){if(e&&e.errno)throw n=xfe.CANCEL,e}try{HW({title:"加载中"});var{errcode:d}=yield u;c=0===d}catch(e){throw e.message,y.error("[requestAvatarReview] error",e.message),setTimeout((()=>{jW({title:"设置失败，请重试",icon:"error"})}),0),n=xfe.REVIEW_TIMEOUT,e}finally{KW()}if(!c)throw jW({title:"无法使用该头像",icon:"error"}),n=xfe.AVATAR_ILLEGAL,new Error("upload error");return(s=(yield gfe({src:s,compressedWidth:132})).tempFilePath)&&Hie("chooseAvatar",[s],e),{avatarUrl:s};case"cancel":throw n=xfe.CANCEL,new Error("cancel")}}catch(e){throw"cancel"!==e.message&&y.error(`chooseAvatar failed, ${e.message}`),e}finally{Pfe=!1,Tfe({action:n})}}))),Ofe=()=>new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),Dfe=!1,Lfe=new Nie,Nfe=e=>new Promise((t=>setTimeout(t,e))),Bfe=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e)));ir("onKeyboardHeightChange").internalOnMethod(function(){var e=xd()((function*(e){(yield Lfe.promise).onKeyboardHeightChange(e)}));return function(t){return e.apply(this,arguments)}}());var $fe=function(){var e=xd()((function*(){return Dfe||(Dfe=!0,Ofe().then(function(){var e=xd()((function*(e){var t=e.append("nickname-accessory",{show:!1});t.addListener("nicknameAccessoryTap",(()=>{Kr("nicknameAccessoryTap",{inputId:t.data.inputId,nickName:t.data.nickname},[uu.currentWebviewId]),Moe(Ufe,"nicknameAccessoryTap")})),RC((()=>{Kfe()})),aV(xd()((function*(){Vfe="landscape"===dV(),Gfe()}))),en("nicknameInput",(({inputValue:e})=>{var t=(zfe||"").toLowerCase();t&&(e=(e||"").toLowerCase(),qfe=!(e&&(!t.startsWith(e)||t===e)),Gfe())})),yield Nfe(0),Lfe.resolve(t)}));return function(t){return e.apply(this,arguments)}}())),Lfe.promise}));return function(){return e.apply(this,arguments)}}(),jfe=function(){var e=xd()((function*(e){return e?new Promise((t=>{_e(e,"showNicknameAccessory",1,(e=>{t(e)}))})):Cf("showNicknameAccessory")}));return function(t){return e.apply(this,arguments)}}(),Ffe=!1,Wfe,Ufe="",Vfe=!1,qfe=!0,zfe,Gfe=function(){var e=xd()((function*(e){var[t,r]=yield Promise.all([Cfe(),$fe()]);zfe=t.nickName,Ufe=e;var n=Ffe&&qfe;(Ie||ke)&&(n=n&&!Vfe),r.setData({nickname:t.nickName,inputId:Wfe,show:n})}));return function(t){return e.apply(this,arguments)}}(),Hfe=eu("showNicknameAccessory",xd()((function*({inputId:e,pluginId:t}={}){var r=yield V3("input.nickname").catch((()=>({success:!0})));if(!r.success)throw new Error(r.errMsg+", errno:"+r.errno);if(!(yield jfe(t)))throw new Error("no permission");Ffe=!0,Vfe="landscape"===dV(),qfe=!0,Wfe=e,yield Gfe(t)}))),Kfe=eu("hideNicknameAccessory",xd()((function*(){Ffe&&(Ffe=!1,yield Gfe())}))),Jfe={UNKNOWN:0,CHOOSE_NICKNAME:11,INPUT_NICKNAME:12,ILLEGAL_NICKNAME:13,REVIEW_TIMEOUT:14},Xfe=({action:e})=>{var t=[re.appType+1e3,uu.lastRoute,2,e].join(",");T.reportKeyValue({key:"WxappNicknameAvatarAutofill",value:t})},Yfe=function(){var e=xd()((function*({nickname:e}){var t=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);y.info("[requestNicknameReview] requestId",t);var{data:r}=yield EE({apiName:"webapi_checkuserprofile",reqData:{nickname:e,request_id:t}});return y.info("[requestNicknameReview] checkResult",r),r}));return function(t){return e.apply(this,arguments)}}(),Qfe=eu("reviewNickname",function(){var e=xd()((function*({inputValue:e,isWechatNickname:t}){var r=t?Jfe.CHOOSE_NICKNAME:Jfe.INPUT_NICKNAME;try{if(!e||e===zfe||t)return;var n=!1;try{HW({title:"加载中"}),n=0===(yield Promise.race([Bfe(1e3,"upload nickname timeout"),Yfe({nickname:e})])).errcode}catch(e){throw setTimeout((()=>{jW({title:"设置失败，请重试",icon:"error"})}),0),r=Jfe.REVIEW_TIMEOUT,e}finally{KW()}if(!n)throw r=Jfe.ILLEGAL_NICKNAME,jW({title:"无法使用该昵称",icon:"error"}),new Error("illegal nickname")}catch(t){throw y.error(`reviewNickname failed, nickname=${e}, ${t.message}`),t}finally{Xfe({action:r})}}));return function(t){return e.apply(this,arguments)}}()),Zfe=(e,t)=>{var r=Du()+" "+Lu(),n=["","","getPhoneNumber",uu.lastRoute,t?20:10,e,r,(null==re?void 0:re.appType)||0].map(encodeURIComponent).join(",");T.reportKeyValue({key:"getPhoneNumberReport",value:n})},ege=e=>{var{state:t,isrealtime:r}=e;Zfe(t,r)},tge=y.createLogger("getPhoneNumber|service"),rge=NE("commercialPhoneNumber","webapi_consume_commercialphonenumber",(e=>e)),nge=(e,t,r)=>{Zfe("invokeConsumerGetPhoneNumber",t),tge.info("invokeConsumerGetPhoneNumber",t,r),Aw({complete:n=>{rge({code:e.code,encrypted_data:e.encryptedData,iv:e.iv,device_brand:Se,device_model:n.model,os_version:n.system,is_realtime:t,request_id:r,success:()=>{tge.info("consumerGetPhoneNumberSuccess",t),Zfe("consumerGetPhoneNumberSuccess",t)},fail:e=>{tge.info("consumerGetPhoneNumberFail",e),Zfe("consumerGetPhoneNumberFail_"+(e.errno||e.err_code||e.errCode)+"_"+e.errMsg,t)}})}})},ige=e=>{var{args:t,isrealtime:r,request_id:n}=e;nge(t,r,n)},age=y.createLogger("getPhoneNumber|service"),oge=e=>{var t=Date.now();$W({title:"正在加载",icon:"loading",mask:!1,duration:12e4});var{phoneNumberNoQuotaToast:r,isrealtime:n,time1:i,success:a}=e;w7({businessType:"weappGetPhoneNumber",scene:1263,queryString:`data=${Mv(JSON.stringify({appid:re.accountInfo.appId,is_realtime:n}))}`,envVersion:"release",privateExtraData:{appid:re.accountInfo.appId,isrealtime:n,path:uu.lastRoute,time1:i,time2:t,icon:re.accountInfo.icon,nickname:re.accountInfo.nickname,phoneNumberNoQuotaToast:r},sticky:!0,disableVisibilityEvent:!0,success(e){if(age.info("weappGetPhoneNumber success",e),qW(),e.extraData&&e.extraData.isSuccess){var{cloud_id:t,encryptedData:r,iv:i,request_id:o}=e.extraData,s={encryptedData:r,iv:i,cloudID:t,errMsg:"getPhoneNumber:ok"},{data:l}=e.extraData;if(l)try{(l=JSON.parse(l))&&l.code&&(s.code=l.code,nge(s,n,o),Ooe("","getPhoneNumberByBusinessView"))}catch(e){console.error(e),age.error("parse code fail",e.message)}Zfe("FakeNativeGetPhone_Success",n),a({invokeType:"complete",data:{public:s}})}else Zfe("FakeNativeGetPhone_Fail_BusinessViewSuccess_"+(e.extraData.errno||e.extraData.err_code||e.extraData.errCode)+e.extraData.errMsg,n),-12001===e.extraData.errno?a({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail no permission",errno:e.extraData.errno,err_code:e.extraData.err_code,errCode:e.extraData.errCode}}}):-13e3===e.extraData.errno?(WW({icon:"",title:"操作太频繁，请稍后再试"}),a({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail operating too frequently",errno:e.extraData.errno,err_code:e.extraData.err_code,errCode:e.extraData.errCode}}})):a({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail "+e.extraData.errMsg,errno:e.extraData.errno,err_code:e.extraData.err_code,errCode:e.extraData.errCode}}})},fail(e){qW(),console.error("openBusinessView fail",e),age.info("openBusinessView fail",e),"openBusinessView:fail cancel"===e.errMsg?(Zfe("FakeNativeGetPhone_Fail_BusinessViewFail_Cancel",n),a({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail user deny"}}})):(Zfe("FakeNativeGetPhone_Fail_BusinessViewFail_"+(e.errno||e.err_code||e.errCode)+e.errMsg,n),a({invokeType:"nativeGetPhone"}))}})},sge=y.createLogger("getPhoneNumber|service"),lge=e=>{var{phoneNumberNoQuotaToast:t,isrealtime:r,time1:n,success:i}=e;Zfe("invokeWxGetPhoneNumber",r),sge.info("invokeWxGetPhoneNumber",r);var a=!1,o=!0;if(ke){re.clientVersion>=671096373&&(a=!0);var s=re.brand&&re.brand.toUpperCase();"HUAWEI"!==s&&"HONOR"!==s||re.systemApiLevel&&re.systemApiLevel>27||(o=!1)}else Ie?re.clientVersion>=402660916&&(a=!0):o=!1;sge.info("是否开启仿原生获取手机号",o),sge.info("是否支持打开透明背景仿原生",a),(Te||Ce)&&r?(Zfe(`NativeGetPhone_Fail_100_getrealtimephonenumber not supported on ${Se}`,r),RW({content:"该手机号需要验证，请在移动端进行操作",showCancel:!1,complete:()=>{i({invokeType:"complete",data:{public:{errMsg:`getPhoneNumber:fail getrealtimephonenumber not supported on ${Se}`,errno:100}}})}})):a?o?(Zfe("FakeNativeGetPhone",r),sge.info("FakeNativeGetPhone",r),oge({phoneNumberNoQuotaToast:t,isrealtime:r,time1:n,success:i})):(Zfe("NativeGetPhone_YesTransparent_NoExpt",r),sge.info("NativeGetPhone_YesTransparent_NoExpt",r),i({invokeType:"nativeGetPhone"})):(Zfe("NativeGetPhone_NoTransparent",r),sge.info("NativeGetPhone_NoTransparent",r),i({invokeType:"nativeGetPhone"}))},cge={COMMON:924,SPLASHAD:1288,CUSTOMAD:1390,CPSSHOPAD:1764,REWARDEDVIDEO:1963,COMMON2:2009},uge=(e,t,r=1)=>({idKey:e,idKeyGroup:t,sample:r}),dge=(e,t=1)=>uge(e,cge.COMMON,t),pge=(e,t=1)=>uge(e,cge.COMMON2,t),hge=dge(5),fge=dge(10),gge=dge(11),vge=dge(12),mge=dge(13),yge=dge(14),bge=dge(21),_ge=dge(22),wge=dge(23),Sge=dge(24),Cge=dge(25),kge=dge(26),Ige=dge(28),Pge=dge(32),Age=dge(33),xge=dge(34),Tge=dge(35),Ege=dge(36),Mge=dge(37),Rge=dge(38),Oge=dge(39,.01),Dge=dge(40),Lge=dge(41),Nge=dge(42),Bge=dge(43),$ge=dge(44),jge=dge(45),Fge=dge(46,.01),Wge=dge(49),Uge=dge(50),Vge=dge(86,.01),qge=dge(87),zge=dge(88),Gge=dge(89),Hge=dge(90),Kge=dge(96,.01),Jge=dge(97,.05),Xge=dge(98),Yge=dge(99),Qge=dge(100),Zge=dge(101),eve=dge(102),tve=dge(103),rve=dge(104),nve=dge(106),ive=dge(105),ave=dge(107),ove=dge(108),sve=dge(109),lve=dge(110),cve=dge(112),uve=dge(113),dve=dge(114),pve=dge(115),hve=dge(116),fve=dge(119),gve=dge(120),vve=dge(121),mve=dge(123),yve=dge(124),bve=dge(125),_ve=dge(126),wve=dge(127),Sve=dge(128),Cve=dge(129),kve=dge(130),Ive=dge(131,.01),Pve=dge(132,.01),Ave=dge(133),xve=dge(134),Tve=dge(135),Eve=dge(136),Mve=dge(137,.01),Rve=dge(138),Ove=dge(139),Dve=dge(140),Lve=dge(141),Nve=dge(142,.01),Bve=dge(143),$ve=dge(144),jve=dge(145),Fve=dge(146),Wve=dge(147),Uve=dge(148),Vve=dge(149),qve=dge(150,.01),zve=dge(151),Gve=dge(152),Hve=dge(153),Kve=dge(154),Jve=dge(156),Xve=dge(157),Yve=dge(158),Qve=dge(159),Zve=dge(160),eme=dge(161),tme=dge(162),rme=dge(163),nme=dge(164),ime=dge(165),ame=dge(166),ome=dge(167),sme=dge(168),lme=dge(169),cme=dge(170),ume=dge(171),dme=dge(173),pme=dge(178,.01),hme=dge(179),fme=dge(180),gme=dge(181),vme=dge(182),mme=dge(183),yme=dge(188),bme=dge(189),_me=dge(190),wme=dge(191),Sme=dge(192),Cme=dge(193),kme=dge(194),Ime=dge(195),Pme=dge(196,.01),Ame=dge(197),xme=dge(198),Tme=dge(199),Eme=dge(202),Mme=dge(203),Rme=dge(204),Ome=dge(205),Dme=dge(206),Lme=dge(207),Nme=dge(208),Bme=dge(209),$me=dge(210),jme=dge(211),Fme=dge(212),Wme=dge(213),Ume=dge(214),Vme=dge(215),qme=dge(216),zme=dge(217),Gme=dge(218),Hme=dge(219),Kme=dge(220),Jme=dge(221),Xme=dge(223),Yme=dge(224),Qme=dge(225),Zme=dge(226),eye=dge(227),tye=dge(228),rye=dge(229),nye=dge(230),iye=dge(234),aye=dge(235),oye=dge(236),sye=dge(237),lye=dge(238),cye=dge(239),uye=dge(240),dye=dge(241),pye=dge(242),hye=dge(243),fye=dge(244),gye=dge(246),vye=dge(247),mye=dge(250),yye=dge(251),bye=dge(252,.01),_ye=dge(253),wye=dge(254),Sye=pge(1,.01),Cye=pge(2),kye=pge(3,.01),Iye=pge(4),Pye=pge(5,.01),Aye=pge(6),xye=pge(7),Tye=pge(8),Eye=pge(9),Mye=pge(10,.01),Rye=pge(11),Oye=pge(12),Dye=pge(13),Lye=pge(14),Nye=pge(15),Bye=pge(16),$ye=pge(17),jye=pge(18),Fye=pge(19),Wye=pge(20),Uye=pge(21,.01),Vye=pge(22),qye=pge(27),zye=pge(28),Gye=pge(29),Hye=pge(30),Kye=pge(23),Jye=pge(24),Xye=pge(25),Yye=pge(26),Qye=pge(31),Zye=pge(32),ebe=pge(33),tbe=pge(34),rbe=pge(35),nbe=pge(36),ibe=pge(37),abe=pge(38),obe=pge(39),sbe=pge(40),lbe=pge(41),cbe=pge(42),ube=pge(43),dbe=pge(44),pbe=pge(45),hbe=pge(46),fbe=pge(47),gbe=pge(48),vbe="",mbe="",ybe="",bbe="{}",_be="",wbe="",Sbe="{}";function Cbe(e){vbe?e&&e(vbe):ke&&re.clientVersion<654315827?md("getOAID",{success(t){/:ok/.test(t.errMsg)?(vbe=t.result||"",e&&e(vbe)):e&&e("")},fail(){e&&e("")}}):e&&e("")}function kbe(e=""){return new Promise(((t,r)=>{ke&&re.clientVersion>=654315827||Ie&&re.clientVersion>=385879808?md("getDeviceInfo",{waidPkg:e,success(e){vbe=e.oaid||"",mbe=e.imei||"",wbe=e.waid||"",_be=e.ua||"",Sbe=e.devIdInfo||"{}";try{bbe=JSON.stringify({...JSON.parse(Sbe),..._be?{ua:_be}:{}})}catch(e){r(e)}t({oaid:vbe,imei:mbe,commonid:bbe,waid:wbe})},fail(e){r(e)}}):t({oaid:vbe,imei:mbe,commonid:bbe,waid:wbe})}))}function Ibe(e=""){return new Promise(((t,r)=>{var n="",i="";IS_ANDROID&&WXConfig.clientVersion>=654316032?invokeMethod("getDeviceInfo",{waidPkg:e,success(e){n=e.waid||"",i=e.imei||"",t({waid:n,imei:i})},fail(e){r(e)}}):t({waid:n,imei:i})}))}var Pbe=()=>{var e=XS();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":re.deviceOrientation&&/^landscape/.test(re.deviceOrientation)?"landscape":re.deviceOrientation||"portrait"},Abe={25576:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"slotid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint32",key:"product_type",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"ad_tmpl_id",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint64",key:"exp_time",value:"0"},{type:"uint64",key:"imp_time",value:"0"},{type:"string",key:"user_agent",value:""},{type:"uint64",key:"ad_w",value:"0"},{type:"uint64",key:"ad_h",value:"0"},{type:"uint64",key:"pos_x",value:"0"},{type:"uint64",key:"pos_y",value:"0"},{type:"string",key:"pos_name",value:""},{type:"uint32",key:"item_show_type",value:"0"},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""}],20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"diaphaneity_list",value:""},{type:"string",key:"element_distance_list",value:""},{type:"string",key:"machine_type",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"logtype",value:"0"},{type:"uint32",key:"hitable_percentage",value:"0"},{type:"uint32",key:"visible_percentage",value:"0"},{type:"uint32",key:"opacity",value:"0"},{type:"string",key:"around_text",value:""},{type:"uint32",key:"cycle_play",value:"0"},{type:"string",key:"ad_position",value:""},{type:"string",key:"ad_screen_position",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"},{type:"string",key:"ext_feedback_comm",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_playlet_autoplay",value:"0"},{type:"uint64",key:"video_start_play_ts_client",value:"0"},{type:"uint64",key:"video_end_play_ts_client",value:"0"},{type:"uint64",key:"video_play_duration",value:"0"},{type:"uint64",key:"rewarded_condition",value:"0"},{type:"uint32",key:"is_rewarded",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}],20267:[{type:"string",key:"NetworkType",value:""},{type:"uint32",key:"SSID",value:""},{type:"uint32",key:"ToUin",value:""},{type:"uint64",key:"SceneID",value:"0"},{type:"uint64",key:"UIArea",value:"0"},{type:"uint64",key:"PositionID",value:"0"},{type:"uint64",key:"ActionID",value:"0"},{type:"string",key:"ActionStatus",value:""},{type:"uint64",key:"OpType",value:"0"},{type:"string",key:"Object",value:""},{type:"string",key:"Status",value:""},{type:"uint64",key:"SourceID",value:"0"},{type:"string",key:"Allpath",value:""},{type:"uint64",key:"ExpID",value:""},{type:"uint32",key:"LogType",value:"0"},{type:"string",key:"ErrType",value:"0"},{type:"uint64",key:"Time",value:"0"},{type:"uint64",key:"FuncType",value:"0"},{type:"string",key:"FuncID",value:""},{type:"uint64",key:"ContentType",value:"0"},{type:"uint64",key:"ContentID",value:"0"},{type:"uint64",key:"ReasonID",value:""},{type:"string",key:"ExternInfo",value:""},{type:"uint64",key:"ClassID",value:""}],31596:[{type:"uint64",key:"report_time",value:"0"},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"pos_type",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"template_id",value:"0"},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint64",key:"ad_data_sizes",value:"0"},{type:"uint64",key:"template_sizes",value:"0"},{type:"uint64",key:"material_sizes",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint32",key:"action",value:""},{type:"string",key:"value",value:""}],31840:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:""},{type:"uint64",key:"report_time",value:0},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"mb_bussiness_time",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:0},{type:"uint32",key:"screen_height",value:0},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:0},{type:"uint64",key:"slotid",value:0},{type:"uint32",key:"pos_type",value:0},{type:"uint64",key:"aid",value:0},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:0},{type:"uint64",key:"crt_exp_tid",value:0},{type:"uint64",key:"template_id",value:0},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:0},{type:"uint64",key:"ad_data_sizes",value:0},{type:"uint64",key:"template_sizes",value:0},{type:"uint64",key:"material_sizes",value:0},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"action",value:0},{type:"string",key:"value",value:""}]},xbe=e=>[20267,31596].includes(Number(e)),Tbe=e=>{var t=Abe[e.toString()];return t?t.concat([]):[]},Ebe=[],Mbe=[],Rbe=(e=!1)=>({sdkApiName:t="adReportOperateWXData",reqData:r,success:n,fail:i,complete:a}={})=>{var o=r.report_action||"",s=0;r.report_data_json&&"object"==typeof r.report_data_json&&(s=r.report_data_json.logid||0,r.report_data_json=JSON.stringify(r.report_data_json));var l={apiName:"advert_report",reqData:r,sdkApiName:t,success:n,fail:i,complete:a,adExtra:{adReportAction:o,adLogid:s}};zm()&&"reportAdExposure"!==t?Dbe(l,e):e?TE(l):RE(l)},Obe=!1,Dbe=(e,t)=>{if(Obe)t?(Mbe.push(e),10===Mbe.length&&(Lbe(Mbe,!0,Bk),Mbe=[])):(Ebe.push(e),10===Ebe.length&&(Lbe(Ebe,!1,Bk),Ebe=[]));else{Obe=!0;var r=Number(Ie?re.expt.clicfg_appbrand_ios_ad_operatewxdata_batch:re.expt.clicfg_appbrand_android_ad_operatewxdata_batch);setInterval((()=>{Mbe.length&&(Lbe(Mbe,!0,Nk),Mbe=[]),Ebe.length&&(Lbe(Ebe,!1,Nk),Ebe=[])}),r)}},Lbe=(e,t,r)=>{(t?OE:ME)({apiName:"adReportBatch",sdkApiName:"adReportBatch",reqDataList:e.map((e=>({api_name:e.apiName,data:e.reqData}))),batchType:r,success:t=>{(t.item_list||[]).forEach(((t,r)=>{var n={};t&&t.resp&&0===t.errcode?0!==t.resp.err_no?(n={errMsg:`${e[r].sdkApiName}:fail `+(t.resp.errmsg?` ${t.resp.errmsg}`:""),errno:t.resp.err_no},e[r].fail&&e[r].fail(n),e[r].complete&&e[r].complete(n)):(n={errMsg:`${e[r].sdkApiName}:ok`,data:t.resp.data||{},errno:0},e[r].success&&e[r].success(n),e[r].complete&&e[r].complete(n)):(n={errMsg:`${e[r].sdkApiName}:fail `+(t.errmsg?` ${t.errmsg}`:""),errno:t.errcode},e[r].fail&&e[r].fail(n),e[r].complete&&e[r].complete(n))}))},fail:r=>{y.error(`fromWebview=${t}`,"batch 广告上报失败",r),e.forEach((e=>{e.fail&&e.fail(r),e.complete&&e.complete(r)}))}})},Nbe=Rbe(!1),Bbe=wg(Nbe),$be=Rbe(!0),jbe="",Fbe=Se,Wbe="",Ube="",Vbe="",qbe="",zbe="",Gbe="",Hbe=!0,Kbe="",Jbe="";re.onReady((()=>{jbe=Pbe()||"";var e=JS();Wbe=e.system,Ube=e.version,Vbe=e.SDKVersion,zbe=e.model,Gbe=e.brand,Hbe=Ue();try{Jbe=re.accountInfo.appId,qbe=a.updateTime}catch(e){}}));var Xbe=({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),T.reportIDKeyDirectly({id:t||924,key:e,force:!0})},Ybe=({key:e,id:t,extInfo:r,reportData:n})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),n=n||{},r&&"string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=r.toString()}return Qbe(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:n.ad_pos_type||0,source_url:n.source_url||"",expand_feild:n.reportAdData||"",expand_feild2:r,aid:n.aid||0,traceid:n.traceid||"",ad_unit_id:n.ad_unit_id})},Qbe=(e,t)=>{var r=Tbe(e);if(r&&0!==r.length)return t=Object.assign({publisher_appid:Jbe,appid:Jbe,orig_weapp_id:"",network_type:Kbe,wechat_version:Ube,platform:Fbe,system_version:Wbe,device_orientation:jbe,wxapp_lib_version:Vbe,wxapp_lib_time:qbe,machine_type:zbe,ad_platform:Hbe?1:0},t),t=Object.assign({DeviceModel:zbe,DeviceBrand:Gbe,OsName:Fbe,OsVersion:Wbe},t),r=r.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),Bbe({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:r}}}).catch((e=>{}))},Zbe=(e,t,r)=>{Xbe({key:e}),Ybe({key:e,extInfo:t,reportData:r})},e_e=e=>Number(e).toString()===e,t_e=(e,t)=>t.reduce(((t,r)=>(t[r]=e[r],t)),{}),r_e=(e,t)=>t_e(e,Object.keys(e).filter((e=>!t.includes(e)))),n_e=e=>e&&"object"==typeof e&&!Array.isArray(e);function i_e(e,...t){if(!t.length)return e;var r=t.shift();if(n_e(e)&&n_e(r))for(var n of Object.keys(r))n_e(r[n])?(e[n]||Object.assign(e,{[n]:{}}),i_e(e[n],r[n])):Object.assign(e,{[n]:r[n]});return i_e(e,...t)}var a_e=e=>{for(var t=new Set,r=e;r;){for(var n of Object.getOwnPropertyNames(r))t.add(n);r=Object.getPrototypeOf(r)}return[...t]},o_e=(e,t,r)=>{for(var n="string"==typeof t?t.split("."):t,i=e,a=0;i&&a<n.length;)i=i[n[a]],a+=1;return i||r},s_e=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...s_e(t)):e.push(t),e)),[]),l_e=e=>JSON.parse(JSON.stringify(e)),c_e=e=>Object.keys(e),u_e=e=>{Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var r;try{r=e[t]}catch(e){}"object"!=typeof r&&"function"!=typeof r||Object.isFrozen(r)||u_e(r)}))},d_e="TIMEOUT_REJECT",p_e=(e,t)=>Promise.race([e,new Promise(((e,r)=>{setTimeout((()=>{r(d_e)}),t)}))]),h_e=e=>Object.keys(e).reduce(((t,r)=>({...t,...null==e[r]?{}:{[r]:e[r]}})),{}),f_e={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:Se,isWaGame:!0,isApp:!1,isIOS:Ie,isAndroid:ke,isWindows:Pe,isMac:Ae,isPC:Te,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:"",safeArea:{}},g_e={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""},v_e=()=>{},m_e=()=>v_e(),y_e=()=>new Promise((e=>{v_e=e})),b_e=()=>new Promise((e=>{Cbe((t=>{f_e.oaid=t,e()}))})),__e=()=>new Promise((e=>{kbe().then((({imei:t,oaid:r,commonid:n})=>{Ie?f_e.idfa=t:ke&&(f_e.oaid=r,f_e.imei=t),f_e.common_device_id=n||"{}",e(),y_e().then((()=>{Zbe(Ive)}))})).catch((t=>{e(),y_e().then((()=>{Zbe(Cve,t)}))}))})),w_e=()=>new Promise((e=>{re.onReady((()=>{var t;f_e.startTime=new Date,f_e.deviceOrientation=Pbe()||"",f_e.envVersion=re.envVersion;var r=JS(),n=XS(),i=ww();f_e.safeArea=i.safeArea||re.safeArea||{},f_e.screenWidth=n.screenWidth||0,f_e.screenHeight=n.screenHeight||0,f_e.systemVersion=r.system,f_e.wechatVersion=r.version,f_e.SDKVersion=r.SDKVersion,f_e.brand=r.brand,f_e.model=r.model,f_e.isIPad=null===(t=r.model)||void 0===t?void 0:t.includes("iPad"),f_e.isWaGame=Ue(),f_e.isApp=ze();try{f_e.gameAppId=re.accountInfo.appId,f_e.SDKVersionTime=a.updateTime}catch(e){}Promise.all([b_e(),__e()]).then((()=>e(f_e)))}))})),S_e=w_e(),C_e=e=>{var t=Object.keys(e);for(var r of t)f_e[r]=e[r]};g.onLoad((()=>{f_e.startTime=new Date,g_e.enterForegroundTime=new Date}));var k_e=()=>t_e(f_e,["oaid","imei","idfa","common_device_id"]),I_e=()=>{var e=ww();return f_e.screenWidth=e.screenWidth,f_e.screenHeight=e.screenHeight,f_e.deviceOrientation=f_e.screenWidth>f_e.screenHeight?"landscape":"portrait",f_e.deviceOrientation};KC((({scene:e})=>{g_e.enterForegroundTime=new Date,g_e.currentScene=e})),sk((()=>{g_e.gameDuration+=Date.now()-g_e.enterForegroundTime.getTime()}));var P_e={16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],33455:[{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"string",key:"instance_id",value:""}]},A_e=e=>{var t=P_e[e.toString()];return t?t.concat([]):[]},x_e=e=>[33455].includes(Number(e)),T_e=e=>e.map((e=>String(e.value).replace(/,/g,";"))).join(","),E_e=()=>{var e=XS();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":re.deviceOrientation&&/^landscape/.test(re.deviceOrientation)?"landscape":re.deviceOrientation||"portrait"},M_e="",R_e=Se,O_e="",D_e="",L_e="",N_e="",B_e="",$_e="",j_e=!0,F_e="",W_e="";re.onReady((()=>{M_e=E_e()||"";var e=JS();O_e=e.system,D_e=e.version,L_e=e.SDKVersion,B_e=e.model,$_e=e.brand,j_e=Ue();try{W_e=re.accountInfo.appId,N_e=a.updateTime}catch(e){}}));var U_e=({key:e,id:t})=>{var r=t,n=e;"object"==typeof n&&(!r&&(r=n.idKeyGroup),n=n.idKey),0===n&&(n="0"),T.reportIDKeyDirectly({id:r||924,key:n,force:!0})},V_e=({key:e,id:t,extInfo:r,reportData:n})=>{var i=e,a=t,o=r,s=n;if("object"==typeof i&&(!a&&(a=i.idKeyGroup),i=i.idKey),0===i&&(i="0"),s=s||{},o&&"string"!=typeof o)try{o=JSON.stringify(o)}catch(e){o=o.toString()}var l=16295;try{var c,u;1===Number(null==re||null===(c=re.expt)||void 0===c||null===(u=c.clicfg_miniprogram_adreport_use_kv)||void 0===u?void 0:u.value)&&(l=33455)}catch(e){}return q_e(l,{id_key:i,id_key_group:a||924,report_time:+new Date,ad_pos_type:s.ad_pos_type||0,source_url:s.source_url||"",expand_feild:s.reportAdData||"",expand_feild2:o,aid:s.aid||0,traceid:s.traceid||"",ad_unit_id:s.ad_unit_id,slotid:s.slotid||0,publisher_appid:s.publisher_appid||""})},q_e=(e,t)=>{var r=t,n=A_e(e);if(n&&0!==n.length)return r=Object.assign({publisher_appid:W_e,appid:W_e,orig_weapp_id:"",network_type:F_e,wechat_version:D_e,platform:R_e,system_version:O_e,device_orientation:M_e,wxapp_lib_version:L_e,wxapp_lib_time:N_e,machine_type:B_e,ad_platform:j_e?1:0},r),r=Object.assign({DeviceModel:B_e,DeviceBrand:$_e,OsName:R_e,OsVersion:O_e},r),n=n.map((e=>({type:e.type,value:(r[e.key]||e.value).toString()}))),x_e(e)?T.reportKeyValue({key:e,value:T_e(n),number:!0,immediately:!0}):Bbe({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:n}}}).catch((e=>{}))},z_e=(e,t,r)=>{U_e({key:e}),V_e({key:e,extInfo:t,reportData:r})},G_e=_S(),H_e={COMMON:924,SPLASHAD:1288,CUSTOMAD:1390,CPSSHOPAD:1764,REWARDEDVIDEO:1963,COMMON2:2009},K_e=null,J_e={GAME_BANNER:1,WEAPP_BANNER:2,WEAPP_VIDEO:4},X_e="ffffffff3x",Y_e=100,Q_e=(e,t)=>({idKey:e,idKeyGroup:t}),Z_e=e=>Q_e(e,H_e.COMMON),ewe=Z_e(142),twe=Z_e(141),rwe=Z_e(140),nwe=Z_e(145),iwe=Z_e(146),awe=Z_e(144),owe=Z_e(143),swe=1,lwe={},cwe=1,uwe=1,dwe="aiad",pwe={banner:"8040321819858439",rewardedVideoAd:"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885",cpsShopAd:"4021337766924141",wxpayBottom:"1024740886829562",wxpayCard:"8054749846134397",aiadCustom:"4071202390577885",aiadBanner:"8040321819858439"},hwe={},fwe="ffffffff3x",gwe=[],vwe={},mwe="pages/index/index",ywe="/homeIntersitialCache.txt",bwe="wxfile://ad",_we=(e={})=>{e.lastModifyTime=Date.now();var t=()=>{G_e.writeFile({filePath:bwe+ywe,encoding:"utf8",data:JSON.stringify(e)})};G_e.access({path:bwe,success:()=>{t()},fail:()=>{G_e.makeDir({dirPath:bwe,success:()=>{t()}})}})},wwe=()=>{var e,t,r=null,n=Number(null!==(e=null===(t=re.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_android_aiad_interstitial_cache_time)&&void 0!==e?e:0);try{var i=G_e.readFileSync(bwe+ywe,"utf8"),a=JSON.parse(i);Date.now()-a.lastModifyTime<n&&(delete a.lastModifyTime,r=a)}catch(e){}return r},Swe=()=>{var e,t,r,n,i=[];if((null==re||null===(e=re.expt)||void 0===e||null===(t=e.clicfg_miniprogram_operatewxdata_use_quic)||void 0===t?void 0:t.groupid)>0){var a,o=null==re||null===(a=re.expt)||void 0===a?void 0:a.clicfg_miniprogram_operatewxdata_use_quic;i.push({exptid:o.exptid,groupid:o.groupid,name:o.name,value:o.value})}if((null==re||null===(r=re.expt)||void 0===r||null===(n=r.clicfg_miniprogram_adreport_use_kv)||void 0===n?void 0:n.groupid)>0){var s,l=null==re||null===(s=re.expt)||void 0===s?void 0:s.clicfg_miniprogram_adreport_use_kv;i.push({exptid:l.exptid,groupid:l.groupid,name:l.name,value:l.value})}return i},Cwe=(e,t,r=!1)=>{if(r)if("banner"===e){for(var n in Owe)if(n.startsWith("banner-aiad"))return n;for(var i of Rwe)if(i.startsWith("banner-aiad"))return i}else if("custom"===e){for(var a in Owe)if(a.startsWith(`custom-aiad-${t}`))return a;for(var o of Rwe)if(o.startsWith(`custom-aiad-${t}`))return o}return e+"-"+dwe+(t?`-${t}`:"")},kwe=e=>t=>Mwe(t,e),Iwe=kwe(null),Pwe=kwe({ignoreCheck:!0}),Awe,xwe=e=>{Awe=e},Twe=e=>{if(!0===e&&(e=O.getCurrentRoutePathWithoutQuery()),e||Awe){if(e.endsWith(".html")&&(e=e.slice(0,-5)),!Xwe())return void 0!==Jwe(!0)&&y.info(`[aiad info] ad is preloaded path: ${O.getCurrentRoutePathWithoutQuery()}`),Pwe([{type:"interstitial",mode:"aiad",pullPath:e}]);y.info(`[aiad info] ad is preloading... path: ${O.getCurrentRoutePathWithoutQuery()}`)}else console.error("error: preload aiad interstitial no exist correct path")},Ewe=kwe({pathSlotIndex:1,ignoreCheck:!0}),Mwe=(e,t)=>{var r;null!=t&&t.ignoreCheck&&(r=t.ignoreCheck);var n,i="";if(null!=t&&t.pluginId&&(i=t.pluginId),null!=t&&t.pathSlotIndex&&(n=t.pathSlotIndex),Array.isArray(e)||r||n){for(var a of e)["banner","video"].includes(a.type)&&(a.subType=a.type,a.type="custom",a.migrateCustom=!0);for(var o=0,s=e.length;o<s;o++){var l=e[o],{unitId:c,type:u}=l;if(r||-1!==["banner","custom","videoPatch","video"].indexOf(u)){if(c){if(-1!==gwe.indexOf(c)){console.warn(`preloadAd已预加载过${c}这个广告单元,请勿重复调用`);continue}gwe.push(c),vwe[c]={...l,pluginId:i}}else if(!c&&!r&&!n){console.warn(`preloadAd item:${o} lose unitId`);continue}var d=void 0,p=void 0;r?("custom"===l.type?(p=l.adTemplId,l.realTemplId&&(d=l.realTemplId),l.migrateCustom&&(p=l.migrateBannerAdTemplId)):p=l.adTemplId,"interstitial"===l.type&&"aiad"===l.mode?Bwe(l,{saveKey:"interstitial"===l.type&&"aiad"===l.mode?`${dwe}-${l.pullPath}`:uwe++,type:l.type,mode:l.mode,pathSlotIndex:Y_e,preloadPath:l.pullPath}):Bwe(l,Object.assign({},t,{saveKey:n?dwe:uwe++,type:l.type,mode:l.mode,adTemplId:p,realTemplId:d}))):Bwe(vwe[c])}else console.warn("wx.preloadAd参数有误，请检查type类型")}}else console.warn("preloadAd参数应为数组")},Rwe=new Set,Owe={},Dwe=["interstitial"],Lwe=(e,t)=>new Promise((r=>{var n=Date.now();SI({url:t.video_info.videoUrl,success(i){r(i.tempFilePath),z_e(nwe,{type:e.type,url:t.video_info.videoUrl,costtime:Date.now()-n},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})},fail(){r(""),z_e(iwe,{type:e.type,url:t.video_info.videoUrl},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})}})})),Nwe=function(){var e=xd()((function*(e,t,r,n){var i,a;try{var{data:o}=t;if(!(o.advertisement_num>=1&&o.advertisement_info.length))return void z_e(twe,r===dwe?{errCode:o.ret,errMsg:"no advertisement",type:r}:{errCode:o.ret,errMsg:"no advertisement",type:e.type},{ad_unit_id:e.unitId});var s,l,c=o.advertisement_info[0];if(i=c.aid,a=c.traceid,null!==(s=c.video_info)&&void 0!==s&&s.videoUrl&&""===e.pluginId){var u=yield Lwe(e,c);u&&(c.video_info.preloadUrl=u)}z_e(ewe,r===dwe?{type:r}:{type:e.type},{ad_unit_id:e.unitId,aid:c.aid,traceid:c.traceid}),"aiad"!==(null==n?void 0:n.mode)&&"interstitial"===(null==n?void 0:n.type)?l="interstitial-"+r:(l=r?Cwe(e.type,n.adTemplId):e.unitId,"aiad"===(null==n?void 0:n.mode)&&"interstitial"===(null==n?void 0:n.type)&&(l+="-"+cwe++)),"aiad"===(null==n?void 0:n.mode)&&"interstitial"===(null==n?void 0:n.type)&&(lwe[l]={use:!1,path:null==n?void 0:n.preloadPath}),Owe[l]={data:JSON.stringify(o),_preloadTime:+new Date,_aid:i,_traceid:a,adTemplId:null==n?void 0:n.adTemplId,preloadPath:null==n?void 0:n.preloadPath}}catch(t){z_e(twe,{errMsg:"advertisement error",error:t instanceof Error?null==t?void 0:t.stack:t,type:e.type},{ad_unit_id:e.unitId})}}));return function(t,r,n,i){return e.apply(this,arguments)}}(),Bwe=(e,t)=>{var r,n=!!t;if(r="interstitial"===(null==t?void 0:t.type)&&"aiad"===(null==t?void 0:t.mode)?t.saveKey:n?Cwe(t.type,t.adTemplId):e.unitId,!Rwe.has(r)){var i=!1;if("interstitial"===(null==t?void 0:t.type)&&"aiad"===(null==t?void 0:t.mode)&&(i=!0),Rwe.add(r),i){var a=t.preloadPath;Kwe[a]={status:1}}return hwe[r]=new Promise(((a,o)=>{qwe(e,n,t).then((o=>{Nwe(e,o,n?t.saveKey:void 0,t).then((()=>{Rwe.delete(r),delete hwe[r],a(),i&&(Kwe[t.preloadPath].status=0),e.pullPath===mwe&&Cf("enableCacheAiadInterstitial")&&_we(Owe["interstitial-aiad-1"])}))})).catch((e=>{y.warn("preloadAdData fetch error: ",e),Rwe.delete(r),delete hwe[r],o(e),i&&(Kwe[t.preloadPath].status=0)}))})),hwe[r]}},$we=!1,jwe=[];try{var Fwe=e=>{$we=!0,jwe.forEach((t=>t(e))),jwe=[],OC(Fwe)};RC(Fwe)}catch{}var Wwe=null,Uwe=e=>{var t=Fhe();t?null==e||e(t):($we?(Wwe&&clearTimeout(Wwe),Wwe=setTimeout((()=>{fr("videoAdPreloadInfo",{},[g_e.currentWebviewId])}),0)):jwe.push((({webviewId:e})=>{fr("videoAdPreloadInfo",{},[e||0])})),jhe(e))},Vwe=e=>{var{data:t}=e,{ad_unit_id:r,appid:n,orig_weapp_id:i,weapp_extra_data:a,pos_id:o,sdkInnerArgs:s={}}=t,l=s.aiadId;try{var{type:c,pluginId:u}=vwe[r];if(n&&i){if(n!==u)throw new Error("appid Error From plugin");if(i!==f_e.gameAppId)throw new Error("orig_weapp_id Error From plugin")}else{if(n!==f_e.gameAppId)throw new Error("appid Error");if(i)throw new Error("orig_weapp_id Error")}var d=JSON.parse(a);if(d.is_ad_interval)throw new Error("is_ad_interval Error");if(d.wxa_ext)throw new Error("wxa_ext Error");if("banner"===c&&-1===[pwe.banner,void 0,""].indexOf(o))throw new Error("pos_id Error");if("custom"===c&&o!==pwe.customAd)throw new Error("pos_id Error");if("videoPatch"===c&&o!==pwe.wxAppPreVideoAd)throw new Error("pos_id Error");if("video"===c&&o!==pwe.wxAppVideo)throw new Error("pos_id Error")}catch(t){var p,h;if(!l)return null===(p=e.fail)||void 0===p||p.call(e,{errMsg:"getAdData: fail invalid aiad"}),void z_e(awe,{type:null===(h=vwe[r])||void 0===h?void 0:h.type,error:t instanceof Error?t.message:t},{ad_unit_id:r})}var f=Cwe("custom",s.adTemplId,!0),g=Cwe("banner",void 0,!0);if(Owe[r]){var v,m,b,_;if(Date.now()-Owe[r]._preloadTime>6e5)null===(v=e.fail)||void 0===v||v.call(e,{errMsg:"getAdData: fail timeout"}),z_e(awe,{type:null===(m=vwe[r])||void 0===m?void 0:m.type,error:"time more than 10m"},{ad_unit_id:r});else null===(b=e.success)||void 0===b||b.call(e,{data:Owe[r],errMsg:"getAdData: ok from preload"}),z_e(owe,{type:null===(_=vwe[r])||void 0===_?void 0:_.type},{ad_unit_id:r,aid:Owe[r]._aid,traceid:Owe[r]._traceid});delete Owe[r]}else if(l&&1===s.type&&Owe[g]||l&&2===s.type&&Owe[f]){var w=1===s.type?Owe[g]:Owe[f];if(Date.now()-(null==w?void 0:w._preloadTime)>6e5){var S;null===(S=e.fail)||void 0===S||S.call(e,{errMsg:"getAdData: fail timeout"}),z_e(awe,{type:dwe,error:"time more than 10m"},{ad_unit_id:r})}else{var C,k=1===s.type?Owe[g]:Owe[f];k.isValidPreload=1,y.info("[aiad info] pull ad from preload"),null===(C=e.success)||void 0===C||C.call(e,{data:k,errMsg:"getAdData: ok from preload"}),z_e(owe,{type:dwe},{ad_unit_id:r,aid:k._aid,traceid:k._traceid})}1===s.type&&Owe[g]&&delete Owe[g],2===s.type&&Owe[f]&&delete Owe[f]}else{var I,P,A;if(l&&2===s.type&&Rwe.has(f)||l&&1===s.type&&Rwe.has(g))I=1===s.type?g:f,hwe[I].then((()=>{var t,r,n=Owe[I];n?(y.info("[aiad info] pull ad from preload"),null===(t=e.success)||void 0===t||t.call(e,{data:n,errMsg:"getAdData: ok from preload",preloadStatus:2})):null===(r=e.fail)||void 0===r||r.call(e,{errMsg:"getAdData: fail fetch error"})}));else null===(P=e.fail)||void 0===P||P.call(e,{errMsg:"getAdData: fail no preload data"}),z_e(awe,{type:null===(A=vwe[r])||void 0===A?void 0:A.type,error:"has no preload data"},{ad_unit_id:r})}-1===gwe.indexOf(r)||Rwe.has(r)||setTimeout((()=>{Bwe(vwe[r])}),1e3)},qwe=(e,t=!1,r=void 0)=>new Promise(((n,i)=>{var a;(a=null!=r&&r.pathSlotIndex?(null==r?void 0:r.preloadPath)||O.getCurrentRoutePathWithoutQuery():(null==r?void 0:r.preloadPath)||g_e.weappPath).endsWith(".html")&&(a=a.slice(0,-5)),Uwe((o=>{var s,l,c,u,d={pos_id:"",ad_unit_id:e.unitId,scene_type:o.scene_type,weapp_path:a,user_agent:o.ua,sdk_version:f_e.SDKVersion,weapp_extra_data:JSON.stringify({wxa_start_ts:f_e.startTime.valueOf(),wxa_enter_ts:g_e.enterForegroundTime.valueOf(),start_ts:f_e.startTime.valueOf(),enter_ts:g_e.enterForegroundTime.valueOf(),user_duration:g_e.gameDuration+(Date.now()-g_e.enterForegroundTime.getTime()),machine_type:f_e.model,is_ad_interval:!1,wxa_ext:"",env:null===(s=re.host)||void 0===s?void 0:s.env,app_appid:null===(l=re.host)||void 0===l?void 0:l.appId,host_version:null===(c=re.host)||void 0===c?void 0:c.version,local_wechat_version:null===(u=re.host)||void 0===u?void 0:u.localWeChatVersion,wxa_fetch_ads_ts:Date.now()}),ext_slot_custom_comm:""};e.pluginId?(d.appid=e.pluginId,d.orig_weapp_id=f_e.gameAppId):(d.appid=f_e.gameAppId,d.orig_weapp_id="");var p={is_ad_preload:1};if("custom"===e.type?(d.pos_id=pwe.customAd,p.is_adunit_tmpl=!0):"banner"===e.type?(d.pos_id=pwe.banner,Number(e.adIntervals)>0&&(p.refresh_time=String(e.adIntervals))):"videoPatch"===e.type?d.pos_id=pwe.wxAppPreVideoAd:"video"===e.type?d.pos_id=pwe.wxAppVideo:"wxpay"===e.type&&(e.hasWxPayCustomCard?d.pos_id=`${pwe.wxpayBottom}`:d.pos_id=`${pwe.wxpayBottom}|${pwe.wxpayCard}`,d.ad_unit_id=""),e.subType)if("skitBottom"===e.subType)p.is_skit=1,p.skit_ad_type=1002;else if("skitFeeds"===e.subType)p.is_skit=1,p.skit_ad_type=1001;else if(["banner","video"].includes(e.subType)){var h;"banner"===e.subType?h=J_e.WEAPP_BANNER:"video"===e.subType&&(h=J_e.WEAPP_VIDEO),p.ad_raw_type=h}if(Fe()&&(p.in_3rd_app=1),p.machine_brand=f_e.brand||(null==re?void 0:re.brand),t&&(d.ad_unit_id=void 0,d.pos_id=pwe.interstitialAd,p.request_type=1),null!=r&&r.pathSlotIndex){if(d.ad_unit_id=fwe,"interstitial"===e.type);else if("custom"===e.type){d.pos_id=pwe.aiadCustom;var f=r.adTemplId;r.realTemplId&&(f=r.realTemplId),p.ad_templ_id=f}else d.pos_id=pwe.aiadBanner;p.path_slot_index=r.pathSlotIndex}var g=Swe();g&&g.length&&(p.weapp_expt_ctx=g),d.ext_slot_custom_comm=JSON.stringify(p),TE({sdkApiName:"webapi_getadvert",apiName:"webapi_getadvert",reqData:d,success:e=>{n(e)},fail:t=>{y.warn("webapi_getadvert err: ",t),z_e(rwe,{error:t,type:e.type},{ad_unit_id:e.unitId,slotid:d.pos_id}),i(t)},complete:()=>{}})}))})),zwe=()=>{var e={};return Object.keys(Owe).forEach((t=>{"string"!=typeof t||Dwe.includes(t)||(e[t]=Owe[t])})),Object.keys(e).forEach((e=>{delete Owe[e]})),e},Gwe=(e=!1)=>{var t=[];if(e){var r=wwe(),n=O.getCurrentRoutePathWithoutQuery();if(r&&n===mwe&&Cf("enableCacheAiadInterstitial"))t.push(r);else{var i=Object.keys(lwe),a=!1;for(var o of i){var s=lwe[o],l=O.getCurrentRoutePathWithoutQuery();if(l.endsWith(".html")&&(l=l.slice(0,-5)),s.path===l&&!s.use){a=o;break}}if(a)delete lwe[a];else{var c=Object.keys(lwe),u=!1;for(var d of c){var p=lwe[d],h=O.getCurrentRoutePathWithoutQuery();if(p.path===h&&!p.use){u=d;break}}u?delete lwe[u]:u=c[0],Owe[u]&&(t.push(Owe[u]),delete Owe[u])}}}else for(var f=1;f<=uwe;f++){var g="interstitial-"+f;t.push(Owe[g]),delete Owe[g]}return t},Hwe=()=>gwe,Kwe={},Jwe=(e=!1)=>{var t=O.getCurrentRoutePathWithoutQuery();return t.endsWith(".html")&&(t=t.slice(0,-5)),Kwe[t]?Kwe[t].status:e?void 0:0},Xwe=()=>{var e=O.getCurrentRoutePathWithoutQuery();return e.endsWith(".html")&&(e=e.slice(0,-5)),hwe[`${dwe}-${e}`]},Ywe=()=>{try{if(Ue())return"";var e=Cf("aiadEnablePreviewInterstitialAd"),t="";return(t=O.getCurrentRoutePathWithoutQuery()).endsWith(".html")&&e&&(t=t.slice(0,-5)),t}catch(e){}},Qwe,Zwe,eSe,tSe={},rSe=(e={})=>{var{eventid:t,src:r,ended:n,reason:i=""}=e;if(!Qwe){var a,o,s,l=null==re||null===(a=re.appContactInfo)||void 0===a||null===(o=a.operationInfo)||void 0===o||null===(s=o.jsonInfo)||void 0===s?void 0:s.vod_config;null!=l&&l.domain_pattern&&null!=l&&l.trace_secret&&(Qwe=new RegExp(null==l?void 0:l.domain_pattern))}if(Qwe&&Qwe.test(r)){var c,u=parseInt(Date.now()/1e3,10);if(1===Zwe&&1===t&&r===eSe)return;Zwe=t,eSe=r;var d=uu.rawPath.indexOf("?"),p=0;tSe[r]&&(p=u-tSe[r]),n?delete tSe[r]:tSe[r]=u;var h=JS(),f={eventid:t,src:r,play_time:p,appversion:null==re||null===(c=re.appContactInfo)||void 0===c?void 0:c.user_version,app_timestamp:u,scene_note:uu.sceneNote,page_path:uu.lastRoute,query:d>=0?uu.rawPath.slice(d):"",networktype:My(),publiclib_version:Du(),session_id:Qh().sessionId||Qh().sessionid,reason:i,osname:h.platform||"",osversion:h.system||"",devicemodel:h.model||"",devicebrand:h.brand||""};TE({apiName:"webapi_wxa_dramaplayreport",sdkApiName:"shortTVReport",reqData:f,success:e=>{},fail:e=>{}})}},nSe=(e={})=>{var t,r=uu.rawPath.indexOf("?"),n=JS(),i={eventid:4,src:e.src,play_time:0,appversion:null==re||null===(t=re.appContactInfo)||void 0===t?void 0:t.user_version,app_timestamp:parseInt(Date.now()/1e3,10),scene_note:uu.sceneNote,page_path:uu.lastRoute,query:r>=0?uu.rawPath.slice(r):"",networktype:My(),publiclib_version:Du(),session_id:Qh().sessionId||Qh().sessionid,reason:"",osname:n.platform||"",osversion:n.system||"",devicemodel:n.model||"",devicebrand:n.brand||""};TE({apiName:"webapi_wxa_dramaplayreport",sdkApiName:"shortTVReport",reqData:i,fail:e=>{}})},iSe=new Map,aSe=new Map,oSe=(e,t)=>(!Array.isArray(t.apptype_black)||!t.apptype_black.includes(e))&&(Array.isArray(t.apptype_white)&&t.apptype_white.includes(e),!0);re.onReady((e=>{var t=e.appType;Qk().then((e=>{var r,n,i=null===(r=e.data)||void 0===r?void 0:r.func_ban_conf;if(i){var{api_list:a=[]}=i;for(var o of a)oSe(t,o)&&iSe.set(o.wxapi,o)}var s=null===(n=e.data)||void 0===n?void 0:n.func_warning_conf;if(s){var{frame_api_list:l=[]}=s;for(var c of l)c.frame_api&&(aSe.set(c.frame_api,c),"App.onLaunch"===c.frame_api&&sSe({api:c.frame_api,args:c}))}}))}));var sSe=e=>{var t=iSe.get(e.api),r=aSe.get(e.api),n=e.pluginId;if(n&&"/"!==n&&"*"!==n&&(t||r)){var i=t||r,a=null==i?void 0:i.white_plugin_appid;if(a&&(a.indexOf(n)>=0||a.indexOf("*")>=0))return[!1]}if(!t){if(r){switch(r.ban_type){case 1:if(!r.modal_act)break;var{title:o,content:s,confirm_text:l="确定"}=r.modal_act;RW({title:o,content:s,confirmText:l},!0);break;case 2:if(!r.toast_act)break;var{title:c,icon:u,duration:d,mask:p}=r.toast_act;WW({title:c,icon:u,duration:d,mask:p});break;case 4:if(!r.banner_act)break;cSe(r)}return uSe(2,r),[!1]}return[!1]}switch(t.ban_type){case 1:if(!t.modal_act)break;var{title:h,content:f,confirm_text:g="确定"}=t.modal_act;RW({title:h,content:f,confirmText:g},!0);break;case 2:if(!t.toast_act)break;var{title:v,icon:m,duration:y,mask:b}=t.toast_act;WW({title:v,icon:m,duration:y,mask:b});break;case 4:if(!t.banner_act)break;cSe(t)}return uSe(1,t),[!0,"banned"]},lSe;function cSe(e){var t=e.banner_act;if(t){lSe&&(lSe.close(),lSe=null);var{content:r,background_color:n,foreground_color:i,detail_type:a,detail_url:o,detail_appid:s,detail_path:l}=t;iP(),__sclEngine__.initScl((t=>{(lSe=t.mainRoot.append("banner-toast",{content:r,backgroundColor:n,foregroundColor:i,hideVisitText:0===a})).addListener("tapToast",(()=>{if(1===a)o&&jq({url:o});else if(2===a&&s){var e={appId:s,path:l,noRelaunchIfPathUnchanged:!0};fne(e,e)}})),lSe.addListener("tapClose",(()=>{uSe(3,e)}))}))}}function uSe(e,t){var r={session_id:Qh().sessionId||Qh().sessionid,cur_path:uu.rawPath||"",event_id:e,item_id:t.item_id||"",extra_info:{ban_item:t}};TE({sdkApiName:"webapi_wxaseceventreport",apiName:"webapi_wxaseceventreport",reqData:r})}function dSe(e){uSe(e.eventId,e.banItem)}function pSe(e,t,r){var n=sSe({api:e,args:r,pluginId:t});return null==n?void 0:n[0]}RC((e=>{lSe&&"appLaunch"!==e.openType&&"autoReLaunch"!==e.openType&&setTimeout((()=>{lSe&&(lSe.close(),lSe=null)}),1e4)}));var hSe={setPrivateExtraData:Rh,getCurrentRoute:Kpe,getCurrentPagesPath:Jpe,getRealRouteWithProtocol:Xpe,videoFullScreenChange:ehe,setWxInterfaceDisabled:hR,navigateTo:BM,navigateToWithRelatedInfo:$M,redirectTo:jM,switchTab:WM,navigateBack:EM,reLaunch:FM,getUserCloudStorage:nhe,getFriendCloudStorage:ahe,getGroupCloudStorage:she,reportRecycledAPI:Jre,getPassCookieString:Ak,getPayCookieString:xk,getPluginInfo:Gh,getPluginContactList:zre,_checkBeforeNavigateToMiniProgram:Ene,getVideoAdPreloadData:dfe,getAdPreloadData:Vwe,getPayAd:(...e)=>ADSDK.getPayAd(...e),shareImageMessage:hfe,getCloudFileInfo:X0,setNavigateBackInterceptionById:DV,stopNavigateBackInterceptionById:NV,checkPermission:kf,_setWxIsInvokeInTapForNavToMiniProgramForWebview:oj,chooseAvatar:Rfe,showNicknameAccessory:Hfe,hideNicknameAccessory:Kfe,getCurrentWebviewId(e){"function"==typeof e.success&&e.success({webviewId:uu.currentWebviewId})},reviewNickname:Qfe,_getABTestConfig:Tf,validPrivacyEmergencyScope:h2,handleCheckPrivacy:t9,handleInvokePayCompletedPageServiceMethod:tte,getVehicleStatus:n6,_requestSkipCheckDomain:mE,showInterceptToast:e=>$W(e,!0),showInterceptModal:e=>RW(e,!0),getPhoneNumber:lge,reportGetPhoneNumber:ege,consumerGetPhoneNumberForOldStyle:ige,handleErrorForUser:CL,pxReport:e=>{var t,r={...e};delete r.success,delete r.fail,null===(t=i8.onReport)||void 0===t||t.call(i8,r),qN()},triggerCanvasCollect:g7,privacyButton:R1,getShortTVRegisterNo:Zk,shortTVReport:rSe,videoBannedReport:nSe,reportIntercept:dSe,invokeServiceOperateWXData:RE,invokeServiceAdReportOperateWXData:$be,getSystemInfo:Pw},fSe=u.prototype.call.bind(String.prototype.startsWith),gSe=(e,t,r,n,i)=>{try{if("bridge"===t)fn(e,r,(t=>{t.errMsg=t.errMsg||`${e}:ok`,-1!==t.errMsg.indexOf(`${e}:ok`)?("exitMiniProgram"===e&&$ee(),i(t,!0)):i(t,!1)}));else{r.success=e=>{i(e,!0)},r.fail=e=>{i(e,!1)};var a=(()=>{if("wx"===t){if("string"==typeof n&&fSe(n,"wx"))return Vh(n)[e](r);var{wx:i}=ojt;return i[e](r)}return hSe[e](r)})();a instanceof Promise&&a.catch((()=>{}))}}catch(t){var o={errMsg:`${e}: fail ${t.message}`};i(o,!1)}};en("invokeAppServiceMethod",(({name:e,type:t,args:r,callbackId:n,pluginId:i},a)=>{gSe(e,t,r,i,((e,t)=>{Kr("callbackAppServiceMethod",{res:e,isSuccess:t,callbackId:n},[a])}))})),qt("onStartReportPageData",(()=>{var e=(void 0!==br?br.getCurrentPagesByDomain(""):[]).find((e=>e.__wxWebviewId__===uu.currentWebviewId));e&&WC("getInnerHTML",{},[uu.currentWebviewId],(({html:t})=>{var r;try{r=JSON.stringify({html:t,data:e.data})}catch(e){r=""}md("reportPageData",{isUserReport:!0,pageData:r,pageRoute:e.__route__,complete(){}})}))}));var vSe="getLocation",mSe=(e={},t={},r)=>{var n=bd(r);p2(["scope.userLocation"])&&(n=Pd(r),e.permissionBytes=[1,1,1]),n(vSe,e,Object.assign({beforeSuccess(t){e.altitude||delete t.altitude}},t))},ySe=1e4,bSe={wgs84:0,gcj02:0},_Se={wgs84:null,gcj02:null},wSe=!1,SSe=0,CSe=[],kSe=function(e={}){"gcj02"!==e.type&&(e.type="wgs84");var t=z8(e.type);if(t)setTimeout((()=>sd(G8(t,e),vSe,e,{})),100);else{var r=Date.now(),n=_Se[e.type],i=bSe[e.type];if(wSe&&r-SSe<ySe)CSe.push(e);else{if(r-i>=ySe||!n){var a=Wh(this);return wSe=!0,SSe=Date.now(),void mSe(e,{afterSuccess(t){bSe[e.type]=r,_Se[e.type]=t},afterAll(){wSe=!1;var e=CSe;CSe=[],e.forEach((e=>kSe(e)))}},a)}Hc({name:"getLocation",success:n.errMsg&&0===n.errMsg.indexOf("getLocation:ok"),args:e,errMsg:n.errMsg,res:n})}}},ISe=function(e={}){var t=bd(Wh(this));console.error("chooseLocation",e),t("chooseLocation",e),Oe&&JK({action:12,data:"chooseLocation"})},PSe=function(e={}){Oe?zc("choosePoi",e,"choosePoi:fail SDK暂不支持此API"):bd(Wh(this))("choosePoi",e,{beforeSuccess(e){Date.now()>=16550496e5&&(e.latitude=0,e.longitude=0)}})},ASe=function(e={}){Vc("openLocation",e,{latitude:1,longitude:1})&&(md("openLocation",e),Oe&&JK({action:12,data:"openLocation"}))},xSe=ir("locationChange"),TSe=xSe.onMethod,ESe=xSe.offMethod,MSe=e=>xSe.emit(e);qt("onLocationChange",((e={})=>{MSe(e)}));var RSe=ir("locationChangeError"),OSe=RSe.onMethod,DSe=RSe.offMethod;qt("onLocationChangeError",((e={})=>{RSe.emit(e)}));var LSe=null,NSe=null,BSe=()=>{clearInterval(LSe),LSe=null},$Se=!1,jSe=()=>{$Se=!0,df((()=>{NSe&&z8()&&(LSe=setInterval(NSe,1e3))})),Gp((()=>{LSe&&BSe()}))},FSe=function(e,t,r,n,i=!1){"wgs84"!==r.type&&(r.type="gcj02"),LSe&&BSe(),NSe=null;var a=z8(r.type);if(!i&&a){sd({},e,r,{});var o=NSe=()=>MSe(G8(a,r));return o(),LSe=setInterval(o,1e3),void($Se||jSe())}var s=bd(Wh(n));p2(["startLocationUpdate"===e?"scope.userLocation":"scope.userLocationBackground"])&&(s=Pd(Wh(n)),r.permissionBytes=[1,1,1]),s(t,r,{beforeAll(r){r.errMsg=r.errMsg.replace(t,e)}})},WSe=function(e){var t={subKey:"",enableIndoor:!1};Object.assign(t,e),FSe("startLocationUpdateBackground","enableLocationUpdateBackground",t,this,!0)},USe=function(e={}){var t={subKey:"",enableIndoor:!1,enable:!0};Object.assign(t,e),FSe("startLocationUpdate","enableLocationUpdate",t,this)},VSe=function(e={}){var t="stopLocationUpdate";if(NSe=null,LSe)return BSe(),sd({},t,e,{});md("disableLocationUpdate",e,{beforeAll(e){e.errMsg=e.errMsg.replace("disableLocationUpdate",t)}})},qSe=18e5,zSe={wgs84:null,gcj02:null},GSe=null,HSe="getFuzzyLocation",KSe=function(e={}){"gcj02"!==e.type&&(e.type="wgs84"),GSe&&Date.now()-GSe>qSe&&(zSe[e.type]=null);var t=zSe[e.type];if(t){var r=t.errMsg&&0===t.errMsg.indexOf(`${HSe}:ok`);Hc({name:HSe,success:r,args:e,errMsg:t.errMsg,res:t})}else{var n={afterSuccess(t){zSe[e.type]=t,GSe=Date.now()}},i=z8(e.type);if(i)setTimeout((()=>sd(G8(i,e),HSe,e,{})),100);else{var a=Wh(this),o=bd(a);p2(["scope.userFuzzyLocation"])&&(o=Pd(a),e.permissionBytes=[1,1,1]),o(HSe,e,n)}}},JSe=()=>{if(!re.ext)return{};try{return JSON.parse(JSON.stringify(re.ext))}catch(e){return{}}},XSe=(e={})=>{setTimeout((()=>{var t={errMsg:"getExtConfig: ok",extConfig:JSe()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}),0)},YSe=null,QSe=null,ZSe=Zc(mE),eCe=Zc(Bf),tCe=Zc(SI),rCe=e=>new Promise((t=>K0(e,"image",(e=>t(e.data[0].url))))),nCe=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),iCe=function(){var e=xd()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function aCe(e){return oCe.apply(this,arguments)}function oCe(){return oCe=xd()((function*(e){var{imageId:t,imageUrl:r}=e,{width:n,height:i}=e;YSe||(YSe=Zc(Zie)),QSe||(QSe=Zc(nae));var a,o=yield rCe([r]);if(!/^http:\/\/(tmp|store|usr)\//.test(o)&&/^(http|https):\/\//.test(o)){var s=yield tCe({url:o});if(404===s.statusCode)return;o=s.tempFilePath}if(/data:image\/\w+;base64,/.test(o)){var l=o.replace(/data:image\/\w+;base64,/,"");a=xv(l)}else{var{tempFilePath:c}=yield YSe({src:o,quality:60,compressedWidth:224,compressHeight:224}),u=yield QSe({src:c});n=u.width,i=u.height;var{data:d}=yield eCe({filePath:c});a=d}yield iCe(xd()((function*(){var e,r=null===(e=re.appLaunchInfo)||void 0===e?void 0:e.openId;yield Promise.race([nCe(4e3,"upload timeout"),ZSe({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&scene=2&custom_str=${t}&width=${n}&height=${i}&openid=${r||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:a})])})),2)})),oCe.apply(this,arguments)}en("appCardsCoverImages",function(){var e=xd()((function*(e){var t=e.coverImageInfos;if(null!=t&&t.length)for(var r of t)try{yield aCe(r)}catch(e){}}));return function(t){return e.apply(this,arguments)}}());var sCe={},lCe={},cCe=(e,t)=>`${e}-${t}`,uCe={},dCe=.99,pCe=.998;function hCe(e,t){return e+"_"+t}function fCe(){return Ie?parseFloat((re.system||"").replace("iOS","")):0}function gCe(){return fCe()>=13}function vCe(e){delete sCe[e],delete lCe[e],delete uCe[e]}function mCe(e,t,r,n=!0){var i=hCe(t,e);if(n&&(void 0===sCe[i]||!0!==sCe[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a={scrollViewId:e,...r},o=sCe[i];return o&&o.fallback?Kr("operateWebviewScrollView",a,[t]):md("operateScrollView",a,{success(){}}),!0}function yCe(e,t,r,n=!0){var i=hCe(t,e);if(sCe[i]&&"skyline"===sCe[i].backend)return!1;if(n&&(void 0===sCe[i]||!0!==sCe[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a={scrollViewId:e,...r};return Kr("operateWebviewScrollView",a,[t]),!0}function bCe(e,t,r,n=!0){var i=hCe(e,t);if(sCe[i]&&"skyline"===sCe[i].backend)return!1;if(n&&(void 0===sCe[i]||!0!==sCe[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a={scrollViewId:t,...r};return Kr("operateXWebScrollView",a,[e]),!0}function _Ce(e,t,r){var n={scrollViewId:t,...r};return Jr("operateSkylineScrollView",n,[e]),!0}en("enhancedScrollViewReady",((e,t)=>{var r=hCe(t,e.scrollViewId);sCe[r]={enhanced:!0,fallback:e.fallback}})),en("commonScrollViewReady",((e,t)=>{var r=hCe(t,e.scrollViewId);sCe[r]||(sCe[r]={enhanced:!1,backend:e.backend||"webview"});var n=lCe[r];n&&"function"==typeof n&&(n(),delete lCe[r]),XM(t,(()=>{vCe(r)}),"ScrollViewContext")})),en("commonScrollViewDestroyed",((e,t)=>{vCe(hCe(t,e.scrollViewId))})),en("enhancedScrollViewSubscribeEvent",((e,t)=>{Ie&&!gCe()||(e.subscribe?mCe(e.scrollViewId,t,{registerDelegate:!0}):mCe(e.scrollViewId,t,{removeDelegate:!0}))}));class wCe{constructor(e,t){this.id=e,this.webviewId=t,this._scrollEnabled=!0,this._bounces=!0,this._showScrollbar=!0,this._pagingEnabled=!1,this._fastDeceleration=!1,this._decelerationDisabled=!1}holdPosition(){_Ce(this.webviewId,this.id,{method:"holdPosition",args:{}})}triggerRefresh(e){var t,r=ut(e.duration)?e.duration:300,n=null!==(t=e.easingFunction)&&void 0!==t?t:"ease";_Ce(this.webviewId,this.id,{method:"requestRefresherRefresh",args:{open:!0,duration:r,easingFunction:n}})}closeRefresh(){_Ce(this.webviewId,this.id,{method:"requestRefresherRefresh",args:{open:!1,duration:0,easingFunction:""}})}triggerTwoLevel(e){var t,r=ut(e.duration)?e.duration:500,n=null!==(t=e.easingFunction)&&void 0!==t?t:"ease";_Ce(this.webviewId,this.id,{method:"requestRefresherTwoLevel",args:{open:!0,duration:r,easingFunction:n}})}closeTwoLevel(e){var t,r=ut(e.duration)?e.duration:500,n=null!==(t=e.easingFunction)&&void 0!==t?t:"ease";_Ce(this.webviewId,this.id,{method:"requestRefresherTwoLevel",args:{open:!1,duration:r,easingFunction:n}})}_scrollIntoView4Skyline(e,t){_Ce(this.webviewId,this.id,{method:"scrollIntoView",args:{selector:e,scrollIntoViewOptions:t}})}_scrollTo4Skyline(e,t,r,n){void 0===r&&(r=500),_Ce(this.webviewId,this.id,{method:"scrollTo",args:{left:e,top:t,duration:r,animated:n}})}_isSkylineMode(){var e=hCe(this.webviewId,this.id);return!!sCe[e]&&"skyline"===sCe[e].backend}}class SCe extends wCe{constructor(e,t){super(e,t),this.uid=hCe(t,e),void 0!==sCe[e]&&!0===sCe[e].enhanced&&(this.scrollEnabled=!0)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){mCe(this.id,this.webviewId,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){mCe(this.id,this.webviewId,{bounces:e})&&(this._bounces=e)}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){mCe(this.id,this.webviewId,{showsVerticalScrollIndicator:e,showsHorizontalScrollIndicator:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){mCe(this.id,this.webviewId,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){mCe(this.id,this.webviewId,{decelerationRate:e?dCe:pCe})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;if(this._isSkylineMode())this._scrollTo4Skyline(a,o,r,!!i);else if(void 0===r)mCe(this.id,this.webviewId,{"setContentOffset:animated":{animated:!!i,contentOffset:{x:a,y:o}}});else{if(Ie&&!gCe())return;mCe(this.id,this.webviewId,{"setContentOffset:springAnimated":{contentOffset:{x:a,y:o},duration:r/1e3,delay:0,damping:1,velocity:n}})}}get decelerationDisabled(){return this._decelerationDisabled}set decelerationDisabled(e){Ie&&!gCe()||mCe(this.id,this.webviewId,{customDecelerateEnabled:e})&&(this._decelerationDisabled=e)}_onReady(e){var t=sCe[this.uid],r=()=>{"function"==typeof e&&e()};t?r():lCe[this.uid]=()=>{r()}}scrollIntoView(e,t){this._isSkylineMode()?this._scrollIntoView4Skyline(e,t):yCe(this.id,this.webviewId,{scrollIntoView:e},!1)}}class CCe extends wCe{constructor(e,t){super(e,t),this.uid=hCe(t,e)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){bCe(this.webviewId,this.id,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){bCe(this.webviewId,this.id,{showScrollbar:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){bCe(this.webviewId,this.id,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){bCe(this.webviewId,this.id,{fastDeceleration:e})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;this._isSkylineMode()?this._scrollTo4Skyline(a,o,r,!!i):bCe(this.webviewId,this.id,{scrollToWithAnimation:{contentOffset:{x:a,y:o},duration:r,animated:i,velocity:n}})}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}_onReady(e){var t=sCe[this.uid],r=()=>{"function"==typeof e&&e()};t?r():lCe[this.uid]=()=>{r()}}scrollIntoView(e,t){this._isSkylineMode()?this._scrollIntoView4Skyline(e,t):bCe(this.webviewId,this.id,{scrollIntoView:e},!1)}}class kCe extends wCe{get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){}scrollTo({top:e,left:t,duration:r,animated:n}={}){var i=void 0!==t?t:0,a=void 0!==e?e:0;this._isSkylineMode()&&this._scrollTo4Skyline(i,a,r,!!n)}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}scrollIntoView(e,t){this._isSkylineMode()?this._scrollIntoView4Skyline(e,t):bCe(this.webviewId,this.id,{scrollIntoView:e},!1)}}function ICe(e){var t=uu.currentWebviewId,r=cCe(t,e);return uCe[r]||(uCe[r]=Ie?new SCe(e,t):ke||Ce||Te?new CCe(e,t):new kCe(e,t)),uCe[r]}var PCe=0,ACe=1,xCe=0,TCe=3;function ECe(e){return{takeSnapshot({type:t,format:r,success:n,fail:i,complete:a}={}){n=x.surroundThirdByTryCatch(n,"at takeSnapshot callback function"),i=x.surroundThirdByTryCatch(i,"at takeSnapshot callback function"),a=x.surroundThirdByTryCatch(a,"at takeSnapshot callback function");var o=PCe,s=TCe;switch(t){case"file":default:o=PCe;break;case"arraybuffer":o=ACe}if("rgba"===r)s=xCe;else s=TCe;e.$$.takeSnapshot(o,s,(e=>{"string"==typeof e?(n({tempFilePath:e}),a({tempFilePath:e})):(n({data:e}),a({data:e}))}),(e=>{i({errMsg:e}),a({errMsg:e})}))}}}function MCe(){return{takeSnapshot({type:e,format:t,success:r,fail:n,complete:i}={}){n=x.surroundThirdByTryCatch(n,"at takeSnapshot callback function"),i=x.surroundThirdByTryCatch(i,"at takeSnapshot callback function");var a={errMsg:"takeSnapshot:fail webview renderer is not supported"};n(a),i(a)}}}function RCe(e){return{scrollTo(t){at(t.size)&&at(t.pixels)?console.warn("DraggableSheetContext.scrollTo parameter must contain size or pixels"):e.scrollTo(t)}}}function OCe(){return{scrollTo(e){console.warn("DraggableSheetContext.scrollTo is not yet supported on webview render mode")}}}function DCe(e){return{operateNativeView:(...t)=>e.operateNativeView(...t),get uniqueId(){return e.getContextId()}}}qt("onNativeViewEvent",((e={},t)=>{Kr("onNativeViewEvent",e,[t])}));var LCe=(e,t,r)=>{if(null!=e)var n=vr.requestViewInfo("selectorQuery",t,e,(t=>{r&&(vr.endViewInfoCallback(e,n),r&&r(t))}));else console.warn("An SelectorQuery call is ignored because no proper page or component is found. Please considering using `SelectorQuery.in` to specify a proper one.")},NCe=(e,t,r,n)=>{if(e)if(Array.isArray(e))e.forEach((e=>NCe(e,t,r,n)));else{var{contextIs:i,contextId:a,contextCanvasId:o}=e;i&&("wx-video"===i&&(e.context=R6(a,uu.currentWebviewId)),"wx-live-player"===i&&(e.context=vpe(a,uu.currentWebviewId,n)),"wx-map"===i&&(e.context=Yle(a,uu.currentWebviewId)),"wx-canvas"===i&&o&&(e.context=t7(o,t)),"wx-editor"===i&&(e.context=Rpe(a,uu.currentWebviewId)),"wx-xr-scene"===i&&(e.context=e.__context,delete e.__context),delete e.contextIs,delete e.contextId,delete e.contextCanvasId);var{nodeIs:s,nodeId:l,nodeCanvasType:c,nodeCanvasId:u,nodeNodeId:d}=e;s&&("wx-canvas"===s&&l?r.push(Y4(l,c).then((t=>{e.node=t}))):"wx-scroll-view"===s&&l?e.node=ICe(l):"wx-snapshot"===s?"function"==typeof t.getBackendElement?e.node=ECe(t):e.node=MCe():"wx-native-view"===s?e.node=DCe(t):"wx-draggable-sheet"===s&&("function"==typeof t.getBackendElement?e.node=RCe(t):e.node=OCe()),delete e.nodeIs,delete e.nodeId,delete e.nodeCanvasId,delete e.nodeNodeId,e.node&&"function"==typeof e.node._onReady&&r.push(new Promise((t=>e.node._onReady(t)))))}};class BCe{constructor(e,t,r,n){this._selectorQuery=e,this._component=t,this._selector=r,this._single=n}fields(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery}boundingClientRect(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._selectorQuery}scrollOffset(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,scrollOffset:!0},e),this._selectorQuery}context(e){return this._selectorQuery._push(this._selector,this._component,this._single,{context:!0},e),this._selectorQuery}node(e){return this._selectorQuery._push(this._selector,this._component,this._single,{node:!0},e),this._selectorQuery}ref(e){return this._selectorQuery._push(this._selector,this._component,this._single,{ref:!0},e),this._selectorQuery}}var $Ce={},jCe=e=>class{constructor(e){if(e&&e.page)this._component=this._defaultComponent=e.page,this._webviewId=this._defaultComponent.__wxWebviewId__;else{var t=br.getCurrentPagesByDomain("");this._defaultComponent=t[t.length-1],this._component=null,this._webviewId=null}this._queue=[],this._queueCb=[]}in(e){return null===this._webviewId?(this._webviewId=e.__wxWebviewId__,this._component=e):this._webviewId!==e.__wxWebviewId__?console.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored."):this._component=e,this}select(e){return new BCe(this,this._component,e,!0)}selectAll(e){return new BCe(this,this._component,e,!1)}selectViewport(){return new BCe(this,0,"",!0)}_push(t,r,n,i,a){null===this._webviewId&&(this._webviewId=this._defaultComponent?this._defaultComponent.__wxWebviewId__:void 0);var o=e?"":vr.getRootNodeId(this._webviewId);this._queue.push({component:null!==r?0===r?0:r.__wxExparserNodeId__:o,selector:t,single:n,fields:i}),this._queueCb.push(a||null)}exec(t){LCe(this._webviewId,{pluginId:e,queue:this._queue},(r=>{var n=this._queueCb,i=[],a=[];r.forEach(((t,r)=>{NCe(t,this._component,a,e),"function"==typeof n[r]&&i.push(x.surroundThirdByTryCatch((()=>{n[r].call(this,t)}),"at SelectorQuery callback function"))})),"function"==typeof t&&i.push(x.surroundThirdByTryCatch((()=>{t.call(this,r)}),"at SelectorQuery callback function")),a.length?Promise.all(a).then((()=>{i.forEach((e=>e()))})):i.forEach((e=>e()))}))}};function FCe(e,t){return $Ce[t]||($Ce[t]=jCe(t)),new $Ce[t](e)}var WCe=e=>`NodesRef.${e.map((e=>{switch(e){case 0:return"fields";case 1:return"boundingClientRect";case 2:return"scrollOffset";case 3:return"context";case 4:return"node";default:return"unknown"}})).join(".")}`,UCe=e=>{var t=[];return[{fields:(r,n)=>(t.push([0,r,n]),e),boundingClientRect:r=>(t.push([1,r]),e),scrollOffset:r=>(t.push([2,r]),e),context:r=>(t.push([3,r]),e),node:r=>(t.push([4,r]),e)},e=>t.map((t=>{switch(t[0]){case 0:e.fields(t[1],t[2]);break;case 1:e.boundingClientRect(t[1]);break;case 2:e.scrollOffset(t[1]);break;case 3:e.context(t[1]);break;case 4:e.node(t[1])}return t[0]}))]},VCe=(e,t)=>{var r,n=t,i=e,a="exparser",o=[],s=(e,t)=>{var r=[];if(o.forEach((t=>{switch(t[0]){case 0:e.in(t[1]);break;case 1:var n=e.select(t[1]),i=t[2];r=i(n);break;case 2:var a=e.selectAll(t[1]),o=t[2];r=o(a);break;case 3:var s=e.selectViewport(),l=t[1];r=l(s)}})),"glass-easel"===a){var n=setTimeout((()=>{console.warn(`检测到 ${WCe(r)} 不能立即回调，可能由于 scroll-view 的按需加载特性，使得不在屏的节点无法立即取到节点相关信息`)}),3e3);e.exec((e=>{clearTimeout(n),"function"==typeof t&&t(e)}))}else e.exec(t)},l=e=>{var t=null==e?void 0:e.__wxWebviewId__;void 0!==t&&(a=br.getComponentFramework(t))},c={in:e=>(o.push([0,e]),l(e),r=e,c),select(e){var[t,r]=UCe(c);return o.push([1,e,r]),t},selectAll(e){var[t,r]=UCe(c);return o.push([2,e,r]),t},selectViewport(){var[e,t]=UCe(c);return o.push([3,t]),e},exec(e){if(void 0===r){var t=br.getCurrentPagesByDomain("");r=t[t.length-1],l(r)}if("glass-easel"===a){var o=new(M.getSubContextAdapter().SelectorQuery)(r);s(o,e)}else{var c=FCe(i,n);s(c,e)}}};return c},qCe={},zCe=e=>class{constructor(e,t){if(this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,e)this._webviewId=e.__wxWebviewId__;else{var r=br.getCurrentPagesByDomain("");r.length&&(this._webviewId=r[r.length-1].__wxWebviewId__)}}relativeTo(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this}relativeToViewport(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this}observe(t,r){if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');var n,i=this._component;this._observerId=new Promise((e=>{n=e})),this._observerReqId=vr.requestViewInfo("intersection",{type:"addIntersectionObserver",pluginId:e,nodeId:i?i.__wxExparserNodeId__:vr.getRootNodeId(this._webviewId),targetSelector:t,relativeInfo:this._relativeInfo,options:this._options},this._webviewId,(e=>{this._disconnected||(e.observerId&&n(e.observerId),e.info&&r.call(this,e.info))}))}disconnect(){null===this._observerId||this._disconnected||(this._observerId.then((e=>{var t=vr.requestViewInfo("intersection",{type:"removeIntersectionObserver",observerId:e},this._webviewId,(()=>{vr.endViewInfoCallback(this._webviewId,this._observerReqId),vr.endViewInfoCallback(this._webviewId,t)}))})),this._disconnected=!0)}};function GCe(e,t,r){return qCe[r]||(qCe[r]=zCe(r)),new qCe[r](e,t)}var HCe=(e,t,r)=>{var n=vr.requestViewInfo("matchMedia",t,e,(t=>{t.reqEnd&&vr.endViewInfoCallback(e,n),r&&(t.reqEnd||r(t))}))},KCe={},JCe=()=>class{constructor(e,t){this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,this._webviewId=e.__wxWebviewId__}observe(e,t){if(null!==this._observerId)throw new Error('"observe" call can be only called once in MediaQueryObserver');this._observerId="",HCe(this._webviewId,{type:"addMediaQueryObserver",mediaQueryCond:e},(e=>{this._disconnected||(e.observerId&&(this._observerId=e.observerId),e.info&&t.call(this,e.info))}))}disconnect(){HCe(this._webviewId,{type:"removeMediaQueryObserver",observerId:this._observerId}),this._disconnected=!0}};function XCe(e,t,r){return KCe[r]||(KCe[r]=JCe()),new KCe[r](e,t)}var YCe=()=>{var e=br.getCurrentPagesByDomain("");return e[e.length-1]},QCe=e=>{var t=M.getSubContextAdapter();if(e)return!(e instanceof t.ComponentCaller);var r=YCe();return void 0===r||!(r instanceof t.ComponentCaller)},ZCe=function(e){return VCe(e,"")},eke=function(e,t={}){if(QCe(e))return GCe(e,t,"");var r=M.getSubContextAdapter();return e||(e=YCe()),new r.IntersectionObserver(e,t.thresholds||[0],t.initialRatio||0,t.observeAll||!1)},tke=function(e,t){return QCe(e)?XCe(e,t,""):new(M.getSubContextAdapter().MediaQueryObserver)(e)},rke=(e={})=>{Vc("triggerGettingWidgetData",e,{cacheKey:""})&&md("triggerGettingWidgetData",e,{})},nke=e=>{md("reportAction",e)},ike=()=>{},ake=()=>{},oke=()=>{},ske=(e,t)=>{if(Oe)console.error({errMsg:"reportMonitor:fail SDK暂不支持此API"});else if(e)if(void 0===t&&(t=1),"number"==typeof t){var r=JSON.stringify({business:"mmbizwxamonitor",name:e,value:t,timeStamp:Date.now()});md("reportRealtimeAction",{actionData:r,noCallback:!0})}else console.error("wx.reportMonitor: 'value' argument must be a Number.");else console.error("wx.reportMonitor: require 'name' argument.")},lke={},cke={get:(e="default")=>lke[e],set(e,t="default"){lke[t]=e},clear(){lke={}}},uke=new Qt,dke={},pke={},hke=e=>{Object.keys(pke).forEach((t=>{pke[t]===e&&delete pke[t]}))},fke=(e,t,r,n)=>{void 0===pke[t]?!0!==dke[t]?(dke[t]=!0,md(e,{moduleName:t,success:e=>{delete dke[t],pke[t]=e.loadTaskId,r(e.loadTaskId),uke.emit(t,e)},fail:e=>{delete dke[t],n(e)}})):uke.once(t,(e=>{r(e.loadTaskId)})):r(pke[t])},gke=(e,t,r)=>{var n=[],i={},a=[];e.forEach((e=>{void 0!==pke[e]?i[e]=pke[e]:dke[e]?a.push(new Promise((t=>{uke.once(e,(r=>{t({moduleName:e,taskId:r.loadTaskId})}))}))):(dke[e]=!0,n.push(e))}));var o,s,l=Promise.resolve({});a.length&&(l=new Promise((e=>{Promise.all(a).then((t=>{var r={};t.forEach((e=>{r[e.moduleName]=e.taskId})),e(r)}))})));var c=new Promise(((e,t)=>{o=e,s=t}));n.length?md("batchCreateLoadSubPackageTask",{moduleNameList:n,success:e=>{var t=e.loadTaskIdList||[e.loadTaskId],r={};n.forEach(((e,n)=>{var i=t[n];delete dke[e],pke[e]=i,uke.emit(e,{loadTaskId:i}),r[e]=i})),o(r)},fail:e=>{n.forEach((e=>{delete dke[e]})),s(e)}}):o({}),Promise.all([i,l,c]).then((e=>{var r=Object.assign({},...e);t(r)})).catch((e=>{r(e)}))},vke=new Qt,mke=new Qt;qt("onLoadSubPackageTaskStateChange",(e=>{"success"===e.state&&mke.emit(e.state,e.taskId,e),vke.emit(e.state,e.taskId,e)}));var yke=e=>mke.on("success",e),bke=e=>vke.on("success",e),_ke=e=>vke.on("fail",e),wke=e=>vke.on("progressUpdate",e),Ske="__APP__",Cke="__GAME__",kke=e=>(e.startsWith("./")&&(e=e.slice(1)),e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,-1)),e),Ike=(e,t)=>e===Ske||e===Cke?Ske:(t.forEach((t=>{e!==t.alias&&e!==t.name||(e=t.root)})),e=kke(e),void 0===t.find((t=>kke(t.root)===e))?null:e.endsWith(".js")?`/${e}`:`/${e}/`);function Pke(){return re.subpackages||re.subPackages||[]}function Ake(e=""){for(var t=Pke(),r=0;r<t.length;r++){var n=t[r];if(0===e.indexOf(n.root))return n}return null}function xke(e=""){var t=Ake(e);return!!(t&&t.independent&&t.isolated)}function Tke(e){return"workers.js"===e||"/workers.js"===e}function Eke(e,t=[]){return t.some((t=>{var r;return t.root===e&&"playable"===(null==t||null===(r=t.meta)||void 0===r?void 0:r.type)}))}var Mke=new WeakMap,Rke=new WeakMap,Oke={},Dke=[],Lke=new Set,Nke={},Bke=new Qt,$ke=e=>Oke[e],jke=e=>delete Oke[e],Fke=(e,t)=>{void 0===Oke[e]?Oke[e]=[t]:Oke[e].push(t)},Wke=e=>{var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t},Uke=(e,t)=>{["success","fail","complete"].forEach((r=>{var n=r;"function"==typeof e[n]&&(e[n]=x.surroundThirdByTryCatch(e[n],`at api ${t} ${r} callback function`))}))},Vke=(e,t=!1)=>{if(!Tke(e)){"string"!=typeof e&&console.error("SubContext onSubPackageReady error: moduleName is empty"),e.endsWith(".js")||(e.endsWith("/")||(e=`${e}/`),e=`${e}game.js`);var r=cke.get();return Dg()&&Ue()&&!t&&!r?"__APP__"===e?$.getGameContext().evaluateScriptFile("game.js"):$.getGameContext().evaluateScriptFile(e):void 0}},qke=(e,t,r,n)=>{n.errMsg=e,t&&"function"==typeof r.success?(r.success(n),delete r.success):t||"function"!=typeof r.fail||(r.fail(n),delete r.fail),"function"==typeof r.complete&&(r.complete(n),delete r.complete)},zke=(e,t)=>{var r=$ke(e);jke(e),hke(e),Array.isArray(r)?r.forEach(t):(Mke.delete(r),Rke.delete(r))},Gke=(e,t)=>{zke(e,(r=>{var n=r.options,i=Wke(t);Dke.push(t.moduleName);var a=Vke(t.moduleName,t.isMonkeyTest),o=()=>{r.loaded=!0,qke("loadSubPackage:ok",!0,n,i),Lke.forEach((r=>{r.updateTaskStatus(e,!0,t)}))};It(a)?a.then(o):o()}))},Hke=(e,t)=>{zke(e,(r=>{var n=r.options,i=Wke(t);qke("loadSubpackage:fail module not found",!1,n,i),Lke.forEach((r=>{r.updateTaskStatus(e,!1,t)}))}))};bke(((e,t)=>{$ke(e)?Gke(e,t):(Be&&(Nke[e]=t),Bke.once("getBatchNativeTaskIdFinished",(()=>{Gke(e,t)})))})),_ke(((e,t)=>{$ke(e)?Hke(e,t):Bke.once("getBatchNativeTaskIdFinished",(()=>{Hke(e,t)}))})),wke(((e,t)=>{var r=$ke(e);Array.isArray(r)&&r.forEach((e=>{var r=Wke(t);e.triggerProgressCallback(r)}))}));class Kke{constructor(e,t){this.options=void 0,this.taskId=void 0,this.name=void 0,this.loaded=!1,this.progressCallback=void 0,this.name=e,this.options=t;var r=new Promise((e=>{Rke.set(this,e)}));Mke.set(this,r)}triggerProgressCallback(e){"function"==typeof this.progressCallback&&this.progressCallback(e)}onProgressUpdate(e){var t;"function"==typeof e&&(this.progressCallback=t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&x.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)},null===(t=Mke.get(this))||void 0===t||t.then((()=>{this.taskId&&md("listenLoadSubPackageTaskStateChange",{taskId:this.taskId,states:["progressUpdate"],noCallback:!0})})))}await({timeout:e=1e4}={}){var{waiterMode:t,name:r}=this.options,n={errMsg:"LoadTask.await:fail not support"};if(t){var i=this.taskId;md("awaitLoadSubPackageTask",{timeout:e,loadTaskId:i,success(e){console.log("awaitLoadSubPackageTask success",e),Gke(i,{moduleName:r}),n={errno:0,errMsg:"LoadTask.await:ok"}},fail(e){console.error("awaitLoadSubPackageTask fail",e),n={errMsg:"LoadTask.await:fail"+e.errMsg}}})}else n={errMsg:"LoadTask.await:fail not waiterMode"};return n}}class Jke{constructor(e){this.options=void 0,this.tasks={},this.finished=!1,this.options=e}updateTaskStatus(e,t,r){this.finished||this.tasks[e]&&(t?this.checkAllTasksFinished()&&this.handleSuccess(r):this.handleFail(r))}checkAllTasksFinished(){return!Object.values(this.tasks).find((e=>!e.loaded))}handleSuccess(e){this.finished=!0;var t=Wke(e);qke("batchLoadSubPackage:ok",!0,this.options,t),Lke.delete(this)}handleFail(e){this.finished=!0;var t=Wke(e);qke("batchLoadSubPackage:fail",!1,this.options,t),Lke.delete(this)}}var Xke=e=>{var t=e.options;fke(t.waiterMode?"createLoadSubPackageTaskForWaiter":"createLoadSubPackageTask",t.name,(t=>{e.taskId=t,Fke(t,e),Be&&Nke[t]&&(Gke(t,Nke[t]),delete Nke[t]),Rke.get(e)(null)}),(r=>{r.errMsg?r.errMsg=r.errMsg.replace("createLoadSubPackageTask","loadSubpackage"):r.errMsg="loadSubpackage:fail module not found (no errMsg)",Rke.get(e)(null),x.surroundThirdByTryCatch(t.fail)(r),x.surroundThirdByTryCatch(t.complete)(r)}))},Yke=(e,t,r)=>{gke(t,(t=>{var n=new Jke(r);e.forEach((e=>{e.taskId=t[e.name],Fke(e.taskId,e),n.tasks[e.taskId]=e})),Lke.add(n),Bke.emit("getBatchNativeTaskIdFinished")}),(e=>{e.errMsg?e.errMsg=e.errMsg.replace("createBatchLoadSubPackageTask","batchLoadSubpackage"):e.errMsg="batchLoadSubpackage:fail module not found",x.surroundThirdByTryCatch(r.fail)(e),x.surroundThirdByTryCatch(r.complete)(e),Bke.emit("getBatchNativeTaskIdFinished")}))},Qke=e=>{Uke(e,"loadSubPackage");var t=new Kke(e.name,e);return Dke.indexOf(e.name)>=0?qke("loadSubpackage:ok",!0,e,{moduleName:e.name}):"__APP__"===e.name&&Ce&&Dg()&&Ue()?(Dke.push(e.name),Vke(e.name),qke("loadSubpackage:ok",!0,e,{})):Xke(t),t},Zke=e=>{if(Uke(e,"batchLoadSubPackage"),Array.isArray(e.packages)){var t=[],r=e.packages.map((e=>(t.push(e.name),new Kke(e.name,e))));return t.findIndex((e=>-1===Dke.indexOf(e)))>=0?Yke(r,t,e):qke("batchLoadSubPackage:ok",!0,e,{}),r}},eIe=(e={})=>{var t=Object.assign({},e),{name:r,packageType:n}=t;if("workers"===n)t.name="/workers.js";else{if(!Vc("loadSubPackage",t,{name:""}))return;if(Tke(r))return void zc("loadSubpackage",t,'argument "name" cannot be "workers.js"');var i=re.subPackages||re.subpackages;if(!i)return void zc("loadSubpackage",t,"Your subpackages configuration is invalid.");var a=Ike(r,i);if(null===a)return void zc("loadSubpackage",t,`SubPackage with root "${t.name}" does not exist.`);if(t.name=a,Eke(t.name,i))return void zc("loadSubpackage",t,"cannot load playable ad package.")}try{return Qke(t)}catch(e){return void zc("loadSubpackage",t,e.message)}},tIe={};function rIe(){return new Promise(((e,t)=>{var r=My();r?e(r):Py({success(r){r.networkType?e(r.networkType):t(new Error("get network type failed."))},fail:t})}))}function nIe(){return iIe.apply(this,arguments)}function iIe(){return iIe=xd()((function*(e={}){if(!Array.isArray(e.packages))throw new Error("packages must be an array.");"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: "+e.packages.join(", "));var t=e.packages.filter((e=>!(e in tIe)));if("all"!==e.network){var r=yield rIe();if("wifi"!==r.toLowerCase())throw new Error(`network type does not match, '${r}' !== 'wifi'`)}var n=yield Promise.all(t.map((e=>new Promise((r=>{eIe({name:e,success(){tIe[e]=!0,r(t)},fail(t){var n=new Error(t.errMsg.replace("loadSubpackage:fail",""));n.packageName=e,r(n)}})})))));if((n=n.filter((e=>e instanceof Error))).length>0){var i=new Error("preload subpackages failed.");throw i._detail=n,i}})),iIe.apply(this,arguments)}function aIe(e){return oIe.apply(this,arguments)}function oIe(){return(oIe=xd()((function*(e){try{yield nIe(e),console.info("preloadSubpackages: success")}catch(e){e._detail?(console.group(`preloadSubpackages fail: ${e.message}`),e._detail.forEach((e=>{console.warn(`${e.packageName}: ${e.message}`)})),console.groupEnd()):console.warn(`preloadSubpackages fail: ${e.message}`)}}))).apply(this,arguments)}re.onReady((()=>{EK((({path:e})=>{if(re.preloadRule&&re.preloadRule[e])return aIe(re.preloadRule[e])}))}));var sIe="batchLoadSubpackage",lIe=e=>{var t=Object.assign({},e);if(Vc(sIe,t,{packages:[]})){var r=re.subPackages||re.subpackages;if(r){var n=[],i=[];if(t.packages.forEach((e=>{var t=Ike(e.name,r);null===t?i.push(e.name):(e.name=t,n.push(e))})),i.length>0){var a=`SubPackages with root ${i.map((e=>`"${e}"`)).join(", ")} do not exist.`;if(0===n.length)return void zc(sIe,t,a);console.error(a)}t.packages=n;try{return Zke(t)}catch(e){return void zc(sIe,t,e.message)}}else zc(sIe,t,"Your subpackages configuration is invalid.")}},cIe={},uIe=[],dIe=new WeakMap,pIe=new WeakMap,hIe=function(e){return cIe[e]},fIe=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t};bke(((e,t)=>{var r=hIe(e);delete cIe[e],hke(e),Array.isArray(r)&&r.forEach(function(){var e=xd()((function*(e){var r=t.moduleName,n=dIe.get(e),i=fIe(t);uIe.push(r),i.errMsg="preDownloadSubpackage:ok","function"==typeof n.success&&n.success(i),"function"==typeof n.complete&&n.complete(i)}));return function(t){return e.apply(this,arguments)}}())})),_ke(((e,t)=>{var r=hIe(e);delete cIe[e],hke(e),Array.isArray(r)&&r.forEach((e=>{var r=dIe.get(e),n=fIe(t);n.errMsg="preDownloadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),wke(((e,t)=>{var r=hIe(e);Array.isArray(r)&&r.forEach((e=>{var r=pIe.get(e),n=fIe(t);"function"==typeof r&&r(n)}))}));var gIe=function(){var e=dIe.get(this),{name:t}=e;if(uIe.indexOf(t)>=0){var r={errMsg:"preDownloadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(r),void("function"==typeof e.complete&&e.complete(r))}if("__APP__"===t&&Ce&&Dg()&&Ue()){uIe.push(t);var n={errMsg:"preDownloadSubpackage:ok"};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}fke("createLoadSubPackageTask",t,(e=>{void 0===cIe[e]?cIe[e]=[this]:cIe[e].push(this)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","preDownloadSubpackage"):t.errMsg="preDownloadSubpackage:fail module not found",x.surroundThirdByTryCatch(e.fail)(t),x.surroundThirdByTryCatch(e.complete)(t)}))};class vIe{constructor(e){dIe.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=x.surroundThirdByTryCatch(e[t],`at api preDownloadSubpackage ${t} callback function`))})),gIe.call(this)}onProgressUpdate(e){pIe.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&x.surroundThirdByTryCatch(e,"at PreDownloadSubpackageTask.onProgressUpdate callback function")(t)}))}}var mIe=(e={})=>{var t=Object.assign({},e),{packageType:r,name:n}=t;if("workers"===r)t.name="/workers.js";else{if(!Ue())return void zc("preDownloadSubpackage",t,"invalid packageType");if(!Vc("preDownloadSubpackage",t,{name:""}))return;if(Tke(n))return void zc("preDownloadSubpackage",t,'argument "name" cannot be "workers.js"');var i=re.subPackages||re.subpackages;if(!i)return void zc("preDownloadSubpackage",t,"Your subpackages configuration is invalid.");var a=Ike(n,i);if(null===a)return void zc("preDownloadSubpackage",t,`SubPackage with root "${t.name}" does not exist.`);if(t.name=a,Eke(t.name,i))return void zc("preDownloadSubpackage",t,"cannot load playable ad package.");t.packageType="normal"}try{return new vIe(t)}catch(e){return void zc("preDownloadSubpackage",t,e.message)}},yIe=["short_series_goods","short_series_coin"],bIe="requestVirtualPayment",_Ie=1,wIe=e=>{var t=Object.fromEntries(Object.entries(e).filter((([e])=>"success"!==e&&"fail"!==e&&"complete"!==e)));return t},SIe=(e={})=>{if(Vc(bIe,e,{signature:"",signData:"",paySig:"",mode:""})){var t,{success:r,fail:n}=Kc(e,"requestVirtualPayment"),i=Date.now(),a=Nt(),o=JSON.stringify(e);if(eie({invokeId:a,actionType:"invokeRequestVirtualPayment",actionStatus:o,actionTimestamp:i}),-1!==yIe.indexOf(e.mode)){HW({title:"支付中...",mask:!0});var s=!0;if("string"==typeof e.signData){var l,c,u,d,p=re.accountInfo.appId,h=function(){var t=xd()((function*(t){var{resultCode:i,resultMsg:o,innerCode:s}=t;if(0!==i){o=o.replace("requestVirtualPayment:fail",""),-15009!==i&&1138!==i||(RW({title:"提示",content:o,showCancel:!1}),o="PAY_LIMIT"),n({errMsg:`${bIe}:fail ${o}`,errno:i,errCode:i});var l=Date.now();eie({invokeId:a,actionType:"beforeCloseOrder",actionTimestamp:l}),EE({apiName:"webapi_wxa_closeiapbuyorder",sdkApiName:"wxa_closeiapbuyorder",reqData:{env:d,order_no:c,mode:e.mode,ret_code:i,inner_code:s}}).then((e=>{var t=Date.now();0===e.data.err_code?eie({invokeId:a,actionType:"afterCloseOrder",actionStatus:JSON.stringify(e),actionCost:t-l,actionTimestamp:t}):eie({invokeId:a,actionType:"afterCloseOrder",actionValue:e.data.err_code||-1,actionStatus:JSON.stringify(e),actionCost:t-l,actionTimestamp:t})})).catch((e=>{var t=Date.now();eie({invokeId:a,actionType:"afterCloseOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-l,actionTimestamp:t})}))}else r({})}));return function(e){return t.apply(this,arguments)}}();(-1!==e.mode.indexOf("goods")?(e=>{var r=wIe(e),n={pay_sdk_version:_Ie,user_args:{sign_data:r.signData,mode:r.mode,signature:r.signature,pay_sig:r.paySig},scene_note:uu.sceneNote},o=Date.now();return eie({invokeId:a,actionType:"beforeCreateItemOrder",actionStatus:JSON.stringify(n),actionCost:o-i,actionTimestamp:o}),EE({apiName:"webapi_wxa_getiapinfocreateitemorder",sdkApiName:"wxa_getiapinfocreateitemorder",reqData:n}).then((e=>{if(t=Date.now(),e.data&&0===e.data.err_code)return eie({invokeId:a,actionType:"afterCreateItemOrder",actionStatus:JSON.stringify(e.data),actionCost:t-o,actionTimestamp:t}),e.data;throw{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw t=Date.now(),eie({invokeId:a,actionType:"afterCreateItemOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-o,actionTimestamp:t}),e}))})(e):(e=>{var r=wIe(e),n={pay_sdk_version:_Ie,user_args:{sign_data:r.signData,mode:r.mode,signature:r.signature,pay_sig:r.paySig},scene_note:uu.sceneNote},o=Date.now();return eie({invokeId:a,actionType:"beforeCreateCoinOrder",actionStatus:JSON.stringify(n),actionCost:o-i,actionTimestamp:o}),EE({apiName:"webapi_wxa_getiapinfocreatecoinorder",sdkApiName:"wxa_getiapinfocreatecoinorder",reqData:n}).then((e=>{if(t=Date.now(),e.data&&0===e.data.err_code)return eie({invokeId:a,actionType:"afterCreateCoinOrder",actionStatus:JSON.stringify(e.data),actionCost:t-o,actionTimestamp:t}),e.data;throw{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw t=Date.now(),eie({invokeId:a,actionType:"afterCreateCoinOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-o,actionTimestamp:t}),e}))})(e)).then((t=>{var r=t.iap_info,n=r.use_save_result;l=r.open_id,u=r.offer_id;var i=t.order_info,a={};return n&&i&&i.save_result&&(a.save_result=i.save_result),r.use_wx_proxy&&(a.use_wx_proxy=1),r.direct_channel&&(a.direct_channel="wechat"),Qne.channelApiname=r.channel_apiname,a.openid=l,a.login_wx_appid=p||e.loginWXAppId,a.pf="android",a.goodstokenurl=i.url_params,c=i.order_no,a.openkey=i.iap_access_token,d=i.env,a.buy_quantity=i.buy_quantity,a.zoneid=i.zoneid,a})).then((e=>{e.offer_id=u,e.session_type="wc_actoken",e.session_id="hy_gameid";var r,n=Date.now();try{eie({invokeId:a,actionType:"invokeMidas",actionCost:n-t,actionTimestamp:n}),Qne.time4=n,Qne.invokeId=a;var i="goods";Xne("requestVirtualPayment"),MidasSDK.getMidasPayApi()[i].destroy(),r=MidasSDK.getMidasPayApi()[i].init({env:d})}catch(e){s&&(KW(),s=!1),eie({invokeId:a,actionType:"invokeMidasFail",actionStatus:e.message,actionCost:n-t,actionTimestamp:n})}setTimeout((()=>{s&&(KW(),s=!1)}),10);var o=function(e,t){return new Promise((r=>{e.launchPay(t,(e=>{r(e)}))}))}(r,e);return o})).then(h).catch(((e={})=>{s&&(KW(),s=!1),void 0===e.errCode&&"string"==typeof e.err_code&&("0"===e.err_code?e.errCode=5:e.errCode=parseInt(e.err_code,10)),n({errMsg:`${bIe}:fail ${e.errMsg||e.message}`,errno:e.errCode,errCode:e.errCode})}))}else n({errMsg:`${bIe}:fail signData参数类型必须是string`,errno:1001,errCode:1001})}else n({errMsg:`${bIe}:fail mode错误`,errno:1e3,errCode:1e3})}},CIe=function(e={}){var t=bd(Wh(this));if("number"==typeof e.maxDuration&&e.maxDuration>60){var r={errMsg:"chooseVideo:fail|maxDuration can not over 60"};return"function"==typeof e.fail&&e.fail(r),void("function"==typeof e.complete&&e.complete(r))}e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||"back","boolean"!=typeof e.compressed&&(e.compressed=!0),t("chooseVideo",e)},kIe=function(e={}){bd(Wh(this))("saveVideoToPhotosAlbum",e,{})},IIe=(e={})=>{Vc("getVideoInfo",e,{src:""})&&md("getVideoInfo",e,{})},PIe=(e={})=>{Vc("compressVideo",e,{src:""})&&md("compressVideo",e,{})},AIe=Zc(SI),xIe=[],TIe=new Map,EIe=0,MIe=/url\((.*)\)/i,RIe=/([^.]*)(\..*)?/i;en("loadedFontFace",(e=>{var{callbackId:t,errMsg:r=""}=e;if(TIe.has(t)){var n=TIe.get(t);TIe.delete(t);var{resolve:i,reject:a}=n;0===r.indexOf("loadFontFace:ok")?i():a()}}));var OIe=(e={})=>{EIe++,delete(e=Object.assign({},e)).success,delete e.fail,delete e.complete,e.callbackId=EIe;var t=new Promise(((e,t)=>{TIe.set(EIe,{resolve:e,reject:t})}));if(e.global||!1){var r=encodeURIComponent(JSON.stringify(e));xIe.indexOf(r)<0&&xIe.push(r),Kr("loadFontFace",e)}else Kr("loadFontFace",e,[uu.currentWebviewId]);return t},DIe=function(){var e=xd()((function*(e={}){EIe++,delete(e=Object.assign({},e)).success,delete e.fail,delete e.complete,e.callbackId=EIe;var t=new Promise(((e,t)=>{TIe.set(EIe,{resolve:e,reject:t})}));yield Fr();var r=e.global||!1;return Kr("loadFontFace",e,r?[0]:[uu.currentWebviewId]),t}));return function(){return e.apply(this,arguments)}}(),LIe=function(){var e=xd()((function*(e={}){var t="",r=e.source.match(MIe);r.length>=2&&(t=(t=r[1]).substring(1,t.length-1));var n=yield AIe({url:t,timeout:2e4,enableCache:!0}),i=(n.tempFilePath||"").replace(RIe,((...e)=>e[1]));D1.set(i),yield F0.addFontFace({originalSrc:e.source,src:n.tempFilePath,family:e.family,style:e.desc&&e.desc.style,weight:e.desc&&e.desc.weight,variant:e.desc&&e.desc.variant})}));return function(){return e.apply(this,arguments)}}(),NIe=function(){var e=xd()((function*(e={}){if(Vc("loadFontFace",e,{family:"",source:""})){var t="";if(""===e.family&&(t="parameter error: family can not be empty string"),""===e.source&&(t="parameter error: source can not be empty string"),t)zc("loadFontFace",e,t);else{MIe.test(e.source)||(e.source=`url("${e.source}")`),e.scopes||(e.scopes=["webview"]),$2({name:"loadFontFace",data:{family:e.family,source:encodeURIComponent(e.source),global:Boolean(e.global),scopes:e.scopes}});var r=[];if(e.scopes.indexOf("webview")>=0){var n=OIe(e);r.push(n)}if(e.scopes.indexOf("skyline")>=0){var i=yield DIe(e);r.push(i)}if(e.scopes.indexOf("native")>=0){var a=LIe(e);r.push(a)}Promise.all(r).then((()=>{Hc({name:"loadFontFace",args:e,success:!0,errMsg:"",res:{status:"loaded"}})})).catch((()=>{Hc({name:"loadFontFace",args:e,success:!1,errMsg:"",res:{status:"error"}})}))}}}));return function(){return e.apply(this,arguments)}}(),BIe=e=>{Vc("playVoice",e,{filePath:""})&&!X2()&&md("playVoice",e)},$Ie=e=>{md("pauseVoice",e)},jIe=e=>{md("stopVoice",e)},FIe=e=>{qt("onVoicePlayEnd",x.surroundThirdByTryCatch(e,"at onVoicePlayEnd callback function"))},WIe=new Qt,UIe={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};qt("onRecorderStateChange",((e={})=>{var{state:t}=e;delete e.state,WIe.emit(`onRecorderStateChange_${t}`,e)}));var VIe=(e,t)=>{p2(["scope.record"])?(e.permissionBytes=[1,1,1],Id("operateRecorder",Object.assign({},e),t)):md("operateRecorder",Object.assign({},e),t)},qIe={start(e={}){var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(UIe).map((e=>parseInt(e,10))).indexOf(t.sampleRate))throw new Error(`invalid sampleRate "${t.sampleRate}", sampleRate should be one of ${JSON.stringify(Object.keys(UIe))}`);if(t.encodeBitRate>UIe[t.sampleRate][1]||t.encodeBitRate<UIe[t.sampleRate][0])throw new Error(`invalid encodeBitRate "${t.encodeBitRate}", encodeBitRate should be greater than ${UIe[t.sampleRate][0]} and less than ${UIe[t.sampleRate][1]}`);t.operationType="start",t.fail=e=>{WIe.emit("onRecorderStateChange_error",e)};var r=()=>{Ioe(void 0,"RecorderManager.start")};p2(["scope.record"])?VIe(t,{afterSuccess:r}):V3("RecorderManager.start").catch((e=>{VIe(t,{afterSuccess:r})})).then((({success:e,errMsg:n,errno:i})=>{e?VIe(t,{afterSuccess:r}):(console.error("start:fail "+n),WIe.emit("onRecorderStateChange_error",{errMsg:"start:fail "+n,errno:i}))}))},pause(){VIe({operationType:"pause",fail(e){WIe.emit("onRecorderStateChange_error",e)}})},resume(){VIe({operationType:"resume",success(){WIe.emit("onRecorderStateChange_resume")},fail(e){WIe.emit("onRecorderStateChange_error",e)}})},stop(){var e=()=>VIe({operationType:"stop",fail(e){WIe.emit("onRecorderStateChange_error",e)}});p2(["scope.record"])?e():V3("RecorderManager.stop").catch((t=>{e()})).then((({success:t,errMsg:r,errno:n})=>{t?e():(console.error("stop:fail "+r),WIe.emit("onRecorderStateChange_error",{errMsg:"stop:fail "+r,errno:n}))}))},onStart(e){WIe.removeAllListeners("onRecorderStateChange_start"),WIe.on("onRecorderStateChange_start",(()=>{"function"==typeof e&&x.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onResume(e){WIe.removeAllListeners("onRecorderStateChange_resume"),WIe.on("onRecorderStateChange_resume",(()=>{"function"==typeof e&&x.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()}))},onPause(e){WIe.removeAllListeners("onRecorderStateChange_pause"),WIe.on("onRecorderStateChange_pause",(()=>{"function"==typeof e&&x.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onStop(e){WIe.removeAllListeners("onRecorderStateChange_stop"),WIe.on("onRecorderStateChange_stop",(t=>{"function"==typeof e&&x.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded(e){WIe.removeAllListeners("onRecorderStateChange_frameRecorded"),WIe.on("onRecorderStateChange_frameRecorded",(t=>{"function"==typeof e&&x.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)}))},onError(e){WIe.removeAllListeners("onRecorderStateChange_error"),WIe.on("onRecorderStateChange_error",(t=>{"function"==typeof e&&x.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)}))},onInterruptionBegin(e){WIe.removeAllListeners("onRecorderStateChange_interruptionBegin"),WIe.on("onRecorderStateChange_interruptionBegin",(t=>{"function"==typeof e&&x.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)}))},onInterruptionEnd(e){WIe.removeAllListeners("onRecorderStateChange_interruptionEnd"),WIe.on("onRecorderStateChange_interruptionEnd",(t=>{"function"==typeof e&&x.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)}))}};const zIe=null;var GIe=()=>qIe,HIe=function(e){Oe?zc("startRecord",e,"startRecord:fail 接口已停止维护，请使用wx.getRecorderManager 代替"):bd(Wh(this))("startRecord",e)},KIe=e=>{Oe?zc("stopRecord",e,"stopRecord:fail 接口已停止维护，请使用wx.getRecorderManager 代替"):md("stopRecord",e)},JIe=new Yy("BackgroundAudioManager",!0),XIe=!1,YIe,QIe={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0,playbackRate:1,referrerPolicy:"",referrerPath:""};re.onReady((()=>{Cf("operateTingAudio")&&(Ie||ke)&&(XIe=!0),qt(XIe?"onTingAudioNext":"onBackgroundAudioNext",(()=>{JIe.emit("Next")})),qt(XIe?"onTingAudioPrev":"onBackgroundAudioPrev",(()=>{JIe.emit("Prev")})),qt(XIe?"onTingAudioStateChange":"onBackgroundAudioStateChange",((e={})=>{var{state:t}=e;delete e.state,"play"===t?(QIe.paused=!1,uu.possessingBackgroundAudioPlayer=!0):"preempted"===t||"occupied"===t?(uu.possessingBackgroundAudioPlayer=!1,JIe.emit("Stop",e)):("pause"===t||"stop"===t)&&(QIe.paused=!0),JIe.emit(`${t[0].toUpperCase()}${t.substr(1)}`,e)}))}));var ZIe={play(){X2()||setTimeout((()=>{ePe({operationType:"play"})}),0)},pause(){setTimeout((()=>{ePe({operationType:"pause"})}),0)},seek(e){if("number"!=typeof e)throw new Error("BackgroundAudioManager.seek(currentTime): unexpected type "+typeof e);X2()||setTimeout((()=>{ePe({currentTime:e,operationType:"seek"})}),0)},stop(){setTimeout((()=>{ePe({operationType:"stop"})}),0)},onTimeUpdate(e){void 0===YIe&&(YIe=setInterval((()=>{var e=QIe.currentTime;nPe("currentTime",(()=>{"active"===uu.runningStatus&&!1!==uu.possessingBackgroundAudioPlayer&&this.currentTime!==e&&JIe.emit("Timeupdate",this.currentTime)}))}),250)),JIe.off("Timeupdate"),JIe.on("Timeupdate",e)}};function ePe(e){md(XIe?"operateTingAudio":"operateBackgroundAudio",e)}var tPe=["src","title","epname","singer","startTime","coverImgUrl","currentTime","duration","paused","buffered","webUrl","protocol","playbackRate","referrerPolicy","referrerPath","audioType"];tPe.forEach((e=>{Object.defineProperty(ZIe,e,{get:()=>"src"===e&&ZIe.srcCloudId?ZIe.srcCloudId:"coverImgUrl"===e&&ZIe.coverCloudId?ZIe.coverCloudId:nPe(e),set(t){["src","title","epname","singer","coverImgUrl","startTime","webUrl","protocol","playbackRate","referrerPolicy","referrerPath","audioType"].indexOf(e)>-1&&("src"===e?K0([t],"audio",(r=>{/^(cloud):\/\//.test(t)?ZIe.srcCloudId=t:ZIe.srcCloudId="",aPe(e,r.data[0].url)})):"coverImgUrl"===e?K0([t],"image",(r=>{/^(cloud):\/\//.test(t)?ZIe.coverCloudId=t:ZIe.coverCloudId="",aPe(e,r.data[0].url)})):"playbackRate"===e?aPe(e,t):"referrerPath"===e?"string"==typeof t&&t.trim().length>0&&(t=t.trim().replace(/(\?|$)/,".html$1"),aPe(e,t)):aPe(e,t))}})}));var rPe=["Canplay","Waiting","Error","Play","Pause","Seeking","Seeked","Ended","Stop","Next","Prev"];function nPe(e,t){if(!1!==uu.possessingBackgroundAudioPlayer){var r=QIe[e];return md(XIe?"getTingAudioState":"getBackgroundAudioState",{success(n){void 0===n.paused||!0===n.paused?n.paused=!0:n.paused=!1,QIe=Object.assign(QIe,n),r=QIe[e],"function"==typeof t&&t(r)},fail({errMsg:e}){y.error(`${XIe?"getTingAudioState":"getBackgroundAudioState"} fail: ${e}`)}}),r}}rPe.forEach((e=>{ZIe[`on${e}`]=t=>{JIe.off(e),JIe.on(e,t)}}));var iPe={};function aPe(e,t){if("src"===e&&!t)throw new Error(`invalid BackgroundAudioManager.src: ${t}`);if("active"!==uu.runningStatus&&!1===uu.possessingBackgroundAudioPlayer||X2())throw new Vd(`Can not set BackgroundAudioManager.${e}, background audio is preempted.`);iPe[e]=t,1===Object.keys(iPe).length&&setTimeout((()=>{Object.assign(QIe,iPe),QIe.src&&QIe.title?(md(XIe?"setTingAudioState":"setBackgroundAudioState",Object.assign({},QIe,{fail({errMsg:e}){y.error(e),JIe.emit("Error",{errMsg:e.replace((XIe?"setTingAudioState":"setBackgroundAudioState")+": fail ","")})}})),iPe={}):iPe={}}),0)}var oPe=()=>ZIe,sPe=e=>{if(Oe)zc("getBackgroundAudioPlayerState",e,"getBackgroundAudioPlayerState fail: 接口已废弃，请使用wx.getBackgroundAudioManager 代替");else if(!1===uu.possessingBackgroundAudioPlayer){var t={errMsg:"getBackgroundAudioPlayerState: fail not playing"};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else md("getMusicPlayerState",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getMusicPlayerState","getBackgroundAudioPlayerState")}})},lPe=(e={})=>{Oe?zc("playBackgroundAudio",e,"playBackgroundAudio fail: 接口已废弃，请使用wx.getBackgroundAudioManager 代替"):X2()?null==e||e.fail({errMsg:"playBackgroundAudio:can't play background audio when forced muted"}):md("operateMusicPlayer",zd({operationType:"play"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","playBackgroundAudio")}})},cPe=(e={})=>{Oe?zc("pauseBackgroundAudio",e,"pauseBackgroundAudio fail: 接口已废弃，请使用wx.getBackgroundAudioManager 代替"):md("operateMusicPlayer",zd({operationType:"pause"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","pauseBackgroundAudio")}})},uPe=(e={})=>{Oe?zc("seekBackgroundAudio",e,"seekBackgroundAudio fail: 接口已废弃，请使用wx.getBackgroundAudioManager 代替"):Vc("seekBackgroundAudio",e,{position:1})&&md("operateMusicPlayer",zd({operationType:"seek"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","seekBackgroundAudio")}})},dPe=(e={})=>{Oe?zc("stopBackgroundAudio",e,"stopBackgroundAudio fail:接口已废弃，请使用wx.getBackgroundAudioManager 代替"):md("operateMusicPlayer",zd({operationType:"stop"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","stopBackgroundAudio")}})},pPe=new Qt;qt("onMusicPlay",(()=>{uu.possessingBackgroundAudioPlayer=!0,pPe.emit("onBackgroundAudioPlay")}));var hPe=e=>{Oe?zc("onBackgroundAudioPlay",{},"onBackgroundAudioPlay fail: 接口已废弃，请使用wx.getBackgroundAudioManager 代替"):(pPe.removeAllListeners("onBackgroundAudioPlay"),pPe.on("onBackgroundAudioPlay",(()=>{"function"==typeof e&&x.surroundThirdByTryCatch(e,"at wx.onBackgroundAudioPlay callback function")()})))},fPe=e=>{Oe?zc("onBackgroundAudioPause",{},"onBackgroundAudioPause fail: 接口已废弃，请使用wx.getBackgroundAudioManager 代替"):qt("onMusicPause",x.surroundThirdByTryCatch(e,"at onBackgroundAudioPause callback function"))},gPe=e=>{Oe?zc("onBackgroundAudioStop",{},"onBackgroundAudioStop fail: 接口已废弃，请使用wx.getBackgroundAudioManager 代替"):qt("onMusicEnd",x.surroundThirdByTryCatch(e,"at onBackgroundAudioStop callback function"))},vPe=e=>{md("getAvailableAudioSources",e)},mPe=new WeakMap;function yPe(e,t){mPe.set(this,Object.assign(mPe.get(this),{[e]:t})),this.promise.then((()=>{md("operateAudioPlayer",{operationType:"update",containerId:mPe.get(this).containerId,[e]:t,success:e=>{},fail:e=>{}})})).catch((e=>{}))}class bPe{constructor(){mPe.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),md("operateAudioPlayer",{operationType:"create",success:e=>{mPe.set(this,Object.assign(mPe.get(this),{containerId:e.containerId})),this.resolve(e)},fail:e=>{this.reject(e)}}),X2()&&yPe.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{md("operateAudioPlayer",{operationType:"start",containerId:mPe.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{md("operateAudioPlayer",{operationType:"addTask",containerId:mPe.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{md("operateAudioPlayer",{operationType:"delTask",containerId:mPe.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{md("operateAudioPlayer",{operationType:"stop",containerId:mPe.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{md("operateAudioPlayer",{operationType:"remove",containerId:mPe.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}}),mPe.delete(this)}))))}set volume(e){X2()||yPe.call(this,"audioVolume",e)}get volume(){return mPe.get(this).audioVolume}}var _Pe=()=>xf.MediaToolKit,wPe=(e,t)=>$E(e,`MediaToolKit.${t}`),SPe=(e,t)=>BE(e,`MediaToolKit.${t}`),CPe=new WeakMap;function kPe(e,t){CPe.set(this,Object.assign(CPe.get(this),{[e]:t})),this.promise.then((()=>{_Pe().audioUpdate({containerId:CPe.get(this).containerId,[e]:t},wPe((e=>{e.errCode}),"audioUpdate"))})).catch((e=>{}))}class IPe{constructor(){CPe.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),_Pe().audioCreate({},wPe((e=>{0===e.errCode?(CPe.set(this,Object.assign(CPe.get(this),{containerId:e.containerId})),this.resolve(e)):this.reject(e)}),"audioCreate")),X2()&&kPe.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{_Pe().audioStart({containerId:CPe.get(this).containerId},wPe((r=>{0===r.errCode?e(r):t(r)}),"audioStart"))}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{_Pe().audioAddTask({containerId:CPe.get(this).containerId,taskId:e.videoDecoderId},wPe((e=>{0===e.errCode?t(e):r(e)}),"audioAddTask"))}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{_Pe().audioDelTask({containerId:CPe.get(this).containerId,taskId:e.videoDecoderId},wPe((e=>{0===e.errCode?t(e):r(e)}),"audioDelTask"))}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{_Pe().audioStop({containerId:CPe.get(this).containerId},wPe((r=>{0===r.errCode?e(r):t(r)}),"audioStop"))}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{_Pe().audioRemove({containerId:CPe.get(this).containerId},wPe((r=>{0===r.errCode?e(r):t(r)}),"audioRemove")),CPe.delete(this)}))))}set volume(e){X2()||kPe.call(this,"audioVolume",e)}get volume(){return CPe.get(this).audioVolume}}var PPe=()=>_Pe()&&_Pe().audioCreate?new IPe:new bPe,APe=null,xPe=!1;RC((()=>{xPe=!0})),EK((()=>{xPe=!1,APe&&(EPe(APe),APe=null)}));var TPe=100,EPe=function(e={}){if(Oe)zc("chooseMessageFile",e,"chooseMessageFile:fail SDK暂不支持此API");else{var t=bd(Wh(this));e.type||(e.type="all"),void 0===e.count&&(e.count=TPe),Vc("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?zc("chooseMessageFile",e,"param count should be larger than 0."):void 0===e.extension||"[object Array]"===Object.prototype.toString.call(e.extension)?!e.extension||e.extension.length?(e.count>TPe&&(e.count=TPe),xPe?APe=e:t("chooseMessageFile",e)):zc("chooseMessageFile",e,"param extension should not be empty."):zc("chooseMessageFile",e,"param extension should be Array."))}},MPe=function(e={}){if(Yie("choose_media"))zc("chooseMedia",e,"This api is temporarily unavailable");else if(void 0===e.count&&(e.count=20),Vc("chooseMedia",e,{count:1})){e.count<1&&(e.count=1),e.count>20&&(e.count=20);var t=Wh(this);bd(t)("chooseMedia",e,{beforeSuccess(e){var r;null!==(r=e.tempFiles)&&void 0!==r&&r.length&&Hie("chooseMedia",e.tempFiles.map((e=>e.tempFilePath)),t)}})}},RPe="previewMedia",OPe=function(e={}){if(Oe)zc("previewMedia",e,"previewMedia:fail SDK暂不支持此API");else if(oae(RPe))zc(RPe,e,"no permission");else if(Vc(RPe,e,{sources:[]})){var t=!1;if(e.sources=e.sources.filter((e=>!(!/^https?:\/\//.test(e.url)&&!Cf("previewImageLocal"))||(t=!0,!1))),t&&console.error("local media source is filtered due to no permission"),e.sources.length>50)zc(RPe,e,"maximum length of sources is 50");else if(0!==e.sources.length){var r;Oe||(r=G2(U2.previewMedia));var n=Wh(this),i=e=>"string"!=typeof n||"/"!==e[0]?e:hp(n,e),a=JSON.parse(JSON.stringify(e.sources)),o=[],s=[];a.forEach(((e,t)=>{e.type=e.type||"image",e.index=t,e.url=e.url?D1.get(e.url)||e.url:"","image"===e.type?o.push(e):"video"===e.type&&s.push(e)}));var l=o.map((e=>e.url||"")).map((e=>i(e))),c=s.map((e=>e.url||"")).map((e=>i(e)));K0(l,"image",(t=>{var n=t.data.map((e=>e.url));K0(c,"video",(t=>{var i=t.data.map((e=>e.url));n.forEach(((e,t)=>{var r=o[t].index;a[r].url=e})),i.forEach(((e,t)=>{var r=s[t].index;a[r].url=e}));var l=Object.assign({current:0},e,{sources:a});r?H2(U2.previewMedia,RPe,l):md(RPe,l),W2(RPe,{sources:l.sources||[]},!1,r)}))}))}else zc(RPe,e,"length of sources is 0")}},DPe=(e={})=>{md("chooseMultiMedia",e)},LPe=Object.assign,NPe=new WeakMap,BPe=new WeakMap;function $Pe(e,t){return e.map((e=>"video"===e.kind?new WPe(e.trackId,e.duration,t):"audio"===e.kind?new FPe(e.trackId,e.duration,t):null))}class jPe{constructor(e,t=0,r){this.id=e,this.duration=t,this.mediaContainer=r}appendFrom(e){if(!(e instanceof jPe))throw new Error("Parameter 1 should be a MediaTrack");NPe.get(this.mediaContainer).then((()=>{md("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,appendFrom:e.id,fail:up((e=>{throw new Error(`fail to append. errMsg: ${e.errMsg}`)}),"at MediaTrack.appendFrom method")})}))}slice(e,t){var r=[];if("number"==typeof e){if("number"!=typeof t)throw new Error("Parameter 2 should be a number.");r.push([e,t])}else r=e;NPe.get(this.mediaContainer).then((()=>{md("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,slice:r,fail:up((e=>{throw new Error(`fail to slice. errMsg: ${e.errMsg}`)}),"at MediaTrack.slice method")})}))}}class FPe extends jPe{constructor(e,t,r){super(e,t,r),this.kind="audio"}set volume(e){if(!(e>=0&&e<=1))throw new Error("Parameter 1 out of range.");NPe.get(this.mediaContainer).then((()=>{md("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,volume:e,fail:up((e=>{throw new Error(`fail to set volume. errMsg: ${e.errMsg}`)}),"at MediaTrack.volume setter")})}))}set atempo(e){if(!(e>=0&&e<=10))throw new Error("Parameter 1 out of range.");NPe.get(this.mediaContainer).then((()=>{md("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,atempo:e,fail:up((e=>{throw new Error(`fail to set atempo. errMsg: ${e.errMsg}`)}),"at MediaTrack.atempo setter")})}))}}class WPe extends jPe{constructor(e,t,r){super(e,t,r),this.kind="video"}}class UPe{constructor(){var e=new Promise((e=>{md("operateMediaContainer",{operationType:"create",success:t=>{this.id=t.containerId,e()},fail:up((e=>{throw new Error(`fail to createMediaContainer. errMsg: ${e.errMsg}`)}),"at createMediaContainer function")})}));NPe.set(this,e)}extractDataSource(e={}){Vc("createMediaContainer.extractDataSource",e,{source:""})&&NPe.get(this).then((()=>{md("operateMediaTrack",LPe(e,{operationType:"get",containerId:this.id}),{beforeSuccess:e=>{e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource"),e.tracks=$Pe(e.tracks,this)},beforeFail(e){e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource")}})}))}addTrack(e){if(!(e instanceof jPe))throw new Error("Parameter 1 should be a MediaTrack");if("video"===e.kind){if(BPe.get(this))throw new Error("Only can be added one video track.");BPe.set(this,!0)}NPe.get(this).then((()=>{md("operateMediaTrack",{operationType:"create",containerId:this.id,trackId:e.id,fail:up((e=>{throw new Error(`fail to addTrack. errMsg: ${e.errMsg}`)}),"at createMediaContainer.addTrack function")})}))}removeTrack(e){if(!(e instanceof jPe))throw new Error("Parameter 1 should be a MediaTrack");"video"===e.kind&&BPe.set(this,!1),NPe.get(this).then((()=>{md("operateMediaTrack",{operationType:"remove",containerId:this.id,trackId:e.id})}))}export(e={}){e.mimeType||(e.mimeType="mp4"),NPe.get(this).then((()=>{md("operateMediaContainer",LPe(e,{operationType:"export",containerId:this.id}))}))}destroy(){NPe.get(this).then((()=>{md("operateMediaContainer",{operationType:"remove",containerId:this.id})}))}}function VPe(){return new UPe}var qPe=new Yt,zPe=new WeakMap,GPe=new WeakMap;qt("onCanvasPlayerStateChange",(e=>{var t=e.state;"playEnd"===t?qPe.emit(e.containerId,{event:"ended",data:{}}):"buffSize"===t?qPe.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}}):"error"===t&&qPe.emit(e.containerId,{event:"error",data:{message:e.errMsg,code:e.errCode}})}));var HPe=!1;function KPe(){ke&&(HPe||(HPe=!0,_Pe().addEventListener("onPlayerBuffSize",SPe((e=>{qPe.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}})}),"onPlayerBuffSize")),_Pe().addEventListener("onPlayerPlayEnd",SPe((e=>{qPe.emit(e.containerId,{event:"ended",data:{}})}),"onPlayerPlayEnd"))))}function JPe(e){return XPe.apply(this,arguments)}function XPe(){return(XPe=xd()((function*(e){var t=GPe.get(e);yield t}))).apply(this,arguments)}function YPe(e,t,r={}){return yd("operateCanvasPlayer",{...r,containerId:e.id||0,operationType:t})}function QPe(e,t,r={}){return new Promise(((n,i)=>{_Pe()[t]({...r,containerId:e.id||0},wPe((e=>{if(0!==e.errCode){var r=new Error(e.errMsg||`${t} failed`);return Object.assign(r,e),void i(r)}n(e)}),t))}))}function ZPe(e,t,r){var n=zPe.get(e);n&&n.emit(t,r)}class eAe{constructor(){this.id=void 0,this.width=void 0,this.height=void 0}}class tAe{constructor(){var e=this;this.id=void 0,this.width=void 0,this.height=void 0,this.buffer=void 0,this.buffId=void 0;var t=new Yt;zPe.set(this,t);var r=xd()((function*(){if(ke){KPe();var r=yield new Promise(((e,t)=>{_Pe().playerCreate({},wPe((r=>{if(0!==r.errCode){var n=new Error(r.errMsg||"create failed");return Object.assign(n,r),void t(n)}e(r)}),"playerCreate"))}));e.id=r.containerId}else{var n=yield yd("operateCanvasPlayer",{operationType:"create"});e.id=n.containerId}e.id&&qPe.on(e.id,(({event:e,data:r})=>t.emit(e,r)))}))();GPe.set(this,r)}start(e={}){var t=this;return xd()((function*(){var r;if(yield JPe(t),ke){var n=e.source;if(!e.source||!/^(http|https):\/\/.*/i.test(e.source))n=(yield yd("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath;var i=yield QPe(t,"playerStart",{filePath:n,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},i.video),t.width=r.width||0,t.height=r.height||0,t.buffer=new ArrayBuffer(t.width*t.height*4),r.video=i.video,r.audio=i.audio}else{var a=yield YPe(t,"start",{source:e.source,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},a.video),t.buffId=a.buffId,t.width=r.width||0,t.height=r.height||0,r.video=a.video,r.audio=a.audio}return ZPe(t,"start",r),r}))()}seek(e,t="inaccurate"){var r=this;return xd()((function*(){yield JPe(r);var n="accurate"===t;return ke?yield QPe(r,"playerSeek",{seekStamp:e,seekByStamp:n}):yield YPe(r,"seek",{seekStamp:e,seekByStamp:n}),ZPe(r,"seek",{position:e}),e}))()}wait(e=!1){var t=this;return xd()((function*(){yield JPe(t),ke?yield QPe(t,"playerWait",{wait:e}):yield YPe(t,"wait",{wait:e}),ZPe(t,"wait",{})}))()}stop(){var e=this;return xd()((function*(){yield JPe(e),ke?yield QPe(e,"playerStop",{}):yield YPe(e,"stop",{}),ZPe(e,"stop",{})}))()}remove(){var e=this;return xd()((function*(){if(yield JPe(e),e.id){qPe.removeAllListeners(e.id);var t=zPe.get(e);null==t||t.eventNames().forEach((e=>t.removeAllListeners(e)))}ke?yield QPe(e,"playerRemove",{}):yield YPe(e,"remove",{})}))()}getFrameData(){var e,t,r,n,i,a;if(ke?_Pe().playerGetFrame({containerId:this.id,buffer:this.buffer},wPe((a=>{a.got&&(e=this.buffer),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts}),"playerGetFrame")):md("operateCanvasPlayer",{operationType:"getFrame",containerId:this.id,success:a=>{a.got&&(e=Rp().get(this.buffId))&&(e.__proto__=ArrayBuffer.prototype),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts},fail(e){var t;a=new Error(null===(t=e.errMsg)||void 0===t?void 0:t.replace(/operateCanvasPlayer/g,"getFrameData")),Object.assign(a,e)}}),a)throw a;return e?{width:this.width,height:this.height,data:e,pts:t,pkPts:r,dts:n,pkDts:i}:null}on(e,t){var r=zPe.get(this);null==r||r.on(e,t)}off(e,t){var r=zPe.get(this);null==r||r.off(e,t)}get videoDecoderId(){return this.id}}var rAe=function(){var e=xd()((function*(e,t,r){var n=yield e[t](r),{code:i,desc:a,...o}=n;if(i)throw new Error(a);return o}));return function(t,r,n){return e.apply(this,arguments)}}(),nAe=null,iAe=["onbufferchange","firstaudioplayed","onaudioplayback"];class aAe{constructor(){this.id=void 0,this.width=void 0,this.height=void 0,this.currentFrame=null,this.context=new xf.WeMedia.Context,this.player=void 0,this.reader=void 0,this.avSync=void 0,this.emitter=new Yt,this.reader=this.context.createReader(),this.avSync=this.context.createAvSync(),this.avSync.reader=this.reader,this.player=this.context.createPlayer(),this.player.avSync=this.avSync,this.player.onvideorenderer=e=>{this.currentFrame=e,e.frame&&this.emitter.emit("frame",e.frame)},this.player.onerror=e=>this.emitter.emit("error",e),this.player.onend=e=>this.emitter.emit("ended",e),this.player.onfirstvideorendered=e=>this.emitter.emit("firstvideorendered",e)}start(e){var t=this;return xd()((function*(){var r,n,i,a,o,s=e.source;ke&&(e.source&&/^(http|https):\/\/.*/i.test(e.source)||(s=(yield yd("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath));var l={abort:null!==(r=e.abortAudio)&&void 0!==r&&r},c={abort:null!==(n=e.abortVideo)&&void 0!==n&&n,expectFormat:null!==(i=e.videoFormat)&&void 0!==i?i:xf.WeMedia.MediaFormat.kMMMediaFormatVideoRgba32};t.avSync.reader=t.reader;var{mediainfo:u}=yield rAe(t.reader,"start",{uri:s,enableHardwareAccelerated:!0,audioSetting:l,videoSetting:c}),d=Object.assign({},u.video);d.width=null===(a=u.video)||void 0===a?void 0:a.width,d.height=null===(o=u.video)||void 0===o?void 0:o.height,d.video=u.video,d.audio=u.audio,t.width=d.width||0,t.height=d.height||0;var p={};return void 0!==e.videoDataType&&(p.dataType=e.videoDataType),yield rAe(t.player,"start",{audioSetting:l,videoSetting:p}),t.emitter.emit("start",d),e.startTime&&(yield t.seek(e.startTime)),d}))()}seek(e){var t=this;return xd()((function*(){e&&(yield rAe(t.reader,"seek",{stamp:e})),t.emitter.emit("seek",{})}))()}wait(e){var t=this;return xd()((function*(){yield rAe(t.player,e?"pause":"resume")}))()}stop(){var e=this;return xd()((function*(){yield rAe(e.reader,"stop"),yield rAe(e.player,"stop"),e.emitter.emit("stop",{})}))()}mute(e=!0){var t=this;return xd()((function*(){yield rAe(t.player,"mute",e)}))()}remove(){var e=this;return xd()((function*(){e.emitter.eventNames().forEach((t=>e.emitter.removeAllListeners(t)))}))()}getFrameData(){if(this.currentFrame){var{code:e,desc:t,frame:r}=this.currentFrame;if(this.currentFrame=null,e)throw new Error(t);return r}return null}on(e,t){iAe.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=t=>this.emitter.emit(e,t)),this.emitter.addListener(e,t)}off(e,t){this.emitter.removeListener(e,t),iAe.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=void 0)}}function oAe(e={}){return"wemedia"===e.type?new aAe:new tAe}var sAe={File_NotExist:16013,GameRecorder_AbortWhileNotStartRecording:22403,GameRecorder_BGMNotFound:22613,GameRecorder_EditDurationOutOfLimit:22633,GameRecorder_InternalFailed:22012,GameRecorder_NoVideo:22603,GameRecorder_NotSupported:22022,GameRecorder_PauseWhileAlreadyPaused:22213,GameRecorder_PauseWhileNotStartRecording:22203,GameRecorder_ResumeWhileNotStartRecording:22303,GameRecorder_ResumeWhileRecording:22313,GameRecorder_StartBitRateInvalid:22113,GameRecorder_StartDurationInvalid:22103,GameRecorder_StartFPSInvalid:22123,GameRecorder_StartGOPInvalid:22133,GameRecorder_StartWhileAlreadyStartRecording:22143,GameRecorder_StartWhilePaused:22153,GameRecorder_StopWhileNotStartRecording:22503,GameRecorder_TimeRangeInvalid:22623,GameRecorder_TimeRangeTooShort:22643,GameRecorder_UnknownError:22002,Global_APINoAuthorization:10022,Global_APINoPermission:10012,Global_FileStorageNotEnough:10031,MediaRecorder_AbortWhileNotStartRecording:23403,MediaRecorder_BGMNotFound:23613,MediaRecorder_EditDurationOutOfLimit:23633,MediaRecorder_InternalFailed:23012,MediaRecorder_NoVideo:23603,MediaRecorder_NotSupported:23022,MediaRecorder_PauseWhileAlreadyPaused:23213,MediaRecorder_PauseWhileNotStartRecording:23203,MediaRecorder_ResumeWhileNotStartRecording:23303,MediaRecorder_ResumeWhileRecording:23313,MediaRecorder_StartBitRateInvalid:23113,MediaRecorder_StartDurationInvalid:23103,MediaRecorder_StartFPSInvalid:23123,MediaRecorder_StartGOPInvalid:23133,MediaRecorder_StartWhileAlreadyStartRecording:23143,MediaRecorder_StartWhilePaused:23153,MediaRecorder_StopWhileNotStartRecording:23503,MediaRecorder_TimeRangeInvalid:23623,MediaRecorder_TimeRangeTooShort:23643,MediaRecorder_UnknownError:23002,Network_RequestTimeout:14012,OK:0,Render_CanvasIllegalInvocation:13013,Render_FontFileInvalid:13023,Render_ImageLoadFailed:13033,Storage_NotFound:15013},lAe=e=>e.toString().endsWith(1),cAe=e=>e.toString().endsWith(2),uAe=e=>e.toString().endsWith(3),dAe=e=>{var t={101:{code:sAe.MediaRecorder_StartDurationInvalid,message:"MediaRecorder.start:fail duration invalid"},103:{code:sAe.MediaRecorder_StartWhileAlreadyStartRecording,message:"MediaRecorder.start:fail start while already start recording"},104:{code:sAe.MediaRecorder_StartWhilePaused,message:"MediaRecorder.start:fail start while paused"},106:{code:sAe.MediaRecorder_StartBitRateInvalid,message:"MediaRecorder.start:fail bitrate invalid"},107:{code:sAe.MediaRecorder_StartFPSInvalid,message:"MediaRecorder.start:fail fps invalid"},108:{code:sAe.MediaRecorder_StartGOPInvalid,message:"MediaRecorder.start:fail gop invalid"},201:{code:sAe.MediaRecorder_PauseWhileNotStartRecording,message:"MediaRecorder.pause:fail pause while not start recording"},202:{code:sAe.MediaRecorder_PauseWhileAlreadyPaused,message:"MediaRecorder.pause:fail pause while already paused"},301:{code:sAe.MediaRecorder_ResumeWhileNotStartRecording,message:"MediaRecorder.resume:fail resume while not start recording"},302:{code:sAe.MediaRecorder_ResumeWhileRecording,message:"MediaRecorder.resume:fail resume while recording"},401:{code:sAe.MediaRecorder_AbortWhileNotStartRecording,message:"MediaRecorder.abort:fail abort while not start recording"},501:{code:sAe.MediaRecorder_StopWhileNotStartRecording,message:"MediaRecorder.stop:fail stop while not start recording"},503:{code:sAe.Global_FileStorageNotEnough,message:"MediaRecorder.stop:fail file storage not enough"}};return t[e]?t[e]:[102,110,111,502,710,810].includes(e)?{code:sAe.MediaRecorder_InternalFailed,message:"MediaRecorder:fail internal failed"}:{code:sAe.MediaRecorder_UnknownError,message:"MediaRecorder:fail unknown error"}},pAe=new Qt,hAe=new WeakMap,fAe=new WeakMap,gAe=new WeakMap,vAe=new WeakSet,mAe=new WeakMap,yAe=new Map,bAe=e=>new Promise((t=>setTimeout(t,e)));function _Ae(e){if(vAe.has(e))throw new Error("this mediaRecorder has been destroyed")}function wAe(e){return SAe.apply(this,arguments)}function SAe(){return SAe=xd()((function*(e){var t=mAe.get(e);yield t})),SAe.apply(this,arguments)}function CAe(e,t={}){return new Promise(((r,n)=>{_Pe()[e](t,wPe((t=>{if(t&&t.errCode&&0!==t.errCode){var i=new Error(t.errMsg||`${e} failed`);return Object.assign(i,t),void n(i)}r(t)}),e))}))}function kAe(e,t,r={}){var n=fAe.get(e),i=n.id,a=0;return(n.isOffscreenCanvas||n instanceof j6)&&(a=n._innerId),yd("operateMediaRecorder",{...r,canvasId:i,offScreenCanvasId:a,operationType:t})}qt("onMediaRecorderStateChange",(e=>{var t=e.state,r=e.canvasId<<0;if(delete e.state,"timeUpdate"===t)pAe.emit(r,{event:"timeupdate",data:{currentTime:e.currentTime}});else if("error"===t){var n=dAe(e.errCode);pAe.emit(r,{event:"error",data:{error:n}})}}));var IAe=!1;function PAe(){ke&&(IAe||(IAe=!0,_Pe().addEventListener("onRecorderTimeUpdate",SPe((e=>{if(yAe.has(e.containerId)){var t=yAe.get(e.containerId);pAe.emit(t,{event:"timeupdate",data:{currentTime:e.stamp}})}}),"onRecorderTimeUpdate"))))}class AAe{constructor(e,t={}){var r=this;fAe.set(this,e);var n=new Qt;hAe.set(this,n),pAe.on(e.id,(({event:e,data:t})=>n.emit(e,t))),"number"==typeof t.duration?this.duration=Math.min(7200,Math.max(5,t.duration)):this.duration=7200,"number"==typeof t.videoBitsPerSecond?this.videoBitsPerSecond=Math.min(3e3,Math.max(600,t.videoBitsPerSecond)):this.videoBitsPerSecond=1e3,this.fps=t.fps||24,this.gop=t.gop||12,this.width=t.width||e.width,this.height=t.height||e.height,this.timeUpdateInterval=t.timeUpdateInterval||this.gop,this.audioPlayerId=t.audioPlayerId;var i=xd()((function*(){if(ke){PAe();var t=yield CAe("recorderCreate",{});r._containerId=t.containerId,yAe.set(r._containerId,e.id)}else yield kAe(r,"create",{});n.emit("create",{})}))();mAe.set(this,i)}pause(){var e=this;return xd()((function*(){_Ae(e),yield wAe(e);var t=hAe.get(e);if(ke){var r=yield CAe("recorderUpdate",{containerId:e._containerId,pause:!0});t.emit("pause",r)}else yield kAe(e,"pause",{}),t.emit("pause")}))()}resume(){var e=this;return xd()((function*(){_Ae(e),yield wAe(e);var t=hAe.get(e);if(ke){var r=yield CAe("recorderUpdate",{containerId:e._containerId,pause:!1});t.emit("resume",r)}else yield kAe(e,"resume"),t.emit("resume")}))()}start(){var e=this;return xd()((function*(){_Ae(e),yield wAe(e);var t=hAe.get(e),r=fAe.get(e),n={width:e.width,height:e.height,fps:e.fps,bitrate:e.videoBitsPerSecond,gop:e.gop,duration:e.duration,timeUpdateInterval:e.timeUpdateInterval,audioPlayerId:e.audioPlayerId,cumulativeStamp:!0};if(n.duration=Math.floor(1e3*e.duration),ke){var i=yield yd("private_fileSystemConvert",{operationType:"getWxFilePath",fileName:`${Date.now()}`,mimeType:"mp4",autoDeleteIfExists:!0});e.tempFilePath=i.localId,e._absoluteFilePath=i.filePath,n.containerId=e._containerId,n.canvasId=r._innerId||r.id,n.notifyVideoKeyFrame=!0,n.filePath=i.filePath;var a=yield CAe("recorderStart",n);t.emit("start",a)}else yield kAe(e,"start",n),t.emit("start")}))()}stop(){var e=this;return xd()((function*(){_Ae(e),yield wAe(e);var t,r=hAe.get(e);if(ke){yield CAe("recorderStop",{containerId:e._containerId});var n=yield CAe("analysis",{filePath:e._absoluteFilePath});t={duration:n.duration,tempFilePath:e.tempFilePath,fileSize:n.size}}else{var{tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}=yield kAe(e,"stop");t={tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}}return r.emit("stop",t),t}))()}requestFrame(e=(()=>{})){var t=this;return xd()((function*(){_Ae(t),yield wAe(t);var r=fAe.get(t);if(ke){var n=yield new Promise((e=>{_Pe().recorderCapture({containerId:t._containerId},wPe(e,"recorderCapture"))})),i=1e3/t.fps;n.got?e():(yield bAe(i),yield t.requestFrame(e))}else r.isOffscreenCanvas&&r instanceof Z6?setTimeout((()=>{e(),p.g.WeixinCanvas.recordFrame(r.id,r._innerId)})):(yield new Promise((e=>r.requestAnimationFrame(e))),e())}))()}on(e,t){"timeUpdate"===e&&(e="timeupdate"),hAe.get(this).on(e,t)}off(e,t){"timeUpdate"===e&&(e="timeupdate"),hAe.get(this).off(e,t)}destroy(){var e=this;return xd()((function*(){_Ae(e);var t=fAe.get(e);pAe.removeAllListeners(t.id);var r=hAe.get(e);r.eventNames().forEach((e=>r.removeAllListeners(e))),gAe.delete(t),vAe.add(e),ke?(yield wAe(e),yAe.delete(e._containerId),yield CAe("recorderRemove",{containerId:e._containerId})):yield kAe(e,"remove")}))()}}function xAe(e,t){if(gAe.get(e))throw new Error("Already created by the same canvas node.");if(!e||"function"!=typeof e.getContext||!e.getContext("webgl")&&!e.getContext("wgfx"))throw new Error("Cannot get webgl context from target.");var r=new AAe(e,t);return gAe.set(e,r),r}var TAe=1,EAe=300,MAe=Object.assign,RAe=(e={})=>{if(Vc("openVideoEditor",e,{filePath:""})){var{title:t,filePath:r}=e,{minDuration:n,maxDuration:i}=e;n=parseInt(n,10),i=parseInt(i,10),(!n||n<TAe)&&(n=TAe),(!i||i>EAe)&&(i=EAe),md("openVideoEditor",MAe({},e,{editType:2,editorParmas:{title:t,filePath:r,minDuration:n,maxDuration:i,toolBars:["crop"],buttonOptions:[]}}),{beforeSuccess(e){e.duration=e.duraionMs||Math.round(e.duration/1e3),e.size=e.size||e.fileSize,delete e.fileSize,delete e.chosenId,delete e.videoMD5,delete e.duraionS,delete e.duraionMs,delete e.duraionUs}})}},OAe=["setStorage","batchSetStorage","getStorage","batchGetStorage","getStorageInfo","removeStorage","clearStorage"],DAe={};OAe.forEach((e=>{DAe[e]=(t={})=>{var r=`${t.key}`;if((t=Object.assign({},t,{key:r}),r)&&r.toString().startsWith("__plugins__"))return void zc(e,t,`invalid key "${r}"`);return um[Mg()?"singlePage":"app"][`${e}`](t)},DAe[`${e}Sync`]=(t,...r)=>{var{_keyOrKeyList:n}=JSON.parse(JSON.stringify({_keyOrKeyList:t}));if((!Array.isArray(n)||!n.some((e=>e.toString().startsWith("__plugins__"))))&&(Array.isArray(n)||!n||!n.toString().startsWith("__plugins__")))return um[Mg()?"singlePage":"app"][`${e}Sync`].call(void 0,n,...r)};var t=`plugin_${e}`;DAe[t]=(t={})=>{var r=`${t.key}`;return r&&(r=`__plugins__/${r}`),t=Object.assign({},t,{key:r}),um[Mg()?"singlePage":"app"][`${e}`](t)},DAe[`${t}Sync`]=(t,...r)=>{var{_keyOrKeyList:n}=JSON.parse(JSON.stringify({_keyOrKeyList:t}));return n&&!Array.isArray(n)&&(n=`__plugins__/${n}`),Array.isArray(n)&&(n=n.map((e=>`__plugins__/${e}`))),um[Mg()?"singlePage":"app"][`${e}Sync`].call(void 0,n,...r)}}));const LAe=DAe;var NAe=JSON.parse('{"ad":{"unit-id":63,"ad-intervals":63,"ad-type":63,"ad-theme":63,"bindload":63,"binderror":63,"bindclose":63,"_p":63},"ad-custom":{"unit-id":63,"ad-intervals":63,"bindload":63,"binderror":63,"_p":63},"aria-component":63,"audio":{"id":7,"src":7,"loop":7,"controls":7,"poster":7,"name":7,"author":7,"binderror":7,"bindplay":7,"bindpause":7,"bindtimeupdate":7,"bindended":7,"_p":7},"button":{"size":{"_p":63,"default":63,"mini":63},"type":{"_p":63,"primary":63,"default":63,"warn":63},"plain":63,"disabled":63,"loading":63,"form-type":{"_p":63,"submit":63,"reset":63},"open-type":{"_p":63,"contact":63,"liveActivity":63,"share":63,"getPhoneNumber":63,"getRealtimePhoneNumber":63,"getUserInfo":63,"launchApp":63,"openSetting":63,"feedback":63,"chooseAvatar":63,"agreePrivacyAuthorization":63},"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"lang":{"_p":63,"en":63,"zh_CN":63,"zh_TW":63},"session-from":63,"send-message-title":63,"send-message-path":63,"send-message-img":63,"app-parameter":63,"show-message-card":63,"phone-number-no-quota-toast":63,"bindgetuserinfo":63,"bindcontact":63,"createliveactivity":63,"bindgetphonenumber":63,"bindgetrealtimephonenumber":63,"binderror":63,"bindopensetting":63,"bindlaunchapp":63,"bindchooseavatar":63,"bindagreeprivacyauthorization":63,"_p":63},"camera":{"mode":{"_p":23,"normal":23,"scanCode":23},"resolution":{"_p":23,"low":23,"medium":23,"high":23},"device-position":{"_p":23,"front":23,"back":23},"flash":{"_p":23,"auto":23,"on":23,"off":23,"torch":23},"frame-size":{"_p":23,"small":23,"medium":23,"large":23},"bindstop":23,"binderror":23,"bindinitdone":23,"bindscancode":23,"_p":23},"canvas":{"type":63,"canvas-id":63,"disable-scroll":63,"bindtouchstart":63,"bindtouchmove":63,"bindtouchend":63,"bindtouchcancel":63,"bindlongtap":63,"binderror":63,"_p":63},"channel-live":{"feed-id":63,"finder-user-name":63,"_p":63},"channel-video":{"feed-id":63,"finder-user-name":63,"feed-token":63,"autoplay":63,"loop":63,"muted":63,"object-fit":{"_p":63,"contain":63,"fill":63,"cover":63},"binderror":63,"_p":63},"checkbox":{"value":63,"disabled":63,"checked":63,"color":63,"_p":63},"checkbox-group":{"bindchange":63,"_p":63},"cover-image":{"src":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"bindload":63,"binderror":63,"_p":63},"cover-view":{"scroll-top":63,"_p":63},"editor":{"read-only":63,"placeholder":63,"show-img-size":63,"show-img-toolbar":63,"show-img-resize":63,"enable-formats":63,"bindready":63,"bindfocus":63,"bindblur":63,"bindinput":63,"bindstatuschange":63,"_p":63},"form":{"report-submit":63,"report-submit-timeout":63,"bindsubmit":63,"bindreset":63,"_p":63},"functional-page-navigator":{"version":{"_p":63,"develop":63,"trial":63,"release":63},"name":{"_p":63,"loginAndGetUserInfo":63,"requestPayment":63,"chooseAddress":63,"chooseInvoice":63,"chooseInvoiceTitle":63},"args":63,"bindsuccess":63,"bindfail":63,"bindcancel":63,"_p":63},"grid-view":{"type":{"_p":7,"aligned":7,"masonry":7},"cross-axis-count":7,"max-cross-axis-extent":7,"main-axis-gap":7,"cross-axis-gap":7,"padding":7,"_p":7},"icon":{"type":63,"size":63,"color":63,"_p":63},"image":{"src":63,"mode":{"_p":63,"scaleToFill":63,"aspectFit":63,"aspectFill":63,"widthFix":63,"heightFix":63,"top":63,"bottom":63,"center":63,"left":63,"right":63,"top left":63,"top right":63,"bottom left":63,"bottom right":63},"show-menu-by-longpress":63,"binderror":63,"bindload":63,"webp":63,"lazy-load":63,"_p":63},"input":{"value":63,"type":{"_p":63,"text":63,"number":63,"idcard":63,"digit":63,"safe-password":63,"nickname":63,"wxpay":63},"password":63,"placeholder":63,"placeholder-style":63,"disabled":63,"maxlength":63,"cursor-spacing":63,"auto-focus":63,"focus":63,"confirm-type":{"_p":63,"send":63,"search":63,"next":63,"go":63,"done":63},"always-embed":63,"confirm-hold":63,"cursor":63,"cursor-color":63,"selection-start":63,"selection-end":63,"adjust-position":63,"hold-keyboard":63,"safe-password-cert-path":63,"safe-password-length":63,"safe-password-time-stamp":63,"safe-password-nonce":63,"safe-password-salt":63,"safe-password-custom-hash":63,"bindinput":63,"bindfocus":63,"bindblur":63,"bindconfirm":63,"bindkeyboardheightchange":63,"bindnicknamereview":63,"placeholder-class":63,"_p":63},"keyboard-accessory":7,"label":{"for":63,"_p":63},"live-player":{"src":63,"mode":{"_p":63,"live":63,"RTC":63},"autoplay":63,"muted":63,"orientation":{"_p":63,"vertical":63,"horizontal":63},"object-fit":{"_p":63,"contain":63,"fillCrop":63},"background-mute":63,"min-cache":63,"max-cache":63,"sound-mode":{"_p":63,"speaker":63,"ear":63},"auto-pause-if-navigate":63,"auto-pause-if-open-native":63,"picture-in-picture-mode":{"_p":63,"[]":63,"push":63,"pop":63},"picture-in-picture-init-position=":63,"enable-auto-rotation":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"enable-casting":63,"bindstatechange":63,"bindfullscreenchange":63,"bindnetstatus":63,"bindaudiovolumenotify":63,"bindenterpictureinpicture":63,"bindleavepictureinpicture":63,"bindcastinguserselect":63,"bindcastingstatechange":63,"bindcastinginterrupt":63,"_p":63},"live-pusher":{"url":31,"mode":{"_p":31,"QVGA":31,"HVGA":31,"SD":31,"HD":31,"FHD":31,"RTC":31},"autopush":31,"enableVideoCustomRender":31,"muted":31,"enable-camera":31,"auto-focus":31,"orientation":{"_p":31,"vertical":31,"horizontal":31},"beauty":31,"whiteness":31,"aspect":31,"min-bitrate":31,"max-bitrate":31,"audio-quality":31,"waiting-image":31,"waiting-image-hash":31,"zoom":31,"device-position":31,"background-mute":31,"mirror":31,"remote-mirror":31,"local-mirror":{"_p":31,"auto":31,"enable":31,"disable":31},"audio-reverb-type":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"6":31,"7":31,"_p":31},"enable-mic":31,"enable-agc":31,"enable-ans":31,"audio-volume-type":{"_p":31,"auto":31,"media":31,"voicecall":31},"video-width":31,"video-height":31,"beauty-style":{"_p":31,"smooth":31,"nature":31},"filter":{"_p":31,"standard":31,"pink":31,"nostalgia":31,"blues":31,"romantic":31,"cool":31,"fresher":31,"solor":31,"aestheticism":31,"whitening":31,"cerisered":31},"picture-in-picture-mode":{"_p":31,"[]":31,"push":31,"pop":31},"voice-changer-type":31,"custom-effect":31,"skin-whiteness":31,"skin-smoothness":31,"face-thinness":31,"eye-bigness":31,"fps":31,"bindstatechange":31,"bindnetstatus":31,"binderror":31,"bindbgmstart":31,"bindbgmprogress":31,"bindbgmcomplete":31,"bindaudiovolumenotify":31,"bindenterpictureinpicture":31,"bindleavepictureinpicture":31,"_p":31},"map":{"longitude":63,"latitude":63,"scale":63,"min-scale":63,"max-scale":63,"markers":63,"covers":63,"polyline":63,"circles":63,"controls":63,"include-points":63,"show-location":63,"polygons":63,"subkey":63,"layer-style":63,"rotate":63,"skew":63,"enable-3D":63,"show-compass":63,"show-scale":63,"enable-overlooking":63,"enable-auto-max-overlooking":63,"enable-zoom":63,"enable-scroll":63,"enable-rotate":63,"enable-satellite":63,"enable-traffic":63,"enable-poi":63,"enable-building":63,"setting":63,"bindtap":63,"bindmarkertap":63,"bindlabeltap":63,"bindcontroltap":63,"bindcallouttap":63,"bindupdated":63,"bindregionchange":63,"bindpoitap":63,"bindpolylinetap":63,"bindabilitysuccess":63,"bindabilityfail":63,"bindauthsuccess":63,"bindinterpolatepoint":63,"binderror":63,"_p":63},"match-media":{"min-width":63,"max-width":63,"width":63,"min-height":63,"max-height":63,"height":63,"orientation":63,"_p":63},"movable-area":{"scale-area":63,"_p":63},"movable-view":{"direction":63,"inertia":63,"out-of-bounds":63,"x":63,"y":63,"damping":63,"friction":63,"disabled":63,"scale":63,"scale-min":63,"scale-max":63,"scale-value":63,"animation":63,"bindchange":63,"bindscale":63,"htouchmove":63,"vtouchmove":63,"_p":63},"native-component":63,"navigation-bar":{"title":63,"loading":63,"front-color":63,"background-color":63,"color-animation-duration":63,"color-animation-timing-func":63,"_p":63},"navigator":{"target":{"_p":63,"self":63,"miniProgram":63},"url":63,"open-type":{"_p":63,"navigate":63,"redirect":63,"switchTab":63,"reLaunch":63,"navigateBack":63,"exit":63},"delta":63,"app-id":63,"path":63,"extra-data":63,"version":{"_p":63,"develop":63,"trial":63,"release":63},"short-link":63,"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"bindsuccess":63,"bindfail":63,"bindcomplete":63,"_p":63},"official-account":23,"open-container":{"closed-color":7,"closed-elevation":7,"closed-border-radius":7,"middle-color":7,"open-color":7,"open-elevation":7,"open-border-radius":7,"transition-duration":7,"transition-type":{"_p":7,"fade":7,"fadeThrough":7},"_p":7},"open-data":{"type":{"_p":63,"groupName":63,"userNickName":63,"userAvatarUrl":63,"userGender":63,"userCity":63,"userProvince":63,"userCountry":63,"userLanguage":63},"open-gid":63,"lang":{"_p":63,"en":63,"zh_CN":63,"zh_TW":63},"default-text":63,"default-avatar":63,"binderror":63,"_p":63},"page-container":{"show":63,"duration":63,"z-index":63,"overlay":63,"position":63,"round":63,"close-on-slide-down":63,"overlay-style":63,"custom-style":63,"bind:beforeenter":63,"bind:enter":63,"bind:afterenter":63,"bind:beforeleave":63,"bind:leave":63,"bind:afterleave":63,"bind:clickoverlay":63,"_p":63},"page-meta":{"background-text-style":63,"background-color":63,"background-color-top":63,"background-color-bottom":63,"root-background-color":63,"page-style":63,"page-font-size":63,"root-font-size":63,"page-orientation":63,"bindresize":63,"scroll-top":63,"scroll-duration":63,"bindscroll":63,"bindscrolldone":63,"_p":63},"picker":{"header-text":63,"mode":{"_p":63,"selector":63,"multiSelector":63,"time":63,"date":63,"region":63},"disabled":63,"bindcancel":63,"_p":63},"picker-view":{"value":63,"mask-class":63,"indicator-style":63,"bindchange":63,"bindpickstart":63,"bindpickend":63,"indicator-class":63,"mask-style":63,"immediate-change":63,"_p":63},"picker-view-column":63,"progress":{"percent":63,"show-info":63,"border-radius":63,"font-size":63,"stroke-width":63,"color":63,"activeColor":63,"backgroundColor":63,"active":63,"active-mode":63,"duration":63,"bindactiveend":63,"_p":63},"radio":{"value":63,"checked":63,"disabled":63,"color":63,"_p":63},"radio-group":{"bindchange":63,"_p":63},"rich-text":{"nodes":63,"space":{"_p":63,"ensp":63,"emsp":63,"nbsp":63},"user-select":63,"_p":63},"root-portal":{"enable":63,"_p":63},"scroll-view":{"scroll-x":63,"scroll-y":63,"upper-threshold":63,"lower-threshold":63,"scroll-top":63,"scroll-left":63,"scroll-into-view":63,"scroll-into-view-offset":63,"scroll-with-animation":63,"enable-back-to-top":63,"enable-passive":63,"refresher-enabled":63,"refresher-threshold":63,"refresher-default-style":63,"refresher-background":63,"refresher-triggered":63,"bounces":63,"show-scrollbar":63,"fast-deceleration":63,"binddragstart":63,"binddragging":63,"binddragend":63,"bindscrolltoupper":63,"bindscrolltolower":63,"bindscroll":63,"bindrefresherpulling":63,"bindrefresherrefresh":63,"bindrefresherrestore":63,"bindrefresherabort":63,"scroll-anchoring":63,"enable-flex":63,"enhanced":63,"paging-enabled":63,"using-sticky":63,"_p":63},"selection":{"disable-context-menu":7,"bindselectionchange":7,"_p":7},"share-element":{"key":63,"transform":63,"duration":63,"easing-function":63,"_p":63},"slider":{"min":63,"max":63,"step":63,"disabled":63,"value":63,"color":63,"selected-color":63,"activeColor":63,"backgroundColor":63,"block-size":63,"block-color":63,"show-value":63,"bindchange":63,"bindchanging":63,"_p":63},"snapshot":{"mode":{"_p":7,"view":7,"picture":7},"_p":7},"store-home":{"appid":7,"_p":7},"store-product":{"appid":7,"product-id":7,"product-promotion-link":7,"_p":7},"swiper":{"indicator-dots":63,"indicator-color":63,"indicator-active-color":63,"autoplay":63,"current":63,"interval":63,"duration":63,"circular":63,"vertical":63,"display-multiple-items":63,"previous-margin":63,"next-margin":63,"easing-function":{"_p":63,"default":63,"linear":63,"easeInCubic":63,"easeOutCubic":63,"easeInOutCubic":63},"bindchange":63,"bindtransition":63,"bindanimationfinish":63,"snap-to-edge":63,"_p":63},"swiper-item":{"item-id":63,"skip-hidden-item-layout":63,"_p":63},"switch":{"checked":63,"disabled":63,"type":63,"color":63,"bindchange":63,"_p":63},"text":{"selectable":63,"user-select":63,"space":{"_p":63,"ensp":63,"emsp":63,"nbsp":63},"decode":63,"_p":63},"textarea":{"value":63,"placeholder":63,"placeholder-style":63,"disabled":63,"maxlength":63,"auto-focus":63,"focus":63,"auto-height":63,"cursor-spacing":63,"cursor":63,"selection-start":63,"selection-end":63,"adjust-position":63,"hold-keyboard":63,"disable-default-padding":63,"confirm-type":{"_p":63,"send":63,"search":63,"next":63,"go":63,"done":63,"return":63},"confirm-hold":63,"adjust-keyboard-to":{"_p":63,"cursor":63,"bottom":63},"bindfocus":63,"bindblur":63,"bindlinechange":63,"bindinput":63,"bindconfirm":63,"bindkeyboardheightchange":63,"placeholder-class":63,"fixed":63,"show-confirm-bar":63,"_p":63},"video":{"src":63,"duration":63,"controls":63,"danmu-list":63,"danmu-btn":63,"enable-danmu":63,"autoplay":63,"loop":63,"muted":63,"initial-time":63,"page-gesture":63,"direction":{"0":63,"90":63,"_p":63,"-90":63},"show-progress":63,"show-fullscreen-btn":63,"show-play-btn":63,"show-center-play-btn":63,"enable-progress-gesture":63,"object-fit":{"_p":63,"contain":63,"fill":63,"cover":63},"poster":63,"show-mute-btn":63,"title":63,"play-btn-position":{"_p":63,"bottom":63,"center":63},"enable-play-gesture":63,"auto-pause-if-navigate":63,"auto-pause-if-open-native":63,"vslide-gesture":63,"vslide-gesture-in-fullscreen":63,"show-bottom-progress":63,"ad-unit-id":63,"poster-for-crawler":63,"show-casting-button":63,"picture-in-picture-mode":{"_p":63,"[]":63,"push":63,"pop":63},"picture-in-picture-show-progress":63,"picture-in-picture-init-position=":63,"enable-auto-rotation":63,"show-screen-lock-button":63,"show-snapshot-button":63,"show-background-playback-button":63,"background-poster":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"is-drm":63,"is-live":63,"provision-url":63,"certificate-url":63,"license-url":63,"preferred-peak-bit-rate":63,"bindplay":63,"bindpause":63,"bindended":63,"bindtimeupdate":63,"bindfullscreenchange":63,"bindwaiting":63,"binderror":63,"bindprogress":63,"bindloadedmetadata":63,"bindcontrolstoggle":63,"bindenterpictureinpicture":63,"bindleavepictureinpicture":63,"bindseekcomplete":63,"bindcastinguserselect":63,"bindcastingstatechange":63,"bindcastinginterrupt":63,"_p":63},"view":{"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"_p":63},"voip-room":{"openid":7,"mode":{"_p":7,"camera":7,"video":7},"device-position":{"_p":7,"front":7,"back":7},"object-fit":{"_p":7,"fill":7,"contain":7,"cover":7},"binderror":7,"_p":7},"web-view":{"src":31,"bindmessage":31,"bindload":31,"binderror":31,"_p":31}}');const BAe=NAe;var $Ae=JSON.parse('{"class":{"Animation":{"export":63,"step":63,"matrix":63,"matrix3d":63,"rotate":63,"rotate3d":63,"rotateX":63,"rotateY":63,"rotateZ":63,"scale":63,"scale3d":63,"scaleX":63,"scaleY":63,"scaleZ":63,"skew":63,"skewX":63,"skewY":63,"translate":63,"translate3d":63,"translateX":63,"translateY":63,"translateZ":63,"opacity":63,"backgroundColor":63,"width":63,"height":63,"left":63,"right":63,"top":63,"bottom":63,"_p":63},"AudioBuffer":{"getChannelData":63,"copyFromChannel":63,"copyToChannel":63,"sampleRate":63,"length":63,"duration":63,"numberOfChannels":63,"_p":63},"AudioContext":{"setSrc":63,"play":63,"pause":63,"seek":63,"_p":63},"AudioListener":{"positionX":63,"positionY":63,"positionZ":63,"forwardX":63,"forwardY":63,"forwardZ":63,"upX":63,"upY":63,"upZ":63,"setOrientation":63,"setPosition":63,"_p":63},"AudioParam":{"defaultValue":63,"maxValue":63,"minValue":63,"value":63,"_p":63},"AuthSetting":{"scope.userInfo":7,"scope.userLocation":7,"scope.userFuzzyLocation":7,"scope.address":7,"scope.invoiceTitle":7,"scope.invoice":7,"scope.werun":7,"scope.record":7,"scope.writePhotosAlbum":7,"scope.camera":7,"scope.bluetooth":7,"scope.addPhoneContact":7,"scope.addPhoneCalendar":7,"_p":7},"BLEPeripheralServer":{"addService":63,"removeService":63,"startAdvertising":63,"stopAdvertising":63,"writeCharacteristicValue":63,"onCharacteristicWriteRequest":63,"offCharacteristicWriteRequest":63,"onCharacteristicReadRequest":63,"offCharacteristicReadRequest":63,"onCharacteristicSubscribed":63,"offCharacteristicSubscribed":63,"onCharacteristicUnsubscribed":63,"offCharacteristicUnsubscribed":63,"_p":63},"BackgroundAudioManager":{"play":63,"pause":63,"seek":63,"stop":63,"onCanplay":63,"onWaiting":63,"onError":63,"onPlay":63,"onPause":63,"onSeeking":63,"onSeeked":63,"onEnded":63,"onStop":63,"onTimeUpdate":63,"onNext":63,"onPrev":63,"src":63,"startTime":63,"title":63,"epname":63,"singer":63,"coverImgUrl":63,"webUrl":63,"protocol":63,"playbackRate":63,"duration":63,"currentTime":63,"paused":63,"buffered":63,"referrerPolicy":63,"referrerPath":63,"audioType":63,"_p":63},"BeaconInfo":{"uuid":7,"major":7,"minor":7,"proximity":7,"accuracy":7,"rssi":7,"_p":7},"BufferSourceNode":{"connect":63,"disconnect":63,"start":63,"stop":63,"buffer":63,"loop":63,"loopStart":63,"loopEnd":63,"playbackRate":63,"onended":63,"_p":63},"CacheManager":{"addRules":7,"addRule":7,"deleteRules":7,"deleteRule":7,"clearRules":7,"on":7,"off":7,"start":7,"stop":7,"match":7,"deleteCaches":7,"deleteCache":7,"clearCaches":7,"mode":7,"origin":7,"maxAge":7,"state":7,"_p":7},"CameraContext":{"onCameraFrame":63,"takePhoto":63,"setZoom":63,"startRecord":63,"stopRecord":63,"_p":63},"CameraFrameListener":{"start":63,"stop":63,"_p":63},"Canvas":{"getContext":63,"createImage":63,"createImageData":63,"createPath2D":63,"requestAnimationFrame":63,"cancelAnimationFrame":63,"toDataURL":63,"width":63,"height":63,"_p":63},"CanvasContext":{"draw":63,"createLinearGradient":63,"createCircularGradient":63,"createPattern":63,"measureText":63,"save":63,"restore":63,"beginPath":63,"moveTo":63,"lineTo":63,"quadraticCurveTo":63,"bezierCurveTo":63,"arc":63,"rect":63,"arcTo":63,"clip":63,"fillRect":63,"strokeRect":63,"clearRect":63,"fill":63,"stroke":63,"closePath":63,"scale":63,"rotate":63,"translate":63,"drawImage":63,"strokeText":63,"transform":63,"setTransform":63,"setFillStyle":63,"setStrokeStyle":63,"setShadow":63,"setGlobalAlpha":63,"setLineWidth":63,"setLineJoin":63,"setLineCap":63,"setLineDash":63,"setMiterLimit":63,"fillText":63,"setFontSize":63,"setTextAlign":63,"setTextBaseline":63,"fillStyle":63,"strokeStyle":63,"shadowOffsetX":63,"shadowOffsetY":63,"shadowColor":63,"shadowBlur":63,"lineWidth":63,"lineCap":63,"lineJoin":63,"miterLimit":63,"lineDashOffset":63,"font":63,"globalAlpha":63,"globalCompositeOperation":63,"_p":63},"CanvasGradient":{"addColorStop":63,"_p":63},"Color":63,"DownloadTask":{"abort":63,"onProgressUpdate":63,"offProgressUpdate":63,"onHeadersReceived":63,"offHeadersReceived":63,"_p":63},"DraggableSheetContext":{"scrollTo":7,"_p":7},"EditorContext":{"format":63,"insertDivider":63,"insertImage":63,"insertText":63,"setContents":63,"getContents":63,"clear":63,"removeFormat":63,"undo":63,"redo":63,"blur":63,"scrollIntoView":63,"getSelectionText":63,"_p":63},"EntryList":{"getEntries":63,"getEntriesByType":63,"getEntriesByName":63,"_p":63},"EventChannel":{"emit":63,"on":63,"once":63,"off":63,"_p":63},"FileStats":{"path":63,"stats":63,"_p":63},"FileSystemManager":{"access":63,"appendFile":63,"saveFile":63,"getSavedFileList":63,"removeSavedFile":63,"close":63,"closeSync":63,"copyFile":63,"fstat":63,"fstatSync":63,"ftruncate":63,"ftruncateSync":63,"getFileInfo":63,"mkdir":63,"open":63,"openSync":63,"read":63,"readSync":63,"readCompressedFile":63,"readCompressedFileSync":63,"readFile":63,"readZipEntry":63,"readdir":63,"rename":63,"rmdir":63,"stat":63,"truncate":63,"truncateSync":63,"unlink":63,"unzip":63,"write":63,"writeSync":63,"writeFile":63,"_p":63},"Image":{"src":63,"width":63,"height":63,"referrerPolicy":63,"onload":63,"onerror":63,"_p":63},"ImageData":{"width":63,"height":63,"data":63,"_p":63},"InferenceSession":{"onLoad":7,"offLoad":7,"onError":7,"offError":7,"run":7,"destroy":7,"_p":7},"InnerAudioContext":{"play":63,"pause":63,"stop":63,"seek":63,"destroy":63,"onCanplay":63,"offCanplay":63,"onPlay":63,"offPlay":63,"onPause":63,"offPause":63,"onStop":63,"offStop":63,"onEnded":63,"offEnded":63,"onTimeUpdate":63,"offTimeUpdate":63,"onError":63,"offError":63,"onWaiting":63,"offWaiting":63,"onSeeking":63,"offSeeking":63,"onSeeked":63,"offSeeked":63,"src":63,"startTime":63,"autoplay":63,"loop":63,"obeyMuteSwitch":63,"volume":63,"playbackRate":63,"duration":63,"currentTime":63,"paused":63,"buffered":63,"referrerPolicy":63,"_p":63},"IntersectionObserver":{"relativeTo":63,"relativeToViewport":63,"observe":63,"disconnect":63,"_p":63},"InterstitialAd":{"show":7,"load":7,"destroy":7,"onLoad":7,"offLoad":7,"onError":7,"offError":7,"onClose":7,"offClose":7,"_p":7},"IsoDep":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"getHistoricalBytes":5,"_p":5},"LivePlayerContext":{"play":63,"stop":63,"mute":63,"pause":63,"resume":63,"requestFullScreen":63,"exitFullScreen":63,"exitPictureInPicture":63,"snapshot":63,"requestBackgroundPlayback":63,"exitBackgroundPlayback":63,"requestPictureInPicture":63,"startCasting":63,"switchCasting":63,"reconnectCasting":63,"exitCasting":63,"_p":63},"LivePusherContext":{"start":63,"stop":63,"pause":63,"resume":63,"switchCamera":63,"snapshot":63,"toggleTorch":63,"playBGM":63,"stopBGM":63,"pauseBGM":63,"resumeBGM":63,"setBGMVolume":63,"setMICVolume":63,"startPreview":63,"stopPreview":63,"sendMessage":63,"exitPictureInPicture":63,"setZoom":63,"getMaxZoom":63,"applyFilter":63,"clearFilters":63,"applySticker":63,"clearStickers":63,"applyLipStickMakeup":63,"applyEyeShadowMakeup":63,"applyBlusherStickMakeup":63,"applyFaceContourMakeup":63,"applyEyeBrowMakeup":63,"clearMakeups":63,"onCustomRendererEvent":63,"createOffscreenCanvas":63,"_p":63},"LogManager":{"debug":63,"info":63,"log":63,"warn":63,"_p":63},"MapContext":{"getCenterLocation":63,"setLocMarkerIcon":63,"moveToLocation":63,"translateMarker":63,"moveAlong":63,"includePoints":63,"getRegion":63,"getRotate":63,"getSkew":63,"getScale":63,"setCenterOffset":63,"removeCustomLayer":63,"addCustomLayer":63,"addGroundOverlay":63,"addVisualLayer":63,"removeVisualLayer":63,"executeVisualLayerCommand":63,"addArc":63,"removeArc":63,"setBoundary":63,"updateGroundOverlay":63,"removeGroundOverlay":63,"toScreenLocation":63,"fromScreenLocation":63,"openMapApp":63,"addMarkers":63,"removeMarkers":63,"initMarkerCluster":63,"on":63,"eraseLines":63,"_p":63},"MediaAudioPlayer":{"start":63,"addAudioSource":63,"removeAudioSource":63,"stop":63,"destroy":63,"volume":63,"_p":63},"MediaContainer":{"extractDataSource":63,"addTrack":63,"removeTrack":63,"export":63,"destroy":63,"_p":63},"MediaQueryObserver":{"observe":63,"disconnect":63,"_p":63},"MediaRecorder":{"pause":39,"resume":39,"start":39,"stop":39,"requestFrame":39,"on":39,"off":39,"destroy":39,"_p":39},"MediaTrack":{"kind":63,"duration":63,"volume":63,"_p":63},"MifareClassic":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"MifareUltralight":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NFCAdapter":{"startDiscovery":5,"stopDiscovery":5,"getNdef":5,"getNfcA":5,"getNfcB":5,"getIsoDep":5,"getNfcF":5,"getNfcV":5,"getMifareClassic":5,"getMifareUltralight":5,"onDiscovered":5,"offDiscovered":5,"tech":5,"_p":5},"Ndef":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"onNdefMessage":5,"offNdefMessage":5,"writeNdefMessage":5,"_p":5},"NfcA":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"getAtqa":5,"getSak":5,"_p":5},"NfcB":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NfcF":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NfcV":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NodesRef":{"fields":63,"boundingClientRect":63,"scrollOffset":63,"context":63,"node":63,"ref":63,"_p":63},"OffscreenCanvas":{"getContext":63,"createImage":63,"width":63,"height":63,"_p":63},"Path2D":{"addPath":63,"arc":63,"arcTo":63,"bezierCurveTo":63,"closePath":63,"ellipse":63,"lineTo":63,"moveTo":63,"quadraticCurveTo":63,"rect":63,"_p":63},"Performance":{"getEntries":63,"getEntriesByType":63,"getEntriesByName":63,"createObserver":63,"setBufferSize":63,"_p":63},"PerformanceEntry":{"entryType":63,"name":63,"startTime":63,"duration":63,"path":63,"referrerPath":63,"pageId":63,"referrerPageId":63,"navigationStart":63,"navigationType":63,"moduleName":63,"fileList":63,"viewLayerReadyTime":63,"initDataSendTime":63,"initDataRecvTime":63,"viewLayerRenderStartTime":63,"viewLayerRenderEndTime":63,"packageName":63,"packageSize":63,"uri":63,"initiatorType":63,"transferSize":63,"domainLookupStart":63,"domainLookupEnd":63,"_p":63},"PerformanceObserver":{"observe":63,"disconnect":63,"supportedEntryTypes":63,"_p":63},"PreDownloadSubpackageTask":{"onProgressUpdate":7,"_p":7},"ReadResult":{"bytesRead":63,"arrayBuffer":63,"_p":63},"RealtimeLogManager":{"info":63,"warn":63,"error":63,"setFilterMsg":63,"addFilterMsg":63,"_p":63},"RealtimeTagLogManager":{"info":63,"warn":63,"error":63,"setFilterMsg":63,"addFilterMsg":63,"_p":63},"RecorderManager":{"start":63,"pause":63,"resume":63,"stop":63,"onStart":63,"onResume":63,"onPause":63,"onStop":63,"onFrameRecorded":63,"onError":63,"onInterruptionBegin":63,"onInterruptionEnd":63,"_p":63},"RenderingContext":63,"RequestTask":{"abort":63,"onHeadersReceived":63,"offHeadersReceived":63,"onChunkReceived":63,"offChunkReceived":63,"_p":63},"RewardedVideoAd":{"load":7,"show":7,"destroy":7,"onLoad":7,"offLoad":7,"onError":7,"offError":7,"onClose":7,"offClose":7,"_p":7},"ScrollViewContext":{"triggerRefresh":63,"closeRefresh":63,"triggerTwoLevel":63,"closeTwoLevel":63,"scrollTo":63,"scrollIntoView":63,"scrollEnabled":63,"bounces":63,"showScrollbar":63,"pagingEnabled":63,"fastDeceleration":63,"decelerationDisabled":63,"_p":63},"SelectorQuery":{"in":63,"select":63,"selectAll":63,"selectViewport":63,"exec":63,"_p":63},"Snapshot":{"takeSnapshot":7,"width":7,"height":7,"_p":7},"SocketTask":{"send":63,"close":63,"onOpen":63,"onClose":63,"onError":63,"onMessage":63,"_p":63},"Stats":{"isDirectory":63,"isFile":63,"mode":63,"size":63,"lastAccessedTime":63,"lastModifiedTime":63,"_p":63},"SubscriptionsSetting":{"mainSwitch":7,"itemSettings":7,"_p":7},"TCPSocket":{"bindWifi":7,"connect":7,"write":7,"close":7,"onClose":7,"offClose":7,"onConnect":7,"offConnect":7,"onError":7,"offError":7,"onMessage":7,"offMessage":7,"onBindWifi":7,"offBindWifi":7,"_p":7},"Tensor":{"shape":7,"data":7,"type":7,"_p":7},"Tensors":{"key":7,"_p":7},"UDPSocket":{"bind":63,"setTTL":63,"send":63,"connect":63,"write":63,"close":63,"onClose":63,"offClose":63,"onError":63,"offError":63,"onListening":63,"offListening":63,"onMessage":63,"offMessage":63,"_p":63},"UpdateManager":{"applyUpdate":63,"onCheckForUpdate":63,"onUpdateReady":63,"onUpdateFailed":63,"_p":63},"UploadTask":{"abort":63,"onProgressUpdate":63,"offProgressUpdate":63,"onHeadersReceived":63,"offHeadersReceived":63,"_p":63},"UserCryptoManager":{"getLatestUserKey":63,"getRandomValues":63,"_p":63},"UserInfo":{"nickName":7,"avatarUrl":7,"gender":7,"country":7,"province":7,"city":7,"language":7,"_p":7},"VKBodyAnchor":{"id":7,"type":7,"detectId":7,"size":7,"origin":7,"confidence":7,"points":7,"score":7,"_p":7},"VKCamera":{"getProjectionMatrix":63,"transform":63,"viewMatrix":63,"intrinsics":63,"_p":63},"VKDepthAnchor":{"id":63,"type":63,"size":63,"depthArray":63,"_p":63},"VKFaceAnchor":{"id":7,"type":7,"detectId":7,"origin":7,"size":7,"points":7,"angle":7,"confidence":7,"_p":7},"VKFrame":{"getCameraTexture":63,"getCameraBuffer":63,"getCameraJpgBuffer":63,"getDisplayTransform":63,"getDepthBuffer":63,"getLegSegmentBuffer":63,"timestamp":63,"camera":63,"_p":63},"VKHandAnchor":{"id":7,"type":7,"detectId":7,"size":7,"origin":7,"confidence":7,"points":7,"score":7,"gesture":7,"_p":7},"VKMarkerAnchor":{"id":63,"type":63,"transform":63,"markerId":63,"path":63,"_p":63},"VKOCRAnchor":{"id":63,"type":63,"text":63,"_p":63},"VKOSDAnchor":{"id":63,"type":63,"markerId":63,"size":63,"path":63,"origin":63,"_p":63},"VKPlaneAnchor":{"id":63,"type":63,"transform":63,"size":63,"alignment":63,"_p":63},"VKSession":{"start":63,"stop":63,"destroy":63,"requestAnimationFrame":63,"cancelAnimationFrame":63,"getVKFrame":63,"hitTest":63,"addMarker":63,"removeMarker":63,"getAllMarker":63,"addOSDMarker":63,"removeOSDMarker":63,"getAllOSDMarker":63,"update3DMode":63,"updateMaskMode":63,"updateOSDThreshold":63,"setDepthOccRange":63,"detectFace":63,"detectBody":63,"detectHand":63,"detectDepth":63,"runOCR":63,"on":63,"off":63,"state":63,"config":63,"cameraSize":63,"_p":63},"VideoContext":{"play":63,"pause":63,"stop":63,"seek":63,"sendDanmu":63,"playbackRate":63,"requestFullScreen":63,"exitFullScreen":63,"showStatusBar":63,"hideStatusBar":63,"exitPictureInPicture":63,"requestBackgroundPlayback":63,"exitBackgroundPlayback":63,"startCasting":63,"switchCasting":63,"reconnectCasting":63,"exitCasting":63,"_p":63},"VideoDecoder":{"start":63,"seek":63,"stop":63,"remove":63,"getFrameData":63,"on":63,"off":63,"_p":63},"WebAudioContext":{"close":63,"resume":63,"suspend":63,"createIIRFilter":63,"createWaveShaper":63,"createConstantSource":63,"createOscillator":63,"createGain":63,"createPeriodicWave":63,"createBiquadFilter":63,"createBufferSource":63,"createChannelMerger":63,"createChannelSplitter":63,"createDelay":63,"createDynamicsCompressor":63,"createScriptProcessor":63,"createAnalyser":63,"createPanner":63,"createBuffer":63,"decodeAudioData":63,"state":63,"onstatechange":63,"currentTime":63,"destination":63,"listener":63,"sampleRate":63,"_p":63},"WebAudioContextNode":63,"WifiInfo":{"SSID":7,"BSSID":7,"secure":7,"signalStrength":7,"frequency":7,"_p":7},"Worker":{"postMessage":63,"terminate":63,"testOnProcessKilled":63,"onMessage":63,"onProcessKilled":63,"env":63,"_p":63},"WriteResult":{"bytesWritten":63,"_p":63},"console":{"debug":7,"log":7,"info":7,"warn":7,"error":7,"group":7,"groupEnd":7,"_p":7},"worklet.Easing":7,"worklet.scrollViewContext":7,"wx.env":{"USER_DATA_PATH":7,"_p":7},"wx.router":{"addRouteBuilder":7,"removeRouteBuilder":7,"getRouteContext":7,"_p":7},"wx.worklet":{"shared":7,"derived":7,"cancelAnimation":7,"runOnUI":7,"runOnJS":7,"timing":7,"spring":7,"decay":7,"sequence":7,"repeat":7,"delay":7,"scrollTo":7,"_p":7}},"method":{"addCard":{"object":{"cardList":7},"success":{"cardList":7},"_p":7},"addFileToFavorites":{"object":{"filePath":7,"fileName":7},"_p":7},"addPhoneCalendar":{"object":{"title":7,"startTime":7,"allDay":7,"description":7,"location":7,"endTime":7,"alarm":7,"alarmOffset":7},"_p":7},"addPhoneContact":{"object":{"firstName":7,"photoFilePath":7,"nickName":7,"lastName":7,"middleName":7,"remark":7,"mobilePhoneNumber":7,"weChatNumber":7,"addressCountry":7,"addressState":7,"addressCity":7,"addressStreet":7,"addressPostalCode":7,"organization":7,"title":7,"workFaxNumber":7,"workPhoneNumber":7,"hostNumber":7,"email":7,"url":7,"workAddressCountry":7,"workAddressState":7,"workAddressCity":7,"workAddressStreet":7,"workAddressPostalCode":7,"homeFaxNumber":7,"homePhoneNumber":7,"homeAddressCountry":7,"homeAddressState":7,"homeAddressCity":7,"homeAddressStreet":7,"homeAddressPostalCode":7},"_p":7},"addPhoneRepeatCalendar":{"object":{"title":7,"startTime":7,"allDay":7,"description":7,"location":7,"endTime":7,"alarm":7,"alarmOffset":7,"repeatInterval":{"day":7,"week":7,"month":7,"year":7,"_p":7},"repeatEndTime":7},"_p":7},"addVideoToFavorites":{"object":{"videoPath":7,"thumbPath":7},"_p":7},"arrayBufferToBase64":63,"authPrivateMessage":{"object":{"shareTicket":63},"success":{"errMsg":63,"valid":63,"encryptedData":63,"iv":63},"_p":63},"authorize":{"object":{"scope":63},"_p":63},"authorizeForMiniProgram":{"object":{"scope":{"record":63,"writePhotosAlbum":63,"camera":63,"_p":63}},"_p":63},"base64ToArrayBuffer":63,"batchGetStorage":{"object":{"keyList":7},"_p":7},"batchGetStorageSync":7,"batchSetStorage":{"object":{"kvList":7},"_p":7},"batchSetStorageSync":7,"canIUse":63,"canvasGetImageData":{"object":{"canvasId":7,"x":7,"y":7,"width":7,"height":7},"success":{"width":7,"height":7,"data":7},"_p":7},"canvasPutImageData":{"object":{"canvasId":7,"data":7,"x":7,"y":7,"width":7,"height":7},"_p":7},"canvasToTempFilePath":{"object":{"x":63,"y":63,"width":63,"height":63,"destWidth":63,"destHeight":63,"canvasId":63,"canvas":63,"fileType":{"jpg":63,"png":63,"_p":63},"quality":63},"success":{"tempFilePath":63},"_p":63},"checkDeviceSupportHevc":{"success":{"supportHevc":7},"_p":7},"checkIsAddedToMyMiniProgram":{"success":{"added":63},"_p":63},"checkIsOpenAccessibility":{"success":{"open":7},"_p":7},"checkIsPictureInPictureActive":7,"checkIsSoterEnrolledInDevice":{"object":{"checkAuthMode":{"fingerPrint":7,"facial":7,"speech":7,"_p":7}},"success":{"isEnrolled":7,"errMsg":7},"_p":7},"checkIsSupportSoterAuthentication":{"success":{"supportMode":{"fingerPrint":7,"facial":7,"speech":7,"_p":7}},"_p":7},"checkSession":63,"chooseAddress":{"success":{"userName":15,"postalCode":15,"provinceName":15,"cityName":15,"countyName":15,"streetName":15,"detailInfo":15,"detailInfoNew":15,"nationalCode":15,"telNumber":15,"errMsg":15},"_p":15},"chooseContact":{"success":{"phoneNumber":7,"displayName":7,"phoneNumberList":7},"_p":7},"chooseImage":{"object":{"count":31,"sizeType":{"original":31,"compressed":31,"_p":31},"sourceType":{"album":31,"camera":31,"_p":31}},"success":{"tempFilePaths":31,"tempFiles":31},"_p":31},"chooseInvoice":{"success":{"invoiceInfo":7},"_p":7},"chooseInvoiceTitle":{"success":{"type":{"0":7,"1":7,"_p":7},"title":7,"taxNumber":7,"companyAddress":7,"telephone":7,"bankName":7,"bankAccount":7,"errMsg":7},"_p":7},"chooseLicensePlate":{"success":{"plateNumber":39},"_p":39},"chooseLocation":{"object":{"latitude":31,"longitude":31},"success":{"name":31,"address":31,"latitude":31,"longitude":31},"_p":31},"chooseMedia":{"object":{"count":31,"mediaType":{"image":31,"video":31,"mix":31,"_p":31},"sourceType":{"album":31,"camera":31,"_p":31},"maxDuration":31,"sizeType":31,"camera":{"back":31,"front":31,"_p":31}},"success":{"tempFiles":31,"type":31},"_p":31},"chooseMessageFile":{"object":{"count":7,"type":{"all":7,"video":7,"image":7,"file":7,"_p":7},"extension":7},"success":{"tempFiles":7},"_p":7},"choosePoi":{"success":{"type":31,"city":31,"name":31,"address":31,"latitude":31,"longitude":31},"_p":31},"chooseVideo":{"object":{"sourceType":{"album":31,"camera":31,"_p":31},"compressed":31,"maxDuration":31,"camera":{"back":31,"front":31,"_p":31}},"success":{"tempFilePath":31,"duration":31,"size":31,"height":31,"width":31},"_p":31},"clearStorage":63,"clearStorageSync":63,"closeBLEConnection":{"object":{"deviceId":7},"_p":7},"closeBluetoothAdapter":7,"closeSocket":{"object":{"code":63,"reason":63},"_p":63},"compressImage":{"object":{"src":7,"quality":7,"compressedWidth":7,"compressedHeight":7},"success":{"tempFilePath":7},"_p":7},"compressVideo":{"object":{"src":7,"quality":{"low":7,"medium":7,"high":7,"_p":7},"bitrate":7,"fps":7,"resolution":7},"success":{"tempFilePath":7,"size":7},"_p":7},"connectSocket":{"object":{"url":63,"header":63,"protocols":63,"tcpNoDelay":63,"perMessageDeflate":63,"timeout":63,"forceCellularNetwork":63},"_p":63},"connectWifi":{"object":{"SSID":7,"BSSID":7,"password":7,"maunal":7,"partialInfo":7},"_p":7},"createAnimation":{"object":{"duration":63,"timingFunction":{"linear":63,"ease":63,"ease-in":63,"ease-in-out":63,"ease-out":63,"step-start":63,"step-end":63,"_p":63},"delay":63,"transformOrigin":63},"_p":63},"createAudioContext":7,"createBLEConnection":{"object":{"deviceId":7,"timeout":7},"_p":7},"createBLEPeripheralServer":{"success":{"server":7},"_p":7},"createBufferURL":31,"createCacheManager":{"object":{"origin":7,"mode":{"weakNetwork":7,"always":7,"none":7,"_p":7},"maxAge":7,"extra":7},"_p":7},"createCameraContext":63,"createCanvasContext":63,"createInferenceSession":{"object":{"model":7,"precesionLevel":{"0":7,"1":7,"2":7,"3":7,"4":7,"_p":7},"allowQuantize":7,"allowNPU":7,"typicalShape":7},"_p":7},"createInnerAudioContext":{"object":{"useWebAudioImplement":63},"_p":63},"createIntersectionObserver":63,"createInterstitialAd":{"object":{"adUnitId":7},"_p":7},"createLivePlayerContext":63,"createLivePusherContext":63,"createMapContext":63,"createMediaAudioPlayer":7,"createMediaContainer":7,"createMediaRecorder":39,"createOffscreenCanvas":{"object":{"type":{"webgl":63,"2d":63,"_p":63},"width":63,"height":63,"compInst":63},"_p":63},"createRewardedVideoAd":{"object":{"adUnitId":7,"multiton":7},"_p":7},"createSelectorQuery":63,"createTCPSocket":{"object":{"type":31},"_p":31},"createUDPSocket":47,"createVKSession":{"object":{"version":{"v1":7,"v2":7,"_p":7},"track":{"plane":7,"marker":7,"OSD":7,"depth":7,"face":7,"OCR":7,"IDCard":7,"body":7,"hand":7,"shoe":7,"threeDof":7,"_p":7},"gl":7},"_p":7},"createVideoContext":63,"createVideoDecoder":7,"createWebAudioContext":63,"createWorker":63,"cropImage":{"object":{"src":7,"cropScale":{"16:9":7,"9:16":7,"4:3":7,"3:4":7,"5:4":7,"4:5":7,"1:1":7,"_p":7}},"success":{"tempFilePath":7},"_p":7},"disableAlertBeforeUnload":7,"downloadFile":{"object":{"url":63,"header":63,"timeout":63,"filePath":63,"useHighPerformanceMode":63,"enableProfile":63,"enableHttp2":63,"enableQuic":63},"success":{"tempFilePath":63,"filePath":63,"statusCode":63,"profile":63},"_p":63},"editImage":{"object":{"src":7},"success":{"tempFilePath":7},"_p":7},"enableAlertBeforeUnload":{"object":{"message":7},"_p":7},"exitMiniProgram":63,"exitVoIPChat":31,"faceDetect":{"object":{"frameBuffer":7,"width":7,"height":7,"enablePoint":7,"enableConf":7,"enableAngle":7,"enableMultiFace":7},"success":{"detectRect":7,"x":7,"y":7,"pointArray":7,"confArray":7,"angleArray":7,"faceInfo":7},"_p":7},"getAccountInfoSync":{"return":{"miniProgram":{"appId":63,"envVersion":63,"version":63,"_p":63},"plugin":{"appId":63,"version":63,"_p":63}},"_p":63},"getApiCategory":7,"getAppAuthorizeSetting":{"return":{"albumAuthorized":31,"bluetoothAuthorized":31,"cameraAuthorized":31,"locationAuthorized":31,"locationReducedAccuracy":31,"microphoneAuthorized":31,"notificationAuthorized":31,"notificationAlertAuthorized":31,"notificationBadgeAuthorized":31,"notificationSoundAuthorized":31,"phoneCalendarAuthorized":31},"_p":31},"getAppBaseInfo":{"return":{"SDKVersion":63,"enableDebug":63,"host":{"appId":63,"_p":63},"language":63,"version":63,"theme":{"dark":63,"light":63,"_p":63},"fontSizeScaleFactor":63,"fontSizeSetting":63},"_p":63},"getAvailableAudioSources":{"success":{"audioSources":{"auto":31,"buildInMic":31,"headsetMic":31,"mic":31,"camcorder":31,"voice_communication":31,"voice_recognition":31,"_p":31}},"_p":31},"getBLEDeviceCharacteristics":{"object":{"deviceId":7,"serviceId":7},"success":{"characteristics":7},"_p":7},"getBLEDeviceRSSI":{"object":{"deviceId":7},"success":{"RSSI":7},"_p":7},"getBLEDeviceServices":{"object":{"deviceId":7},"success":{"services":7},"_p":7},"getBLEMTU":{"object":{"deviceId":7,"writeType":{"write":7,"writeNoResponse":7,"_p":7}},"success":{"mtu":7},"_p":7},"getBackgroundAudioManager":63,"getBackgroundAudioPlayerState":{"success":{"duration":7,"currentPosition":7,"status":{"0":7,"1":7,"2":7,"_p":7},"downloadPercent":7,"dataUrl":7},"_p":7},"getBackgroundFetchData":{"object":{"fetchType":7},"success":{"fetchedData":7,"timeStamp":7,"path":7,"query":7,"scene":7},"_p":7},"getBackgroundFetchToken":{"success":{"token":7,"errMsg":7},"_p":7},"getBatteryInfo":{"success":{"level":47,"isCharging":47,"isLowPowerModeEnabled":47},"_p":47},"getBatteryInfoSync":{"return":{"level":47,"isCharging":47,"isLowPowerModeEnabled":47},"_p":47},"getBeacons":{"success":{"beacons":7},"_p":7},"getBluetoothAdapterState":{"success":{"discovering":7,"available":7},"_p":7},"getBluetoothDevices":{"success":{"devices":7},"_p":7},"getChannelsLiveInfo":{"object":{"finderUserName":63,"startTime":63,"endTime":63},"success":{"feedId":63,"nonceId":63,"description":63,"status":{"1":63,"2":63,"3":63,"4":63,"_p":63},"headUrl":63,"nickname":63,"replayStatus":{"0":63,"1":63,"3":63,"6":63,"_p":63},"otherInfos":63},"_p":63},"getChannelsLiveNoticeInfo":{"object":{"finderUserName":63},"success":{"noticeId":63,"status":63,"startTime":63,"headUrl":63,"nickname":63,"reservable":63,"otherInfos":63},"_p":63},"getChannelsShareKey":{"success":{"sharerOpenId":7,"promoter":{"finderNickname":7,"promoterId":7,"promoterOpenId":7,"_p":7}},"_p":7},"getClipboardData":{"success":{"data":63},"_p":63},"getCommonConfig":{"object":{"keys":63,"mode":63},"success":{"errcode":63,"errmsg":63,"conf_type":63,"conf":63,"expire_sec":63},"_p":63},"getConnectedBluetoothDevices":{"object":{"services":7},"success":{"devices":7},"_p":7},"getConnectedWifi":{"object":{"partialInfo":7},"success":{"wifi":7},"_p":7},"getDeviceBenchmarkInfo":{"success":{"benchmarkLevel":7,"modelLevel":7},"_p":7},"getDeviceInfo":{"return":{"abi":63,"deviceAbi":63,"benchmarkLevel":63,"brand":63,"model":63,"system":63,"platform":63,"cpuType":63,"memorySize":63},"_p":63},"getDeviceVoIPList":{"success":{"list":7},"_p":7},"getEnterOptionsSync":{"return":{"path":63,"scene":63,"query":63,"shareTicket":63,"referrerInfo":{"appId":63,"extraData":63,"_p":63},"forwardMaterials":63,"chatType":{"1":63,"2":63,"3":63,"4":63,"_p":63},"apiCategory":{"default":63,"nativeFunctionalized":63,"browseOnly":63,"embedded":63,"_p":63}},"_p":63},"getExptInfoSync":7,"getExtConfig":{"success":{"extConfig":63},"_p":63},"getExtConfigSync":63,"getFileSystemManager":63,"getFuzzyLocation":{"object":{"type":{"wgs84":7,"gcj02":7,"_p":7}},"success":{"latitude":7,"longitude":7},"_p":7},"getGroupEnterInfo":{"success":{"errMsg":31,"encryptedData":31,"iv":31,"cloudID":31},"_p":31},"getHCEState":7,"getImageInfo":{"object":{"src":63},"success":{"width":63,"height":63,"path":63,"orientation":{"up":63,"up-mirrored":63,"down":63,"down-mirrored":63,"left-mirrored":63,"right":63,"right-mirrored":63,"left":63,"_p":63},"type":{"unknown":63,"jpeg":63,"png":63,"gif":63,"tiff":63,"_p":63}},"_p":63},"getInferenceEnvInfo":{"success":{"ver":7},"_p":7},"getLaunchOptionsSync":{"return":{"path":63,"scene":63,"query":63,"shareTicket":63,"referrerInfo":{"appId":63,"extraData":63,"_p":63},"forwardMaterials":63,"chatType":{"1":63,"2":63,"3":63,"4":63,"_p":63},"apiCategory":{"default":63,"nativeFunctionalized":63,"browseOnly":63,"embedded":63,"_p":63}},"_p":63},"getLocalIPAddress":{"success":{"errMsg":7,"localip":7,"netmask":7},"_p":7},"getLocation":{"object":{"type":63,"altitude":63,"isHighAccuracy":63,"highAccuracyExpireTime":63},"success":{"latitude":63,"longitude":63,"speed":63,"accuracy":63,"altitude":63,"verticalAccuracy":63,"horizontalAccuracy":63},"_p":63},"getLogManager":{"object":{"level":63},"_p":63},"getMenuButtonBoundingClientRect":{"return":{"width":63,"height":63,"top":63,"right":63,"bottom":63,"left":63},"_p":63},"getNFCAdapter":5,"getNetworkType":{"success":{"networkType":{"wifi":31,"2g":31,"3g":31,"4g":31,"5g":31,"unknown":31,"none":31,"_p":31},"signalStrength":31,"hasSystemProxy":31,"weakNet":31},"_p":31},"getPerformance":63,"getPrivacySetting":{"success":{"needAuthorization":63,"privacyContractName":63},"_p":63},"getRandomValues":{"object":{"length":7},"success":{"randomValues":7},"_p":7},"getRealtimeLogManager":31,"getRecorderManager":63,"getRendererUserAgent":7,"getScreenBrightness":{"success":{"value":63},"_p":63},"getScreenRecordingState":{"success":{"state":{"on":2,"off":2,"_p":2}},"_p":2},"getSelectedTextRange":{"success":{"start":7,"end":7},"_p":7},"getSetting":{"object":{"withSubscriptions":63},"success":{"authSetting":63,"subscriptionsSetting":63,"miniprogramAuthSetting":63},"_p":63},"getShareInfo":{"object":{"shareTicket":63,"timeout":63},"success":{"errMsg":63,"encryptedData":63,"iv":63,"cloudID":63},"_p":63},"getSkylineInfo":{"success":{"isSupported":7,"version":7,"reason":{"client not supported":7,"baselib not supported":7,"a-b test not enabled":7,"SwitchRender option set to webview":7,"_p":7}},"_p":7},"getSkylineInfoSync":{"return":{"isSupported":7,"version":7,"reason":{"client not supported":7,"baselib not supported":7,"a-b test not enabled":7,"SwitchRender option set to webview":7,"_p":7}},"_p":7},"getStorage":{"object":{"key":63,"encrypt":63},"success":{"data":63},"_p":63},"getStorageInfo":{"success":{"keys":63,"currentSize":63,"limitSize":63},"_p":63},"getStorageInfoSync":{"return":{"keys":63,"currentSize":63,"limitSize":63},"_p":63},"getStorageSync":63,"getSystemInfo":{"success":{"brand":63,"model":63,"pixelRatio":63,"screenWidth":63,"screenHeight":63,"windowWidth":63,"windowHeight":63,"statusBarHeight":63,"language":63,"version":63,"system":63,"platform":{"ios":63,"android":63,"windows":63,"mac":63,"devtools":63,"_p":63},"fontSizeSetting":63,"SDKVersion":63,"benchmarkLevel":63,"albumAuthorized":63,"cameraAuthorized":63,"locationAuthorized":63,"microphoneAuthorized":63,"notificationAuthorized":63,"notificationAlertAuthorized":63,"notificationBadgeAuthorized":63,"notificationSoundAuthorized":63,"phoneCalendarAuthorized":63,"bluetoothEnabled":63,"locationEnabled":63,"wifiEnabled":63,"safeArea":{"left":63,"right":63,"top":63,"bottom":63,"width":63,"height":63,"_p":63},"locationReducedAccuracy":63,"theme":{"dark":63,"light":63,"_p":63},"host":{"appId":63,"_p":63},"enableDebug":63,"deviceOrientation":{"portrait":63,"landscape":63,"_p":63}},"_p":63},"getSystemInfoAsync":{"success":{"brand":39,"model":39,"pixelRatio":39,"screenWidth":39,"screenHeight":39,"windowWidth":39,"windowHeight":39,"statusBarHeight":39,"language":39,"version":39,"system":39,"platform":{"ios":39,"android":39,"windows":39,"mac":39,"devtools":39,"_p":39},"fontSizeSetting":39,"SDKVersion":39,"benchmarkLevel":39,"albumAuthorized":39,"cameraAuthorized":39,"locationAuthorized":39,"microphoneAuthorized":39,"notificationAuthorized":39,"notificationAlertAuthorized":39,"notificationBadgeAuthorized":39,"notificationSoundAuthorized":39,"phoneCalendarAuthorized":39,"bluetoothEnabled":39,"locationEnabled":39,"wifiEnabled":39,"safeArea":{"left":39,"right":39,"top":39,"bottom":39,"width":39,"height":39,"_p":39},"locationReducedAccuracy":39,"theme":{"dark":39,"light":39,"_p":39},"host":{"appId":39,"_p":39},"enableDebug":39,"deviceOrientation":{"portrait":39,"landscape":39,"_p":39}},"_p":39},"getSystemInfoSync":{"return":{"brand":63,"model":63,"pixelRatio":63,"screenWidth":63,"screenHeight":63,"windowWidth":63,"windowHeight":63,"statusBarHeight":63,"language":63,"version":63,"system":63,"platform":{"ios":63,"android":63,"windows":63,"mac":63,"devtools":63,"_p":63},"fontSizeSetting":63,"SDKVersion":63,"benchmarkLevel":63,"albumAuthorized":63,"cameraAuthorized":63,"locationAuthorized":63,"microphoneAuthorized":63,"notificationAuthorized":63,"notificationAlertAuthorized":63,"notificationBadgeAuthorized":63,"notificationSoundAuthorized":63,"phoneCalendarAuthorized":63,"bluetoothEnabled":63,"locationEnabled":63,"wifiEnabled":63,"safeArea":{"left":63,"right":63,"top":63,"bottom":63,"width":63,"height":63,"_p":63},"locationReducedAccuracy":63,"theme":{"dark":63,"light":63,"_p":63},"host":{"appId":63,"_p":63},"enableDebug":63,"deviceOrientation":{"portrait":63,"landscape":63,"_p":63}},"_p":63},"getSystemSetting":{"return":{"bluetoothEnabled":63,"locationEnabled":63,"wifiEnabled":63,"deviceOrientation":{"portrait":63,"landscape":63,"_p":63}},"_p":63},"getUpdateManager":47,"getUserCryptoManager":31,"getUserInfo":{"object":{"withCredentials":63,"lang":{"en":63,"zh_CN":63,"zh_TW":63,"_p":63}},"success":{"userInfo":63,"rawData":63,"signature":63,"encryptedData":63,"iv":63,"cloudID":63},"_p":63},"getUserProfile":{"object":{"lang":{"en":47,"zh_CN":47,"zh_TW":47,"_p":47},"desc":47},"success":{"userInfo":47,"rawData":47,"signature":47,"encryptedData":47,"iv":47,"cloudID":47},"_p":47},"getVideoInfo":{"object":{"src":39},"success":{"orientation":{"up":39,"down":39,"left":39,"right":39,"up-mirrored":39,"down-mirrored":39,"left-mirrored":39,"right-mirrored":39,"_p":39},"type":39,"duration":39,"size":39,"height":39,"width":39,"fps":39,"bitrate":39},"_p":39},"getWeRunData":{"success":{"encryptedData":7,"iv":7,"cloudID":7},"_p":7},"getWifiList":7,"getWindowInfo":{"return":{"pixelRatio":63,"screenWidth":63,"screenHeight":63,"windowWidth":63,"windowHeight":63,"statusBarHeight":63,"safeArea":{"left":63,"right":63,"top":63,"bottom":63,"width":63,"height":63,"_p":63},"screenTop":63},"_p":63},"hideHomeButton":31,"hideKeyboard":31,"hideLoading":{"object":{"noConflict":63},"_p":63},"hideNavigationBarLoading":63,"hideShareMenu":{"object":{"menus":63},"_p":63},"hideTabBar":{"object":{"animation":47},"_p":47},"hideTabBarRedDot":{"object":{"index":63},"_p":63},"hideToast":{"object":{"noConflict":63},"_p":63},"initFaceDetect":7,"isBluetoothDevicePaired":{"object":{"deviceId":7},"_p":7},"isVKSupport":7,"join1v1Chat":{"object":{"caller":31,"listener":31,"backgroundType":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"_p":31},"roomType":{"voice":31,"video":31,"_p":31},"minWindowType":31,"disableSwitchVoice":31},"_p":31},"joinVoIPChat":{"object":{"roomType":{"voice":31,"video":31,"_p":31},"signature":31,"nonceStr":31,"timeStamp":31,"groupId":31,"muteConfig":31,"forceCellularNetwork":31},"success":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"loadFontFace":{"object":{"global":63,"family":63,"source":63,"desc":{"style":63,"weight":63,"variant":63,"_p":63},"scopes":63},"success":{"status":63},"_p":63},"login":{"object":{"timeout":63},"success":{"code":63},"_p":63},"makeBluetoothPair":{"object":{"deviceId":7,"pin":7,"timeout":7},"_p":7},"makePhoneCall":{"object":{"phoneNumber":39},"_p":39},"navigateBack":{"object":{"delta":63},"_p":63},"navigateBackMiniProgram":{"object":{"extraData":31},"_p":31},"navigateTo":{"object":{"url":63,"events":63,"routeType":63,"routeConfig":63,"routeOptions":63},"success":{"eventChannel":63},"_p":63},"navigateToMiniProgram":{"object":{"appId":63,"path":63,"extraData":63,"envVersion":{"develop":63,"trial":63,"release":63,"_p":63},"shortLink":63,"noRelaunchIfPathUnchanged":63},"_p":63},"nextTick":63,"notifyBLECharacteristicValueChange":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7,"state":7,"type":7},"_p":7},"offAccelerometerChange":39,"offAfterPageLoad":7,"offAfterPageUnload":7,"offApiCategoryChange":7,"offAppHide":7,"offAppRoute":7,"offAppRouteDone":7,"offAppShow":7,"offAudioInterruptionBegin":31,"offAudioInterruptionEnd":31,"offBLECharacteristicValueChange":7,"offBLEConnectionStateChange":7,"offBLEMTUChange":7,"offBLEPeripheralConnectionStateChanged":7,"offBatteryInfoChange":47,"offBeaconServiceChange":7,"offBeaconUpdate":7,"offBeforeAppRoute":7,"offBeforePageLoad":7,"offBeforePageUnload":7,"offBluetoothAdapterStateChange":7,"offBluetoothDeviceFound":7,"offCompassChange":7,"offCopyUrl":7,"offDeviceMotionChange":7,"offEmbeddedMiniProgramHeightChange":7,"offError":63,"offGetWifiList":7,"offGyroscopeChange":7,"offHCEMessage":7,"offKeyDown":7,"offKeyUp":7,"offKeyboardHeightChange":7,"offLazyLoadError":7,"offLocalServiceDiscoveryStop":7,"offLocalServiceFound":7,"offLocalServiceLost":7,"offLocalServiceResolveFail":7,"offLocationChange":7,"offLocationChangeError":7,"offMemoryWarning":7,"offMenuButtonBoundingClientRectWeightChange":47,"offNetworkStatusChange":7,"offNetworkWeakChange":47,"offPageNotFound":7,"offScreenRecordingStateChanged":2,"offThemeChange":7,"offUnhandledRejection":7,"offUserCaptureScreen":7,"offVoIPChatInterrupted":31,"offVoIPChatMembersChanged":31,"offVoIPChatSpeakersChanged":31,"offVoIPChatStateChanged":31,"offVoIPVideoMembersChanged":31,"offWifiConnected":7,"offWifiConnectedWithPartialInfo":7,"offWindowResize":63,"onAccelerometerChange":{"callback":{"x":7,"y":7,"z":7},"_p":7},"onAfterPageLoad":{"callback":{"path":7,"query":7,"componentFramework":{"exparser":7,"glass-easel":7,"_p":7},"openType":7,"routeEventId":7,"page":7},"_p":7},"onAfterPageUnload":{"callback":{"path":7,"routeEventId":7},"_p":7},"onApiCategoryChange":{"callback":{"apiCategory":{"default":7,"nativeFunctionalized":7,"browseOnly":7,"embedded":7,"_p":7}},"_p":7},"onAppHide":7,"onAppRoute":{"callback":{"path":7,"query":7,"renderer":{"webview":7,"skyline":7,"xr-frame":7,"_p":7},"openType":7,"webviewId":7,"timeStamp":7,"routeEventId":7,"pipMode":{"min":7,"max":7,"_p":7},"notFound":7,"page":7},"_p":7},"onAppRouteDone":{"callback":{"path":7,"query":7,"openType":7,"webviewId":7,"timeStamp":7,"routeEventId":7},"_p":7},"onAppShow":{"callback":{"path":7,"scene":7,"query":7,"shareTicket":7,"referrerInfo":{"appId":7,"extraData":7,"_p":7},"forwardMaterials":7,"chatType":{"1":7,"2":7,"3":7,"4":7,"_p":7},"apiCategory":{"default":7,"nativeFunctionalized":7,"browseOnly":7,"embedded":7,"_p":7}},"_p":7},"onAudioInterruptionBegin":31,"onAudioInterruptionEnd":31,"onBLECharacteristicValueChange":{"callback":{"deviceId":7,"serviceId":7,"characteristicId":7,"value":7},"_p":7},"onBLEConnectionStateChange":{"callback":{"deviceId":7,"connected":7},"_p":7},"onBLEMTUChange":{"callback":{"deviceId":7,"mtu":7},"_p":7},"onBLEPeripheralConnectionStateChanged":{"callback":{"deviceId":7,"serverId":7,"connected":7},"_p":7},"onBackgroundAudioPause":7,"onBackgroundAudioPlay":7,"onBackgroundAudioStop":7,"onBackgroundFetchData":{"callback":{"fetchType":7,"fetchedData":7,"timeStamp":7,"path":7,"query":7,"scene":7},"_p":7},"onBatteryInfoChange":{"callback":{"isLowPowerModeEnabled":47},"_p":47},"onBeaconServiceChange":{"callback":{"available":7,"discovering":7},"_p":7},"onBeaconUpdate":{"callback":{"beacons":7},"_p":7},"onBeforeAppRoute":{"callback":{"path":7,"query":7,"renderer":{"webview":7,"skyline":7,"xr-frame":7,"_p":7},"openType":7,"webviewId":7,"routeEventId":7,"pipMode":{"min":7,"max":7,"_p":7},"notFound":7,"page":7},"_p":7},"onBeforePageLoad":{"callback":{"path":7,"query":7,"componentFramework":{"exparser":7,"glass-easel":7,"_p":7},"openType":7,"routeEventId":7},"_p":7},"onBeforePageUnload":{"callback":{"path":7,"routeEventId":7,"page":7},"_p":7},"onBluetoothAdapterStateChange":{"callback":{"available":7,"discovering":7},"_p":7},"onBluetoothDeviceFound":{"callback":{"devices":7},"_p":7},"onCompassChange":{"callback":{"direction":7,"accuracy":7},"_p":7},"onCopyUrl":{"callback":{"query":7},"_p":7},"onDeviceMotionChange":{"callback":{"alpha":7,"beta":7,"gamma":7},"_p":7},"onEmbeddedMiniProgramHeightChange":{"callback":{"height":7,"initialHeight":7},"_p":7},"onError":{"callback":{"message":63,"stack":63},"_p":63},"onGetWifiList":{"callback":{"wifiList":7},"_p":7},"onGyroscopeChange":{"callback":{"x":7,"y":7,"z":7},"_p":7},"onHCEMessage":{"callback":{"messageType":{"1":7,"2":7,"_p":7},"data":7,"reason":7},"_p":7},"onKeyDown":{"callback":{"key":7,"code":7,"altKey":7,"shiftKey":7,"timeStamp":7},"_p":7},"onKeyUp":{"callback":{"key":7,"code":7,"altKey":7,"shiftKey":7,"timeStamp":7},"_p":7},"onKeyboardHeightChange":{"callback":{"height":7},"_p":7},"onLazyLoadError":{"callback":{"type":7,"subpackage":7,"errMsg":7},"_p":7},"onLocalServiceDiscoveryStop":7,"onLocalServiceFound":{"callback":{"serviceType":7,"serviceName":7,"ip":7,"port":7},"_p":7},"onLocalServiceLost":{"callback":{"serviceType":7,"serviceName":7},"_p":7},"onLocalServiceResolveFail":{"callback":{"serviceType":7,"serviceName":7},"_p":7},"onLocationChange":{"callback":{"latitude":7,"longitude":7,"speed":7,"accuracy":7,"altitude":7,"verticalAccuracy":7,"horizontalAccuracy":7},"_p":7},"onLocationChangeError":{"callback":{"errCode":7},"_p":7},"onMemoryWarning":{"callback":{"level":{"5":7,"10":7,"15":7,"_p":7}},"_p":7},"onMenuButtonBoundingClientRectWeightChange":{"callback":{"width":47,"height":47,"top":47,"right":47,"bottom":47,"left":47},"_p":47},"onNeedPrivacyAuthorization":63,"onNetworkStatusChange":{"callback":{"isConnected":47,"networkType":{"wifi":47,"2g":47,"3g":47,"4g":47,"5g":47,"unknown":47,"none":47,"_p":47}},"_p":47},"onNetworkWeakChange":{"callback":{"weakNet":47,"networkType":47},"_p":47},"onPageNotFound":{"callback":{"path":7,"query":7,"isEntryPage":7},"_p":7},"onScreenRecordingStateChanged":{"callback":{"state":{"start":2,"stop":2,"_p":2}},"_p":2},"onSocketClose":{"callback":{"code":31,"reason":31},"_p":31},"onSocketError":{"callback":{"errMsg":31},"_p":31},"onSocketMessage":{"callback":{"data":31},"_p":31},"onSocketOpen":{"callback":{"header":31},"_p":31},"onThemeChange":{"callback":{"theme":{"dark":7,"light":7,"_p":7}},"_p":7},"onUnhandledRejection":{"callback":{"reason":7,"promise":7},"_p":7},"onUserCaptureScreen":{"callback":{"query":7,"promise":7},"_p":7},"onVoIPChatInterrupted":{"callback":{"errCode":31,"errMsg":31},"_p":31},"onVoIPChatMembersChanged":{"callback":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"onVoIPChatSpeakersChanged":{"callback":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"onVoIPChatStateChanged":{"callback":{"code":31,"data":31,"errCode":31,"errMsg":31},"_p":31},"onVoIPVideoMembersChanged":{"callback":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"onWifiConnected":{"callback":{"wifi":7},"_p":7},"onWifiConnectedWithPartialInfo":{"callback":{"wifi":7},"_p":7},"onWindowResize":{"callback":{"size":{"windowWidth":63,"windowHeight":63,"_p":63}},"_p":63},"openAppAuthorizeSetting":7,"openBluetoothAdapter":{"object":{"mode":{"central":7,"peripheral":7,"_p":7}},"_p":7},"openCard":{"object":{"cardList":7},"_p":7},"openChannelsActivity":{"object":{"finderUserName":7,"feedId":7},"_p":7},"openChannelsEvent":{"object":{"finderUserName":31,"eventId":31},"_p":31},"openChannelsLive":{"object":{"finderUserName":7,"feedId":7,"nonceId":7},"_p":7},"openChannelsUserProfile":{"object":{"finderUserName":7},"_p":7},"openCustomerServiceChat":{"object":{"extInfo":{"url":15,"_p":15},"corpId":15,"showMessageCard":15,"sendMessageTitle":15,"sendMessagePath":15,"sendMessageImg":15},"_p":15},"openDocument":{"object":{"filePath":31,"showMenu":31,"fileType":{"doc":31,"docx":31,"xls":31,"xlsx":31,"ppt":31,"pptx":31,"pdf":31,"_p":31}},"_p":31},"openEmbeddedMiniProgram":{"object":{"appId":7,"path":7,"extraData":7,"envVersion":{"develop":7,"trial":7,"release":7,"_p":7},"shortLink":7,"verify":{"binding":7,"unionProduct":7,"_p":7},"noRelaunchIfPathUnchanged":7,"allowFullScreen":7},"_p":7},"openHKOfflinePayView":{"object":{"timeStamp":7,"nonceStr":7,"package":7,"signType":{"SHA1":7,"_p":7},"paySign":7},"_p":7},"openLocation":{"object":{"latitude":55,"longitude":55,"scale":55,"name":55,"address":55},"_p":55},"openOfficialAccountArticle":{"object":{"url":7},"success":{"cancel":7,"confirm":7},"_p":7},"openPrivacyContract":63,"openSetting":{"object":{"withSubscriptions":23},"success":{"authSetting":23,"subscriptionsSetting":23},"_p":23},"openSingleStickerView":{"object":{"url":7},"_p":7},"openStickerIPView":{"object":{"url":7},"_p":7},"openStickerSetView":{"object":{"url":7},"_p":7},"openSystemBluetoothSetting":7,"openVideoEditor":{"object":{"filePath":7,"minDuration":7,"maxDuration":7},"success":{"duration":7,"size":7,"tempFilePath":7,"tempThumbPath":7},"_p":7},"pageScrollTo":{"object":{"scrollTop":63,"duration":63,"selector":63,"offsetTop":63},"_p":63},"pauseBackgroundAudio":7,"pauseVoice":7,"playBackgroundAudio":{"object":{"dataUrl":7,"title":7,"coverImgUrl":7},"_p":7},"playVoice":{"object":{"filePath":7,"duration":7},"_p":7},"pluginLogin":15,"postMessageToReferrerMiniProgram":{"object":{"extraData":7},"_p":7},"preDownloadSubpackage":{"object":{"packageType":31},"_p":31},"preloadAssets":{"object":{"data":63},"_p":63},"preloadSkylineView":7,"preloadWebview":7,"previewImage":{"object":{"urls":63,"showmenu":63,"current":63,"referrerPolicy":63},"_p":63},"previewMedia":{"object":{"sources":7,"current":7,"showmenu":7,"referrerPolicy":7},"_p":7},"reLaunch":{"object":{"url":63},"_p":63},"readBLECharacteristicValue":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7},"_p":7},"redirectTo":{"object":{"url":63},"_p":63},"removeStorage":{"object":{"key":63},"_p":63},"removeStorageSync":63,"removeTabBarBadge":{"object":{"index":63},"_p":63},"reportAnalytics":31,"reportEvent":7,"reportMonitor":31,"reportPerformance":7,"request":{"object":{"url":63,"data":63,"header":63,"timeout":63,"method":{"OPTIONS":63,"GET":63,"HEAD":63,"POST":63,"PUT":63,"DELETE":63,"TRACE":63,"CONNECT":63,"_p":63},"dataType":{"json":63,"其他":63,"_p":63},"responseType":{"text":63,"arraybuffer":63,"_p":63},"useHighPerformanceMode":63,"enableHttp2":63,"enableProfile":63,"enableQuic":63,"enableCache":63,"enableHttpDNS":63,"httpDNSServiceId":63,"enableChunked":63,"forceCellularNetwork":63,"redirect":{"follow":63,"manual":63,"_p":63}},"success":{"data":63,"statusCode":63,"header":63,"cookies":63,"profile":63,"exception":63,"useHttpDNS":63},"_p":63},"requestCommonPayment":{"object":{"mode":{"retail_pay_goods":7,"_p":7},"signData":7,"paySig":7,"signature":7},"success":{"errMsg":7},"_p":7},"requestDeviceVoIP":{"object":{"sn":7,"snTicket":7,"modelId":7,"deviceName":7,"isGroup":7,"groupId":7},"_p":7},"requestMerchantTransfer":{"object":{"mchId":7,"subMchId":7,"appId":7,"subAppId":7,"package":7,"openId":7},"_p":7},"requestOrderPayment":7,"requestPayment":{"object":{"timeStamp":63,"nonceStr":63,"package":63,"signType":{"MD5":63,"HMAC-SHA256":63,"RSA":63,"_p":63},"paySign":63},"_p":63},"requestPluginPayment":{"object":{"version":{"develop":7,"trial":7,"release":7,"_p":7},"fee":7,"paymentArgs":7,"currencyType":7},"_p":7},"requestSubscribeDeviceMessage":{"object":{"tmplIds":7,"sn":7,"snTicket":7,"modelId":7},"success":{"errMsg":7,"TEMPLATE_ID":7},"_p":7},"requestSubscribeMessage":{"object":{"tmplIds":63},"success":{"errMsg":63,"TEMPLATE_ID":63},"_p":63},"requestVirtualPayment":{"object":{"signData":7,"mode":{"short_series_goods":7,"short_series_coin":7,"_p":7},"paySig":7,"signature":7},"success":{"errMsg":7},"_p":7},"requirePrivacyAuthorize":63,"reserveChannelsLive":{"object":{"noticeId":7},"_p":7},"restartMiniProgram":{"object":{"path":7},"_p":7},"revokeBufferURL":31,"saveFileToDisk":{"object":{"filePath":31},"_p":31},"saveImageToPhotosAlbum":{"object":{"filePath":31},"_p":31},"saveVideoToPhotosAlbum":{"object":{"filePath":31},"_p":31},"scanCode":{"object":{"onlyFromCamera":7,"scanType":{"barCode":7,"qrCode":7,"datamatrix":7,"pdf417":7,"_p":7}},"success":{"result":7,"scanType":{"QR_CODE":7,"AZTEC":7,"CODABAR":7,"CODE_39":7,"CODE_93":7,"CODE_128":7,"DATA_MATRIX":7,"EAN_8":7,"EAN_13":7,"ITF":7,"MAXICODE":7,"PDF_417":7,"RSS_14":7,"RSS_EXPANDED":7,"UPC_A":7,"UPC_E":7,"UPC_EAN_EXTENSION":7,"WX_CODE":7,"CODE_25":7,"_p":7},"charSet":7,"path":7,"rawData":7},"_p":7},"seekBackgroundAudio":{"object":{"position":7},"_p":7},"sendHCEMessage":{"object":{"data":7},"_p":7},"sendSms":{"object":{"phoneNumber":7,"content":7},"_p":7},"sendSocketMessage":{"object":{"data":63},"_p":63},"setBLEMTU":{"object":{"deviceId":7,"mtu":7},"success":{"mtu":7},"_p":7},"setBackgroundColor":{"object":{"backgroundColor":7,"backgroundColorTop":7,"backgroundColorBottom":7},"_p":7},"setBackgroundFetchToken":{"object":{"token":7},"_p":7},"setBackgroundTextStyle":{"object":{"textStyle":{"dark":7,"light":7,"_p":7}},"_p":7},"setClipboardData":{"object":{"data":63},"_p":63},"setEnable1v1Chat":{"object":{"enable":31,"backgroundType":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"_p":31},"minWindowType":31},"_p":31},"setEnableDebug":{"object":{"enableDebug":31},"_p":31},"setInnerAudioOption":{"object":{"mixWithOther":7,"obeyMuteSwitch":7,"speakerOn":7},"_p":7},"setKeepScreenOn":{"object":{"keepScreenOn":39},"_p":39},"setNavigationBarColor":{"object":{"frontColor":63,"backgroundColor":63,"animation":{"duration":63,"timingFunc":63,"_p":63}},"_p":63},"setNavigationBarTitle":{"object":{"title":63},"_p":63},"setScreenBrightness":{"object":{"value":63},"_p":63},"setStorage":{"object":{"key":63,"data":63,"encrypt":63},"_p":63},"setStorageSync":63,"setTabBarBadge":{"object":{"index":63,"text":63},"_p":63},"setTabBarItem":{"object":{"index":47,"text":47,"iconPath":47,"selectedIconPath":47},"_p":47},"setTabBarStyle":{"object":{"color":47,"selectedColor":47,"backgroundColor":47,"borderStyle":47},"_p":47},"setTopBarText":{"object":{"text":7},"_p":7},"setVisualEffectOnCapture":{"object":{"visualEffect":7},"_p":7},"setWifiList":{"object":{"wifiList":7},"_p":7},"setWindowSize":{"object":{"width":63,"height":63},"_p":63},"shareFileMessage":{"object":{"filePath":7,"fileName":7},"_p":7},"shareToWeRun":{"object":{"recordList":7},"_p":7},"shareVideoMessage":{"object":{"videoPath":7,"thumbPath":7},"_p":7},"showActionSheet":{"object":{"alertText":63,"itemList":63,"itemColor":63},"success":{"tapIndex":63},"_p":63},"showLoading":{"object":{"title":63,"mask":63},"_p":63},"showModal":{"object":{"title":63,"content":63,"showCancel":63,"cancelText":63,"cancelColor":63,"confirmText":63,"confirmColor":63,"editable":63,"placeholderText":63},"success":{"content":63,"confirm":63,"cancel":63},"_p":63},"showNavigationBarLoading":63,"showRedPackage":{"object":{"url":23},"_p":23},"showShareImageMenu":{"object":{"path":63,"style":63,"needShowEntrance":63,"entrancePath":63},"_p":63},"showShareMenu":{"object":{"withShareTicket":63,"menus":63},"_p":63},"showTabBar":{"object":{"animation":63},"_p":63},"showTabBarRedDot":{"object":{"index":63},"_p":63},"showToast":{"object":{"title":63,"icon":{"success":63,"error":63,"loading":63,"none":63,"_p":63},"image":63,"duration":63,"mask":63},"_p":63},"startAccelerometer":{"object":{"interval":{"game":39,"ui":39,"normal":39,"_p":39}},"_p":39},"startBeaconDiscovery":{"object":{"uuids":7,"ignoreBluetoothAvailable":7},"_p":7},"startBluetoothDevicesDiscovery":{"object":{"services":7,"allowDuplicatesKey":7,"interval":7,"powerLevel":{"low":7,"medium":7,"high":7,"_p":7}},"_p":7},"startCompass":39,"startDeviceMotionListening":{"object":{"interval":{"game":7,"ui":7,"normal":7,"_p":7}},"_p":7},"startGyroscope":{"object":{"interval":{"game":7,"ui":7,"normal":7,"_p":7}},"_p":7},"startHCE":{"object":{"aid_list":7},"_p":7},"startLocalServiceDiscovery":{"object":{"serviceType":7},"_p":7},"startLocationUpdate":{"object":{"type":39},"_p":39},"startLocationUpdateBackground":{"object":{"type":39},"_p":39},"startPullDownRefresh":63,"startRecord":{"success":{"tempFilePath":7},"_p":7},"startSoterAuthentication":{"object":{"requestAuthModes":{"fingerPrint":7,"facial":7,"speech":7,"_p":7},"challenge":7,"authContent":7},"success":{"authMode":7,"resultJSON":7,"resultJSONSignature":7,"errCode":7,"errMsg":7},"_p":7},"startWifi":7,"stopAccelerometer":39,"stopBackgroundAudio":7,"stopBeaconDiscovery":7,"stopBluetoothDevicesDiscovery":7,"stopCompass":39,"stopDeviceMotionListening":7,"stopFaceDetect":7,"stopGyroscope":7,"stopHCE":7,"stopLocalServiceDiscovery":7,"stopLocationUpdate":39,"stopPullDownRefresh":63,"stopRecord":7,"stopVoice":7,"stopWifi":7,"subscribeVoIPVideoMembers":{"object":{"openIdList":31},"_p":31},"switchTab":{"object":{"url":63},"_p":63},"updateShareMenu":{"object":{"withShareTicket":63,"isUpdatableMessage":63,"activityId":63,"toDoActivityId":63,"templateInfo":63,"isPrivateMessage":63},"_p":63},"updateVoIPChatMuteConfig":{"object":{"muteConfig":31},"_p":31},"updateWeChatApp":23,"uploadFile":{"object":{"url":63,"filePath":63,"name":63,"header":63,"formData":63,"timeout":63,"useHighPerformanceMode":63,"enableProfile":63,"enableHttp2":63},"success":{"data":63,"statusCode":63},"_p":63},"vibrateLong":7,"vibrateShort":{"object":{"type":7},"_p":7},"writeBLECharacteristicValue":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7,"value":7,"writeType":{"write":7,"writeNoResponse":7,"_p":7}},"_p":7}}}');const jAe=$Ae;var FAe={ANDROID:1,IOS:2,DEVTOOLS:4,WIN:8,MAC:16,WMPF:32};function WAe(){return ke?FAe.ANDROID:Ie?FAe.IOS:Ce?FAe.DEVTOOLS:Te?FAe.WIN:xe?FAe.WMPF:void 0}function UAe(e,t,r){var n=WAe();switch(e){case"comp":var[i,a]=r;"object"==typeof t&&(i?"object"==typeof(t=t[i])&&(t=a?t[a]:t._p):t=t._p);break;case"method":var[o,s,l]=r;if("object"==typeof t){var c=t._p;o?(t=t[o],s&&"object"==typeof t?"object"==typeof(t=t[s])&&(t=l?t[l]:t._p):t=c):t=c}break;case"class":var[u]=r;"object"==typeof t&&(t=u?t[u]:t._p)}return(t&n)===n}function VAe(e,t,r){var n=BAe[e];return!!n&&((!t||t in n)&&(!(r&&("object"!=typeof n[t]||!n[t][r]))&&!!UAe("comp",n,[t,r])))}function qAe(e,t,r,n){var i=jAe.method[e];if(!i)return!1;if(t&&!i[t])return!1;if(r&&!i[t][r])return!1;if(n){var a=i[t][r];if("object"!=typeof a||!a[n])return!1}return!!UAe("method",i,[t,r,n])}function zAe(e,t,r){r&&(t=`${t}.${r}`);var n=jAe.class[e]||jAe.class[`wx.${e}`];return!!n&&(!(t&&!n[t])&&!!UAe("class",n,[t]))}function GAe(e=""){if("string"!=typeof e)throw new Vd("canIUse: schema should be a string");var t;if(re.customCanIUse&&(md("platformCanIUse",{schema:e,success:e=>{t=e.result}}),"boolean"==typeof t))return t;var r=e.split(".");return!!VAe(...r)||(!!zAe(...r)||(!!qAe(...r)||"requestVirtualPayment"===e))}var HAe=ir("batteryInfoChange"),KAe=(e={})=>{setTimeout((()=>{md("getBatteryInfo",e)}),0)},JAe=()=>{var e={level:100,isCharging:!0};if(md("getBatteryInfo",{complete:t=>e=t}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},XAe=HAe.onMethod,YAe=HAe.offMethod;qt("onBatteryInfoChange",((e={})=>{HAe.emit(e)}));var QAe=!1,ZAe=ir("accelerometerChange"),exe=function(e={}){var t={fast:0,game:20,ui:60,normal:200},r=Wh(this),n=zd(e,{interval:void 0!==t[e.interval]?t[e.interval]:t.normal,enable:!0});md("enableAccelerometer",n,{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")},afterSuccess(){Poe(r,"wx.startAccelerometer")}}),QAe=!0},txe=(e={})=>{md("enableAccelerometer",zd(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),QAe=!1},rxe=ZAe.onMethod,nxe=e=>{var t;ZAe.offMethod(e),null!==(t=ZAe.getGlobalListeners())&&void 0!==t&&t.length||txe()},ixe=e=>{QAe||(md("enableAccelerometer",{enable:!0}),QAe=!0),rxe(e)};qt("onAccelerometerChange",((e={})=>{ZAe.emit(e)}));var axe=!1,oxe=ir("compassChange"),sxe=function(e={}){var t=Wh(this);md("enableCompass",zd(e,{enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","startCompass")},afterSuccess(){Aoe(t,"wx.startCompass")}}),axe=!0},lxe=(e={})=>{!0===axe?md("enableCompass",zd(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","stopCompass")},afterSuccess(){axe=!1}}):Hc({name:"stopCompass",args:e})},cxe=oxe.onMethod,uxe=e=>{var t;oxe.offMethod(e),null!==(t=oxe.getGlobalListeners())&&void 0!==t&&t.length||lxe()},dxe=e=>{axe||(md("enableCompass",{enable:!0}),axe=!0),cxe(e)};qt("onCompassChange",((e={})=>{oxe.emit(e)}));var pxe=(e={})=>{Vc("makePhoneCall",e,{phoneNumber:""})&&md("makePhoneCall",e)},hxe=(e={})=>{md("makeVoIPCall",zd({allowBackCamera:!1,showOther:!1},e))},fxe=(e={})=>{Vc("scanCode",e,{})&&md("scanCode",e,{beforeSuccess(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},gxe=(e={})=>{Vc("openQRCode",e,{})&&md("openQRCode",e)},vxe=NE("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=(e.products||[]).map((e=>({info:{title:e.info.title,category:e.info.category.map((e=>({name:e.name})))}})))})),mxe=NE("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=e.products||[]})),yxe=(e={})=>{Vc("scanItem",e,{})&&md("scanItem",{...e,data:JSON.stringify({appId:re.accountInfo.appId,path:uu.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?vxe({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):zc("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}})},bxe=(e={})=>{Vc("scanItem",e,{})&&md("scanItem",{...e,data:JSON.stringify({appId:re.accountInfo.appId,path:uu.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?mxe({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):zc("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}})},_xe=(e={})=>{Oe?md("getClipboardData",e):md("getClipboardData",e,{beforeSuccess(e){var t;if(!Ke()){var r=(null===(t=re.accountInfo)||void 0===t?void 0:t.nickname)||"小程序",n=dF();n?setTimeout((()=>{n("clipboard",{content:e.data})}),100):!1===n&&aF((t=>{t("clipboard",{content:e.data})})),WW({icon:"",title:`“${r}”读取了你的剪切板内容`})}}})},wxe=(e={})=>{oae("setClipboardData")?zc("setClipboardData",e,"no permission"):Vc("setClipboardData",e,{data:""})&&(Oe?md("setClipboardData",e):md("setClipboardData",e,{beforeSuccess(e){Id("showToast",{icon:"",title:"内容已复制"})}}))},Sxe=(e={})=>{if(e.uuids)if(Array.isArray(e.uuids)){if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some((e=>"string"==typeof e&&t.test(e))))return void zc("startBeaconDiscovery",e,"invalid service uuid")}md("startBeaconDiscovery",e)}else zc("startBeaconDiscovery",e,"uuid must be an Array");else zc("startBeaconDiscovery",e,"must have uuid")},Cxe=(e={})=>{md("stopBeaconDiscovery",e)},kxe=(e={})=>{md("getBeacons",e)},Ixe=e=>{Vc("onBeaconUpdate",e,Dt)&&qt("onBeaconUpdated",x.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},Pxe=()=>{qt("onBeaconUpdated",(()=>{}))},Axe=e=>{Vc("onBeaconServiceChange",e,Dt)&&qt("onBeaconServiceChanged",x.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))},xxe=()=>{qt("onBeaconServiceChanged",(()=>{}))},Txe=e=>{md("chooseContact",e)},Exe=(e={})=>{Oe?zc("chooseWeChatContact",e,"chooseWeChatContact:fail SDK暂不支持此API"):md("chooseWeChatContact",e)},Mxe=function(e={}){bd(Wh(this))("addPhoneContact",e,{})},Rxe=(e={})=>{UC("quicklyAddBrandContact",e,{})},Oxe=eu("searchContacts",xd()((function*(e={}){if(qc(e,{phoneNumber:""}),!/^.{8,}$/.test(e.phoneNumber))throw new Error("phoneNumber length is less than 8");return yield yd("searchContacts",e,{})}))),Dxe=Oxe,Lxe=eu("sendSms",xd()((function*(e={}){return yield yd("sendSms",e,{})}))),Nxe=function(e={}){bd(Wh(this))("openBluetoothAdapter",e,{})},Bxe=(e={})=>{$xe({success(t){var r=t.devices.filter((e=>e.appid===re.accountInfo.appId));r.forEach((e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,delete e.appid})),sd({devices:r},"getMonitoredBluetoothDevices",e,{})},fail(t){zc("getMonitoredBluetoothDevices",e,t.errMsg)}})},$xe=(e={})=>{e.type="getAll",md("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg},beforeSuccess(e){e.devices.forEach((e=>{e.appId&&(e.appid=e.appId,delete e.appId),e.sn=e.deviceId,delete e.deviceId}))}})},jxe=[];function Fxe(e={}){Bxe({success(t){if(t.devices){var r={},n=jxe.filter((t=>t.sn===e.sn))[0];n&&(r[n.deviceId]=n),t.devices.forEach((e=>{r[e.deviceId]=e})),jxe=Object.values(r),vt(e.success)&&e.success()}}})}function Wxe(e){return jxe.some((t=>t.deviceId===e))}var Uxe=new Qt;Uxe.on("_updateMonitorDevices",Fxe);var Vxe=new Qt,qxe=()=>re&&Array.isArray(re.requiredBackgroundModes)&&re.requiredBackgroundModes.includes("bluetooth"),zxe=(e={})=>{if(!qxe())return zc("openBluetoothAdapterBackground",e,"requiredBackgroundModes in app.json invalid",10014);md("openBluetoothAdapterBackground",{success(t){"boolean"==typeof e.enableMonitoring?(Vxe.emit("_enableMonitoring",e.enableMonitoring),Uxe.emit("_updateMonitorDevices",{success(){sd(t,"openBluetoothAdapterBackground",e,{})}})):sd(t,"openBluetoothAdapterBackground",e,{})},fail(t){var r=t.errMsg.replace("openBluetoothAdapterBackground:fail","").trim();zc("openBluetoothAdapterBackground",e,r)}},{})},Gxe=(e={})=>{md("closeBluetoothAdapter",e,{})},Hxe=(e={})=>{md("getBluetoothAdapterState",e,{})},Kxe=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void zc("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void zc("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map((e=>(ke&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}md("startBluetoothDevicesDiscovery",e,{})},Jxe=(e={})=>{md("stopBluetoothDevicesDiscovery",e,{})},Xxe=(e={})=>{md("getBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map((e=>{if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=xv(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach((e=>{t[e]&&(t[e]=xv(t[e]))}))}return e}))}})},Yxe=(e={})=>{Vc("getBLEDeviceRSSI",e,{deviceId:""})&&md("getBLEDeviceRSSI",e)},Qxe=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void zc("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void zc("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map((e=>(ke&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}md("getConnectedBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map((e=>(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=xv(e.advertisData)),e)))}})},Zxe=Object.create(null);Gp((()=>{Zxe=rTe.get()}));var eTe=u.prototype.call.bind(Object.prototype.hasOwnProperty),tTe=()=>{var e=Object.create(null);return{add(t){e[t]=t},remove(t){delete e[t]},has:t=>eTe(e,t),get(){var t=Object.create(null);return Object.assign(t,e)},clear(){e=Object.create(null)}}},rTe=tTe();Bpe((e=>{e&&(e.connected?rTe.add(e.deviceId):rTe.remove(e.deviceId))})),Wpe((e=>{e&&!e.available&&rTe.clear()}));var nTe=e=>rTe.has(e),iTe=e=>eTe(Zxe,e),aTe=!1;df((()=>{aTe=!1})),Gp((()=>{aTe=!0}));var oTe=()=>aTe||dM(),sTe=new Qt,lTe=Object.create(null),cTe=!1;function uTe(e,t,r,n){Hc({name:e,args:t,errMsg:r,errno:n,success:!1}),cTe=!1}function dTe(e){for(var t=Object.create(null),r=0;r<e.length;r++){if(t[e[r]])return t=null,!0;t[e[r]]=e[r]}return t=null,!1}function pTe({devices:e},t){TE({sdkApiName:"CheckBluetoothDeviceTicket",apiName:"CheckBluetoothDeviceTicket",reqData:{scene:0,device_info_list:e.map((e=>({sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,bluetooth_device_id:e.deviceId})))},success(e){var{max_user_count_to_device:r,max_device_count_to_app:n}=e.data;r&&n&&delete e.errMsg,t(e)},fail(e){t(e)}})}var hTe=(e={})=>{if(Vc("setBluetoothBackgroundMode",e,{enable:!1,devices:[{sn:"",snTicket:"",modelId:"",deviceId:""}]})){if(cTe)return uTe("setBluetoothBackgroundMode",e,"current interface is busy",Ql);cTe=!0;var t=e.devices.some((e=>Object.keys(e).some((t=>""===e[t]))));if(t)return uTe("setBluetoothBackgroundMode",e,"device property can't be empty",Zl);var r=e.devices.map((e=>e.sn)),n=e.devices.map((e=>e.deviceId));if(dTe(r)||dTe(n))return uTe("setBluetoothBackgroundMode",e,"repeated sn or deviceId",ec);if(e.devices.some((e=>Object.values(lTe).some((t=>t.deviceId===e.deviceId&&t.sn!==e.sn)))))return uTe("setBluetoothBackgroundMode",e,"deviceId already binded by another sn",tc);e.devices.forEach((e=>{lTe[e.sn]=e}));var i=()=>{md("setBluetoothBackgroundMode",e,{beforeSuccess(){sTe.emit("_setBluetoothBackgroundMode",e)},beforeAll(){cTe=!1}})};if(e.devices.every((e=>Wxe(e.deviceId))))return i();pTe(e,(t=>{if(t.errMsg)return uTe("setBluetoothBackgroundMode",e,t.errMsg,rc);i()}))}},fTe=!1,gTe=[];sTe.on("_setBluetoothBackgroundMode",(e=>{fTe=e.enable,gTe=e.devices.map((e=>e.deviceId))}));var vTe=(e,t)=>{!Wxe(e)&&oTe()&&fTe?t(!(iTe(e)&&gTe.includes(e))):t(!1)},mTe=e=>{var t=e.map(encodeURIComponent).join(",");T.reportKeyValue({key:"BLEDevices",value:t})},yTe=(e={})=>{Vc("createBLEConnection",e,{deviceId:""})&&(qxe()?vTe(e.deviceId,(t=>{t?zc("createBLEConnection",e,"connect unknown devices is not allowed in bluetooth background mode",10015):(mTe([e.deviceId]),md("createBLEConnection",e,{}))})):(mTe([e.deviceId]),md("createBLEConnection",e,{})))},bTe=(e={})=>{Vc("closeBLEConnection",e,{deviceId:""})&&md("closeBLEConnection",e,{})},_Te=(e={})=>{Vc("getBLEDeviceServices",e,{deviceId:""})&&md("getBLEDeviceServices",e,{beforeSuccess(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},wTe=(e={})=>{Vc("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&md("getBLEDeviceCharacteristics",Object.assign({},e,{serviceId:ke?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},STe=(e={})=>{Vc("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&md("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:ke?e.serviceId.toUpperCase():e.serviceId,characteristicId:ke?e.characteristicId.toUpperCase():e.characteristicId}),{})},CTe=(e={})=>{Vc("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&md("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:ke?e.serviceId.toUpperCase():e.serviceId,characteristicId:ke?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll(e){void 0!==e.errCode&&(e.errCode=Number(e.errCode)),e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})},kTe=(e={})=>{Vc("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})&&md("readBLECharacteristicValue",Object.assign({},e,{serviceId:ke?e.serviceId.toUpperCase():e.serviceId,characteristicId:ke?e.characteristicId.toUpperCase():e.characteristicId}),{})},ITe=(e={})=>{Vc("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&(!e.writeType||PTe(e.writeType)?md("writeBLECharacteristicValue",Object.assign({},e,{value:Av(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:ke?e.characteristicId.toUpperCase():e.characteristicId}),{}):zc("writeBLECharacteristicValue",e,"invalid writeType"))},PTe=e=>["write","writeNoResponse"].includes(e),ATe=e=>{qt("onBLEConnectionStateChanged",x.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},xTe=()=>{qt("onBLEConnectionStateChanged",(()=>{}))},TTe=e=>{qt("onBLECharacteristicValueChange",((t={})=>{"string"==typeof t.value&&(t.value=xv(t.value)),x.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)}))},ETe=()=>{qt("onBLECharacteristicValueChange",(()=>{}))},MTe=e=>{qt("onBluetoothDeviceFound",((t={})=>{var r=[];Array.isArray(t.devices)?r=t.devices:r.push(t),r=r.map((e=>{try{e.advertisData=xv(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach((e=>{t[e]&&(t[e]=xv(t[e]))}))}catch(e){}return e})),x.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:r})}))},RTe=()=>{qt("onBluetoothDeviceFound",(()=>{}))},OTe,DTe=(e,t)=>Object.assign({},e,{[t]:Av(e[t])}),LTe=e=>!(e>=0&&e<65536),NTe=new Qt,BTe=new WeakMap,$Te=new WeakMap,jTe=function(e,t){var r=`${BTe.get(this)}_on${e}`,n=r=>{x.surroundThirdByTryCatch(t,`at BLEPeripheralServer.on${e} callback function`)(r)};$Te.get(this).set(t,n),NTe.on(r,n)},FTe=function(e,t){var r=`${BTe.get(this)}_on${e}`,n=$Te.get(this);if(vt(t)){var i=n.get(t);vt(i)&&(n.delete(t),NTe.off(r,i))}else $Te.set(this,new WeakMap),NTe.removeAllListeners(r)},WTe=ir("CharacteristicReadRequest"),UTe=WTe.onMethod,VTe=WTe.offMethod;qt("onCharacteristicReadRequest",((e={})=>{NTe.emit(`${e.serverId}_onCharacteristicReadRequest`,e),WTe.emit(e)}));var qTe=ir("CharacteristicWriteRequest"),zTe=qTe.onMethod,GTe=qTe.offMethod;qt("onCharacteristicWriteRequest",((e={})=>{"string"==typeof e.value&&(e.value=xv(e.value)),NTe.emit(`${e.serverId}_onCharacteristicWriteRequest`,e),qTe.emit(e)}));var HTe=ir("CharacteristicSubscribed"),KTe=HTe.onMethod,JTe=HTe.offMethod;qt("onCharacteristicSubscribed",((e={})=>{NTe.emit(`${e.serverId}_onCharacteristicSubscribed`,e),HTe.emit(e)}));var XTe=ir("CharacteristicUnsubscribed"),YTe=XTe.onMethod,QTe=XTe.offMethod;qt("onCharacteristicUnsubscribed",((e={})=>{NTe.emit(`${e.serverId}_onCharacteristicUnsubscribed`,e),XTe.emit(e)}));var ZTe=(OTe=class{constructor(e){this.serverId=e,this.services=[],BTe.set(this,e),$Te.set(this,new WeakMap);["CharacteristicReadRequest","CharacteristicWriteRequest","CharacteristicSubscribed","CharacteristicUnsubscribed"].forEach((e=>{this[`on${e}`]=t=>{jTe.call(this,e,t)},this[`off${e}`]=t=>{FTe.call(this,e,t)}}))}close(e={}){var t=this,r=Object.assign({},e,{serverId:this.serverId});md("closeBLEPeripheralServer",r,{beforeSuccess(){t.serverId="",BTe.delete(t)}})}addService(e={}){if(Vc("BLEPeripheralServer.addService",e,{service:{}})){var t=e.service.characteristics||[];t=t.map((e=>{var t=e.descriptors||[];return t=t.map((e=>DTe(e,"value"))),Object.assign({},e,{value:Av(e.value),descriptors:t})}));var r=Object.assign({},e,{serverId:this.serverId,service:{uuid:e.service.uuid,characteristics:t}}),n=this;md("addBLEPeripheralService",r,{beforeSuccess(){n.services.push(e.service.uuid)}})}}removeService(e={}){if(Vc("BLEPeripheralServer.removeService",e,{serviceId:""})){var t=this,r=Object.assign({},e,{serverId:this.serverId});md("removeBLEPeripheralService",r,{beforeSuccess(){var r=t.services.indexOf(e.serviceId);r>=0&&t.services.splice(r,1)}})}}startAdvertising(e={}){if(Vc("BLEPeripheralServer.startAdvertising",e,{advertiseRequest:{}})){var t=e.advertiseRequest||{},r={connectable:!0};if(t.beacon){if(t.deviceName||t.serviceUuids||t.manufacturerData)throw new Error("iBeacon mode only accept connectable and beacon properties");if(!Vc("BLEPeripheralServer.startAdvertising",t,{beacon:{uuid:"",major:0,minor:0}}))throw new Error("iBeacon mode must include [uuid、major、minor] properties");if(LTe(t.beacon.major)||LTe(t.beacon.minor))throw new Error("major or minor must be between 0 and 65536");r=Object.assign(r,t)}else{var n=t.manufacturerData||[];n=n.map((e=>DTe(e,"manufacturerSpecificData"))),r=Object.assign(r,t,{manufacturerData:n})}var i=Object.assign({},e,{serverId:this.serverId,advertiseRequest:r,powerLevel:e.powerLevel||"medium"});md("startBLEPeripheralAdvertising",i,{})}}stopAdvertising(e={}){var t=Object.assign({},e,{serverId:this.serverId});md("stopBLEPeripheralAdvertising",t,{})}writeCharacteristicValue(e={}){var t=Object.assign({},e,{serverId:this.serverId,value:Av(e.value)});md("writeBLEPeripheralCharacteristicValue",t,{})}},H()(OTe.prototype,"close",[Bt],Object.getOwnPropertyDescriptor(OTe.prototype,"close"),OTe.prototype),H()(OTe.prototype,"addService",[Bt],Object.getOwnPropertyDescriptor(OTe.prototype,"addService"),OTe.prototype),H()(OTe.prototype,"removeService",[Bt],Object.getOwnPropertyDescriptor(OTe.prototype,"removeService"),OTe.prototype),H()(OTe.prototype,"startAdvertising",[Bt],Object.getOwnPropertyDescriptor(OTe.prototype,"startAdvertising"),OTe.prototype),H()(OTe.prototype,"stopAdvertising",[Bt],Object.getOwnPropertyDescriptor(OTe.prototype,"stopAdvertising"),OTe.prototype),H()(OTe.prototype,"writeCharacteristicValue",[Bt],Object.getOwnPropertyDescriptor(OTe.prototype,"writeCharacteristicValue"),OTe.prototype),OTe),eEe=function(e={}){bd(Wh(this))("createBLEPeripheralServer",e,{beforeSuccess(e){var t=e.serverId,r=new ZTe(t);delete e.serverId,e.server=r}})},tEe=ir("BLEPeripheralConnectionStateChanged"),rEe=tEe.onMethod,nEe=tEe.offMethod;qt("onBLEPeripheralConnectionStateChanged",((e={})=>{tEe.emit(e)}));var iEe=(e={})=>{if(Vc("makeBluetoothPair",e,{deviceId:""})){var t=Object.assign({},e);At(e.pin||null)&&(t.pin=Av(e.pin)),md("makeBluetoothPair",t)}},aEe=(e={})=>{Vc("isBluetoothDevicePaired",e,{deviceId:""})&&md("isBluetoothDevicePaired",e)},oEe=(e={})=>{ke?Vc("setBLEMTU",e,{deviceId:"",mtu:0})&&md("setBLEMTU",e,{}):zc("setBLEMTU",e,"can only be invoked on android")},sEe=ir("onBLEMTUChange"),lEe=23,cEe={},uEe=sEe.onMethod,dEe=sEe.offMethod;ke&&qt("onBLEMTUChange",(e=>{e.deviceId&&e.mtu&&(Object.keys(cEe).forEach((e=>{delete cEe[e]})),cEe[e.deviceId]={mtu:e.mtu}),sEe.emit(e)}));var pEe=(e={})=>{if(Vc("getBLEMTU",e,{deviceId:""}))if(ke){var t=cEe[e.deviceId];sd({mtu:t?t.mtu:lEe},"getBLEMTU",e,{})}else{if(e.writeType)if(!["write","writeNoResponse"].includes(e.writeType))return void zc("getBLEMTU",e,"invalid write type");md("getBLEMTU",e,{})}},hEe=!1,fEe=!1;function gEe(e,t={},r,n){Hc({name:e,args:t,errMsg:r,errno:n,success:!1}),fEe=!1}function vEe(e,t,r,n){sd(e,t,r,n),fEe=!1}Vxe.on("_enableMonitoring",(e=>{hEe=e}));var mEe=(e={})=>{var t=Object.assign({},e);if(Vc("startMonitoringBluetoothDevice",t,{sn:"",snTicket:"",modelId:"",deviceId:""})){if(oTe()&&!Wxe(t.deviceId))return gEe("startMonitoringBluetoothDevice",t,"invalid deviceId",1510115);if(t.bluetoothDeviceId=t.deviceId,fEe)return gEe("startMonitoringBluetoothDevice",t,"current interface is busy",Ql);if(fEe=!0,t.envVersion)if(!["develop","trial","release"].includes(t.envVersion))return gEe("startMonitoringBluetoothDevice",t,"invalid envVersion",nc);if(t.entryPackage&&"string"==typeof t.entryPackage){var r=re.subPackages||re.subpackages;if(!r)return gEe("startMonitoringBluetoothDevice",t,"invalid subpackages configuration",lc);var n=r.some((e=>e.root.includes(t.entryPackage)));if(!n)return gEe("startMonitoringBluetoothDevice",t,"invalid entryPackage",cc);t.entryPackage.trim(),t.entryPackage.startsWith("/")||(t.entryPackage=`/${t.entryPackage}`),t.entryPackage.endsWith("/")||(t.entryPackage=`${t.entryPackage}/`)}return hEe?nTe(t.bluetoothDeviceId)?void $xe({success({devices:e}){var r=re.accountInfo.appId,n=e.filter((e=>e.appid===r)),i=()=>{yEe({data:{monitoredDeviceInfo:{appid:r,bluetoothDeviceId:t.bluetoothDeviceId,deviceId:t.sn,envVersion:t.envVersion,entryPackage:t.entryPackage}},success(e){Uxe.emit("_updateMonitorDevices",{success(){vEe(e,"startMonitoringBluetoothDevice",t,{})}}),aIe({network:"all",packages:[t.entryPackage||"__APP__"]})},fail(e){gEe("startMonitoringBluetoothDevice",t,e.errMsg)}})};if(Wxe(t.deviceId))return i();bEe(t,(a=>a.errMsg?gEe("startMonitoringBluetoothDevice",t,a.errMsg,rc):e.length>a.max_user_count_to_device||n.length>a.max_device_count_to_app?gEe("startMonitoringBluetoothDevice",t,"devices are out of max count",sc):e.some((e=>t.bluetoothDeviceId===e.bluetoothDeviceId&&t.sn!==e.sn))||e.some((e=>t.bluetoothDeviceId===e.bluetoothDeviceId&&r!==e.appid))?gEe("startMonitoringBluetoothDevice",t,"same ble device can only bound 1 sn and 1 appid",oc):void i()))},fail(e){gEe("startMonitoringBluetoothDevice",t,e.errMsg)}}):gEe("startMonitoringBluetoothDevice",t,"only connected devices can be monitored",ac):gEe("startMonitoringBluetoothDevice",t,"enableMonitoring is not set",ic)}},yEe=(e={})=>{e.type="set",md("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg}})},bEe=({sn:e,snTicket:t,modelId:r,bluetoothDeviceId:n},i)=>{TE({sdkApiName:"CheckBluetoothDeviceTicket",apiName:"CheckBluetoothDeviceTicket",reqData:{scene:1,device_info_list:[{sn:e,sn_ticket:t,model_id:r,bluetooth_device_id:n}]},success(e){var{max_user_count_to_device:t,max_device_count_to_app:r}=e.data;t&&r&&(e.max_user_count_to_device=t,e.max_device_count_to_app=r,delete e.errMsg),i(e)},fail(e){i(e)}})},_Ee=(e={})=>{Vc("stopMonitoringBluetoothDevice",e,{sn:""})&&wEe({data:{deviceId:e.sn,appid:re.accountInfo.appId},success(t){Uxe.emit("_updateMonitorDevices",{sn:e.sn,success(){sd(t,"stopMonitoringBluetoothDevice",e,{})}})},fail(t){zc("stopMonitoringBluetoothDevice",e,t.errMsg)}})},wEe=(e={})=>{e.type="delete",md("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg}})},SEe=ir("onMonitoredBluetoothDeviceFound"),CEe=[],kEe=!1,IEe=e=>{SEe.onMethod(e),kEe=!0,CEe.length&&(CEe.forEach((e=>{SEe.emit(e)})),CEe=[])},PEe=SEe.offMethod;qt("onMonitoredBluetoothDeviceFound",(e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,kEe?SEe.emit(e):CEe.push(e)}));var AEe=(e={})=>{md("startWifi",e,{})},xEe=(e={})=>{md("stopWifi",e,{})},TEe=(e={})=>{md("getWifiList",e,{})};function EEe(e){return"string"==typeof e&&('"'===e[0]&&(e=e.substring(1)),'"'===e[e.length-1]&&(e=e.substring(0,e.length-1))),e}var MEe=(e={})=>{"boolean"==typeof e.partialInfo&&(e.acceptIncompleteWiFiInfo=e.partialInfo,Ie&&(e.useCN=e.partialInfo)),md("getConnectedWifi",e,{beforeSuccess(t){e.partialInfo&&t.wifi&&(t.wifi=Ie?{SSID:t.wifi.SSID,BSSID:t.wifi.BSSID}:{SSID:t.wifi.SSID}),t.wifi&&(t.wifi.SSID=EEe(t.wifi.SSID))}})},REe=(e={})=>{if(Vc("connectWifi",e,{SSID:"",password:""})){"boolean"==typeof e.partialInfo&&(e.acceptIncompleteWiFiInfo=e.partialInfo),"boolean"==typeof e.manual&&(e.maunal=e.manual);var t=Object.assign({maunal:!1},e);md("connectWifi",t,{beforeSuccess(t){e.partialInfo&&t.wifi&&(t.wifi={SSID:t.wifi.SSID}),t.wifi&&(t.wifi.SSID=EEe(t.wifi.SSID))}})}},OEe=(e={})=>{Ie?Vc("presetWifiList",e,{wifiList:[]})&&md("presetWifiList",e,{}):zc("presetWifiList",e,"presetWifiList must be invoked on iOS platform")},DEe=(e={})=>{Ie?Vc("setWifiList",e,{wifiList:[]})&&md("setWifiList",e,{}):zc("setWifiList",e,"setWifiList must be invoked on iOS platform")},LEe=e=>{qt("onGetWifiList",(t=>{t.wifiList&&t.wifiList.forEach((e=>{e.SSID=EEe(e.SSID)})),x.surroundThirdByTryCatch(e,"at onGetWifiList callback function")(t)}))},NEe=()=>{qt("onGetWifiList",(()=>{}))},BEe=e=>{qt("onWifiConnected",(t=>{t.wifi&&(t.wifi.SSID=EEe(t.wifi.SSID)),x.surroundThirdByTryCatch(e,"at onWifiConnected callback function")(t)}))},$Ee=()=>{qt("onWifiConnected",(()=>{}))},jEe=null,FEe=["none","low","high"],WEe=e=>{"function"==typeof e&&(jEe=e)};function UEe(e){var t,r={SSID:e.wifi.SSID,BSSID:e.wifi.BSSID,confidence:"none"};if("function"==typeof jEe)try{t=jEe(e)||{}}finally{FEe.find((e=>e===t.confidence))&&(r.confidence=t.confidence),md("evaluateWifi",r,{})}}qt("onEvaluateWifi",x.surroundThirdByTryCatch(UEe,"at onEvaluateWifi callback function"));var VEe=e=>{qt("onWifiConnectedWithPartialInfo",(({wifi:t})=>{var r={wifi:{}};t&&(r.wifi.SSID=EEe(t.SSID)),x.surroundThirdByTryCatch(e,"at onWifiConnectedWithPartialInfo callback function")(r)}))},qEe=()=>{qt("onWifiConnectedWithPartialInfo",(()=>{}))},zEe=(e={})=>{md("getHCEState",e,{})},GEe=(e={})=>{md("startHCE",e,{})},HEe=(e={})=>{md("stopHCE",e,{})},KEe=(e={})=>{Vc("sendHCEMessage",e,{data:new ArrayBuffer(0)})&&md("sendHCEMessage",Object.assign({},e,{data:Av(e.data)}),{})},JEe=e=>{qt("onHCEMessage",((t={})=>{"string"==typeof t.data&&(t.data=xv(t.data)),x.surroundThirdByTryCatch(e,"at onHCEMessage callback function")(t)}))},XEe=()=>{qt("onHCEMessage",(()=>{}))},YEe=()=>{},QEe=(e={},t)=>{var r=T.surroundThirdByTryCatch(e.success||YEe,`at api ${t} success callback function`),n=T.surroundThirdByTryCatch(e.fail||YEe,`at api ${t} fail callback function`),i=T.surroundThirdByTryCatch(e.complete||YEe,`at api ${t} complete callback function`);return{...e,success:r,fail:n,complete:i}},ZEe=(e,t,r)=>{var n=void 0===r?{errMsg:t}:{errMsg:t,errCode:r};e.fail(n),e.complete(n)},eMe=new WeakMap,tMe=new Yt,rMe="onNFCDiscovered",nMe="onNdefMessageRead";ur("onNFCDiscovered",(e=>{tMe.emit(rMe,e)})),ur("onNdefMessageRead",(e=>{tMe.emit(nMe,e)}));var iMe={ndef:"NDEF",nfcA:"NFC-A",nfcB:"NFC-B",isoDep:"ISO-DEP",nfcF:"NFC-F",nfcV:"NFC-V",mifareClassic:"MIFARE Classic",mifareUltralight:"MIFARE Ultralight"};function aMe(e,t){if(!this[e]){var r=t();return Object.defineProperty(this,e,{enumerable:!1,configurable:!1,writable:!1,value:r}),r}return this[e]}class oMe{constructor(){this.tech=iMe,Object.defineProperty(this,"_singleton",{enumerable:!1,configurable:!1,writable:!1})}startDiscovery(e={}){e=QEe(e,"NFCAdapter#startDiscovery"),ke?md("isSupportNFC",{success(){md("startNFCDiscovery",{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("startNFCDiscovery","startDiscovery"))}})},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isSupportNFC","startDiscovery"))}}):ZEe(e,"startDiscovery:fail current platform is not supported")}stopDiscovery(e={}){e=QEe(e,"NFCAdapter#stopDiscovery"),ke?md("stopNFCDiscovery",{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("stopNFCDiscovery","stopDiscovery"))}}):ZEe(e,"stopDiscovery:fail current platform is not supported")}onDiscovered(e){if("function"==typeof e){var t=T.surroundThirdByTryCatch(e,"at NFCAdapter#onDiscovered callback function"),r=(e={})=>{if(e.messages&&gt(e.messages)){for(var r=[],n=e.messages||[],i=0;i<n.length;++i){for(var a={records:[]},o=n[i]||[],s=0;s<o.length;++s){var l=`payload-${i}-${s}`,c=e[l];delete e[l],o[s].payload=c,o[s].id=xv(o[s].id),o[s].type=xv(o[s].type),a.records.push(o[s])}r.push(a)}e.messages=r}e.id&&"string"==typeof e.id&&(e.id=xv(e.id)),t(e)};tMe.on(rMe,r),eMe.set(e,r)}}offDiscovered(e){if("function"==typeof e){var t=eMe.get(e);t&&tMe.off(rMe,t)}}getNdef(){return aMe.call(this,"_ndef",(()=>new lMe))}getNfcA(){return aMe.call(this,"_nfcA",(()=>new uMe))}getNfcB(){return aMe.call(this,"_nfcB",(()=>new dMe))}getIsoDep(){return aMe.call(this,"_isoDep",(()=>new pMe))}getNfcF(){return aMe.call(this,"_nfcF",(()=>new hMe))}getNfcV(){return aMe.call(this,"_nfcV",(()=>new fMe))}getMifareClassic(){return aMe.call(this,"_mirafeClassic",(()=>new gMe))}getMifareUltralight(){return aMe.call(this,"_mifareUltralight",(()=>new vMe))}}class sMe{constructor(e){this.techType=e}connect(e={}){e=QEe(e,`${this.techType}#connect`),ke?md("NFCConnect",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCConnect","connect"))}}):ZEe(e,"connect:fail current platform is not supported")}close(e={}){e=QEe(e,`${this.techType}#close`),ke?md("NFCClose",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCClose","close"))}}):ZEe(e,"close:fail current platform is not supported")}setTimeout(e={}){e=QEe(e,`${this.techType}#setTimeout`),ke?e.timeout?md("NFCSetTimeout",{tech:this.techType,timeout:parseInt(e.timeout,10),success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCSetTimeout","setTimeout"))}}):ZEe(e,"timeout should be specified"):ZEe(e,"setTimeout:fail current platform is not supported")}isConnected(e){e=QEe(e,`${this.techType}#isConnected`),ke?md("isNFCTechConnected",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isNFCTechConnected","isConnected"))}}):ZEe(e,"isConnected:fail current platform is not supported")}}class lMe extends sMe{constructor(){super("NDEF")}onNdefMessage(e){if("function"==typeof e){var t=T.surroundThirdByTryCatch(e,"at Ndef#onReadNdefMessage callback function"),r=e=>{for(var r=e.messages||[],n=0;n<r.length;++n)for(var i=r[n]||[],a=0;a<i.length;++a){var o=`payload-${n}-${a}`,s=e[o];i[a].payload=s,delete e[o]}t(e)};tMe.on(nMe,r),eMe.set(e,r)}}offNdefMessage(e){if("function"==typeof e){var t=eMe.get(e);t&&tMe.off(nMe,t)}}writeNdefMessage(e={}){if(e=QEe(e,"Ndef#writeNdefMessage"),ke){if(e.uris)return gt(e.uris)?void md("writeNdefMessage",{uris:e.uris,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void ZEe(e,"writeNdefMessage: urils should be type of Array");if(e.texts)return gt(e.texts)?void md("writeNdefMessage",{texts:e.texts,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void ZEe(e,"writeNdefMessage: texts should be type of Array");if(e.records){if(!gt(e.records))return void ZEe(e,"writeNdefMessage: records should be type of Array");for(var t={},r=0;r<e.records.length;++r){var n=e.records[r];if(!At(n.id))return void ZEe(e,"writeNdefMessage: record.id should be type of ArrayBuffer");if(!At(n.type))return void ZEe(e,"writeNdefMessage: record.type should be type of ArrayBuffer");n.id=Av(n.id),n.type=Av(n.type),t[`payload-${r}`]=n.payload,delete n.payload}md("writeNdefMessage",{records:e.records,...t,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}})}else ZEe(e,"writeNdefMessage: expect parameter contains one of uris, texts, records")}else ZEe(e,"writeNdefMessage:fail current platform is not supported")}}class cMe extends sMe{getMaxTransceiveLength(e={}){e=QEe(e,`${this.techType}#getMaxTransceiveLength`),ke?md("NFCGetMaxTransceiveLength",{tech:this.techType,success:e.success,fail:e.fail,complete:e.complete},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetMaxTransceiveLength","getMaxTransceiveLength"))}}):ZEe(e,"getMaxTransceiveLength:fail current platform is not supported")}transceive(e={}){e=QEe(e,`${this.techType}#transceive`),ke?e.data?At(e.data)?md("NFCTransceive",{tech:this.techType,data:e.data,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCTransceive","transceive"))}}):ZEe(e,"transceive: data should be type of ArrayBuffer"):ZEe(e,"transceive: data field is required"):ZEe(e,"transceive:fail current platform is not supported")}}class uMe extends cMe{constructor(){super("NFC-A")}getAtqa(e){e=QEe(e,`${this.techType}#getAtqa`),ke?md("NFCGetAtqa",{success(t){t&&t.atqa?e.success({errMsg:t.errMsg,atqa:xv(t.atqa)}):e.success({errMsg:t.errMsg,atqa:null})},fail(t){e.fail(t)},complete(t){t&&t.atqa?e.complete({errMsg:t.errMsg,atqa:xv(t.atqa)}):e.complete({errMsg:t.errMsg,atqa:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetAtqa","getAtqa"))}}):ZEe(e,"getAtqa:fail current platform is not supported")}getSak(e){e=QEe(e,`${this.techType}#getSak`),ke?md("NFCGetSak",e,{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetSak","getSak"))}}):ZEe(e,"getSak:fail current platform is not supported")}}class dMe extends cMe{constructor(){super("NFC-B")}setTimeout(e={}){e=QEe(e,`${this.techType}#setTimeout`),ZEe(e,"setTimeout: function not support",13024)}}class pMe extends cMe{constructor(){super("ISO-DEP")}getHistoricalBytes(e){e=QEe(e,`${this.techType}#getHistoricalBytes`),ke?md("NFCGetHistoricalBytes",{success(t){t&&t.histBytes?e.success({errMsg:t.errMsg,histBytes:xv(t.histBytes)}):e.success({errMsg:t.errMsg,histBytes:null})},fail(t){e.fail(t)},complete(t){t&&t.histBytes?e.complete({errMsg:t.errMsg,histBytes:xv(t.histBytes)}):e.complete({errMsg:t.errMsg,histBytes:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetHistoricalBytes","getHistoricalBytes"))}}):ZEe(e,"getHistoricalBytes:fail current platform is not supported")}}class hMe extends cMe{constructor(){super("NFC-F")}}class fMe extends cMe{constructor(){super("NFC-V")}setTimeout(e={}){e=QEe(e,`${this.techType}#setTimeout`),ZEe(e,"setTimeout: function not support",13024)}}class gMe extends cMe{constructor(){super("MIFARE Classic")}}class vMe extends cMe{constructor(){super("MIFARE Ultralight")}}var mMe=null;function yMe(){return mMe||(mMe=new oMe)}var bMe=ir("local-service-found"),_Me=ir("local-service-lost"),wMe=ir("local-service-discovery"),SMe=ir("local-service-resolve-fail"),CMe=(e={})=>{md("operateLocalServicesScan",Object.assign({},e,{action:"start"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")})},kMe=(e={})=>{md("operateLocalServicesScan",Object.assign({},e,{action:"stop"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")})};qt("onLocalServiceEvent",(e=>{var t=Object.assign({},e);switch("object"==typeof t.attributes&&null!==t.attributes&&Object.keys(t.attributes).forEach((e=>{var r=t.attributes[e];t.attributes[e]=xv(r)})),delete t.event,e.event){case"found":bMe.emit(t);break;case"lost":_Me.emit(t);break;case"stopScan":delete t.serviceType,delete t.serviceName,delete t.ip,delete t.port,wMe.emit(t);break;case"resolveFail":delete t.ip,delete t.port,SMe.emit(t)}}));var IMe=bMe.onMethod,PMe=bMe.offMethod,AMe=_Me.onMethod,xMe=_Me.offMethod,TMe=wMe.onMethod,EMe=wMe.offMethod,MMe=SMe.onMethod,RMe=SMe.offMethod,OMe=ir("gyroscopeChange"),DMe=function(e={}){var t={fast:0,game:20,ui:60,normal:200},r=Wh(this),n=t[e.interval]||t.normal;md("enableGyroscope",zd(e,{interval:n,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")},afterSuccess(){Toe(r,"wx.startGyroscope")}})},LMe=(e={})=>{md("enableGyroscope",zd(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},NMe=OMe.onMethod,BMe=e=>{var t;OMe.offMethod(e),null!==(t=OMe.getGlobalListeners())&&void 0!==t&&t.length||LMe()};qt("onGyroscopeChange",(e=>{OMe.emit(e)}));var $Me=ir("deviceMotionChange"),jMe=function(e={}){var t={fast:0,game:20,ui:60,normal:200},r=Wh(this),n=t[e.interval]||t.normal;md("enableDeviceMotionChangeListening",zd(e,{interval:n,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")},afterSuccess(){xoe(r,"wx.startDeviceMotionListening")}})},FMe=(e={})=>{md("enableDeviceMotionChangeListening",zd(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},WMe=$Me.onMethod,UMe=$Me.offMethod;qt("onDeviceMotionChange",(e=>{$Me.emit(e)}));var VMe=e=>{md("checkIsOpenAccessibility",e)},qMe=e=>{var t=new Date(1e3*e);return t.setHours(0,0,0),t.valueOf()/1e3},zMe=e=>{var t=new Date(1e3*e);return t.setSeconds(0),t.valueOf()/1e3},GMe=function(e={}){if(Vc("addPhoneCalendar",e,{})){var t=e.allDay?qMe(e.startTime):zMe(e.startTime),r=e.endTime?e.allDay?qMe(e.endTime):zMe(e.endTime):void 0;bd(Wh(this))("addPhoneCalendar",{allDay:!1,alarm:!0,...e,startTime:t,endTime:r,repeat:!1})}},HMe=function(e={}){if(Vc("addPhoneCalendar",e,{})){var t=e.allDay?qMe(e.startTime):zMe(e.startTime),r=e.endTime?e.allDay?qMe(e.endTime):zMe(e.endTime):void 0;bd(Wh(this))("addPhoneCalendar",{allDay:!1,alarm:!0,repeatInterval:"month",...e,startTime:t,endTime:r,repeat:!0})}},KMe=Oz(),JMe={};function XMe(e){var t=KMe.next();JMe[t]=e,Kr("getWebviewDebugInfo",{callbackId:t},[uu.currentWebviewId])}en("getWebviewDebugInfoRes",(({callbackId:e,info:t},r)=>{var n=JMe[e];JMe[e]=null,"function"==typeof n.success&&n.success(t)}));var YMe=e=>{Ie||ke?md("getIPAddress",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getIPAddress","getLocalIPAddress")}}):md("getLocalIPAddress",e)},QMe=()=>{var e=JS(),t=((null==e?void 0:e.model)||"").match(/<([^>]*)>/);if(!t||!t[1])return!1;var r=t[1].match(/iPhone(\d+),/);if(r&&parseInt(r[1],10)>=9)return!0;var n=t[1].match(/iPad(\d+),/);if(n&&parseInt(n[1],10)>=7)return!0;return!1},ZMe=e=>{if(Ie){var t=QMe(),r=parseFloat((re.system||"").replace("iOS","")),n="checkDeviceSupportHevc:ok";t&&r>=11?("function"==typeof e.success&&e.success({errMsg:n,supportHevc:!0}),"function"==typeof e.complete&&e.complete({errMsg:n,supportHevc:!0})):(n="checkDeviceSupportHevc:fail not support","function"==typeof e.fail&&e.fail({errMsg:n}),"function"==typeof e.complete&&e.complete({errMsg:n}))}else if(ke)md("checkDeviceSupportHevc",e);else{var i="checkDeviceSupportHevc:fail not support";"function"==typeof e.fail&&e.fail({errMsg:i}),"function"==typeof e.complete&&e.complete({errMsg:i})}},eRe=new Map,tRe=new Map,rRe=null,nRe=null,iRe="{}",aRe="",oRe="",sRe="",lRe=0,cRe=0,uRe=0,dRe=5e3,pRe=!0;function hRe(){EK(xd()((function*(){sRe=ARe();var e=++lRe;yield BRe(),TRe(e)&&(bRe(e,[0,0,0,1,ARe(),oRe,0]),LRe(e))}))),Qpe(gRe),ur("onVideoFullScreenChange",gRe),ur("onNavigationBarColorChange",vRe)}function fRe(){return pRe?"product-recommand-old":"product-recommand"}function gRe({fullScreen:e}={}){var t=eRe.get(fRe());null!=t&&t.isReady&&t.setData({fullScreen:e})}function vRe({frontColor:e}={}){var t=eRe.get(fRe());null!=t&&t.isReady&&"function"==typeof(null==t?void 0:t.setColor)&&t.setColor({color:e.toLowerCase()})}function mRe(){var{screenWidth:e,screenHeight:t}=ww(),r=Math.min(e,t);return ke&&r>=600}function yRe(){return ke?re.clientVersion>671100416:!!Ie&&re.clientVersion>=402664992}function bRe(e,t=[]){if(TRe(e)){var r=t.map(encodeURIComponent).join(",");T.reportKeyValue({key:"ProductRecommand",value:r})}}function _Re(){return re.accountInfo.appId}function wRe(){return re.accountInfo.nickname}function SRe(e={}){return Object.entries(e).map((([e,t])=>`${e}=${t}`)).join("&")}function CRe(e={}){Object.keys(e).forEach((t=>{var r=e[t];"string"==typeof r&&(e[t]=encodeURIComponent(r))}))}function kRe(){if(void 0===br)return{};var e=br.getCurrentPagesByDomain(null);return e.length?e[e.length-1]:{}}function IRe(){var{__route__:e}=kRe();return e}function PRe(){var{options:e}=kRe();return SRe(e)}function ARe(){return`${IRe()}?${PRe()}`}function xRe(){var e,t,r,n=(null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(r=t.koubei_info)||void 0===r?void 0:r.path_list)||[],i=IRe(),a=PRe();return n.some((({path:e,key_list:t=[]})=>i.includes(e)&&t.some((e=>a.includes(e)))))}function TRe(e){return e===lRe&&sRe===ARe()&&xRe()}function ERe({inner:e}){return new Promise(((t,r)=>{var n=_Re(),i=ARe();TE({apiName:"webapi_getpageservice",reqData:{user_action:{session_id:Qh().sessionId,click_count:cRe,close_count:uRe},...yRe()?{words_count:$Re()}:{},action:e?2:1,appid:n,pagepath:i,...e?{session_buff:oRe}:{}},success(e){var{show_time:r,show_type:n,show_capsule:i,session_buff:a,data:o,core_path:s,title_list:l,polling_interval:c}=e.data||{};r&&(dRe=r),yRe()&&(pRe=1!==n),iRe=o,aRe=s,oRe=a,t({show:Boolean(i),interval:c||0,descList:null!=l&&l.length?l:["相关口碑"]})},fail(e){r()}})}))}function MRe(e){return new Promise((t=>{var r=eRe.get(e);if(null!=r&&r.isReady)return t(r);__sclEngine__.initScl((r=>{if(!eRe.get(e)){var n=r.mainRoot.append(e,{});eRe.set(e,n),n.addListener("ready",(()=>{n.isReady=!0,t(n)}))}}))}))}function RRe(e,t){return ORe.apply(this,arguments)}function ORe(){return ORe=xd()((function*(e,t){var r=yield MRe(fRe());r.taskId=e,r.listened||(r.listened=!0,r.addListener("close",(()=>{uRe++,bRe(r.taskId,[1,0,1,1,ARe(),oRe,1])})),r.addListener("close_end",(e=>{var t=e.detail.ts,r=tRe.get(t);"function"==typeof r&&(r(),tRe.delete(t))})),r.addListener("tap_recommand",(()=>{cRe++,bRe(r.taskId,[1,1,0,1,ARe(),oRe,1]),jRe()})),r.addListener("recommand",(()=>{cRe++,bRe(r.taskId,[1,1,0,1,ARe(),oRe,1]);var e={appid:_Re(),appname:wRe(),id:aRe,session:oRe,samepage:Number(TRe(r.taskId)),path:ARe()};CRe(e);var t={appId:"wx4e5da2583ced2054",path:`pages/index/index?${SRe(e)}`,extraData:{id:e.id,data:iRe},noRelaunchIfPathUnchanged:!0};fne(t,{})}))),mRe()||TRe(e)&&(bRe(e,[1,0,0,1,ARe(),oRe,1]),WRe(),pRe?r.setData({show:!0,descList:t}):(r.setData({show:!0,desc:t[0]}),DRe(r)))})),ORe.apply(this,arguments)}function DRe(e){nRe=setTimeout((()=>{TRe(e.taskId)&&(e.close(),setTimeout(FRe,500))}),dRe)}function LRe(e){return NRe.apply(this,arguments)}function NRe(){return NRe=xd()((function*(e,t=!1){if(clearTimeout(rRe),TRe(e))try{var{show:r,interval:n,descList:i}=yield ERe({inner:t});if(bRe(e,[0,0,0,1,ARe(),oRe,Number(r)]),clearTimeout(rRe),!TRe(e))return;r?RRe(e,i):n&&(rRe=setTimeout((()=>LRe(e,!0)),n))}catch(e){clearTimeout(rRe)}})),NRe.apply(this,arguments)}function BRe(){return new Promise((e=>{iRe="{}",aRe="",oRe="",clearTimeout(rRe),clearTimeout(nRe);var t=eRe.get(fRe());if(null!=t&&t.isReady){var r=Date.now().toString();tRe.set(r,e),t.close(!1,r)}else e()}))}function $Re(){var{screenWidth:e}=ww(),{width:t}=CV();return Math.floor((.8*e-t-50)/14)}function jRe(){md("showSystemSheetMenu",{sessionBuffer:oRe,complete(e){}},{})}function FRe(){md("updateCapsuleIcon",{iconUrl:"https://res.wx.qq.com/op_res/u-wENNdLperHtS1hAKXYDO0ZcdDp-YSx3TxXpoqk7-nVVJY7EHUvZHQ83Ew0RyJpbmPmQ4Jkim9DZCYExKFVAw",darkModeIconUrl:"https://res.wx.qq.com/op_res/u-wENNdLperHtS1hAKXYDJdM-80DAg30yoAVAGjjIX0rTmSCxnWL4O_5q_HACKLNbyUzHVc3lkkxDWAzs2YnAw",priority:1,sessionBuffer:oRe,complete(e){}},{})}function WRe(){md("preloadMiniProgramEnv",{type:"app",complete(e){}},{})}re.onReady((()=>{(ke||Ie)&&Le&&!Ue()&&hRe()}));var URe="groupNameFetched",VRe=!1;en(URe,(()=>{VRe||(VRe=!0,jW({icon:"none",title:"群名称仅你可见，小程序无法获取。"}))}));var qRe=(e={})=>{invokeMethod("navigateBackApplication",e,{})},zRe=(e={})=>{var{launchAppid:t}=e;t&&"string"==typeof t?invokeOperateWXData({apiName:"wxaapi_verify_jump",reqData:{appid:t},success:r=>{if("ok"===r.data.res){invokeMethod("launchApplication",Object.assign(e,{appId:t,operateDirectly:!0}));var n=[getMergedEnterOptions().scene,encodeURIComponent(getMergedEnterOptions().scene_note||getMergedEnterOptions().sceneNote),O&&O.getCurrentRoutePath(),e.alertType,e.parameter,WXConfig.appType+1e3,e.appId].map(encodeURIComponent).join(",");T.reportKeyValue({key:"LaunchApplicationInfo",value:n,force:!0})}else beforeInvokeFail("launchApplication",e,"no permission")},fail:()=>{beforeInvokeFail("launchApplication",e,"no permission")}}):(delete e.operateDirectly,invokeMethod("launchApplication",e,{}))},GRe=(e={})=>{delete e.operateDirectly,md("launchApplicationForNative",e,{})},HRe=(e={})=>{Cf("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,Ie?Cf("launchApplicationDirectly")?md("launchApplication",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((()=>zc("launchApplicationDirectly",e,"no permission"))):md("launchApplicationDirectly",e,{})},KRe=(e={})=>{re.onReady((()=>{if(!Je()&&!Ke()){var t={errMsg:"enterContact:fail no permission"};return e.fail&&e.fail(t),void(e.complete&&e.complete(t))}e.privateEnterContact=!0,WC("appServiceEnterContact",e,[uu.currentWebviewId],(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("privateEnterContact","enterContact")),0===t.errMsg.indexOf("enterContact:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))}))},JRe=function(e){if(Oe)zc("chooseShareGroup",e,"chooseShareGroup:fail SDK暂不支持此API");else{var t=Wh(this);bd(t)("chooseShareGroup",e)}},XRe=1,YRe=60,QRe=300,ZRe=1e3,eOe=864e5,tOe=null,rOe=null,nOe=null,iOe=new Promise((e=>{nOe=e}));re.onReady((()=>{rOe=re,tOe=JS(),nOe()}));var aOe=e=>{rOe?e():iOe.then(e)},oOe={enabled:!0,sampleRate:XRe,batchTime:QRe,legacyReportEnabled:!0,bufferCapacity:ZRe,userUin:0},sOe,lOe=!1;function cOe(){return lOe=!0,Rz().then((e=>{var t=e.data;if(t){var r=t.PerformaceGlobalConf,n=t.PerformacePersonalConf;r&&(void 0!==r.PerformanceOldReportOff&&(oOe.legacyReportEnabled=!(1===r.PerformanceOldReportOff)),void 0!==r.PerformanceReportMaxNum&&(oOe.bufferCapacity=parseInt(r.PerformanceReportMaxNum,10)),void 0!==r.PerformanceMiniprogramlibGatherTime&&(oOe.batchTime=60*parseInt(r.PerformanceMiniprogramlibGatherTime,10))),n&&(void 0!==n.PerformanceMiniprogramlibOff&&(oOe.enabled=!(1===n.PerformanceMiniprogramlibOff)),void 0!==n.PerformanceMiniprogramlibGatherTime&&(oOe.batchTime=60*parseInt(n.PerformanceMiniprogramlibGatherTime,10)),void 0!==n.PerformanceMiniprogramlibSamplingRatio&&(oOe.sampleRate=parseInt(n.PerformanceMiniprogramlibSamplingRatio,10)/100)),oOe.userUin=t.UserUin,oOe.batchTime!==QRe&&yOe()}})).catch((e=>{}))}function uOe(e){return e}function dOe(e,t){if(0===t)return!1;var r=Math.ceil(1/t);return uOe(e)%r===parseInt(Date.now()/eOe,10)%r}function pOe(e){if(!e)return"";var t=e.indexOf("?");return t>-1?e.substring(0,t):e}function hOe(){var e=void 0!==br?br.getCurrentPagesByDomain(""):[],t=tOe&&tOe.brand,r=tOe&&tOe.model,n=tOe&&tOe.platform,i=tOe&&tOe.system,a=rOe&&rOe.appLaunchInfo&&rOe.appLaunchInfo.scene,o=rOe&&re.envVersion,s=tOe&&tOe.version,l=tOe&&tOe.SDKVersion,c=e.length>0&&e[e.length-1].__route__||"";return{platform:n,system:i,path:c=pOe(c),scene:a,brand:t,model:r,networkType:My(),envType:o,clientVersion:s,sdkVersion:l}}function fOe(e,t,r=[],n){var i=Object.create(null);i.key=e,i.value=t;var a=hOe(),o="";n?(o=n.pluginId,a.pluginCustomVersion=n.customVersion,a.path=vr.convertRouteToComponentAlias(a.path),a.path.indexOf("plugin")<0&&(a.path="")):o=rOe.accountInfo&&rOe.accountInfo.appId,SOe({appId:o,metrics:i,dimensions:r}),sOe&&sOe.then((()=>{"release"===re.envVersion&&oOe.sampleRate!==XRe&&oOe.userUin&&!dOe(oOe.userUin,oOe.sampleRate)||oOe.enabled&&oOe.legacyReportEnabled&&COe({appId:o,metrics:i,baseInfo:a,interfaces:"log_20000_userdefine",busid:"b_wxg_wxa_miniprogram_performance"})}))}var gOe={};function vOe(){var e=Object.keys(gOe);if(!(e.length<=0)&&oOe.enabled&&("release"!==re.envVersion||oOe.sampleRate===XRe||!oOe.userUin||dOe(oOe.userUin,oOe.sampleRate))){var t="develop"===re.envVersion||"trial"===re.envVersion;for(var r of e){var n=gOe[r],i={key:n.key,value:n.valueSum/n.count,num:n.count},a=n.baseInfo,o=n.dimensions;t?o.length>0?kOe({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20004",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):kOe({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20002",busid:"b_wxg_wxa_miniprogram_performance"}):o.length>0?COe({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20003",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):COe({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20001",busid:"b_wxg_wxa_miniprogram_performance"}),delete gOe[r],T.reportKeyValue({key:"PerfReport",value:[n.appId,a.platform,a.scene,a.brand,a.model,a.networkType,a.envType,i.key,i.value,i.num,parseInt(Date.now()/1e3,10)].join(",")})}}}var mOe=null;function yOe(){var e="develop"===re.envVersion||"trial"===re.envVersion?YRe:oOe.batchTime;mOe&&clearInterval(mOe),mOe=setInterval(vOe,1e3*e)}function bOe(){setTimeout(vOe,3e4)}var _Oe=!1;function wOe(){_Oe=!0,aOe((()=>{bOe(),yOe(),Gp((()=>{vOe()})),df((()=>{yOe()}))}))}function SOe({appId:e,metrics:t={},dimensions:r=[]}={}){var n="";r.length>0&&(n="_"+r.join("_"));var i=hOe(),a=`${t.key}_${i.networkType}_${i.scene}${n}`;if(!(Object.keys(gOe).length>oOe.bufferCapacity)){gOe[a]||(gOe[a]={appId:e,key:t.key,valueSum:0,count:0,baseInfo:i,dimensions:r});var o=gOe[a];o&&(o.valueSum+=t.value,o.count++)}}function COe({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)}),s=JSON.stringify({interface:n,busid:i,data:o});nq(1002,s,!0)}function kOe({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){if(oOe.enabled){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)});EE({sdkApiName:"UploadByApi",apiName:"UploadByApi",reqData:{interface:n,busid:i,data:o}}).catch((()=>{}))}}function IOe(e){e&&e.success&&delete e.success,e&&e.fail&&delete e.fail,e&&e.complete&&delete e.complete}var POe=0,AOe=4294967295;function xOe(e,t,r,n){oOe.enabled&&(e||"number"==typeof e||console.warn("[reportPerformance] id can not be empty"),t||"number"==typeof t||console.warn("[reportPerformance] value can not be empty"),e=parseFloat(e),t=parseFloat(t),(Number.isNaN(e)||"number"!=typeof e)&&console.warn("[reportPerformance] id should always be type of Number"),e>=POe&&e<=AOe||console.warn("[reportPerformance] id is out of range, will probably cause report failure"),(Number.isNaN(t)||"number"!=typeof t)&&console.warn("[reportPerformance] id should always be type of Number"),t>=POe&&t<=AOe?(void 0===r||Array.isArray(r)||(r=[String(r)]),Array.isArray(r)&&(r.length>2&&console.warn("[reportPerformance] expected dimensions length to be less than or equals to 2, but got",r.length),0===(r=r.slice(0,2)).length&&(r[0]="",r[1]=""),1===r.length&&(r[1]=""),r=r.map((e=>e?String(e):"")).map((e=>e.substring(0,256)))),r&&Array.isArray(r)||(r=[]),lOe||(sOe=cOe()),_Oe||wOe(),aOe((()=>{"release"===re.envVersion&&oOe.sampleRate!==XRe&&oOe.userUin&&!dOe(oOe.userUin,oOe.sampleRate)||fOe(e,t,r,n)}))):console.warn("[reportPerformance] value should be in range of",POe," to",AOe))}function TOe(e,t,r){Oe?console.error({errMsg:"reportPerformance:fail SDK暂不支持此API"}):xOe(e,t,r)}function EOe(e,t,r,n){Oe?console.error("reportPerformance4Plugin:fail SDK暂不支持此API"):xOe(e,t,r,n)}var MOe=function(e){return e.Updating="updating",e.NoUpdate="noUpdate",e.UpdateReady="updateReady",e.UpdateFailed="updateFailed",e}({}),ROe=()=>!1,OOe=e=>{BOe({updateReady:!0,pluginId:e})},DOe=e=>{BOe({updateFailed:!0,pluginId:e})},LOe=e=>{BOe({applyUpdate:!0,pluginId:e})},NOe=()=>{BOe({forceUpdate:!0})},BOe=e=>{var t="string"==typeof e.pluginId&&0!==e.pluginId.length,r=[Du(),Lu(),e.updateReady?1:0,e.updateFailed?1:0,e.applyUpdate?1:0,t?1:0,e.pluginId||"",e.forceUpdate?1:0];T.reportQualityData2("UpdateManager",r)},$Oe=()=>["nativeFunctionalized"].includes(Qh().apiCategory)?"服务需要重启以使用最新功能":Ke()?"功能已更新，需重新加载后使用":"小程序需要重启以使用最新功能",jOe=new Qt,FOe=e=>{RW({content:$Oe(),confirmText:"知道了",showCancel:!1,complete(){md("updateApp",e)}})};qt("onUpdateStatusChange",(e=>{var t,r,n=e.state;null===(t=e.appContactInfo)||void 0===t||null===(r=t.passThroughInfo)||void 0===r||!r.forceUpdate?(delete e.state,n===MOe.UpdateReady?OOe():n===MOe.UpdateFailed&&DOe(),jOe.emit(n,e)):n===MOe.UpdateReady&&(console.info("[apply update before]"),NOe(),FOe())}));var WOe=[],UOe;jOe.on(MOe.Updating,(e=>{UOe={hasUpdate:!0,version:e.customVersion},VOe()})),jOe.on(MOe.NoUpdate,(()=>{UOe={hasUpdate:!1},VOe()}));var VOe=()=>{WOe.forEach((e=>{"function"==typeof e&&e(UOe)})),WOe.length=0},qOe=e=>{e=x.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),ROe()||(UOe?"function"==typeof e&&e(UOe):WOe.push(e))},zOe=new Qt;qt("onPluginUpdateStatusChange",(e=>{var{pluginAppid:t,state:r,appVersion:n,customVersion:i}=e;r===MOe.UpdateReady?OOe(t):r===MOe.UpdateFailed&&DOe(t),zOe.emit(r,{pluginAppid:t,appVersion:n,customVersion:i})}));var GOe={},HOe={};zOe.on(MOe.UpdateReady,(({pluginAppid:e,customVersion:t})=>{HOe[e]={pluginVersion:t},KOe(e,t)}));var KOe=(e,t)=>{var r=GOe[e];r&&(delete GOe[e],r.forEach((e=>{e({pluginVersion:t})})))},JOe=e=>t=>{var r=x.surroundThirdByTryCatch(t,"at onUpdateReady callback function");void 0===HOe[e]?GOe[e]?GOe[e].push(r):GOe[e]=[r]:r({pluginVersion:HOe[e].pluginVersion})},XOe=()=>Object.keys(HOe).length>0,YOe=[],QOe=!1,ZOe=!1,eDe={};jOe.on(MOe.UpdateReady,(e=>{QOe=!0,eDe={version:e.customVersion},tDe()}));var tDe=()=>{YOe.forEach((e=>{"function"==typeof e&&e(eDe)})),YOe.length=0},rDe=e=>{e=x.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),ROe()||(QOe?"function"==typeof e&&e(eDe):YOe.push(e))},nDe=e=>{QOe&&ZOe?zc("applyUpdate",e,"applyUpdate has been called"):!QOe&&!XOe()||ROe()?zc("applyUpdate",e,"update is not ready"):(ZOe=!0,Oe?md("updateApp",e):(LOe(),RW({content:$Oe(),confirmText:"知道了",showCancel:!1,complete(){md("updateApp",e)}})))},iDe=[],aDe;jOe.on(MOe.UpdateFailed,(e=>{aDe={version:e.customVersion},oDe()}));var oDe=()=>{iDe.forEach((e=>{"function"==typeof e&&e(aDe)})),iDe.length=0},sDe=e=>{e=x.surroundThirdByTryCatch(e,"at onUpdateFailed callback function"),ROe()||(aDe?"function"==typeof e&&e(aDe):iDe.push(e))},lDe={onCheckForUpdate:qOe,onUpdateReady:rDe,onUpdateFailed:sDe,applyUpdate:nDe},cDe=()=>lDe,uDe=Object.assign,dDe=Object.create,pDe=(e={})=>{if(Oe)console.error("updateWeChatApp:fail SDK暂不支持此API");else{var t=dDe(null);uDe(t,e),t.url="https://support.weixin.qq.com/update/",jq(t)}},hDe={},fDe={};zOe.on(MOe.Updating,(({pluginAppid:e,customVersion:t})=>{fDe[e]={hasUpdate:!0,pluginVersion:t},gDe(e,t)})),zOe.on(MOe.NoUpdate,(({pluginAppid:e,customVersion:t})=>{fDe[e]={hasUpdate:!1},gDe(e,t)}));var gDe=(e,t)=>{var r=hDe[e];r&&(delete hDe[e],r.forEach((r=>{var n=fDe[e].hasUpdate;r(n?{hasUpdate:n,pluginVersion:t}:{hasUpdate:n})})))},vDe=e=>t=>{var r=x.surroundThirdByTryCatch(t,"at onCheckForUpdate callback function");if(void 0===fDe[e])hDe[e]?hDe[e].push(r):hDe[e]=[r];else{var n=fDe[e].hasUpdate;r(n?{hasUpdate:n,pluginVersion:fDe[e].pluginVersion}:{hasUpdate:n})}},mDe={},yDe={};zOe.on(MOe.UpdateFailed,(({pluginAppid:e,customVersion:t})=>{yDe[e]={pluginVersion:t},bDe(e,t)}));var bDe=(e,t)=>{var r=mDe[e];r&&(delete mDe[e],r.forEach((e=>{e({pluginVersion:t})})))},_De=e=>t=>{var r=x.surroundThirdByTryCatch(t,"at onUpdateFailed callback function");void 0===yDe[e]?mDe[e]?mDe[e].push(r):mDe[e]=[r]:r({pluginVersion:yDe[e].pluginVersion})},wDe=e=>({onCheckForUpdate:vDe(e),onUpdateReady:JOe(e),onUpdateFailed:_De(e)}),SDe=e=>{var t=(null==e?void 0:e.pluginId)||"";if("string"!=typeof t)throw new TypeError("pluginId must be a string");return wDe(t)},CDe=0,kDe=function(e){Date.now()>CDe&&(Oe?console.error(e):RW({title:"",content:e,confirmText:"确定",showCancel:!1},50),CDe=Date.now()+6e4)},IDe={2:"插件版本过低，无法提供服务"},PDe=function(e,t,r){if(!Lh.pluginInfos)return null;var n=Lh.pluginInfos[e];if(!n)return null;var i=n.runningFlag,a=n.banning||{},o=IDe[i];return i||a[t]?{all:i,detail:a[t],hint:a.hint||o||r||"由于小程序违规，该服务暂时无法使用"}:null};Lh.emitter.on("pluginInfoFetchDone",(()=>{if(void 0!==vr&&vr.initBannedMap){var e={},t=Lh.pluginInfos;for(var r in t)e[r]=PDe(r,"components");vr.initBannedMap(e)}}));class ADe{constructor(e){this.innerParams=e,this.promise=Promise.resolve()}catch(e){return this.catchFn=e,this}then(e,t){if(this.promise)return this.promise=this.promise.then((()=>{if(!this.catchFn)return this;var r=e(this.innerParams,t);return r?r instanceof Promise?r.then((e=>{e&&Object.assign(this.innerParams,e)})).catch((e=>{this.catchFn&&this.catchFn(e),delete this.catchFn,delete this.innerParams,delete this.promise})):Object.assign(this.innerParams,r):void 0})).catch((e=>{this.catchFn&&this.catchFn(e),delete this.catchFn,delete this.innerParams,delete this.promise})),this}finally(e){this.promise&&this.promise.then((()=>{if(!this.catchFn)return this;e(this.innerParams),delete this.catchFn,delete this.innerParams,delete this.promise}))}}var xDe=[1,7,9,11,13,15,17,19,20,21,22,23,25,37,42,43,53,69,77,79,87,95,101,102,103,104,109,110,111,113,115,117,119,123,135,137,139,143,161,179,389,427,465,512,513,514,515,526,530,531,532,540,548,554,556,563,587,601,636,993,995,1719,1720,1723,2049,3659,4045,5060,5061,6e3,6566,10080,1099,1433,1521,2375,3128,3306,3389,5432,5984,6379,7001,7002,8443,8888,9200,9300,10051,11211,27017,27018,27019];function TDe(e){return!Number.isInteger(e)||(e<=1024||(e>=8e3&&e<=8100||xDe.indexOf(e)>-1))}function EDe(e){return e.remoteInfo&&(e={message:e.message,size:e.size,remoteInfo:{address:e.remoteInfo.address,family:e.remoteInfo.family,port:e.remoteInfo.port},localInfo:{address:e.remoteInfo.localaddress,family:e.remoteInfo.localfamily,port:e.remoteInfo.localport}}),e}function MDe(e){return e.remoteInfo&&(e={remoteInfo:{address:e.remoteInfo.address,family:e.remoteInfo.family,port:e.remoteInfo.port},localInfo:{address:e.remoteInfo.localaddress,family:e.remoteInfo.localfamily,port:e.remoteInfo.localport}}),e}function RDe(e){var{address:t,port:r}=e;if(TDe(Number(r)))throw{errMsg:`connect fail: invalid port '${r}' `,errCode:-4,errno:Hn};return new Promise(((e,n)=>{jP({api:"tcp",url:`tcp://${t}`}).then((i=>{i.isInLAN&&!i.isLocalHost||i.isInDomainList?e():n({errMsg:`connect fail: invalid address ${t}:${r}`,errCode:-4,errno:-4})})).catch((e=>{n({errMsg:`connect fail: ${e.message||e.errMsg}`,errCode:-4})}))}))}var ODe=e=>{var{enableHttpDNS:t,httpDNSServiceId:r}=e.args,{address:n}=e;if(t&&"string"==typeof r){if(!/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(n)){var i=S_({args:{enableHttpDNS:t,httpDNSServiceId:r},host:n});return i&&i.then?i.then((e=>e.rawHttpDnsError?{exception:{reasons:e.rawHttpDnsError},useHttpDNS:!1}:{address:e.ip,useHttpDNS:!0})).catch((e=>(y.error("TCP.connect httpdns fail",e),{exception:{reasons:[{errMsg:e.errMsg||e.message,errno:e.errno}]},useHttpDNS:!1}))):i&&i.ip?{address:i.ip,useHttpDNS:!0}:{address:n,useHttpDNS:!1}}}else if(t)return{exception:{reasons:[{errMsg:"getDNSInfo:fail not valid service id",errno:ba}]},useHttpDNS:!1}},DDe=(e,t)=>new Promise(((r,n)=>{var{address:i,port:a}=e;t({url:`tcp://${i}`},(e=>{e?n({errMsg:`connect fail: ${e=e||`invalid address ${i}:${a}`}`,errCode:-4}):TDe(Number(a))?n({errMsg:`connect fail: invalid port '${a}' `,errCode:-4}):r()}))})),LDe=new WeakMap,NDe=new WeakMap,BDe=new Map,$De=1,jDe=[];class FDe{constructor(e,t){LDe.set(this,e),NDe.set(this,t||{}),["close","connect","error","message"].forEach((t=>{var r=ir(`jsapi-tcp-${e}-${t}`);this[`on${Pg(t)}`]=r.onMethod,this[`off${Pg(t)}`]=r.offMethod}))}connect(e){var t,r=ir(`jsapi-tcp-${LDe.get(this)}-error`),n=e=>{if(e.address,md("connectTCPSocket",{id:LDe.get(this),address:e.address,port:e.port,fail(e){e.errMsg,t=e.errMsg}}),t)throw new qd(t)},i=new ADe({args:e,address:`${e.address}`,port:+e.port,timeout:e.timeout});i.catch((e=>{r.emit({errMsg:e.message||e.errMsg,errCode:e.errCode,errno:e.errno})})),vt(NDe.get(this).customCheck)?i.then(DDe,NDe.get(this).customCheck):i.then(RDe).then(ODe).then((e=>{var{useHttpDNS:t,exception:r}=e,n={useHttpDNS:!!t};r&&(n.exception=r),BDe.set(LDe.get(this),n)})),i.finally((e=>{n(e)}))}write(e){ArrayBuffer.isView(e)&&(e=e.buffer);var t,r={message:e};if(md("writeTCPSocket",{id:LDe.get(this),message:r.message,fail(e){e.errMsg,t=e.errMsg}}),t)throw new qd(t)}close(){var e;if(md("closeTCP",{id:LDe.get(this),fail(t){e=t.errMsg}}),e)throw new qd(e)}}class WDe extends FDe{constructor(e,t){var r=jDe[jDe.length-20];if(r&&Date.now()-r<3e5)throw new qd("[TCPSocket] created too much.");jDe.push(Date.now()),jDe.length>20&&jDe.shift();var n,i=$De++;if(md("createTCPSocket",{id:i,type:"ipv6"===t?"IPv6":"IPv4",fail(e){e.errMsg,n=e.errMsg}}),n)throw new qd(n);super(i,e)}}class UDe{constructor(e){var t,r=$De++;if(LDe.set(this,r),md("createTCPServer",{id:r,type:"ipv6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new qd(t);["close","connection","error","listening"].forEach((e=>{var t=ir(`jsapi-tcp-${r}-${e}`);this[`on${Pg(e)}`]=t.onMethod,this[`off${Pg(e)}`]=t.offMethod}))}listen(e){var t,r,n=+e.port;if(md("listenTCPServer",{id:LDe.get(this),port:e.port,fail(e){t=n,r=e.errMsg}}),r)throw new qd(r);return t}close(){var e;if(md("closeTCP",{id:LDe.get(this),fail(t){e=t.errMsg}}),e)throw new qd(e)}}re.onReady((()=>{["close","connect","connection","error","listening","message"].forEach((e=>{qt(`onTCP${Pg(e)}`,(t=>{var{id:r}=t;delete t.id,Pg(e);var n=ir(`jsapi-tcp-${r}-${e}`);"connection"===e?n.emit(new FDe(t.socketId)):("connect"===e&&(Object.assign(t,BDe.get(r)),BDe.delete(r)),n.emit(t))}))}))}));var VDe=(e,t)=>BE(e,`TCP.${t}`),qDe=e=>{AEe({success(){MEe({success(t){e(t)}})}})},zDe=new WeakMap,GDe=new WeakMap,HDe=new WeakMap,KDe=new WeakMap,JDe=new WeakMap,XDe=new WeakMap,YDe=new Map,QDe=1,ZDe=[];class eLe{constructor(e,t,r,n){var i=QDe++;if(["close","error","connect","message","bindWifi"].forEach((r=>{var n=ir(`jsbinding-tcp-${i}-${r}`);this[`on${Pg(r)}`]=n.onMethod,this[`off${Pg(r)}`]=n.offMethod,t||(e[`on${r}`]=VDe(((...e)=>{"message"===r&&(e[0]=EDe(e[0])),"connect"===r&&(e[0]=MDe(e[0])),"connect"===r&&("number"==typeof e[0]&&(e[0]={id:e[0]}),Object.assign(e[0],YDe.get(i)),YDe.delete(i)),n.emit(...e)}),`on${r}`))})),zDe.set(this,e),HDe.set(this,t),GDe.set(this,i),JDe.set(this,r||{}),XDe.set(this,"ipv6"===n?"IPv6":"IPv4"),ke&&"function"==typeof e.create){var a=e.create({type:XDe.get(this)});KDe.set(this,a)}}bindWifi(e){var t=ir(`jsbinding-tcp-${GDe.get(this)}-error`);ke?qDe((r=>{if(r.wifi&&r.wifi.BSSID===e.BSSID&&!r.wifi.SSID.includes("unknown ssid")&&zDe.has(this)){var n=zDe.get(this),i=KDe.get(this);if(i<0)return;md("bindSocketToNetwork",{networkType:"wifi",socketFd:i,success(){n.onbindWifi({})},fail(e){t.emit({...e,errCode:4})}},{})}else t.emit({errMsg:"bindWifi fail: Invalid BSSID",errCode:3})})):t.emit({errMsg:"bindWifi fail: unsupport method on this platform",errCode:5})}connect(e){var t=ir(`jsbinding-tcp-${GDe.get(this)}-error`);if(Cf("TCP")){var r=e=>{e.address,zDe.get(this).connect({address:e.address,port:e.port,type:XDe.get(this),timeout:e.timeout})},n=new ADe({args:e,address:`${e.address}`,port:+e.port,timeout:e.timeout});n.catch((e=>{t.emit({errMsg:e.message||e.errMsg,errCode:e.errCode,errno:e.errno})})),vt(JDe.get(this).customCheck)?n.then(DDe,JDe.get(this).customCheck):n.then(RDe).then(ODe).then((e=>{var{useHttpDNS:t,exception:r}=e,n={useHttpDNS:!!t};r&&(n.exception=r),YDe.set(GDe.get(this),n)})),n.finally((e=>{r(e)}))}else t.emit({errMsg:"connect fail: no permission",errCode:-3})}write(e){if(Cf("TCP")){ArrayBuffer.isView(e)&&(e=e.buffer);var t={message:e};HDe.get(this)&&(t.socketfd=HDe.get(this)),zDe.get(this).send(t)}else{ir(`jsbinding-tcp-${GDe.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}close(){HDe.get(this)?zDe.get(this).close(HDe.get(this)):zDe.get(this).close()}}class tLe extends eLe{constructor(e,t){var r=xf.TCP;if(!r)return null;var n=ZDe[ZDe.length-20];if(n&&Date.now()-n<3e5)throw new qd("[TCPSocket] created too much.");ZDe.push(Date.now()),ZDe.length>20&&ZDe.shift();var i=new r;if(null===i)return null;super(i,0,e,t)}}class rLe{constructor(e){var t=xf.TCP;if(!t)return null;var r=new t;if(null===r)return null;var n=0,i=QDe++,a={};["close","connection","error","listening","message"].forEach((t=>{var o=ir(`jsbinding-tcp-${i}-${t}`);"connection"===t?r.onaccept=VDe((t=>{var i=new eLe(r,t,{},"ipv6"===e?"IPv6":"IPv4");n=t,a[t]=i,o.emit(i),r.recv(t)}),"onaccept"):r[`on${t}`]=VDe(((...e)=>{if("close"===t||"error"===t||"message"===t){var i=e[0];if("error"!==t&&"message"!==t||(i=e[0].sockfd,delete e[0].sockfd,i||(i=n)),"message"===t&&(e[0]=EDe(e[0])),a[i])return ir(`jsbinding-tcp-${GDe.get(a[i])}-${t}`).emit(pt(e[0])?e[0]:void 0),void("close"===t&&delete a[i])}o.emit(pt(e[0])?e[0]:void 0),"listening"===t&&r.accept()}),`on${t}`),this[`on${Pg(t)}`]=o.onMethod,this[`off${Pg(t)}`]=o.offMethod})),zDe.set(this,r)}listen(e){var t=zDe.get(this);return t.onbind=VDe((()=>{t.listen(10)}),"onbind"),t.bind(e)}close(){zDe.get(this).close()}}var nLe=new WeakMap,iLe=new WeakMap,aLe=new Map,oLe=1,sLe=[],lLe=new WeakMap,cLe={};class uLe{constructor(e,t,r){nLe.set(this,e),lLe.set(this,t),iLe.set(this,r||{}),["close","connect","error","message","bindWifi"].forEach((t=>{var r=ir(`jsapi-tcp-${e}-${t}`);this[`on${Pg(t)}`]=r.onMethod,this[`off${Pg(t)}`]=r.offMethod}))}bindWifi(){ir(`jsapi-tcp-${nLe.get(this)}-error`).emit({errMsg:"bindWifi fail: unsupport method on this platform",errCode:5})}connect(e){var t,r=ir(`jsapi-tcp-${nLe.get(this)}-error`),n=e=>{if(e.address,md("connectTCPSocket",{id:nLe.get(this),address:e.address,port:e.port,fail(e){e.errMsg,t=e.errMsg}}),t)throw new qd(t)},i=new ADe({args:e,address:`${e.address}`,port:+e.port,timeout:e.timeout});i.catch((e=>{r.emit({errMsg:e.message||e.errMsg,errCode:e.errCode,errno:e.errno})})),vt(iLe.get(this).customCheck)?i.then(DDe,iLe.get(this).customCheck):i.then(RDe).then(ODe).then((e=>{var{useHttpDNS:t,exception:r}=e,n={useHttpDNS:!!t};r&&(n.exception=r),aLe.set(nLe.get(this),n)})),i.finally((e=>{n(e)}))}write(e){var t;ArrayBuffer.isView(e)&&(e=e.buffer);var r={id:nLe.get(this),message:e};if(lLe.get(this)&&(r.socketfd=lLe.get(this)),md("sendTCPSocketMessage",{...r,fail(e){e.errMsg,t=e.errMsg}}),t)throw new qd(t)}close(){var e,t={id:nLe.get(this)};if(lLe.get(this)&&(t.socketfd=lLe.get(this)),md("closeTCPSocket",{...t,fail(t){e=t.errMsg,t.errMsg}}),e)throw new qd(e)}}class dLe extends uLe{constructor(e,t){var r=sLe[sLe.length-20];if(r&&Date.now()-r<3e5)throw new qd("[TCPSocket] created too much.");sLe.push(Date.now()),sLe.length>20&&sLe.shift();var n,i=oLe++;if(md("createTCPSocket",{id:i,type:"ipv6"===t?"IPv6":"IPv4",fail(e){e.errMsg,n=e.errMsg}}),n)throw new qd(n);super(i,0,e)}}class pLe extends uLe{constructor(e,t){var r,n=oLe++;if(super(n,0,e),md("createTCPSocket",{id:n,type:"ipv6"===t?"IPv6":"IPv4",fail(e){e.errMsg,r=e.errMsg}}),r)throw new qd(r);["close","accept","error","listening"].forEach((e=>{var t=ir(`jsapi-tcp-${n}-${e}`);this[`on${Pg(e)}`]=t.onMethod,this[`off${Pg(e)}`]=t.offMethod}))}listen(e){ir(`jsapi-tcp-${nLe.get(this)}-error`).onBind((()=>{md("listenTCPSocket",{id:nLe.get(this),backlog:10,fail(e){e.errMsg}})}));var t=+e.port;return md("bindTCPSocket",{id:nLe.get(this),port:t,success(e){t=e.port},fail(e){e.errMsg}}),t}}re.onReady((()=>{["bind","accept","close","connect","listening","error","message"].forEach((e=>{qt(`onTCPSocket${Pg(e)}`,(t=>{var{id:r,sockfd:n}=t;delete t.id,delete t.sockfd,Pg(e);var i=ir(`jsapi-tcp-${r}-${e}`);if("accept"===e){var a=oLe++,o=new uLe(a,n);return cLe[n]=o,i.emit(o),void md("recvTCPSocket",{id:a,sockfd:n,fail(e){e.errMsg}})}if(("close"===e||"error"===e||"message"===e)&&(n&&cLe[n]))return ir(`jsapi-tcp-${nLe.get(cLe[n])}-${e}`).emit(t),void("close"===e&&delete cLe[n]);"message"===e&&(t=EDe(t)),"connect"===e&&(t=MDe(t)),"connect"===e&&(Object.assign(t,aLe.get(r)),aLe.delete(r)),i.emit(t),"listening"===e&&md("acceptTCPSocket",{id:r,fail(e){e.errMsg}})}))}))}));var hLe=({type:e="ipv4"}={})=>Ce?new WDe({},e.toLowerCase()):Be?new dLe({},e.toLowerCase()):new tLe({},e.toLowerCase()),fLe=({type:e="ipv4"}={})=>Ce?new UDe(e.toLowerCase()):Be?new pLe({},e.toLowerCase()):new rLe(e.toLowerCase()),gLe={request:mE,uploadFile:YI,downloadFile:SI,connectSocket:aA().connectSocket,createTCPSocket:Ce?WDe:tLe},vLe={_requestSkipCheckDomain:mE,_uploadFileSkipCheckDomain:YI,_downloadFileSkipCheckDomain:SI,_socketSkipCheckDomainFactory:aA},mLe=(e,t)=>{if(y.info(`[Plugin] checkDomains url: ${e}, domains: ${JSON.stringify(t)}`),void 0===t||void 0===e)return!1;for(var r=(0,qb.Qc)(e||""),n=0;n<t.length;n++){var i=t[n]||"",a=(0,qb.Qc)(i);if(a.protocol===r.protocol&&a.hostname===r.hostname&&a.port===r.port)return!0}return!1},yLe=e=>(...t)=>{y[e](["[Plugin]",...t.map((e=>"string"==typeof e?e:JSON.stringify(e)))].join(" "))},bLe=yLe("info"),_Le=yLe("warn"),{emitter:wLe,pluginInfos:SLe}=Lh,CLe=1,kLe=2,ILe=3,PLe={[CLe]:!1,[ILe]:!1,[kLe]:!1},ALe=0,xLe=0,TLe=[10,10,10],ELe=!1,MLe=e=>{PLe[e]=!0;var t=Object.keys(PLe).reduce(((e,t)=>e&&PLe[t]),!0);t&&(ELe||(bLe("all steps done, emit pluginInfoFetchDone"),wLe.emit("pluginInfoFetchDone"),ELe=!0),wLe.emit("pluginInfoFetchDoneInterval"))},RLe=(e,t)=>{setTimeout((()=>{var r=[e,t,br.getCurrentRoute(),cN().sessionid||cN().sessionId||"",1,""].map(encodeURIComponent).join(",");T.reportKeyValue({key:"PluginDisplay",value:r})}),0)},OLe=()=>{if(bLe("start to invokeGetPluginList"),re.appContactInfo&&re.appContactInfo.call_plugin_info)for(var e=re.appContactInfo.call_plugin_info,t=function(){var t,n=e[r],i=n.plugin_id;SLe[i]=Kre({version:n.inner_version,customVersion:n.plugin_version||"",specifiedVersion:(null===(t=Object.values(re.plugins||{}).find((e=>e.provider===i)))||void 0===t?void 0:t.version)||"unknown"}),RLe(i,n.inner_version)},r=0;r<e.length;r++)t();else if(re.plugins)for(var n in re.plugins){var i=re.plugins[n],a=i.provider;SLe[a]=Kre({version:0,customVersion:i.version||""}),RLe(a,0)}MLe(CLe),bLe("invokeGetPluginList -> ",SLe)},DLe=e=>new Promise(((t,r)=>{md("batchGetContact",{appIds:e,success({contactList:r}){bLe(`batchGetContact with appIds ${e} success: ->`,r),Vre(r),t(r)},fail(t){r({res:t,appIds:e})}})})),LLe=[];function NLe(e){var t=!1,r=0;for(var n in SLe){if(SLe[n].latestCustomVersion>=0&&e[n]>SLe[n].latestCustomVersion){bLe("customVersion in code ("+e[n]+") is larger than customVersion in contact info ("+SLe[n].latestCustomVersion+"). Retry needed."),t=!0;break}for(var i in SLe[n].domains)SLe[n].domains[i]&&(r+=SLe[n].domains[i].length)}return t||r||(bLe("no domains set. Retry needed."),t=!0),t}function BLe({appIds:e,appIdCustomVersionMap:t,retryCount:r}){Promise.all(LLe).then((n=>{LLe=[];var i=n.flat();if(r>0&&(NLe(t)||e.length!==i.length))return void setTimeout((()=>{FLe(r-1)}),1e3);qre(),MLe(kLe)})).catch((({appIds:e,res:t})=>{LLe=[],_Le(`batchGetContact with appIds ${e} failed: ${t.errMsg}`),ALe<1?(bLe("retry to batchGetContact.."),setTimeout((()=>{FLe(0)}),0),ALe++):MLe(kLe)}))}var $Le=({appIds:e,appIdCustomVersionMap:t,retryCount:r})=>{var n=[...e],i=e.splice(0,10);if(i.length){var a=0===e.length,o=DLe(i);if(LLe.push(o),a)BLe({appIds:n,appIdCustomVersionMap:t,retryCount:r});else var s=setInterval((()=>{var i=e.splice(0,10);a=0===e.length;var o=DLe(i);LLe.push(o),a&&(s&&clearInterval(s),BLe({appIds:n,appIdCustomVersionMap:t,retryCount:r}))}),1e3)}},jLe=({appIds:e,appIdCustomVersionMap:t,retryCount:r})=>{DLe(e).then((()=>{if(r>0&&NLe(t))return void setTimeout((()=>{FLe(r-1)}),1e3);qre(),MLe(kLe)})).catch((t=>{_Le(`batchGetContact with appIds ${e} failed: ${t.errMsg}`),ALe<1?(bLe("retry to batchGetContact.."),setTimeout((()=>{FLe(0)}),0),ALe++):MLe(kLe)}))},FLe=e=>{bLe("start to invokeGetContact");var t=[],r={};for(var n in SLe)t.push(n),r[n]=SLe[n].customVersion;0!==t.length?(Ie?$Le({appIds:t,appIdCustomVersionMap:r,retryCount:e}):jLe({appIds:t,appIdCustomVersionMap:r,retryCount:e}),setTimeout((()=>{MLe(kLe)}),12e4)):bLe("appids are empty, skip invokeGetContact.")},WLe=!1,ULe=({plugins:e,success:t,fail:r,timeout:n})=>{WLe=!0;var i=!1,a=setTimeout((()=>{i=!0,WLe=!1,r({errMsg:"verifyPlugin:fail timeout"})}),1e3*n);md("verifyPlugin",{data:{plugins:e},success(...e){i||(WLe=!1,clearTimeout(a),t(...e))},fail(...e){i||(WLe=!1,clearTimeout(a),r(...e))}})},VLe=null,qLe=e=>{WLe||(null!==VLe&&(clearTimeout(VLe),VLe=null),null===e?zLe():VLe=setTimeout(zLe,e))},zLe=()=>{bLe("start to invokeVerifyPlugin",Date.now());var e=[];for(var t in SLe){var r=SLe[t];e.push({provider:t,inner_version:r.version})}if(0!==e.length){var n=Object.fromEntries(Object.entries(SLe).map((([e,t])=>[e,t.separated])));ULe({plugins:e,timeout:10,success({data:e}){if(void 0!==e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}var t=Array.isArray(e.list)?e.list:[];Gre(t,n),bLe("verifyPlugin result -> ",e.list),MLe(ILe),xLe=0,qLe(6e5)}else _Le("Plugin data from backend is not available.")},fail(e){var t;_Le("invokeVerifyPlugin failed: "+e.errMsg,Date.now()),xLe<TLe.length?t=TLe[xLe]:(PLe[ILe]||MLe(ILe),t=30),bLe(`retry invokeVerifyPlugin after ${t}s..`),qLe(1e3*t),xLe++}})}else bLe("plugins is empty, skip invokeVerifyPlugin.")},GLe=()=>{re.onReady((()=>{OLe(),FLe(5),qLe(null)}))},HLe=e=>{Array.isArray(null==e?void 0:e.separatedPlugins)&&0!==e.separatedPlugins.length&&(e.separatedPlugins.forEach((e=>{var t=SLe[e.plugin_id];if(t&&e.custom_version){var r=Wre(e.custom_version);r<0||(t.customVersion=r,t.version=e.inner_version,t.separated=!0)}})),qLe(500))};N8((e=>{HLe(e)})),yke(((e,t)=>{HLe(t)}));var KLe=function(e,t){var r=PDe(e,"domains");if(!r)return!1;if(!r.all){for(var n=r.detail,i=(0,qb.Qc)(t||""),a=!1,o=0;o<n.length;o++){var s=(0,qb.Qc)(n[o]||"");if(i.protocol===s.protocol&&i.hostname===s.hostname&&i.port===s.port){a=!0;break}}if(!a)return!1}return kDe(r.hint),!0},JLe=(e,t)=>{var r=t.header||{},n=e.hostSign||{};r["X-WECHAT-HOSTSIGN"]=JSON.stringify(n),y.info("[Plugin] add host sign: "+JSON.stringify(n)),t.header=r},XLe=(e,t,r)=>{var n=[e,t,br.getCurrentRoute(),cN().sessionid||cN().sessionId||"",2,r].map(encodeURIComponent).join(",");T.reportKeyValue({key:"PluginDisplay",value:n})},YLe=!1;re.onReady((()=>{if(Ce)YLe=!1===re.urlCheck;else{var e=re.envVersion&&"release"!==re.envVersion,t=!0===re.debug;YLe=e&&t}}));var QLe=function(e,t,r){return new Promise(((n,i)=>{md("checkNetworkAPIURL",{api:e,url:t,success(e){var a;(y.info(`[Plugin] checkNetworkAPIURL success: ${JSON.stringify(e)}`),Oe)?a=e.isInDomainList||e.isInLAN&&!e.isLocalHost:a=mLe(t,r)||e.isInLAN&&!e.isLocalHost;var o="";a||(o=`Url "${t}" not in plugin's domain list.`,YLe&&console.warn(o+" This network request will be blocked in release version.")),y.info(`[Plugin] checkDomain res: ${o}`),YLe||a?n():i(o)},fail(e){i(e.errMsg||"check url failed.")}})}))},ZLe=0,eNe=[];Lh.emitter.on("pluginInfoFetchDoneInterval",(()=>{for(ZLe=Date.now();eNe.length>0;){eNe.shift()()}}));var tNe=function(){return Oe?Promise.resolve():Date.now()-ZLe>6e5?(qLe(null),new Promise((e=>{eNe.push(e)}))):Promise.resolve()},rNe=Object.assign,nNe={};Object.keys(gLe).forEach((e=>{nNe[e]=function(t={}){var r=Wh(this),n=rNe({},t);return n.customCheck=(t,n)=>{var i;tNe().then((()=>{var n=(i=Lh.pluginInfos[r]).domains[e],a=e;return"connectSocket"===e&&(a="websocket"),"createTCPSocket"===e?QLe("tcp",t.url,i.domains.tcp):QLe(a,t.url,n)})).then((()=>{if(KLe(r,t.url)){var a=`url "${t.url}" is temporarily rejected.`;n(a)}else XLe(r,i.version,t.url),"createTCPSocket"!==e&&JLe(i,t),n(null)})).catch((e=>{var t=rt(e)?e:"check url failed.";n(t)}))},"createTCPSocket"===e?new gLe[e](n):gLe[e](n)}}));const iNe=nNe;var aNe=e=>(t={})=>{if(Ie){sd({errMsg:"preloadWebview:ok preload request ignored in iOS"},"preloadWebview",t,{})}else WC("preloadWebview",{pluginId:e},void 0,(e=>{sd(e,"preloadWebview",t,{})}))},oNe=aNe("/"),sNe=!1,lNe=e=>{if(sNe||!e||"object"!=typeof e||null==e||!e.custom)return!1;var t=!1;return"cover-view"===(null==e?void 0:e.renderer)&&(t=!0),!t&&Array.isArray(null==e?void 0:e.list)&&e.list.forEach((e=>{t="cover-view"===(null==e?void 0:e.renderer)})),y.info("[CustomTabBar] needCreateSclContext ",!!t),t},cNe=function(){var e=xd()((function*(){if(sNe)return Promise.resolve();sNe=!0,$.createAppSclContext(),yield $.waitAppSclContextInit()}));return function(){return e.apply(this,arguments)}}(),uNe=e=>{var t=bd(e);return(e={})=>{re.onReady((r=>{var n,i=null===(n=r.renderer)||void 0===n?void 0:n.allUsed;Array.isArray(i)&&i.includes("skyline")?t("preloadSkylineView",e,{}):zc("preloadSkylineView",e,"")}))}},dNe=uNe("/"),pNe=function(e){return e[e.AUTO=0]="AUTO",e[e.WEBVIEW=1]="WEBVIEW",e[e.SKYLINE=2]="SKYLINE",e}(pNe||{});function hNe(e){return e.isSupportSkyline?e.isLibSupportSkyline?e.switchRenderMode!==pNe.AUTO||e.enableSkyline?e.switchRenderMode===pNe.WEBVIEW?{isSupported:!1,reason:"SwitchRender option set to `webview`"}:{isSupported:!0}:{isSupported:!1,reason:"a-b test not enabled"}:{isSupported:!1,reason:"baselib not supported"}:{isSupported:!1,reason:"client not supported"}}function fNe(e){var{errMsg:t}=e,{isSupported:r,reason:n}=hNe(e),i=e.userAgent.split(" ")[0];return i.startsWith("skyline/")&&(i=i.slice(8)),{errMsg:t,isSupported:r,reason:n,version:i}}var gNe=e=>(t={})=>{var r=bd(e),n=t.success,i=t.fail,a=t.complete,o=Object.assign({},t);o.success=e=>{var t=fNe(e);"function"==typeof n&&n(t)},o.fail=e=>{"function"==typeof i&&i({errMsg:e.errMsg})},o.complete=e=>{var t=fNe(e);"function"==typeof a&&a(t)},r("getSkylineInfo",o,{})},vNe=gNe("/"),mNe=e=>()=>{var t={};bd(e)("getSkylineInfoSync",{success(e){t=e}});var r=fNe(t);return delete r.errMsg,r},yNe=mNe("/");function bNe(e,t){var r={};return t.forEach((t=>r[t]=e[t])),r}function _Ne(){return{...bNe(L,["addRouteBuilder","removeRouteBuilder"]),getRouteContext(e){var t=parseInt(e.getPageId().slice(7),10);return L.getRouteContext(t)}}}function wNe(){return bNe(L,["runOnJS","runOnUI","cancelAnimation","shared","derived","delay","repeat","sequence","timing","spring","decay","Easing","snapshotContext","scrollViewContext","getBoundingClientRect"])}L.setExternalMethods({setNavigationBarColor:QF,getMenuButtonBoundingClientRect:CV});var SNe=0,CNe={};function kNe(e){var t;if("object"==typeof SkylineGlobal&&null!==(t=SkylineGlobal)&&void 0!==t&&t.runtime)return SkylineGlobal.runtime.registerJsValue(e);var r=SNe++;return CNe[r]=e,r}function INe(e){var t;"object"==typeof SkylineGlobal&&null!==(t=SkylineGlobal)&&void 0!==t&&t.runtime?SkylineGlobal.runtime.unRegisterJsValue(e):delete CNe[e]}var PNe=function(){var e=xd()((function*(){ANe||(ANe=!0,$.createAppRenderContext(),yield $.waitAppRenderContextInit(),xNe=!0,y.info("[SubContextEngine] requireRenderContext finished, render context inject done"),ENe.forEach((e=>{try{$.publishToRenderContext(e.event,e.msg||{})}catch(t){y.error("[SkylineEvents] publish "+e.event+" error"),y.error("[SkylineEvents] "+t.message),t.stack.split("\n").forEach((e=>{y.error("[SkylineEvents] "+e)}))}})),lNe(null==re?void 0:re.tabBar)&&(yield cNe()))}));return function(){return e.apply(this,arguments)}}(),ANe=!1,xNe=!1,TNe=[],ENe=[];function MNe(){for(var e of TNe)e();TNe=[]}function RNe(e){"undefined"!=typeof SkylineGlobal?e():TNe.push(e)}qt("requireRenderContext",PNe),g.onLoad((()=>{Ie&&re.envPreloadType===Z.BeforeLaunch&&yr((()=>{setTimeout((()=>{y.info("[RenderContext] requireRenderContext on preload"),PNe()}),200)}))})),qt("onSkylineGlobalReady",(e=>{y.info(`[WABaseLib.Critical] main context receive onSkylineGlobalReady: ${JSON.stringify(e)}, renderContextRequired=${ANe} ${Date.now()}`),e.SkylineGlobal=SkylineGlobal,xNe?$.publishToRenderContext("onSkylineGlobalReady",e||{}):ENe.push({event:"onSkylineGlobalReady",msg:e||{}}),MNe()})),qt("onSkylineWindowReady",(e=>{y.info(`[WABaseLib.Critical] main context receive onSkylineWindowReady: ${JSON.stringify(e)}, renderContextRequired=${ANe} ${Date.now()}`),xNe?$.publishToRenderContext("onSkylineWindowReady",e||{}):ENe.push({event:"onSkylineWindowReady",msg:e||{}})}));var ONe=function(e={}){var t=Wh(this);e.pluginId=t,ose(e)};function DNe(e){var t=Wh(this);TE(Object.assign({},e,{pluginId:t}))}var LNe={},NNe=e=>{if(!LNe[e]){var t=lv(e);delete t.saveFile,delete t.saveFileSync,delete t.getSavedFileList,delete t.getSavedFileInfo,delete t.removeSavedFile,delete t.getFileInfo;try{Uf(Kg(e),!0)}catch(e){}LNe[e]=t}return LNe[e]},BNe=["scope.record","scope.writePhotosAlbum","scope.camera","scope.addPhoneContact","scope.bluetooth","scope.voip"],$Ne=e=>{var t=d9(e);return function(e={}){Oe?zc("authorizeForMiniProgram",{},"authorizeForMiniProgram:fail SDK暂不支持此API"):Vc("authorizeForMiniProgram",e,{scope:""})&&(BNe.includes(e.scope)?t(Kh(e,"authorize","authorizeForMiniProgram")):zc("authorizeForMiniProgram",e,`scope "${e.scope}" is not supported to be authorized by plugin.`))}},jNe=new WeakMap,FNe=function(e,t){var r=PDe(e,"apis");return!!r&&(!(!r.all&&r.detail.indexOf(t)<0)&&(kDe(r.hint),!0))},WNe=(e,t,r)=>{var n=function(n){Object.defineProperty(e,n,{get:VNe((()=>{var i=t[n];return"function"!=typeof i?i:function(t){if(fR(n,r,t)&&!FNe(r,n)){if(!pSe(n,r,t))return i.apply(e,arguments);zc(n,t,"banned in plugin")}else{if("Sync"===n.slice(-4))throw new Vd(n+":fail rejected due to no permission currently in plugin");t&&(t.fail||t.complete)&&setTimeout((()=>{zc(n,t,"rejected due to no permission currently in plugin")}),0)}}})),set(t){Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!0,configurable:!0})},enumerable:!0,configurable:!0})};for(var i of Object.keys(t))n(i)},UNe=(e,t)=>{for(var r of Object.keys(re.plugins)){var n=re.plugins[r];n.provider===t&&jNe.set(e,n.version)}};function VNe(e){var t;return()=>t=t||e()}var qNe=(e,t,r,n)=>{var i={...vLe,invokeOperateWXData:DNe,uploadToCommonCDN:lA};for(var a of Object.keys(i))i[a]=i[a].bind(e);var o={sdk:i,identifiers:{pluginId:r,pluginVersion:n}},s={...t,getFileSystemManager:()=>NNe(r),preloadWebview:aNe(r),preloadSkylineView:uNe(r),getSkylineInfoFactory:gNe(r),getSkylineInfoSyncFactory:mNe(r),authorizeForMiniProgram:$Ne(r),onScreenRecordingStateChanged:Z$(r),offScreenRecordingStateChanged:ej(r)};return Object.defineProperties(s,{cloud:{get:VNe((()=>__cloudSDKMain__.getCloudAPI(o))),enumerable:!0,configurable:!0},serviceMarket:{get:VNe((()=>__cloudSDKMain__.getServiceMarketAPI(o))),enumerable:!0,configurable:!0}}),s};class zNe{constructor(e,t,r){var n=_p();Lh.puidToPluginWX[n]=this,Lh.pluginIDs[n]=t,Lh.pluginVersions[n]=r;var i=qNe(this,e,t,r);WNe(this,i,t),UNe(this,t),this.env={USER_DATA_PATH:Kg(t)}}getPluginVersion(){return jNe.get(this)}}const GNe=zNe;var HNe={},KNe=(e,t)=>{var r=(e=e.replace("plugin_","")).endsWith("Sync");HNe[e]=function(e,...n){var i=Wh(this);return r?(e&&(e=`${i}/${e}`),t(e,...n)):(e.key&&(e.key=`${i}/${e.key}`),t(e))}};for(var JNe in LAe)JNe.startsWith("plugin_")&&KNe(JNe,LAe[JNe]);const XNe=HNe;var YNe={createInnerAudioContext:Kde};["createAudioContext","createCameraContext","createMapContext","createVideoContext","createLivePlayerContext","createLivePusherContext"].forEach((e=>{YNe[e]=function(t,r){var n=Wh(this),i=qh(this),a=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return D[e].call(this,t,uu.currentWebviewId,a,`${n}/${i}`)}}));const QNe=YNe;var ZNe={createOffscreenCanvas(e=1,t=1,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},i=Wh(this);return n.pluginId=i,H4(n)}},eBe=[];for(var tBe in R)tBe.endsWith("4Plugin")&&eBe.push(tBe);eBe.forEach((e=>{var t=e.replace("4Plugin","");ZNe[t]=function(t,r){var n=Wh(this),i=qh(this),a=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return R[e].call(this,t,`${n}/${i}`,a)}}));const rBe=ZNe;var nBe=function(){var e=lq(),t=Wh(this);return e.plugin={appId:t||"",version:Jh(Lh.pluginInfos[t].customVersion)},e},iBe=function(e){return FCe(e,Wh(this))},aBe=function(e,t){return GCe(e,t,Wh(this))},oBe=function(e,t){return XCe(e,t,Wh(this))},sBe=function(e){return Lee(e)};function lBe(e,t={},r){Hc({name:e,args:t,errMsg:r,success:!1})}var cBe=["wx013447465d3aa024"];function uBe(e={}){if(Vc("reportPrivatePlugin",e,{key:"",data:[]})){var{key:t,data:r}=e,n=Wh(this);if(cBe.includes(n)){var i=r.map(encodeURIComponent).join(",");T.reportKeyValue({key:t,value:i}),sd({},"reportPrivatePlugin",e,{})}else lBe("reportPrivatePlugin",e,"invalid private plugin appId")}}var dBe=function(){},pBe={},hBe={},fBe=0;RC((({webviewId:e})=>{fBe=e,hBe[e]||(hBe[e]=!0,XM(e,(e=>{delete hBe[e],delete pBe[e]}),"AD"))}));var gBe=e=>e&&!0===e.multiton?new ADSDK.RewardedVideoAd(e):(pBe[fBe]||(pBe[fBe]=new ADSDK.RewardedVideoAd(e)),pBe[fBe]),vBe=e=>{var t={...e};return delete t.pluginId,gBe(t)},mBe=e=>{var t={...e};return delete t.pluginId,delete t.aiadPlatformId,new ADSDK.InterstitialAd(t)},yBe=e=>new ADSDK.InterstitialAd(e),bBe=()=>{_Be()},_Be=()=>(console.warn("deprecated: wx.createCustomAd is not support"),{}),wBe=e=>new ADSDK.SkitAd(e);function SBe(e){var t=Wh(this);return gBe({...e,pluginId:t})}function CBe(e){var t=Wh(this);return yBe({...e,pluginId:t})}function kBe(e){var t=Wh(this);return wBe({...e,pluginId:t})}function IBe(e){var t=Wh(this);return Mwe(e,{pluginId:t})}var PBe={};function ABe(e,t){var r="";if(e===fk&&(r="setCookies"),e===gk&&(r="getCookies"),r){var n=Wh(this);PBe[n]=PBe[n]||{[fk]:null,[gk]:null},_e(n,r,1,(r=>{PBe[n][e]=r,t()}))}}function xBe(e,t){var r=Wh(this);Ce?t(!0):PBe[r]&&null!==PBe[r][e]?t(!!PBe[r][e]):ABe.call(this,e,(()=>t(!!PBe[r][e])))}function TBe(e){xBe.call(this,fk,(t=>{var r="setCookies:ok";if(t){var n=Ek(e);n?(r=n,"function"==typeof e.fail&&e.fail({errMsg:r})):"function"==typeof e.success&&e.success({errMsg:r})}else r="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))}function EBe(e){xBe.call(this,gk,(t=>{var r="getCookies:ok";if(t){var n=Mk(e);"function"==typeof e.success&&e.success({errMsg:r,cookies:n})}else r="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))}function MBe(e={}){if(Vc("openBusinessView",e,{businessType:""})){var t=Object.assign({},e);delete t.sourcetype,delete t.preScene,delete t.preSceneNote,delete t.agentId,delete t.privateExtraData,delete t.scene,delete t.sceneNote,t.privateExtraData={__pluginAppId:Wh(this)},md("openBusinessView",t)}}function RBe(e,t,r){if(Oe)console.error({errMsg:"reportPerformance:fail SDK暂不支持此API"});else{var n=Wh(this),i=zh(this);EOe(e,t,r,{pluginId:n,customVersion:i?i.customVersion:""})}}function OBe(){return EZ({pluginId:Wh(this)})}var DBe={muteMicrophone:!1,muteEarphone:!1},LBe;function NBe(e){return pt(e)?X2()?{muteMicrophone:!0,muteEarphone:!0}:(it(e.muteMicrophone)&&(DBe.muteMicrophone=e.muteMicrophone),it(e.muteEarphone)&&(DBe.muteEarphone=e.muteEarphone),DBe):DBe}var BBe=()=>{RW({content:"账号已被禁言，暂时不能发送消息",confirmText:"知道了",showCancel:!1})},$Be=e=>{"boolean"==typeof LBe?(LBe&&BBe(),e(LBe)):Ue()?TE({apiName:"webapi_getvoiceroompunishstatusforwxag",sdkApiName:"checkMicrophoneBanned",reqData:{},success(t){var{is_punished:r}=t.data;!0===r?(BBe(),e(LBe=!0)):e(!1===r&&(LBe=!1))},fail(){e(!1)}}):e(LBe=!1)},jBe=e=>{var t=new RegExp(/^joinVoIPChat:(?:fail )?fail: (-?[0-9]+?), (-?[0-9]+?), .*/).exec(e);if(!t)return-1e3;var r=parseInt(t[1],10),n=parseInt(t[2],10);if(-10086!==r&&-10087!==r)return-1e3;switch(n){case 0:return 0;case-1:return-1;case-7:return-2;default:return-1e3}},FBe=function(e){if(Vc("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:NBe(e.muteConfig),handsFree:!it(e.handsFree)||e.handsFree,roomType:t}),n=()=>{var e=Wh(this);r.privateData=JSON.stringify({pluginId:e});var n=()=>{var n=bd(e);p2([1===t?"scope.camera":"scope.voice"])&&(r.permissionBytes=[1,1,1],n=Pd(e)),n("joinVoIPChat",r,{beforeSuccess(e){PP(),Kr("joinVoIPChat",{}),e.errCode=0,e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))},beforeFail(e){void 0===e.errCode&&(e.errCode=jBe(e.errMsg))}})};r.muteConfig.muteMicrophone?n():$Be((e=>{e&&(r.muteConfig.muteMicrophone=!0),n()}))};r.forceCellularNetwork?"boolean"!=typeof r.forceCellularNetwork?(console.warn("joinVoIPChat argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=!1,n()):xP().then((e=>{e||(r.forceCellularNetwork=!1),n()})):n()}},WBe=function(e={}){if(Vc("join1v1VoIPChat",e,{roomId:0,sessionKey:"",lifespan:0})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:NBe(e.muteConfig),handsFree:!!it(e.handsFree)&&e.handsFree,roomType:t}),n=Wh(this);r.privateData=JSON.stringify({pluginId:n}),bd(n)("join1v1VoIPChat",r)}},UBe=function(e){try{var t=Wh(this);bd(t)("exitVoIPChat",Object.assign({},e,{success(t){var r=t.errMsg||"ok";Kr("exitVoIPChat",{}),Hc({name:"exitVoIPChat",args:e,errMsg:r,errCode:0,res:t})},fail(t){var r=t.errCode||-1,n=t.errMsg||"unknown error";Hc({name:"exitVoIPChat",args:e,success:!1,errMsg:n,errCode:r,res:t})},complete(){}}))}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:`exitVoIPChat:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:`exitVoIPChat:complete ${t.message}`})}},VBe=function(e){if(Vc("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=Wh(this),r=Object.assign({},e,{muteConfig:NBe(e.muteConfig),handsFree:!it(e.handsFree)||e.handsFree}),n=()=>{bd(t)("updateVoIPChatMuteConfig",r,{beforeSuccess(e){e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))}})};r.muteConfig.muteMicrophone?n():$Be((e=>{e&&(r.muteConfig.muteMicrophone=!0),n()}))}},qBe=ir("voIPChatMembersChanged"),zBe=qBe.onMethod,GBe=qBe.offMethod;qt("onVoIPChatMembersChanged",(e=>{e.errCode=0,e.errMsg=e.errMsg||"ok",qBe.emit(e)}));var HBe=e=>{try{qt("onVoIPChatSpeakersChanged",(t=>{t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&x.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&x.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},KBe=()=>{qt("onVoIPChatSpeakersChanged",(()=>{}))},JBe=(e="")=>e.includes("current mini app entered background")?-1:e.includes("in comming call")?-2:-1e3,XBe=ir("VoIPChatInterrupted"),YBe=e=>{e.errCode||(e.errCode=JBe(e.reason)),XBe.emit(e)};qt("onVoIPChatInterrupted",(e=>{YBe(e)})),qt("onVoIPChatInterruptedJsEvent",(e=>{YBe(e)}));var QBe=XBe.onMethod,ZBe=XBe.offMethod,e$e=(e={})=>{Vc("subscribeVoIPVideoMembers",e,{openIdList:[]})&&md("subscribeVoIPMembers",e,{beforeAll(e){e.errMsg=e.errMsg.replace("subscribeVoIPMembers","subscribeVoIPVideoMembers")}})},t$e=ir("VoIPVideoMembersChanged"),r$e=t$e.onMethod,n$e=t$e.offMethod;qt("onVoIPVideoMembersChanged",((e={})=>{t$e.emit(e)}));var i$e=ir("voIPChatStateChanged"),a$e=i$e.onMethod,o$e=i$e.offMethod;qt("onVoIPChatStateChanged",(e=>{e.errCode=e.errCode||0,e.errMsg=e.errMsg||"ok",i$e.emit(e)}));var s$e=e=>({feedId:e.export_id,nonceId:e.nonce_id,description:e.description,playbackState:e.playback_state,status:e.status,headUrl:e.head_url,nickname:e.nickname,replayStatus:e.replay_status}),l$e=e=>{if("number"!=typeof e)return 1;var t=Math.floor(e/1e3);return t>0?t:1},c$e=NE("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:r,startTime:n,endTime:i})=>{var a={jsapi:r,export_id:e,finder_username:t};return"number"==typeof n&&"number"==typeof i&&(a.start_time=n,a.end_time=i),a}),(e=>{var t;if(null!==(t=e.live_info)&&void 0!==t&&t.length){var[r,...n]=e.live_info;Object.assign(e,s$e(r)),e.otherInfos=n.map(s$e)}delete e.live_info})),u$e="getChannelsLiveInfo";function d$e(e){if(Oe)zc("getChannelsLiveInfo",e,"getChannelsLiveInfo:fail SDK暂不支持此API");else{var t,r,n={...e,jsapi:u$e};if("number"==typeof e.startTime||"number"==typeof e.endTime)if(n.startTime=l$e(null!==(t=e.startTime)&&void 0!==t?t:0),n.endTime=l$e(null!==(r=e.endTime)&&void 0!==r?r:Date.now()),n.startTime>=n.endTime)return void zc(u$e,e,"invalid time range");c$e(n)}}var p$e=NE("getChannelsLiveState","webapi_getfinderviewlivestate",(({feedId:e,finderUserName:t,finderNickName:r})=>({finder_username:t,finder_nickname:r,export_id:e})),(e=>{e.liveInfoList=(e.live_info_list||[]).map((e=>({feedId:e.export_id,coverUrl:e.cover_url,thumbUrl:e.thumb_url,description:e.description,nickname:e.nickname,headUrl:e.head_url,status:e.status,nonceId:e.nonce_id}))),delete e.live_info_list})),h$e=NE("getChannelsLiveReservation","webapi_getfinderviewlivereservation",(({noticeId:e})=>({notice_id:e}))),f$e=NE("getChannelsLiveNoticeInfo","webapi_getfinerviewnoticeinfo",(({noticeId:e,finderUserName:t})=>({finder_username:t,notice_id:e})),(e=>{var[t,...r]=e.record_list||[];t&&(e.noticeId=t.notice_id,e.status=t.status,e.startTime=t.start_time,e.headUrl=t.head_url,e.nickname=t.nickname,e.reservable=t.can_reserve),e.otherInfos=r.map((e=>({noticeId:e.notice_id,status:e.status,startTime:e.start_time,headUrl:e.head_url,nickname:e.nickname,reservable:e.can_reserve}))),delete e.record_list}));function g$e(){if(void 0===br)return"";var e=br.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function v$e(e,t,r,n="",i=0,a="",o="",s=0){var l=[e||"",g$e(),t,r,n,i,re.appType+1e3,a,o,s].map(encodeURIComponent).join(",");T.reportKeyValue({key:"WeAppToChannels",value:l})}function m$e(e={}){md("openChannelsLive",e)}function y$e(e={}){Oe?zc("openChannelsLive",e,"openChannelsLive:fail SDK暂不支持此API"):Ke()?m$e(e):c$e(Object.assign({},e,{jsapi:"openChannelsLive",success({nickname:t,feedId:r,nonceId:n}){RW({title:`即将打开${t?`“${t}”`:""}视频号直播`,confirmText:"允许",cancelText:"取消",success({confirm:t}){if(t){var i=2;"release"===re.envVersion&&(i=1),"trial"===re.envVersion&&(i=3),md("openChannelsLive",Object.assign({},e,{feedId:r,nonceId:n,sceneNote:{scene:7,appid:re.accountInfo.appId,version_type:i}}),{beforeAll({errMsg:t}){v$e(e.finderUserName,1,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}})}else v$e(e.finderUserName,1,0,"cancel",5,e.feedId),zc("openChannelsLive",e,"cancel")}})},fail({errMsg:t,errCode:r}){v$e(e.finderUserName,1,0,t,4,e.feedId),zc("openChannelsLive",e,t,r)},complete:null}))}function b$e(e={}){md("openChannelsUserProfile",e)}function _$e(e={}){Oe?zc("openChannelsUserProfile",e,"openChannelsUserProfile:fail SDK暂不支持此API"):Ke()?b$e(e):EE({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}).then((({data:t})=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";RW({title:`即将打开${r}视频号`,confirmText:"允许",cancelText:"取消",success({confirm:r}){r?md("openChannelsUserProfile",Object.assign({},e,{finderUserName:null==t?void 0:t.encrpyt_finder_username}),{beforeAll({errMsg:t}){v$e(e.finderUserName,2,/^\w+:ok/.test(t)?1:0,t,4)}}):(v$e(e.finderUserName,2,0,"cancel",5),zc("openChannelsUserProfile",e,"cancel"))}})})).catch((({errMsg:t,errno:r})=>{v$e(e.finderUserName,2,0,r||t,4),zc("openChannelsUserProfile",e,r||t)}))}function w$e(e={}){md("openChannelsActivity",e)}function S$e(e={}){Oe?zc("openChannelsActivity",e,"openChannelsActivity:fail SDK暂不支持此API"):Ke()?w$e(e):c$e(Object.assign({},e,{jsapi:"openChannelsActivity",success({nickname:t,nonceId:r}){RW({title:`即将打开${t?`“${t}”`:""}视频号视频`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?md("openChannelsActivity",Object.assign({},e,{nonceId:r}),{beforeAll({errMsg:t}){v$e(e.finderUserName,3,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}}):(v$e(e.finderUserName,3,0,"cancel"),zc("openChannelsActivity",e,"cancel",5,e.feedId))}})},fail({errMsg:t,errCode:r}){v$e(e.finderUserName,3,0,t,4,e.feedId),zc("openChannelsActivity",e,t,r)},complete:null}))}function C$e(e={}){if(Oe)zc("openChannelsLiveCollection",e,"openChannelsLiveCollection:fail SDK暂不支持此API");else{var t={appId:re.accountInfo.appId,openIds:e.openIds},r=encodeURIComponent(JSON.stringify(t));md("navigateToMiniProgram",{success:e.success,fail:e.fail,complete:e.complete,appId:"wx4bfd324d7e80de2e",path:"/pages/livecollection/index.html?bypass="+r+"&game_type=1&ssid=201",extraData:{entryScene:15,requestScene:Ue()?5:4,pageTitle:Ue()?"小游戏直播":void 0},privateExtraData:{sourceApi:"openChannelsLiveCollection"}},{beforeAll(e){e.errMsg=e.errMsg.replace(/^\w+/,"openChannelsLiveCollection"),v$e("",5,/^\w+:ok/.test(e.errMsg)?1:0,e.errMsg,4)}})}}function k$e(e={}){Promise.all([EE({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}),EE({sdkApiName:"checkChannelsEvent",apiName:"webapi_checkfinderevent",reqData:{finder_username:e.finderUserName,event_id:e.eventId}})]).then((([{data:t}])=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";RW({title:`即将打开${r}视频号活动`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?md("openChannelsTopic",Object.assign({},e,{topicType:7,eventEncryptedTopicId:e.eventId}),{beforeAll(t){t.errMsg=t.errMsg.replace("openChannelsTopic","openChannelsEvent"),v$e(e.finderUserName,6,/^\w+:ok/.test(t.errMsg)?1:0,t.errMsg,4)}}):zc("openChannelsEvent",e,"cancel")}})})).catch((({errMsg:t,errno:r})=>{zc("openChannelsEvent",e,r||t),v$e(e.finderUserName,6,0,r||t,4)}))}function I$e(e={}){Oe?zc("reserveChannelsLive",e,"reserveChannelsLive:fail SDK暂不支持此API"):md("reserveChannelsLive",Object.assign({},e,{wxData:{appid:re.accountInfo.appId,apptype:re.appType,notice_id:e.noticeId}}),{beforeAll({state:t,errMsg:r}){v$e("",4,/^\w+:ok/.test(r)?1:0,r,2,"",e.noticeId,t)}})}ur("onNavigateBackFromChannelsActivity",(e=>{Kr("onNavigateBackFromChannelsActivity",e)}));var P$e=function(e={}){if(Oe)zc("getNativeUserInfo",e,"getNativeUserInfo:fail SDK暂不支持此API");else{var{success:t,fail:r}=Kc(e,"getNativeUserInfo");TE({sdkApiName:"getNativeUserInfo",apiName:"webapi_getuserinfo",fromComponent:!0,reqData:{lang:e.lang||"en",version:re.SDKVersion},pluginId:Wh(this),withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,success:e=>{var{cloudID:r,encryptedData:n,iv:i,signature:a,data:o}=e,s=JSON.stringify(e.data);t({cloudID:r,encryptedData:n,iv:i,signature:a,userInfo:o,rawData:s,respData:{data:s}})},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),r(e)}})}},A$e=function(e={}){var t=Object.assign({},e,{miniprogram_appid:re.accountInfo.appId});DNe.call(this,{sdkApiName:"login",apiName:"webapi_plugin_login",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},x$e=function(e={}){var t=Wh(this),r=Object.assign({},e,{miniprogram_appid:re.accountInfo.appId,version:re.SDKVersion,plugin_version:Jh(qh(this))});DNe.call(this,{sdkApiName:"getUserInfo",apiName:"webapi_plugin_getuserinfo",reqData:r,success:r=>{var n;r.rawData=JSON.stringify(r.data),r.userInfo=r.data,delete r.data,"function"==typeof e.success&&e.success(r),null!==(n=r.userInfo)&&void 0!==n&&n.is_demote||Coe(t,"wx.getUserInfo")},fail:e.fail,complete:e.complete})},T$e=function(e={}){if(Oe)zc("pluginLogin",e,"pluginLogin:fail SDK暂不支持此API");else{var t=Object.assign({},e,{miniprogram_appid:re.accountInfo.appId});DNe.call(this,{sdkApiName:"pluginLogin",apiName:"webapi_getapppluginopenpid",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})}},E$e=function(e={}){if(Oe)zc("getSetting",e,"getSetting:fail SDK暂不支持此API");else{var t=Object.assign({},e,{miniprogram_appid:re.accountInfo.appId,filter_auth_status:1,with_app_auth:!0});DNe.call(this,{sdkApiName:"getSetting",apiName:"webapi_getwxapluginuserscope",reqData:t,success:t=>{var r=t.data,n={errMsg:"getSetting:ok"};n.authSetting=(r.auth_item||[]).reduce(((e,t)=>(e[t.scope]=1===t.auth_status,e)),{}),r.user_all_app_auth&&(n.miniprogramAuthSetting=Qoe(r.user_all_app_auth).authSetting||{}),"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)},fail:t=>{var r={errMsg:t.errMsg||"getSetting:fail"};"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}})}},M$e=function(...e){return Oe?(console.error({errMsg:"getRealtimeLogManager:fail SDK暂不支持此API"}),{tag:()=>({addFilterMsg:()=>{},setFilterMsg:()=>{},...console}),getCurrentState:()=>({})}):mG(Wh(this),qh(this),...e)},R$e=function(e={}){if(e.image){if(0!==e.image.indexOf("/"))return void zc("showToast",e,"parameter 'image' must be begin with '/'");var t=Wh(this);e=Object.assign({},e,{image:vr.getPluginRoutePrefix(t)+e.image.substr(1)})}jW(e)},O$e=(e={})=>{Oe?zc("saveFileToDisk",e,"saveFileToDisk:fail SDK暂不支持此API"):md("saveFileToDisk",e,{})},D$e=1;re.onReady((()=>{["close","error","listening","message"].forEach((e=>{qt(`onUDPSocket${Pg(e)}`,(t=>{var{socketId:r}=t;delete t.socketId,Pg(e),ir(`jsapi-udp-${r}-${e}`).emit(t)}))}))}));class L$e{constructor(e){var t;if(this._id=D$e++,md("createUDPSocket",{socketId:this._id,type:"udp6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((e=>{var t=ir(`jsapi-udp-${this._id}-${e}`);this[`on${Pg(e)}`]=t.onMethod,this[`off${Pg(e)}`]=t.offMethod}))}bind(e){var t,r;if(md("bindUDPSocket",{port:e,socketId:this._id,success(e){t=e.port},fail(e){r=e.errMsg}}),r)throw new Error(r);return t}setTTL(e){var t;if(md("setUDPSocketTTL",{ttl:e,socketId:this._id,fail(e){t=e.errMsg}}),t)throw new Error(t)}send(e={}){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,md("sendUDPSocketMessage",Object.assign({},e,{socketId:this._id,message:t,success(e){},fail:({errMsg:e})=>{ir(`jsapi-udp-${this._id}-error`).emit({errMsg:`send: fail ${e}`})}}))}connect(){}write(e){this.send(e)}close(){var e;if(md("closeUDPSocket",{socketId:this._id,fail(t){e=t.errMsg}}),e)throw new Error(e)}}var N$e=(e,t)=>BE(e,`UDP.${t}`),B$e=new WeakMap,$$e=new WeakMap,j$e=new WeakMap,F$e=1;class W$e{constructor(e){var t=xf.UDP;if(!t)return null;var r=new t;if(null===r)return null;var n=F$e++;["close","error","listening","message"].forEach((e=>{var t=ir(`jsbinding-udp-${n}-${e}`);r[`on${e}`]=N$e(((...r)=>{"message"===e&&r[0].remoteInfo&&(r[0].localInfo={address:r[0].remoteInfo.localaddress,family:r[0].remoteInfo.localfamily,port:r[0].remoteInfo.localport},delete r[0].remoteInfo.localaddress,delete r[0].remoteInfo.localfamily,delete r[0].remoteInfo.localport),t.emit(...r),"error"===e?(aO("createUDPSocket.onError.callback",nb(),void 0,!1,Date.now(),0,r[0],0,!0,0),T.reportIDKey({key:"UDPError"})):"message"===e&&T.reportIDKey({key:"receiveUDPMessage"})}),`on${e}`),this[`on${Pg(e)}`]=t.onMethod,this[`off${Pg(e)}`]=t.offMethod})),B$e.set(this,r),$$e.set(this,n),j$e.set(this,"udp6"===e?"IPv6":"IPv4")}bind(e){return zy({functionName:"bindUDP",keyParam:"",result:1,costTime:0,errorMsg:"",statusCode:"",__skipDomainCheck__:!1,dataLength:0,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0}),T.reportIDKey({key:"bindUDP"}),B$e.get(this).bind({port:e,type:j$e.get(this)})}setTTL(e){if(Number.isNaN(Number(e))){ir(`jsbinding-udp-${$$e.get(this)}-error`).emit({errMsg:"set ttl fail: ttl must be a number.",errCode:-4})}else{var t=B$e.get(this);"IPv6"===j$e.get(this)?(t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_UNICAST_HOPS"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVHOPLIMIT"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVPKTINFO"),optionval:1})):(t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_TTL"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_PKTINFO"),optionval:1}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_RECVTTL"),optionval:Number(e)}))}}send(e={}){if(Cf("UDP")){var t,r=`udp://${e.address}`;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var n=B$e.get(this);if(e.setBroadcast){var i=n.getMacro("SOL_SOCKET"),a=n.getMacro("SO_BROADCAST");i>=0&&a>=0&&n.setopt({level:i,option:a,optionval:1})}if(n.send(Object.assign({},e,{message:t})),Math.random()>.99){var o={setBroadcast:e.setBroadcast?1:0};zy({functionName:"sendUDP",keyParam:r,result:1,costTime:0,errorMsg:"",statusCode:"",__skipDomainCheck__:!1,dataLength:yg(e.message),responseDataLength:0,profile:{},queueTime:0,extraData:o,uniqueId:"",isAsync:!0,errno:0,queueLength:0})}T.reportIDKey({key:"sendUDPMessage"})}else{ir(`jsbinding-udp-${$$e.get(this)}-error`).emit({errMsg:"send socket fail: no permission",errCode:-3})}}connect(e={}){var t=B$e.get(this);"function"==typeof t.connect&&t.connect(e)}write(e={}){if(Cf("UDP")){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var r=B$e.get(this);"function"==typeof r.write?r.write(Object.assign({},e,{message:t})):this.send(e)}else{ir(`jsbinding-udp-${$$e.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}onConnect(e){B$e.get(this).onconnect=N$e(e,"onconnect")}close(){return B$e.get(this).close()}}var U$e=(e="udp4")=>xf.UDP?new W$e(e):new L$e(e),V$e=e=>{void 0!==Tr?e():Mr(e)},q$e,z$e=e=>{q$e=e},G$e,H$e=e=>{G$e=e},K$e,J$e=0,X$e=!1,Y$e=()=>{y.info(`[initXrFrameContext] hasInitXrFrameContext=${X$e}`),X$e||($.createAppXRFrameRenderContext((e=>{K$e=e.xrFrameSystem,y.info("[createAppXRFrameRenderContext] call xrFrame init, xrFrameSystem="+typeof K$e),e.init({extraWx:q$e(),onCanvasEvent:QZ}),V$e((()=>{e.init({extraWx:{cloud:G$e()}})}))})),X$e=!0)};Ce&&g.onLibraryEnd((()=>{Y$e()}));var Q$e=()=>(X$e||Y$e(),K$e),Z$e=()=>"xr-view-"+J$e++,eje=(e,t,r,n)=>{X$e||Y$e();var i=Z$e();Ur(i,"xr-frame"),IU.traceBeginEvent("Framework","dispatchViewRoute"),Jr("viewRoute",{pageId:i,path:e},[i]),IU.traceEndEvent();var a=br.openNewXrFrame(e,i,n,t,r);return a.__xrFrameId__=i,a},tje=function(){var e=xd()((function*(e){var{nodeId:t,nodeCanvasType:r}=e;return yield Y4(t,r)}));return function(t){return e.apply(this,arguments)}}();en("onSkylineXrFrameEvent",(({nodeId:e,canvasId:t,event:r,cb:n},i)=>{var a=Ip(e,i);vr.xrFrameTouchEvent.negotiate(a,r,((e,i)=>{i&&n0(t,r.type,r),n(e,i)}))}));var rje=e=>t=>{Oe?zc("chooseAddress",t,"chooseAddress:fail SDK暂不支持此API"):bd(e)("openAddress",t,{beforeSuccess(e){Jd(e,"addressPostalCode","postalCode"),Jd(e,"proviceFirstStageName","provinceName"),Jd(e,"addressCitySecondStageName","cityName"),Jd(e,"addressCountiesThirdStageName","countyName"),Jd(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddressForPlugin"),delete e.err_msg}})},nje=e=>function(t){t.pluginId=e,t.appId=re.accountInfo.appId,WC("setPluginLoginAuth",t,void 0,(e=>{0===e.errMsg.indexOf("setLoginAuth:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)}))};function ije(e,t){ose({pluginId:e,apiName:"GetPluginAuthScope",reqData:{scope_list:["scope.eCommercePluginAuths"]},fail(){t(!1)},success(e){var r=JSON.parse(e.respData.data).auth_item_list.find((e=>"scope.eCommercePluginAuths"===e.scope));t(!!r&&(r.state&&1===r.state))}})}var aje=e=>function(t){ije(e,(e=>{e?WC("chooseAddressDirectly",{},void 0,(e=>{0===e.errMsg.indexOf("chooseAddressDirectly:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)})):zc("chooseAddressDirectly",t,"no permission")}))},oje=()=>function(e={}){e.permissionBytes=[1,1,1],WC("appServiceEnterContact",e,void 0,(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("enterContact","enterContactForPlugin")),0===t.errMsg.indexOf("enterContactForPlugin:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},sje=(e={})=>{Oe?zc("openSetting",e,"openSetting:fail SDK暂不支持此API"):md("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{})}})},lje=()=>function(e={}){sje(e)},cje=()=>function(e){e.isNativeStyle=!0,md("private_openUrl",e,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openUrl")}})},uje=e=>{yte((t=>{var r=(+new Date-(t||0))/1e3/60,n=!1,i="",a=re&&re.appContactInfo&&re.appContactInfo.operationInfo&&re.appContactInfo.operationInfo.jsonInfo&&re.appContactInfo.operationInfo.jsonInfo.warning_info&&re.appContactInfo.operationInfo.jsonInfo.warning_info.jsapi_alter||[];a&&a.forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(n=!0,i=e.wording)})),n&&r>30?RW({content:i,confirmText:"继续支付",cancelText:"取消",success(t){t.confirm&&(bte(+new Date),dje(e))}}):dje(e)}))},dje=e=>{if(Vc("requestPayment",e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""})){e=Object.assign({},e);var t=xk();e.passCookies&&"string"==typeof e.passCookies?e.cookie=t?e.passCookies+";; "+t:e.passCookies:t?e.cookie=t:delete e.cookie,delete e.passCookies,e.cookie,md("requestPayment",Object.assign({},e,{grantMessageQuota:!0}),{beforeSuccess:()=>{WC("reportPaymentFormId",{packageStr:e.package}),aj()}})}},pje=()=>function(e={}){uje(e)},hje=e=>function(t={}){var r="";pt(t.extraData)&&(r=JSON.stringify(t.extraData)),bd(e)("navigateBackNative",Object.assign({},t,{extraData:r}))},fje=e=>function(t={}){Vc("setNavigationBarRightButton",t,{hide:!0})&&bd(e)("setNavigationBarRightButton",t,{})},gje=e=>function(t={}){bd(e)("openAddressWithLightMode",t,{beforeSuccess(e){Jd(e,"addressPostalCode","postalCode"),Jd(e,"proviceFirstStageName","provinceName"),Jd(e,"addressCitySecondStageName","cityName"),Jd(e,"addressCountiesThirdStageName","countyName"),Jd(e,"addressDetailInfo","detailInfo")},beforeAll(e){delete e.err_msg}})},vje=gje(),mje=e=>function(t={}){bd(e)("editTextWithPopForm",t,{})},yje=mje(),bje=()=>function(e={}){nse(Kh(e,"chooseInvoiceTitle","chooseInvoiceTitleDirectly"))},_je=()=>function(e={}){Tae(Kh(e,"openCard","openCardDirectly"))},wje=e=>(t={})=>{WC("getPhoneNumber",Object.assign({permissionBytes:[1,1,1],pluginId:e},t),void 0,(e=>{"string"==typeof e.public.errMsg&&(e.public.errMsg=e.public.errMsg.replace(/^getPhoneNumber:/,"getPhoneNumberDirectly:")),sd(e.public,"getPhoneNumberDirectly",t,{})}))},Sje="webapi_getenteroptions_sensitivetype",Cje=e=>y.info(Sje+" "+e),kje=(e,t,r)=>{var n,i={app_info_list:[{appid:null!=e?e:null===(n=re.accountInfo)||void 0===n?void 0:n.appId,scene:t}]};Cje("reqData="+JSON.stringify(i)),TE({sdkApiName:"getInnerEnterOptions",pluginId:e,apiName:Sje,reqData:i,complete(e){Cje("respData="+JSON.stringify(e))},fail(e){r(e.errmsg||e.errMsg)},success(n){var i=(n.data.sensitive_type_data_list||[]).find((r=>e?r.appid===e&&r.scene===t:r.scene===t)),a=i?i.sensitive_type_list:[],o=a.indexOf("sessionId");-1!==o&&(a[o]="sessionid"),r(null,a||[])}})},Ije=Object.prototype.hasOwnProperty,Pje=Object.assign,Aje=e=>(t={})=>{var r=Qh();r.sessionid=r.sessionid||r.sessionId,delete r.sessionId,kje(e,r.scene,((e,n)=>{var i={};e||(i=Pje(r.__public),n.forEach((e=>{Ije.call(r,e)&&(i[e]=r[e])}))),Hc({name:"getInnerEnterOptions",args:t,success:!e,errMsg:e,res:i})}))},xje=Aje(),Tje=()=>function(e){var t=(0,qb.Qc)("https://open.weixin.qq.com/sns/checktpbetaplugintoken");t.query={appid:String(e.appid),token:String(e.token)},e.extraData&&(t.query.extraData=JSON.stringify(e.extraData));var r={url:t.format(),isNativeStyle:!0};md("private_openUrl",r,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","launchTrialMiniProgram")}})},Eje=e=>(t={})=>{ghe(t,e)},Mje=()=>(e={})=>{var t=fLe();e.success&&e.success(t),e.complete&&e.complete(t)},Rje=()=>(e={})=>{vre(e)},Oje=e=>{var t=/^rgba?\((.+)\)/.exec(e);if(!t)return e;var r=t[1].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e=`0${e}`),e))).join("");return r=`#${r}`},Dje=e=>{var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%3600-60*r;r<10&&(r=`0${r}`),n<10&&(n=`0${n}`);var i=`${r}:${n}`;return t>0&&(i=`${t}:${i}`),i},Lje=e=>{e.type=e.type||"play",md("operateCallTone",e)},Nje=()=>Lje,Bje=e=>{md("hasJoinVoIPChat",e)},$je=new Map,jje=e=>(t={})=>{y.info(["[Plugin]","markRelievedBuyFlag",e,"in webview",uu.currentWebviewId].join(" ")),$je.set(uu.currentWebviewId,!0),sd({},"markRelievedBuyFlag",t,{})},Fje=(e=uu.currentWebviewId)=>$je.has(e),Wje={initScl(e){iP(),__sclEngine__.initScl(e,!0)},appendStyleSheet(e){iP(),__sclEngine__.appendStyleSheet(e)},registerComponent(e){iP(),__sclEngine__.registerComponent(e)},triggerRender(e){iP(),__sclEngine__.triggerRender(e)}},Uje=e=>e=>{e(Wje)},Vje="element_picker_event",qje=e=>{Kr(Vje,e,[...Gje()])},zje=e=>{Kr(Vje,e,[Hje()])},Gje=()=>Jje().map((e=>e.__wxWebviewId__)),Hje=()=>{var e=Jje();if(e.length)return e[e.length-1].__wxWebviewId__},Kje=()=>{var e=Jje();if(e.length)return e[e.length-1].route},Jje=()=>br.getCurrentPagesByDomain("");en(Vje,(e=>{switch(e.event||""){case"onPickCb":Xje.forEach((t=>{var{elementInfo:r}=e;t(r)}));break;case"onMatchPickCb":var t,{id:r,elementInfo:n}=e;null===(t=Qje[r])||void 0===t||t.call(Qje,n),delete Qje[r];break;case"onFocusCb":var{elementInfo:i}=e,a=Kje();Zje.forEach((e=>e({elementInfo:i,path:a,sessionId:Qh().sessionId||Qh().sessionid,isentrance:1===Jje().length?1:0})));break;default:y.warn("[ElementPicker] appservice recv unknown command")}}));var Xje=[],Yje=0,Qje={},Zje=[],eFe=!1,tFe=!1,rFe=()=>{qje(eFe?{event:"startFocus"}:{event:"stopFocus"})},nFe={togglePick(e){qje({event:"toggle",value:e})},pickFromPoint(e,t){zje({event:"pickFromPoint",x:e,y:t})},pickParent(){zje({event:"pickParent"})},pickBack(){zje({event:"pickBack"})},matchPick(e,t){var r=Yje++;zje({event:"matchPick",query:e,id:r}),Qje[r]=t},onPick(e){Xje.push(e)},offPick(e){var t=Xje.findIndex((t=>t===e));Xje.splice(t,1)},clearAllOnPickCallbacks(){Xje=[]},startFocus(){qje({event:"startFocus"}),eFe=!0},stopFocus(){qje({event:"stopFocus"}),eFe=!1},onFocus(e){Zje.push(e),tFe||(EK(rFe),tFe=!0)},offFocus(e){var t=Zje.findIndex((t=>t===e));Zje.splice(t,1),0===Zje.length&&tFe&&(tFe=!1,MK(rFe))},getCurrentPageConfig(){var e=br.getCurrentPagesByDomain("");if(e.length){var t=e[e.length-1],r=t.route,n=f.page[r];return{renderer:Wr(t.__wxWebviewId__),...n}}return{}}},iFe=()=>nFe,aFe=e=>e=>{e(iFe())},oFe,sFe,lFe=!1,cFe=(e,t=!0)=>oFe?Promise.reject("busy screenshot "):(lFe=!!e.rgb,y.info("[sdk info] start screenshot "),new Promise(((r,n)=>{oFe=r,sFe=n,Aw({success(r){var n=e.shortEdge||(r.screenWidth>r.screenHeight?r.screenHeight:r.screenWidth);md("setAppSnapshotStrategy",{shortEdge:Math.ceil(n*e.scaleRatio),ignoreNative:t,success(){y.warn(`setAppSnapshotStrategy success frame: [${r.screenWidth}, ${r.screenHeight}]`)},fail(e){y.warn("setAppSnapshotStrategy fail",e),sFe(e)}})},fail(e){sFe(e)}})}))),uFe=e=>{for(var t=new ArrayBuffer(e.byteLength/4*3),r=new Uint8ClampedArray(e),n=new Uint8ClampedArray(t),i=0,a=0,o=0;o<r.length;o++)++a%4==0?a=0:(n[i]=r[o],i++);return n.buffer};ur("onAppSnapshotDump",(e=>{try{y.warn("onDumpSecuritySnapshot",e);var t=e.buffer;lFe&&(t=uFe(e.buffer)),oFe&&(oFe({...e,buffer:t}),oFe=void 0)}catch(e){y.error("onAppSnapshotDump handle occur error: ",e),sFe&&(sFe(e),sFe=void 0)}}));var dFe=e=>e=>{e(cFe)},pFe=e=>t=>{var r="waitVoIPChat";Vc(r,t,{status:!0})&&bd(e)(r,t)},hFe=e=>(t={})=>{oie(t,e)},fFe=[{name:"chooseAddressForPlugin",factory:rje,permissionBytes:["chooseAddressForPlugin"],copyToWx:!0},{name:"openSettingForPlugin",factory:lje,permissionBytes:["openSettingForPlugin"],copyToWx:!0},{name:"requestPaymentForPlugin",factory:pje,permissionBytes:["requestPaymentForPlugin"],copyToWx:!0},{name:"chooseAddressDirectly",factory:aje,permissionBytes:[],copyToWx:!0},{name:"enterContactForPlugin",factory:oje,permissionBytes:["enterContactForPlugin"],copyToWx:!0},{name:"openUrl",factory:cje,permissionBytes:["openUrlForPlugin"],copyToWx:!0},{name:"setLoginAuth",factory:nje,permissionBytes:["setLoginAuthForPlugin"],copyToWx:!0},{name:"navigateBackNative",factory:hje,permissionBytes:["navigateBackNative"],copyToWx:!0},{name:"setNavigationBarRightButton",factory:fje,permissionBytes:["setNavigationBarRightButton"],copyToWx:!0},{name:"openAddressWithLightMode",factory:gje,permissionBytes:["openAddressWithLightMode"],copyToWx:!0},{name:"editTextWithPopForm",factory:mje,permissionBytes:["editTextWithPopForm"],copyToWx:!0},{name:"navigateToMiniProgramDirectly",factory:Bne,permissionBytes:["navigateToMiniProgramDirectly"],copyToWx:!0},{name:"getInnerEnterOptions",factory:Aje,permissionBytes:["private_getEnterOptions"],copyToWx:!1},{name:"chooseInvoiceTitleDirectly",factory:bje,permissionBytes:["private_chooseInvoiceTitleDirectly"],copyToWx:!1},{name:"getPhoneNumberDirectly",factory:wje,permissionBytes:["private_getPhoneNumberDirectly"],copyToWx:!1},{name:"openCardDirectly",factory:_je,permissionBytes:["private_openCardDirectly"],copyToWx:!1},{name:"launchTrialMiniProgram",factory:Tje,permissionBytes:["private_launchTrialMiniProgram"],copyToWx:!1},{name:"navigateToDevMiniProgram",factory:Eje,permissionBytes:[],copyToWx:!1},{name:"createTCPServer",factory:Mje,permissionBytes:["TCPServer"],copyToWx:!1},{name:"faceVerifyForPay",factory:Tse,permissionBytes:[],copyToWx:!1},{name:"requestPersonalPay",factory:Tre,permissionBytes:[],copyToWx:!1},{name:"requestOrderPaymentForPlugin",factory:Rje,permissionBytes:["requestOrderPaymentForPlugin"],copyToWx:!0},{name:"openOfficialAccountProfileForPlugin",factory:Dse,permissionBytes:["openBizProfile"],copyToWx:!1},{name:"operateCallToneForPlugin",factory:Nje,permissionBytes:[],copyToWx:!1},{name:"openOfficialAccountProfileForPlugin",factory:Dse,permissionBytes:["openBizProfile"],copyToWx:!1},{name:"markRelievedBuyFlag",factory:jje,permissionBytes:["markRelievedBuyFlag"],copyToWx:!1},{name:"getSCLAdapterForPlugin",factory:Uje,permissionBytes:["getSCLAdapterForPlugin"],copyToWx:!1},{name:"getElementPickerForPlugin",factory:aFe,permissionBytes:["getElementPickerForPlugin"],copyToWx:!1},{name:"startScreenShotForPlugin",factory:dFe,permissionBytes:["startScreenShotForPlugin"],copyToWx:!1},{name:"waitVoIPChatForPlugin",factory:pFe,permissionBytes:[],copyToWx:!1},{name:"requestCommonPaymentForPlugin",factory:hFe,permissionBytes:["requestCommonPaymentForPlugin"],copyToWx:!0}],gFe=(e,t,r)=>{Promise.all((t||[]).map((t=>(t=>new Promise((r=>we(e,t,0,r))))(t)))).then((e=>{r(e.every((e=>e)))}))},vFe=e=>{var t={};return fFe.forEach((r=>{var n=r.factory(e);t[r.name]=function(t){gFe(e,r.permissionBytes,(e=>{e?n(t):zc(r.name,t,"no permission",void 0)}))}})),t},mFe=(e,t)=>{var r=!0===re.debug,n="devtools"===re.platform;(r||n)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),_w(`${e} (${t})`)},yFe=()=>{var e={};return fFe.forEach((t=>{t.copyToWx&&(e[t.name]=function(e){var r=Wh(this);mFe(t.name,r),gFe(r,t.permissionBytes,(n=>{n?t.factory(r)(e):zc(t.name,e,"no permission",void 0)}))})})),e},bFe=(e={})=>{Vc("getRandomValues",e,{length:0})&&((!Number.isInteger(e.length)||e.length<=0||e.length>1048576)&&zc("getRandomValues",e,"invalid length"),md("getRandomValues",e))},_Fe={SUCCESS:0,INVALID_ARGUMENT:mc,SESSION_UNAVAILABLE:Ac,SYSTEM_ERROR:vc,DEVICE_NOT_SUPPORTED:_c,OS_NOT_SUPPORTED:bc,NO_SYSTEM_CAMERA_ACCESS:xc,NO_MINIPROGRAM_CAMERA_ACCESS:Tc},wFe={SUCCESS:0,INVALID_ARGUMENT:-1,SESSION_UNAVAILABLE:-2,SYSTEM_ERROR:-3,DEVICE_NOT_SUPPORTED:-4,OS_NOT_SUPPORTED:-5,NO_SYSTEM_CAMERA_ACCESS:-6,NO_MINIPROGRAM_CAMERA_ACCESS:-7},SFe={[wFe.INVALID_ARGUMENT]:_Fe.INVALID_ARGUMENT,[wFe.SESSION_UNAVAILABLE]:_Fe.SESSION_UNAVAILABLE,[wFe.SYSTEM_ERROR]:_Fe.SYSTEM_ERROR,[wFe.DEVICE_NOT_SUPPORTED]:_Fe.DEVICE_NOT_SUPPORTED,[wFe.OS_NOT_SUPPORTED]:_Fe.OS_NOT_SUPPORTED,[wFe.NO_SYSTEM_CAMERA_ACCESS]:_Fe.NO_SYSTEM_CAMERA_ACCESS,[wFe.NO_MINIPROGRAM_CAMERA_ACCESS]:_Fe.NO_MINIPROGRAM_CAMERA_ACCESS},CFe={UNAVAILABLE:0,RUNNING:1,PAUSE:2},kFe={PLANE:0,MARKER:1,OSD:2,FACE:3,MANUAL:4,BODY:5,OCR:6,HAND:7,DEPTH:8,SHOE:9,IDCARD:10},IFe={ON_ADD_ANCHORS:1,ON_UPDATE_ANCHORS:2,ON_REMOVE_ANCHORS:3,FRAME_SIZE_CHANGED:4},PFe={VKSession:Symbol("VKSession"),VKAnchor:Symbol("VKAnchor"),VKCamera:Symbol("VKCamera"),VKFrame:Symbol("VKFrame"),VKLightEstimate:Symbol("VKLightEstimate"),VKMesh:Symbol("VKMesh"),VKReference:Symbol("VKReference")},AFe={UNKNOWN:0,WEVISION:1,ARKIT:2,WEVISION_6DOF:3,WEVISION_3DOF:4,WEVISION_VIO:5,WEVISION_MARKER:6,WEVISION_OSD:7,WEVISION_FACE:8,WEVISION_BODY:9,WEVISION_OCR:10,WEVISION_HAND:11,WEVISION_MONODEPTH:12,WEVISION_VIO_DEPTH:13,WEVISION_SHOE:14,WEVISION_VIO_DEFAULT:15},xFe={V1:"v1",V2:"v2"},TFe=PFe.VKReference,EFe={};class MFe{constructor(e=0,t){this[TFe]={webviewId:e,native:t}}destroy(){this[TFe].native=null}}class RFe extends MFe{}class OFe extends MFe{}function DFe(e=0,t){if(!t)return null;EFe[e]||(EFe[e]=new WeakMap);var r=EFe[e];if(r.has(t))return r.get(t);var n=null;return t instanceof xf.ARImageReference?n=new RFe(e,t):t instanceof xf.ARObjectReference&&(n=new OFe(e,t)),r.set(t,n),n}function LFe(e){return e[TFe].native}function NFe(e=0){EFe[e]={}}var BFe=PFe.VKMesh;class $Fe{constructor(e=0,t){this[BFe]={webviewId:e,native:t}}get vertices(){return this[BFe].native?this[BFe].native.getVertices():null}get uvs(){return this[BFe].native?this[BFe].native.getUVs():null}get triangles(){return this[BFe].native?this[BFe].native.getTriangles():null}destroy(){this[BFe].native=null}}var jFe=PFe.VKAnchor,FFe={},WFe={},UFe=1e4;class VFe{constructor(e=0,t){this[jFe]={webviewId:e,native:t,reference:null,mesh:null}}get id(){return this[jFe].native?this[jFe].native.id:null}get type(){return this[jFe].native?this[jFe].native.type:null}get transform(){return this[jFe].native?this[jFe].native.transform:null}get reference(){if(!this[jFe].native)return null;if(!this[jFe].reference){var e=this[jFe].native.reference;this[jFe].reference=DFe(this[jFe].webviewId,e)}return this[jFe].reference}get mesh(){if(!this[jFe].native)return null;if(!this[jFe].mesh){var e=this[jFe].native.mesh;this[jFe].mesh=new $Fe(this[jFe].webviewId,e)}return this[jFe].mesh}get size(){if(!this[jFe].native||!this[jFe].native.size)return null;var e=Array.from(this[jFe].native.size);return{width:e[0],height:e[1]}}destroy(){this[jFe].native=null,this[jFe].reference&&(this[jFe].reference.destroy(),this[jFe].reference=null),this[jFe].mesh&&(this[jFe].mesh.destroy(),this[jFe].mesh=null)}}class qFe extends VFe{get alignment(){return this[jFe].native?this[jFe].native.alignment:null}}class zFe extends VFe{get markerId(){return this[jFe].native?this[jFe].native.markerID:null}get path(){return this[jFe].native?WFe[this[jFe].native.markerID]||"":null}}class GFe extends VFe{get markerId(){return this[jFe].native?this[jFe].native.markerID:null}get path(){return this[jFe].native?WFe[this[jFe].native.markerID]||"":null}get origin(){if(!this[jFe].native||!this[jFe].native.origin)return null;var e=Array.from(this[jFe].native.origin);return{x:e[0],y:e[1]}}}class HFe extends VFe{get size(){return this[jFe].native?this[jFe].native.size:null}get depthArray(){return this[jFe].native?this[jFe].native.depthArray:null}}class KFe extends VFe{get text(){return this[jFe].native?this[jFe].native.text:null}get box(){return this[jFe].native?this[jFe].native.box:null}get subtext(){return this[jFe].native?this[jFe].native.subtext:null}get score(){return this[jFe].native?this[jFe].native.score:null}}class JFe extends VFe{get isComplete(){return this[jFe].native?this[jFe].native.isComplete:null}get label(){return this[jFe].native?this[jFe].native.label:null}get orientation(){return this[jFe].native?this[jFe].native.orientation:null}get box(){return this[jFe].native?this[jFe].native.box:null}get affineImgWidth(){return this[jFe].native?this[jFe].native.affineImgWidth:null}get affineImgHeight(){return this[jFe].native?this[jFe].native.affineImgHeight:null}get affineMat(){return this[jFe].native?this[jFe].native.affineMat:null}}class XFe extends VFe{get detectId(){return this[jFe].native?this[jFe].native.detectId:null}get origin(){if(!this[jFe].native||!this[jFe].native.origin)return null;var e=Array.from(this[jFe].native.origin);return{x:e[0],y:e[1]}}get confidence(){return this[jFe].native?this[jFe].native.confArray:null}get points3d(){return this[jFe].native?this[jFe].native.joints3d:null}get camExtArray(){return this[jFe].native?this[jFe].native.cameraExtrinsicArray:null}get camIntArray(){return this[jFe].native?this[jFe].native.cameraIntrinsicArray:null}}class YFe extends XFe{get points(){return this[jFe].native?this[jFe].native.points106:null}get angle(){return this[jFe].native?this[jFe].native.angleArray:null}}class QFe extends XFe{get points(){return this[jFe].native?this[jFe].native.pointsArray:null}get score(){return this[jFe].native?this[jFe].native.score:null}}class ZFe extends XFe{get points(){return this[jFe].native?this[jFe].native.pointsArray:null}get score(){return this[jFe].native?this[jFe].native.score:null}get gesture(){return this[jFe].native?this[jFe].native.gesture:null}}class eWe extends XFe{get points(){return this[jFe].native?this[jFe].native.pointsArray:null}get score(){return this[jFe].native?this[jFe].native.score:null}get shoedirec(){return this[jFe].native?this[jFe].native.shoedirec:null}}function tWe(e=0,t){if(!t)return null;if(FFe[e]||(FFe[e]={}),void 0===t.id)return console.error("[getAnchor] Declare native.id can not be undefined"),null;var r=FFe[e];if(r[t.id])return r[t.id];var n=null;return t.type===kFe.PLANE?n=new qFe(e,t):t.type===kFe.MARKER?n=new zFe(e,t):t.type===kFe.OSD?n=new GFe(e,t):t.type===kFe.FACE?n=new YFe(e,t):t.type===kFe.BODY?n=new QFe(e,t):t.type===kFe.OCR?n=new KFe(e,t):t.type===kFe.HAND?n=new ZFe(e,t):t.type===kFe.DEPTH?n=new HFe(e,t):t.type===kFe.SHOE?n=new eWe(e,t):t.type===kFe.IDCARD&&(n=new JFe(e,t)),r[t.id]=n,n}function rWe(e){return e[jFe].native}function nWe(e=0,t){WFe[e]||(WFe[e]={});var r=++UFe;return WFe[e][r]=t,r}function iWe(e=0){FFe[e]&&Object.keys(FFe[e]).forEach((t=>{var r=FFe[e][t];r&&r.destroy()}));FFe[e]={},WFe[e]={}}var aWe=PFe.VKCamera;class oWe{constructor(e){this[aWe]={native:e}}get transform(){return this[aWe].native?this[aWe].native.transform:null}get _transform(){return this[aWe].native?this[aWe].native.transform:null}get viewMatrix(){return this[aWe].native?this[aWe].native.viewMatrix:null}get intrinsics(){return this[aWe].native?this[aWe].native.intrinsics:null}destroy(){this[aWe].native=null}getProjectionMatrix(e,t){return this[aWe].native?this[aWe].native.getProjectionMatrix(e,t):null}}var sWe=PFe.VKLightEstimate;class lWe{constructor(e){this[sWe]={native:e}}get ambientIndensity(){return this[sWe].native?this[sWe].native.ambient_indensity:null}destroy(){this[sWe].native=null}}var cWe=PFe.VKFrame,uWe=PFe.VKSession,dWe=!0,pWe=!1;function hWe(){pWe=!0}class fWe{constructor(e=0,t,r){this[cWe]={webviewId:e,native:t,session:r,camera:null,lightEstimate:null},Ie&&!pWe&&hWe()}get timestamp(){return this[cWe].native?this[cWe].native.timestamp:null}get camera(){if(!this[cWe].native)return null;if(!this[cWe].camera){var e=this[cWe].native.camera;this[cWe].camera=new oWe(e)}return this[cWe].camera}get lightEstimate(){if(!this[cWe].native)return null;if(!this[cWe].lightEstimate){var e=this[cWe].native.lightEstimate;this[cWe].lightEstimate=new lWe(e)}return this[cWe].lightEstimate}destroy(){this[cWe].native=null,this[cWe].camera&&(this[cWe].camera.destroy(),this[cWe].camera=null),this[cWe].lightEstimate&&(this[cWe].lightEstimate.destroy(),this[cWe].lightEstimate=null),this[cWe].session=null}getCameraRawTextureData(e="yuv"){if("yuv"===e)return this[cWe].native.getCameraYUVBuffer()}getCameraBuffer(e,t){if(!e||!t||!this[cWe].native)return null;if(e%16==0){if(this[cWe].session[uWe].options.gl)return this[cWe].native.getCameraBuffer(e,t)}else console.error("getCameraBuffer fail: invalid parameter, the width needs to be an integer multiple of 16. width 需要是 16 的整数倍")}getCameraJpgBuffer(e,t,r){return this[cWe].native&&this[cWe].session?this[cWe].native.getCamerajpgBuffer(e,t,r):null}getDepthBuffer(){return this[cWe].native&&this[cWe].session?this[cWe].native.getDepthBuffer():null}getDepthTexture(e){if(!this[cWe].native||!this[cWe].session)return null;var t=this[cWe].session;if(!(e=e||t[uWe].options.gl))return null;var r=t[uWe].depthTexture;r||(r=e.createTexture());var n=this[cWe].native.getDepthBuffer();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(n.DepthAddress)),t[uWe].depthTexture=r,r._gl=e,e.bindTexture(e.TEXTURE_2D,null),r}getLegSegmentBuffer(){return this[cWe].native&&this[cWe].session?this[cWe].native.getLegSegmentBuffer():null}getCameraTexture(e,t="yuv"){if(!this[cWe].native||!this[cWe].session)return null;"string"==typeof e&&(t=e,e=null);var r=this[cWe].session;if(!(e=e||r[uWe].options.gl))return null;if("yuv"===t){var n,i=r[uWe].yTexture,a=r[uWe].uvTexture,o=!1,s=e.getExtension("WECHAT_ext_texture");if(Ie&&s){var l=s.createYUVTexture("magicar",0);l&&(o=!0,i&&e.deleteTexture(i),a&&e.deleteTexture(a),i=l.yTexture,a=l.uvTexture)}return i||(i=e.createTexture()),a||(a=e.createTexture()),Ie&&dWe&&!s&&(o=this[cWe].native.updateCameraYUVTextureIOS(i,a,e)),o||(n=this[cWe].native.getCameraYUVBuffer()),e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,n.width,n.height,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8Array(n.yAddress)),r[uWe].yTexture=i,i._gl=e,e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE_ALPHA,n.width/2,n.height/2,0,e.LUMINANCE_ALPHA,e.UNSIGNED_BYTE,new Uint8Array(n.uvAddress)),r[uWe].uvTexture=a,a._gl=e,e.bindTexture(e.TEXTURE_2D,null),{yTexture:i,uvTexture:a}}return null}getDisplayTransform(){return this[cWe].native?this[cWe].native.getDisplayTransform():null}getAllAnchors(){}}var gWe={},vWe=[],mWe=null;function yWe(e=0){return gWe[e]}function bWe(e=0,t){gWe[e]=t}function _We(e=0){gWe[e]=null}function wWe(e=0){if(mWe){var t=yWe(mWe);t&&t.stop()}mWe=e}function SWe(e=0){mWe===e&&(mWe=null)}function CWe(e=0){mWe===e&&(mWe=null),_We(e)}function kWe(){return mWe}function IWe(e=0){return-1!==vWe.indexOf(e)}function PWe(e=0){var t=yWe(e);t&&(t.stop(),IWe(e)||vWe.push(e))}function AWe(e=0){var t=yWe(e);if(t&&(t.start(),IWe(e))){var r=vWe.indexOf(e);vWe.splice(r,1)}}var xWe=Nz(),TWe=e=>setTimeout(e,0,1e3*xWe.since()),EWe=e=>clearTimeout(e),MWe=null;Ie&&!Ue()?(MWe||(MWe=O6()),TWe=e=>MWe.requestAnimationFrame(e),EWe=e=>MWe.cancelAnimationFrame(e)):ke||Ue()?(TWe=e=>xf.requestAnimationFrame(e),EWe=e=>xf.cancelAnimationFrame(e)):Ce&&(TWe=e=>window.requestAnimationFrame((()=>e(1e3*xWe.since()))),EWe=e=>window.cancelAnimationFrame(e));var RWe=PFe.VKSession,OWe=function(){};class DWe{constructor(e=0,t={},r=""){this[RWe]={webviewId:e,pluginId:r,native:null,options:t,version:t.version||xFe.V1,implType:AFe.WEVISION,lastFrame:null,eventMap:{},trigger:(e,t=[])=>{var r=this[RWe].eventMap[e];r&&r.length&&r.forEach((r=>{x.surroundThirdByTryCatch(r,`at VKSession's ${e} handler`)(...t)}))},commonCmd:(e,...t)=>{this[RWe].native.commonCmd(JSON.stringify(e),...t)},yTexture:null,uvTexture:null,rgbaTexture:null}}get state(){return this[RWe].native?this[RWe].native.state:CFe.UNAVAILABLE}get cameraSize(){return this[RWe].native?this[RWe].native.getCameraSize():null}get config(){return this[RWe].native?this[RWe].native.config:null}set config(e){this[RWe].native.config=e}get version(){return this[RWe].version}get requestAnimationFrame(){return this[RWe].native?TWe:OWe}get cancelAnimationFrame(){return this[RWe].native?EWe:OWe}static isSupport(e){return!Ce&&(e===xFe.V2?(t=AFe.WEVISION_VIO,xf.ARSession.isSupportARImplType(t)):e===xFe.V1||void 0);var t}start(e){var t=this;return xd()((function*(){if("function"!=typeof e&&(e=OWe),t.state===CFe.RUNNING)return e(null);var r=yield V3("VKSession.start").catch((e=>({success:!0})));if(r.success){var n=t[RWe].options,i=n.track||{},a=t[RWe].version;if(!(DWe.isSupport(a)||i.plane&&i.plane.force))return console.error(`VKSession.start:fail The current device does not support version "${a}"`),void e(_Fe.DEVICE_NOT_SUPPORTED);if(t[RWe].native){wWe(t[RWe].webviewId);var o=t[RWe].native.start();o===_Fe.SUCCESS?e(null):e(SFe[o])}else{if(i.plane?i.plane&&"number"==typeof i.plane.mode&&(i.plane.mode=i.plane.mode<<1):i.plane={mode:2},n.track=i,t[RWe].version===xFe.V2)if(i.depth)n.arImplType=AFe.WEVISION_VIO_DEPTH;else if(Ie){2===i.plane.mode||1===Number(re.expt&&re.expt.clicfg_appbrand_ios_arkit2wevision_usevertialplane)?n.arImplType=AFe.WEVISION_VIO:n.arImplType=AFe.ARKIT}else i.plane.force?n.arImplType=AFe.WEVISION_VIO_DEFAULT:n.arImplType=AFe.WEVISION_VIO;if(n.forbidCamera=!1,i.threeDof)n.arImplType=AFe.WEVISION_3DOF;else if(i.OSD)n.arImplType=AFe.WEVISION_OSD;else if(i.face&&i.face.mode>0){n.arImplType=AFe.WEVISION_FACE;var s="object"==typeof i.face?i.face:{};n.forbidCamera=2===s.mode}else if(i.body&&i.body.mode>0){n.arImplType=AFe.WEVISION_BODY;var l="object"==typeof i.body?i.body:{};n.forbidCamera=2===l.mode}else if(i.hand&&i.hand.mode>0){n.arImplType=AFe.WEVISION_HAND;var c="object"==typeof i.hand?i.hand:{};n.forbidCamera=2===c.mode}else if(i.OCR){var u="object"==typeof i.OCR?i.OCR:{};n.arImplType=AFe.WEVISION_OCR,n.forbidCamera=2===u.mode}else if(i.IDCard){var d="object"==typeof i.IDCard?i.IDCard:{};n.arImplType=AFe.WEVISION_OCR,n.forbidCamera=2===d.mode}else if(i.shoe){var p="object"==typeof i.shoe?i.shoe:{};n.arImplType=AFe.WEVISION_SHOE,n.forbidCamera=2===p.mode}else t[RWe].version===xFe.V1&&(i.marker?n.arImplType=AFe.WEVISION_MARKER:i.depth&&(n.arImplType=AFe.WEVISION_MONODEPTH));if(i.depth){var h="object"==typeof i.depth?i.depth:{};n.forbidCamera=2===h.mode}t[RWe].implType=n.arImplType;var f=e=>e.map((e=>tWe(t[RWe].webviewId,e))).filter((e=>!!e)),g=()=>{if(!xf.ARSession)return e(_Fe.DEVICE_NOT_SUPPORTED);xf.ARSession.create(n,$E((r=>{if("number"==typeof r){var n=SFe[r]||_Fe.SYSTEM_ERROR;return ke&&n===_Fe.NO_SYSTEM_CAMERA_ACCESS?void RW({title:"相机权限未开启",content:"请前往“设置>应用>微信>权限”中允许微信访问你的摄像头和麦克风。",confirmText:"前往设置",cancelText:"我知道了",success:t=>{t.confirm&&Mw(),e(n)}}):e(n)}r.onEvent(IFe.ON_ADD_ANCHORS,(e=>t[RWe].trigger("addAnchors",[f(e)]))),r.onEvent(IFe.ON_UPDATE_ANCHORS,(e=>{t[RWe].trigger("updateAnchors",[f(e)])})),r.onEvent(IFe.ON_REMOVE_ANCHORS,(e=>t[RWe].trigger("removeAnchors",[f(e)]))),r.onEvent(IFe.FRAME_SIZE_CHANGED,(()=>t[RWe].trigger("resize"))),t[RWe].native=r,wWe(t[RWe].webviewId);var i=r.start();return i===_Fe.SUCCESS?(e(null),md("notifyCameraMessage",{open:!0}),Eoe(t[RWe].pluginId,"VKSession.start")):e(SFe[i]),null}),"ARSession.create.1"),$E((e=>{"string"==typeof e&&(e=JSON.parse(e));var r=e.event,n=e.params;switch(r){case"onAddFaceAnchor":case"onAddBodyAnchor":case"onAddOCRAnchor":case"onAddIDcardAnchor":case"onAddHandAnchor":case"onAddDepthAnchor":case"onAddShoeAnchor":var i=n.anchors;t[RWe].trigger("addAnchors",[f(i)]);break;case"onUpdateFaceAnchor":case"onUpdateBodyAnchor":case"onUpdateOCRAnchor":case"onUpdateIDcardAnchor":case"onUpdateHandAnchor":case"onUpdateDepthAnchor":case"onUpdateShoeAnchor":var a=n.anchors;t[RWe].trigger("updateAnchors",[f(a)]);break;case"onRemoveFaceAnchor":case"onRemoveBodyAnchor":case"onRemoveHandAnchor":case"onRemoveOCRAnchor":case"onRemoveIDcardAnchor":case"onRemoveDepthAnchor":case"onRemoveShoeAnchor":var o=n.anchors;t[RWe].trigger("removeAnchors",[f(o)])}}),"ARSession.create.2"))};if(n.forbidCamera||p2(["scope.camera"]))g();else d9(t[RWe].pluginId,!0)({scope:"scope.camera",success:g,fail:()=>{e(_Fe.NO_MINIPROGRAM_CAMERA_ACCESS)}})}return null}e(r.errno)}))()}stop(){this[RWe].native&&this.state!==CFe.PAUSE&&(this[RWe].native.stop(),md("notifyCameraMessage",{open:!1}),SWe(this[RWe].webviewId))}destroy(){this[RWe].native&&(this[RWe].native.destroy(),md("notifyCameraMessage",{open:!1}),iWe(this[RWe].webviewId),NFe(this[RWe].webviewId),CWe(this[RWe].webviewId),this[RWe].native=null,this[RWe].lastFrame&&(this[RWe].lastFrame.destroy(),this[RWe].lastFrame=null),this[RWe].eventMap=null,["yTexture","uvTexture","rgbaTexture"].forEach((e=>{var t=this[RWe][e];if(t&&t._gl){var r=t._gl;t._gl=null,r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(t)}this[RWe][e]=null})))}getVKFrame(e,t){if(!this[RWe].native)return null;iWe(this[RWe].webviewId);var r=this[RWe].native.getARFrame(e,t);if(r){var n=new fWe(this[RWe].webviewId,r,this);return this[RWe].lastFrame&&(this[RWe].lastFrame.destroy(),this[RWe].lastFrame=null),this[RWe].lastFrame=n,n}return null}removeAnchor(e){if(this[RWe].native){var t=rWe(e);this[RWe].native.removeAnchor(t)}}hitTest(e,t,r=!0){if(!this[RWe].native)return null;var n=this[RWe].native.hitTest(e,t,r);return n?n.map((e=>({anchor:tWe(this[RWe].webviewId,e.anchor),transform:e.transform}))):[]}addMarker(e){var t,r;if(!0!==(null===(t=this[RWe].options)||void 0===t||null===(r=t.track)||void 0===r?void 0:r.marker))return console.error("[VKSession.addMarker] Declare track.marker as true when invoke createVKSession and then call addMarker"),null;if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_MARKER&&this[RWe].implType!==AFe.WEVISION_VIO)return console.error("native is null, implType is not wevision marker or wevision vio"),null;if(!e||"string"!=typeof e)return console.error("[VKSession.addMarker] invalid path"),null;var n=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|usr|store)\//.test(e)||(e=dp(uu.lastRoute,e,!1));var i=nWe(this[RWe].webviewId,n);return this[RWe].native.addARMarker(i,e),i}removeMarker(e){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_MARKER&&this[RWe].implType!==AFe.WEVISION_VIO)return null;this[RWe].native.removeARMarker(e)}getAllMarker(){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_MARKER&&this[RWe].implType!==AFe.WEVISION_VIO)return null;var e=this[RWe].native.getAllARMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}addOSDMarker(e){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_OSD)return null;if(!e||"string"!=typeof e)return console.error("[VKSession.addOSDMarker] invalid path"),null;var t=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|usr|store)\//.test(e)||(e=dp(uu.lastRoute,e,!1));var r=nWe(this[RWe].webviewId,t);return this[RWe].native.addOSDMarker(r,e),r}removeOSDMarker(e){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_OSD)return null;this[RWe].native.removeOSDMarker(e)}getAllOSDMarker(){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_OSD)return null;var e=this[RWe].native.getAllOSDMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}update3DMode({open3d:e=!1}={}){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_FACE&&this[RWe].implType!==AFe.WEVISION_BODY&&this[RWe].implType!==AFe.WEVISION_HAND)return null;this[RWe].native.update3DMode(e)}updateMaskMode({useMask:e=!1}={}){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_SHOE)return null;this[RWe].native.updateMaskMode(e)}updateOSDThreshold(e){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_OSD)return null;this[RWe].native.updateOSDThreshold(e)}setDepthSwitch(e){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_VIO)return null;this[RWe].native.setDepthSwitch(e)}setDepthOccRange(e=.01,t=10){if(!this[RWe].native)return null;this[RWe].native.setDepthOccRange(e,t)}detectDepth({frameBuffer:e,width:t,height:r}={}){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_MONODEPTH)return null;var n="number"==typeof t&&!Number.isInteger(t),i="number"==typeof r&&!Number.isInteger(r);(n||i)&&(console.error("[VKSession.detectDepth] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[RWe].commonCmd({action:"runDepth",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}runOCR({frameBuffer:e,width:t,height:r}={}){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_OCR)return null;var n="number"==typeof t&&!Number.isInteger(t),i="number"==typeof r&&!Number.isInteger(r);(n||i)&&(console.error("[VKSession.runOCR] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[RWe].commonCmd({action:"runOCR",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}detectIDCard({frameBuffer:e,width:t,height:r,getAffineImg:n}={}){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_OCR)return null;var i="number"==typeof t&&!Number.isInteger(t),a="number"==typeof r&&!Number.isInteger(r);(i||a)&&(console.error("[VKSession.detectIDCard] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[RWe].commonCmd({action:"IDcardDetection",params:{imagePath:0,imageWidth:t,imageHeight:r,getAffineImg:n}},e)}detectFace({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:i,modelMode:a=1,open3d:o=!1}={}){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_FACE)return null;var s="number"==typeof t&&!Number.isInteger(t),l="number"==typeof r&&!Number.isInteger(r);(s||l)&&(console.error("[VKSession.detectFace] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[RWe].commonCmd({action:"detectFace",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:i,modelMode:a,open3d:o}},e)}detectBody({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:i,open3d:a=!1}={}){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_BODY)return null;var o="number"==typeof t&&!Number.isInteger(t),s="number"==typeof r&&!Number.isInteger(r);(o||s)&&(console.error("[VKSession.detectBody] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[RWe].commonCmd({action:"detectBody",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:i,open3d:a}},e)}detectHand({frameBuffer:e,width:t,height:r,scoreThreshold:n,algoMode:i,open3d:a=!1}={}){if(!this[RWe].native||this[RWe].implType!==AFe.WEVISION_HAND)return null;var o="number"==typeof t&&!Number.isInteger(t),s="number"==typeof r&&!Number.isInteger(r);(o||s)&&(console.error("[VKSession.detectHand] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[RWe].commonCmd({action:"runHand",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,algoMode:i,open3d:a}},e)}on(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[RWe].eventMap;if(r){var n=r[e]=r[e]||[];-1===n.indexOf(t)&&n.push(t)}}}off(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[RWe].eventMap;if(r){var n=r[e]=r[e]||[],i=n.indexOf(t);i>=0&&n.splice(i,1)}}}}function LWe(e){var t=kWe();t!==e&&PWe(t)}function NWe(e){IWe(e)&&AWe(e)}function BWe(e={}){var t=Wh(this),r=uu.currentWebviewId,n=yWe(r),i=e.version||xFe.V1,a=e.track||{};return DWe.isSupport(i)||a.plane&&a.plane.force||console.error(`createVKSession:fail The current device does not support version "${i}"`),Ue()?n=new DWe(r,e,t):n||bWe(r,n=new DWe(r,e,t)),n}function $We(e={}){var t=uu.currentWebviewId,{type:r,config:n={}}=e,i=null;return"image"===r?i=new xf.ARImageReference(n):"object"===r&&(i=new xf.ARObjectReference(n)),DFe(t,i)}function jWe(e){return DWe.isSupport(e)}GC((()=>{NWe(uu.currentWebviewId)})),nk((()=>LWe())),RC((e=>{var t=e.webviewId;LWe(t),NWe(t),XM(t,(()=>{var e=yWe(t);e&&e.destroy(),iWe(t),NFe(t)}),"AR")}));var FWe=1;re.onReady((()=>{try{"number"==typeof re.wxAppInfo.maxWorkerConcurrent&&(FWe=re.wxAppInfo.maxWorkerConcurrent)}catch(e){}}));var WWe=function(e,t={}){var{useExperimentalWorker:r}=t,n={workerUrl:e,appid:re.accountInfo.appId,useExperimentalWorker:r&&Cf("WeAppWorker")},i="workers.js",a=g9.service,o=Wh(this);if(o&&(i=hp(o,"workers.js"),a=g9.plugin,n.pluginId=o),y9.getSizeByType(a)>=FWe)throw new Error("createWorker: exceed max concurrent workers limit.");var s=i;r||(i=R9()&&!Te?void 0:i);var{workerId:l,useWKWorker:c}=k.create(i,n);if(setTimeout((()=>{T.reportIDKey({key:c?"createWKWorker":"createNormalWorker"})}),0),l>0)return new Y9(l,e,{useWKWorker:c,contextType:a,pluginId:n.pluginId,injectFilePath:s});throw-1===l?new Error(`createWorker: Worker "${e}" does not exists.`):new Error("createWorker: unknown error.")},UWe=(e,t)=>{var r;return"string"!=typeof e?r=new Error(`${t}: first argument must be a string`):/^(wxfile|https?):/.test(e)?r=new Error(`${t}: not support wxfile: or http: path`):/\.wasm(\.br)?$/.test(e)||(r=new Error(`${t}: only support file type .wasm or .wasm.br`)),r},VWe=e=>Cf("allowBufferWASM")&&e_(e,"allowBufferWASM"),qWe=(e,t,r)=>{var n;return e.startsWith("wxfile://")?VWe(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(n=new Error(`${r}: not support wxfile: or http: path`)):-1!==e.indexOf(`__plugin__/${t}/`)||(e=hp(t,e)),{error:n,finalFile:e}},zWe={},GWe=!1;function HWe(){if(!GWe)throw new Error("WebAssembly not ready")}var KWe=new Proxy({},{get:(e,t,r)=>(HWe(),Reflect.get(e,t,r))});g.onLoad((()=>{GWe=!0;var e=globalThis;void 0!==xf.WebAssembly?zWe=xf.WebAssembly:void 0!==e.WebAssembly&&(zWe=e.WebAssembly);try{e.WebAssembly&&delete e.WebAssembly}catch(e){}var t={Table:zWe.Table,Memory:zWe.Memory,Global:zWe.Global,Instance:zWe.Instance,compile:zWe.compile,compileStreaming:zWe.compileStreaming,instantiateStreaming:zWe.instantiateStreaming,validate:zWe.validate,CompileError:zWe.CompileError,LinkError:zWe.LinkError,Module:zWe.Module,RuntimeError:zWe.RuntimeError,instantiate:(e,t,r)=>Promise.resolve(zWe.instantiate(e,t,r))};Object.assign(KWe,t)}));var JWe=()=>(HWe(),zWe),XWe="weapp://wechat-game-runtime";function YWe(e={}){var{filePath:t,encoding:r,success:n,fail:i,complete:a}=e;return fetch(`${XWe}/wxfs/${btoa(t)}`,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({filePath:t})}).then((e=>"string"==typeof r?e.text():e.arrayBuffer())).then((e=>{"function"==typeof n&&n({data:e,errMsg:"readFileXhr:ok"}),"function"==typeof a&&a({data:e,errMsg:"readFileXhr:ok"})})).catch((e=>{e.errMsg=`readFileXhr:fail ${e.message}`,"function"==typeof i&&i(e),"function"==typeof a&&a(e)}))}function QWe({filePath:e,encoding:t}){var r=new XMLHttpRequest;return r.open("POST",`${XWe}/wxfs/${btoa(e)}`,!1),r.setRequestHeader("content-type","application/json"),r.responseType="string"==typeof t?"text":"arraybuffer",r.send(JSON.stringify({})),"string"==typeof t?r.responseText:r.response}var ZWe=new WeakMap,eUe={},tUe=e=>ZWe.get(e),rUe=e=>{if(eUe[e])return eUe[e];class t{constructor(t){if(void 0===t)return this;var r,n=JWe();if(e)if(VWe(e)){if(At(t)||Tt(t)){var i=new n.Module(t);return i&&ZWe.set(this,i),this}}else{t=`${t}`;var{error:a,finalFile:o}=qWe(t,e,"WXWebAssembly.Module");if(a)throw a;t=o}else r=UWe(t=`${t}`,"WXWebAssembly.Module");if(r)throw r;if(Be){var s=QWe({filePath:t}),l=new n.Module(s);l&&ZWe.set(this,l)}else{var c,u;/\.br$/.test(t)?(c=pg,u={filePath:t,compressionAlgorithm:"br"}):(c=$f,u=t);var d=c(u),p=new n.Module(d);p&&ZWe.set(this,p)}return this}static customSections(e,t){return JWe().Module.customSections(tUe(e),t)}static exports(e){return JWe().Module.exports(tUe(e))}static imports(e){return JWe().Module.imports(tUe(e))}}return eUe[e]=t,t},nUe=(e,t)=>{var r=new(rUe(t));return ZWe.set(r,e),r},iUe=(e,t,r,n)=>{var i=JWe(),a=/\.br$/.test(e)?dg:Bf;return new Promise(((o,s)=>{a({compressionAlgorithm:"br",filePath:e,success(e){i.instantiate(e.data,t).then($E((e=>{r(!0,e);var t=Object.assign({},e);t.module&&(t.module=nUe(e.module,n)),o(t)}),"wasm.instantiate.then"),$E((e=>{r(!1,e),s(e)}),"wasm.instantiate.catch"))},fail({errMsg:e}){var t=new Error(e.replace(/^\w+:fail\s*/,""));r(!1,t,!Be),s(t)}})}))},aUe=(e,t,r)=>{var n=JWe();if(tUe(e))return n.instantiate(tUe(e),t);var i,a=dO("instantiate",{file:e=`${e}`,imports:t},!1,!1);if(r&&VWe(r)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(i=UWe(e,"WXWebAssembly.instantiate")),i)return a(!1,i,!0),Promise.reject(i);if(Be||"string"==typeof e&&e.startsWith("wxfile://"))return iUe(e,t,a,r);if(Ie||ke){var o=n.instantiate(e,t);return a(!0,o,!0),Promise.resolve(o).then($E((e=>{var t=Object.assign({},e);return t.module&&(t.module=nUe(e.module,r)),t}),"wasm.instantiate.then.2"))}return iUe(e,t,a,r)},oUe=(e,t)=>{var r,n,i=JWe();/\.br$/.test(e)?(r=pg,n={filePath:e,compressionAlgorithm:"br"}):(r=$f,n=e);var a=r(n);return new i.Instance(new i.Module(a),t)},sUe=(e,t,r)=>{var n=JWe();if(tUe(e))return new n.Instance(tUe(e),t);var i,a=dO("Instance",{file:e=`${e}`,imports:t},!1,!1);if(r&&VWe(r)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(i=UWe(e,"WXWebAssembly.Instance")),i)throw a(!1,i,!0),i;return Be||"string"==typeof e&&e.startsWith("wxfile://")?oUe(e,t):Ie||ke?new n.Instance(e,t):oUe(e,t)};function lUe(e,t){var r,n=JWe();if(t&&VWe(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(r=UWe(e,"WXWebAssembly.compile")),r)return Promise.reject(r);if(Be)return new Promise(((r,i)=>{YWe({filePath:e,success(e){n.compile(e.data).then($E((e=>{e=nUe(e,t),r(e)}),"wasm.compile.then.1")).catch((e=>i(e)))},fail({errMsg:e}){i(new Error(e.replace(/^\w+:fail\s*/,"")))}})}));var i=/\.br$/.test(e)?dg:Bf;return new Promise(((r,a)=>{i({compressionAlgorithm:"br",filePath:e,success(e){n.compile(e.data).then($E((e=>{e=nUe(e,t),r(e)}),"wasm.compile.then.2")).catch((e=>a(e)))},fail({errMsg:e}){a(new Error(e.replace(/^\w+:fail\s*/,"")))}})}))}var cUe=e=>{var t=JWe(),r={Table:t.Table,Memory:t.Memory,Global:t.Global,Instance:function(t,r={}){if(tUe(t))return sUe(t,r,e);t=`${t}`;var{error:n,finalFile:i}=qWe(t,e,"WXWebAssembly.Instance");if(n)throw n;return sUe(i,r,e)},instantiate(t,r={}){if(tUe(t))return aUe(t,r,e);t=`${t}`;var{error:n,finalFile:i}=qWe(t,e,"WXWebAssembly.instantiate");return n?Promise.reject(n):aUe(i,r,e)}};return t.compile&&(r.compile=t=>{t=`${t}`;var{error:r,finalFile:n}=qWe(t,e,"WXWebAssembly.compile");if(r)throw Promise.reject(r);return lUe(n,e)}),t.Module&&(r.Module=rUe(e)),r},uUe=()=>{var e=JWe(),t={Table:e.Table,Memory:e.Memory,Global:e.Global,Instance:function(e,t={}){return sUe(e,t,void 0)},instantiate:(e,t={})=>aUe(e,t,void 0)};return e.compile&&(t.compile=e=>lUe(e)),e.Module&&(t.Module=rUe()),t},dUe=null,pUe=({provider:e}={})=>e?cUe(e):(dUe||(dUe=uUe()),dUe);function hUe(e={}){Oe?zc("initFaceDetect",e,"initFaceDetect:fail SDK暂不支持此API"):(console.warn("wx.initFaceDetect 即将废弃，请使用 wx.createVKSession"),md("faceProcessInit",e,{beforeFail:e=>{var t=vUe(e.errCode),r=mUe(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"initFaceDetect:$2")}}))}function fUe(e={}){console.warn("wx.faceDetect 即将废弃，请使用 wx.createVKSession"),Oe?zc("faceDetect",e,"faceDetect:fail SDK暂不支持此API"):md("faceDetect",e,{beforeFail(e){var t=vUe(e.errCode),r=mUe(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"faceDetect:$2")}})}function gUe(e={}){Oe?zc("stopFaceDetect",e,"stopFaceDetect:fail SDK暂不支持此API"):(console.warn("wx.stopFaceDetect 即将废弃，请使用 wx.createVKSession"),md("faceProcessStop",e,{beforeFail:e=>{var t=vUe(e.errCode),r=mUe(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"stopFaceDetect:$2")}}))}function vUe(e){switch(e){case 0:return kn;case 1:case 3:return Sc;case 2:return Cc;case 5:return Ic;case 6:return Pc;case 4:case 7:return wc}}function mUe(e){switch(e){case 1:case 3:return"faceDetect:fail face detection does not initialize";case 2:return"faceDetect:fail face detection has duplicated initialization";case 5:return"faceDetect:fail face not detected or detection failed";case 6:return"faceDetect:fail stop face detection failed";default:return"faceDetect:fail unknown error"}}var yUe=e=>{md("nativeWXPayCgiTunnel",e)},bUe=O$,_Ue=G$,wUe=K$,SUe=Y$,CUe=X$,kUe=J$,IUe=e1,PUe=t1,AUe=Qie,xUe=cae,TUe=iae,EUe=uae,MUe=Zie,RUe=HIe,OUe=KIe,DUe=GIe,LUe=CIe,NUe=kIe,BUe=BIe,$Ue=$Ie,jUe=jIe,FUe=Mxe,WUe=sPe,UUe=lPe,VUe=cPe,qUe=uPe,zUe=dPe,GUe=hPe,HUe=fPe,KUe=gPe,JUe=qW,XUe=HW,YUe=KW,QUe=OW,ZUe=JW,eVe=zF,tVe=HF,rVe=KF,nVe=QF,iVe=ZF,aVe=tW,oVe=rW,sVe=uie,lVe=pie,cVe=hie,uVe=mie,dVe=kae,pVe=BM,hVe=jM,fVe=EM,gVe=WM,vVe=FM,mVe=Dne,yVe={getAccountInfoSync:nBe,request:iNe.request,uploadFile:iNe.uploadFile,downloadFile:iNe.downloadFile,connectSocket:iNe.connectSocket,getStorage:XNe.getStorage,getStorageSync:XNe.getStorageSync,removeStorage:XNe.removeStorage,removeStorageSync:XNe.removeStorageSync,setStorage:XNe.setStorage,setStorageSync:XNe.setStorageSync,createAudioContext:QNe.createAudioContext,createCameraContext:QNe.createCameraContext,createMapContext:QNe.createMapContext,createVideoContext:QNe.createVideoContext,createInnerAudioContext:QNe.createInnerAudioContext,createLivePlayerContext:QNe.createLivePlayerContext,createLivePusherContext:QNe.createLivePusherContext,createSelectorQuery:iBe,createIntersectionObserver:aBe,createMediaQueryObserver:oBe,nextTick:sBe,createCanvasContext:rBe.createCanvasContext,createOffscreenCanvas:rBe.createOffscreenCanvas,drawCanvas:rBe.drawCanvas,canvasToTempFilePath:rBe.canvasToTempFilePath,canvasGetImageData:rBe.canvasGetImageData,canvasPutImageData:rBe.canvasPutImageData,createAnimation:GU,reportAnalytics:dBe,reportPrivatePlugin:uBe,chooseImage:AUe,previewImage:xUe,getImageInfo(e){return TUe(e,iNe.downloadFile.bind(this))},saveImageToPhotosAlbum:EUe,compressImage:MUe,chooseMedia:MPe,startRecord:RUe,stopRecord:OUe,getRecorderManager:DUe,playVoice:BUe,pauseVoice:$Ue,stopVoice:jUe,getBackgroundAudioManager:oPe,setInnerAudioOption:Kue,chooseVideo:LUe,saveVideoToPhotosAlbum:NUe,createMediaContainer:VPe,createMediaRecorder:xAe,createVideoDecoder:oAe,createMediaAudioPlayer:PPe,createWorker:WWe,getLocation:kSe,getFuzzyLocation:KSe,onLocationChange:TSe,offLocationChange:ESe,onLocationChangeError:OSe,offLocationChangeError:DSe,startLocationUpdate:USe,stopLocationUpdate:VSe,getNetworkType:Py,onNetworkStatusChange:Ay,offNetworkStatusChange:xy,onNetworkWeakChange:Ty,offNetworkWeakChange:Ey,getSystemInfo:Aw,getSystemInfoSync:ww,startAccelerometer:exe,stopAccelerometer:txe,onAccelerometerChange:ixe,offAccelerometerChange:nxe,startCompass:sxe,stopCompass:lxe,onCompassChange:dxe,offCompassChange:uxe,getClipboardData:_xe,setClipboardData:wxe,makePhoneCall:pxe,makeVoIPCall:hxe,startGyroscope:DMe,stopGyroscope:LMe,onGyroscopeChange:NMe,offGyroscopeChange:BMe,startDeviceMotionListening:jMe,stopDeviceMotionListening:FMe,onDeviceMotionChange:WMe,offDeviceMotionChange:UMe,scanCode:fxe,scanItem:yxe,makeBluetoothPair:iEe,isBluetoothDevicePaired:aEe,openBluetoothAdapter:Nxe,closeBluetoothAdapter:Gxe,getBluetoothAdapterState:Hxe,onBluetoothAdapterStateChange:jpe,offBluetoothAdapterStateChange:Fpe,startBluetoothDevicesDiscovery:Kxe,stopBluetoothDevicesDiscovery:Jxe,getBluetoothDevices:Xxe,getConnectedBluetoothDevices:Qxe,createBLEConnection:yTe,closeBLEConnection:bTe,getBLEDeviceServices:_Te,getBLEDeviceCharacteristics:wTe,getBLEDeviceRSSI:Yxe,setBLEMTU:oEe,getBLEMTU:pEe,notifyBLECharacteristicValueChanged:STe,notifyBLECharacteristicValueChange:CTe,readBLECharacteristicValue:kTe,writeBLECharacteristicValue:ITe,onBluetoothDeviceFound:MTe,offBluetoothDeviceFound:RTe,onBLEConnectionStateChanged:ATe,offBLEConnectionStateChanged:xTe,onBLEConnectionStateChange:Lpe,offBLEConnectionStateChange:Npe,onBLECharacteristicValueChange:TTe,offBLECharacteristicValueChange:ETe,onBLEMTUChange:uEe,offBLEMTUChange:dEe,createBLEPeripheralServer:eEe,onBLEPeripheralConnectionStateChanged:rEe,offBLEPeripheralConnectionStateChanged:nEe,getHCEState:zEe,startHCE:GEe,stopHCE:HEe,sendHCEMessage:KEe,onHCEMessage:JEe,offHCEMessage:XEe,getNFCAdapter:yMe,startBeaconDiscovery:Sxe,stopBeaconDiscovery:Cxe,getBeacons:kxe,onBeaconUpdate:Ixe,offBeaconUpdate:Pxe,onBeaconServiceChange:Axe,offBeaconServiceChange:xxe,startWifi:AEe,stopWifi:xEe,getWifiList:TEe,getConnectedWifi:MEe,connectWifi:REe,presetWifiList:OEe,setWifiList:DEe,onGetWifiList:LEe,onWifiConnected:BEe,offGetWifiList:NEe,offWifiConnected:$Ee,onEvaluateWifi:WEe,onWifiConnectedWithPartialInfo:VEe,offWifiConnectedWithPartialInfo:qEe,addPhoneCalendar:GMe,addPhoneRepeatCalendar:HMe,getRandomValues:bFe,captureScreen:bUe,onUserCaptureScreen:_Ue,offUserCaptureScreen:wUe,setKeepScreenOn:SUe,getScreenRecordingState:tj,setScreenBrightness:CUe,getScreenBrightness:kUe,vibrateShort:IUe,vibrateLong:PUe,addPhoneContact:FUe,login:A$e,pluginLogin:T$e,getUserInfo:x$e,getNativeUserInfo:P$e,openSetting:fP,getSetting:E$e,operateWXData:ONe,requestPluginPayment:Gne,requestFacetoFacePayment:_re,requestPersonalPay:Ere,secureTunnel:xA,nativeWXPayCgiTunnel:yUe,openEmbeddedMiniProgram:Rhe,showModal:QUe,showToast:R$e,hideToast:JUe,showLoading:XUe,hideLoading:YUe,showActionSheet:ZUe,pageScrollTo:OU,setPageStyle:$U,setPageOrientation:pV,startPullDownRefresh:DU,stopPullDownRefresh:LU,setNavigationBarTitle:eVe,showNavigationBarLoading:tVe,hideNavigationBarLoading:rVe,setNavigationBarColor:nVe,setNavigationBarAlpha:iVe,setBackgroundColor:fV,setBackgroundTextStyle:gV,setNavigationBarRightButton:aVe,onTapNavigationBarRightButton:oVe,getShareInfo:sVe,showShareMenu:lVe,hideShareMenu:cVe,updateShareMenu:uVe,showShareImageMenu(e){var t=Wh(this);return dVe(e,{pluginId:t})},setBackgroundColor:fV,setBackgroundTextStyle:gV,navigateTo:pVe,redirectTo:hVe,navigateBack:fVe,switchTab:gVe,reLaunch:vVe,getBackgroundAudioPlayerState:WUe,playBackgroundAudio:UUe,pauseBackgroundAudio:VUe,seekBackgroundAudio:qUe,stopBackgroundAudio:zUe,onBackgroundAudioPlay:GUe,onBackgroundAudioPause:HUe,onBackgroundAudioStop:KUe,setCookies:TBe,getCookies:EBe,chooseShareGroup:JRe,arrayBufferToBase64:x.surroundThirdByTryCatch(Av),base64ToArrayBuffer:x.surroundThirdByTryCatch(xv),openBusinessView:MBe,joinVoIPChat:FBe,exitVoIPChat:UBe,updateVoIPChatMuteConfig:VBe,onVoIPChatMembersChanged:zBe,offVoIPChatMembersChanged:GBe,onVoIPChatSpeakersChanged:HBe,offVoIPChatSpeakersChanged:KBe,onVoIPChatInterrupted:QBe,offVoIPChatInterrupted:ZBe,subscribeVoIPVideoMembers:e$e,onVoIPVideoMembersChanged:r$e,offVoIPVideoMembersChanged:n$e,onVoIPChatStateChanged:a$e,offVoIPChatStateChanged:o$e,createRewardedVideoAd:SBe,createInterstitialAd:CBe,createSkitAd:kBe,preloadAd:IBe,openChannelsUserProfile:_$e,updateWeChatApp:pDe,reportPerformance:RBe,getPerformance:OBe,getLaunchOptionsSync:lN,getEnterOptionsSync:tf,onThemeChange:fse,offThemeChange:vse,getVideoInfo:IIe,compressVideo:PIe,createUDPSocket:U$e,createTCPSocket:iNe.createTCPSocket,getRealtimeLogManager:M$e,getPublicLibVersion:Oq,startLocalServiceDiscovery:CMe,stopLocalServiceDiscovery:kMe,onLocalServiceFound:IMe,offLocalServiceFound:PMe,onLocalServiceLost:AMe,offLocalServiceLost:xMe,onLocalServiceDiscoveryStop:TMe,offLocalServiceDiscoveryStop:EMe,onLocalServiceResolveFail:MMe,offLocalServiceResolveFail:RMe,loadFontFace:NIe,getBatteryInfo:KAe,getBatteryInfoSync:JAe,getAvailableAudioSources:vPe,onAudioInterruptionBegin:Zle,offAudioInterruptionBegin:ece,onAudioInterruptionEnd:rce,offAudioInterruptionEnd:nce,previewMedia:OPe,openVideoEditor:RAe,saveFileToDisk:O$e,openDocument:Fp,getMenuButtonBoundingClientRect:CV,version:OT(),chooseAddress:zoe,chooseInvoice:xse,chooseInvoiceTitle:nse,publishWeChatState:fle,navigateToMiniProgram:mVe,exitMiniProgram:jee,createVKSession:BWe,createVKReference:$We,isVKSupport:jWe,faceDetect:fUe,initFaceDetect:hUe,stopFaceDetect:gUe,getLocalIPAddress:YMe,openSystemBluetoothSetting:Ew,openAppAuthorizeSetting:Mw,getSystemSetting:Dw,getAppAuthorizeSetting:Lw,getDeviceInfo:Vw,getWindowInfo:NS,getAppBaseInfo:$S,setVisualEffectOnCapture:Q$,createInferenceSession:lC,getInferenceEnvInfo:cw,getXrFrameSystem:Q$e,worklet:wNe(),router:_Ne(),requestSubscribeMessage:Bse,requestSubscribeDeviceMessage:tle},bVe=yFe();Object.keys(bVe).forEach((e=>{yVe[e]=bVe[e]}));var _Ve=(e,t)=>new GNe(yVe,e,t),wVe=()=>"undefined"==typeof BaseConsole?new P.BaseConsole:new BaseConsole,SVe=e=>pUe({provider:e});GLe();var CVe=Lh.pluginInfos,kVe={};re.onReady((()=>{"object"==typeof re.env&&(kVe.USER_DATA_PATH=re.env.USER_DATA_PATH)}));const IVe=kVe;var PVe=(e,t)=>({vdSync(t,r){e("vdSync",t,r)},vdSyncBatch(t,r){e("vdSyncBatch",t,r)},onVdSync(e){t("vdSync",e)},onVdSyncBatch(e){t("vdSyncBatch",e)}}),AVe=(e,t)=>{var r={},n=!1;return{publish(t,r){e("shadowSync",t,r)},subscribe(e){t("shadowSync",e)},subscribeWithViewId(e,i){r[e]=i,n||(n=!0,t("shadowSync",((e,t)=>{var n=r[t];n&&n(e)})))}}},xVe=function(e,t,r){for(var n in t){if("exportToAppServiceSDK"===n)return;e[n]=t[n]}["onPageReload"].forEach((n=>{t[n]&&(e[n]=e=>{t[n].call(r,e)})}))},TVe=ir("AppUnhang"),EVe=TVe.internalOnMethod,MVe=TVe.onMethod,RVe;function OVe(e){ek(e)}qt("onAppUnhang",((e={})=>{TVe.emit(e)})),Gp((e=>{dM()||(tk(e),ZC(e),rk(e))}));var DVe=()=>RVe,LVe=e=>RVe=e,NVe={cheat:null},BVe=(e={})=>{if(Cf("allowUseWePay")){var{result:t,data:r}=e;"boolean"==typeof t?fhe({extraData:{result:t,data:r},fail(t){e.fail&&e.fail({errMsg:"notifyPayResult: fail navigateBackMiniProgram error"})},success:e.success}):e.fail&&e.fail({errMsg:"notifyPayResult: fail result must be boolean"})}else e.fail&&e.fail({errMsg:"notifyPayResult: fail no permission"})},$Ve,jVe,FVe=()=>jVe=new Promise(((e,t)=>{$Ve=e})),WVe=()=>!!$Ve,UVe=function(){var e=xd()((function*(e){if($Ve)if(!1!==(null==e?void 0:e.result)){var t=yield VVe(RVe.prepayId,RVe.platformId);"NOTPAY"===t.state?$Ve({result:!1,retry:!0}):"SUCCESS"===t.state?$Ve({result:!0}):$Ve({result:!1,errMsg:t.errMsg}),$Ve=null,jVe=null,RVe=void 0}else $Ve({result:!1,errMsg:e.errMsg})}));return function(t){return e.apply(this,arguments)}}(),VVe=function(){var e=xd()((function*(e,t){var r,n,i,a,o=yield EE({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformPayResult",json_req:JSON.stringify({prepay_id:null!==(r=null===(n=NVe.cheat)||void 0===n?void 0:n.verifyState)&&void 0!==r?r:e,platform_prepay_id:t})}});return{state:null===(i=o.data.state_info)||void 0===i?void 0:i.state,errMsg:null===(a=o.data.base_resp)||void 0===a?void 0:a.err_msg}}));return function(t,r){return e.apply(this,arguments)}}();function qVe(e){if("appLaunch"===e.openType){var t=cN();qC(t),OC(qVe)}}function zVe(e){zC(e)}df((e=>{dM()||(WVe()&&UVe(e.referrerInfo.extraData),qC(e))})),RC(qVe);var GVe=ir("AppRouteResized"),HVe=GVe.internalOnMethod,KVe=GVe.internalOffMethod;ur("onAppRouteResized",(e=>{"object"==typeof e&&null!==e&&nV(e),GVe.emit({})}));var JVe=ir("PageNotFound"),XVe=JVe.onMethod,YVe=JVe.offMethod,QVe={page:void 0,time:0,count:0};qt("onPageNotFound",(()=>{y.info("Ignored onPageNotFound.")})),I$(((e,t=0)=>{y.info(`Page not found by onAppRoute.notFound, webviewId=${t}`),uu.lastRoute="","string"==typeof e.path&&e.path.endsWith(".html")&&(e.path=Xd(e.path)),QVe.page&&QVe.page===e.path?QVe.count++:QVe={page:e.path,time:Date.now(),count:1};var r=!0;Date.now()-QVe.time<=3e3&&QVe.count>3?(r=!1,console.error(`onPageNotFound error: page "${e.path}" is not found.`)):JVe.emit(e);var n=JVe.getGlobalListeners().length>0&&r;n||T.thirdErrorReport({error:new Error(`onPageNotFound error: page "${e.path}" is not found.`),extend:" at onPageNotFound"}),md("pageNotFoundCallback",{hasHandler:n,webviewId:t})}));var ZVe=function(e,t,r){var n=re.global&&re.global.window&&re.global.window.restartStrategy,i=re.page&&re.page[e+".html"]&&re.page[e+".html"].window&&re.page[e+".html"].window.restartStrategy,a=String(i||n||"");if(a){var o={type:a,path:t,extraData:r?r.data:void 0,expireTimeStamp:(r?r.expireTimeStamp:0)||Date.now()+864e5};re.accountInfo.appId,WC("saveExitState",{appId:re.accountInfo.appId,data:o},[uu.currentWebviewId],(e=>{}))}},eqe=function(e){WC("loadExitState",{appId:re.accountInfo.appId},[uu.currentWebviewId],(t=>t&&t.expireTimeStamp>Date.now()?e(t.type,t.path,t.extraData):e()))},tqe=ir("LazyLoadError"),rqe=tqe.onMethod,nqe=tqe.offMethod;yr((()=>{vr.onLazyLoadError((e=>{tqe.emit(e)}))}));var iqe=(e,t)=>{"number"==typeof t&&vr.setLazyLoadTimeout(t),rqe(e)},aqe=(e={})=>{if(Vc("setEntryPagePath",e,{entryPagePath:""})){var t=Object.assign({},e);t.entryPagePath=M$(t.entryPagePath,{needHtmlSuffix:!0}),md("setEntryPagePath",t)}},oqe=(e={})=>{md("clearEntryPagePath",e)},sqe={};en("media_banned",(e=>{var{index:t,permissionByte:r}=e;sqe[t]=r}));var lqe=()=>sqe,cqe=[];function uqe(e,t){cqe.forEach((r=>{try{r(e,t)}catch(e){console.error(e)}}))}function dqe(e){cqe.push(e)}var pqe=null,hqe=(e={})=>{if(Vc("showAuthorize",e,{apply:""})){var t=re.accountInfo.nickname,r=re.accountInfo.icon,n=JSON.stringify({nickname:t,icon:r,apply:e.apply,overlay:e.overlay}),i=jV((e=>{[PV.BottomBackButton,PV.NavigationBackInterceptionType,PV.NavigateBackCall].includes(e.type)&&pqe&&(pqe.handleCancel(),pqe=null)}));__sclEngine__.initScl((t=>{(pqe=t.mainRoot.append("authorize",{input:n})).addListener("confirm",(()=>{FV(i),Hc({name:"showAuthorize",args:e})})),pqe.addListener("cancel",(()=>{FV(i),zc("showAuthorize",e,"cancel")}))}))}};function fqe(e,t,r,n=0){T.reportKeyValue({key:"Handoff",value:[re.appType+1e3,re.appLaunchInfo.scene,e,t,r,n,My(),""].join(",")})}var gqe=e=>{md("checkHandoffEnabled",e)},vqe=(e={})=>{var{path:t,fromButton:r}=e;r?Cf("handoff")?gqe({success({isEnabled:e,errCode:r}){e?(fqe(2,2,2),hqe({apply:"在电脑端微信打开小程序",success(){fqe(2,2,1),md("startHandoff",{path:t,actionId:2},{beforeSuccess:()=>fqe(2,1,1),beforeFail:({errCode:e})=>fqe(2,1,0,e)})},fail(){fqe(2,2,0)}})):fqe(2,1,0,r)}}):console.warn("startHandOff:fail no permission"):md("startHandoff",{path:t,actionId:1},{beforeSuccess:()=>fqe(1,1,1),beforeFail:({errCode:e})=>fqe(1,1,0,e)})};function mqe(e,t){return yqe.apply(this,arguments)}function yqe(){return(yqe=xd()((function*(e,t){if(a8.recording){var r=CD[e];r&&o8({timestamp:I8(),type:r,data:{payload:t}})}}))).apply(this,arguments)}function bqe(e){if(a8.recording){var t=i8.recordingWebviewIds.indexOf(e);t>=0&&i8.recordingWebviewIds.splice(t,1),i8.reporter===e&&(i8.reporter=void 0)}}function _qe(e){try{if(!a8.recording)return;var t={};Object.keys(e.query).forEach((r=>{t[r]=String(e.query[r])})),o8({type:KO.PageShow,data:{path:e.path,query:t,webviewId:e.webviewId},timestamp:I8()})}catch(e){}}function wqe(e){return Sqe.apply(this,arguments)}function Sqe(){return(Sqe=xd()((function*(e){a8.recording&&2===e.event_id&&o8({type:KO.PageStaytime,data:{path:e.pagepath.replace(".html",""),query:e.query,staytime:e.staytime},timestamp:I8()})}))).apply(this,arguments)}var Cqe=e=>{var t;e.weSessionId!==a8.recorderConfigs.weSessionId&&a8.recording&&(o8({type:KO.WeSessionIdChanged,data:{oldWeSessionId:null!==(t=a8.recorderConfigs.weSessionId)&&void 0!==t?t:"",newWeSessionId:e.weSessionId,lifeTimeMeta:e},timestamp:I8()}),WC("syncPXState",{sessionLifeTimeMeta:e},i8.recordingWebviewIds,(()=>{})));a8.recorderConfigs.weSessionId=e.weSessionId,a8.recorderConfigs.wesessionMeta=e},kqe=(e,t)=>{if(a8.recording){var{path:r,query:n}=Iqe(e.path);o8({type:KO.PageAddToFavorites,data:{title:e.title,path:r,query:n,webviewId:t},timestamp:I8()})}};function Iqe(e){var[t,r]=e.split("?"),n=t.replace(/\.html$/,""),i={};return r&&r.split("&").forEach((e=>{var[t,r]=e.split("=");t&&r&&(i[decodeURIComponent(t)]=decodeURIComponent(r))})),{path:n,query:i}}var Pqe=0,Aqe=[],xqe={},Tqe={},Eqe;en("pageMaxScrollHeightUpdate",((e,t)=>{var{scrollPageMax:r,windowHeight:n}=e;Pqe=r,xqe[t]||(xqe[t]={}),xqe[t].maxHeight=n})),en("pageScrollViewViewMaxHeightUpdate",(e=>{var{idx:t,height:r}=e;Aqe[t-1]=r}));var Mqe=()=>Pqe,Rqe=()=>Pqe=0,Oqe=()=>Aqe=[],Dqe=(e,{path:t,stayTime:r})=>{try{var n=xqe[e],i=0;n&&n.initHeight&&n.maxHeight&&(i=n.maxHeight-n.initHeight)<0&&(i=0);var a=[t,0,Pqe,0,-1,r,Eqe,i].join(",");Tqe[e]&&Object.values(Tqe[e]).forEach(((e,n)=>{if(e.scrollHeight){var i=0;e.maxHeight&&e.initHeight&&(i=e.maxHeight-e.initHeight);var a=[t,1,-1,n+1,e.scrollHeight?e.scrollHeight:0,r,Eqe,i].join(",");y.warn("scrollview value: ",a),T.reportKeyValue({key:"PageScrollInfo",value:a})}})),T.reportKeyValue({key:"PageScrollInfo",value:a})}catch(e){y.warn("_reportScrollInfos error: ",e)}},Lqe=(e,t)=>{Eqe?Dqe(e,t):Aw({success(r){Eqe=r.screenHeight,Dqe(e,t)}})},Nqe=void 0,Bqe=!1,$qe={},jqe,Fqe=!1,Wqe=()=>Bqe;re.onReady((()=>{jqe=!!Fqe||Cf("enableAIAD")}));var Uqe=()=>Nqe,Vqe=e=>Nqe=e,qqe=()=>{if(Fqe)return!0;if(Xqe)return!0;var e=re.envVersion;return"release"===e?jqe:"trial"===e?Bqe||jqe:"develop"===e?Bqe:void 0},zqe=!1,Gqe=e=>Bqe=e,Hqe=()=>$qe,Kqe=10086,Jqe=({unitId:e,enablePreview:t=!0,onlyPreviewCurrentPage:r=!1,applyReleaseConfig:n=Kqe,__innerArgsInMpEnv:i=!1,renderMode:a}={enablePreview:!0})=>{if(jqe||i){if("release"!==re.envVersion||Fqe||i)if("develop"===re.envVersion&&n===Kqe&&(n=!1),t){if(Bqe=!0,Vqe(e),r){var o=O.getCurrentFullyRoutePath();o=O.getCompatPathWithoutValue(o),$qe[o]={unitId:e}}else $qe["*"]=!0;if("skyline"!==a){HW({title:"进入预览模式中",mask:!zqe});var s=eze();if(It(s))s.then((e=>{if(e&&!i)return $W({title:"智能广告无权限",icon:"error",duration:1500}),void console.warn("wx.previewAIAD fail: 你不能在MP预览智能广告环境下调用 wx.previewSmartAd 接口");e&&($qe["**"]=!0,$qe["*"]=!1)}));else if(s){if(!i)return $W({title:"智能广告无权限",icon:"error",duration:1500}),void console.warn("wx.previewAIAD fail: 你不能在MP预览智能广告环境下调用 wx.previewSmartAd 接口");$qe["**"]=!0,$qe["*"]=!1}jqe&&n&&($qe.__apply_release_config__=!0)}else RW({title:"智能广告失败",content:"智能广告不支持Skyline渲染模式，请将当前页面切换为Webview渲染",__sdk_inner_allowShowMoreLength__:!0,showCancel:!1,confirmText:"确定"})}else Bqe=null}else console.warn("wx.previewAIAD fail: 你没有权限调用 wx.previewSmartAd 接口")},Xqe,Yqe,Qqe,Zqe=(e,t)=>{if(!Xqe&&void 0===Xqe){if(e)return Xqe=!0,Jqe({enablePreview:!0,onlyPreviewCurrentPage:!1,__innerArgsInMpEnv:!0,applyReleaseConfig:!1,renderMode:t}),Xqe;Qqe=Date.now(),Yqe=EE({apiName:"webapi_getaiadexperiencewhiteconfig",reqData:{libVersion:Du()}}).then((e=>{var r;return Yqe=null,null!==(r=e.data)&&void 0!==r&&r.permission?(Xqe=!0,Jqe({enablePreview:!0,onlyPreviewCurrentPage:!1,__innerArgsInMpEnv:!0,applyReleaseConfig:!1,renderMode:t})):Xqe=!1,Xqe})).catch((e=>{"-820002"===(null==e?void 0:e.err_code)&&RW({title:"微信版本过低",content:"进入预览模式失败，请升级微信到最新版本后重试",showCancel:!1,canfirmText:"确定",__sdk_inner_allowShowMoreLength__:!0,success(e){e.confirm&&jee()}}),Xqe=!1,Yqe=null,y.warn("[aiad system] webapi_getaiadexperiencewhiteconfig error: ",e)}))}},eze=()=>Yqe||Xqe,tze=()=>Qqe,rze=_S(),nze=wg(rze.readFile),ize=wg(rze.writeFile),aze=wg(rze.access),oze=wg(rze.mkdir),sze=wg(rze.unlink),lze=wg(rze.readdir),cze=qw.WX_COMPILE_PREFIX.path,uze=!1,dze=null,pze=function(){var e=xd()((function*(){var e=yield lze({dirPath:cze}),t=[];return e.files.forEach((e=>{t.push(Number(e))})),t.sort(((e,t)=>e-t)),t}));return function(){return e.apply(this,arguments)}}(),hze=function(){var e=xd()((function*(){var e=yield pze();if(!(e.length<=5)){var t=e.slice(0,e.length-5);for(var r of t)yield sze({filePath:`${cze}/${r}`})}}));return function(){return e.apply(this,arguments)}}(),fze=function(){var e=xd()((function*(e,t){if(!uze&&!t)return null;try{var{data:r}=yield nze({filePath:`${cze}/${e}`,encoding:"utf8"});return JSON.parse(r)}catch(e){return null}}));return function(t,r){return e.apply(this,arguments)}}(),gze=function(){var e=xd()((function*(e,t,r){try{yield aze({path:cze})}catch(e){yield oze({dirPath:cze})}yield hze();var n=yield fze(e),i=r.value?r.value:JSON.stringify(r);if(n){var a=n[t];if(a){var o=!1;for(var s of a)if(s.key===r.key){o=!0;break}o||a.push({key:r.key,value:i})}else n[t]=[{key:r.key,value:i}];yield ize({filePath:`${cze}/${e}`,data:JSON.stringify(n),encoding:"utf8"})}else{var l={[t]:[{key:r.key,value:i,createTime:Date.now()}]};yield ize({filePath:`${cze}/${e}`,data:JSON.stringify(l),encoding:"utf8"})}}));return function(t,r,n){return e.apply(this,arguments)}}(),vze=function(){var e=xd()((function*(e,t,r){try{var n=yield fze(e);if(!n||!n[t])return;var i=n[t].findIndex((e=>e.key===r));-1!==i&&n[t].splice(i,1),y.warn("removeLocalCache: ",n),yield ize({filePath:`${cze}/${e}`,data:JSON.stringify(n),encoding:"utf8"})}catch(e){}}));return function(t,r,n){return e.apply(this,arguments)}}(),mze=({allCostTime:e,isExposure:t,position:r,applyCompileCache:n,algorithmPosition:i,adPullCost:a,realComputeCostTime:o,cacheCostTime:s,insertResult:l,adType:c,inScrollView:u,cacheComputeResult:d,page:p,sessionId:h,resultType:f,platformId:g,isPreviewCache:v,isPreload:m,isValidPreload:y,illegalExposure:b,errMsg:_,isBeShelter:w,maxExposureRatio:S,wxadType:C,forceUsePreviewAdType:k,waitCost:I,emitPhase:P,exceptionId:A,type:x,requestCost:E,preload:M})=>{var R;u=u?1:0,s=null!==(R=s)&&void 0!==R?R:0,d=d?1:0,l=l?1:0,n=n?1:0,t=t?1:0,b=b?1:0,r=1e3*Number(r);var O=eze()?1:0,D=0;"onReady"===P?D=1:"setData"===P?D=2:"LCP"===P?D=3:"setTimeout"===P&&(D=4);var L=[e,t,r,n,i,a,o,s,l,c,u,d,p,h,f,g,v?1:0,m,y,b,Du(),_,O,w?1:0,S?100*S:0,C,k,I,D,A||0,E,M].map(Nu(1024)).join(",");T.reportKeyValue({key:"AiadAnalyse",value:L})},yze=({path:e,useCache:t,usePreviewCache:r,cacheKey:n,insertResult:i,appVersion:a,clsScore:o,validLcpTime:s,isLargeShift:l,type:c,verifyCanUseDistance:u,verifyCanUseResult:d}={})=>{EE({sdkApiName:"",apiName:"webapi_reportaiadtempcache",reqData:{page:e,version:a,if_use_preview:r,if_use_cache:t,insert_result:i,cache_key:n,type:c,cls_score:o,valid_lcp:s,is_large_shift:l,verifyCanUseDistance:u,verifyCanUseResult:d}}).catch((e=>{y.warn("webapi_reportaiadtempcache error: ",e)}))},bze=({path:e,stayTime:t,hasInterstitialAdPreload:r,hasInterstitialAdShow:n,interstitialAdRequestTime:i,interstitialAdShowDistanceEnter:a,interstitialAdResult:o,hasGeneralAdPreload:s,generalAdRequestTime:l,generalAdShow:c,entryNumber:u}={})=>{var d=[e,t,r?1:0,n?1:0,i,a,o?1:0,s?1:0,l,c,u,Du()].map(Nu(1024)).join(",");T.reportKeyValue({key:"AIADLoad",value:d,immediately:!0})},_ze=({allCost:e,screenshotCost:t,uploadCost:r,inferenceCost:n,isTimeout:i,inferenceResult:a,optimizeResult:o,optimizeValid:s,path:l}={})=>{var c=[e,t,r,n,i,s,a,o,l].map(Nu(1024)).join(",");T.reportKeyValue({key:"AIADVision",value:c,immediately:!0})},wze=(e,t,r,n)=>{var i=Sze(e,t,r,n);return Cf("aiadBanCache")&&(i.applyCache=!1),Cf("aiadOnlyUsePreviewCache")&&(i.computed=!1),i},Sze=(e,t,r,n)=>{if(eze())return{applyCache:!1,computed:!0,writeCache:!1,forceWriteCache:!1};if(!t)return{applyCache:!0,computed:!0,writeCache:!0,forceWriteCache:!1};try{var i=null==r?void 0:r.algorithm_version;if(20===Number(i)||21===Number(i)){if(Cf("aiadExceptAlgoVersionFallback"))return{applyCache:!0,computed:!0,writeCache:!0,forceWriteCache:!1,type:100};mze({exceptionId:1})}}catch(e){y.warn("[aiad error] unexpected error: ",e)}if(e==t.appVersion){var a=r.algorithm_version;return t.algoVersion==n?void 0===a||a==t.algoVersion?{applyCache:!0,computed:!0,writeCache:!0,forceWriteCache:!1,type:1}:{applyCache:!1,computed:!0,writeCache:!0,forceWriteCache:!1,type:2}:r?n>=a?{applyCache:!0,computed:!0,writeCache:!1,forceWriteCache:!1,type:3}:{applyCache:!0,computed:!1,writeCache:!1,forceWriteCache:!1,type:4}:{applyCache:!1,computed:!0,writeCache:!1,forceWriteCache:!1,type:5}}if(!r)return{applyCache:!1,computed:!0,writeCache:!0,forceWriteCache:!1,type:10};var o=r.algorithm_version;return y.warn("x cacheInfos: ",r),o?n==o?{applyCache:!0,computed:!0,writeCache:!0,forceWriteCache:!1,type:7}:n<o?{applyCache:!0,computed:!1,writeCache:!1,forceWriteCache:!1,type:8}:n>o?{applyCache:!1,computed:!0,writeCache:!0,forceWriteCache:!0,type:9}:void 0:{applyCache:!1,computed:!0,writeCache:!0,forceWriteCache:!1,type:6}},Cze,kze={},Ize=()=>kze[O.getCurrentRoutePathWithoutQuery()],Pze=e=>kze[O.getCurrentRoutePathWithoutQuery()]=e,Aze=(e,t,r=!1)=>{var n;"release"===re.envVersion&&null!==(n=Ize())&&void 0!==n&&n.writeCache&&Mq({success(n){var i=n.data;oHe(e,t,i,r)}})},xze={};Xr("aiadStatusChange",((e,t)=>{var{platformId:r,status:n,result:i,isPreload:a,isValidPreload:o,illegalExposure:s,cacheKey:l,realType:c,requestCost:u,preload:d}=e.data,p=e.options.timestamp,h=String(t)+"-"+r;Mze({status:n,timestamp:p,result:i,isPreload:a,isValidPreload:o,illegalExposure:s,cacheKey:l,realType:c,requestCost:u,preload:d},h)}));var Tze=(e,t,r)=>{var n=String(e)+"-"+t;xze[n]=r},Eze=(e,t)=>{var r=String(e)+"-"+t;xze[r]=null},Mze=(e,t)=>{var r=xze[t];r&&r(e)},Rze,Oze=new Promise((e=>{Rze=e})),Dze=!1,Lze=!1,Nze=!1,Bze=!1,$ze=()=>Bze;re.onReady((()=>{var e=Ie?"clicfg_appbrand_ios_force_enable_aiad":"clicfg_appbrand_android_force_enable_aiad",t=Ie?"clicfg_appbrand_ios_enable_aiad_debug_button":"clicfg_appbrand_android_enable_aiad_debug_button",r=Ie?"clicfg_appbrand_ios_enable_aiad_tag":"clicfg_appbrand_android_enable_aiad_tag";Promise.all([new Promise(((t,r)=>{Tf({experimentId:e,experimentType:"Expt",success:e=>{e?(1===Number(e.testConfig)?jze=!0:2===Number(e.testConfig)?(Bze=!0,Lze=!0):3===Number(e.testConfig)?(jze=!0,Bze=!0,Lze=!0):4===Number(e.testConfig)&&(Lze=!0),t()):r("not res")},fail(t){y.error(e,"failed",t),r(t)}})})),new Promise(((e,r)=>{Tf({experimentId:t,experimentType:"Expt",success:t=>{t?1===Number(t.testConfig)?(Dze=!0,e(!0)):e(!1):r("not res")},fail(e){y.error(t,"failed",e),r(e)}})})),new Promise(((e,t)=>{Tf({experimentId:r,experimentType:"Expt",success:r=>{r?1===Number(r.testConfig)?(Nze=!0,e(!0)):e(!1):t("not res")},fail(e){y.error(r,"failed",e),t(e)}})}))]).then((e=>{Rze(e)})).catch((e=>{y.warn("[aiad except] get expt error: ",e)}))})),en("requestAiAdExpt",((e,t)=>{Oze.then((e=>{Kr("waitServiceExptResponseDone",{enableVisionOptimize:Lze,showAiAdDebugButton:e[1],isAutoEnv:Bze,showAiAdVisionOption:Dze,enableVisionShelterIdentify:Cf("aiadEnableVisionShelterIdentify"),enableAiAdTag:Nze,enableAiAdMultiAd:Cf("enableAiAdMultiAd"),disableQuickLoad:Cf("aiadDisableQuickLoad")},[t])}))}));var jze=!1,Fze=!1,Wze=!1,Uze=()=>jze,Vze=()=>Lze||Dze,qze=10025,zze={customAdId:0xe76bcac4c92dd,bannerId:8040321819858439},Gze,Hze={},Kze=(e,t=!1)=>{var r,n={...e},i=e.extraInfo;if(i&&pt(i)){var a={...i};delete a.algo_version,delete a.preview_shield_list,n.extraInfo=a}return delete n.enable_status,t?(e.extraInfo&&(r={helperInfos:e.extraInfo.helperInfos,sessionId:void 0}),{...n,extraInfo:r}):n},Jze=(e,t)=>{var r={};return e.concat(t).forEach((e=>{null!=e&&e.b&&(r.b||(r.b=[]),r.b.push(...e.b)),null!=e&&e.previewCache&&(r.previewCache=e.previewCache)})),r.b&&(r.b=Array.from(new Set(r.b))),r},Xze={1:2,2:2,3:3,4:3},Yze={entity:0,for:1},Qze=(e,t)=>{if(t)return 4;if(e===qze)return 2;if(e){var r=Xze[e];return r||0}return 1},Zze=!1,eGe=e=>Zze=e,tGe=({page:e,ads:t=[],extraInfo:r={},pageExtraInfo:n,forceCover:i=!1,coverAds:a=!1,swiperItem:o=-1})=>{var s=Cf("aiadUseIncrementalWrite")||Zze;Gze&&!s||(Gze=Nt());var l,c=[...t.map((t=>({...t,path:e})))],u=i;if(Hze[e]?(a?-1===o?Hze[e]=c:(Hze[e]=Hze[e].filter((e=>o!==e.swiperItem)),Hze[e].push(...c)):c.forEach(((r,n)=>{if("add"===r.ope)Hze[e].push(r);else if("delete"===r.ope){var i=Hze[e].findIndex((e=>e.platformId+e.path===r.platformId+r.path));-1!==i&&Hze[e].splice(i,1)}else if("replace"===t[n].ope);else if("modifyStatus"===t[n].ope){var a=Hze[e].findIndex((e=>e.platformId+e.path===r.platformId+r.path));-1!==a&&(Hze[e][a].enable_status=t[n].status)}else if("toggleType"===t[n].ope){var o=Hze[e].findIndex((e=>e.platformId+e.path===r.platformId+r.path));-1!==o&&(Hze[e][o].enable_status=!1,Hze[e][o].extraStyle&&(Hze[e][o].extraStyle.templateFeature=1===t[n].type?0:qze))}else if("modifyAdVPathInfo"===t[n].ope){var s=Hze[e].findIndex((e=>e.platformId+e.path===r.platformId+r.path));-1!==s&&(Hze[e][s][t[n].key]=t[n].data)}else Hze[e].push(r)})),u=!0):Hze[e]=c,n)l=n;else{var d=Hze[e].map((e=>e.extraInfo));l=Jze(d,t.map((e=>e.extraInfo)))}if(Hze[e].forEach((e=>{e.extraInfo=l})),c=Hze[e],u)return rGe({extraInfo:r,useIncrementalWrite:s});var p=c.map((t=>{var r,n;return{path:e,path_slot_index:t.platformId,screen:t.screen?Math.max(0,Number(t.screen.toFixed(3))):void 0,adType:Qze(null===(r=t.extraStyle)||void 0===r?void 0:r.templateFeature,"interstitialAd"===t.type),extra_info:t.extraInfo?JSON.stringify(t.extraInfo):"",slot_id:null!==(n=t.extraStyle)&&void 0!==n&&n.templateFeature?zze.customAdId:zze.bannerId,feeds_ad_type:Yze[t.type],enable_status:!!t.enable_status,algoKey:`${t.key}-${JSON.stringify(Kze(t,s))}`}}));return Fze&&y.warn("[aiad mp] webapi_addusableaiaditemlist: ",{session_id:Gze,ad_list:p,version:r.previewInfos.appVersion,extra_info:r}),EE({apiName:"webapi_addusableaiaditemlist",reqData:{session_id:Gze,ad_list:p,version:r.previewInfos.appVersion,extra_info:JSON.stringify(r),incremental_write:s}}).then((e=>({result:!0}))).catch((e=>(y.warn("webapi_addusableaiaditemlist err: ",e),{result:!1})))},rGe=({extraInfo:e={},useIncrementalWrite:t=!1})=>{Gze=Nt();var r=Object.keys(Hze),n=[];return r.forEach((e=>{var r=Hze[e].map((r=>{var n,i;return{path:e,path_slot_index:r.platformId,screen:r.screen?Math.max(0,Number(r.screen.toFixed(3))):void 0,adType:Qze(null===(n=r.extraStyle)||void 0===n?void 0:n.templateFeature,"interstitialAd"===r.type),extra_info:r.extraInfo?JSON.stringify(r.extraInfo):"",slot_id:"interstitialAd"===r.type?0xac3cfbe83299d:null!==(i=r.extraStyle)&&void 0!==i&&i.templateFeature?zze.customAdId:zze.bannerId,feeds_ad_type:Yze[r.type],enable_status:!!r.enable_status,algoKey:`${r.key}-${JSON.stringify(Kze(r,t))}`}}));n.push(...r)})),Fze&&y.warn("[aiad mp] coverwrite webapi_addusableaiaditemlist: ",{session_id:Gze,ad_list:n,version:e.previewInfos.appVersion,extra_info:e}),EE({apiName:"webapi_addusableaiaditemlist",reqData:{session_id:Gze,ad_list:n,version:e.previewInfos.appVersion,extra_info:JSON.stringify(e),incremental_write:t}}).then((e=>({result:!0}))).catch((e=>(y.warn("[aiad error] coverwrite webapi_addusableaiaditemlist err: ",e),{result:!1})))};en("adPreviewReport",(e=>{nGe(e)}));var nGe=({actionType:e,adId:t,adType:r,actionStatus:n={},actionValue:i,scene:a})=>{var o=Du()+" "+Lu(),s=(null==br?void 0:br.getCurrentRoute())||"";T.reportKeyValue({key:"AIADPreview",value:[o,1,Qh().sessionId||Qh().sessionid||"",s,Date.now(),e,t,r,encodeURIComponent(JSON.stringify(n)),i,tze(),a].join(",")})},iGe,aGe,oGe=()=>{aGe=Date.now()},sGe=()=>{iGe=Date.now()},lGe=()=>aGe-iGe,cGe=_S(),uGe="wxfile://ad/cacheAiadMetaInfo.txt",dGe={},pGe={},hGe={},fGe={},gGe=!0,vGe={},mGe={},yGe,bGe=100,_Ge,wGe=()=>{clearTimeout(_Ge),_Ge=null},SGe=!1,CGe=3e5,kGe=null,IGe=()=>{SGe||(kGe&&(clearTimeout(kGe),kGe=null),kGe=setTimeout((()=>{OW({content:"完成将退出广告预览，建议探索更多页面预览广告。",showCancel:!0,confirmColor:"#62749c",cancelText:"继续预览",confirmText:"完成",success:e=>{e.confirm?fhe({fail:()=>{jee()}}):IGe()}}),clearTimeout(kGe),kGe=null}),CGe))},PGe=!0;re.onReady((()=>{if(!Cf("enableAIAD")&&Cf("enableCacheAiadInterstitial")){cGe.readFile({filePath:uGe,success:e=>{try{var{lastUseAiadTime:t=0}=JSON.parse(e.data);Date.now()-t<1296e6&&setTimeout((()=>{Twe("pages/index/index")}),500)}catch(e){}}})}})),en("requestAIAD",((e,t)=>{var r=cHe[t];(!0===eze()||null!=e&&e.skipPreviewVerify)&&HW({title:"进入预览模式中",mask:!SGe}),iHe(r,t,e).then((r=>{if(r){r.mpPreview=!!eze()||(null==e?void 0:e.skipPreviewVerify),r.mpPreview&&(HW({title:"智能广告计算中",mask:!0}),_Ge&&clearTimeout(_Ge),_Ge=setTimeout((()=>{jW({title:"智能广告计算超时",icon:"error",duration:1500})}),5e3)),r.onlyUsePreviewCache=Cf("aiadOnlyUsePreviewCache"),r.useAiAdPreviewAdForm=Cf("useAiAdPreviewAdForm"),r.aiadEnablePreviewVisionOptimize=Cf("aiadEnablePreviewVisionOptimize"),r.allowMultiAd=Cf("enableAiAdMultiAd"),r.usePreviewType=Cf("aiadUsePreviewAdType"),r.banner2CustomExpt=PGe,r.banner2CustomFeedbackExpt=Cf("aiadBanner2CustomFeedback"),r.delayRuntimeCompute=Cf("aiadDelayRuntimeComputed"),null!=e&&e.computedTime&&(r.computedTime=null==e?void 0:e.computedTime),null!=e&&e.skipPreviewVerify&&(r.useDebugInsertMode=!0);var n=Ize();n&&(r.dontApplyCache=!n.applyCache),sGe(),Kr("responseAIAD",r,[t])}})).catch((e=>{}))})),en("rePromptAiAdLoad",(()=>{_Ge&&clearTimeout(_Ge),HW({title:"智能广告计算中",mask:!0}),_Ge=setTimeout((()=>{jW({title:"智能广告计算超时",icon:"error",duration:1500})}),5e3)}));var AGe=!1,xGe=e=>{var t;return AGe||(en("getAiadAlgoVer",(e=>{t(e.version)})),AGe=new Promise((e=>{t=e})),Kr("getAiadAlgoVer",null,[e])),AGe};en("showRecomputeAiad",(e=>{HW({title:e.content,mask:!0})})),en("showRecomputeAiadStatus",(e=>{e.previewMode&&(e.result?(KW(),jW({title:e.content,icon:"success"})):(KW(),jW({title:e.content,icon:"error"})))}));var TGe=(e,t)=>{var r=e.ope,n=cHe[t],i=e.type;if(fGe[t]||(fGe[t]={}),"delete"===r){if("virtualPage"===i){if(e.swiperItem>=0){var a=fGe[t].b.findIndex((t=>t===e.swiperItem));-1!==a&&fGe[t].b.splice(a,1)}return Promise.all([wg(Mq)(),xGe()]).then((([r,i])=>(r=Number(r.data),tGe({page:n,ads:[{path:n,platformId:e.platformId,ope:"delete",extraInfo:fGe[t]}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:fGe[t]}))))}}else if("add"===r){if("virtualPage"===i)return fGe[t].b||(fGe[t].b=[]),e.swiperItem>=0&&-1===fGe[t].b.findIndex((t=>t===e.swiperItem))&&fGe[t].b.push(e.swiperItem),Promise.all([wg(Mq)(),xGe()]).then((([r,i])=>(r=Number(r.data),tGe({page:n,ads:[{path:n,platformId:e.platformId,ope:"replace",extraInfo:fGe[t]}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:fGe[t]}))));if("interstitial"===i)return Promise.all([wg(Mq)(),xGe()]).then((([e,r])=>tGe({page:n,ads:[{path:n,ope:"add",extraStyle:{},key:`interstitalAd-${n}`,platformId:bGe,type:"interstitialAd",vPath:[]}],extraInfo:{previewInfos:{appVersion:e,algoVersion:r}},pageExtraInfo:fGe[t]})))}else{if("modifyStatus"===r)return Promise.all([wg(Mq)(),xGe()]).then((([r,i])=>(r=Number(r.data),tGe({page:n,ads:[{path:n,platformId:e.platformId,ope:"modifyStatus",status:e.status,extraInfo:fGe[t]}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:fGe[t]}))));if("toggleType"===r){if(e.platformId)return Promise.all([wg(Mq)(),xGe()]).then((([r,i])=>{r=Number(r.data),fGe[t].typeInfo||(fGe[t].typeInfo={});var a=e.platformId,o=Hze[n].find((e=>e.platformId===a));if(o){var s=o.key;fGe[t].typeInfo[s]=e.type;var l=tGe({page:n,ads:[{path:n,platformId:e.platformId,ope:"toggleType",extraInfo:fGe[t],type:e.type}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:fGe[t]});return It(l)&&l.then((e=>{null!=e&&e.result?Kr("adTypeToggleDone",{result:!0},[t]):Kr("adTypeToggleDone",{result:!1},[t])})).catch((e=>{y.warn("[aiad error] toggleAdType error: ",e),Kr("adTypeToggleDone",{result:!1},[t])})),l}}))}else if("modifyAdVPathInfo"===r)return Promise.all([wg(Mq)(),xGe()]).then((([r,i])=>(r=Number(r.data),tGe({page:n,ads:[{path:n,platformId:e.platformId,ope:"modifyAdVPathInfo",data:e.data,key:e.key}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:fGe[t]}))))}};en("changeAiAdResult",TGe),en("throwAiadException",(({name:e,errMsg:t,stack:r,errorType:n})=>{xGe().then((i=>{var a=[e,t,n,r,i,Du()].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",");T.reportKeyValue({key:"AiAdError",value:a,immediately:!0})}))})),en("sendAiAdResponse",((e,t)=>{oGe(),y.warn(`[aiad perf] aiad inference cost: ${lGe()}, use cache: ${!(!e.applyCompileCache&&!e.applyPreCompileCache)}`);var r=cHe[t],n=e.vPathLists,i=e.applyPreCompileCache,a=e.result,o=e.realInsertCostTime,s=e.cacheCostTime,l=e.alghrithmEndTimestamp,c=e.algorithmStartTimestamp,u=e.invalidCompileCacheApplyList,d=e.existAd,p=e.writeCacheWhenPreview,h=e.swiperItem,f=e.nonExistenceVPathInfos,v=e.shieldCache,m=e.exception,b=e.insertFromPreCompileResult,_=(e.insertFromPreCompileResultKeys||[]).join(","),w=(e.insertFromPreviewCompileResultKeys||[]).join(","),S=e.generalAdAffect,C=e.polyfillHit,k=e.errMsg,I=e.isLandscape,P=e.wxadType,A=e.forceUsePreviewAdType,x=e.waitCost,E=e.emitPhase,M=e.useDebugInsertMode;e.sendType;wGe();var R=!1,O=()=>{nGe({actionType:"op-100",actionStatus:{hasAIAd:!!a,existAd:!!d},scene:re.appLaunchInfo.scene})},D=(e={})=>{"back"===e.mode&&(O(),hr("onAppEnterBackground",D))};if(en("previewDone",(()=>{O()})),p||!0!==eze()||nGe({actionType:"calculated",actionStatus:{hasAIAd:!!a,existAd:!!d},scene:re.appLaunchInfo.scene}),KW(),m)(eze()||M)&&jW({title:"智能广告异常",icon:"error",duration:1500});else{!!dGe[r]||(dGe[r]={result:a}),HGe()&&g.emit("aiadInterstitialAiadLoadDone",XGe()),u.length&&Mq({success(e){var t=e.data;u.forEach((e=>{var n=VGe[r].find((t=>t.key===e.key));n?vze(t,r,n.key):console.error("[aiad error] unexpected remove invalid cache: ",e)}))}});var L=Nt();if(i||b){var N=e.compileCacheApplyList,B=[];if(N.forEach((n=>{var i=VGe[r].find((e=>e.key===n.key));if(i){var o,s=n.platformId,{key:u,__local:d}=i;a&&!d&&B.push({key:u,value:i.value}),Tze(t,s,(e=>{if(2===e.status){mze({allCostTime:e.timestamp-c,insertResult:a,applyCompileCache:!0,realComputeCostTime:0,algorithmPosition:u,position:n.screen,cacheCostTime:n.cost,sessionId:L,adType:n.adType,page:r,resultType:1,adPullCost:o,inScrollView:n.inScrollView?1:0,platformId:s,cacheComputeResult:!0,isExposure:!0,isPreviewCache:b,isPreload:null!=e&&e.isPreload?1:0,isValidPreload:null!=e&&e.isValidPreload?1:0,illegalExposure:null==e?void 0:e.illegalExposure,type:5,wxadType:e.realType?e.realType:P,requestCost:e.requestCost,preload:e.preload});var i=vGe[r];i&&(i.generalAdShow=!0),Promise.all([wg(Mq)(),xGe()]).then((([t,n])=>{var i,a;t=Number(t.data);var o=vGe[r];yze({path:r,appVersion:t,cacheKey:e.cacheKey,validLcpTime:null==o?void 0:o.lcp,clsScore:null==o||null===(i=o.cls)||void 0===i?void 0:i.pageComplexityScore,isLargeShift:null==o||null===(a=o.cls)||void 0===a?void 0:a.isLargeScaleLayoutShift,type:2})})),Eze(t,s)}else if(1===e.status)if(o=e.timestamp-l,e.result){var d=vGe[r];d&&(d.generalAdRequestTime||(d.hasGeneralAdPreload=e.preload,d.generalAdRequestTime=e.requestCost))}else o=-o,mze({allCostTime:e.timestamp-c,insertResult:a,applyCompileCache:!0,realComputeCostTime:0,algorithmPosition:u,position:n.screen,cacheCostTime:n.cost,sessionId:L,adType:n.adType,page:r,resultType:1,adPullCost:o,inScrollView:n.inScrollView?1:0,platformId:s,cacheComputeResult:!0,isExposure:!1,isPreviewCache:b,type:6,wxadType:e.realType?e.realType:P}),Eze(t,s)})),mze({allCostTime:e.cacheCostTime,insertResult:a,applyCompileCache:!0,realComputeCostTime:0,algorithmPosition:u,position:n.screen,cacheCostTime:n.cost,sessionId:L,adType:n.adType,page:r,resultType:0,adPullCost:0,inScrollView:n.inScrollView?1:0,platformId:s,cacheComputeResult:!0,isPreviewCache:b,waitCost:x,emitPhase:E,type:7,wxadType:P})}else console.error("[aiad error] unexpected cache: ",n)})),B.length&&Aze(r,B,!0),f.length){var $=VGe[r]||[];$=$.map((e=>{var t=JSON.parse(e.value);return t.key=e.key,t})),f.forEach((e=>{$.push(e)})),Aze(r,$)}}else{if(zGe[t]&&a&&(M||Aze(r,n)),M){if(a)Kr("showAiadPreloadSticky",null,[t]),jW({title:a?"智能广告插入成功":"仅支持插入插屏广告",icon:a?"success":"none",duration:1500});else{var j="智能广告插入失败",F=d||S?"当前页面已有广告组件，暂不支持插入智能广告":"当前页面无法插入，请尝试浏览其他页面";p&&(F="已无合适的位置可插入"),I&&(j="横屏小程序仅支持插屏广告预览",F="暂不支持20:7 横幅广告、16:9 横版广告、9:16 竖版广告，建议使用竖屏小程序预览开启智能广告"),RW({title:j,content:F,confirmText:"我知道了",cancelText:"本页不再提示",success(e){e.cancel&&(dGe[r].noPrompt=!0)},__sdk_inner_allowShowMoreLength__:!0})}return}if(eze()){var W,U=XGe(),V=r.slice(0,r.length-5);if(U.includes(V)&&(W={extraStyle:{},key:`interstitalAd-${r}`,platformId:bGe,type:"interstitialAd",vPath:[]}),a||W)Kr("showAiadPreloadSticky",null,[t]),jW({title:a?"智能广告插入成功":"仅支持插入插屏广告",icon:a?"success":"none",duration:1500}),en("resetPreviewTimer",(()=>{IGe()})),IGe(),R||(R=!0,ur("onAppEnterBackground",D)),pGe[r]&&(pGe[r].insert=!0),Promise.all([wg(Mq)(),xGe()]).then((([e,i])=>{e=Number(e.data),gGe||(fGe[t]||(fGe[t]={}),p||(fGe[t].previewCache=[]),n.forEach((e=>{var r=e.key,n=JSON.stringify(Object.assign({},e,{key:void 0}));e.extraInfo||(e.extraInfo={}),p?(fGe[t].previewCache[e.platformId-1].value=n,fGe[t].previewCache[e.platformId-1].key=r):fGe[t].previewCache.push({key:r,value:n}),e.extraInfo.previewCache=fGe[t].previewCache}))),v&&(fGe[t]||(fGe[t]={}),fGe[t].preview_shield_list||(fGe[t].preview_shield_list=[]),fGe[t].preview_shield_list.push({key:v.key}),fGe[t].typeInfo&&delete fGe[t].typeInfo[v.key]),a||(n=[]),fGe[t]||(fGe[t]={}),W&&n.push(W),fGe[t].sessionId||(fGe[t].sessionId=Qh().sessionId||Qh().sessionid||""),fGe[t].helperInfos=hGe[r],fGe[t].algo_version=i,tGe({page:r,ads:n,extraInfo:{previewInfos:{appVersion:e,algoVersion:i}},forceCover:p,pageExtraInfo:fGe[t],coverAds:p,..."number"!=typeof h?{swiperItem:h}:{}})}));else if(!dGe[r].noPrompt){var q="智能广告插入失败",z=d||S?"当前页面已有广告组件，暂不支持插入智能广告":"当前页面无法插入，请尝试浏览其他页面";p&&(z="已无合适的位置可插入"),I&&(q="横屏小程序仅支持插屏广告预览",z="暂不支持20:7 横幅广告、16:9 横版广告、9:16 竖版广告，建议使用竖屏小程序预览开启智能广告"),RW({title:q,content:z,confirmText:"我知道了",cancelText:"本页不再提示",success(e){e.cancel&&(dGe[r].noPrompt=!0)},__sdk_inner_allowShowMoreLength__:!0})}}if(a){if(!n)return;n.forEach((e=>{var n,i=0;"entity"===e.type?i=1:"for"===e.type&&(i=2);var u=e.platformId;Tze(t,u,(d=>{if(2===d.status){mze({allCostTime:d.timestamp-c,insertResult:a,applyCompileCache:!1,realComputeCostTime:o,sessionId:L,position:e.screen,algorithmPosition:e.key,page:r,resultType:1,adPullCost:n,inScrollView:e.inScrollView,platformId:u,adType:i,cacheCostTime:s,isExposure:!0,isPreviewCache:b,isPreload:null!=d&&d.isPreload?1:0,isValidPreload:null!=d&&d.isValidPreload?1:0,illegalExposure:null==d?void 0:d.illegalExposure,maxExposureRatio:null==d?void 0:d.maxExposureRatio,type:1,wxadType:d.realType?d.realType:P,requestCost:d.requestCost,preload:d.preload});var p=vGe[r];p&&(p.generalAdShow=!0),Promise.all([wg(Mq)(),xGe()]).then((([e,t])=>{var n,i;e=Number(e.data);var a=vGe[r];yze({path:r,appVersion:e,cacheKey:d.cacheKey,validLcpTime:null==a?void 0:a.lcp,clsScore:null==a||null===(n=a.cls)||void 0===n?void 0:n.pageComplexityScore,isLargeShift:null==a||null===(i=a.cls)||void 0===i?void 0:i.isLargeScaleLayoutShift,type:2})})),Eze(t,u)}else if(1===d.status)if(n=d.timestamp-l,d.result){var h=vGe[r];h&&(h.generalAdRequestTime||(h.hasGeneralAdPreload=d.preload,h.generalAdRequestTime=d.requestCost))}else n=-n,mze({allCostTime:d.timestamp-c,insertResult:a,applyCompileCache:!1,realComputeCostTime:o,sessionId:L,position:e.screen,algorithmPosition:e.key,page:r,resultType:1,adPullCost:n,inScrollView:e.inScrollView,platformId:u,adType:i,cacheCostTime:s,isExposure:!1,isPreviewCache:b,type:2,wxadType:d.realType?d.realType:P}),Eze(t,u)})),mze({allCostTime:o,insertResult:a,applyCompileCache:!1,realComputeCostTime:o,sessionId:L,position:e.screen,algorithmPosition:e.key,page:r,resultType:0,adPullCost:0,inScrollView:e.inScrollView,platformId:u,adType:i,cacheCostTime:s,isPreviewCache:b,wxadType:P,forceUsePreviewAdType:A,waitCost:x,emitPhase:E,type:3})}))}else mze({allCostTime:o,insertResult:!1,realComputeCostTime:o,sessionId:L,page:r,resultType:0,errMsg:k,type:4,wxadType:P})}eze()||Promise.all([wg(Mq)(),xGe()]).then((([e])=>{var t;e=Number(e.data),(i||b)&&(t=b?w:_);var o,s,l=vGe[r];!a||t?yze({path:r,appVersion:e,usePreviewCache:b,useCache:i,cacheKey:t,insertResult:a,clsScore:null==l||null===(o=l.cls)||void 0===o?void 0:o.pageComplexityScore,validLcpTime:null==l?void 0:l.lcp,isLargeShift:null==l||null===(s=l.cls)||void 0===s?void 0:s.isLargeScaleLayoutShift,type:1}):n.forEach((t=>{var n,o;yze({path:r,appVersion:e,usePreviewCache:b,useCache:i,cacheKey:t.key,insertResult:a,clsScore:null==l||null===(n=l.cls)||void 0===n?void 0:n.pageComplexityScore,validLcpTime:null==l?void 0:l.lcp,isLargeShift:null==l||null===(o=l.cls)||void 0===o?void 0:o.isLargeScaleLayoutShift,type:1})}))})),C&&Object.keys(C).forEach((e=>{T.reportIDKey({key:`polyfill_${e}`,type:"aiad"})})),T.reportIDKey({key:"call",type:"aiad"}),a?(T.reportIDKey({key:"call_success",type:"aiad"}),i||b?T.reportIDKey({key:"insert_with_cache",type:"aiad"}):T.reportIDKey({key:"insert_without_cache",type:"aiad"})):T.reportIDKey({key:"call_fail",type:"aiad"}),d&&(T.reportIDKey({key:"try_insert_general_ad",type:"aiad"}),a&&T.reportIDKey({key:"try_insert_general_ad_success",type:"aiad"}))}})),en("aiadIllegalExposure",(e=>{}));var EGe={};en("currentPageExistMap",((e,t)=>{EGe[t]||(EGe[t]={}),EGe[t].map={exist:!0}})),en("webviewInitReady",((e,t)=>{var r=cHe[t];vGe[r]||(vGe[r]={}),vGe[r].lastEnterTime=Date.now()})),g.on("pageOnAppRoute",(({path:e})=>{if(Cf("enableAIAD")){var t=Date.now();e===yGe?vGe[e]&&(vGe[e].lastEnterTime=t):(vGe[yGe]?vGe[yGe].stayTime=t-vGe[yGe].lastEnterTime:yGe&&console.error("[aiad error] unexpected page benchmark path: ",yGe),vGe[e]?vGe[e].lastEnterTime=t:vGe[e]={lastEnterTime:Date.now()}),mGe[e]||(mGe[e]={number:0}),mGe[e].number++,Object.keys(vGe).forEach((t=>{if(t!==e){var r,n=vGe[t];if(n)bze({path:t,stayTime:n.stayTime?n.stayTime:Date.now()-n.lastEnterTime,hasInterstitialAdPreload:n.hasInterstitialAdPreload,hasInterstitialAdShow:n.hasInterstitialAdShow,interstitialAdRequestTime:n.interstitialAdRequestTime,interstitialAdResult:n.interstitialAdRequestResult,interstitialAdShowDistanceEnter:n.interstitialAdShowDistanceEnter,generalAdShow:n.generalAdShow,generalAdRequestTime:n.generalAdRequestTime,hasGeneralAdPreload:n.hasGeneralAdPreload,entryNumber:null===(r=mGe[t])||void 0===r?void 0:r.number});delete vGe[t]}})),yGe=e}})),sk((()=>{Cf("enableAIAD")&&Object.keys(vGe).forEach((e=>{var t,r=vGe[e];r&&bze({path:e,stayTime:r.stayTime?r.stayTime:Date.now()-r.lastEnterTime,hasInterstitialAdPreload:r.hasInterstitialAdPreload,hasInterstitialAdShow:r.hasInterstitialAdShow,interstitialAdRequestTime:r.interstitialAdRequestTime,interstitialAdResult:r.interstitialAdRequestResult,interstitialAdShowDistanceEnter:r.interstitialAdShowDistanceEnter,generalAdShow:r.generalAdShow,generalAdRequestTime:r.generalAdRequestTime,hasGeneralAdPreload:r.hasGeneralAdPreload,entryNumber:null===(t=mGe[e])||void 0===t?void 0:t.number});delete vGe[e]}))})),en("aiadPageMark",((e,t)=>{var r=cHe[t],n=e.type,i=e.value;vGe[r]||(vGe[r]={}),"lcp"===n&&(vGe[r].lcp=i.val),"cls"===n&&(vGe[r].cls={isLargeScaleLayoutShift:i.isLargeScaleLayoutShift,pageComplexityScore:i.pageComplexityScore})})),en("delayCacheVerifyResult",((e,t)=>{var r=cHe[t],{result:n,distance:i,usePreviewCache:a}=e;yze({type:3,path:r,verifyCanUseDistance:i,verifyCanUseResult:n,usePreviewCache:a})}));var MGe=e=>{var t,r;return null===(t=EGe[e])||void 0===t||null===(r=t.map)||void 0===r?void 0:r.exist},RGe=()=>vGe,OGe={},DGe=e=>{OGe=e},LGe=e=>MGe(e),NGe=(e,t)=>{var r=(OGe[e]||[]).concat(OGe["*"]||[]);if(r.length){var n=!1;for(var i of r){if(1===i)if(LGe(t)){n=!0;break}}return n}return!1},BGe=_S(),$Ge=qw.WX_COMPILE_PREFIX.path,jGe="wxfile://ad/cacheAiadMetaInfo.txt",FGe="/aiadMetaInfo.txt",WGe,UGe=!1,VGe={},qGe={},zGe={},GGe=!1,HGe=()=>GGe,KGe=[],JGe=[],XGe=()=>KGe,YGe=()=>{JGe.length&&JGe.includes(O.getCurrentRoutePathWithoutQuery())&&en("readyPreloadAiAd",(e=>{var t=2===e.template?"custom":"banner",r=[{type:t,mode:"aiad",adTemplId:"custom"===t?"2-1":"1",realTemplId:"custom"===t?2:void 0,migrateBannerAdTemplId:9}];e.needForType&&e.needEntityType&&("custom"===t?2===e.needForType&&2===e.needEntityType?r.push({type:"custom",mode:"aiad",adTemplId:"2-2",realTemplId:2}):1!==e.needForType&&1!==e.needEntityType||r.push({type:"banner",mode:"aiad",adTemplId:"1",migrateBannerAdTemplId:9}):"banner"===t&&(1===e.needForType&&1===e.needEntityType?r.push({type:"banner",mode:"aiad",adTemplId:"2",migrateBannerAdTemplId:9}):2!==e.needForType&&2!==e.needEntityType||r.push({type:"custom",mode:"aiad",adTemplId:"2-1",realTemplId:2}))),Ewe(r)}))},QGe=(e,t,r={})=>new Promise(((n,i)=>{var a=()=>{BGe.writeFile({filePath:t,encoding:"utf8",data:JSON.stringify(r),success:()=>{n()},fail:e=>{i(e)}})};BGe.access({path:e,success:()=>{a()},fail:()=>{BGe.makeDir({dirPath:e,success:()=>{a()}})}})})),ZGe=()=>{QGe($Ge,$Ge+FGe,WGe).then((()=>{QGe("wxfile://ad",jGe,{lastUseAiadTime:Date.now()})})).catch((e=>{y.error("[aiad infos] cache meta info fail:",e)}))},eHe=function(){var e=xd()((function*(){var e=qqe(),t=Cf("enableCacheAiadMetaInfos");if(e){if(Wqe()){var r=Hqe();WGe=r.__apply_release_config__?null:r}}else null===e&&(WGe=null,Gqe(!1));if(WGe)return YGe(),WGe;if(UGe)return WGe={},Promise.resolve(WGe);var n=()=>EE({apiName:"webapi_getaiadconfig",reqData:{libVersion:Du(),single_version_configuration:Cf("aiadUseSingleVersionConfiguration")}}).then((e=>{var r=e.data.info_list;if(Fze&&y.warn("[aiad info] app aiadconfig infos: ",r),!r)return null;r.forEach((e=>{JGe.push(e.path)})),YGe();var n={};r.forEach((e=>{var t=e.path,r="string"==typeof e.path&&e.path.indexOf("?");!1!==r&&-1!==r&&(e.path=t=e.path.slice(0,r)),n[t]=e})),WGe=n,t&&ZGe();var i=0,a=[];if(Object.keys(n).forEach((e=>{var t=n[e];if(t.extra_info){var r=JSON.parse(t.extra_info);(r.isInterstitialAd||r.onlyInterstitialAd)&&(i++,a.push(t.path))}})),i>0){var o=Cf("aiadEnablePreviewInterstitialAd");xwe(a),o&&a.forEach((e=>{Twe(e)}))}if(e.data.extra_info){var s=JSON.parse(e.data.extra_info);WGe.previewInfos=s.previewInfos}return e.data.wait_time&&(WGe.waitTime=e.data.wait_time),WGe})).catch((e=>{y.warn("[aiad error] getAIADMetaInfos error: ",e)}));return t?yield Promise.race([new Promise(((e,t)=>{BGe.readFile({filePath:$Ge+FGe,encoding:"utf8",success:r=>{try{WGe=JSON.parse(r.data),e()}catch(e){t(e)}},fail:e=>{t(e)}})})).catch((e=>{y.warn("[aiad info] read aiad meta infos",e)})),n()]).then((e=>{e||y.info("[aiad info] use cache meta info",WGe)})):yield n(),WGe}));return function(){return e.apply(this,arguments)}}(),tHe=()=>EE({sdkApiName:"",apiName:"webapi_getaiadinterstitialrecommend",reqData:{appid:f.accountInfo&&f.accountInfo.appId}}).then((e=>{var t;if(y.info("webapi_getaiadinterstitialrecommend res: ",e),e.data&&null!==(t=e.data.pageinfo_list)&&void 0!==t&&t.length){var r,n=null!==(r=e.data.strategy_list)&&void 0!==r?r:[];return{paths:e.data.pageinfo_list,strategies:n}}return{paths:[],strategies:[]}})).catch((e=>{if(e)return y.warn("webapi_getaiadinterstitialrecommend error: ",e),e})),rHe=!1,nHe=()=>rHe,iHe=(e,t,r)=>{var n=e,i=()=>Promise.all([eHe(),xGe(t)]).then((([i,a])=>{if(null!=r&&r.skipPreviewVerify&&(i={"**":!0}),!i)return null;var o,s,l=[],c=[];return i[n]?(zGe[t]=!0,aHe(n,i.previewInfos,a).then((e=>{Fze&&y.warn("[aiad debug] getCompileInfos res: ",e),l=null==e?void 0:e.infos,o=null==e?void 0:e.cacheStrategy,c=null==e?void 0:e.shieldInfos,s=null==e?void 0:e.useDynamicCache})).catch((e=>{y.warn("[aiad system] getCompileInfo error:",e,n)})).then((()=>{if(i[n]){var e={};if(i[n].extra_info)try{e=JSON.parse(i[n].extra_info)}catch(e){y.warn("[aiad error] unexpected path extraInfo: ",n)}if(Fze&&Wze&&y.warn("[aiad debug] current pageExtraInfoObj: ",e," compileInfos: ",l),(e.isInterstitialAd||e.onlyInterstitialAd)&&g.emit("emitInterstitialAiad",{path:n}),e.onlyInterstitialAd)return;return{compileInfos:l,useReleaseAd:!0,cacheStrategy:o,pageExtraInfo:i[n].extra_info,shieldInfos:c,useDynamicCache:s,...i.waitTime?{waitTime:i.waitTime}:{}}}}))):i["*"]?{unitId:Uqe(),cacheStrategy:{applyCache:!1,computed:!0,writeCache:!1,forceWriteCache:!1}}:i["**"]?(rHe=!0,tHe().then((t=>{var{paths:r,strategies:n}=t;Array.isArray(r)&&(r.forEach((e=>{-1===KGe.indexOf(e.pagepath)&&KGe.push(e.pagepath)})),GGe||(GGe=!0,dGe[e]&&g.emit("aiadInterstitialAiadLoadDone",KGe))),null!=n&&n.length&&DGe({"*":n})})),sHe(e).then((t=>(Fze&&y.warn("[aiad debug] currentPathMaybeWaterfall: ",t),hGe[e]=t,{unitId:void 0,useReleaseAd:!0,cacheStrategy:{applyCache:!1,computed:!0,writeCache:!1,forceWriteCache:!1},helperInfos:{waterfall:t}})))):null})),a=(null==r?void 0:r.skipPreviewVerify)||eze();return It(a)?a.then((e=>qqe()?(!0===e&&Kr("enableAiadPreload",null,[t]),i()):Promise.resolve(null))):null!=r&&r.skipPreviewVerify?i():qqe()?(!0===a&&Kr("enableAiadPreload",null,[t]),i()):Promise.resolve(null)},aHe=(e,t,r)=>{var n=VGe[e],i=qGe[e];if(n){var a=[],o=[];n.forEach((e=>{a.push({key:e.key,val:e.value,isPreview:e.isPreview}),e.__local=!0})),i&&i.forEach((e=>{o.push({key:e.key,value:e.value,isPreview:e.isPreview})}));var s={cacheStrategy:Ize(),infos:a,shieldInfos:o};return Promise.resolve(s)}return new Promise((n=>{Mq({success(i){var a=i.data;fze(a).then((i=>{if(i&&(i=i[e]),(i=[])&&i.length){var o=[],s=Ize();s||(s=wze(a,t,i,r),Pze(s)),VGe[e]||(VGe[e]=[]),i.forEach((({key:t,value:r,isPreview:n})=>{VGe[e].push({key:t,value:r,isPreview:n,__local:!0}),o.push({key:t,val:r,isPreview:n}),o.push(r)})),n({infos:o,cacheStrategy:s})}else{var l=Cf("forceUsePreloadVersion"),c=Cf("aiadUseDynamicUsrCache");EE({sdkApiName:"",apiName:"webapi_getaiadtempcache",reqData:{page:e,version:"trial"===re.envVersion?999999:Number(a),forceUsePreloadVersion:l,useDynamicCache:c,single_version_configuration:Cf("aiadUseSingleVersionConfiguration")}}).then((i=>{var o,s=[],l=[];if(i.errno||i.err_code);else{var u=i.data.shield_list,d=i.data.value_list||[];(o=Ize())||(o=wze(a,t,i.data,r),Pze(o)),u&&u.forEach((t=>{t.key&&(l.push({key:t.key,val:t.value,isPreview:t.is_preview}),qGe[e]||(qGe[e]=[]),qGe[e].push({key:t.key,value:t.value,isPreview:t.is_preview}))})),d.forEach((t=>{t.key&&t.value&&(!c||i.data.canUseCache||t.is_preview)&&(s.push({val:t.value,key:t.key,isPreview:t.is_preview,...c&&!t.is_preview?{score:t.score}:{}}),VGe[e]||(VGe[e]=[]),VGe[e].push({key:t.key,value:t.value,isPreview:t.is_preview}))}))}return n({infos:s,cacheStrategy:o,shieldInfos:l,useDynamicCache:c})})).catch((e=>{y.warn("[aiad system] webapi_getaiadtempcache fail: ",e),n()}))}}))}})}))},oHe=(e,t,r,n=!1)=>{var i;(i=xd()((function*(){for(var n of t)yield gze(r,e,n)})),function(){return i.apply(this,arguments)})();var a=[];t.forEach(function(){var e=xd()((function*(e){var t=e.key;t||y.warn("[aiad system] write cache info not set key");var r=JSON.stringify(Object.assign({},e,{key:void 0}));VGe[t]=r,n||a.push({key:t,value:r})}));return function(t){return e.apply(this,arguments)}}()),a.length&&xGe().then((t=>{var n,i=null===(n=Ize())||void 0===n?void 0:n.forceWriteCache;y.info("[aiad info] set temp cache: ",a,Number(r)),EE({sdkApiName:"",apiName:"webapi_setaiadtempcache",reqData:{page:e,value_list:a,version:Number(r),algorithm_version:t,force_update:!!i,single_version_configuration:Cf("aiadUseSingleVersionConfiguration")}}).then((e=>{})).catch((e=>{y.warn("[aiad system] setCompileInfos error: ",e)}))}))},sHe=e=>new Promise((t=>{EE({sdkApiName:"getaiadrawpageview",apiName:"webapi_getaiadrawpageview",reqData:{info_list:[{path:e,screen:100,scrollviewId:0},{path:e,screen:180,scrollviewId:0}]}}).then((e=>{var r;if(Fze&&y.warn("[aiad request] webapi_getaiadrawpageview res: ",e),null!==(r=e.data)&&void 0!==r&&r.pageviews){var n,i,a=null===(n=e.data.pageviews[0])||void 0===n?void 0:n.pageview,o=null===(i=e.data.pageviews[1])||void 0===i?void 0:i.pageview;if(void 0===a||void 0===o)return t({result:!0});if(a>150&&0===o)return t({result:!1});if(a>=150&&a<1e3)return t(o/a>.05?{result:!0,strong:!0}:{result:!0,strong:!1});if(a>=1e3&&a<1e4)return t(o/a>.04?{result:!0,strong:!0}:{result:!0,strong:!1});if(a>=1e4)return t({result:!0,strong:!1});t({result:!0})}else t({result:!0})})).catch((e=>{y.warn("webapi_getaiadrawpageview error: ",e),t({result:!0})}))})),lHe=new Set,cHe={};function uHe(){return lHe}var dHe=!1;re.onReady((()=>{Py({success(e){"wifi"!==e.networkType&&"4g"!==e.networkType&&"5g"!==e.networkType||(dHe=!0,en("tracePageHeight",((e,t)=>{"scrollview"===e.type||"scrollview-update"===e.type?(Tqe[t]||(Tqe[t]={}),e.scrollviewIdx&&(Tqe[t][e.scrollviewIdx]||(Tqe[t][e.scrollviewIdx]={}),"scrollview"===e.type?Tqe[t][e.scrollviewIdx].initHeight=e.data:(Tqe[t][e.scrollviewIdx].maxHeight=e.data,Tqe[t][e.scrollviewIdx].scrollHeight=e.extra.currentScrollTop))):(xqe[t]||(xqe[t]={}),xqe[t].initHeight=e.height)})))}})}));var pHe=[],hHe;g.on("aiadInterstitialAiadLoadDone",(e=>{y.warn("aiadInterstitialAiadLoadDone emit"),hHe=e,pHe.forEach((t=>{t(e)})),pHe=[]}));var fHe=(e,t)=>()=>{if(gHe===e){var r=e.slice(0,e.length-5);if(hHe.includes(r))g.emit("emitInterstitialAiad",{webviewId:t});else NGe(e,t)&&g.emit("emitInterstitialAiad",{webviewId:t,ope:"add"})}},gHe,vHe;function mHe(e,t){var r=ir(`${e}:BeforeAppRoute`),n=ir(`${e}:AppRoute`),i=ir(`${e}:AppRouteDone`),a=ir(`${e}:BeforePageLoad`),o=ir(`${e}:AfterPageLoad`),s=ir(`${e}:BeforePageUnload`),l=ir(`${e}:AfterPageUnload`),c=e.split("/")[0];t.wx.onBeforeAppRoute=e=>{r.onMethod(e)},t.wx.offBeforeAppRoute=()=>{r.offMethod()},pK[`${e}`]=e=>{var t=NC(e);t.path=Xd(t.path),delete t.timeStamp,r.emit(BC(t,c))},t.wx.onAppRoute=e=>{n.onMethod(e)},t.wx.offAppRoute=()=>{n.offMethod()},hK[`${e}`]=e=>{var t=NC(e);t.path=Xd(t.path),n.emit(BC(t,c))},t.wx.onAppRouteDone=e=>{i.onMethod(e)},t.wx.offAppRouteDone=()=>{i.offMethod()},fK[`${e}`]=e=>{var t=AK(e);t.path=Xd(t.path),i.emit(xK(t,c))},t.wx.onBeforePageLoad=e=>{a.onMethod(e)},t.wx.offBeforePageLoad=()=>{a.offMethod()},gK[`${e}`]=e=>{a.emit(QH(e,c))},t.wx.onAfterPageLoad=e=>{o.onMethod(e)},t.wx.offAfterPageLoad=()=>{o.offMethod()},vK[`${e}`]=e=>{o.emit(QH(e,c))},t.wx.onBeforePageUnload=e=>{s.onMethod(e)},t.wx.offBeforePageUnload=()=>{s.offMethod()},mK[`${e}`]=e=>{s.emit(QH(e,c))},t.wx.onAfterPageUnload=e=>{l.onMethod(e)},t.wx.offAfterPageUnload=()=>{l.offMethod()},yK[`${e}`]=e=>{l.emit(QH(e,c))}}ur("onAppRoute",IU.useTracedEnd(((e,t=0)=>{var r,n,i,o;e.__ts__=Date.now(),e.routeEventId=(null===(r=e.qualityData)||void 0===r?void 0:r.navId)||`${e.webviewId}_${e.__ts__}`,PK.set(Xd(e.path),e.routeEventId);var s=null==e||null===(n=e.singlePageData)||void 0===n?void 0:n.pageId;if(t=void 0!==s?s:void 0!==e.webviewId?e.webviewId:t,e.webviewId=t,IU.traceBeginEvent("Framework",`AppRoute#${e.openType}`,e),re.appLaunchInfo&&re.appLaunchInfo.inBackground&&"appLaunch"===e.openType)return pM(!0),void UQ(!0);hM()&&"autoReLaunch"===e.openType&&(e.openType="appLaunch",setTimeout((()=>pM(!1)),0)),y.info(`[WABaseLib.Critical] onAppRoute with webviewId=${t}, res=${JSON.stringify(e)} ${Date.now()}`),Tu.appRoute=!0,Tu.appRouteDone=!1;var l=R$(e,t);if(!l.rewritten){if(l.triggerNotFound){T.reportIDKey({key:"pageNotFound",force:!0});var c=e.path;if(A$(e,t),"string"==typeof c&&!c.endsWith(".html")&&e.notFound)return void y.warn(`path: "${c}", .html suffix is required`)}if(e.renderer=e.renderer||"webview",bK(e),void 0!==O){O.checkIsWebviewPageDetach();var u=e.query;if(O.traceRoutePathWithoutQuery(e.path),"appLaunch"===e.openType)if(Uze()?Zqe(!0,e.renderer):"1"===u.__platform_aiad_preview&&u.__platform_expire_time>Date.now()&&("1"===u.__use_incremental_add&&eGe(!0),Zqe(!1,e.renderer)),Cf("enableAIAD")&&Cf("aiadEnablePreviewInterstitialAd")){var d=O.getCurrentRoutePathWithoutQuery();d.endsWith(".html")&&(d=d.slice(0,-5)),Twe(d)}var p=O.getCurrentRoutePathWithoutQuery();if(p){var h=O.endTraceLastRouteStayTime();Lqe(vHe,{path:p,stayTime:h}),Rqe(),Oqe()}vHe=t,dHe&&(setTimeout((()=>{Kr("needTracePageHeight",{},[t])}),2e3),Kr("needTracePageHeightScrollview",{},[t])),O.startTraceLastRouteStayTime();var f=O.getSafeRoutePath(e.path,u,re.appLaunchInfo.scene);O.traceRoutePath(f),O.traceFullyRoutePath(e.path,u),O.updateWebviewPageInfo(),cHe[t]=e.path;try{g.emit("pageOnAppRoute",{path:O.getCurrentRoutePathWithoutQuery()})}catch(e){y.warn("pageOnAppRoute error: ",e)}}gHe=e.path,hHe?nHe()?pHe.push(fHe(gHe,t)):fHe(gHe,t)():pHe.push(fHe(gHe,t)),e.path=Xd(e.path),Ur(t,e.renderer),uu.pageRenderer=e.renderer;var v="skyline"===e.renderer?"glass-easel":"exparser";br.setComponentFramework(t,v),e.overrideEntryPagePath&&console.info(`For developer: Entry page path has been overridden: ${e.path}`),L.chooseRenderMode(e.renderer);var m,b=uu.singlePageData||{},_=-2147483648,w=void 0,S=uu.currentWebviewId;if("skyline"===e.renderer)_=(b=null!==(m=e.singlePageData)&&void 0!==m?m:{}).windowId;if("navigateTo"===e.openType&&b.routeType){var C=L.genRouteConfig({windowId:_,pageId:t,routeType:b.routeType,routeOptions:b.routeOptions,externalRouteConfig:b.routeConfig});w=C?kNe(C):void 0}if(uu.singlePageData={},null!=re&&null!==(i=re.tabBar)&&void 0!==i&&i.custom){var k=e.openType;if("appLaunch"===k||"reLaunch"===k||"autoReLaunch"===k){var I=()=>{Jr("initTabBar",e,[vr.SCL_TABBAR_VIEW_ID])};lNe(re.tabBar)?cNe().then(I):I()}}if("dismissPip"!==e.openType&&(uu.lastRoute=e.path||"",uu.lastRawQuery=JSON.parse(JSON.stringify(e.query||{}))),uu.lastOpenType=e.openType,["appLaunch","autoReLaunch"].includes(e.openType)&&lHe.add(t),!lHe.has(t))for(var P in e.query)try{e.query[P]=decodeURIComponent(e.query[P])}catch(e){}if("dismissPip"!==e.openType&&(y.info("[onAppRoute] set global query"),uu.query=e.query,uu.rawPath=e.rawPath,y.info("[onAppRoute] set global currentWebviewId to "+t),uu.currentWebviewId=t),void 0!==a&&a.features&&a.features.pruneWxConfigByPage){var A=e.preloadRule||re._preloadRule&&re._preloadRule[e.path],x=e.page||re._page&&re._page[e.path+".html"];if(A&&(re.updatePreloadRule(e.path,A),e.preloadRule,re.preloadRule),x){var E=re.global&&re.global.window||{};x.window=Object.assign({},E,x.window),O.traceRawRoutePath(e.path),re.updatePage(e.path,x),e.page,re.page}}Kr("pingWebView",{t:Date.now()},[e.webviewId]);var R=uu.getWebviewIds();R.includes(e.webviewId)||R.push(e.webviewId),Kr("onAppRoute",e,R),pF(),kF(),Zp.emitter.emit("onAppRoute",e);var D=()=>{try{IU.traceBeginEvent("Framework","onAppRouteCallback",e),e.timeStamp=e.__ts__,_K(e)}finally{IU.traceEndEvent()}};if(["autoReLaunch","reLaunch"].includes(e.openType)){var N,B=null===(N=M)||void 0===N?void 0:N.getEnv();null==B||B.tabBarManager.reset(),null==B||B.appBarManager.reset()}if("glass-easel"===v){var $,j=!1,F=null===($=re.tabBar)||void 0===$?void 0:$.custom;re.tabBar&&Array.isArray(re.tabBar.list)&&re.tabBar.list.forEach((t=>{Xd(t.pagePath)===e.path&&(j=!0)}));var W={windowId:_,pageId:s,prevPageId:S,routeConfigId:w,path:e.path,openType:e.openType,isTab:j},U=M.getEnv();if(0===U.totalStaticConfigCount()){var V="No any glass-easel component configs found in space, "+(Ce?"update devtool to run glass-easel":"may be not a valid code package");return void T.thirdErrorReport({error:new Error(V)})}var q,z=U.newAdapterPage(e.webviewId);if(j&&F){var G,H=U.tabBarManager.createTabBar((null===(G=re.tabBar)||void 0===G?void 0:G.renderer)||e.renderer||"webview");z.setTabBarId(H)}if(re.appBar)if("skyline"===e.renderer)null!==(q=SkylineGlobal)&&void 0!==q&&q.AppBarContext?(U.appBarManager.createAppBar(_),z.setAppBarOwnerWindowId(_)):console.info("For developer: <app-bar> component is not yet supported in the current skyline version");else console.info("For developer: <app-bar> component can only be used in skyline render mode");z.init(W,D)}else D();"appLaunch"!==e.openType&&"boolean"==typeof(null===(o=e.qualityData)||void 0===o?void 0:o.isWebviewPreload)&&(T.reportFrameworkIDKey(7),T.reportFrameworkIDKey(e.qualityData.isWebviewPreload?8:9))}})));var yHe=(e,t)=>{md("getAppConfig",e,t)},bHe=function(e){qt("onAppConfig",e)},_He=function(e){qt("onPullDownRefresh",e)},wHe=function(e){qt("onShareAppMessage",e)},SHe=function(e){qt("onAddToFavorites",e)},CHe=function(e){qt("onStartHandoff",e)},kHe=(e,t)=>{md("addToFavorites",e,t)},IHe=(e,t)=>{Kr("analyticsConfig",e,t)},PHe=(e,t)=>{md("reportRealtimeAction",e,t)},AHe=(e,t)=>{md("shareAppMessage",e,t)},xHe=(e,t)=>{md("shareAppMessageDirectly",e,t)},THe=(e,t)=>{md("shareAppMessageToSpecificContactDirectly",e,t)},EHe=(e,t)=>{md("shareAppMessageForFakeNative",e,t)},MHe=(e,t)=>{md("shareAppMessageToSpecificContactForFakeNativeDirectly",e,t)},RHe=(e,t)=>{md("checkHandoffEnabled",e,t)},OHe=e=>{en("recycleStatistics",e)},DHe=e=>{en("savePageState",e)},LHe=e=>{en("tapShareButton",e)},NHe=e=>{en("tapHandoffButton",e)},BHe=e=>{en("tapShareTimeLineButton",e)},$He=(e,t)=>{md("showUpdatableMessageSubscribeButton",e,t)},jHe=e=>qt("onShareTimeline",e),FHe=(e,t)=>md("shareTimeline",e,t),WHe=e=>md("showShareTimelineMenu",e),UHe=qF,VHe=pie,qHe=die,zHe=Xp,GHe=rR,HHe=nR,KHe=function(e){tR.call(this,e)},JHe=TU,XHe=(e,t)=>{Kr("functionalPage",e,t)},YHe=(e,t)=>{Kr("pageScrollTo",e,t)},QHe=(e,t)=>{Kr("telecontrol",e,t)},ZHe=(e,t)=>{Kr("__updateAppData",e,t)},eKe=e=>{en("subjectChangeInfo",e)},tKe=e=>{TE({apiName:"webapi_report_data",reqData:e})},rKe=e=>{Kr(`emitPage${e}`)},nKe=(e,t={})=>{TE({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:2,...e},...t})},iKe=e=>{md("getConnectedWifi",e)},aKe=e=>{md("startWifi",e)},oKe=(e="")=>aD().SHA1(e).toString(),sKe=()=>re.subPackages||re.subpackages,lKe=p(405),cKe=p.n(lKe),uKe=Object.prototype.hasOwnProperty;function dKe(e,t){Object.keys(e).forEach((r=>{var n=e[r];n instanceof RegExp?t[r]=n.toString():"object"==typeof n&&null!==n?(t[r]={},dKe(n,t[r])):t[r]=n}))}function pKe(e){var t={};return dKe(e,t),cKe()(JSON.stringify(t))}function hKe({url:e,method:t,data:r=""}){return r&&(r=JSON.stringify(r)),`${t}-${e}-${r}`}function fKe(e,t){return cKe()(`${e}|${t}`)}function gKe(e){return cKe()("string"==typeof e?e:JSON.stringify(e))}function vKe(e){if(e){var t=e.split("/"),r=[],n=t.map((e=>":"===e[0]?(r.push(e),"(\\w+)"):e)).join("/");return{params:r,regExp:new RegExp(`^${n}$`,"ig")}}}function mKe(e){if(e)return Object.keys(e).map((t=>({key:t,value:e[t]})))}function yKe(e,t,r,n){if(void 0!==t){if("function"==typeof t)return t(r);if(t instanceof RegExp)return r=null==r?"":r.toString(),t.test(r);if("object"===e)return wKe(t,r,n);if(r!==t)return!1}return!0}function bKe(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===e?e:"object"===t?{}:void 0}function _Ke({type:e="any",value:t},r,n,i){var a,o=-1!==e.indexOf("[]"),s=Array.isArray(n);if(e=e.replace("[]",""),o&&!s)return!1;if(o&&"any"!==e){a=typeof n[0];for(var l=1,c=n.length;l<c;l++)if(typeof n[l]!==a)return!1}else a=typeof n;var u=o?n[0]:n;if("any"!==e)switch(e){case"string":case"number":case"boolean":if(a!==e)return!1;break;case"null":if(null!==u)return!1;break;case"object":if(a!==e||Array.isArray(u)||null===u)return!1}if(o){i[r]=[];for(var d=0,p=n.length;d<p;d++){var h=bKe(n[d]);if(!yKe(e,t,n[d],h))return!1;i[r].push(h)}}else{var f=bKe(n);if(!yKe(e,t,n,f))return!1;i[r]=f}return!0}function wKe(e,t,r){if(!Array.isArray(e))return!1;for(var n=0,i=e.length;n<i;n++){var{name:a,schema:o}=e[n];if(a&&o){if(!uKe.call(t,a))return!1;var s=t[a];if(Array.isArray(o)){for(var l=!1,c=0,u=o.length;c<u;c++){if(l=_Ke(o[c],a,s,r))break}if(!l)return!1}else if("object"==typeof o&&!_Ke(o,a,s,r))return!1}}return!0}function SKe(){var e=null,t=null,r=r=>{if(e){for(var n=e;n.next&&n.time<r.time;)n=n.next;n.next?n.time>=r.time&&(r.next=n,r.prev=n.prev,n.prev&&(n.prev.next=r),n.prev=r,n===e&&(e=r)):(n.next=r,r.prev=n,r.next=null,t=r)}else e=r,t=r},n=r=>{var n=(t=>{if(e)for(var r=e;r;){if(r.key===t)return r;r=r.next}})(r);if(n){var{prev:i,next:a}=n;return i&&(i.next=a),a&&(a.prev=i),n===e&&(e=a),n===t&&(t=i),n.prev=n.next=null,n}};return{addMap:e=>{for(var t=Object.keys(e),n=0,i=t.length;n<i;n++){var a=t[n];r({key:a,time:e[a][1]})}},add:(r,i)=>{var a=n(r)||{key:r};a.time=i,e?(t.next=a,a.prev=t,t=a):(e=a,t=a)},del:n,each:t=>{if(e)for(var r=e;r;)t(r.key),r=r.next},eliminate:r=>{for(var n=[];e&&r;)n.push(e.key),e=e.next,r--;return e?e.prev=null:t=null,n}}}var CKe=um.cache,kKe=SKe(),IKe={};function PKe(e,t,r){kKe.add(t,r),IKe[t]=[e,r],CKe.setStorage({key:"cache|meta",data:IKe})}function AKe(e,t){var r=fKe(e,t);CKe.removeStorage({key:r,success(){kKe.del(r),delete IKe[r],CKe.setStorage({key:"cache|meta",data:IKe})}})}function xKe(e,t){var r=e.length,n=0,i=()=>{++n>=r&&(CKe.setStorage({key:"cache|meta",data:IKe}),t&&t())};e.forEach((e=>{CKe.removeStorage({key:e,success(){kKe.del(e),delete IKe[e],i()},fail:i})}))}function TKe(e){var t=[];kKe.each((r=>{IKe[r][0]===e&&t.push(r)})),t&&t.length&&xKe(t)}function EKe(e){CKe.getStorageInfo({success(t){var{keys:r,currentSize:n,limitSize:i}=t;if(r.length>100||n>.66*i){var a=kKe.eliminate(5);a.length?xKe(a,e):e()}else e()}})}function MKe(e,t,r,n){CKe.setStorage({key:t,data:r,success:()=>PKe(e,t,n)})}function RKe(e,t){var r=Date.now(),n=e.rule.id,i=hKe(e),a=fKe(n,i);EKe((()=>MKe(n,a,t,r)))}function OKe(e){var t=e.rule.id,r=hKe(e),n=fKe(t,r);try{var i=CKe.getStorageSync(n);if(i){var a=Date.now(),o=e.rule.maxAge;if(a-i.ts<o)return PKe(t,n,a),{cacheId:r,...i};CKe.removeStorage({key:n,success:()=>AKe(t,r)})}else CKe.removeStorage({key:n})}catch(e){}return null}function DKe(e,t={},r,n){var i=`cache|${e}`;t=gKe(t),EKe((()=>{CKe.setStorage({key:i,data:{args:t,data:r,expire:n}})}))}function LKe(e,t){var r=`cache|${e}`;t=gKe(t);try{var n=CKe.getStorageSync(r);return!n||n.args!==t||Date.now()>n.expire?void CKe.removeStorage({key:r}):n.data}catch(e){}return null}re.onReady((()=>{CKe.getStorage({key:"cache|meta",success:e=>{e&&(IKe=e.data,kKe.addMap(IKe)),CKe.getStorageInfo({success(e){e.keys.forEach((e=>{0!==e.indexOf("cache|")&&(IKe[e]||CKe.removeStorage({key:e}))}))}})}})}));var NKe=Object.prototype.hasOwnProperty,BKe=new WeakMap;function $Ke(){var e=new Map,t={},r=o3.WEAK_NETWORK,n=a3.UNKNOWN,i="",a=l3,o=t=>{if("string"==typeof t){var r=t.split(/\s+/gi);if(1===r.length)return o({url:r[0]});if(2===r.length)return o({url:r[1],method:r[0]})}else{if(t instanceof RegExp)return o({url:t});if("object"==typeof t){var{id:n,method:s,url:l}=t,c=l instanceof RegExp;if(n="string"==typeof n?n.trim():null,s="string"==typeof s&&s.trim().toUpperCase()||"ALL",l=c?l:"string"==typeof l?l.trim():null,n&&e.has(n))return;if(-1===s3.indexOf(s))return;if(!l)return;var u={};if(c)u={isRegExp:c,regExp:l};else{if(-1===l.indexOf("://")&&("/"!==l[0]&&(l=`/${l}`),l=i+l),-1===l.indexOf("://"))return;var{protocol:d,host:p,path:h,query:f}=Qd(l);u={isRegExp:c,protocol:d,host:p,path:vKe(h),query:mKe(f)}}if(u.method=s,u.dataSchema=t.dataSchema,u.maxAge=Math.min(t.maxAge||a,c3),!n&&(n=pKe(u),e.has(n)))return;return u.id=n,u}}},s=(t,r,n="GET")=>{var a,o=e.values();n=n.toUpperCase();var{protocol:s,host:l,path:c,query:u}=Qd(t),d=`${s}://${l}`,p=[],h={};for(var f of o)if("ALL"===f.method||f.method===n){if(f.isRegExp){f.regExp.lastIndex=0;var g=f.regExp.exec(t);if(!g){if(i!==d)continue;if(f.regExp.lastIndex=0,!(g=f.regExp.exec(t.replace(`${s}://${l}`))))continue}}else{if(s!==f.protocol)continue;if(l!==f.host)continue;if(f.path.regExp.lastIndex=0,!f.path.regExp.exec(c))continue;if(f.query){var v=!0;for(var m of(p.length=0,f.query)){var{key:y,value:b}=m;if(!u||!NKe.call(u,y)||b&&u[y]!==b){v=!1;break}var _=b||u[y];p.push(`${y}${_?"="+encodeURIComponent(_):""}`)}if(!v)continue}}if(f.dataSchema){if(!r||"object"!=typeof r)continue;if(!wKe(f.dataSchema,r,h))continue}a=f;break}if(a)return{rule:a,url:`${d}${c}${p.length?"?"+p.join("&"):""}`,data:h,method:n}},l={start:()=>{n=a3.ON},stop:()=>{n=a3.OFF},config:(e={})=>{i=e.origin||"",r=e.mode||o3.WEAK_NETWORK,a=Math.min(e.maxAge||l3,c3),r===o3.ALWAYS&&l.start()},emit:(e,r)=>{var n=t[e],i=[];if(n&&n.length)for(var a=n.length-1;a>=0;a--){var o=n[a];o=x.surroundThirdByTryCatch(o,`at cache's ${e} event callback function`),i.push(o(r))}return i},checkNeedStore:(e,t,r,n)=>{try{n=JSON.stringify(n)}catch(e){}Promise.resolve().then((()=>{var i=s(e,t,r);i&&RKe(i,{ts:Date.now(),res:n})}))}},c=t=>{if(Array.isArray(t)){var r=[];return t.forEach((t=>{var n=o(t);if(n){var i=n.id;e.set(i,n),r.push(i)}else r.push(null)})),r}},u=t=>{Array.isArray(t)&&t.forEach((t=>{e.has(t)&&(e.delete(t),TKe(t))}))},d=()=>{var t=e.keys();for(var r of t)TKe(r)},p={set mode(e){r=e||o3.WEAK_NETWORK},get mode(){return r},set origin(e){i=e||""},get origin(){return i},set maxAge(e){a=e||l3},get maxAge(){return a},get state(){return n},addRules:c,addRule:e=>c([e])[0],deleteRules:u,deleteRule:e=>{u([e])},clearRules:()=>{d(),e.clear()},on:(e,r)=>{"string"==typeof e&&"function"==typeof r&&(e=e.trim())&&(t[e]=t[e]||[],t[e].push(r))},off:(e,r)=>{if("string"==typeof e&&"function"==typeof r&&(e=e.trim())){var n=t[e];if(n&&n.length){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}}},start:()=>{r===o3.NONE&&l.start()},stop:()=>{r===o3.NONE&&l.stop()},match:e=>{var{url:t,data:r,method:n}=e,i=s(t,r,n);if(i){var a={};a.ruleId=i.rule.id,a.maxAge=i.rule.maxAge;var o=OKe(i);if(o){var{cacheId:l,ts:c,res:u}=o;a.cacheId=l,a.createTime=c,a.data=u;try{a.data=JSON.parse(a.data)}catch(e){}"object"==typeof u&&(u.fromCache=!0)}return D3(!!o),a}D3(!1)},deleteCaches:t=>{if(Array.isArray(t)){var r=e.keys(),n=function(e){t.forEach((t=>AKe(e,t)))};for(var i of r)n(i)}},deleteCache:t=>{var r=e.keys();for(var n of r)AKe(n,t)},clearCaches:d};return BKe.set(p,l),p}var jKe=$Ke(),FKe=BKe.get(jKe),WKe="\nmessage SKBuiltinString_t {\n  optional string String = 1;\n}\n\nmessage BaseRequest {\n  required bytes SessionKey = 1;\n  required uint32 Uin = 2;\n  required bytes DeviceID = 3;\n  required int32 ClientVersion = 4;\n  required bytes DeviceType = 5;\n  optional uint32 Scene = 6;\n}\n\nmessage BaseResponse {\n  required int32 Ret = 1;\n  required SKBuiltinString_t ErrMsg = 2;\n}\n",UKe=`\n${WKe}\nmessage JSAPIBaseResponse {\n\toptional int32 errcode = 1;\n\toptional string errmsg = 2;\n}\n\nmessage ScopeInfo\n{\n\toptional string scope = 1;\n\toptional string desc = 2;\n\toptional uint32 auth_state = 3;\n  optional string ext_desc = 4;\n  optional string auth_desc = 5;\n\toptional string sub_desc = 6;\n\toptional string auth_wording = 7;\n}\n\nmessage WxaExternalInfo\n{\n\toptional string host_appid = 1;\n\toptional uint32 scene = 2;\n\toptional uint32 source_env = 3;\n}\n\nmessage WxaPluginAppInfo\n{\n\toptional string plugin_appid = 1;\n\toptional string custom_version = 2;\n\toptional uint32 inner_version = 3;\n}\n\nmessage JSAuthorizeRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 version_type = 4;\n\toptional WxaExternalInfo ext_info = 5;\n\toptional string jsapi_name = 6;\n\toptional WxaPluginAppInfo plugin_info = 7;\n}\n\nmessage JSAuthorizeResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeInfo scope_list = 3;\n\toptional string appname = 4;\n\toptional string appicon_url = 5;\n\toptional string cancel_wording = 6;\n\toptional string allow_wording = 7;\n\toptional string apply_wording = 8;\n\toptional AlertPrivacyInfo privacy_info = 9;\n\toptional string jsapi_scope = 11;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 12;\n}\n\nmessage ScopeRiskWxaAppInfo\n{\n\toptional string username = 1;\n\toptional string path = 2;\n\toptional uint32 version = 3;\n\toptional uint32 scene = 4;\n\toptional uint32 type = 5;\n}\n\nmessage ScopeRiskPopUpInfo\n{\n\toptional int32 route_type = 1;\n\toptional bytes wording = 2;\n\toptional bytes left_button_wording = 3;\n\toptional bytes right_button_wording = 4;\n\toptional bytes right_button_h5_url = 5;\n\toptional ScopeRiskWxaAppInfo wxa_app_info = 6;\n\toptional int32 native_route_type = 7;\n}\n\nmessage ScopeRiskInfo\n{\n\toptional string scope = 1;\n\toptional ScopeRiskPopUpInfo risk_popup_info = 2;\n}\n\nmessage UserPrivacyProtectInfo\n{\n\toptional bool need_show = 1;\n\toptional string wording = 2;\n}\n\nmessage JSAuthorizeConfirmRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 opt = 4;\n\toptional uint32 version_type = 5;\n\toptional WxaExternalInfo ext_info = 6;\n\toptional bool privacy_protect_info_checked = 7;\n}\n\nmessage JSAuthorizeConfirmResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeRiskInfo risk_info_list = 3;\n}\n\nmessage JSOperateWxDataRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\toptional bytes data = 3;\n\toptional string grant_scope = 4;\n\toptional uint32 opt = 5;\n\toptional uint32 version_type = 6;\n\toptional WxaExternalInfo ext_info = 7;\n\toptional uint32 avatar_id = 8;\n\n\toptional string session_id = 9;\n\toptional uint32 avatar_opt = 10;\n\toptional bool privacy_protect_info_checked = 11;\n}\n\nmessage UserAvatarItem\n{\n    optional uint32 id = 1;\n    optional string nickname = 2;\n    optional string avatarurl = 3;\n    optional string desc = 4;\n}\n\nmessage UserAvatarInfo\n{\n\trepeated UserAvatarItem avatar_list = 1;\n\toptional bool is_ban_modify_avatar = 2;\n\toptional uint32 avatar_limit = 3;\n\toptional uint32 default_avatar_id = 4;\n\toptional string default_headimg_url = 5;\n\toptional string default_headimg_fileid = 6;\n\toptional string avatar_wording = 7;\n\toptional string limit_wording = 8;\n}\n\nmessage AlertPrivacyInfo\n{\n\toptional bool need_show_privacy = 1;\n\toptional string privacy_wording = 2;\n}\n\nmessage JSOperateWxDataResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\toptional bytes data = 3;\n\toptional ScopeInfo scope = 4;\n\toptional string appname = 5;\n\toptional string appicon_url = 6;\n\n\tmessage DebugInfo\n\t{\n\t\toptional string data = 1;\n\t\toptional string session_key = 2;\n\t}\n\toptional DebugInfo debug_info = 7;\n  optional bool need_hold_longconn = 8;\n\toptional string cancel_wording = 9;\n\toptional string allow_wording = 10;\n\toptional string apply_wording = 11;\n\toptional UserAvatarInfo avatar_info = 12;\n\toptional AlertPrivacyInfo privacy_info = 13;\n\toptional uint32 long_polling_timeout = 14;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 15;\n}\n`;function VKe(e){for(var t=[],r=0,n=e.length;r<n;r++)e[r]>=240&&e[r]<=247?(t.push(String.fromCodePoint(((7&e[r])<<18)+((63&e[r+1])<<12)+((63&e[r+2])<<6)+(63&e[r+3]))),r+=3):e[r]>=224&&e[r]<=239?(t.push(String.fromCodePoint(((15&e[r])<<12)+((63&e[r+1])<<6)+(63&e[r+2]))),r+=2):e[r]>=192&&e[r]<=223?(t.push(String.fromCodePoint(((31&e[r])<<6)+(63&e[r+1]))),r++):t.push(String.fromCodePoint(e[r]));return t.join("")}var qKe={},zKe={},GKe={getLocation:"userLocation",chooseLocation:"userLocation",enableLocationUpdate:"userLocation",startRecord:"record",joinVoIPChat:"record",operateRecorder:"record",insertCamera:"camera",insertXWebCamera:"camera",openBluetoothAdapter:"bluetooth",createBLEPeripheralServer:"bluetooth",saveImageToPhotosAlbum:"writePhotosAlbum",saveVideoToPhotosAlbum:"writePhotosAlbum"},HKe={userLocation:"地理位置",record:"麦克风",camera:"摄像头",bluetooth:"蓝牙",writePhotosAlbum:"添加到相册"},KKe={userLocation:"获取你的位置信息",record:"使用你的麦克风",camera:"使用你的摄像头",bluetooth:"使用你的蓝牙",writePhotosAlbum:"保存图片或视频到你的相册"},JKe={},XKe={jsapi_camera:"camera",jsapi_location:"userLocation",jsapi_photos_album:"writePhotosAlbum",jsapi_record:"record",webapi_bluetooth:"bluetooth"},YKe={[u3.JS_AUTHORIZE]:{req:"JSAuthorizeRequest",resp:"JSAuthorizeResponse",process:(QKe=xd()((function*(e){L3(p3.PROXY_AUTHORIZE);var t=e.jsapi_name,r=GKe[t];"authorize"!==t&&t||!e.scope||!e.scope.length||(r=(e.scope[0]||"").replace("scope.",""));var n={errcode:-12e3,errmsg:"need confirm"},i={sub_desc:JKe[r]||" "};if(r&&KKe[r]){i.scope=`scope.${r}`,i.desc=KKe[r];var a=qKe[i.scope]||0;1===a||7===re.appType?n={errcode:0,errmsg:"has authorized"}:2===a&&(zKe[r]?n={errcode:-12006,errmsg:"user deny"}:((yield new Promise(((e,t)=>{qW(),RW({title:"",content:`小程序尝试再次申请${KKe[r]}，此前你已拒绝过该申请。`,confirmText:"前往确认",cancelText:"再次拒绝",showCancel:!0,upper:!0,success({confirm:t}){e(!!t)},fail:t})})))||(n={errcode:-12006,errmsg:"user deny"}),zKe[r]=!0)),L3(p3.PROXY_AUTHORIZE_SUCCESS,r);var{nickname:o,icon:s}=re.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:n,scope_list:[i],appname:o,appicon_url:s,cancel_wording:"拒绝",allow_wording:"允许",apply_wording:"申请",privacy_info:{need_show_privacy:!0,privacy_wording:`你授权后，小程序引用的插件开发者将收集你的${HKe[r]}信息，为你提供相关服务。开发者严格按照《${o}小程序隐私保护指引》处理你的个人信息，但由于当前处于弱网环境，无法在线展示该隐私保护指引，你可在正常网络条件下通过点击小程序右上角“…”->点击小程序名称->“更多资料”中进行查询。如你发现开发者不当处理你的个人信息，可在“更多资料”页面进行投诉。`},risk_info:[],jsapi_scope:""}}})),function(e){return QKe.apply(this,arguments)}),content:UKe},[u3.JS_AUTHORIZE_CONFIRM]:{req:"JSAuthorizeConfirmRequest",resp:"JSAuthorizeConfirmResponse",process(e){var t=e.scope,r=e.opt;return t&&t.length&&t.forEach((e=>qKe[e]=r)),{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},risk_info_list:[]}},content:UKe},[u3.JS_OPERATE_WX_DATA]:{req:"JSOperateWxDataRequest",resp:"JSOperateWxDataResponse",process(e){L3(p3.PROXY_OPERATE_WX_DATA);try{var t=JSON.parse(VKe(new Uint8Array(e.data))),r=t.api_name;if("webapi_reportwxauseuserinfo"===r||"webapi_reportclicheckresult"===r){var{nickname:n,icon:i}=re.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},data:Uint8Array.from(["{".codePointAt(0),"{".codePointAt(1)]).buffer,appname:n,appicon_url:i}}}catch(e){console.error(e)}},content:UKe}},QKe;function ZKe(){return p(945)()}var eJe={};function tJe(e){var t=gKe(e);return eJe[t]||(eJe[t]=ZKe()(e)),eJe[t]}function rJe(e){if(YKe[e])return YKe[e].proto||(YKe[e].proto=tJe(YKe[e].content)),YKe[e]}function nJe(){var e,t,r=null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxa_privacy_list;r&&r.length&&r.forEach((e=>{var t=XKe[e.scope];t&&(JKe[t]=e.sub_desc||"")})),qt("onClientRequest",function(){var e=xd()((function*(e){var t=rJe(e.api),r=!1,n=!1,i=null;if(t){r=!0;var a=null;try{a=t.proto[t.req].decode(new Uint8Array(e.data)),n=!0}catch(e){return}try{var o=yield t.process(a);o&&(i=t.proto[t.resp].encode(o))}catch(e){return}}md("responseClientRequest",{id:e.id,support:r&&n&&!!i,data:i&&i.buffer})}));return function(t){return e.apply(this,arguments)}}())}function iJe(){qKe={},zKe={}}var aJe=!1,oJe=!1,sJe=d3.reduce(((e,t)=>(e[t]=!0,e)),{}),lJe=ir("networkWeakChange");function cJe(){return aJe&&(Ie||ke||Ce)}function uJe(e){if(e&&e.extra){var t=e.extra.apiList;Array.isArray(t)&&(sJe={},t.forEach((e=>{e=e.replace("wx.",""),d3.indexOf(e)>=0&&(sJe[e]=!0)})))}}var dJe=()=>sJe;function pJe(e,t){e&&!e.reason&&(jKe.mode===o3.WEAK_NETWORK&&(e.switch?FKe.start():FKe.stop()),e.switch?(oJe=!0,uu.isWeakNetwork=!0,iJe(),FKe.emit("enterWeakNetwork"),A3()):t&&(oJe=!1,uu.isWeakNetwork=!1,iJe(),FKe.emit("exitWeakNetwork"),x3()))}qt("onToggleWxappLibServerMode",function(){var e=xd()((function*(e){pJe(e,!0);var t=yield yd("getNetworkType",{});t&&t.networkType&&(uu.currentNetworkType=t.networkType),lJe.emit({weakNet:uu.isWeakNetwork,networkType:uu.currentNetworkType})}));return function(t){return e.apply(this,arguments)}}()),re.onReady((()=>{pJe(re.serverMode),nJe()}));var hJe=(e,t,r,n,i,a,o,s,l)=>{var c=FKe.emit("request",{url:t,data:r,method:n,request:()=>new Promise(((t,r)=>{var n={...i};n.success=t,n.fail=r,n.complete=null,e(n)}))});if(c.length){var u=c.find((e=>e&&"function"==typeof e.then));if(u)return u.then((e=>{a&&"function"==typeof a&&a(e),s&&"function"==typeof s&&s(e)})).catch((e=>{o&&"function"==typeof o&&o(e),s&&"function"==typeof s&&s(e)})),{abort:()=>{},onChunkReceived:()=>{},offChunkReceived:()=>{},onHeadersReceived:()=>{},offHeadersReceived:()=>{}}}l&&(o&&"function"==typeof o&&o(l),s&&"function"==typeof s&&s(l))};function fJe(e){var t=e.request;e.__defineGetter__("request",(()=>function(e={}){if(initOfflineCacheReport(e),!cJe())return t(e);var{url:r,data:n,method:i,success:a,fail:o,complete:s}=e,l=e=>{privateCacheManager.checkNeedStore(r,n,i,e),a&&"function"==typeof a&&a(e)};if(cacheManager.state===STATE.UNKNOWN)e.success=e=>{a&&"function"==typeof a&&l(e),s&&"function"==typeof s&&s(e)},e.fail=l=>hJe(t,r,n,i,e,a,o,s,l),e.complete=null;else if(cacheManager.state===STATE.ON){var c=hJe(t,r,n,i,e,a,o,s);if(c)return c}else cacheManager.state===STATE.OFF&&(e.success=l);return t(e)})),DEFAULT_CACHE_API_LIST.forEach((t=>{var r=e[t];e.__defineGetter__(t,(()=>function(e={}){if(!cJe()||!sJe[t])return r(e);var{success:n,fail:i,complete:a}=e,o=!n&&!i&&!a,s={};if(Object.keys(e).forEach((t=>{"function"!=typeof e[t]&&(s[t]=e[t])})),!oJe){var l=Date.now()+cacheManager.maxAge;return o?r(e).then((e=>(setApi(t,s,e,l),e))):(e.success=function(e){setApi(t,s,e,l),"function"==typeof n&&n(e)},r(e))}var c=getApi(t,s);return c?("object"==typeof c&&(c.fromCache=!0),o?new Promise((e=>e(c))):"function"==typeof n?(n(c),void a(c)):void 0):r(e)}))})),initOfflineCacheReport(e)}function gJe(e){return O3(),uJe(e),FKe.config(e),aJe=!0,jKe}var vJe=e=>br.getCurrentPagesByDomain(e);function mJe(e){md("updateTranslateEntry",{state:e})}function yJe(e){md("updateTranslateEntry",{pageState:e})}function bJe(e){md("updateTranslateEntry",{buttonState:e})}function _Je(){bJe(AF.Hidden),mJe(IF.Reset),("appLaunch"===uu.lastOpenType||"autoReLaunch"===uu.lastOpenType)&&jF();var e=$S();e.translateLanguage&&"language_default"!==e.translateLanguage?LF(e.translateLanguage):LF(e.language);var t=gW();t&&(OF.has(t.__wxWebviewId__)||OF.set(t.__wxWebviewId__,{pageState:PF.RequireTranslate,translateStatus:!1,translateLangChanged:!1}))}uu.appStatus=nu.FORE_GROUND,uu.hanged=!1,KC((e=>{Date.now()})),sk((e=>{Date.now()})),df((()=>{uu.appStatus=nu.FORE_GROUND})),Gp((e=>{"hide"===e.mode?uu.appStatus=nu.LOCK:uu.appStatus=nu.BACK_GROUND,"close"===e.mode?uu.hanged=!1:"hang"===e.mode&&(uu.hanged=!0)})),MVe((()=>{uu.hanged=!1}));var wJe=!1,SJe=()=>wJe;function CJe(){("appLaunch"===uu.lastOpenType||"autoReLaunch"===uu.lastOpenType)&&("webview"===uu.pageRenderer&&bJe(AF.Untranslate),jF());var e=$S();e.translateLanguage&&"language_default"!==e.translateLanguage?LF(e.translateLanguage):LF(e.language),EF!==IF.Untranslate&&mJe(IF.Reset);var t=gW();if(t)if(OF.has(t.__wxWebviewId__)||OF.set(t.__wxWebviewId__,{pageState:PF.RequireTranslate,translateStatus:!1,translateLangChanged:!1}),"webview"===uu.pageRenderer){var r=OF.get(t.__wxWebviewId__);EF===IF.Untranslate&&(r.translateStatus||r.translateLangChanged)&&PJe(),r.translateLangChanged&&(r.translateLangChanged=!1,OF.set(t.__wxWebviewId__,r)),uu.hasWebViewCompnent?(yJe(PF.RequireTranslate),EF===IF.Translated&&md("translateHTMLWebView",{translate:!0})):(Kr("initPageTranslateLanguage",{translateLanguage:MF},[t.__wxWebviewId__]),Kr("checkPageState",{},[t.__wxWebviewId__]))}else uu.pageRenderer}function kJe(){var e,t,r=gW();if(r){var n=null===(e=OF.get(r.__wxWebviewId__))||void 0===e?void 0:e.translateStatus;(null===(t=OF.get(r.__wxWebviewId__))||void 0===t?void 0:t.pageState)!==PF.RequireTranslate||EF!==IF.Translated&&EF!==IF.Translating||!0===n||(NF(!0),IJe(),DF(IF.Translating),setTimeout((()=>{EF===IF.Translating&&mJe(IF.Translating)}),1e3))}}function IJe(e=!1){if("webview"===uu.pageRenderer)if(uu.hasWebViewCompnent)md("translateHTMLWebView",{translate:!0,success(e){/ok/.test(e.errMsg)?(DF(IF.Translated),mJe(IF.Translated)):$W({icon:"none",title:"未能完成翻译，请检查网络设置后再试。",duration:1e3})},fail(){$W({icon:"none",title:"未能完成翻译，请检查网络设置后再试。",duration:1e3})}});else{mW(e);var t=gW();if(OF.has(t.__wxWebviewId__))OF.get(t.__wxWebviewId__).translateStatus=!0}else uu.pageRenderer;bW()}function PJe(){if("webview"===uu.pageRenderer)if(uu.hasWebViewCompnent)md("translateHTMLWebView",{translate:!1});else{yW();var e=gW();if(OF.has(e.__wxWebviewId__))OF.get(e.__wxWebviewId__).translateStatus=!1}_W(),DF(IF.Untranslate),mJe(IF.Reset)}function AJe(e,t){if(!Ue()&&e&&t&&!uu.navigationBarTitleMap[e]){var r="";re.page[t]&&re.page[t].window&&rt(re.page[t].window.navigationBarTitleText)?r=re.page[t].window.navigationBarTitleText:re.global&&re.global.window&&rt(re.global.window.navigationBarTitleText)&&(r=re.global.window.navigationBarTitleText),uu.navigationBarTitleMap[e]=r}}re.onReady((()=>{Tf({experimentId:ke?"clicfg_miniprogram_global_translate_android":"clicfg_miniprogram_global_translate_ios",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(wJe=!0)}})})),en("translateCurrentPageFinished",(()=>{DF(IF.Translated),RF?(mJe(IF.Reset),NF(!1)):mJe(IF.Translated)})),en("changePageState",(e=>{var t=gW();if(t){if(yJe(e.pageState),OF.has(t.__wxWebviewId__))OF.get(t.__wxWebviewId__).pageState=e.pageState;var r="appLaunch"===uu.lastOpenType||"autoReLaunch"===uu.lastOpenType;e.pageState===PF.RequireTranslate&&r&&(DF(IF.Untranslate),e.showCapsule&&mJe(IF.Untranslate)),r||kJe()}})),en("webViewComponentAutoTranslate",(()=>{SJe()&&("appLaunch"===uu.lastOpenType||"autoReLaunch"===uu.lastOpenType?DF(IF.Untranslate):EF===IF.Translated&&md("translateHTMLWebView",{translate:!0,success(e){/ok/.test(e.errMsg)?(DF(IF.Translated),mJe(IF.Translated)):$W({icon:"none",title:"未能完成翻译，请检查网络设置后再试。",duration:1e3})},fail(){$W({icon:"none",title:"未能完成翻译，请检查网络设置后再试。",duration:1e3})}}))})),qt("onTranslateEntryClick",(e=>{if(e.action===xF.Confirm)vQ(),bJe(AF.Translated),mJe(IF.Translating),DF(IF.Translating),IJe();else{if(bJe(AF.Untranslate),mJe(IF.Reset),EF===IF.Translated&&PJe(),EF===IF.Translating){var t=gW();if(!t)return;Kr("breakTranslate",{},[t.__wxWebviewId__]),PJe()}DF(IF.Untranslate)}})),qt("onTranslateLanguageChange",(e=>{if(void 0!==e.translateLanguage){"language_default"===e.translateLanguage?LF(JS().language):LF(e.translateLanguage);var t=gW();if(!t)return;"webview"===uu.pageRenderer&&(PJe(),vW(),Kr("changeWebviewTranslateLanguage",{translateLanguage:"language_default"===e.translateLanguage?JS().language:e.translateLanguage,type:e.type||0},[t.__wxWebviewId__]))}else y.error("[translate] lack of res.translateLanguage")})),en("resetLanguageChangedPageState",(e=>{yJe(e.pageState),e.type!==TF.Setting&&(e.pageState===PF.RequireTranslate?(mJe(IF.Translating),DF(IF.Translating),IJe(!0),bJe(AF.Translated)):(DF(IF.Untranslate),bJe(AF.Untranslate)))})),ur("onAppRouteDone",IU.useTracedEnd(((e,t=0)=>{var r;y.info(`[WABaseLib.Critical] onAppRouteDone with webviewId=${t}, res=${JSON.stringify(e)} ${Date.now()}`),e.__ts__=Date.now(),e.timeStamp=e.__ts__;var n=null==e||null===(r=e.singlePageData)||void 0===r?void 0:r.pageId;t=void 0!==n?n:void 0!==e.webviewId?e.webviewId:t,e.webviewId=t,IU.traceBeginEvent("Framework","AppRouteDone",e),Tu.appRoute=!1,Tu.appRouteDone=!0,Eu();var i=mp(e.path);"wxpage://"===i&&(e.path="__wx__/"+e.path.slice(i.length));var a="";e.path&&(a=e.path,e.path=Xd(e.path)),"dismissPip"!==uu.lastOpenType&&(uu.lastRoute=e.path||""),e.openType||(e.openType=uu.lastOpenType),wK(e),Kr("onAppRouteDone",{frameset:e.frameset,webviewId:e.webviewId},[t]),zr("notifyDestroyPageContext",{},["skyline"]),AJe(e.path,a),_M.unblock(),"wxpage://"===i&&(uu.openingInnerPage=!1),SJe()&&(ke||Ie)&&(He()&&"embedded"!==re.appLaunchInfo.mode&&CJe(),He()&&"embedded"===re.appLaunchInfo.mode&&_Je())})));var xJe=(e={})=>{Vc("getLabInfo",e,{labId:""})&&md("getLabInfo",e)},TJe=(e={})=>{Vc("setLabInfo",e,{labId:"",enabled:Boolean()})&&md("setLabInfo",e)},EJe={voip1v1:1},MJe={};Object.keys(EJe).forEach((e=>{MJe[EJe[e]]=e}));var RJe=(e={})=>{if(EJe[e.msgType]){var t=NE("sendChannelMessage","webapi_sendwxachannelmsg",(e=>({msg_type:EJe[e.msgType],receiver_openid:e.receiver,msg_content:JSON.stringify(e.data||{})})),(e=>{e.msgId=e.msg_id,delete e.msg_id}));t(e)}else zc("sendChannelMessage",e,"lock of message type")},OJe=ir("receiveMsgChannel"),DJe=OJe.onMethod,LJe=OJe.offMethod;qt("onReceiveMsgChannel",(e=>{try{e.msgType=MJe[e.msgType],e.data=JSON.parse(e.msgContent),delete e.msgContent,OJe.emit(e)}catch(t){y.error("[WABaseLib.Critical] onReceiveMsgChannel parse content fail ",t," raw content: ",JSON.stringify(e))}}));var NJe=ir("receiveCacheMsgChannel"),BJe=NJe.onMethod,$Je=NJe.offMethod;qt("onReceiveCacheMsgChannelBatch",(e=>{try{var t=JSON.parse(e.cacheList);t.forEach((e=>{e.msgType=MJe[e.msgType],e.data=JSON.parse(e.msgContent),delete e.msgContent})),NJe.emit(t)}catch(t){y.error("[WABaseLib.Critical] onReceiveCacheMsgChannelBatch parse content fail ",t," raw content: ",JSON.stringify(e))}}));var jJe=["对方版本暂不支持发起视频通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的视频通话请求","对方正在通话中，请稍后再播"],FJe=["已接通","对方已挂断，通话结束","已拒绝，通话结束"],WJe=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","对方已切换到语音通话，请使用听筒接听","已切换到语音通话，请使用听筒接听","余额不足，通话结束"],UJe=["对方版本暂不支持发起语音通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的语音通话请求","对方正在通话中，请稍后再播","对方设备未开启通话选项"],VJe=["已接通，请使用听筒接听","对方已挂断，通话结束","已拒绝，通话结束"],qJe=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","声音将通过扬声器播放","声音将通过听筒播放","余额不足，通话结束"],zJe="在移动网络环境下会影响视频通话质量，并产生手机流量，确定继续？",GJe=(e=[],t={})=>{pt(e)&&(e=Object.keys(e));var r={};return e.forEach((e=>{e in t&&void 0!==t[e]&&(r[e]=t[e])})),r},HJe=new Qt({maxListeners:2e5}),KJe={onTextViewClick:"click",onImageViewClick:"click",onTextViewDrag:"drag",onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel"};Object.keys(KJe).forEach((e=>{ur(e,(t=>{var r=KJe[e];try{var n=JSON.parse(t.data).id;HJe.emit(`${r}-${n}`,t)}catch(e){}}))}));var JJe=32768,XJe;class YJe{constructor(e={}){var{props:t={},style:r={},position:n={},dataset:i={}}=e;this.parent=null,this.parentId=0,this.children={},this.events=[],this.id=++JJe,this.props=t,this.style=r,this.position=n,this.dataset=i,this.bubbleHandler()}bubbleHandler(){["touchstart","touchmove","touchend","touchcancel","click"].forEach((e=>{this.on(e,(t=>{if(this.props.bubbles&&this.parent&&!this.parent.props.transEvt){var r=this.position.left,n=this.position.top;if("click"===e){if(!this.parent.props.clickable)return;this.parent.emit(e)}else if("touchstart"===e||"touchend"===e){if(!this.parent.props.gesture)return;var i=Object.assign({},t.touch);i.x+=r,i.y+=n,i.id=this.parent.id,this.parent.emit(e,{viewId:this.parent.id,touch:i})}else{if(!this.parent.props.gesture)return;var a=t.touches.map((e=>({x:e.x+r,y:e.y+n,id:this.parent.id})));this.parent.emit(e,{viewId:this.parent.id,touches:a})}}}))}))}getAbsolutePositon(){if(!this.parent)return{left:0,top:0};var e=this.parent.getAbsolutePositon(),{left:t,top:r}=this.position;return{left:t+e.left,top:r+e.top}}hide(){return this.props.hide=!0,this.update()}show(){return this.props.hide=!1,this.update()}insert(){var e=this.insertView(),t=[];return Object.keys(this.children).forEach((e=>{var r=this.children[e];t.push(r.insert())})),Promise.all([e,...t]).then((()=>{this.emit("ready")}),(e=>{this.emit("ready")}))}update(){return this.updateView()}remove(){this.parent&&this.parent.removeChild(this);var e=[];Object.keys(this.children).forEach((t=>{var r=this.children[t];this.removeChild(r),e.push(r.remove())})),this.removeListeners();var t=this.removeView();return Promise.all([t,...e]).catch((e=>{}))}insertView(){return Promise.resolve()}updateView(){return Promise.resolve()}removeView(){return Promise.resolve()}removeListeners(){this.events.forEach((e=>{HJe.removeAllListeners(`${e}-${this.id}`)}))}appendChild(e){e.parent=this,e.parentId=this.id,this.props.independent&&(e.props.independent=!0),this.children[e.id]=e}empty(){Object.keys(this.children).forEach((e=>{var t=this.children[e];this.removeChild(t),t.remove()}))}removeChild(e){delete this.children[e.id],e.parent=null,e.parentId=0}emit(e,t){HJe.emit(`${e}-${this.id}`,t)}on(e,t){HJe.on(`${e}-${this.id}`,t)}off(e,t){HJe.off(`${e}-${this.id}`,t)}once(e,t){HJe.once(`${e}-${this.id}`,t)}}var QJe="insertTextView",ZJe="updateTextView",eXe="removeTextView",tXe="animateCoverView",rXe=(XJe=class extends YJe{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultLabel(),n=this.getDefaultStyle();this.events=["click","drag","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor);var i=this.props.label;this.style=Object.assign(n,GJe(n,this.style)),this.props=Object.assign(t,GJe(t,this.props)),this.label=Object.assign(r,GJe(r,i)),this.label.lineHeight=this.label.lineHeight||1.2*this.label.fontSize}getDefaultProps(){return{hide:!1,clickable:!1,gesture:!1,transEvt:!1,sendTo:"appservice",fullscreen:!1,independent:!1,bubbles:!1,draggable:!1,dragConfig:{}}}getDefaultLabel(){return{content:"",color:"#000000",fontSize:12,textAlign:"left",fontWeight:"normal",lineHeight:0,lineBreak:"clip",whiteSpace:"nowrap"}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,overflow:"hidden",rotate:0,scaleX:1,scaleY:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,draggable:this.props.draggable,dragConfig:this.props.dragConfig,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,data:JSON.stringify({id:this.id}),label:this.label,fullscreen:this.props.fullscreen,independent:this.props.independent,zIndex:this.style.zIndex,fixed:this.style.fixed,style:this.style,notCoverRect:!0};Object.assign(t,e),md(QJe,t)}updateView(e){var t={viewId:this.id,position:this.position,hide:this.props.hide,label:this.label,independent:this.props.independent,style:this.style,fixed:this.style.fixed,zIndex:this.style.zIndex,notCoverRect:!0,draggable:this.props.draggable,dragConfig:this.props.dragConfig};Object.assign(t,e);md(ZJe,t,{beforeFail(e){}})}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);md(eXe,t,{beforeFail(e){}})}animate(e){var t=this,r={duration:300,easing:"linear",viewId:this.id,finalStyle:{},independent:this.props.independent},n=Object.assign(r,e);md(tXe,n,{beforeSuccess(){Object.keys(n.finalStyle).forEach((e=>{e in t.position?t.position[e]=n.finalStyle[e]:e in t.style&&(t.style[e]=n.finalStyle[e])}))},beforeFail(e){y.error("animateView fail",t.id,n,e)}})}measureText(e=""){var t=0,r={text:e,fontSize:this.label.fontSize,fontWeight:this.label.fontWeight,fontStyle:"normal",fontFamily:"sans-serif",complete(e){t=e.width||0}};return md("measureText",r),t}fadeIn(e=300,t="linear"){return this.show().then((()=>this.animate({finalStyle:{opacity:1},duration:e,easing:t})))}fadeOut(e=300,t="linear"){return this.animate({finalStyle:{opacity:0},duration:e,easing:t}).then((()=>this.hide()))}fadeTo(e,t=300,r="linear"){return this.animate({finalStyle:{opacity:e},duration:t,easing:r})}slideUp(e=300,t="linear"){return this.animate({finalStyle:{height:0},duration:e,easing:t})}slideDown(e=300,t="linear"){var r=this.position.height;return this.position.height=0,this.update(),this.animate({finalStyle:{height:r},duration:e,easing:t})}},H()(XJe.prototype,"insertView",[Bt],Object.getOwnPropertyDescriptor(XJe.prototype,"insertView"),XJe.prototype),H()(XJe.prototype,"updateView",[Bt],Object.getOwnPropertyDescriptor(XJe.prototype,"updateView"),XJe.prototype),H()(XJe.prototype,"removeView",[Bt],Object.getOwnPropertyDescriptor(XJe.prototype,"removeView"),XJe.prototype),H()(XJe.prototype,"animate",[Bt],Object.getOwnPropertyDescriptor(XJe.prototype,"animate"),XJe.prototype),XJe),nXe,iXe="insertImageView",aXe="updateImageView",oXe="removeImageView",sXe=(nXe=class extends YJe{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultStyle();this.events=["click","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor),this.style=Object.assign(r,GJe(r,this.style)),this.props=Object.assign(t,GJe(t,this.props))}getDefaultProps(){return{hide:!1,iconPath:"",clickable:!1,gesture:!1,transEvt:!1,bubbles:!1,sendTo:"appservice",independent:!1}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,iconPath:this.props.iconPath,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,independent:this.props.independent,data:JSON.stringify({id:this.id}),style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,notCoverRect:!0};Object.assign(t,e),md(iXe,t)}updateView(e){var t={viewId:this.id,position:this.position,iconPath:this.props.iconPath,hide:this.props.hide,style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,independent:this.props.independent,notCoverRect:!0};Object.assign(t,e),md(aXe,t)}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);md(oXe,t)}},H()(nXe.prototype,"insertView",[Bt],Object.getOwnPropertyDescriptor(nXe.prototype,"insertView"),nXe.prototype),H()(nXe.prototype,"updateView",[Bt],Object.getOwnPropertyDescriptor(nXe.prototype,"updateView"),nXe.prototype),H()(nXe.prototype,"removeView",[Bt],Object.getOwnPropertyDescriptor(nXe.prototype,"removeView"),nXe.prototype),nXe),lXe,cXe="insertCamera",uXe="updateCamera",dXe="removeCamera",pXe=(lXe=class extends YJe{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,GJe(t,this.props))}getDefaultProps(){return{independent:!1,mode:"normal",devicePosition:"front",resolution:"medium",hide:!1}}insertView(e){var t={parentId:this.parentId,cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,resolution:this.props.resolution,hide:this.props.hide};Object.assign(t,e),md(cXe,t)}updateView(e){var t={cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,hide:this.props.hide};Object.assign(t,e),md(uXe,t)}removeView(e){var t=Object.assign({cameraId:this.id,independent:this.props.independent},e);md(dXe,t)}},H()(lXe.prototype,"insertView",[Bt],Object.getOwnPropertyDescriptor(lXe.prototype,"insertView"),lXe.prototype),H()(lXe.prototype,"updateView",[Bt],Object.getOwnPropertyDescriptor(lXe.prototype,"updateView"),lXe.prototype),H()(lXe.prototype,"removeView",[Bt],Object.getOwnPropertyDescriptor(lXe.prototype,"removeView"),lXe.prototype),lXe),hXe,fXe="insertVoIPView",gXe="updateVoIPView",vXe="removeVoIPView",mXe=(hXe=class extends YJe{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,GJe(t,this.props))}getDefaultProps(){return{independent:!1,self:!0,configCamera:"front",openid:""}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),md(fXe,t)}updateView(e){var t={viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),md(gXe,t)}removeView(e){var t=Object.assign({viewId:this.id,independent:this.props.independent,openId:this.props.openid},e);md(vXe,t)}},H()(hXe.prototype,"insertView",[Bt],Object.getOwnPropertyDescriptor(hXe.prototype,"insertView"),hXe.prototype),H()(hXe.prototype,"updateView",[Bt],Object.getOwnPropertyDescriptor(hXe.prototype,"updateView"),hXe.prototype),H()(hXe.prototype,"removeView",[Bt],Object.getOwnPropertyDescriptor(hXe.prototype,"removeView"),hXe.prototype),hXe),yXe=function(){var e,t="inherit",r="ltr",n="rtl",i="row",a="row-reverse",o="column",s="column-reverse",l="flex-start",c="center",u="flex-end",d="space-between",p="space-around",h="flex-start",f="center",g="flex-end",v="stretch",m="relative",y="absolute",b={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},_={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},w={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},S={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function C(e){return void 0===e}function k(e){return e===i||e===a}function I(e,t){if(void 0!==e.style.marginStart&&k(t))return e.style.marginStart;var r=null;switch(t){case"row":r=e.style.marginLeft;break;case"row-reverse":r=e.style.marginRight;break;case"column":r=e.style.marginTop;break;case"column-reverse":r=e.style.marginBottom}return void 0!==r?r:void 0!==e.style.margin?e.style.margin:0}function P(e,t){if(void 0!==e.style.marginEnd&&k(t))return e.style.marginEnd;var r=null;switch(t){case"row":r=e.style.marginRight;break;case"row-reverse":r=e.style.marginLeft;break;case"column":r=e.style.marginBottom;break;case"column-reverse":r=e.style.marginTop}return null!=r?r:void 0!==e.style.margin?e.style.margin:0}function A(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&k(t))return e.style.borderStartWidth;var r=null;switch(t){case"row":r=e.style.borderLeftWidth;break;case"row-reverse":r=e.style.borderRightWidth;break;case"column":r=e.style.borderTopWidth;break;case"column-reverse":r=e.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function x(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&k(t))return e.style.borderEndWidth;var r=null;switch(t){case"row":r=e.style.borderRightWidth;break;case"row-reverse":r=e.style.borderLeftWidth;break;case"column":r=e.style.borderBottomWidth;break;case"column-reverse":r=e.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function T(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&k(t))return e.style.paddingStart;var r=null;switch(t){case"row":r=e.style.paddingLeft;break;case"row-reverse":r=e.style.paddingRight;break;case"column":r=e.style.paddingTop;break;case"column-reverse":r=e.style.paddingBottom}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+A(e,t)}function E(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&k(t))return e.style.paddingEnd;var r=null;switch(t){case"row":r=e.style.paddingRight;break;case"row-reverse":r=e.style.paddingLeft;break;case"column":r=e.style.paddingBottom;break;case"column-reverse":r=e.style.paddingTop}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+x(e,t)}function M(e,t){return A(e,t)+x(e,t)}function R(e,t){return I(e,t)+P(e,t)}function O(e,t){return T(e,t)+E(e,t)}function D(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function L(e,t){if(t===n){if(e===i)return a;if(e===a)return i}return e}function N(e,t){return function(e){return e===o||e===s}(e)?L(i,t):o}function B(e){return e.style.position?e.style.position:"relative"}function $(e){return B(e)===m&&e.style.flex>0}function j(e,t){return e.layout[S[t]]+R(e,t)}function F(e,t){return void 0!==e.style[S[t]]&&e.style[S[t]]>=0}function W(e,t){return void 0!==e.style[t]}function U(e,t){return void 0!==e.style[t]?e.style[t]:0}function V(e,t,r){var n={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],i={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],a=r;return void 0!==i&&i>=0&&a>i&&(a=i),void 0!==n&&n>=0&&a<n&&(a=n),a}function q(e,t){return e>t?e:t}function z(e,t){void 0===e.layout[S[t]]&&F(e,t)&&(e.layout[S[t]]=q(V(e,t,e.style[S[t]]),O(e,t)))}function G(e,t,r){t.layout[_[r]]=e.layout[S[r]]-t.layout[S[r]]-t.layout[w[r]]}function H(e,t){return void 0!==e.style[b[t]]?U(e,b[t]):-U(e,_[t])}function K(n,x,K){var X=function(e,n){var i;return(i=e.style.direction?e.style.direction:t)===t&&(i=void 0===n?r:n),i}(n,K),Y=L(function(e){return e.style.flexDirection?e.style.flexDirection:o}(n),X),Q=N(Y,X),Z=L(i,X);z(n,Y),z(n,Q),n.layout.direction=X,n.layout[b[Y]]+=I(n,Y)+H(n,Y),n.layout[_[Y]]+=P(n,Y)+H(n,Y),n.layout[b[Q]]+=I(n,Q)+H(n,Q),n.layout[_[Q]]+=P(n,Q)+H(n,Q);var ee=n.children.length,te=O(n,Z);if(function(e){return void 0!==e.style.measure}(n)){var re=!C(n.layout[S[Z]]),ne=e;ne=F(n,Z)?n.style.width:re?n.layout[S[Z]]:x-R(n,Z),ne-=te;var ie=!F(n,Z)&&!re,ae=!F(n,o)&&C(n.layout[S[o]]);if(ie||ae){var oe=n.style.measure(ne);ie&&(n.layout.width=oe.width+te),ae&&(n.layout.height=oe.height+O(n,o))}if(0===ee)return}var se,le,ce,ue,de=function(e){return"wrap"===e.style.flexWrap}(n),pe=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(n),he=T(n,Y),fe=T(n,Q),ge=O(n,Y),ve=O(n,Q),me=!C(n.layout[S[Y]]),ye=!C(n.layout[S[Q]]),be=k(Y),_e=null,we=null,Se=e;me&&(Se=n.layout[S[Y]]-ge);for(var Ce=0,ke=0,Ie=0,Pe=0,Ae=0,xe=0;ke<ee;){var Te,Ee=0,Me=0,Re=0,Oe=0,De=me&&pe===l||!me&&pe!==c,Le=De?ee:Ce,Ne=!0,Be=ee,$e=null,je=null,Fe=he,We=0;for(se=Ce;se<ee;++se){if((ce=n.children[se]).lineIndex=xe,ce.nextAbsoluteChild=null,ce.nextFlexChild=null,(Xe=D(n,ce))===v&&B(ce)===m&&ye&&!F(ce,Q))ce.layout[S[Q]]=q(V(ce,Q,n.layout[S[Q]]-ve-R(ce,Q)),O(ce,Q));else if(B(ce)===y)for(null===_e&&(_e=ce),null!==we&&(we.nextAbsoluteChild=ce),we=ce,le=0;le<2;le++)ue=0!==le?i:o,!C(n.layout[S[ue]])&&!F(ce,ue)&&W(ce,b[ue])&&W(ce,_[ue])&&(ce.layout[S[ue]]=q(V(ce,ue,n.layout[S[ue]]-O(n,ue)-R(ce,ue)-U(ce,b[ue])-U(ce,_[ue])),O(ce,ue)));var Ue=0;if(me&&$(ce)?(Me++,Re+=ce.style.flex,null===$e&&($e=ce),null!==je&&(je.nextFlexChild=ce),je=ce,Ue=O(ce,Y)+R(ce,Y)):(Te=e,be||(Te=F(n,Z)?n.layout[S[Z]]-te:x-R(n,Z)-te),0===Ie&&J(ce,Te,X),B(ce)===m&&(Oe++,Ue=j(ce,Y))),de&&me&&Ee+Ue>Se&&se!==Ce){Oe--,Ie=1;break}De&&(B(ce)!==m||$(ce))&&(De=!1,Le=se),Ne&&(B(ce)!==m||Xe!==v&&Xe!==h||C(ce.layout[S[Q]]))&&(Ne=!1,Be=se),De&&(ce.layout[w[Y]]+=Fe,me&&G(n,ce,Y),Fe+=j(ce,Y),We=q(We,V(ce,Q,j(ce,Q)))),Ne&&(ce.layout[w[Q]]+=Pe+fe,ye&&G(n,ce,Q)),Ie=0,Ee+=Ue,ke=se+1}var Ve=0,qe=0,ze=0;if(ze=me?Se-Ee:q(Ee,0)-Ee,0!==Me){var Ge,He,Ke=ze/Re;for(je=$e;null!==je;)(Ge=Ke*je.style.flex+O(je,Y))!==(He=V(je,Y,Ge))&&(ze-=He,Re-=je.style.flex),je=je.nextFlexChild;for((Ke=ze/Re)<0&&(Ke=0),je=$e;null!==je;)je.layout[S[Y]]=V(je,Y,Ke*je.style.flex+O(je,Y)),Te=e,F(n,Z)?Te=n.layout[S[Z]]-te:be||(Te=x-R(n,Z)-te),J(je,Te,X),ce=je,je=je.nextFlexChild,ce.nextFlexChild=null}else pe!==l&&(pe===c?Ve=ze/2:pe===u?Ve=ze:pe===d?(ze=q(ze,0),qe=Me+Oe-1!=0?ze/(Me+Oe-1):0):pe===p&&(Ve=(qe=ze/(Me+Oe))/2));for(Fe+=Ve,se=Le;se<ke;++se)B(ce=n.children[se])===y&&W(ce,b[Y])?ce.layout[w[Y]]=U(ce,b[Y])+A(n,Y)+I(ce,Y):(ce.layout[w[Y]]+=Fe,me&&G(n,ce,Y),B(ce)===m&&(Fe+=qe+j(ce,Y),We=q(We,V(ce,Q,j(ce,Q)))));var Je=n.layout[S[Q]];for(ye||(Je=q(V(n,Q,We+ve),ve)),se=Be;se<ke;++se)if(B(ce=n.children[se])===y&&W(ce,b[Q]))ce.layout[w[Q]]=U(ce,b[Q])+A(n,Q)+I(ce,Q);else{var Xe,Ye=fe;if(B(ce)===m)if((Xe=D(n,ce))===v)C(ce.layout[S[Q]])&&(ce.layout[S[Q]]=q(V(ce,Q,Je-ve-R(ce,Q)),O(ce,Q)));else if(Xe!==h){var Qe=Je-ve-j(ce,Q);Ye+=Xe===f?Qe/2:Qe}ce.layout[w[Q]]+=Pe+Ye,ye&&G(n,ce,Q)}Pe+=We,Ae=q(Ae,Fe),xe+=1,Ce=ke}if(xe>1&&ye){var Ze=n.layout[S[Q]]-ve,et=Ze-Pe,tt=0,rt=fe,nt=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(n);nt===g?rt+=et:nt===f?rt+=et/2:nt===v&&Ze>Pe&&(tt=et/xe);var it=0;for(se=0;se<xe;++se){var at=it,ot=0;for(le=at;le<ee;++le)if(B(ce=n.children[le])===m){if(ce.lineIndex!==se)break;C(ce.layout[S[Q]])||(ot=q(ot,ce.layout[S[Q]]+R(ce,Q)))}for(it=le,ot+=tt,le=at;le<it;++le)if(B(ce=n.children[le])===m){var st=D(n,ce);if(st===h)ce.layout[w[Q]]=rt+I(ce,Q);else if(st===g)ce.layout[w[Q]]=rt+ot-P(ce,Q)-ce.layout[S[Q]];else if(st===f){var lt=ce.layout[S[Q]];ce.layout[w[Q]]=rt+(ot-lt)/2}else st===v&&(ce.layout[w[Q]]=rt+I(ce,Q))}rt+=ot}}var ct=!1,ut=!1;if(me||(n.layout[S[Y]]=q(V(n,Y,Ae+E(n,Y)),ge),Y!==a&&Y!==s||(ct=!0)),ye||(n.layout[S[Q]]=q(V(n,Q,Pe+ve),ve),Q!==a&&Q!==s||(ut=!0)),ct||ut)for(se=0;se<ee;++se)ce=n.children[se],ct&&G(n,ce,Y),ut&&G(n,ce,Q);for(we=_e;null!==we;){for(le=0;le<2;le++)ue=0!==le?i:o,!C(n.layout[S[ue]])&&!F(we,ue)&&W(we,b[ue])&&W(we,_[ue])&&(we.layout[S[ue]]=q(V(we,ue,n.layout[S[ue]]-M(n,ue)-R(we,ue)-U(we,b[ue])-U(we,_[ue])),O(we,ue))),W(we,_[ue])&&!W(we,b[ue])&&(we.layout[b[ue]]=n.layout[S[ue]]-we.layout[S[ue]]-U(we,_[ue]));ce=we,we=we.nextAbsoluteChild,ce.nextAbsoluteChild=null}}function J(e,t,n){e.shouldUpdate=!0;var i=e.style.direction||r;!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===i?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=i,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),K(e,t,n),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:K,computeLayout:J,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();function bXe(e){yXe.fillNodes(e),yXe.computeLayout(e)}var _Xe=p(469),wXe={view:rXe,image:sXe,voip:mXe,camera:pXe},SXe;class CXe{constructor(e,t){this.elementClassMap={},this.root=null;var r=_Xe(e).root;this.addStyle(r,t),bXe(r),this.root=this.compose(r)}querySelector(e=""){return this.querySelectorAll(e)[0]||null}querySelectorAll(e=""){return e.startsWith(".")?this.elementClassMap[e.slice(1)]||[]:null}addStyle(e,t){var r=e.attributes,n={},i=["id","class","name"];e.tagName=e.name,Object.keys(r).forEach((a=>{var o=r[a];if(""===o||"true"===o?r[a]=!0:"false"===o&&(r[a]=!1),a.startsWith("data-")){i.push(a);var s=a.slice(5);n[s]=r[a]}"class"===a&&(e.class=o&&o.trim().split(/\s+/)||[],e.style=e.class.reduce(((e,r)=>{var n=t[r]||{};return Object.assign(e,n)}),{}))})),i.forEach((e=>delete r[e])),e.dataset=n,e.children.forEach((e=>{this.addStyle(e,t)}))}compose(e){var t=e.tagName,r=wXe[t],{layout:n,attributes:i,dataset:a,content:o,style:s}=e;if(i.hidden)return null;"view"===t&&(i.label=s,i.label.content=o,i.label.padding=s.labelPadding);var l=new r({position:n,props:i,dataset:a,style:s});return e.class.forEach((e=>{this.elementClassMap[e]||(this.elementClassMap[e]=[]),this.elementClassMap[e].push(l)})),e.children.forEach((t=>{e.attributes.independent&&(t.attributes.independent=!0);var r=this.compose(t);r&&l.appendChild(r)})),l}}var kXe="insertHTMLVConsoleView",IXe="updateHTMLVConsoleView",PXe="deleteHTMLVConsoleView",AXe="sendToHTMLVConsoleView",xXe=(SXe=class extends YJe{constructor(e={}){super(e),this._hide=!0,this.handleWindowResize=()=>{var{position:e}=this.getDefaultProps();e.left=this._hide?e.width:0,this.props.position=e,this.update()};var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,GJe(t,this.props))}getDefaultProps(){var{screenHeight:e=0,screenWidth:t=0,screenTop:r=0}=ww();return{independent:!0,hide:!0,position:{top:r,left:t,width:t,height:e}}}show(){var e=this;return xd()((function*(){if(e._hide)return e._hide=!1,e.props.position.left=0,e.update()}))()}hide(){var e=this;return xd()((function*(){if(!e._hide)return e._hide=!0,e.props.position.left=e.props.position.width,e.update()}))()}insertView(e){var t={htmlId:this.id,position:this.props.position,independent:this.props.independent};Object.assign(t,e),md(kXe,t),ur("onViewDidResize",this.handleWindowResize)}updateView(e){var t={htmlId:this.id,position:this.props.position,independent:this.props.independent};Object.assign(t,e),md(IXe,t)}removeView(e){var t=Object.assign({htmlId:this.id,independent:this.props.independent},e);md(PXe,t),hr("onViewDidResize",this.handleWindowResize)}postMessage(e){return new Promise(((t,r)=>{md(AXe,{htmlId:this.id,independent:this.props.independent,data:JSON.stringify(e),success:t,fail:r})}))}},H()(SXe.prototype,"insertView",[Bt],Object.getOwnPropertyDescriptor(SXe.prototype,"insertView"),SXe.prototype),H()(SXe.prototype,"updateView",[Bt],Object.getOwnPropertyDescriptor(SXe.prototype,"updateView"),SXe.prototype),H()(SXe.prototype,"removeView",[Bt],Object.getOwnPropertyDescriptor(SXe.prototype,"removeView"),SXe.prototype),SXe),TXe="https://res.wx.qq.com/op_res/QTADvaCvE516_xRgOJ7MxnMeM_I-9bk-ngeQrOE4O6SjCk0zj-YeAVwoWDzJEFsA",EXe="https://res.wx.qq.com/op_res/uv-tkcFVNYmjSLo8oYLi6eHVUT_JFSWYhjoYd77-hNkfpHKJrm4qL1nTZBE7JdfM",MXe="https://res.wx.qq.com/op_res/MMZ7ikr1yDWDciblT6cTjGEYi5X7nUBkmxeFiAYY6pTrTZTcVWlcLB8_CsIP---k",RXe="https://res.wx.qq.com/op_res/VgAFtpPeKJeLoWBJ0QXzjP7ebzWqPqfVnfKclugzcpfp6_PkGC12B-uwBakQhvhP",OXe="https://res.wx.qq.com/op_res/eG0naaMvi5-ResXXogaG1JfWqr7axjp_DgJu1Q-Al-_KPOFwDImGlDAd1y8rHxv2",DXe="https://res.wx.qq.com/op_res/abRQv44fOA20modJp4dTaplyqzBvee7vYikt8Um1XjPwg4gGibt6kvjqG_ZgN4tl",LXe="https://res.wx.qq.com/op_res/Wvt127UTzax9olBJldzRshntgwJBswVtASV7AoLiSSsx85W_g2Umr33qRtOElgvD",NXe="https://res.wx.qq.com/op_res/ZjsLKqozyScMcOTIqmL1LHdV6M95Hz9luJu65Tf4jmzrYgBPKFKxKxDGw6GAaki9",BXe="https://res.wx.qq.com/op_res/tqnj65wMmdaQDVBAia5726VAaVtTVOcFF9PgeVrkis1gJWt_C2k7pHYWC_pjaGjR",$Xe="https://res.wx.qq.com/op_res/7f8h7wvyZo92NU4yaA3Kwp4yXLkdgj8jsA4GFUO7G6r3rBObYxqqEeDP9pgm1O2k",jXe="https://res.wx.qq.com/op_res/TnkjDXCOtdoxzei_oGVMdSiYu-0a3TBEgas1qwql8YYMyn8zwsFMDB0W272fSFZk",FXe="https://res.wx.qq.com/op_res/XWPIP9W-ZHRXSdZMoQH_RzjZ2msJo3gNU7H9HkkV8ect4MGc6KJmXRjwBqr01Mb1",WXe="https://res.wx.qq.com/op_res/wKk3iTI51g49P2MX1rfvuwvi-JfjpNM2z4wHFmXEwS8xOm0WZu0zcKnDR78QvoVo62u8fNsQEJ0rZFyWT_7K7A",UXe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABPFJREFUeAHtnF2IVkUYx/e1NI3AMrpSaI2UMkKwi6AgQRCCLtILwaSL8sIiwUTrRvrQoAgqPyD6EDQvVMyr8FaI9sLwQr0QK7WgJKKLvlZsdXNb335/nFme9+y++75zOrPvHJ0H/jzPzJkz88z/fWbOzJyz29eXJTOQGcgMZAYyA3VloFHG8WazOZ37NoA1YCG4HUwDVUmzooqGqOcHcADsajQaI6H1BhPkyDlKQ0tDG+tx+QHaXx5KUplfXZFTN3L028hn+R4kZSLoJC0sca1cRX8BLrp0amo2Dq0AM5xjp4igR6I6yRC7BLwcjtpYBZXj6OfeWfSl0CrLDDFNyF4GvZGwttFtfe/K5TIE2Xuqetp05WwFhazvXVUXfENXtd5AhTJBHX7MTFAvCOJp0Q8Ogn3gng4+JH351kjefUy9T7q6F0DSE6w/RiO1FbXaWENMezUvj2Fs9Ym66VgEvQER/xoythBFddyeVLoDH+OD4fQ1iW1jGdd3+vshaY7Jq4UZK4LU+XfAVzKczEPv9QmvIe0ZcBl8C/p9fm01nbDy6WQdoeBc8Lu9Afslfw/2NGD3du/6a1Vp6t8NxiS03pgR1MdQ+wWH1hac+gBvH3Z589F3mOv/GDsJMypB6iEkHUF9aHo7E/sQJM1CP2DyZX5XSPc8GZ0g18NX0adNbxdh7wAPmjyZZwvpnidjLRRbOkYUDRMxq8k8AfyRwwvYOi/2opOBcz6Rip6qCNJQ0/DZWOj4/SZ9gTJXTDoJMxpBRMw8cAb8AY6Dz+ix1kE/tul5cvOP/Iw5xLQOesiR8ShamEySm3/kbLQIou4Lk7ExwbWbLoLehIS/wDKgp1U/aPeDaILW9iQ5iTbEmHCv0dvtDn3MQVr/LARa+4gwr2/D1lvPb9DJSTSCij2FgGHytBay66FiseTS7UI+OUd75VAmqAPzmaBMUAcGOlzOEdSBoCl7inXwY9xllgUvkvky0BmRFpFaaXt93j0VyYorSRIEOdqifAQarvuLCzRco8xP5ImwL8FOt+7CrFaSJIguPg48ORP1WFPDfQ5Poe8Cr4PKJdU5SKvsELk3pHBI2VQjqHjS6PukoxK9KBCBgrYuv4ItIIqkSlC7CJoPC4PMN89HYWOCSpMbYky+OpK1Q+b7gt87KKMz7SmR5Aii1xo2doLeTfoTw8YsbL0VmWnyopkpElScf/Qo3wTscYjeq70fjRVTcYoEFeefs8w5V/B5NRg2vq8nip426ShmigTpAM3L3xh6cumtyBnUZtlG9kDSXJOu3EyRIM03GlaKmnV2hYyt1bU+XPdyN4a+GkmnHzhjRWuSKRUanwN+tk5gv9bOCa6l+/FCO6f/Tz5R9Cf3Pwt05u1lK0ToS7bKJZ3QDOgaJA1Q/G1zyy3Yb5l0ZWYtCXK934Y+ZpgYMXZlZqpbjY4dJIpGGVYrKfgemAGi7MdqS5AYhKTfUM/JjiV1HmKxOGmpNxPUQsf4RCZoPCctOWUIsusPu+tuqTjRRDPUrzIEXTaNzDZ2qqb1cSjUyTJPsfM0ssQ1tIJH7WFs/Wlm8K/j6oilFN13Arvjt99EdtVuGYIOUrMnSOuPVV21lEahA6FuBM8hRMx0GjkKloY21uPyA7Qf/x8LsDjTkn45eAWcAjqzsRM3ySREPsk3+Shfg8nhniyZgcxAZiAzkBmoMQP/Af+8lwiMNw+aAAAAAElFTkSuQmCC";function VXe(e){var t=`\n    <view class="container" independent="true" clickable="true">\n      <view class="overlay"></view>\n      <view class="navigationBar" clickable="true">${e.title}</view>\n\n      <view class="maxWindow"> \n        <view class="cameraContainer" hidden="${e.isVoiceRoom}">\n          <camera class="camera"></camera>\n        </view>\n        <view class="voipContainer" hidden="${e.isVoiceRoom}">\n          <view class="previewWindowSelfContainer"></view>\n          <view class="previewWindowOtherContainer"></view>\n        </view>\n\n        <image class="maskBottom" hidden="${e.isVoiceRoom}" iconPath="${jXe}"></image>\n        <image class="maskTop" hidden="${e.isVoiceRoom}" iconPath="${FXe}"></image>\n        <image class="maskVoice" hidden="${!e.isVoiceRoom}" iconPath="${WXe}"></image>\n\n        <view class="mainContainer">\n          <view class="videoInfoWindowNicknameCenter" hide="true" hidden="${e.isVoiceRoom}">${e.nickname}</view>\n          <view class="videoInfoWindow" hidden="${e.isVoiceRoom}">\n            <view class="videoInfoWindowInfo">\n              <view class="videoInfoWindowNickname">${e.nickname}</view>\n              <view class="videoInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你视频通话"}</view>\n            </view>\n            ${e.headImage?`<image class="videoInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n          </view>\n\n          <view class="operationContainer videoOperationArea" hide="true" hidden="${e.isVoiceRoom}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon switchVoiceBtn" iconPath="${MXe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切到语音通话</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${OXe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon switchCameraBtn" iconPath="${TXe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切换摄像头</view>\n            </view>\n          </view>\n\n          <view class="voiceInfoWindow" hide="${!e.isVoiceRoom}" hidden="${e.disableSwitchVoice}">\n            ${e.headImage?`<image class="voiceInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n            <view class="voiceInfoWindowNickname">${e.nickname}</view>\n            <view class="voiceInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你语音通话"}</view>\n          </view>\n\n          <view class="operationContainer voiceOperationArea" hide="true" hidden="${e.disableSwitchVoice}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon muteBtn" iconPath="${LXe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">静音</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${OXe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon handsFreeBtn" iconPath="${NXe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">免提</view>\n            </view>\n          </view>\n\n          <view class="operationContainer callArea" hidden="${!e.isCaller}">\n            <view class="operationItemContainer callItemContainer">\n              <view class="operationItemTop switchVoiceBtn callSwitchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${EXe}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon cancelBtn" iconPath="${OXe}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">取消</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="operationContainer listenArea" hidden="${e.isCaller}">\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop"></view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon refuseBtn" iconPath="${OXe}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">拒绝</view>\n              </view>\n            </view>\n            <view class="operationItemContainer listenItemContainer"></view>\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop switchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${EXe}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon listenBtn" iconPath="${RXe}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">接听</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="tips" hide="true">已接通</view>\n          <view class="duration" hide="true">00:01</view>\n          <view class="minPreviewWindowMask" clickable="true"></view>\n\n          <view class="scaleBtn" clickable="true">\n            <image class="scaleBtnIcon" iconPath="${UXe}" clickable="true" bubbles="true"></image>\n          </view>\n        </view>\n      </view>\n    </view>\n  `,r=`\n    <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n      <view class="minWindowContainer">\n        <view class="minWindowLeft" clickable="true">\n          ${e.isVoiceRoom?"":`<view class="minWindowVoipContainer" transEvt="true">\n              <image class="minWindowHeadImage" iconPath="${e.headImage}"></image>\n              <view class="minWindowVoip"></view>\n            </view>`}\n          <view class="minWindowInfo" transEvt="true">\n            <view class="minWindowNickname">${e.nickname}</view>\n            <view class="minWindowDuration">等待接听</view>\n          </view> \n        </view>\n        <view class="minWindowRight minWindowHangupBtn" clickable="true">\n          <image class="minWindowHangupIcon" iconPath="${DXe}" clickable="true" bubbles="true"></image>\n          <view class="minWindowHangupText" transEvt="true">挂断</view>\n        </view>\n      </view>\n    </view>\n  `;return 2===e.minWindowType&&(r=`\n      <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n        <view class="minWindowContainer">\n          <view class="minWindowVoipContainer" clickable="true">\n            ${e.isVoiceRoom?`<image class="minWindowHeadImage" iconPath="${DXe}" clickable="true" bubbles="true"></image>`:`<image class="minWindowHeadImage" iconPath="${e.headImage}" clickable="true" bubbles="true"></image>\n            <view class="minWindowVoip" transEvt="true"></view>`}\n          </view>\n          <view class="minWindowInfo" clickable="true">\n            <view class="minWindowNickname" transEvt="true">${e.nickname}</view>\n            <view class="minWindowDuration" transEvt="true">等待接听</view>\n          </view>\n        </view>\n      </view>\n    `),{maxWindowTemplate:t,minWIndowTemplate:r}}var qXe={CALL:0,CANCEL:1,HANG_UP:2,SWITCH_VOICE:3,REFUSE:4,ACCEPT:5,ACCEPT_AND_SWITCH_VOICE:6,RECEIVE_CALL:7,BUSY:8,NETWORK_DISCONNECT:9,NETWORK_SIGNAL_WEAK:10,DEVICE_NOT_SUPPORT:11,DISABLE_CHAT:12,ARREAR:13,SYSTEM_ERROR:14,OFFLINE_RECOVERY:15},zXe="voip1v1",GXe=6e4;class HXe{constructor(e){var{roomType:t="video",roomId:r="",groupId:n=0,disableSwitchVoice:i=!1,command:a=-1,caller:o={},listener:s={},sender:l=""}=e;this.roomType=t,this.roomId=r,this.groupId=n,this.disableSwitchVoice=i,this.command=a,this.caller=o,this.listener=s,this.sender=l}}function KXe(){var{screenWidth:e,screenHeight:t,statusBarHeight:r}=YS(),n=Ie?44:46,i=r+n+12,a=t-i,o=e-32,s=o-32-24,l=t-105,c=t-226,u=e-151,d=re.menuButtonInfo&&re.menuButtonInfo.zIndex||1e3,p={left:e-87,top:24,width:75,height:162},h={left:0,top:0,width:e,height:a};return{styleTree:{container:{width:e,height:t,zIndex:d-1},overlay:{position:"absolute",left:0,top:0,width:e,height:t,backgroundColor:"#000000",opacity:0},navigationBar:{marginTop:r,width:e,height:n,color:"#ffffff",lineHeight:n,fontSize:17,textAlign:"center",opacity:0},maxWindow:{position:"absolute",left:0,top:t,width:e,height:a+16,borderRadius:16,backgroundColor:"#262930"},cameraContainer:{position:"absolute",left:0,top:0,width:e,height:a},camera:{position:"absolute",left:0,top:0,width:e,height:a},voipContainer:{position:"absolute",left:0,top:0,width:e,height:a},mainContainer:{position:"absolute",left:0,top:0,width:e,height:a},videoAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},voiceAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},previewWindow:{width:e,height:a},scaleBtn:{position:"absolute",left:0,top:0,width:60,height:60},scaleBtnIcon:{position:"absolute",left:16,top:24,width:24,height:24},videoInfoWindow:{flexDirection:"row",justifyContent:"flex-end",position:"absolute",right:16,top:24,height:64,width:s},videoInfoWindowNicknameCenter:{position:"absolute",textAlign:"center",color:"#ffffff",lineHeight:20,fontSize:14,height:20,width:e,top:24,left:0},voiceInfoWindow:{position:"absolute",top:234,left:0,width:e,height:200,alignItems:"center"},voiceInfoWindowHeadImage:{width:96,height:96,borderRadius:16,marginBottom:8},voiceInfoWindowNickname:{width:e,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"center"},voiceInfoWindowTips:{marginTop:4,width:e,height:20,color:Oje("rgba(255,255,255,0.9)"),lineHeight:20,fontSize:14,textAlign:"center"},duration:{position:"absolute",bottom:177,width:e,height:16,color:"#ffffff",lineHeight:16,fontSize:14,textAlign:"center"},tips:{position:"absolute",left:e/2-33,bottom:225,width:66,labelPadding:[0,12,0,12],height:28,color:"#ffffff",lineHeight:28,fontSize:14,textAlign:"center",backgroundColor:Oje("rgba(0,0,0,0.5)"),borderRadius:6},operationContainer:{position:"absolute",flexDirection:"row",justifyContent:"space-between",bottom:0,width:e,height:149,paddingLeft:38,paddingRight:38},operationItemContainer:{width:84,height:149,alignItems:"center"},listenItemContainer:{height:235},listenArea:{height:235},callItemContainer:{height:235},callArea:{height:235,justifyContent:"center"},switchVoiceText:{marginTop:8},operationItemTop:{width:84,height:57,alignItems:"center"},operationItemBottom:{position:"absolute",bottom:0,left:0,width:84,height:149,alignItems:"center"},callBtnArea:{position:"absolute",bottom:0,left:0,width:e,height:149,alignItems:"center"},operationItemBtn:{borderRadius:32,justifyContent:"center",alignItems:"center",width:64,height:64},operationItemIcon:{width:64,height:64},switchVoiceIcon:{width:32,height:32},operationItemText:{marginTop:16,color:"#ffffffe5",lineHeight:17,fontSize:12,textAlign:"center",width:104,height:17,overflow:"visible"},videoInfoWindowInfo:{width:s-60,height:64},videoInfoWindowTips:{marginTop:6,width:s-60,height:20,color:Oje("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14,textAlign:"right"},videoInfoWindowNickname:{width:s-60,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"right"},videoInfoWindowHeadImage:{marginLeft:12,width:64,height:64,borderRadius:8},minPreviewWindowMask:{position:"absolute",...p},previewWindowSelfContainer:{position:"absolute",...p,zIndex:2},previewWindowOtherContainer:{position:"absolute",...h,zIndex:1},maskTop:{position:"absolute",left:0,top:0,width:e,height:145},maskBottom:{position:"absolute",left:0,top:a-201,width:e,height:201},maskVoice:{position:"absolute",left:0,top:0,width:e,height:a}},minWindowStyle1:{minWindow:{position:"absolute",left:16,top:l,height:72,width:o,backgroundColor:Oje("rgba(38,41,48,1)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:72,width:o},minWindowLeft:{flexDirection:"row",paddingLeft:12,paddingRight:12,height:48,width:s},minWindowVoipContainer:{paddingRight:12,width:56,height:48,borderRadius:6},minWindowHeadImage:{width:48,height:48,borderRadius:6},minWindowVoip:{position:"absolute",left:0,top:0,width:48,height:48,borderRadius:6},minWindowInfo:{paddingLeft:4,width:s-64,height:48},minWindowNickname:{width:s-64,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:4,width:s-64,height:20,color:Oje("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14},minWindowRight:{width:32,height:51},minWindowHangupIcon:{width:32,height:32},minWindowHangupText:{marginTop:2,width:32,height:17,color:Oje("rgba(255, 255, 255, 0.9)"),lineHeight:17,fontSize:12,textAlign:"center"}},minWindowStyle2:{minWindow:{position:"absolute",top:c,left:u,height:64,width:135,backgroundColor:Oje("rgba(44,44,44,0.70)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:64,width:135},minWindowVoipContainer:{paddingLeft:12,paddingRight:12,width:64,height:40},minWindowHeadImage:{width:40,height:40,borderRadius:4},minWindowVoip:{position:"absolute",left:12,top:0,width:40,height:40,borderRadius:4},minWindowInfo:{width:59,height:43},minWindowNickname:{width:59,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:3,width:59,height:16,color:Oje("rgba(255, 255, 255, 0.7)"),lineHeight:16,fontSize:14}},maxPreviewWindowPosition:h,minPreviewWindowPosition:p,minPreviewWindowVoipPosition:{left:0,top:0,width:75,height:162},screenWidth:e,minWindowLeft2:u,maxWindowTop:i,maxWindowHeight:a}}var JXe={},XXe=!1,YXe=()=>{XXe||(Object.assign(JXe,KXe()),XXe=!0)},QXe=(e={})=>{var t=NE("getCloudSession","webapi_getcloudimsession",(e=>({use_pluginid:void 0!==e.pluginId})),(e=>{e.sessionKey=e.session_key,delete e.session_key}));e.pluginId=Wh(void 0),t(e)},ZXe=(e={})=>{var t=NE("generateRoomId","webapi_join1v1voiproom",(e=>({use_pluginid:void 0!==e.pluginId,groupid:e.groupId,room_type:"join"===e.type?2:1,target_openid:e.targetOpenid||""})),(e=>{e.targetSupport=0===e.target_version,delete e.target_version,e.roomId=e.imroomid,delete e.imroomid,e.groupId=e.groupid,delete e.groupid}));e.pluginId=Wh(void 0),t(e)},eYe=(e={})=>{var t=NE("setVoIPChatRecord","webapi_set1v1voipcallrecord",(e=>({use_pluginid:void 0!==e.pluginId,caller_openid:e.callerOpenid,receiver_openid:e.listenerOpenid,video_time:e.videoTime||0,voice_time:e.voiceTime||0})),(()=>{}));e.pluginId=Wh(void 0),t(e)},tYe=(e={})=>{var t=operateWXDataFactory("getVoIPChatRecord","webapi_getapp1v1voipstatus",(e=>({use_pluginid:void 0!==e.pluginId,begin_date:e.begin,end_date:e.end})),(e=>{var t=e.voip_status||{},r={};r.voiceCount=t.voice_count||0,r.voiceTime=t.voice_time||0,r.videoCount=t.video_count||0,r.videoTime=t.video_time||0,e.status=r,delete e.voip_status}));e.pluginId=getPluginId(void 0),t(e)},rYe=(e={})=>{var t=NE("deductVoIPCallPay","webapi_deductapp1v1voipcallpay",(e=>({op_type:e.operationType,call_type:e.callType,use_pluginid:void 0!==e.pluginId,roomid:e.roomId,session_key:e.sessionKey})),(e=>{delete e.rawData}));e.pluginId=Wh(void 0),t(e)},nYe=wg(Zoe),iYe=wg(p9),aYe=wg(WBe),oYe=wg(ZXe),sYe=wg(QXe),lYe=wg(rYe),cYe={0:"#262930ff",1:"#FA5151ff",2:"#FA9D3Bff",3:"#3D7257ff",4:"#1485EEff",5:"#6467F0ff"},uYe={enable:!1,ignoreSelfVersion:!1,minWindowType:1,popupDuration:300,userSessionInfo:{},widget:null,backgroundColor:cYe[0],occupied:!1},dYe=(e,t)=>{y.info(`[1v1 voip] sendMessage command: ${t}`);var r=e.sender,n=uYe.userSessionInfo.openid,i=Object.assign({},e,{sender:n,command:t});RJe({msgType:zXe,receiver:r,data:i,complete(e){y.info(`[1v1 voip] sendChannelMessage command: ${t} message: ${JSON.stringify(i)}`,e)}})},pYe=()=>!(ke||Ie);DJe((e=>{y.info("[1v1 voip] onReceiveMsgChannel: ",JSON.stringify(e));var{msgType:t,data:r}=e,n=uYe.widget;t===zXe&&(n?r.sender===n.sessionInfo.otherOpenid?n.handleReceiveMessage(r.command):n.sendMessage(qXe.BUSY):r.command===qXe.CALL&&gYe().then((()=>{pYe()&&!uYe.ignoreSelfVersion?dYe(r,qXe.DEVICE_NOT_SUPPORT):uYe.enable?Bje({complete(e){y.info("[1v1 voip] hasJoinVoIPChat",e),uYe.occupied=e.join,uYe.occupied?dYe(r,qXe.BUSY):lYe({roomId:r.roomId,sessionKey:uYe.userSessionInfo.sessionKey,callType:"video"===r.roomType?1:0,operationType:1}).then((e=>{y.info("[1v1 voip] deductVoIPCallPay",e);var t=parseInt(e.errcode,10),n=parseInt(e.unused_quota_count,10);0===t&&n>0?uYe.widget=new hYe({role:"listener",minWindowType:uYe.minWindowType,backgroundColor:uYe.backgroundColor,...r}):dYe(r,qXe.ARREAR)})).catch((e=>{console.log("[1v1 voip] deductVoIPCallPay fail: ",e),dYe(r,qXe.SYSTEM_ERROR)}))}}):dYe(r,qXe.DISABLE_CHAT)})))})),BJe((e=>{y.info("[1v1 voip] onReceiveCacheMsgChannel: ",JSON.stringify(e));var t=new Set,r=null===uYe.widget;e.filter((e=>e.msgType===zXe)).forEach((e=>{var{sendTime:n,data:i}=e;t.has(i.sender)||Date.now()-n>GXe||i.command===qXe.CALL&&r&&(t.add(i.sender),dYe(i,qXe.OFFLINE_RECOVERY))}))})),Ay((e=>{y.info("[1v1 voip] onNetworkStatusChange",e),uYe.widget&&uYe.widget.onNetworkStatusChange(e)})),QBe((e=>{y.info("[1v1 voip] onVoIPChatInterrupted",e),uYe.widget&&uYe.widget.onVoIPChatInterrupted(e)})),zBe((e=>{y.info("[1v1 voip] onVoIPChatMembersChanged",e),uYe.widget&&uYe.widget.onVoIPChatMembersChanged(e)}));class hYe{constructor(e){var t={};t.roomType=e.roomType||"video",t.isVoiceRoom="voice"===e.roomType,t.isCaller="caller"===e.role,t.groupId=e.groupId,t.roomId=e.roomId,t.disableSwitchVoice=e.disableSwitchVoice||!1,t.minWindowType=e.minWindowType||1,t.caller=e.caller,t.listener=e.listener,t.lifespan=uYe.userSessionInfo.lifespan,t.sessionKey=uYe.userSessionInfo.sessionKey,t.createSessionTime=uYe.userSessionInfo.createSessionTime,t.handsFree=!t.isVoiceRoom,t.muteConfig={muteMicrophone:!1,muteEarphone:!1},t.backgroundColor=e.backgroundColor,this.node={container:null,overlay:null,navigationBar:null,maxWindow:null,scaleBtn:null,hangupBtns:null,muteBtn:null,handsFreeBtn:null,cancelBtn:null,refuseBtn:null,listenBtn:null,switchVoiceBtns:null,switchCameraBtn:null,cameraContainer:null,voipContainer:null,videoOperationArea:null,voiceOperationArea:null,videoInfoWindow:null,voiceInfoWindow:null,videoInfoWindowNicknameCenter:null,callArea:null,listenArea:null,minPreviewWindowMask:null,previewWindowSelfContainer:null,previewWindowOtherContainer:null,previewWindowSelf:null,previewWindowOther:null,tips:null,camera:null,duration:null,minWindow:null,minWindowLeft:null,minWindowInfo:null,minWindowHangupBtn:null,minWindowDuration:null,minWindowVoipContainer:null,minWindowVoip:null,minWindowHeadImage:null,videoInfoWindowTips:null,voiceInfoWindowTips:null,maskBottom:null,maskTop:null,maskVoice:null,callSwitchVoiceBtn:null,mainContainer:null},this.statistics={videoStartTime:0,videoEndTime:0,voiceStartTime:0,voiceEndTime:0},this.callback={success:e.success,fail:e.fail,complete:e.complete},t.isCaller?(t.selfOpenid=e.caller.openid,t.otherOpenid=e.listener.openid):(t.otherOpenid=e.caller.openid,t.selfOpenid=e.listener.openid),this.sessionInfo=t,this.isPreviewWindowOtherMax=!0,this.hasOtherReceiveCall=!1,this.showMinWindow=!1,this.onDraging=!1,this.onCalling=!1,this.destoryed=!1,this.hasJoinVoIPChat=!1,this.startChatTime=0;var{maxWindowTemplate:r,minWIndowTemplate:n}=this.compileTemplate(t);YXe(),JXe.styleTree.maxWindow.backgroundColor=t.isVoiceRoom?t.backgroundColor:cYe[0];var i=new CXe(r,JXe.styleTree),a=this.isMinWindowTypeMax()?JXe.minWindowStyle1:JXe.minWindowStyle2;a.minWindow.backgroundColor=t.backgroundColor;var o=new CXe(n,a);Object.keys(this.node).forEach((e=>{this.node[e]=i.querySelector(`.${e}`)}));["minWindow","minWindowLeft","minWindowRight","minWindowHangupBtn","minWindowDuration","minWindowInfo","minWindowVoipContainer","minWindowHeadImage","minWindowVoip","minWindowContainer"].forEach((e=>{this.node[e]=o.querySelector(`.${e}`)})),this.node.hangupBtns=i.querySelectorAll(".hangupBtn"),this.node.switchVoiceBtns=i.querySelectorAll(".switchVoiceBtn"),this.bindEvent(),this.node.container.insert(),this.node.minWindow.insert(),this.startWaitAnimation(),t.isCaller||(this.startVibrateLong(),this.sendMessage(qXe.RECEIVE_CALL)),t.isCaller&&(setTimeout((()=>{this.destoryed||this.onCalling||this.showMinWindow||this.showTips(jJe[1],2e4)}),2e4),setTimeout((()=>{this.destoryed||this.onCalling||(this.sendMessage(qXe.CANCEL),this.showTipsThenDestory(jJe[2]))}),6e4),this.call()),this.payTimer=setInterval((()=>{this.onCalling&&lYe({roomId:t.roomId,sessionKey:t.sessionKey,callType:t.isVoiceRoom?0:1,operationType:2}).then((e=>{y.info("[1v1 voip]: deductVoIPCallPay: ",e);var t=parseInt(e.errcode,10);3===t?(this.sendMessage(qXe.ARREAR),this.showTipsThenDestory(WJe[8])):0!==t&&(this.sendMessage(qXe.SYSTEM_ERROR),this.showTipsThenDestory(WJe[2]))})).catch((e=>{y.info("[1v1 voip]: deductVoIPCallPay fail: ",e),this.sendMessage(qXe.SYSTEM_ERROR),this.showTipsThenDestory(WJe[2])}))}),GXe)}bindEvent(){var{container:e,overlay:t,navigationBar:r,scaleBtn:n,maxWindow:i,minWindow:a,minWindowLeft:o,minWindowInfo:s,minWindowHangupBtn:l,cancelBtn:c,refuseBtn:u,listenBtn:d,muteBtn:p,handsFreeBtn:h,minPreviewWindowMask:f,switchCameraBtn:g,hangupBtns:v,switchVoiceBtns:m,minWindowVoipContainer:y,minWindowContainer:b,mainContainer:_}=this.node;e.on("ready",(()=>{this.popupMaxWindow(),r.fadeTo(.9,uYe.popupDuration),t.fadeTo(.87,uYe.popupDuration),this.changeStatusBarColor()})),n&&n.on("click",(()=>{this.resetStatusBarColor(),this.showMinWindow=!0;var n=this.sessionInfo.isVoiceRoom;r.hide(),t.fadeOut(),_.hide(),this.popDownMaxWindow().then((()=>{e.hide()})),this.showMinWindowVoipPreviewWindow(),!n&&this.onCalling&&this.hideOtherVoipPreviewWindow(),setTimeout((()=>{n?(this.hideMask(),b.style.opacity=0,b.update(),a.fadeIn(5),b.fadeTo(1,200)):a.fadeIn(200)}),200)}));var w=()=>{var e=this.onCalling?WJe[5]:jJe[4],t=this.onCalling?qXe.HANG_UP:qXe.CANCEL;this.sendMessage(t),this.showTipsThenDestory(e,0)},S=()=>{if(!this.onDraging){this.showMinWindow=!1;var{isVoiceRoom:n}=this.sessionInfo;!n&&this.onCalling&&this.showOtherVoipPreviewWindow(),this.hideMinWindowVoipPreviewWindow(),e.show(),n?b.fadeTo(0,100).then((()=>{this.showMask(),a.fadeOut(5).then((()=>{b.style.opacity=1,b.update()}))})):a.fadeOut(100),t.show(),t.fadeTo(.87,uYe.popupDuration),this.popupMaxWindow().then((()=>{this.node.maxWindow.style.borderRadius=16,this.node.maxWindow.update(),r.show(),_.show()})),this.changeStatusBarColor()}};l&&l.on("click",(()=>{w()})),o&&o.on("click",(()=>{S()})),s&&s.on("click",(()=>{this.isMinWindowTypeMax()||S()})),y&&y.on("click",(()=>{var{isVoiceRoom:e}=this.sessionInfo;this.isMinWindowTypeMax()||(e?w():S())})),a&&a.on("drag",(e=>{var t=a.position.width/2,r=JXe.screenWidth/2,n=e.stage,o=e.drag;"dragging"===n&&(this.onDraging=!0),"end"===n&&this.onDraging&&(this.onDraging=!1,a.position.left=16,o.left+t>r&&!this.isMinWindowTypeMax()&&(a.position.left=JXe.minWindowLeft2),a.position.top=o.top,a.animate({finalStyle:{...a.position},duration:100}),i.position=Object.assign({},a.position),i.update())})),p&&p.on("click",(()=>{var e=this.sessionInfo.muteConfig,t=!e.muteMicrophone;e.muteMicrophone=t,VBe({muteConfig:{muteMicrophone:t}});var r=t?BXe:LXe;p.props.iconPath=r,p.update()})),c&&c.on("click",(()=>{this.sendMessage(qXe.CANCEL),this.showTipsThenDestory(jJe[4])})),u&&u.on("click",(()=>{this.stopVibrateLong(),this.sendMessage(qXe.REFUSE),this.showTipsThenDestory(FJe[2])})),v.forEach((e=>{e.on("click",(()=>{this.sendMessage(qXe.HANG_UP),this.showTipsThenDestory(WJe[5])}))})),h&&h.on("click",(()=>{this.toggleHandsFree();var{handsFree:e}=this.sessionInfo;this.showTips(qJe[e?6:7])})),m.forEach((e=>{e.on("click",(()=>{var{isCaller:e}=this.sessionInfo;this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.onCalling||e?(this.switchToVoiceCall(),this.showTips(WJe[7]),this.sendMessage(qXe.SWITCH_VOICE)):(this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),this.toggleHandsFree(),this.showTips(WJe[7]),this.sendMessage(qXe.ACCEPT_AND_SWITCH_VOICE),this.showDuration()})))}))})),d&&d.on("click",(()=>{this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{var{isVoiceRoom:e}=this.sessionInfo,t=e?VJe[0]:FJe[0];this.onCalling=!0,this.stopWaitAnimation(),this.showTips(t),this.showDuration(),this.pullUpCallingInterface(),this.sendMessage(qXe.ACCEPT)}))})),g&&g.on("click",(()=>{var e=this.node.previewWindowSelf,t="front"===e.props.configCamera?"back":"front";e.props.configCamera=t,e.update()})),f&&f.on("click",(()=>{this.switchVoipPreviewWindow()}))}toggleHandsFree(){var{handsFree:e,muteConfig:t}=this.sessionInfo,r=!e;VBe({muteConfig:t,handsFree:r});var{handsFreeBtn:n}=this.node;n&&(n.props.iconPath=r?$Xe:NXe,n.update()),this.sessionInfo.handsFree=r}isMinWindowTypeMax(){return 1===this.sessionInfo.minWindowType}call(){var e=this.callback,t=Date.now();oYe({type:"create",targetOpenid:this.sessionInfo.otherOpenid}).then((r=>{y.info("[1v1 voip] generateRoomId",r);var n=Date.now();this.sessionInfo.groupId=r.groupId,this.sessionInfo.roomId=r.roomId,lYe({roomId:this.sessionInfo.roomId,sessionKey:uYe.userSessionInfo.sessionKey,callType:"video"===this.sessionInfo.roomType?1:0,operationType:1}).then((r=>{y.info("[1v1 voip] deductVoIPCallPay",r);var i=parseInt(r.errcode,10),a=parseInt(r.unused_quota_count,10);if(0===i&&a>0)aYe({...this.sessionInfo}).then((r=>{this.hasJoinVoIPChat=!0,this.playCallTone();var i=Date.now();y.info("[1v1 voip] generateRoomId use",n-t),y.info("[1v1 voip] join1v1VoIPChat use",i-n),y.info("[1v1 voip] join1v1VoIPChat",r),this.sendMessage(qXe.CALL);var a="join1v1Chat:ok";e.success&&e.success({errMsg:a,errCode:0}),e.complete&&e.complete({errMsg:a,errCode:0})})).catch((t=>{this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("join1v1VoIPChat","join1v1Chat");e.fail&&e.fail({errMsg:r,errCode:t.errCode}),e.complete&&e.complete({errMsg:r,errCode:t.errCode})}));else{this.showTipsThenDestory(WJe[8]);var o=`join1v1Chat:fail ${r.errmsg}`;e.fail&&e.fail({errMsg:o,errCode:i}),e.complete&&e.complete({errMsg:o,errCode:i})}})).catch((t=>{y.info("[1v1 voip] deductVoIPCallPay",t),this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("deductVoIPCallPay","join1v1Chat");e.fail&&e.fail({errMsg:r}),e.complete&&e.complete({errMsg:r})}))}))}reCall(){y.info("[1v1 voip] reCall onCalling: ",this.onCalling),this.onCalling||this.sendMessage(qXe.CALL)}listenerJoinVoIPChat(){return oYe({type:"join",groupId:this.sessionInfo.groupId}).then((e=>(this.sessionInfo.groupId=e.groupId,this.sessionInfo.roomId=e.roomId,aYe({...this.sessionInfo}).then((e=>{this.hasJoinVoIPChat=!0,y.info("[1v1 voip] join1v1VoIPChat",e)})).catch((e=>{this.showTipsThenDestory("接听失败"),y.error(e)})))))}onVoIPChatInterrupted(){this.showTipsThenDestory(WJe[2])}onVoIPChatMembersChanged(e){var t=e.openIdList,{selfOpenid:r,isCaller:n}=this.sessionInfo,{callSwitchVoiceBtn:i}=this.node;2===t.length&&n&&(i&&i.hide(),this.showDuration()),this.onCalling&&1===t.length&&t[0]===r?this.showTipsThenDestory(WJe[4]):n||1!==t.length||t[0]!==r||this.showTipsThenDestory(WJe[4])}sendMessage(e){if(!this.destoryed){var{otherOpenid:t,selfOpenid:r}=this.sessionInfo,n=new HXe({...this.sessionInfo,sender:r,command:e});RJe({msgType:zXe,receiver:t,data:n,complete(t){y.info(`[1v1 voip] sendMessage ${e}`,t)}})}}handleReceiveMessage(e){var{isVoiceRoom:t}=this.sessionInfo;switch(e){case qXe.CALL:this.sendMessage(qXe.BUSY);break;case qXe.ACCEPT:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),!t&&this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()),this.showTips(jJe[3]);break;case qXe.SWITCH_VOICE:this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.switchToVoiceCall(),this.showTips(WJe[6]);break;case qXe.ACCEPT_AND_SWITCH_VOICE:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.pullUpCallingInterface(),this.toggleHandsFree(),this.showTips(WJe[6]);break;case qXe.RECEIVE_CALL:this.hasOtherReceiveCall=!0;break;case qXe.CANCEL:this.showTipsThenDestory(FJe[1]);break;case qXe.REFUSE:var r=t?UJe[5]:jJe[5];this.showTipsThenDestory(r);break;case qXe.HANG_UP:this.showTipsThenDestory(WJe[4]);break;case qXe.NETWORK_SIGNAL_WEAK:this.showTips(WJe[0]);break;case qXe.BUSY:this.showTipsThenDestory(jJe[6]);break;case qXe.DEVICE_NOT_SUPPORT:this.showTipsThenDestory(UJe[0]);break;case qXe.DISABLE_CHAT:this.showTipsThenDestory(UJe[7]);break;case qXe.ARREAR:case qXe.SYSTEM_ERROR:break;case qXe.OFFLINE_RECOVERY:this.reCall()}}onNetworkStatusChange(e){var{isConnected:t,networkType:r}=e,{isVoiceRoom:n}=this.sessionInfo;t?("2g"===r||!n&&"3g"===r)&&(this.sendMessage(qXe.NETWORK_SIGNAL_WEAK),this.showTips(WJe[1])):this.showTipsThenDestory(WJe[3])}switchToVoiceCall(){this.toggleHandsFree();var{videoInfoWindowNicknameCenter:e,voipContainer:t,cameraContainer:r,switchVoiceBtns:n,videoInfoWindow:i,voiceInfoWindow:a,voiceInfoWindowTips:o,videoOperationArea:s,voiceOperationArea:l,minWindowVoipContainer:c,minWindowInfo:u,minWindowHeadImage:d,maskBottom:p,maskTop:h}=this.node,{isCaller:f}=this.sessionInfo;p&&(p.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),this.isMinWindowTypeMax()?(c&&c.remove(),u.position=Object.assign({},u.position,{left:16,top:0}),u.update()):(d.props.iconPath=DXe,d.update()),this.onCalling?(f||(this.statistics.videoEndTime=Date.now(),this.statistics.voiceStartTime=Date.now()),t&&t.remove(),this.node.voipContainer=null,e.hide(),o.hide(),a.show(),s.hide(),l.show()):(r&&r.remove(),this.node.cameraContainer=null,i.hide(),a.show(),n.forEach((e=>e.hide())))}pullUpCallingInterface(){if(this.onCalling){var{isVoiceRoom:e}=this.sessionInfo,{videoInfoWindow:t,videoOperationArea:r,listenArea:n,callArea:i,videoInfoWindowNicknameCenter:a,voiceInfoWindow:o,voiceInfoWindowTips:s,voiceOperationArea:l,cameraContainer:c,minWindowVoipContainer:u,minWindowInfo:d,minWindowHeadImage:p,maskTop:h,maskBottom:f}=this.node;i&&i.hide(),n&&n.hide(),t&&t.hide(),c&&c.remove(),this.node.cameraContainer=null,e?(f&&(f.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),o.show(),s.hide(),l.show(),this.isMinWindowTypeMax()?(u&&u.remove(),d.position=Object.assign({},d.position,{left:16,top:0}),d.update()):(p.props.iconPath=DXe,p.update())):(this.showVoipPreViewWindow(),o&&o.hide(),a.show(),r.show(),this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()))}}destory(){clearInterval(this.payTimer),this.hideDuration(),this.resetStatusBarColor(),this.stopWaitAnimation(),this.onCalling=!1,this.destoryed=!0,this.hasJoinVoIPChat&&UBe(),this.node.container.remove(),this.node.minWindow.remove(),uYe.widget=null}showTipsThenDestory(e,t=2e3){this.stopCallTone(),this.stopVibrateLong(),0===t?this.destory():this.showTips(e,t).then((()=>this.destory()))}showTips(e,t=2e3){if(this.showTipsTimier&&clearTimeout(this.showTipsTimier),this.showMinWindow)return jW({title:e,icon:"none",duration:t}),new Promise((e=>{setTimeout((()=>{e()}),t)}));var r=this.node.tips,n=r.measureText(e)+28,i=(JXe.screenWidth-n)/2;return r.label.content=e,r.position.left=i,r.position.width=n,r.props.hide=!1,r.update(),new Promise((e=>{this.showTipsTimier=setTimeout((()=>{this.destoryed||r.hide(),e()}),t)}))}changeStatusBarColor(){md("setStatusBarStyle",{color:"white"})}resetStatusBarColor(){var e=eW().frontColor;md("setStatusBarStyle",{color:"#ffffff"===e?"white":"black"})}showVoipPreViewWindow(){var{otherOpenid:e,selfOpenid:t}=this.sessionInfo;this.createVoipPreviewWindow({self:!1,openid:e,size:"max"}),this.createVoipPreviewWindow({self:!0,openid:t,size:"min"})}showOtherVoipPreviewWindow(){var{otherOpenid:e}=this.sessionInfo,t=this.isPreviewWindowOtherMax?"max":"min";this.createVoipPreviewWindow({self:!1,openid:e,size:t})}hideOtherVoipPreviewWindow(){var{previewWindowOther:e}=this.node;e&&e.remove()}showMinWindowVoipPreviewWindow(){var{otherOpenid:e,isVoiceRoom:t}=this.sessionInfo,{minWindowVoip:r,cameraContainer:n}=this.node;if(!t){r&&r.empty(),n&&n.empty();var i=this.isMinWindowTypeMax()?48:40,a=this.isMinWindowTypeMax()?48:40,o=null;this.onCalling&&(o=new mXe({position:{left:0,top:0,width:a,height:i},props:{independent:!0,self:!1,openid:e}})),o&&(r.appendChild(o),o.insert())}}hideMinWindowVoipPreviewWindow(){var{minWindowVoip:e,cameraContainer:t}=this.node;if(e&&e.empty(),!this.onCalling&&t){var r=new pXe({position:{left:0,top:0,width:JXe.screenWidth,height:JXe.maxWindowHeight}});t.appendChild(r),t.insert()}}switchVoipPreviewWindow(){var{previewWindowOther:e,previewWindowSelf:t}=this.node;if(t&&e){var r=this.isPreviewWindowOtherMax?"max":"min",n=this.isPreviewWindowOtherMax?"min":"max";this.adjustVoipPreviewWindow(t,r),this.adjustVoipPreviewWindow(e,n),this.isPreviewWindowOtherMax=!this.isPreviewWindowOtherMax}}adjustVoipPreviewWindow(e,t){var r="max"===t,n=e.parent,i=r?JXe.maxPreviewWindowPosition:JXe.minPreviewWindowPosition,a=r?JXe.maxPreviewWindowPosition:JXe.minPreviewWindowVoipPosition,o=r?1:2;n.position=i,e.position=a,n.style.zIndex=o,n.update(),e.update()}createVoipPreviewWindow(e){var{size:t,self:r,openid:n}=e,{previewWindowSelfContainer:i,previewWindowOtherContainer:a}=this.node,o="max"===t?JXe.maxPreviewWindowPosition:JXe.minPreviewWindowVoipPosition,s=r?i:a,l=new mXe({position:o,props:{independent:!0,self:r,openid:n}});this.node[r?"previewWindowSelf":"previewWindowOther"]=l,s.appendChild(l),l.insert()}startWaitAnimation(){this.sessionInfo.isCaller&&(this.waitCount=0,this.waitTimer=setInterval((()=>{var{voiceInfoWindowTips:e,videoInfoWindowTips:t}=this.node,r=`正在等待对方接收邀请${new Array(++this.waitCount).fill(".").join("")}`;this.waitCount%=3,t&&(t.label.content=r,t.update()),e&&(e.label.content=r,e.update())}),800))}stopWaitAnimation(){clearInterval(this.waitTimer)}playCallTone(){Lje({type:"play"})}stopCallTone(){Lje({type:"stop"})}startVibrateLong(){this.vibrateLongTimer=setInterval((()=>{t1()}),2e3)}stopVibrateLong(){clearInterval(this.vibrateLongTimer)}showDuration(){var{duration:e,minWindowDuration:t}=this.node,{isVoiceRoom:r,isCaller:n}=this.sessionInfo;n||(r?this.statistics.voiceStartTime=Date.now():this.statistics.videoStartTime=Date.now()),this.startChatTime||(this.startChatTime=Date.now()),e.show(),this.durationTimer=setInterval((()=>{if(!this.destoryed){var n=Math.ceil((Date.now()-this.startChatTime)/1e3),i=Dje(n);e.label.content=i,e.update();var a=this.isMinWindowTypeMax()?r?`音频通话中 ${i}`:`通话中 ${i}`:i;t.label.content=a,t.update()}}),1e3)}hideDuration(){var{isCaller:e,isVoiceRoom:t,caller:r,listener:n}=this.sessionInfo;if(this.onCalling&&!e){t?this.statistics.voiceEndTime=Date.now():this.statistics.videoEndTime=Date.now();var{videoEndTime:i,videoStartTime:a,voiceEndTime:o,voiceStartTime:s}=this.statistics,l=Math.ceil((i-a)/1e3),c=Math.ceil((o-s)/1e3);eYe({callerOpenid:r.openid,listenerOpenid:n.openid,videoTime:l,voiceTime:c,complete(e){y.info("[1v1 voip] setVoIPChatRecord:",e)}})}clearInterval(this.durationTimer)}popupMaxWindow(){return this.node.maxWindow.animate({finalStyle:{top:JXe.maxWindowTop,left:0,width:JXe.screenWidth,height:JXe.maxWindowHeight},duration:uYe.popupDuration})}changeMaxWindowBackground(){var{maxWindow:e}=this.node;e.style.bgColor=this.sessionInfo.backgroundColor,e.update()}hideMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.hide(),t&&t.hide(),r&&r.hide()}showMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.show(),t&&t.show(),r&&r.show()}popDownMaxWindow(){var{minWindow:e,minWindowVoip:t}=this.node,{isVoiceRoom:r}=this.sessionInfo,n={},i=9.6;return r?Object.assign(n,e.position):(n={left:e.position.left+12,top:e.position.top+12,width:t.position.width,height:t.position.height},i=JXe.minWindowStyle1?6:4),this.node.maxWindow.style.borderRadius=i,this.node.maxWindow.update(),this.node.maxWindow.animate({finalStyle:{...n},duration:uYe.popupDuration})}compileTemplate(){var e=this.sessionInfo,t=e.isCaller?e.listener:e.caller;return VXe({title:re.accountInfo.nickname,nickname:t.nickname,headImage:t.headImage,disableSwitchVoice:e.disableSwitchVoice,isVoiceRoom:e.isVoiceRoom,isCaller:e.isCaller,minWindowType:e.minWindowType})}}var fYe=["on call","wechat has no camera authorization","wechat has no record authorization","miniprogram has no record authorization","miniprogram has no camera authorization","device not support","not open 1v1 Chat","system error","occupied by other miniprogram"],gYe=()=>{var e=Math.ceil(Date.now()/1e3),{lifespan:t,createSessionTime:r}=uYe.userSessionInfo;return r&&t&&e<r+t?Promise.resolve():sYe().then((t=>{Object.assign(uYe.userSessionInfo,{openid:t.openid,lifespan:t.lifespan,sessionKey:t.sessionKey,createSessionTime:e-3600}),y.info("[1v1 voip] getCloudSession success",t)}),(e=>{y.info("[1v1 voip] getCloudSession fail",e)}))},vYe=(e={})=>{if(Vc("setEnable1v1Chat",e,{enable:!0})){gYe();var t="ok",r=0;if(pYe()&&!e.ignoreSelfVersion)return r=-20001,t=fYe[5],void zc("setEnable1v1Chat",e,t,r);if(!e.enable)return uYe.enable=!1,uYe.ignoreSelfVersion=e.ignoreSelfVersion||!1,void Hc({name:"setEnable1v1Chat",args:e});var{cameraAuthorized:n,microphoneAuthorized:i}=ww();if(!n||!i)return n||(r=-30001,t=fYe[1]),i||(r=-30002,t=fYe[2]),void OW({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){zc("setEnable1v1Chat",e,t,r)}});nYe().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?(uYe.enable=!0,uYe.ignoreSelfVersion=e.ignoreSelfVersion||!1,uYe.minWindowType=nt(e.minWindowType)?e.minWindowType:1,uYe.backgroundColor=nt(e.backgroundType)?cYe[e.backgroundType]:cYe[0],Hc({name:"setEnable1v1Chat",args:e})):a?i||iYe({scope:"scope.camera"}).then((()=>{vYe(e)}),(()=>{r=-30004,t=fYe[4],zc("setEnable1v1Chat",e,t,r)})):iYe({scope:"scope.record"}).then((()=>{vYe(e)}),(()=>{r=-30003,t=fYe[3],zc("setEnable1v1Chat",e,t,r)}))}))}},mYe=e=>{var t="ok",r=0;if(pYe()&&!e.ignoreSelfVersion?(r=-20001,t=fYe[5]):uYe.widget?(r=-20002,t=fYe[0]):uYe.occupied&&(r=-20003,t=fYe[8]),"ok"===t){var{cameraAuthorized:n,microphoneAuthorized:i}=ww();if(!n||!i)return n||(t=fYe[1],r=-30001),i||(t=fYe[2],r=-30002),void OW({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){zc("join1v1Chat",e,t,r)}});nYe().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?gYe().then((()=>{Bje({complete(n){if(y.info("[1v1 voip] hasJoinVoIPChat",n),uYe.occupied=n.join,uYe.occupied)t=fYe[8],zc("join1v1Chat",e,t,r=-20003);else{var i=Object.assign({role:"caller"},e);i.backgroundColor=nt(e.backgroundType)?cYe[e.backgroundType]:cYe[0],i.caller.openid=uYe.userSessionInfo.openid,uYe.widget=new hYe(i)}}})}),(()=>{t=fYe[7],zc("join1v1Chat",e,t,r=-3e4)})):a?i||iYe({scope:"scope.camera"}).then((()=>{mYe(e)}),(()=>{t=fYe[4],zc("join1v1Chat",e,t,r=-30004)})):iYe({scope:"scope.record"}).then((()=>{mYe(e)}),(()=>{t=fYe[3],zc("join1v1Chat",e,t,r=-30003)}))}))}else zc("join1v1Chat",e,t,r)},yYe=!1;re.onReady((()=>{yYe=yYe||1055===(re.appLaunchInfo||{}).scene})),df((e=>{yYe=yYe||1055===e.scene}));var bYe=e=>{yYe?md("navigateBackH5",e):zc("navigateBackH5",e,"not HTML5 page can navigate back.")},_Ye=e=>{var t="openOfficialAccountArticle";if(!e.url||"string"!=typeof e.url||e.url&&!e.url.match("^http(s?)://mp.weixin.qq.com/(s/|showappmsg|s?)[-A-Za-z0-9+&@#/%?=~_|!:,.;*]+$"))zc(t,e,"invalid url.",-2);else{var r={url:e.url};EE({apiName:"webapi_getwxajumpmparticleinfo",sdkApiName:"getwxajumpmparticleinfo",reqData:r}).then((r=>{var n=r.data,i=n.ret||0,a=n.err_msg,o=n.title,s=n.biz_name,l=n.decorated_url,c=n.acc_type;wYe({event:"click_official_account_article",actionID:1,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c,errCode:i,errMsg:a}),-2!==i?(wYe({event:"exposure_confirm_dialog",actionID:2,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c}),OW({title:`即将打开公众号“${s}”的内容`,content:`《${o}》`,confirmText:"允许",success:r=>{var n;r.confirm?(n="allow",jq({url:l,success:()=>{wYe({event:"opn",actionID:3,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c,jumpState:"success"})},fail:()=>{wYe({event:"opn",actionID:3,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c,jumpState:"fail"})}})):r.cancel&&(n="cancel"),0!==i?zc(t,e,a,i):Hc({name:t,args:e,res:r}),wYe({event:"click_confirm_dialog",actionID:1,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c,userAction:n})},fail:r=>{var n=r.errMsg,i=r.errCode||r.errno;zc(t,e,n,i)}})):zc(t,e,"arguments error.",i)})).catch((r=>{var n=r.errMsg||r.message,i=r.errCode||r.err_code;-12001===(i=parseInt(i,10))&&jW({title:"该功能已被限制使用",icon:"error",duration:2e3}),zc(t,e,n,i)}))}};function wYe({event:e,actionID:t,articleUrl:r,articleTitle:n,officialAccountName:i,officialAccountType:a,errCode:o,errMsg:s,userAction:l="",jumpState:c=""}){var u={key:"OpenOfficialAccountArticle",value:[Du(),e,t,encodeURIComponent(r),encodeURIComponent(n),encodeURIComponent(i),a,o,s,l,c].join(",")};T.reportKeyValue(u)}var SYe=(e={})=>{if(Ke()){var t="";pt(e.extraData)&&(t=JSON.stringify(e.extraData)),md("navigateBackApplication",Object.assign({},e,{extraData:t}))}else zc(e,"permission denied",1)},CYe=(e={})=>{var t="";pt(e.extraData)&&(t=JSON.stringify(e.extraData)),md("navigateBackNative",Object.assign({},e,{extraData:t}))},kYe=(e,t)=>{var r=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((n=>{r=r||t.layoutBox[n]!==e.layout[n],t.layoutBox[n]=e.layout[n]})),t.shouldUpdate=t.shouldUpdate||r,e.children.forEach((e=>{var r=t.children[e.id];r&&kYe(e,r)}))},IYe=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var r=e.children[t];return IYe(r)})))))},PYe=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var r=e.children[t];return PYe(r)}))};class AYe extends Ej{constructor({style:e,name:t,auto:r=!0}={}){super({style:e,id:0,name:t});var n=null;this.auto=r,this.on("layout",(()=>{this.auto&&(clearTimeout(n),n=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(e){void 0===e&&(e=this.onebyone);var t={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return bXe(t),kYe(t,this),e?IYe(this).then((()=>this.emit("update-done"))):(PYe(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var xYe=new AYe({name:"webview-layout"});xYe.dest=0;var TYe=new AYe({name:"nativeview-layout",auto:!1});TYe.onebyone=!1,TYe.dest=1;class EYe extends Ej{constructor({id:e,parentId:t,style:r,props:n={},type:i="text",name:a="",autoInsert:o=!1,eventType:s="touch",clickState:l=!1,bubbleEvent:c=!1,independent:u=!1,dest:d=0}={}){super({id:e,style:r,props:Object.assign(n,{fullscreen:!1}),name:a,parentId:t}),this.type="text"===i?"TextView":"ImageView",this.eventType=s,this.autoInsert=o,this.bubbleEvent=c,this.clickState=l,this.independent=u,this.dest=d,"touch"===this.eventType&&l&&this.ready().then((()=>{this.mask=new EYe({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click",independent:this.independent}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var p=Date.now(),h={x:0,y:0};this.on("touchstart",(e=>{this.clickState&&this.mask&&(this.mask.style.hidden=!1),p=Date.now(),h=e}));var f=e=>{this.clickState&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var r={x:0,y:0};Array.isArray(e)?r=e.pop():e.x&&e.y&&(r=e);var n={absoluteX:t.left+h.x,absoluteY:t.top+h.y,relativeX:h.x,relativeY:h.y,absoluteEndX:t.left+r.x,absoluteEndY:t.top+r.y,relativeEndX:r.x,relativeEndY:r.y,pressInterval:Date.now()-p};this.emit("click",n)};this.on("touchend",f),this.on("touchcancel",f),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=wj(this.computedStyle[t])),e)),{});t.bgColor=wj(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var r={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(r={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(r.width=0,r.height=0),this.mask&&(this.mask.style.width=r.width,this.mask.style.height=r.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:r,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed,independent:this.independent}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,r)=>{md(`insert${this.type}`,Object.assign(e,{success:e=>{mj(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:r}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,r)=>{md(`update${this.type}`,Object.assign(e,{success:t,fail:r}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id,independent:this.independent};return new Promise(((t,r)=>{md(`remove${this.type}`,Object.assign(e,{success:t,fail:r}))}))}animate({left:e,top:t,opacity:r,scaleWidth:n,scaleHeight:i,rotate:a=0,duration:o=500,easing:s,emitError:l=!1}={}){var c={dest:this.dest,viewId:this.id,easing:s||"ease-in",duration:o,finalStyle:{left:e,top:t,opacity:r,rotate:a,scaleX:n,scaleY:i},independent:this.independent};return new Promise(((e,t)=>{md("animateCoverView",Object.assign(c,{success:e,fail:t}))})).then((o=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==n&&(this.style.scaleWidth=n),void 0!==i&&(this.style.scaleHeight=i),void 0!==r&&(this.style.opacity=r),void 0!==a&&(this.style.rotate=a),o))).catch((e=>{if(y.error("animateCoverView fail",e),l)throw e}))}}class MYe extends EYe{constructor({id:e,style:t,value:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s,independent:l=!1,dest:c=0}={}){super({id:e,style:t,props:{value:r},type:"text",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s,independent:l,dest:c})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}var RYe="RefreshRuntimeSession",OYe=()=>EE({apiName:RYe,sdkApiName:RYe,reqData:{}}),DYe=e=>{var t=0,r=0,n=()=>{++t>=e&&OYe().then((e=>{var{errMsg:t,respData:r}=e;if(0!==r.err_no)throw t;sP(n)})).catch((e=>{++r>=2&&sP(n)}))};oP(n)},LYe=e=>new Promise((t=>setTimeout(t,e)));class NYe{constructor(e,t=!1){var r=286;this.orientation=e,this.animating=!1;var{screenWidth:n}=ww(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=t;var a=new EYe({id:i,style:{position:"absolute",left:(n-r)/2,top:this.getTop(),width:r,height:38,backgroundColor:"#000000",opacity:0,zIndex:1000001,borderRadius:5,fixed:!Ue()}}),o=new MYe({id:i+1,style:{left:0,top:0,width:r,height:38,textAlign:"center",lineHeight:38,fontSize:15,color:"#ffffff"},value:`该${Ue()?"小游戏":"小程序"}业务及数据已由新开发者承接`});a.add(o),xYe.add(a),this.banner=a,this.bannerWidth=r}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.7,duration:300})))).then((()=>(this.animating=!1,LYe(5e3)))).then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>LYe(3e3))).then((()=>xYe.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=ww();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=ww();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var BYe=(e,t)=>{var r=r=>{var n=r.data,{need_show:i,runtime_refresh_clicks:a}=n;if(a&&Fe()&&DYe(a),i){var o=new NYe(e,t);return o.show(),o}};return Vm()?new Promise((e=>{Hk({id:qk.getSubjectalterInfo,success:t=>{e(r(t))},fail:()=>{e({})}})})):EE({sdkApiName:"getSubjectalterInfo",apiName:"getSubjectalterInfo",reqData:{}}).then((e=>r(e))).catch((e=>{y.error("informSubjectChange error",e)}))},$Ye=e=>new Promise((t=>setTimeout(t,e)));class jYe{constructor(e,t,r=!1){this.orientation=t,this.animating=!1;var{screenWidth:n}=ww(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=r;var a=n-30,o=new EYe({id:i,style:{display:"flex",alignItems:"center",position:"fixed",left:(n-a)/2,top:this.getTop(),width:a,height:38,backgroundColor:"#FA5151",opacity:0,zIndex:1000001,borderRadius:5,fixed:!0}}),s=new MYe({id:i+1,style:{width:a-30,height:38,lineHeight:38,textAlign:"center",fontSize:13,color:"#ffffff"},value:e,bubbleEvent:!1,clickState:!1}),l=new MYe({id:i+2,style:{position:"absolute",left:a-44,top:-2,width:30,height:38,lineHeight:38,fontSize:18,color:"#ffffff"},value:"×",eventType:"touch",bubbleEvent:!0,clickState:!0});s.add(l),o.add(s),xYe.add(o),o.on("touchstart",(()=>{this.hide()})),this.banner=o,this.bannerWidth=a}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.9,duration:300})))).then((()=>{this.animating=!1})).catch((()=>{}))}hide(){mte(+new Date),this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>$Ye(3e3))).then((()=>xYe.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=ww();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=ww();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var FYe=(e,t)=>{vte((r=>{var n=(+new Date-(r||0))/1e3/60,i=re&&re.appContactInfo&&re.appContactInfo.operationInfo&&re.appContactInfo.operationInfo.jsonInfo&&re.appContactInfo.operationInfo.jsonInfo.warning_info&&re.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner&&re.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner.wording||"";if(!Ue()&&i&&n>30){var a=new jYe(i,e,t);return a.show(),a}}))},WYe=(()=>{var e,t=t=>{e="halfPage"===t.mode};return df((e=>t(e))),re.onReady((()=>t(re.appLaunchInfo||{}))),()=>e})(),UYe=(()=>{var e,t=[1175,1177],r=r=>{e=t.includes(r.scene)};return df((e=>r(e))),re.onReady((()=>r(re.appLaunchInfo||{}))),()=>e})(),VYe=(()=>{var e,t=[1011,1012,1013,1124,1125,1126],r=r=>{e=t.includes(r.scene)};return df((e=>r(e))),re.onReady((()=>r(re.appLaunchInfo||{}))),()=>e})(),qYe=(e={})=>VYe()&&e.query&&e.query.q&&e.query.scancode_time,zYe=e=>{if(ke&&qYe(e)){var t=re.accountInfo&&re.accountInfo.appId;WC("getPatchWrongQueryFromGlobalStorage",{appId:t},void 0,(r=>{r="number"==typeof r?r:0;var n=e.path+".html",i=e.rawPath.replace(n+"?","");EE({apiName:"webapi_checkwxa3rdqrcodescaninfo",reqData:{retry_time:r,path:n,query:i}}).then((n=>{y.info("webapi_checkwxa3rdqrcodescaninfo res=",n);var{is_restart:i,replace_query:a,replace_appid:o}=n.data;i?o?(_w("patchWrongQuery-needExitMiniProgram"),RW({content:"无法启动小程序，请重试",confirmText:"确认",showCancel:!1,success(){WC("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{jee()}))},fail(){WC("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{jee()}))}})):(_w("patchWrongQuery-needRestart"),r++,WC("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:r},void 0,(()=>{RW({content:"信息已更新，需要重启小程序",confirmText:"确认",showCancel:!1,success(){md("restart",{url:a,scene:e.scene})},fail(){md("restart",{url:a,scene:e.scene})}})}))):"number"==typeof r&&r>0&&WC("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)})).catch((e=>{y.error("patchWrongQuery fail",e),"number"==typeof r&&r>0&&WC("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)}))}))}},GYe="game:verifystate",HYe="game_live_default_condition",KYe=y.createLogger("common reportUserBehavior"),JYe=_S(),XYe=wg(RW),YYe=wg(JYe.readFile),QYe=wg(JYe.writeFile),ZYe="wxfile://ad",eQe=`${ZYe}/verifystate.json`,tQe=GYe,rQe=null;function nQe(e){return iQe.apply(this,arguments)}function iQe(){return iQe=xd()((function*(e){try{if(rQe=e,KYe.log("set verifydata",JSON.stringify(rQe)),Ce)return;Te||ke||xe?yield yd("setGlobalStorage",{key:tQe,data:JSON.stringify(e)}):Ie&&(yield QYe({filePath:eQe,data:JSON.stringify(e),encoding:"utf8"}))}catch(e){KYe.log("set cache fail",e.message)}})),iQe.apply(this,arguments)}function aQe(){return oQe.apply(this,arguments)}function oQe(){return oQe=xd()((function*(){try{if(Ce)return;if(Te||ke||xe){var{data:e}=yield yd("getGlobalStorage",{key:tQe});KYe.log("get verifydata",e),rQe=JSON.parse(e)}else if(Ie){var{data:t}=yield YYe({filePath:eQe,encoding:"utf8"});KYe.log("get verifydata",t),rQe=JSON.parse(t)}}catch(e){KYe.log("get cache fail",e.message,e)}})),oQe.apply(this,arguments)}var sQe=!1;function lQe(e=!0){e&&(rQe=null)}var cQe=null;function uQe(e){Hc({args:cQe,name:"getRealNameVerifyMethod",success:e}),cQe=null}function dQe(e){if(rQe){var t=null;"function"==typeof e?t=e:cQe=e;var{url:r,weapp:n}=rQe.urlInfo||{};n?gne({appId:n.appid,path:n.path,extraData:n.extraData,success:t}):r&&jq({url:r,isNativeStyle:!0,success:t}),lQe()}}var pQe=0,hQe="",fQe="",gQe={},vQe,mQe=!1,yQe=0,bQe=null,_Qe=!1,wQe=!1,SQe=!1,CQe=0,kQe=3e5,IQe={UI_STATE_NONE:0,UI_STATE_BLOCK_BY_WEBVIEW:1,UI_STATE_BLOCK_BY_MODAL_DIALOG:2};function PQe(e,t,{coldBoot:r=!1}={}){var{appType:n,deviceOrientation:i}=re;CQe=Date.now();var a={onShow:1,heartbeat:2,onHide:3,retryLogin:4};return sQe?aQe().then(o).then(s).catch((e=>{KYe.error("report fail",e)})):LQe.then(aQe).then(o).then(s).catch((e=>{KYe.error("report fail",e)}));function o(){var i={version:8,callbackData:vQe,type:a[e],duration:t/1e3,scene_note:fQe,scene:pQe,realnameInfo:void 0,referrerInfo:{appId:hQe,extraData:gQe},appServiceType:n,isColdStart:r,uiState:IQe.UI_STATE_BLOCK_BY_WEBVIEW,isWxaAdultOnly:_Qe};return(r&&Vm()?new Promise(((e,t)=>{Kk({id:qk.reportUserBehavior,success:t=>{e(t)},fail:e=>{t(e)}})})):EE({sdkApiName:"reportUserBehavior",apiName:"jsapi_reportuserbehav",reqData:i})).catch((e=>{var t;if(1!==(null===(t=rQe)||void 0===t?void 0:t.action))return{data:{action:3,alertMsg:"网络已断开，请检查网络状态后重试"}};throw e}))}function s(e){var t=e.data;nQe(t);var{action:r,alertMsg:n,heartbeatInterval:a,realnameResult:o}=t;if(vQe=t.callbackData,a!==kQe&&a>=1e4&&(kQe=a,EQe()),o){var{code:s}=o;0===s&&lQe()}else switch(uQe(1===r),r){case 2:setTimeout((()=>{XYe({title:"提示",content:n,showCancel:!1})}),/landscape/.test(i)?500:0);break;case 3:if(mQe)break;mQe=!0;var l=setTimeout(jee,15e3);XYe({title:"提示",content:n,showCancel:!1}).then((()=>{clearTimeout(l),mQe=!1,jee()}));break;case 4:var{url:c,name:u}=t.urlInfo||{},d=setTimeout(jee,15e3);!mQe&&n&&c&&u&&(mQe=!0,RW({title:"提示",content:n,confirmText:u,cancelText:"退出程序",upper:!0,success(e){clearTimeout(d),e.confirm?dQe((()=>{SQe=!0})):e.cancel&&jee(),mQe=!1},fail(e){KYe.error("show modal fail=",e),clearTimeout(d),jee(),mQe=!1}}))}}}var AQe=wQe,xQe=wQe,TQe=wQe||_Qe,EQe=()=>{null!==bQe&&(clearInterval(bQe),MQe())},MQe=()=>{bQe=setInterval((()=>{yQe=Date.now()-CQe,AQe&&PQe("heartbeat",yQe)}),kQe)},RQe=(e,{coldBoot:t=!1}={})=>{fQe=e.scene_note||"",yQe=0,pQe=e.scene,e.referrerInfo&&(hQe=e.referrerInfo.appId,gQe=e.referrerInfo.extraData),MQe(),SQe?(PQe("retryLogin",yQe),SQe=!1):TQe&&PQe("onShow",yQe,{coldBoot:t})},OQe=()=>{yQe=Date.now()-CQe,clearInterval(bQe),bQe=null,xQe&&PQe("onHide",yQe)};Ce||re.onReady((()=>{if(He()){var e=re.appLaunchInfo;try{re.appContactInfo&&re.appContactInfo.operationInfo&&re.appContactInfo.operationInfo.jsonInfo&&re.appContactInfo.operationInfo.jsonInfo.op_info&&(_Qe=1===Number(re.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),wQe=1===Number(re.appContactInfo.operationInfo.jsonInfo.op_info.grow_protect))}catch(e){KYe.error("get op_info fail",e.message)}AQe=wQe,xQe=wQe,TQe=wQe||_Qe,RQe(e,{coldBoot:!0}),ur("onAppEnterForeground",(t=>{RQe(e=t)})),ur("onAppEnterBackground",(()=>{OQe()})),ur("onAppRoute",(t=>{"autoReLaunch"===t.openType&&(mQe=!1,OQe(),setTimeout((()=>{RQe(e)}),1e3))}))}}));var DQe=()=>{},LQe=new Promise((e=>{DQe=e})),NQe=()=>{Ce||(sQe=!0,DQe())};re.onReady((()=>{var e="";if(He())var t=setInterval((()=>{e&&(e&&clearInterval(t),r(e))}),3e3),r=e=>{var t=Object.keys(re.page).find((t=>t.startsWith(e))),n=re.page[t];if(t&&n&&n.window){var i=n.window.pageOrientation,a=!1;try{var o=n.window.navigationStyle||re.global.window.navigationStyle;a="custom"===o}catch(e){}if("landscape"===i){var s=!1;HVe((()=>{s||(BYe(i,a),FYe(i,a),s=!0)}))}else{var l=BYe("portrait",a),c=FYe(i,a);"auto"===i&&aV((e=>{var{windowWidth:t,windowHeight:r}=e,n=t>r?"landscape":"portrait";l.then((e=>{e&&e.setOrientation&&e.setOrientation(n)})),c&&c.then((e=>{e&&e.setOrientation&&e.setOrientation(n)}))}))}MK(r)}};EK((t=>{"appLaunch"!==t.openType&&"autoReLaunch"!==t.openType||zYe(t),e=t.path})),He()&&NQe()}));var BQe=["webview","skyline"],$Qe={webview:1,skyline:2},jQe={webview:{},skyline:{}};function FQe(e){var t=jQe[e];if(t){var{pagePath:r=[],compInfo:n}=t,i=Qh().sessionId||Qh().sessionid||"",a=r.join(";"),o=Du()||"";n&&Object.keys(n).forEach((t=>{var r=n[t];if(r){var{attachedCount:s=0,propMap:l,extraMap:c,reserved:u}=r;if(0===u)return;var d=[];l&&Object.keys(l).forEach((e=>{var t=l[e],r=Object.keys(t);if(1===r.length&&"_OTHER"===r[0])d.push(`${e}=${t._OTHER}`);else if(r.length){var n=r.map((e=>"_OTHER"===e?`=${t._OTHER}`:`${encodeURIComponent(e)}=${t[e]}`));d.push(`${e}:${n.join("|")}`)}}));var p=[],h=[];c&&Object.keys(c).forEach((e=>{var{index:t,values:r}=c[e];t>0&&(2===t?h:p).push(`${e}:${r.map(encodeURIComponent).join("|")}`)}));var f=[i,a,$Qe[e],o,t,s,d.join(";"),p.join(";"),h.join(";")].join(",");T.reportKeyValue({key:"MiniprogramInnerComponentUse",value:f})}}))}jQe[e]={}}sk(((e={})=>{var t=e.targetAction;-1!==[3,7,8,9].indexOf(t)&&BQe.forEach((e=>FQe(e)))})),en("collectComponentUseInfo",(e=>{BQe.forEach((t=>{var r=jQe[t];if(r){var n=e.pagePath,i=e.reportCache[t];r.pagePath=r.pagePath||[],n&&-1===r.pagePath.indexOf(n)&&r.pagePath.push(n),i&&(r.compInfo=r.compInfo||{},Object.keys(i).forEach((e=>{var t=r.compInfo[e]||{attachedCount:0,propMap:{},extraMap:{},reserved:-1};r.compInfo[e]=t;var{attachedCount:n=0,propMap:a,extraMap:o,reserved:s}=i[e];if(-1!==s&&(t.reserved=-1===t.reserved?s:t.reserved|s),t.attachedCount+=n,a){var l=t.propMap;Object.keys(a).forEach((e=>{var t=l[e]||{};l[e]=t;var r=a[e];Object.keys(r).forEach((e=>{t[e]=(t[e]||0)+(r[e]||0)}))}))}o&&(t.extraMap=o)})))}}))}));var WQe=(e={})=>{zc("setWindowSize",e,Oe?"setWindowSize:fail SDK暂不支持此API":"deprecated")},UQe=null,VQe=[],qQe=e=>{Kr("onBanTapRules",{rules:UQe},[e])};function zQe(){re.onReady((()=>{Qk().then((e=>{var t,r;UQe=null!==(t=null==e||null===(r=e.data)||void 0===r?void 0:r.ban_event_rules)&&void 0!==t?t:[],VQe.length&&(VQe.forEach((e=>qQe(e))),VQe.length=0)}))})),S.clientManager.on("clientConnected",(e=>{UQe?qQe(e):VQe.push(e)}))}var GQe=0,HQe=ir("onEventFromMagicBrushFrame"),KQe=null,JQe=[],XQe={},YQe=null,QQe=0;en("getMagicBrushFrameDef",((e,t)=>{KQe?Kr("returnMagicBrushFrameDef",{appCardDef:KQe},[t]):-1===JQe.indexOf(t)&&JQe.push(t)})),en("magicBrushFrameLoaded",(({frameId:e,biz:t,pageId:r}={})=>{XQe[e]={biz:t,pageId:r}})),en("magicBrushFrameRemoved",(({frameId:e,biz:t,pageId:r}={})=>{delete XQe[e]})),qt("onMessageFromMagicBrushFrame",(({message:e}={})=>{if(e){var t=JSON.parse(e);if("event"===t.type)HQe.emit(t.data||{});else if("vconsole"===t.type){var{frameId:r,name:n,args:i}=t.data;try{console[n](`[magicBrushFrame][${r}]`,...i)}catch(e){}}}})),qt("onMiniprogramRemoved",(e=>{Kr("miniprogramPackageRemoved",e);var t=Object.keys(XQe);if(t.length)for(var r of t)rZe({frameId:r,message:JSON.stringify({type:"miniprogramPackageRemoved",data:{frameId:r,...e}})});else rZe({biz:GQe,frameId:0,message:JSON.stringify({type:"miniprogramPackageRemoved",data:{frameId:0,...e}})})})),qt("onMagicBrushFrameRecreate",(()=>{HQe.emit({name:"recreate"})}));var ZQe=HQe.onMethod,eZe=HQe.offMethod;function tZe(e={}){var t;if(ke||Ie){var{bizType:r,wxssBin:n,template:i,template2:a,cards:o}=e;if(r){var s=re.env.MAGIC_BRUSH_FRAME_DATA_PATH;if(s){var l,c=wg(jf),u=wg(Hf),d=wg(Wf),p=null===(t=re.accountInfo)||void 0===t?void 0:t.appId,h=p&&(Ie||ke&&"wxb6d22f922f37b35a"!==p)?`${s}/${p}/${r}`:s;if(l=()=>{c({filePath:`${h}/magicbrush.json`,data:'{"plugins":{"sclRectPaletteLib":{"version":"latest","provider":"wx2f3fb5db9f226462"}},"publicservices":{"sclRectPaletteLib":{"version":"latest","provider":"wx2f3fb5db9f226462"}}}',encoding:"utf8"}).then((()=>c({filePath:`${h}/dist.wxss.bin`,data:n||Uint8Array.from([]).buffer,encoding:"binary"}))).then((()=>{}))},u({path:h}).then((()=>{l&&l()})).catch((()=>{d({dirPath:h,recursive:!0}).then((()=>{l&&l()}))})),"app-card"===r){if(!(KQe={template:i,template2:a,cards:o,fsPath:h}).template&&!KQe.template2||!KQe.cards||!KQe.fsPath)return;JQe.length&&(Kr("returnMagicBrushFrameDef",{appCardDef:KQe},JQe),JQe.length=0)}}}}}function rZe(e={}){var{frameId:t,message:r}=e;if(!t&&0!==t||"string"!=typeof r)zc("postMessageToMagicBrushFrame",e,"invalid args");else{var n=XQe[t],i=null==n?void 0:n.biz;(i=i||0===i?i:e.biz)||0===i?md("postMessageToMagicBrushFrame",{frameId:t,biz:i,message:r}):zc("postMessageToMagicBrushFrame",e,"magic brush frame has not been inserted")}}function nZe(e,t,r={}){if(Array.isArray(e)||(e=[e]),e.length)for(var n of e)rZe({frameId:n,message:JSON.stringify({type:"event",data:{name:t,frameId:n,args:r}})})}df((()=>{nZe(Object.keys(XQe),"_$pageShow")})),Gp((()=>{nZe(Object.keys(XQe),"_$pageHide")})),RC(((e={})=>{var{webviewId:t}=e,r=[],n=[];Object.keys(XQe).forEach((e=>{var{pageId:i}=XQe[e]||{};i===t?r.push(e):i===YQe&&n.push(e)})),nZe(r,"_$pageShow"),nZe(n,"_$pageHide"),YQe=t}));var iZe=()=>{__sclEngine__.initScl((e=>{e.mainRoot.append("link-toast",{content:"已添加至「发现 > 小程序 > 账户」"}).addListener("tapToast",(()=>{w7({businessType:"discoverMiniPrograms"})}))}))};function aZe(e={}){var t=re.envVersion||"";if("develop"!==t)if(sM()||QQe){var r=e.type||0;oZe({type:r,success(n){var i,a,o;n.hasAdded?zc("addAccountCard",e,"this account card has been added"):n.couldAdd?TE({sdkApiName:"addAccountCard",apiName:"webapi_addwxanotifyaccount",reqData:{type:r,datas:JSON.stringify({appId:(null===(i=re.accountInfo)||void 0===i?void 0:i.appId)||"",headImg:(null===(a=re.accountInfo)||void 0===a?void 0:a.icon)||"",nickName:(null===(o=re.accountInfo)||void 0===o?void 0:o.nickname)||"",envVersion:t,accountCardPackage:re.accountCardPackage||{}})},success(t){var r,n,i=null===(r=t.data)||void 0===r||null===(n=r.base_resp)||void 0===n?void 0:n.errcode;0===i?(iZe(),Hc({name:"addAccountCard",args:e,errno:void 0,errMsg:"",errCode:i,success:!0})):zc("addAccountCard",e,"system error",i)},fail(t){zc("addAccountCard",e,t.errMsg||"")}}):zc("addAccountCard",e,"could not add this account card")},fail(){zc("addAccountCard",e,"system error")}})}else zc("addAccountCard",e,"can only be invoked by user TAP gesture.");else zc("addAccountCard",e,"it is not support in develop envVersion")}function oZe(e={}){sM()&&(QQe=Date.now()),TE({sdkApiName:"checkAccountCardAddState",apiName:"webapi_checkwxanotifyaccount",reqData:{type:e.type},success(t){var r,n=t.data||{},i=null===(r=n.base_resp)||void 0===r?void 0:r.errcode;0===i?Hc({name:"checkAccountCardAddState",args:e,errno:void 0,errMsg:"",errCode:i,success:!0,res:{couldAdd:!!n.could_add,hasAdded:!!n.has_add}}):zc("checkAccountCardAddState",e,"system error",i),QQe=0},fail(t){zc("checkAccountCardAddState",e,t.errMsg||""),QQe=0}})}var sZe=(e={})=>{Oe?zc("bindGroup",e,"bindGroup:fail SDK暂不支持此API"):md("bindGroup",e)},lZe=(e={})=>{Oe?zc("joinGroup",e,"joinGroup:fail SDK暂不支持此API"):Ie?TE({apiName:"wxaapi_wxajoinchatroom",reqData:{groupid:e.groupId,nonce_str:e.nonceStr,signature:e.signature},success(e){var t=e.data;md("private_openUrl",{url:t.join_chatroom_url,isNativeStyle:!0})},fail({errMsg:e}){jW({title:e.replace(/^\w+:fail\s+/,""),icon:"none"})},complete(){Hc({name:"joinGroup",args:e})}}):md("joinGroup",e)};function cZe(){re.onReady((()=>{Gp((()=>{T.flushReportKeyValueList(),T.flushReportIDKeyList()}))}))}var uZe=!1,dZe=!1,pZe=function(){if(!uZe)return uZe=!0,{invokeMethod:md,onMethod:ur,subscribe:en,publish:Kr,beforeInvokeFail:zc,beforeInvokeCallback:Hc,getCurrentPagesByDomain:br.getCurrentPagesByDomain}},hZe=function(e,t=!1){if(!0===p.g.__wxConfig.exportBaseMethods||t){if(dZe)return void y.warn("getBaseMethods has been initialized");dZe=!0,e.__defineGetter__("getBaseMethods",(()=>pZe))}};function fZe(e={}){md("openWCPayLQTDetail",e)}function gZe(e={}){md("openWCPayLQTSave",e)}function vZe(e={}){md("openWCPayLQTDepositPlan",e)}function mZe(e={}){md("openWCPayLQTDepositPlanAdd",e)}var yZe=[{name:"quicklyAddBrandContact",permissionByte:"quicklyAddBrandContact"},{name:"privateScanItem",permissionByte:"privateScanItem"},{name:"privateSearchContacts",permissionByte:"privateSearchContacts"},{name:"setNavigateBackInterception",permissionByte:"private_setNavigateBackInterception"},{name:"stopNavigateBackInterception",permissionByte:"private_stopNavigateBackInterception"},{name:"getWebviewDebugInfo",permissionByte:"private_getWebviewDebugInfo"},{name:"openAddressWithLightMode",permissionByte:"openAddressWithLightMode"},{name:"editTextWithPopForm",permissionByte:"editTextWithPopForm"},{name:"jumpRedPacketEnvelopePreview",permissionByte:"jumpRedPacketEnvelopePreview"},{name:"quickSendRedPacket",permissionByte:"quickSendRedPacket"},{name:"openChannelsPostPage",permissionByte:"openChannelsPostPage"},{name:"sendRedCoverAppMsg",permissionByte:"sendRedCoverAppMsg"},{name:"registerMagicBrushFrame",permissionByte:"useMagicBrushFrame"},{name:"sendEventToMagicBrushFrame",permissionByte:"useMagicBrushFrame"},{name:"onEventFromMagicBrushFrame",permissionByte:"useMagicBrushFrame"},{name:"offEventFromMagicBrushFrame",permissionByte:"useMagicBrushFrame"},{name:"privateCreateVestUser",permissionByte:"private_createVestUser"},{name:"choosePhoneNumberAreaCode",permissionByte:"choosePhoneNumberAreaCode"},{name:"getInnerEnterOptions",permissionByte:"private_getEnterOptions"}],bZe=e=>{var t=!0===re.debug,r="devtools"===re.platform;(t||r)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),_w(`wx.${e}`)},_Ze=(e,t,r)=>function(...n){return bZe(e),t.apply(r,n)},wZe=e=>{Pr((()=>{wr.define("__wx__/private-api",((t,r)=>{r.exports=e}))}))},SZe=e=>{var t={};yZe.forEach((r=>{var n=r.name,i=r.permissionByte,a=e[n];t[n]=function(...t){return Cf(i)?a.call(e,...t):zc(n,t[0],"no permission")}.bind(e),r.deprecate?e[n]=_Ze(n,t[n],e):delete e[n]})),wZe(t)},CZe=e=>{if(Be){var t,r="";if(md("createBufferURL",{buffer:e,success(e){r=e.bufferURL},fail(e){t=e.errMsg}}),t)throw new Error(t);return r}var n=xf.createBufferURL(e)||(()=>"");return af.add(n,e),n},kZe=(e={})=>{invokeMethod("createBufferURLAsync",{buffer:e.buffer,success:e.success,fail:e.fail,complete:e.complete})},IZe=e=>{if(!Be)return af.off(e),xf.revokeBufferURL(e)||(()=>!1);var t;if(md("revokeBufferURL",{blobUrl:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},PZe=(...e)=>xf.createSignal?xf.createSignal(...e):null;function AZe(e={}){var t,r=e.mode,n="getCommonConfig";if(0===e.mode||1===e.mode){var i=[],a=[];if(null===(t=e.keys)||void 0===t||t.forEach((e=>{var t=e.slice(0,e.indexOf("_")),r=e.slice(e.indexOf("_")+1);i.push(t),a.push(r||"")})),0===r){for(var o=i.length,s=new Array(o),l=0;l<o;s[l++]={});new Promise((e=>{WC("getCommonConfigFromGlobalStorage",{apiName:n,appId:f.accountInfo.appId},void 0,(t=>{e(t)}))})).then((t=>{for(var r=Date.now(),l=[],c={business_type:[],separate_key:[]},u=0;u<o;u++){var d=i[u]+a[u],p=t[d];if(p){if(p.time_stamp>=r){Object.assign(s[u],p);continue}p.time_stamp}i[u],a[u],c.business_type.push(i[u]),c.separate_key.push(a[u]),l.push(u)}0===c.business_type.length?Hc({name:n,args:e,res:{data:s}}):TE({apiName:"webapi_getopencommconf",sdkApiName:n,reqData:c,success:o=>{for(var c=o.data.conf_list,u=0;u<c.length;u++){var d={conf:c[u].conf,conf_type:c[u].conf_type,time_stamp:r+1e3*c[u].expire_sec},p=l[u];i[p],a[p],t[i[p]+a[p]]=d,l[u],c[u].expire_sec,Object.assign(s[p],d)}WC("setCommonConfigToGlobalStorage",{apiName:n,item:t,appId:f.accountInfo.appId},void 0,(e=>{null===e||y.error("setCommonConfigToGlobalStorage fail:",e)})),Hc({name:n,args:e,res:{data:s}})},fail:t=>{zc(n,e,t.errMsg,t.err_code)}})}))}else Hc({name:n,args:e,res:{data:Cq(e.keys)}})}else zc(n,e,"mode错误",1e3)}function xZe(e={},t){__sclEngine__.initScl((r=>{var n=r.mainRoot.append("toast",e);"function"==typeof t&&t(n)}))}var TZe=Object.assign,EZe=Object.create,MZe="https://mp.weixin.qq.com/intp/jump";function RZe(e={}){if(Cf("openPublicServicePayment")){var{jumpToken:t,destUrl:r,openId:n}=e;if(t&&r&&n){var i=`?appid=${re.accountInfo.appId}`;i+=`&jump_token=${encodeURIComponent(t)}`,i+=`&dest_url=${encodeURIComponent(r)}`,i+=`&openid=${encodeURIComponent(n)}`;var a=EZe(null);TZe(a,e),a.url=MZe+i,a.isNativeStyle=!0,xZe({loading:!0,title:"政务民生缴费"},(e=>{setTimeout((()=>{e.close(),md("private_openUrl",a,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPublicServicePayment")}})}),1e3)}))}else zc("openPublicServicePayment",e,"missing arguments")}else zc("openPublicServicePayment",e,"permission denied")}var OZe=p(945),DZe=p.n(OZe);function LZe(e){for(var t="",r=0;r<e.length;){var n=e[r],i=0;n>>>7==0?(t+=String.fromCharCode(e[r]),r+=1):252==(252&n)?(i=(3&e[r])<<30,i|=(63&e[r+1])<<24,i|=(63&e[r+2])<<18,i|=(63&e[r+3])<<12,i|=(63&e[r+4])<<6,i|=63&e[r+5],t+=String.fromCharCode(i),r+=6):248==(248&n)?(i=(7&e[r])<<24,i|=(63&e[r+1])<<18,i|=(63&e[r+2])<<12,i|=(63&e[r+3])<<6,i|=63&e[r+4],t+=String.fromCharCode(i),r+=5):240==(240&n)?(i=(15&e[r])<<18,i|=(63&e[r+1])<<12,i|=(63&e[r+2])<<6,i|=63&e[r+3],t+=String.fromCharCode(i),r+=4):224==(224&n)?(i=(31&e[r])<<12,i|=(63&e[r+1])<<6,i|=63&e[r+2],t+=String.fromCharCode(i),r+=3):192==(192&n)?(i=(63&e[r])<<6,i|=63&e[r+1],t+=String.fromCharCode(i),r+=2):(t+=String.fromCharCode(e[r]),r+=1)}return t}function NZe(e){for(var t,r=[],n=e.length,i=0;i<n;i++)(t=e.charCodeAt(i))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);for(var a=new Int8Array(r.length),o=0;o<r.length;o++)a[o]=r[o];return a.buffer}var BZe="START_CPU_PROFILE",$Ze="STOP_CPU_PROFILE",jZe="TAKE_HEAP_SNAPSHOT",FZe="PERFDOG_METHOD",WZe="PERFDOG_METHOD_CALLBACK",UZe="LAN_DEBUG_GET_DEVICE_INFO",VZe="LAN_DEBUG_PLUGIN_GET_DEVICE_INFO",qZe={OPEN:"OPEN",CLOSED:"CLOSED",ERROR:"ERROR",CONNECTING:"CONNECTING"},zZe="LAN_DEBUG_STATUS_CHANGE",GZe=(e=6)=>{(e>=13||e<0)&&(e=13);for(var t=`${Date.now()}`.slice(-e).split(""),r=0;r<Math.floor(e/2);r++){var n=Math.floor(10*Math.random());t[r]="abcdefghij"[n]}return t.join("")},HZe=null,KZe=!1,JZe=()=>!0===KZe||("function"!=typeof getProfiler?(void 0!==xf.Profiler&&(HZe=xf.Profiler,KZe=!0),!0):((HZe=getProfiler())&&(KZe=!0),!0)),XZe=!1,YZe=()=>(JZe(),HZe?(XZe||(XZe=!0,HZe.startCpuProfiling()),!0):null),QZe=()=>{if(JZe(),!HZe)return null;if(XZe){XZe=!1;var e=HZe.stopCpuProfiling();return e}return null},ZZe=()=>(JZe(),HZe?HZe.takeHeapSnapshot():null),e0e=!1;function t0e(e,t){var{model:r,version:n,system:i,SDKVersion:a}=JS(),{accountInfo:o,isDevEdition:s}=re,{appId:l,nickname:c}=o,u={model:r,wechatVersion:n,system:i,SDKVersion:a,appId:l,nickname:c,isDevEdition:!!s};t(e,JSON.stringify(u))}function r0e(e){var t=p.g.LanDebug;t&&(Ue||delete p.g.LanDebug,t.registerCallback?t.registerCallback(FZe,((t,r)=>{e(WZe,r)})):t.registerCallback)}function n0e(e,t,r){e0e||(e0e=!0,r0e(t),e(UZe,(()=>{t0e(UZe,t)})),e(VZe,(()=>{t0e(VZe,t)})),e(FZe,(e=>{var r="undefined"!=typeof getPerfDog?getPerfDog():void 0,n="PerfDog not found";r&&r.handle&&(n=r.handle(FZe,e)),t(WZe,n)})),e(BZe,(()=>{YZe()})),e($Ze,(()=>{var e=QZe();ke&&e&&(e.constructor.toString().includes("ArrayBuffer")?e=LZe(new Uint8Array(e)):"object"==typeof e&&(e=JSON.stringify(e))),t($Ze,e||"")})),e(jZe,(()=>{setTimeout((()=>{var e=ZZe();if(t(`${jZe}:PROGRESS`,JSON.stringify({data:"start"})),!e)return t(jZe,""),t(`${jZe}:PROGRESS`,JSON.stringify({data:"error"})),!1;if(e.on){var n=r(jZe),i=!1;e.on("data",(e=>{i||(t(`${jZe}:PROGRESS`,JSON.stringify({data:"data"})),i=!0),n.send(e.slice())})),e.on("end",(()=>{t(`${jZe}:PROGRESS`,JSON.stringify({data:"end"})),n.end(new ArrayBuffer(0))})),e.on("error",(e=>{t(`${jZe}:PROGRESS`,JSON.stringify({data:"error"})),n.end(new ArrayBuffer(0))})),e.flush()}return!0}),100)})))}var i0e=0,a0e=aA(),o0e="\n  message LanDebugHeader {\n    required int32 version = 0;         // 版本，用于升级时兼容用\n    required string method = 1;         // 命令字，代表该包行为\n    required int32 id = 2;              // 命令序号，client端每次给server发命令可以弄一个自增序号，这样方便server处理isEnd。\n    required bool isString = 3;         // 若开发者传输的原始数据是string，需要标识，用于服务端处理\n    required string clientId = 4;       // 客户端会唯一生成一个ID\n    optional bool notEnd = 5;           // 若isEnd为true，代表这次命令已经发送完毕\n    optional string options = 6;        // 预留字段，后续可能会有一些用\n  }\n",s0e=null,l0e=()=>s0e||(s0e=DZe()()(o0e)),c0e,u0e=()=>{c0e||(c0e=GZe())},d0e=new Qt,p0e="LANDEBUG",h0e="MPHELPER",f0e=null,g0e=qZe.CLOSED,v0e="",m0e=-1,y0e=!1,b0e=null,_0e=null,w0e=[],S0e=[],C0e=[];function k0e(e){var t;try{if("object"!=typeof e)return Promise.resolve(!1);if("string"!=typeof e.ip||"string"!=typeof e.token)return Promise.resolve(!1);t=e}catch(e){return Promise.resolve(!1)}if(g0e===qZe.OPEN&&_0e)return Promise.resolve(_0e);if(g0e===qZe.CONNECTING)return f0e;var{ip:r,port:n,token:i,useStaticServer:a=!1,mode:o}=t;y0e=a,v0e=r,m0e=n,g0e=qZe.CONNECTING;var s="mpHelper"===o?h0e:p0e,l=JS();return n0e(T0e,A0e,x0e),f0e=new Promise((e=>{u0e(),(_0e=a0e.connectSocket({url:`ws://${r}:${n}`,protocols:[`${encodeURI(`${s}#${l.system}_v${l.version}_${c0e}`)}||${i}`]})).onOpen((()=>{_0e.send({data:"ping",success(){w0e.forEach((e=>{M0e(e)}))},fail(e){}}),g0e=qZe.OPEN,d0e.emit(zZe,g0e),e(_0e)})),_0e.onMessage((e=>{if(!(e.data&&"pong"===e.data||e.data.length<4||"string"==typeof e.data)){var t,r=new Uint8Array(e.data),n=r.slice(0,4),i=new Uint32Array(n)[0],a=r.slice(4,4+i);try{t=l0e().LanDebugHeader.decode(a)}catch(e){return e.message,void e.stack}var o,{isString:s,method:l}=t;if(s)o=LZe(r.slice(4+i));else o=r.slice(4+i).buffer;d0e.emit(l,o)}})),_0e.onClose((()=>{I0e(qZe.CLOSED),C0e.forEach((e=>{O0e(e)}))})),_0e.onError((e=>{I0e(qZe.ERROR),b0e=e,S0e.forEach((e=>{R0e(e)}))}))})),f0e}function I0e(e){g0e=e,d0e.emit(zZe,g0e),v0e="",m0e=-1,y0e=!1,_0e=null}function P0e(e,t,r="",n){if(void 0===r||"string"!=typeof r&&!r.constructor.toString().includes("ArrayBuffer"))return!1;var i=!1;return f0e?("string"==typeof r&&(i=!0,r=NZe(r)),f0e.then((a=>new Promise((o=>{if(!a)return o({errMsg:"sendSocketMessage:fail no client"});u0e();var s=l0e().LanDebugHeader.encode(Object.assign({version:2,method:t,id:e,isString:i,clientId:c0e,options:JSON.stringify({isDevEdition:re.isDevEdition})},n?{notEnd:!0}:{})),l=new Uint32Array([s.length]);a.send({data:new Uint8Array([...new Uint8Array(l.buffer),...new Uint8Array(s.buffer),...new Uint8Array(r)]).buffer,success(e){o(e)},fail(e){o(e)}})}))))):Promise.resolve({errMsg:"sendSocketMessage:failed"})}var A0e=function(e,t){return P0e(i0e++,e,t)},x0e=function(e){var t=i0e++;return{send:r=>P0e(t,e,r,!0),end:(r=new ArrayBuffer(0))=>P0e(t,e,r)}},T0e=function(e,t){d0e.on(e,t)},E0e=function(e,t){d0e.off(e,t)},M0e=function(e){try{e()}catch(e){e.message,e.stack}},R0e=function(e){try{e(b0e)}catch(e){e.message,e.stack}},O0e=function(e){try{e(b0e)}catch(e){e.message,e.stack}},D0e=function(e){"function"==typeof e&&(g0e===qZe.OPEN?M0e(e):w0e.push(e))},L0e=function(e){"function"==typeof e&&(g0e===qZe.ERROR?R0e(e):S0e.push(e))},N0e=function(e){"function"==typeof e&&(g0e===qZe.ERROR?O0e(e):C0e.push(e))},B0e={sendPackage:A0e,sendStream:x0e,onMessage:T0e,offMessage:E0e,onReady:D0e,onError:L0e,onClose:N0e,get status(){return g0e},get ip(){return v0e},get port(){return m0e},get useStaticServer(){return y0e}};Object.defineProperty(B0e,"_start",{get:()=>(...e)=>k0e(...e)});var $0e=e=>{setTimeout((()=>{var{ip:t,port:r,token:n,useStaticServer:i,useLanDebug:a}=(e.debugLaunchInfo||{}).lanDebugInfo||{};if((e.isDevEdition||a)&&(e.debugLaunchInfo,e.isDevEdition,t&&r&&n))return k0e({ip:t,port:r,token:n,useStaticServer:i})}),500)};re.onReady((()=>{Ue()||KC((()=>{$0e(re)}))}));var j0e="getLatestUserKey";function F0e({contextId:e}={}){return EE({apiName:"webapi_getuserencryptkey",reqData:{},contextId:e}).then((e=>{var{encrypt_key:t,version:r,expire_in:n,iv:i}=e.data;return{encryptKey:t,version:r,expireTime:Date.now()+1e3*n,iv:i}}))}function W0e(e){Oe?zc("getLatestUserKey",e,"getLatestUserKey:fail SDK暂不支持此API"):F0e({contextId:e.contextId}).then((t=>(Hc({name:j0e,args:e,res:t}),null))).catch((t=>{zc(j0e,e,t.message||t.errMsg)}))}var U0e={getLatestUserKey:W0e,getRandomValues:bFe},V0e=()=>U0e,q0e,z0e,G0e=function(e){return e.EC="EC",e.RSA="RSA",e.SHA256withECDSA="SHA256withECDSA",e.SHA256withRSA="SHA256withRSA",e}(G0e||{}),H0e=function(e){return e.ECDH="ECDH",e.AES_GCM="AES-GCM",e.AES_CBC="AES-CBC",e}(H0e||{}),K0e=5242880,J0e=[224,256,384,521],X0e=[512,1024,2048,4096],Y0e=[128,192,256],Q0e=(e={})=>{Object.keys(e).forEach((t=>{t.includes("__wx_")&&delete e[t]}))},Z0e=()=>new ArrayBuffer(0),e1e=NZ((()=>new ArrayBuffer(0))),t1e=0,r1e=(q0e=class{generateKeyPair(e){Vc("generateKeyPair",e,{algorithm:"",keySize:0})&&(Object.values(G0e).includes(e.algorithm)?e.algorithm!==G0e.EC||J0e.includes(e.keySize)?e.algorithm!==G0e.RSA||X0e.includes(e.keySize)?md("cryptoGenerateKey",{...e,keyAlias:Nt()},{beforeAll(e){Q0e(e),e.errMsg=e.errMsg.replace("cryptoGenerateKey","generateKeyPair")},beforeSuccess(e){e.privateKeyAlias=e.keyAlias,delete e.keyAlias}}):zc("generateKeyPair",e,"RSA invalid keysize"):zc("generateKeyPair",e,"EC invalid keysize"):zc("generateKeyPair",e,"invalid algorithm"))}generateKey(e){var t=e.algorithm===H0e.ECDH;Vc("generateKey",e,{algorithm:"",...t?{privateKeyAlias:"",publicKey:e1e()}:{keySize:0}})&&(Object.values(H0e).includes(e.algorithm)?![H0e.AES_CBC,H0e.AES_GCM].includes(e.algorithm)||Y0e.includes(e.keySize)?t?md("cryptoExchangeKey",{...e,...e.privateKeyAlias?{keyAlias:e.privateKeyAlias}:{}},{beforeAll(e){Q0e(e),e.errMsg=e.errMsg.replace("cryptoExchangeKey","generateKey")}}):md("cryptoGenerateKey",{...e,keyAlias:Nt()},{beforeAll(e){Q0e(e),e.errMsg=e.errMsg.replace("cryptoGenerateKey","generateKey")}}):zc("generateKey",e,`${e.algorithm} invalid keysize`):zc("generateKey",e,"invalid algorithm"))}removeKey(e){Vc("removeKey",e,{keyAlias:""})&&md("cryptoRemoveKey",e,{beforeAll(e){e.errMsg=e.errMsg.replace("cryptoRemoveKey","removeKey")}})}getKeys(e={}){md("cryptoGetGeneratedKeys",e,{beforeAll(e){e.errMsg=e.errMsg.replace("cryptoGetGeneratedKeys","getKeys")}})}createCryptoOperator(e){var t={};if(e.type===n1e.verify&&(t={publicKey:e1e(),signature:e1e()}),Vc("createCryptoOperator",e,{type:"",algorithm:"",...t}))if(Object.values(n1e).includes(e.type))if(Object.values({...G0e,...H0e}).includes(e.algorithm)){if(e.algorithm===H0e.AES_GCM){if(![96,104,112,120,128].includes(null==e?void 0:e.tagLength))return void zc("createCryptoOperator",e,"invalid tagLength")}e.privateKeyAlias&&(e.keyAlias=e.privateKeyAlias);var r=++t1e;md("cryptoOpen",{...e,id:r},{beforeAll:e=>{Q0e(e),e.errMsg=e.errMsg.replace("cryptoOpen","createCryptoOperator")},beforeSuccess:t=>{t.operator=new i1e(r,e.type)}})}else zc("createCryptoOperator",e,"invalid algorithm");else zc("createCryptoOperator",e,"invalid operate type")}},H()(q0e.prototype,"generateKeyPair",[Bt],Object.getOwnPropertyDescriptor(q0e.prototype,"generateKeyPair"),q0e.prototype),H()(q0e.prototype,"generateKey",[Bt],Object.getOwnPropertyDescriptor(q0e.prototype,"generateKey"),q0e.prototype),H()(q0e.prototype,"removeKey",[Bt],Object.getOwnPropertyDescriptor(q0e.prototype,"removeKey"),q0e.prototype),H()(q0e.prototype,"getKeys",[Bt],Object.getOwnPropertyDescriptor(q0e.prototype,"getKeys"),q0e.prototype),H()(q0e.prototype,"createCryptoOperator",[Bt],Object.getOwnPropertyDescriptor(q0e.prototype,"createCryptoOperator"),q0e.prototype),q0e),n1e=function(e){return e.encrypt="encrypt",e.decrypt="decrypt",e.sign="sign",e.verify="verify",e}(n1e||{}),i1e=(z0e=class{constructor(e,t){this.id=e,this.type=t,this.finished=!1}update(e){Vc("createCryptoOperator.update",e,{data:e1e()})&&(e.data.byteLength>K0e?zc("createCryptoOperator.update",e,"exceed 5MB data size"):this.finished?zc("createCryptoOperator.update",e,"already computed"):md("cryptoOperate",{...e,id:this.id,type:"update"},{beforeAll:e=>{Q0e(e),e.errMsg=e.errMsg.replace("cryptoOperate","createCryptoOperator.update")},beforeSuccess:e=>{void 0===e.data&&(e.data=Z0e())}}))}compute(e={}){this.finished?zc("createCryptoOperator.compute",e,"already computed"):md("cryptoCompute",{...e,id:this.id},{beforeAll:e=>{Q0e(e),e.errMsg=e.errMsg.replace("cryptoCompute","createCryptoOperator.compute"),this.finished=!0},beforeSuccess:e=>{void 0===e.data&&(e.data=Z0e()),this.type===n1e.sign&&(e.signature=e.data,delete e.data),this.type===n1e.verify&&(e.verify=e.data,delete e.data)}})}},H()(z0e.prototype,"update",[Bt],Object.getOwnPropertyDescriptor(z0e.prototype,"update"),z0e.prototype),H()(z0e.prototype,"compute",[Bt],Object.getOwnPropertyDescriptor(z0e.prototype,"compute"),z0e.prototype),z0e),a1e=new r1e,o1e=()=>a1e,s1e="SM-CRYPTO",l1e="";function c1e(e){l1e=e,WC("sendViewLicenseInfo",{key:s1e,license:e,permissionByte:Cf("skipCheckCommercialWxaEncryptLicense")})}function u1e(e){var{success:t}=Kc(e,"checkLicense");if(l1e)t({hasLicense:!0});else{var r=re.accountInfo&&re.accountInfo.appId||"noAppId";WC("getLicenseFromGlobalStorge",{key:s1e,appId:r},void 0,(e=>{c1e(e||""),t({hasLicense:!!e})}))}}function d1e(e){var{success:t,failWithMsg:r}=Kc(e,"applyLicense"),n=()=>{TE({sdkApiName:"applyLicense",apiName:"webapi_checkcommercialwxaencryptlicense",reqData:{lib_version:re.SDKVersion},success(e){var n=(e.data||{}).request_id;if(n){var i=Iv(n),a=re.accountInfo&&re.accountInfo.appId||"noAppId";i&&i.trim()&&WC("setLicenseToGlobalStorge",{key:s1e,license:i,appId:a},void 0,(()=>{c1e(i),(e=>{TE({sdkApiName:"applyLicense",apiName:"webapi_consumecommercialwxaencryptlicense",reqData:{lib_version:re.SDKVersion,request_id:e}})})(n),t({})}))}else r({msg:"apply license failed"})},fail(e){1400001===e.errno?r({code:1400001,msg:"no enough quota"}):r({msg:"system error"})}})};u1e({success(e){e.hasLicense?t({}):n()},fail(){n()}})}function p1e(e){var{success:t,assembleFailWithMsg:r}=Kc(e,"removeLicense"),n=re.accountInfo&&re.accountInfo.appId||"noAppId";WC("removeLicenseFromGlobalStorge",{key:s1e,appId:n},void 0,(e=>{e?r({}):(c1e(""),t({}))}))}function h1e(){return!!Cf("skipCheckCommercialWxaEncryptLicense")||!!l1e}var f1e=!1;EK((()=>{c1e(l1e),f1e||u1e({success:()=>{f1e=!0}})}));var g1e=(e={})=>{h1e()?md("operateSmCrypto",e):zc("GMCryptoManager",e,"can only be invoked with license")},v1e=(e={})=>{h1e()?md("operateSmCryptoSensitive",e):zc("GMCryptoManager",e,"can only be invoked with license")},m1e=(e={})=>{h1e()?md("operateSmStorage",e):zc("GMCryptoManager",e,"can only be invoked with license")},y1e=NZ((()=>new ArrayBuffer)),b1e={generateKeyPair:"generateSm2KeyPair",importPublic:"importSm2PublicKey",exportPublic:"exportSm2PublicKey",updatePublic:"updateSm2PublicKey",deletePublic:"deleteSm2PublicKey",checkPublic:"checkSm2PublicKey",importPrivate:"importSm2PrivateKey",exportPrivate:"exportSm2PrivateKey",updatePrivate:"updateSm2PrivateKey",deletePrivate:"deleteSm2PrivateKey",checkPrivate:"checkSm2PrivateKey"},_1e=(e={})=>{var t="desc"in e,r=t?m1e:v1e,n=t?b1e.generateKeyPair:"sm2GenKeyPair";t&&!Vc("GMCryptoManager.SM2.generateKeyPair",e,{desc:""})||r({...e,type:n})},w1e=(e={})=>{if(Vc("GMCryptoManager.SM2.importPublicKey",e,{desc:"",publicKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,m1e({...t,type:b1e.importPublic})}},S1e=(e={})=>{if(Vc("GMCryptoManager.SM2.exportPublicKey",e,{desc:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,m1e({...t,type:b1e.exportPublic})}},C1e=(e={})=>{if(Vc("GMCryptoManager.SM2.updatePublicKey",e,{desc:"",publicKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,m1e({...t,type:b1e.updatePublic})}},k1e=(e={})=>{Vc("GMCryptoManager.SM2.deletePublicKey",e,{desc:""})&&m1e({...e,type:b1e.deletePublic})},I1e=(e={})=>{Vc("GMCryptoManager.SM2.checkPublicKey",e,{desc:""})&&m1e({...e,type:b1e.checkPublic})},P1e=(e={})=>{if(Vc("GMCryptoManager.SM2.importPrivateKey",e,{desc:"",privateKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,m1e({...t,type:b1e.importPrivate})}},A1e=(e={})=>{if(Vc("GMCryptoManager.SM2.exportPrivateKey",e,{desc:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,m1e({...t,type:b1e.exportPrivate})}},x1e=(e={})=>{if(Vc("GMCryptoManager.SM2.updatePrivateKey",e,{desc:"",privateKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,m1e({...t,type:b1e.updatePrivate})}},T1e=(e={})=>{Vc("GMCryptoManager.SM2.deletePrivateKey",e,{desc:""})&&m1e({...e,type:b1e.deletePrivate})},E1e=(e={})=>{Vc("GMCryptoManager.SM2.checkPrivateKey",e,{desc:""})&&m1e({...e,type:b1e.checkPrivate})},M1e=(e={})=>{Vc("GMCryptoManager.SM2.generatePublicKey",e,{privateKey:new ArrayBuffer})&&v1e({...e,type:"sm2GenPublicKey"})},R1e=(e={})=>{var t=y1e(),r={plaintext:t,cipherMode:0},n="desc"in e;if(n?r.desc="":r.publicKey=t,Vc("GMCryptoManager.SM2.encrypt",e,r)){var i=n?"sm2Encrypt":"sm2EncryptWithMode";(n?m1e:g1e)({...e,type:i})}},O1e=(e={})=>{var t=y1e(),r={ciphertext:t,cipherMode:0},n="desc"in e;if(n?r.desc="":r.privateKey=t,Vc("GMCryptoManager.SM2.decrypt",e,r)){var i=n?"sm2Decrypt":"sm2DecryptWithMode";(n?m1e:v1e)({...e,type:i})}},D1e=(e={})=>{var t=y1e(),r={message:t,signMode:0},n="desc"in e;if(n?r.desc=r.uid="":r.privateKey=r.publicKey=r.uid=t,Vc("GMCryptoManager.SM2.sign",e,r)){n&&(e.id=e.uid,delete e.uid);var i=n?"sm2Sign":"sm2SignWithMode";(n?m1e:v1e)({...e,type:i})}},L1e=(e={})=>{var t=y1e(),r={message:t,signed:t,signMode:0},n="desc"in e;if(n?r.desc=r.uid="":r.publicKey=r.uid=t,Vc("GMCryptoManager.SM2.verify",e,r)){n&&(e.id=e.uid,delete e.uid);var i=n?"sm2Verify":"sm2VerifyWithMode";(n?m1e:g1e)({...e,type:i})}},N1e={CipherMode_C1C3C2_ASN1:0,CipherMode_C1C3C2:1,CipherMode_C1C2C3_ASN1:2,CipherMode_C1C2C3:3,CipherMode_04C1C3C2:4,CipherMode_04C1C2C3:5,SignMode_RS_ASN1:0,SignMode_RS:1,KeyFormat_HEX:0,KeyFormat_PEM:1,generateKeyPair:_1e,generatePublicKey:M1e,encrypt:R1e,decrypt:O1e,sign:D1e,verify:L1e,importPublicKey:w1e,exportPublicKey:S1e,updatePublicKey:C1e,deletePublicKey:k1e,checkPublicKey:I1e,importPrivateKey:P1e,exportPrivateKey:A1e,updatePrivateKey:x1e,deletePrivateKey:T1e,checkPrivateKey:E1e},B1e=(e={})=>{Vc("GMCryptoManager.SM3.digest",e,{message:y1e()})&&g1e({...e,type:"sm3"})},$1e=(e={})=>{Vc("GMCryptoManager.SM3.hmac",e,{message:y1e(),key:y1e()})&&v1e({...e,type:"sm3Hmac"})},j1e={digest:B1e,hmac:$1e},F1e={cbc:"sm4CbcEncrypt",gcm:"sm4GcmEncrypt",ctr:"sm4CtrEncrypt",ecb:"sm4EcbEncrypt"},W1e={cbc:"sm4CbcDecrypt",gcm:"sm4GcmDecrypt",ctr:"sm4CtrDecrypt",ecb:"sm4EcbDecrypt"},U1e={generate:"generateSm4Key",import:"importSm4Key",export:"exportSm4Key",update:"updateSm4Key",delete:"deleteSm4Key",check:"checkSm4Key"},V1e=(e={})=>{var t=y1e(),r={plaintext:t,cipherMode:""},n="desc"in e,i=e.cipherMode;(n?r.desc="":r.key=t,i===Y1e.CipherMode_GCM&&(r.aad=t),Vc("GMCryptoManager.SM4.encrypt",e,r))&&(delete e.cipherMode,(n?m1e:v1e)({...e,type:F1e[i]}))},q1e=(e={})=>{var t=y1e(),r={ciphertext:t,cipherMode:""},n="desc"in e,i=e.cipherMode;(n?r.desc="":r.key=t,i===Y1e.CipherMode_GCM&&(r.aad=r.tag=t),Vc("GMCryptoManager.SM4.decrypt",e,r))&&(delete e.cipherMode,(n?m1e:v1e)({...e,type:W1e[i]}))},z1e=(e={})=>{Vc("GMCryptoManager.SM4.generateKey",e,{desc:""})&&m1e({...e,type:U1e.generate})},G1e=(e={})=>{Vc("GMCryptoManager.SM4.importKey",e,{desc:"",key:""})&&m1e({...e,type:U1e.import})},H1e=(e={})=>{Vc("GMCryptoManager.SM4.importKey",e,{desc:""})&&m1e({...e,type:U1e.export})},K1e=(e={})=>{Vc("GMCryptoManager.SM4.updateKey",e,{desc:"",key:""})&&m1e({...e,type:U1e.update})},J1e=(e={})=>{Vc("GMCryptoManager.SM4.deleteKey",e,{desc:""})&&m1e({...e,type:U1e.delete})},X1e=(e={})=>{Vc("GMCryptoManager.SM4.checkKey",e,{desc:""})&&m1e({...e,type:U1e.check})},Y1e={encrypt:V1e,decrypt:q1e,generateKey:z1e,importKey:G1e,exportKey:H1e,updateKey:K1e,deleteKey:J1e,checkKey:X1e,CipherMode_CBC:"cbc",CipherMode_GCM:"gcm",CipherMode_CTR:"ctr",CipherMode_ECB:"ecb"},Q1e=(e={})=>{Vc("GMCryptoManager.generateRandomBytes",e,{length:0})&&g1e({...e,type:"genRandomBytes"})},Z1e={SM2:N1e,SM3:j1e,SM4:Y1e,generateRandomBytes:Q1e,checkLicense:u1e,applyLicense:d1e,removeLicense:p1e},e3e=()=>{for(var e of(["generateRandomBytes","checkLicense","applyLicense","removeLicense"].forEach((e=>{Z1e[e]=Vt(Z1e[e])})),["SM2","SM3","SM4"]))for(var[t,r]of Object.entries(Z1e[e]))"function"==typeof r&&(Z1e[e][t]=Vt(r))},t3e=()=>Z1e,r3e=()=>Math.floor(Date.now()/1e3),n3e=()=>{var e="0123456789abcdef",t=t=>{for(var r="";t--;)r+=e[Math.floor(16*Math.random())];return r};return`${t(8)}-${t(4)}-4${t(3)}-8${t(3)}-${t(8)}`},i3e=(e,t)=>{var r=t.map((t=>`${t}=${e[t]}`)).join("&");return cKe()(r).toUpperCase()},a3e=e=>{md("private_openUrl",{url:`https://mp.weixin.qq.com/mp/waerrpage?appid=${e}&type=offshelf&offshelf_type=0#wechat_redirect`,isNativeStyle:!0}),df((()=>{jee()}))},o3e=um.app,s3e="_private_@@financial_applet_events@@",l3e="https://open.fdep.cn",c3e="/api/v1/mop/runtime/external/check/app-packages",u3e="/api/v1/mop/runtime/data-report/apm/private",d3e={APPLET_START:"applet_start",DATA_DISCLOSURE:"data_disclosure",APPLET_CRASH:"applet_crash",SANDBOX_CRASH:"sandbox_crash",OPERATION_EXCEPTION:"operation_exception",ACCESS_EXCEPTION:"access_exception",START_FAIL:"start_fail"},p3e={applet_start:"小程序启动",data_disclosure:"数据泄露",applet_crash:"小程序崩溃",sandbox_crash:"安全沙箱崩溃",operation_exception:"运维异常",access_exception:"无法访问业务内容",start_fail:"启动失败"},h3e=new Promise((e=>re.onReady(e))),f3e=function(){var e=xd()((function*(){var e,t;yield h3e;var r=null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t?void 0:t.finance_app_info;return r?{appId:r.finance_appid,sdkFingerprint:r.finance_sdk_fingerprint,sdkKey:r.finance_sdk_key,sdkSecret:r.finance_sdk_secret,sdkBundleId:r.finance_sdk_bundleid,sdkVersion:r.finance_sdk_version,appPkgList:r.finance_app_pkg_list,appSequence:r.finance_app_seq,appVersion:r.finance_app_version,organId:r.finance_organ_id,encryptionType:r.finance_encryption_type,isGray:r.is_gray,shouldCheck:r.should_check,baseUrl:r.finance_base_url}:null}));return function(){return e.apply(this,arguments)}}(),g3e=function(){var e=xd()((function*(e){var t,r,n,i,a,o,s,l,c,u="wechat",d="sha256",p=Math.floor(Date.now()/1e3),h=n3e(),f=e.appPkgList.filter((e=>16===e.pkg_type))[0].pkg_sha256,g={source:u,identityType:d,apps:[{appId:e.appId,identity:f}],timestamp:p,uuid:h,sign:i3e({timestamp:p,uuid:h,source:u,identityType:d,secret:e.sdkSecret},["identityType","source","timestamp","uuid","secret"])},v={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},m=`${e.baseUrl||l3e}${c3e}`,b=yield new Promise(((e,t)=>{mE({method:"POST",url:m,header:v,data:g,success:e,fail:t})}));if(y.info(`[mop verify response] errcode=${null==b||null===(t=b.data)||void 0===t?void 0:t.errcode} error=${null==b||null===(r=b.data)||void 0===r?void 0:r.error}`),["FS_BIND_NOT_FOUND","MOP_SDK_FINGERPRINT_CHECK_FAIL"].includes(null==b||null===(n=b.data)||void 0===n?void 0:n.errcode))return!1;if("OK"!==(null==b||null===(i=b.data)||void 0===i?void 0:i.errcode))throw new Error((null==b||null===(c=b.data)||void 0===c?void 0:c.error)||"mop verify failed");var _=null==b||null===(a=b.data)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.appList)||void 0===s?void 0:s[0];if(!_)throw new Error("cannot find app data in appList");if(["FS_APP_ID_NOT_FOUND","FS_IDENTITY_NOT_FOUND_ERR","FS_ORGAN_STATUS_INVALID","FS_COOPERATION_TERMINATED","FS_APP_NOT_ASS_BIND"].includes(null==_?void 0:_.errcode))return!1;if("OK"!==(null==_?void 0:_.errcode))throw new Error((null==_?void 0:_.error)||"mop verify failed");return!0===(null==_||null===(l=_.data)||void 0===l?void 0:l.identityValid)}));return function(t){return e.apply(this,arguments)}}(),v3e=function(){var e=xd()((function*(e,t){var r={applet_id:e.appId,applet_ver:e.appVersion,applet_sequence:e.appSequence,event_name:p3e[t],event_type:t,is_gray:e.isGray,organ_id:e.organId,basic_pack_version:re.SDKVersion,payload:{},timestamp:r3e()},n=o3e.getStorageSync(s3e);if((n=Array.isArray(n)?n:[]).push(r),o3e.setStorage({key:s3e,data:n}),e.shouldCheck){var i=n3e(),a=r3e(),o={data:{app_info:{app_id:e.sdkBundleId,app_version:re.host.version+"",name:re.host.env,sdk_key:e.sdkKey,sdk_version:e.sdkVersion,finger:e.sdkFingerprint},device_info:{brand:re.brand,device_id:null,model:re.model,os:re.platform,os_version:re.system,screen_size:`${re.screenHeight}*${re.screenWidth}`},events:n},exp:{},timestamp:a,uuid:i,sign:i3e({timestamp:a,uuid:i,secret:e.sdkSecret},["timestamp","uuid","secret"])},s={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},l=`${e.baseUrl||l3e}${u3e}`;try{var c,u,d=yield new Promise(((e,t)=>{mE({method:"POST",url:l,header:s,data:o,success:e,fail:t})}));if("OK"!==(null==d||null===(c=d.data)||void 0===c?void 0:c.errcode))throw new Error((null==d||null===(u=d.data)||void 0===u?void 0:u.error)||"report failed");var p=o3e.getStorageSync(s3e);p=(p=Array.isArray(p)?p:[]).slice(n.length),o3e.setStorage({key:s3e,data:p})}catch(e){}}}));return function(t,r){return e.apply(this,arguments)}}(),m3e=()=>{re.onReady(xd()((function*(){yield new Promise((e=>setTimeout(e,0)));var e=yield f3e();if(e&&e.appId){var t="initial";try{if(e.shouldCheck)try{if(!(yield g3e(e)))return a3e(re.accountInfo.appId),void(t="rejected");t="passed"}catch(e){t="failed",y.error("[mop verify error]",e)}else t="skipped";v3e(e,d3e.APPLET_START).catch((e=>{y.error("[mop report error]",e)}))}catch(e){y.error("[init financial app error]",e)}finally{y.info("[financial check status]",t)}}})))},y3e=()=>{re.onReady((()=>{p.g.__isAppServiceRemoteDebugMode__&&p.g.__remoteDebug__.setAppserviceHandlers({getCurrentPages:br.getCurrentPagesByDomain,invokeWebviewMethod:WC,__appServiceEngine__:br,__appServiceSDK__:{_requestSkipCheckDomain:mE},Reporter:T,__virtualDOM__:vr,exparser:Ar,wx:ojt.wx})}))},b3e=()=>p.g.__debuggerMessager__?p.g.__debuggerMessager__:{},_3e=(e={})=>{var t=["release","develop","trial"],r=NE("CreateWxaShortLink","webapi_createwxashortlink",(e=>({wxa_appid:e.appid,wxa_path:e.path,page_title:e.title,version:e.version,version_type:t.indexOf(e.envVersion)})),(e=>{e.shortLink=e.short_link,delete e.short_link}));r(e)},w3e=(e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",md("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data)}})},S3e=(e={})=>{e.keyPath="WxaAppVersionInfo.VersionState",md("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data),1===e.data&&(e.data=0)}})},C3e=(e={})=>{w3e({success(t){Hc({name:"getAppContact",args:e,res:t})},fail(t){S3e({success(t){Hc({name:"getAppContact",args:e,res:t})},fail(t){Hc({name:"getAppContact",args:e,res:t,success:!1})}})}})},k3e=null,I3e=e=>{Oe?console.error("onCopyUrl:fail SDK暂不支持此API"):k3e=e},P3e=()=>{Oe?console.error("offCopyUrl:fail SDK暂不支持此API"):k3e=null},A3e=wg(_3e),x3e=wg(C3e),T3e=e=>jW({icon:"none",title:e}),E3e=1500,M3e=new Map,R3e="请检查网络后重试",O3e="已复制",D3e=0;qt("onCopyUrl",(e=>{if(e.webviewId!==uu.currentWebviewId)return console.warn("[onCopyUrl] error: webviewId loss"),void T3e("请检查网络后重试");ZM(e.webviewId);var t=e.shortLinkEnable||!1,r=uu.lastRoute,n=uu.lastOpenType,i=JSON.parse(JSON.stringify(uu.lastRawQuery||{}));if("appLaunch"!==n&&"autoReLaunch"!==n)try{Object.keys(i).forEach((e=>{i[e]=decodeURIComponent(i[e])}))}catch(e){return void T3e(R3e)}var a=Ue()?t?"":"index.html":`${r}.html`,o=Object.entries(i).map((e=>e.join("="))).join("&");if(t&&"function"==typeof k3e)try{o=(k3e()||{}).query||""}catch(e){console.warn("[onCopyUrl] error",e)}var s=o?`${a}?${o}`:a;if(t){M3e.has(D3e)&&M3e.set(D3e,!1);var l=++D3e,c=!1;M3e.set(l,!0);var u=e=>{!!M3e.get(l)&&(T3e(e),e===R3e&&md("returnCopyUrl",{url:"",shortLinkEnable:t}),M3e.set(l,!1))};setTimeout((()=>{c=!0,u(R3e)}),E3e);var d=re.page[`${r}.html`],p=d&&d.window||{},h=re.global&&re.global.window||{},f=p.navigationBarTitleText||h.navigationBarTitleText||"";x3e().then((e=>{var r=e.data;return A3e({appid:re.accountInfo.appId,envVersion:re.envVersion,path:s,title:Ue()?"":f,version:r}).then((e=>(console.log("createWxaShortLinkAsync, ",e),!!M3e.get(l)&&!c&&(md("returnCopyUrl",{url:e.shortLink,shortLinkEnable:t,success(){T3e(O3e)},fail(){T3e(R3e)}}),M3e.set(l,!1)),null))).catch((e=>{u(R3e),console.log("[onCopyUrl]:",e)})),null})).catch((e=>{u(R3e),console.log("[onCopyUrl]: ",e)}))}else md("returnCopyUrl",{url:s,shortLinkEnable:t,success(){T3e(O3e)},fail(){T3e(R3e)}})}));var L3e=ir("WindowStateChange"),N3e=L3e.onMethod,B3e=L3e.offMethod;qt("onWindowStateChange",(e=>{y.info("onWindowStateChange",e),L3e.emit(e)}));var $3e=["image","font"],j3e=(e={})=>{var t="preloadAssets";if(Vc(t,e,{data:[{src:"",type:""}]})){for(var r=e.data,n=0;n<r.length;n++){var i=r[n];if(!i.type||!$3e.includes(i.type)||!i.src)return void zc(t,e,Hn)}var a=[];if("webview"===Wr(uu.currentWebviewId)){var o=new Promise((e=>{uu.currentWebviewIdPromise.then((()=>{WC("preloadAssets",r,[uu.currentWebviewId],(t=>{e(t)}))}))}));a.push(o)}re.onReady((()=>{var e,t;null!==(e=re.renderer)&&void 0!==e&&null!==(t=e.allUsed)&&void 0!==t&&t.includes("skyline")&&RNe((()=>{"function"==typeof SkylineGlobal.runtime.preloadAssets&&SkylineGlobal.runtime.preloadAssets(r),a.push(Promise.resolve({errMsg:"preloadAssets:ok"}))}))})),Promise.all(a).then((t=>{sd(t[0],"preloadAssets",e,{})}))}},F3e=!1,W3e=!1;function U3e(e=!1,t=0,r=[]){var n,i,o=xf.saveV8CodeCacheWithTier;"function"==typeof o&&null!==(n=a)&&void 0!==n&&null!==(i=n.features)&&void 0!==i&&i.delayedServiceCodeCache&&(W3e||(W3e=e,F3e||(F3e=!0,setTimeout((()=>{Date.now();o(!1,W3e,t,r),Date.now(),F3e=!1}),0))))}var V3e=!1,q3e=!1;function z3e(e=!1){var t,r,n=xf.saveCodeCache;"function"==typeof n&&null!==(t=a)&&void 0!==t&&null!==(r=t.features)&&void 0!==r&&r.delayedServiceCodeCache&&(q3e||(q3e=e,V3e||(V3e=!0,setTimeout((()=>{Date.now();n(!1,q3e),Date.now(),V3e=!1}),0))))}function G3e(e){"skyline"!==e.renderer?U3e(!0,2,["WARenderContext.js"]):U3e(!0,2),OC(G3e)}g.onLoad((()=>{1===re.envPreloadType?setTimeout((()=>{U3e(!1,1)}),0):Te||re.onReady((()=>{z3e(!1)}))})),RC(G3e);var H3e={},K3e,J3e;re.onReady((()=>{K3e=re.appLaunchInfo.scene,J3e=re.appLaunchInfo.sessionid||re.appLaunchInfo.sessionId,Object.assign(H3e,re.appLaunchInfo),ur("onAppEnterForeground",(e=>{Object.assign(H3e,e),e&&e.scene&&(K3e=e.scene),e&&(e.sessionid||e.sessionId)&&(J3e=e.sessionid||e.sessionId),O.setAppServiceVariable({scene:K3e,scene_note:H3e.scene_note||H3e.sceneNote,instanceId:J3e}),O.updateWebviewPageInfo()})),O.setAppServiceVariable({scene:K3e,scene_note:H3e.scene_note||H3e.sceneNote,instanceId:J3e}),ur("onAppEnterBackground",(()=>{O.checkIsWebviewPageDetach()}))}));var X3e=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8","utf8"===t.format&&ke&&(t.format="utf-8"),Ce){var r=null;return md("encodeArrayBufferSync",Object.assign(t,{success(e){r=e.buffer},fail(){}})),r}return xf.encodeArrayBuffer(t.data,t.format)},Y3e=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf-8","utf8"===t.format&&ke&&(t.format="utf-8"),ArrayBuffer.isView(t.data)&&console.warn("data must be ArrayBuffer not ArrayBufferView"),Ce){var r="";return md("decodeArrayBufferSync",Object.assign(t,{success(e){r=e.result},fail(){}})),r}return xf.decodeArrayBuffer(t.data,t.format)},Q3e=Symbol("specialAdd");ur("onAddToDesktop",(()=>{jW({icon:"loading",title:"加载中",duration:5e3}),Z3e({timeout:5e3,special:Q3e,fail(e){jW({icon:"error",title:"链接生成失败，请重试"}),y.info("onAddToDesktop addToDesktop occur error: ",e)},success(){md("hideToast",null)}})}));var Z3e=(e={})=>{var{special:t,timeout:r}=e;if(void 0===e.path||rt(e.path))if(Ce||ke)zc("addToDesktop",e,"not supported");else{var{path:n="",fail:i,success:a}=e;if(Cf("openUrlByExtBrowser2")||Cf("openUrlByExtBrowser")&&t===Q3e){var o,s=!1;r&&(o=setTimeout((()=>{s=!0,vt(i)&&i({errMsg:"timeout"})}),r)),EE({apiName:"webapi_adduserurllink",reqData:{path:n}}).then((e=>{if(!s){if(o&&clearTimeout(o),0!==(e=e.data).base_resp.errcode)throw e.base_resp;var r=e.url_link;(t===Q3e?Kq:Jq)({url:r,success(){vt(a)&&a()},fail(e){vt(i)&&i(e)}})}})).catch((e=>{s||(o&&clearTimeout(o),e.err_code&&(e.errno=e.err_code,delete e.err_code),vt(i)&&i(e))}))}else zc("addToDesktop",e,"no permission","-12001")}else zc("addToDesktop",e,"invalid request data")},e2e=(e,t)=>{Kr("getPassiveEvent",{},[e]),en("getPassiveEventCb",((r,n)=>{e===n&&t(r)}))},t2e=(e,t)=>{Kr("setPassiveEvent",t,[e])},r2e=(e,...t)=>{vt(e)&&e(...t)},n2e=_S(),i2e=wg(n2e.writeFile),a2e=wg(n2e.readFile),o2e=wg(n2e.access),s2e=wg(n2e.mkdir),l2e=ke?qw.CACHE_PATH_PREFIX.path:"wxfile://usr/__sdk_private_pay__",c2e=`${l2e}/meta.json`,u2e=5e3,d2e=function(){var e=xd()((function*(e={}){if(Cf("allowUseWePay")){var t,r={...e},n=(t,r=!1)=>{LVe(void 0),r2e(e.fail,r?t:{errMsg:"pay:fail "+t})};if(!!DVe())n("has other on-going payment");else try{var i;"wx8d3e80ba58488c78"!==f.accountInfo.appId&&"wx40f8626ddf43d362"!==f.accountInfo.appId||(t=e.cheat,NVe.cheat=t);var{prepayId:a,wxPay:o}=e;if(!a)return void n("lose argument: prepay_id");var s=!1;HW();var l,c,u=setTimeout((()=>{KW(),s=!0,n("timeout")}),u2e);LVe({prepayId:a}),o&&(l=o.useOrder);try{if(c=yield EE({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformList",json_req:JSON.stringify({prepay_id:a})}}),s)return;c=c.data}catch(e){return KW(),clearTimeout(u),void n(e.message)}var d=[];c.platform_list&&c.platform_list.forEach((e=>{var t=e.platform_info;d.push({h:t.name,src:t.icon_url,id:e.platform_id})})),null!==(i=t)&&void 0!==i&&i.multi&&d.push(...d),__sclEngine__.initScl((i=>{clearTimeout(u);try{var{windowHeight:c}=ww(),p=i.mainRoot.append("pay",{title:"请选择",content:d,windowHeight:c});p.addListener("hide-loading",(()=>{KW()})),p.addListener("select-pay",function(){var i=xd()((function*(i){try{var c,d,p=i.detail.id,h=i.detail.name;if(DVe().platformId=p,"微信支付"===h)return void(l?vre({...o,fail(e){n(e,!0)},success(t){r2e(e.success,t)}}):Kte({...o,fail(e){n(e)},success(t){r2e(e.success,t)}}));try{HW(),d=yield EE({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformPayArgs",json_req:JSON.stringify({platform_id:p,prepay_id:a})}})}catch(e){return KW(),void jW({title:`打开${h}失败，请重试`,icon:"error",duration:1500})}if(KW(),null!==(c=d.data.base_resp)&&void 0!==c&&c.errno)return s||clearTimeout(u),void n(d.data.base_resp.err_msg);var{appid:f,platform_prepay_id:g,platform_args:v,path:m}=d.data;try{yield o2e({path:l2e})}catch(e){try{yield s2e({dirPath:l2e,recursive:!0})}catch(e){}}try{var y,b,_,w,S,C,k;try{_=(_=yield a2e({filePath:c2e,encoding:"utf-8"})).data}catch(e){}if(_&&(_=JSON.parse(_)),null!==(y=_)&&void 0!==y&&null!==(b=y[f+h])&&void 0!==b&&b.hasInit)yield Ehe({__skip_tap_check__:whe,appId:f,path:m,extraData:{platform_prepay_id:g,platform_args:v},skipSceneSymbol:She,scene:1227,envVersion:null!==(w=null===(S=t)||void 0===S?void 0:S.envVersion)&&void 0!==w?w:"release"});else yield new Promise(((e,t)=>{OW({title:`即将打开“${h}”小程序支付`,success:r=>{r.cancel?t(new Error("cancel")):e()},fail:t})})),yield Lne({appId:f,path:m,extraData:{platform_prepay_id:g,platform_args:v},scene:1227,envVersion:null!==(C=null===(k=t)||void 0===k?void 0:k.envVersion)&&void 0!==C?C:"release"}),_={..._,[f+h]:{hasInit:!0}},yield i2e({filePath:c2e,data:JSON.stringify(_)})}catch(e){if("cancel"===(null==e?void 0:e.message))return void n("user cancel")}var I,P=yield FVe();if(P.retry)return void d2e(r);if(null!=P&&P.result)A=h,LVe(void 0),r2e(e.success,{errMsg:"pay: ok",pay:A});else n(null!==(I=null==P?void 0:P.errMsg)&&void 0!==I?I:"pay cancel")}catch(e){console.error("DEBUG Pay phrase 4 occur error:",e)}var A}));return function(e){return i.apply(this,arguments)}}()),p.addListener("cancel",(()=>{n("user cancel")}))}catch(e){}}))}catch(e){}}else r2e(e.fail,{errMsg:"pay:fail no permission"})}));return function(){return e.apply(this,arguments)}}(),p2e=!0,h2e=function(e,t,r){var n,i=this.prefix+this.api,a=this.uuid,o=r-this.invokeTime,s=null===(n=this.params)||void 0===n?void 0:n[0],l=e?{}:{errMsg:t&&t.errMsg,errno:t&&t.errno};O.traceApi(i,s,t,e,a,o,!1,l)};function f2e(){return zO("traceApiAction",{hookHandlers:{paramHandler(...e){this.params=e},success(e){var t=this.api,r=Date.now();p2e&&"request"!==t&&O.traceApi(t,this.params[0],e,!1,this.uuid,r-this.invokeTime,!0),h2e.call(this,!0,e,r)},fail(e){var t=this.api,r=Date.now();p2e&&"request"!==t&&O.traceApi(t,this.params[0],e,!0,this.uuid,r-this.invokeTime,!0,{errMsg:e&&e.errMsg,errno:e&&e.errno}),h2e.call(this,!1,e,r)},afterCallback(e,t,r){var n=Date.now(),{callbackError:i,syncError:a}=r;h2e.call(this,!(a||i),t,n)},hookArgs(e){"request"===this.api&&(e.__wx_inner_uuid__=this.uuid,e.__wx_inner_invokeTime__=this.invokeTime)}},getState:()=>({api:void 0,prefix:void 0,uuid:void 0,invokeTime:void 0,params:void 0})})}var g2e=ir("AppEnterBackground"),v2e=g2e.internalOffMethod,m2e=ir("AppEnterForeground"),y2e=m2e.internalOffMethod,b2e=()=>{},_2e=[],w2e=!1,S2e=0,C2e=()=>{if(S2e){var e=Date.now();_2e.push([e,Number.MAX_SAFE_INTEGER])}},k2e=()=>{if(S2e){var e=Date.now();_2e.length?_2e[_2e.length-1][1]=e:_2e.push([0,e])}},I2e=(e,t,r)=>{var n=0;for(var[i,a]of r){n+=Math.max(0,Math.min(t,a)-Math.max(e,i))}return n},P2e=function(e,t,r,n,i){var a,o=this.prefix+this.api,s=this.uuid,l=this.params,[c,...u]=l,d=this.invokeTime,p=this.subContext,h=this.completeTime,f=I2e(d,h,_2e);pt(c)?(a={...c},["complete","success","fail"].forEach((e=>{var t;null===(t=a)||void 0===t||delete t[`__origin_${e}__`]}))):a=c,aO(o,s,u.length?[a,...u]:a,t?1:0,d,n?0:1,e,p,r,A2e.call(this),this.syncCost,i,isNaN(f)?0:f)};function A2e(){return!this.shouldBelieveAsync}function x2e(e,t=!1,r=0,n=!1){return VO("report",{hookHandlers:{paramHandler(...e){this.params=e},success(e){var r=this.prefix+this.api;CR(r,{res:e}).then((r=>{var i=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,i&&(!t||!T.isLimitReport(21688))&&P2e.call(this,e,!0,t,void 0,n)})).catch((e=>{y.warn("checkPointFullReportRule err:",e)})),setTimeout(b2e,16)},fail(e){var r=this.prefix+this.api;CR(r,{res:e}).then((r=>{var i=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,i&&(!t||!T.isLimitReport(21688))&&P2e.call(this,e,!1,t,void 0,n)})).catch((e=>{y.warn("checkPointFullReportRule err:",e)})),e.errno&&T.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[this.prefix+this.api,e.errno].join(",")}),setTimeout(b2e,16)},complete(){var e=this.prefix+this.api,t=KR(e);this.completeTime=Date.now(),t&&(--S2e||setTimeout((()=>{_2e=[]}),0)),setTimeout(b2e,16)},afterCallback(e,r,i){var a=Date.now()-this.invokeTime;this.syncCost=a;var o=this.prefix+this.api,{callbackError:s,syncError:l}=i;CR(o,{req:null==e?void 0:e[0],res:r}).then((e=>{this.hasCheckReq=e;var i=e||this.hasCheckReq||this.report;t=t||e||this.hasCheckReq,i&&(!t||!T.isLimitReport(21688))&&P2e.call(this,r,!(l||s),t,!0,n)})).catch((e=>{y.warn("checkPointFullReportRule err:",e)}))},beforeExecute(){var r,n=this.prefix+this.api,i=KR(n);i&&(S2e++,w2e||(w2e=!0,Gp(C2e),df(k2e)));var a=null!==(r=null==i?void 0:i.ratio)&&void 0!==r?r:e;t=1===(null==i?void 0:i.ratio)||t,this.report=this.random<a,this.shouldBelieveAsync=!0,Promise.resolve().then((()=>{this.shouldBelieveAsync=!1}))},reportAsync:A2e},getState:()=>({api:void 0,prefix:void 0,uuid:void 0,params:void 0,invokeTime:void 0,report:void 0,shouldBelieveAsync:void 0,hasCheckReq:void 0,subContext:r,deep:2})})}function T2e(e=0){return x2e(1,!0,e)}var E2e=null,M2e=null;function R2e(){return define("apiCache",{hookHandlers:{breakDirectly:()=>E2e.cache?E2e.ret:NoBreakExecuteNumber,afterCallback(e,t,r){var{syncError:n,callbackError:i}=r,a=e[0];n||i||(E2e.cache?(tryRun(null==a?void 0:a.__origin_success__,E2e.rawResult||t),tryRun(null==a?void 0:a.__origin_complete__,E2e.rawResult||t)):(E2e.cache=!0,E2e.ret=t,setTimeout((()=>{E2e.cache=!1,E2e.ret=null,E2e.rawResult=null}))))}},getState:()=>({cacheInfo:E2e})})}function O2e(){return define("apiCache",{hookHandlers:{breakDirectly(...e){var t,r,n,i,a=e[0];return M2e.isReleaseQueue?M2e.doubleCacheList?void M2e.doubleCacheList.push([(null===(t=this.otherDecoratorStates.promised)||void 0===t?void 0:t.resolve)||(null==a?void 0:a.__origin_success__),(null===(r=this.otherDecoratorStates.promised)||void 0===r?void 0:r.reject)||(null==a?void 0:a.__origin_fail__),null==a?void 0:a.__origin_complete__]):(M2e.doubleCacheList=[],NoBreakExecuteNumber):M2e.cacheList?void M2e.cacheList.push([(null===(n=this.otherDecoratorStates.promised)||void 0===n?void 0:n.resolve)||(null==a?void 0:a.__origin_success__),(null===(i=this.otherDecoratorStates.promised)||void 0===i?void 0:i.reject)||(null==a?void 0:a.__origin_fail__),null==a?void 0:a.__origin_complete__]):(M2e.cacheList=[],NoBreakExecuteNumber)},success(e){M2e.isReleaseQueue=!0,M2e.cacheList&&M2e.cacheList.forEach((t=>{tryRun(t[0],e)}))},fail(e){M2e.isReleaseQueue=!0,M2e.cacheList&&M2e.cacheList.forEach((t=>{tryRun(t[1],e)}))},complete(){M2e.cacheList&&(M2e.cacheList.forEach((e=>{tryRun(e[2])})),M2e.cacheList=null),M2e.isReleaseQueue=!1,M2e.cacheList=M2e.doubleCacheList,M2e.doubleCacheList=null}},getState:()=>({cacheInfo:M2e}),otherDecoratorStates:["promised"]})}var D2e={promise:null};function L2e(){return VO("promised",{hookHandlers:{paramHandler(...e){var t=e[0]||{},{success:r,fail:n,complete:i}=t;if(!(r||n||i)){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}));var a=this.promise.then.bind(this.promise),o=this.promise.catch.bind(this.promise),s=!1,l=!1;o((e=>{s&&!l&&T.thirdErrorReport({error:e})})),this.promise.then=(...e)=>("function"==typeof e[0]&&(s=!0),"function"==typeof e[1]&&(l=!0),a(...e)),this.promise.catch=e=>(l=!0,o(e)),D2e.promise=this.promise}},resultHandler(e){var t,r;if(null!==(t=this.otherDecoratorStates.checkTapPermission)&&void 0!==t&&t.refuseExec)return EO;if(null!==(r=this.otherDecoratorStates.apiCache)&&void 0!==r&&r.cacheInfo.cache){if(this.promise)return It(this.otherDecoratorStates.apiCache.cacheInfo.ret)?this.otherDecoratorStates.apiCache.cacheInfo.ret:(this.resolve(this.otherDecoratorStates.apiCache.cacheInfo.ret),this.promise)}else if(this.promise){var n;return null!==(n=this.otherDecoratorStates)&&void 0!==n&&n.apiCache&&(this.otherDecoratorStates.apiCache.cacheInfo.rawResult=e),this.promise}return EO},success(e){var t,r,n=null===(t=this.otherDecoratorStates)||void 0===t||null===(r=t.apiCache)||void 0===r?void 0:r.cacheInfo.ret;this.resolve&&this.resolve(n||e)},fail(e){this.reject&&this.reject(e)}},getState:()=>({promise:void 0,resolve:void 0,reject:void 0}),otherDecoratorStates:["checkTapPermission","apiCache"]})}function N2e(e){return defineAll("catchErr",{hookHandlers:{afterCallback(t,r,n){var{syncError:i}=n;if(void 0!==i){var a=`wx.${this.api}`;if("[object Error]"===Object.prototype.toString.apply(i)&&"AppServiceSdkKnownError"!==i.type)return"ThirdScriptError"===i.type?(T.thirdErrorReport({error:i,extend:a}),CatchErrorNumber):(T.errorReport({key:e,error:i,extend:a}),CatchErrorNumber)}}},getState:()=>({api:void 0})})}var B2e=[10,30,40,50];function $2e(e,t,r,n){if(Ue())return aM("tap",n),r.apply(e,t),void oM();vr.wrapTapMark((()=>{r.apply(e,t)}),n)}var j2e=(e,t,r)=>(...n)=>$2e(e,n,t,r);function F2e(){return zO("checkTapPermission",{hookHandlers:{syncPrepositive(e){var t=this.api,r=tM(t,"tap"),n=sM();return(10!==r||n||(Jre({name:t,scene:0,strategy:1}),!Ce&&bg(t)))&&(40!==r||4===re.appType||n)?50!==r||n?[!1]:e&&(e.fail||e.complete)?(setTimeout((()=>{zc(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,!1,!1,!0]):[!0,"can only be invoked by user TAP gesture."]:e&&(e.fail||e.complete)?(setTimeout((()=>{zc(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,null,null,!0]):[!0,"can only be invoked by user TAP gesture."]},paramHandler(...e){var t=this.api,r=tM(t,"tap"),n=sM(),i=lM();this.status=r;var a=e[0];if(20===r&&n)"function"==typeof a?a=j2e(this,a,i):"object"==typeof a&&null!==a&&["success","fail","complete"].forEach((e=>{"function"==typeof a[e]&&(a[e]=j2e(this,a[e],i))}));else if(30===r)if("function"==typeof a)a=j2e(this,a,t);else if("object"==typeof a&&null!==a&&("function"==typeof a.success&&(a.success=j2e(this,a.success,t)),"function"==typeof a.complete)){var o=a.complete;a.complete=(...e)=>{"object"==typeof e[0]&&"string"==typeof e[0].errMsg&&/^\w+:fail/.test(e[0].errMsg)?o.apply(this,e):$2e(this,e,o,t)}}},afterCallback(){Ue()&&B2e.includes(this.status)&&oM()}},getState:()=>({api:void 0,status:void 0,refuseExec:void 0,refuseExecReason:void 0})})}function W2e(){return defineAll("protect",{hookHandlers:{beforeExecute(){checkWxInterfaceSupported(this.api)}},getState:()=>({api:void 0})})}var U2e=function(){if(!this.emitFail){if(this.isTimeout)throw FO;clearTimeout(this.timer)}};function V2e(){return VO("timeout",{hookHandlers:{paramHandler(...e){var t=e[0],r=null==t?void 0:t.timeout;"number"==typeof r&&(this.isTimeout=!1,this.timer=setTimeout((()=>{var e={errMsg:"request timeout"};this.isTimeout=!0,this.emitFail=!0,xO(this.afterCopyArgs?this.afterCopyArgs.fail:t.fail,e),xO(this.afterCopyArgs?this.afterCopyArgs.complete:t.complete,e),this.emitFail=!1}),r))},success(){U2e.call(this)},fail(){U2e.call(this)},complete(){U2e.call(this)}},getState:()=>({isTimeout:void 0,timer:void 0,afterCopyArgs:void 0,emitFail:!1})})}function q2e(){return define("noCondom",{})}function z2e(e){return zO("intercepted",{hookHandlers:{beforeExecute(){var t=this.api,r=this.originArgs,[n,i]=e({api:t,args:r});if(n)return[AO,i]}},getState:()=>({})})}function G2e(){return VO("privacy",{hookHandlers:{paramHandler(...e){this.params=e},asyncPrepositive(){return p2([this.api],!0)?Promise.resolve([!1]):V3(this.api).then((({success:e,errMsg:t,errno:r})=>e?[!1]:[!0,t,r])).catch((e=>[!1]))}},getState:()=>({modifyArgs:!0})})}var H2e=e=>{W1(e)},K2e;re.onReady((()=>{K2e=xz()}));var J2e=new WeakMap,X2e=0;function Y2e(){return zO("callbackLogReport",{hookHandlers:{beforeExecute(){this.key=this.api,K2e&&K2e.log(`wx.${this.key} api invoke${this.seqMsg}`),this.categoryValue=tM(this.key,"log"),this.categoryValue&&!this.otherDecoratorStates.checkWxInterfaceSupportAndPermission.shouldNotTraceAPI&&(IU.traceBeginAPI(`wx.${this.key}`),this.hasTraceAPI=!0)},paramHandler(e){this.seqMsg="request"===this.key?` with seq ${X2e}`:"";var t=e[0];if(3===this.categoryValue&&"function"==typeof t){var r=e[0];3===this.categoryValue&&"function"==typeof r&&(0===this.key.indexOf("off")&&J2e.has(r)?e[0]=J2e.get(r):e[0]=(...e)=>{IU.traceBeginAPI(`wx.${this.key} callback`);var t=r.apply(null,e);return IU.traceEndAPI(),t},0===this.key.indexOf("on")&&(J2e.has(r)?e[0]=J2e.get(r):J2e.set(r,e[0])))}},success(){1===this.categoryValue&&IU.traceBeginAPI(`wx.${this.key} success callback`)},fail(){1===this.categoryValue&&IU.traceBeginAPI(`wx.${this.key} fail callback`)},complete(){1===this.categoryValue&&IU.traceBeginAPI(`wx.${this.key} complete callback`)},afterSuccess(e){1===this.categoryValue&&(K2e&&K2e.logApiInvoke&&K2e.log(`wx.${this.key} success callback`+(e&&e.errMsg?" with msg "+e.errMsg:" ")+this.seqMsg),IU.traceEndAPI())},afterFail(e){1===this.categoryValue&&(K2e&&K2e.logApiInvoke&&K2e.log(`wx.${this.key} fail callback`+(e&&e.errMsg?" with msg "+e.errMsg:" ")+this.seqMsg),IU.traceEndAPI())},afterComplete(){1===this.categoryValue&&IU.traceEndAPI()},afterCallback(){2===this.categoryValue&&K2e&&K2e.logApiInvoke&&K2e.log(`wx.${this.key} return`),this.hasTraceAPI&&(IU.traceEndAPI(),this.hasTraceAPI=!1)}},getState:()=>({api:void 0,categoryValue:void 0,seqMsg:"",key:void 0,modifyArgs:!0}),otherDecoratorStates:["checkWxInterfaceSupportAndPermission"]})}function Q2e(e){if(vt(e))return VO("lazy",{hookHandlers:{getter:e}})}var Z2e={quicklyAddBrandContact:"quicklyAddBrandContact",privateScanItem:"privateScanItem",privateSearchContacts:"privateSearchContacts",setNavigateBackInterception:"private_setNavigateBackInterception",stopNavigateBackInterception:"private_stopNavigateBackInterception",getWebviewDebugInfo:"private_getWebviewDebugInfo"};function e6e(e){return VO("privateApi",{hookHandlers:{beforeExecute(){if("declare"===e){var t,r,n,i,a=+(null===(t=re.appContactInfo)||void 0===t||null===(r=t.operationInfo)||void 0===r||null===(n=r.jsonInfo)||void 0===n||null===(i=n.privacy)||void 0===i?void 0:i.locationPrivateInfosCheckStatus),o=re.requiredPrivateInfos,s=o&&o.indexOf(this.api)>=0,l=!("release"!==re.envVersion||1!==a||o&&s),c="release"!==re.envVersion&&o&&!s;return!l&&!c||[AO,"the api need to be declared in the requiredPrivateInfos field in app.json/ext.json",()=>console.error(`wx.${this.api} need to be declared in the requiredPrivateInfos field in app.json/ext.json`)]}if("permission"===e){var u=this.api,d=Z2e[u].permissionByte;if(Cf(d))return[AO,"no permission"]}}},getState:()=>({api:void 0})})}function t6e(){return VO("weakNetworkOptimize",{hookHandlers:{beforeExecute(...e){var t=e[0]||{},{success:r,fail:n,complete:i}=t;this.usedPromise=!r&&!n&&!i,this.args={},Object.keys(t).forEach((e=>{"function"!=typeof t[e]&&(this.args[e]=t[e])}))},breakDirectly(){if(!cJe()||!dJe()[this.api])return MO;if(N3()){var e=LKe(this.api,this.args);if(!e)return MO;if("object"==typeof e&&(e.fromCache=!0),this.usedPromise)return this.otherDecoratorStates.apiCache||(this.otherDecoratorStates.apiCache={cacheInfo:{}}),void(this.otherDecoratorStates.apiCache.cacheInfo.ret=e);if(!this.usedPromise)return e}return MO},success(e){if(!N3()){var t=Date.now()+jKe.maxAge;DKe(this.api,this.args,e,t)}}},getState:()=>({usedPromise:void 0,args:void 0,api:void 0}),otherDecoratorStates:["apiCache"]})}var r6e=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n6e=[];function i6e(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,n=n6e.length-1,i=0;i>=0&&n>=0;){var a=r.length,o=0;for(var s in a6e)if(a6e[s]){var l=r.indexOf(a6e[s],i);l<0||a<=l||(a=l,o=a6e[s].length)}if(a>=r.length)break;var c=`at <${n6e[n--].description}>`;r=r.slice(0,a)+c+r.slice(a+o),i=a+c.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var a6e={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o6e(e){var t=((new Error).stack||"").match(/.+/gm),r="",n=0;t&&t.forEach((e=>{if(r6e.test(e)&&2===(n+=1)){var t=e.match(/^(\s*)at /),i=t?t[1].length:0;return r=e.slice(i),!1}return!0})),a6e[e]=r}function s6e(){for(var e="",t=n6e.length-1;t>=0;t--)n6e[t].pluginAppId&&(e=n6e[t].pluginAppId);return e}var l6e=e=>{null===a6e.wrapSystemFunction&&(a6e.wrapSystemFunction="",d6e("","",o6e)("wrapSystemFunction")),n6e.push({description:e})},c6e=()=>{n6e.pop()};function u6e(e,t,r,n,i,a=!1){var o;null===a6e.wrapSystemFunction&&(a6e.wrapSystemFunction="",d6e("","",o6e)("wrapSystemFunction")),n6e.push({description:t});try{o=r.apply(n,i)}catch(t){if(i6e(t)){if("AppServiceSdkKnownError"===t.type)throw n6e.pop(),t;if("ThirdScriptError"===t.type){var s=s6e();T.thirdErrorReport({error:t,source:s,triggerErrorCallback:!a})}else T.errorReport({key:e,error:t,triggerErrorCallback:!a})}if(a)throw n6e.pop(),t}return n6e.pop(),o}function d6e(e,t,r,n=!1){return function(...i){return u6e(e,t,r,this,i,n)}}function p6e(e,t,r,n,i,a=!1){var o;null===a6e.wrapMiniProgramOrPluginFunction&&(a6e.wrapMiniProgramOrPluginFunction="",f6e("","",o6e)("wrapMiniProgramOrPluginFunction")),n6e.push({description:t,pluginAppId:e});try{o=r.apply(n,i)}catch(t){if(i6e(t)&&T.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!a}),a)throw n6e.pop(),t}return n6e.pop(),o}function h6e(e,t,r,n,i=!1){return p6e(s6e(),e,t,r,n,i)}function f6e(e,t,r,n=!1){return function(...i){return p6e(e,t,r,this,i,n)}}function g6e(e,t,r=!1){return function(...n){return p6e(s6e(),e,t,this,n,r)}}function v6e(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",i=e||function(){};return function(...e){return p6e(s6e(),n,i,i,e,!1)}}var m6e=e=>{if(i6e(e)){if("AppServiceSdkKnownError"!==e.type){if("ThirdScriptError"===e.type){var t=s6e();return T.thirdErrorReport({error:e,source:t,triggerErrorCallback:!1}),RO}return T.errorReport({key:"appServiceSDKScriptError",error:e,triggerErrorCallback:!1}),RO}n6e.pop()}};function y6e(){return zO("apiCatchError",{hookHandlers:{beforeExecute(){var e=` at wx.${this.api}`;l6e(e)},errorHandler:e=>m6e(e),uncaughtErrorHandler:e=>m6e(e),afterCallback(){c6e()}},getState:()=>({api:void 0})})}function b6e(){return zO("checkWxInterfaceSupportAndPermission",{hookHandlers:{beforeExecute(){var e=this.api,t=this.originArgs;if(!fR(e,"",t)){if("Sync"===e.slice(-4))throw new Vd(e+":fail rejected due to no permission currently");return t&&(t.fail||t.complete)&&setTimeout((()=>{zc(e,t,"rejected due to no permission currently")}),0),this.shouldNotTraceAPI=!0,this.refuseExecReason="rejected due to no permission currently",void(this.refuseExec=!0)}},breakDirectly(){if(!this.refuseExec)return MO}},getState:()=>({refuseExecReason:void 0,refuseExec:void 0,shouldNotTraceAPI:void 0})})}function _6e(){return VO("routeRequest",{hookHandlers:{paramHandler(...e){this.params=e},asyncPrepositive(){if(_M.isBlocking()){var e=this.api,t=this.originArgs;return new Promise((r=>{_M.routeRequest({blockUntilFinished:!!t.blockUntilFinished,name:e,args:t,requestFunc:()=>{r([!1])}})}))}return[!1]}},getState:()=>({modifyArgs:!0})})}var w6e=vE,S6e=(e={})=>{if(M3(e),!cJe())return w6e(e);var{url:t,data:r,method:n,success:i,fail:a,complete:o}=e,s=e=>{FKe.checkNeedStore(t,r,n,e),i&&"function"==typeof i&&i(e)};if(jKe.state===a3.UNKNOWN)e.success=e=>{i&&"function"==typeof i&&s(e),o&&"function"==typeof o&&o(e)},e.fail=s=>hJe(w6e,t,r,n,e,i,a,o,s),e.complete=null;else if(jKe.state===a3.ON){var l=hJe(w6e,t,r,n,e,i,a,o);if(l)return l}else jKe.state===a3.OFF&&(e.success=s);return w6e(e)},C6e,k6e={},I6e=!1,P6e=e=>{k6e=e;try{k6e="string"==typeof e?JSON.parse(e).jsapi_list:e.jsapi_list,I6e=!0}catch(e){k6e={}}},A6e=null===(C6e=re.host)||void 0===C6e?void 0:C6e.env;I6e||(I6e="SDK"===A6e||"WMPF"===A6e);var x6e=e=>k6e&&k6e[e],T6e;ur("onThirdPlatformApiPermissionBytesUpdate",(e=>{P6e(ke?e:null==e?void 0:e.thirdPlatformApiPermissionBytes),void 0!==T6e&&T6e()}));var E6e=e=>{T6e=e},M6e=()=>I6e;re.onReady((()=>{P6e(re.thirdPlatformApiPermissionBytes)}));var R6e=(e,t={},r={},n={})=>{var i,a=r.fail;"function"==typeof a&&(a=a.bind(r));var o={...r};o.isThird=!0;try{i=ld(t,e,o,n)}catch(e){return void("function"==typeof a&&a(`SDK error: ${e}`))}x6e(e)?gn(e,t,(e=>{try{i(e)}catch(e){console.error("invokeThird callback error:",e)}})):(console.warn(`没有权限调用JSAPI: ${e}`),"function"==typeof a&&a(`没有权限调用JSAPI: ${e}`))},O6e=(e,t)=>{x6e(e)?dr(e,t):console.warn(`没有权限监听Event: ${e}`)},D6e=()=>({showTabBar(e){var t=e.renderer;if(t)return vr.showTabBarByRenderer(t);var r=e.pageId;return r?vr.showTabBar(r):void 0}}),L6e;!function(e){e[e.Inspector=0]="Inspector",e[e.RendererInspectee=1]="RendererInspectee",e[e.ServiceInspectee=2]="ServiceInspectee",e[e.AllInspectee=3]="AllInspectee"}(L6e||(L6e={}));var N6e=(e,t)=>e===t||e&t;class B6e{constructor(e=L6e.AllInspectee){this.callbacks=new Map,this.type=e}get inited(){return this._inited}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(e){this.send(e),e.method}reply(e,t){this.send({id:e,result:t})}on(e,t){this.callbacks.has(e)||this.callbacks.set(e,[]),this.callbacks.get(e).push(t)}off(e,t){if(this.callbacks.has(e)){var r=this.callbacks.get(e);r=[...r.filter((e=>e!==t))]}}handleCDPMessage(e,t,r){var n,i,a;this.type,N6e(this.type,t)&&("id"in e?null===(n=this.callbacks.get("command"))||void 0===n||n.forEach((t=>t(e,r))):null===(i=this.callbacks.get("event"))||void 0===i||i.forEach((t=>t(e,r))),null===(a=this.callbacks.get("all"))||void 0===a||a.forEach((t=>t(e,r))))}}function $6e(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))}class j6e{constructor(e){this._enabled=!1,this.bridge=e}get enabled(){return this._enabled}disable(){return $6e(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return $6e(this,void 0,void 0,(function*(){this._enabled=!0}))}}class F6e extends j6e{constructor(){super(...arguments),this._enabled=!0}}function W6e(e,t=1e3,r){var n;return function(...i){if(n&&clearTimeout(n),r){if(!n)return e.apply(this,i);n=setTimeout((()=>n=null),t)}else n=setTimeout((()=>e.apply(this,i)),t)}}function U6e(e){return function(...t){return new Promise((function(r,n){t.push((e=>{r(e)})),e.apply(null,t)}))}}var V6e=(e,t,...r)=>$6e(void 0,void 0,void 0,(function*(){return new Promise(((n,i)=>{var a=e[t];"function"==typeof a?a.call(e,...r,((...e)=>n(e))):i(`${t.toString()} is not a function`)}))})),q6e=new Error("Method not implemented."),z6e=(...e)=>{var t=e.join("\n"),r=document.createElement("style");return r.textContent=t,document.body.append(r),r},G6e=e=>{if(!e.classList)return null;var t=e.classList.getClassNames().split(" ").filter((e=>e.length&&!e.startsWith("__wx")));return t.length?t:null},H6e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==p.g?p.g:"undefined"!=typeof self?self:{};function K6e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function J6e(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var X6e={},Y6e=J6e(U),Q6e=Y6e;class Z6e extends Error{constructor(e,t,r,n,i,a){super(e),this.name="CssSyntaxError",this.reason=e,i&&(this.file=i),n&&(this.source=n),a&&(this.plugin=a),void 0!==t&&void 0!==r&&("number"==typeof t?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Z6e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";var t=this.source;Q6e&&e&&(t=Q6e(t));var r,n=t.split(/\r?\n/),i=Math.max(this.line-3,0),a=Math.min(this.line+2,n.length),o=String(a).length;return r=e=>e,n.slice(i,a).map(((e,t)=>{var n=i+1+t,a=" "+(" "+n).slice(-o)+" | ";if(n===this.line){var s=a.replace(/\d/g," ")+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+a+e+"\n "+s+r("^")}return" "+a+e})).join("\n")}toString(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}var e5e=Z6e;Z6e.default=Z6e;var t5e={};t5e.isClean=Symbol("isClean"),t5e.my=Symbol("my");var r5e={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class n5e{constructor(e){this.builder=e}atrule(e,t){var r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{var i=(e.raws.between||"")+(t?";":"");this.builder(r+n+i,e)}}beforeAfter(e,t){var r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var n=e.parent,i=0;n&&"root"!==n.type;)i+=1,n=n.parent;if(r.includes("\n")){var a=this.raw(e,null,"indent");if(a.length)for(var o=0;o<i;o++)r+=a}return r}block(e,t){var r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var r=this.raw(e,"semicolon"),n=0;n<e.nodes.length;n++){var i=e.nodes[n],a=this.raw(i,"before");a&&this.builder(a),this.stringify(i,t!==n||r)}}comment(e){var t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){var r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,r){var n;if(r||(r=t),t&&void 0!==(n=e.raws[t]))return n;var i=e.parent;if("before"===r){if(!i||"root"===i.type&&i.first===e)return"";if(i&&"document"===i.type)return""}if(!i)return r5e[r];var a=e.root();if(a.rawCache||(a.rawCache={}),void 0!==a.rawCache[r])return a.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);var o,s="raw"+((o=r)[0].toUpperCase()+o.slice(1));return this[s]?n=this[s](a,e):a.walk((e=>{if(void 0!==(n=e.raws[t]))return!1})),void 0===n&&(n=r5e[r]),a.rawCache[r]=n,n}rawBeforeClose(e){var t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){var r;return e.walkComments((e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){var r;return e.walkDecls((e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){var t;return e.walk((e=>{if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1})),t}rawBeforeRule(e){var t;return e.walk((r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return(t=r.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){var t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){var t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1})),t}rawIndent(e){return e.raws.indent?e.raws.indent:(e.walk((r=>{var n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){var i=r.raws.before.split("\n");return t=(t=i[i.length-1]).replace(/\S/g,""),!1}})),t);var t}rawSemicolon(e){var t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1})),t}rawValue(e,t){var r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}var i5e=n5e;n5e.default=n5e;var a5e=i5e;function o5e(e,t){new a5e(t).stringify(e)}var s5e=o5e;o5e.default=o5e;var{isClean:l5e,my:c5e}=t5e,u5e=e5e,d5e=i5e,p5e=s5e;function h5e(e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"proxyCache"!==n){var i=e[n],a=typeof i;"parent"===n&&"object"===a?t&&(r[n]=t):"source"===n?r[n]=i:Array.isArray(i)?r[n]=i.map((e=>h5e(e,r))):("object"===a&&null!==i&&(i=h5e(i)),r[n]=i)}return r}class f5e{constructor(e={}){for(var t in this.raws={},this[l5e]=!1,this[c5e]=!0,e)if("nodes"===t)for(var r of(this.nodes=[],e[t]))"function"==typeof r.clone?this.append(r.clone()):this.append(r);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(var t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){var t=h5e(this);for(var r in e)t[r]=e[r];return t}cloneAfter(e={}){var t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){var t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){var{end:r,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:r.column,line:r.line},t)}return new u5e(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markDirty(){if(this[l5e]){this[l5e]=!1;for(var e=this;e=e.parent;)e[l5e]=!1}}next(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}positionBy(e,t){var r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){var n=(t=this.toString()).indexOf(e.word);-1!==n&&(r=this.positionInside(n,t))}return r}positionInside(e,t){for(var r=t||this.toString(),n=this.source.start.column,i=this.source.start.line,a=0;a<e;a++)"\n"===r[a]?(n=1,i+=1):n+=1;return{column:n,line:i}}prev(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}get proxyOf(){return this}rangeBy(e){var t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){var n=this.toString(),i=n.indexOf(e.word);-1!==i&&(t=this.positionInside(i,n),r=this.positionInside(i+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return(new d5e).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){var t=this,r=!1;for(var n of e)n===this?r=!0:r?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);r||this.remove()}return this}root(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){var r={},n=null==t;t=t||new Map;var i=0;for(var a in this)if(Object.prototype.hasOwnProperty.call(this,a)&&"parent"!==a&&"proxyCache"!==a){var o=this[a];if(Array.isArray(o))r[a]=o.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof o&&o.toJSON)r[a]=o.toJSON(null,t);else if("source"===a){var s=t.get(o.input);null==s&&(s=i,t.set(o.input,i),i++),r[a]={end:o.end,inputId:s,start:o.start}}else r[a]=o}return n&&(r.inputs=[...t.keys()].map((e=>e.toJSON()))),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=p5e){e.stringify&&(e=e.stringify);var t="";return e(this,(e=>{t+=e})),t}warn(e,t,r){var n={node:this};for(var i in r)n[i]=r[i];return e.warn(t,n)}}var g5e=f5e;f5e.default=f5e;var v5e=g5e;class m5e extends v5e{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}var y5e=m5e;m5e.default=m5e;var b5e={nanoid:(e=21)=>{for(var t="",r=e;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(r=t)=>{for(var n="",i=r;i--;)n+=e[Math.random()*e.length|0];return n}},{SourceMapConsumer:_5e,SourceMapGenerator:w5e}=Y6e;class S5e{constructor(e,t){if(!1!==t.map){this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),n&&(this.text=n)}}consumer(){return this.consumerCache||(this.consumerCache=new _5e(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var t,r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){var t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(t){var r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}}loadFile(e){}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof _5e)return w5e.fromSourceMap(t).toString();if(t instanceof w5e)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}var r=t(e);if(r){var n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var i=this.annotation;return this.loadFile(i)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}var C5e=S5e;S5e.default=S5e;var{nanoid:k5e}=b5e,I5e=Y6e,P5e=e5e,A5e=Symbol("fromOffsetCache");class x5e{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);this.css=e.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(this.file=t.from),this.file||(this.id="<input css "+k5e(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,n={}){var i,a,o;if(t&&"object"==typeof t){var s=t,l=r;if("number"==typeof s.offset){var c=this.fromOffset(s.offset);t=c.line,r=c.col}else t=s.line,r=s.column;if("number"==typeof l.offset){var u=this.fromOffset(l.offset);a=u.line,o=u.col}else a=l.line,o=l.column}else if(!r){var d=this.fromOffset(t);t=d.line,r=d.col}var p=this.origin(t,r,a,o);return(i=p?new P5e(e,void 0===p.endLine?p.line:{column:p.column,line:p.line},void 0===p.endLine?p.column:{column:p.endColumn,line:p.endLine},p.source,p.file,n.plugin):new P5e(e,void 0===a?t:{column:r,line:t},void 0===a?r:{column:o,line:a},this.css,this.file,n.plugin)).input={column:r,endColumn:o,endLine:a,line:t,source:this.css},this.file&&(i.input.file=this.file),i}get from(){return this.file||this.id}fromOffset(e){var t;if(this[A5e])t=this[A5e];else{var r=this.css.split("\n");t=new Array(r.length);for(var n=0,i=0,a=r.length;i<a;i++)t[i]=n,n+=r[i].length+1;this[A5e]=t}var o=0;if(e>=t[t.length-1])o=t.length-1;else for(var s,l=t.length-2;o<l;)if(e<t[s=o+(l-o>>1)])l=s-1;else{if(!(e>=t[s+1])){o=s;break}o=s+1}return{col:e-t[o]+1,line:o+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:this.map.consumer().sourceRoot||this.map.root||"."}origin(e,t,r,n){if(!this.map)return!1;var i,a,o=this.map.consumer(),s=o.originalPositionFor({column:t,line:e});if(!s.source)return!1;"number"==typeof r&&(i=o.originalPositionFor({column:n,line:r})),a=new URL(s.source,this.map.consumer().sourceRoot);var l={column:s.column,endColumn:i&&i.column,endLine:i&&i.line,line:s.line,url:a.toString()};a.protocol;var c=o.sourceContentFor(s.source);return c&&(l.source=c),l}toJSON(){var e={};for(var t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}var T5e=x5e;x5e.default=x5e,I5e&&I5e.registerInput&&I5e.registerInput(x5e);var{SourceMapConsumer:E5e,SourceMapGenerator:M5e}=Y6e,R5e=T5e,O5e=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}addAnnotation(){var e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(var e of this.previous()){var t=void 0,r=this.toUrl(this.path(e.file)),n=e.root;!1===this.mapOpts.sourcesContent?(t=new E5e(e.text)).sourcesContent&&(t.sourcesContent=t.sourcesContent.map((()=>null))):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(n)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t);else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){this.clearAnnotation();var e="";return this.stringify(this.root,(t=>{e+=t})),[e]}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=M5e.fromSourceMap(e)}else this.map=new M5e({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new M5e({file:this.outputFile()});var e,t,r=1,n=1,i="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((o,s,l)=>{if(this.css+=o,s&&"end"!==l&&(a.generated.line=r,a.generated.column=n-1,s.source&&s.source.start?(a.source=this.sourcePath(s),a.original.line=s.source.start.line,a.original.column=s.source.start.column-1,this.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,this.map.addMapping(a))),(e=o.match(/\n/g))?(r+=e.length,t=o.lastIndexOf("\n"),n=o.length-t):n+=o.length,s&&"start"!==l){var c=s.parent||{raws:{}};("decl"===s.type||"atrule"===s.type&&!s.nodes)&&s===c.last&&!c.raws.semicolon||(s.source&&s.source.end?(a.source=this.sourcePath(s),a.original.line=s.source.end.line,a.original.column=s.source.end.column-1,a.generated.line=r,a.generated.column=n-2,this.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,a.generated.line=r,a.generated.column=n-1,this.map.addMapping(a)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){return 0===e.indexOf("<")||/^\w+:\/\//.test(e)||this.mapOpts.absolute,e}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){var t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{var e=new R5e(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){var e={};if(this.root)this.root.walk((t=>{if(t.source){var r=t.source.input.from;if(r&&!e[r]){e[r]=!0;var n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}}));else if(this.css){var t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){return e}toUrl(e){return encodeURI(e).replace(/[#?]/g,encodeURIComponent)}},D5e=g5e;class L5e extends D5e{constructor(e){super(e),this.type="comment"}}var N5e=L5e;L5e.default=L5e;var B5e,$5e,j5e,F5e,{isClean:W5e,my:U5e}=t5e,V5e=y5e,q5e=N5e,z5e=g5e;function G5e(e){return e.map((e=>(e.nodes&&(e.nodes=G5e(e.nodes)),delete e.source,e)))}function H5e(e){if(e[W5e]=!1,e.proxyOf.nodes)for(var t of e.proxyOf.nodes)H5e(t)}class K5e extends z5e{append(...e){for(var t of e){var r=this.normalize(t,this.last);for(var n of r)this.proxyOf.nodes.push(n)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(var t of this.nodes)t.cleanRaws(e)}each(e){if(this.proxyOf.nodes){for(var t,r,n=this.getIterator();this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],!1!==(r=e(this.proxyOf.nodes[t],t)));)this.indexes[n]+=1;return delete this.indexes[n],r}}every(e){return this.nodes.every(e)}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...r)=>e[t](...r.map((e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e))):"every"===t||"some"===t?r=>e[t](((e,...t)=>r(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){var r,n=this.index(e),i=this.normalize(t,this.proxyOf.nodes[n]).reverse();for(var a of(n=this.index(e),i))this.proxyOf.nodes.splice(n+1,0,a);for(var o in this.indexes)n<(r=this.indexes[o])&&(this.indexes[o]=r+i.length);return this.markDirty(),this}insertBefore(e,t){var r,n=this.index(e),i=0===n&&"prepend",a=this.normalize(t,this.proxyOf.nodes[n],i).reverse();for(var o of(n=this.index(e),a))this.proxyOf.nodes.splice(n,0,o);for(var s in this.indexes)n<=(r=this.indexes[s])&&(this.indexes[s]=r+a.length);return this.markDirty(),this}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if("string"==typeof e)e=G5e(B5e(e).nodes);else if(Array.isArray(e))for(var r of e=e.slice(0))r.parent&&r.parent.removeChild(r,"ignore");else if("root"===e.type&&"document"!==this.type)for(var n of e=e.nodes.slice(0))n.parent&&n.parent.removeChild(n,"ignore");else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new V5e(e)]}else if(e.selector)e=[new $5e(e)];else if(e.name)e=[new j5e(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new q5e(e)]}return e.map((e=>(e[U5e]||K5e.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[W5e]&&H5e(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e)))}prepend(...e){for(var t of e=e.reverse()){var r=this.normalize(t,this.first,"prepend").reverse();for(var n of r)this.proxyOf.nodes.unshift(n);for(var i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(var e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){var t;for(var r in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls((n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,r)=>{var n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk(((r,n)=>{if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("atrule"===e.type)return t(e,r)})))}walkComments(e){return this.walk(((t,r)=>{if("comment"===t.type)return e(t,r)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk(((r,n)=>{if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("decl"===e.type)return t(e,r)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk(((r,n)=>{if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("rule"===e.type)return t(e,r)})))}}K5e.registerParse=e=>{B5e=e},K5e.registerRule=e=>{$5e=e},K5e.registerAtRule=e=>{j5e=e},K5e.registerRoot=e=>{F5e=e};var J5e=K5e;K5e.default=K5e,K5e.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,j5e.prototype):"rule"===e.type?Object.setPrototypeOf(e,$5e.prototype):"decl"===e.type?Object.setPrototypeOf(e,V5e.prototype):"comment"===e.type?Object.setPrototypeOf(e,q5e.prototype):"root"===e.type&&Object.setPrototypeOf(e,F5e.prototype),e[U5e]=!0,e.nodes&&e.nodes.forEach((e=>{K5e.rebuild(e)}))};var X5e,Y5e,Q5e=J5e;class Z5e extends Q5e{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new X5e(new Y5e,this,e).stringify()}}Z5e.registerLazyResult=e=>{X5e=e},Z5e.registerProcessor=e=>{Y5e=e};var e4e=Z5e;Z5e.default=Z5e;class t4e{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){var r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(var n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}var r4e=t4e;t4e.default=t4e;var n4e=r4e;class i4e{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}get content(){return this.css}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var r=new n4e(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter((e=>"warning"===e.type))}}var a4e=i4e;i4e.default=i4e;var o4e="'".charCodeAt(0),s4e='"'.charCodeAt(0),l4e="\\".charCodeAt(0),c4e="/".charCodeAt(0),u4e="\n".charCodeAt(0),d4e=" ".charCodeAt(0),p4e="\f".charCodeAt(0),h4e="\t".charCodeAt(0),f4e="\r".charCodeAt(0),g4e="[".charCodeAt(0),v4e="]".charCodeAt(0),m4e="(".charCodeAt(0),y4e=")".charCodeAt(0),b4e="{".charCodeAt(0),_4e="}".charCodeAt(0),w4e=";".charCodeAt(0),S4e="*".charCodeAt(0),C4e=":".charCodeAt(0),k4e="@".charCodeAt(0),I4e=/[\t\n\f\r "#'()/;[\\\]{}]/g,P4e=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,A4e=/.[\n"'(/\\]/,x4e=/[\da-f]/i,T4e=function(e,t={}){var r,n,i,a,o,s,l,c,u,d,p=e.css.valueOf(),h=t.ignoreErrors,f=p.length,g=0,v=[],m=[];function y(t){throw e.error("Unclosed "+t,g)}return{back:function(e){m.push(e)},endOfFile:function(){return 0===m.length&&g>=f},nextToken:function(e){if(m.length)return m.pop();if(!(g>=f)){var t=!!e&&e.ignoreUnclosed;switch(r=p.charCodeAt(g)){case u4e:case d4e:case h4e:case f4e:case p4e:n=g;do{n+=1,r=p.charCodeAt(n)}while(r===d4e||r===u4e||r===h4e||r===f4e||r===p4e);d=["space",p.slice(g,n)],g=n-1;break;case g4e:case v4e:case b4e:case _4e:case C4e:case w4e:case y4e:var b=String.fromCharCode(r);d=[b,b,g];break;case m4e:if(c=v.length?v.pop()[1]:"",u=p.charCodeAt(g+1),"url"===c&&u!==o4e&&u!==s4e&&u!==d4e&&u!==u4e&&u!==h4e&&u!==p4e&&u!==f4e){n=g;do{if(s=!1,-1===(n=p.indexOf(")",n+1))){if(h||t){n=g;break}y("bracket")}for(l=n;p.charCodeAt(l-1)===l4e;)l-=1,s=!s}while(s);d=["brackets",p.slice(g,n+1),g,n],g=n}else n=p.indexOf(")",g+1),a=p.slice(g,n+1),-1===n||A4e.test(a)?d=["(","(",g]:(d=["brackets",a,g,n],g=n);break;case o4e:case s4e:i=r===o4e?"'":'"',n=g;do{if(s=!1,-1===(n=p.indexOf(i,n+1))){if(h||t){n=g+1;break}y("string")}for(l=n;p.charCodeAt(l-1)===l4e;)l-=1,s=!s}while(s);d=["string",p.slice(g,n+1),g,n],g=n;break;case k4e:I4e.lastIndex=g+1,I4e.test(p),n=0===I4e.lastIndex?p.length-1:I4e.lastIndex-2,d=["at-word",p.slice(g,n+1),g,n],g=n;break;case l4e:for(n=g,o=!0;p.charCodeAt(n+1)===l4e;)n+=1,o=!o;if(r=p.charCodeAt(n+1),o&&r!==c4e&&r!==d4e&&r!==u4e&&r!==h4e&&r!==f4e&&r!==p4e&&(n+=1,x4e.test(p.charAt(n)))){for(;x4e.test(p.charAt(n+1));)n+=1;p.charCodeAt(n+1)===d4e&&(n+=1)}d=["word",p.slice(g,n+1),g,n],g=n;break;default:r===c4e&&p.charCodeAt(g+1)===S4e?(0===(n=p.indexOf("*/",g+2)+1)&&(h||t?n=p.length:y("comment")),d=["comment",p.slice(g,n+1),g,n],g=n):(P4e.lastIndex=g+1,P4e.test(p),n=0===P4e.lastIndex?p.length-1:P4e.lastIndex-2,d=["word",p.slice(g,n+1),g,n],v.push(d),g=n)}return g++,d}},position:function(){return g}}},E4e=J5e;class M4e extends E4e{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}var R4e=M4e;M4e.default=M4e,E4e.registerAtRule(M4e);var O4e,D4e,L4e=J5e;class N4e extends L4e{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){var n=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(var i of n)i.raws.before=t.raws.before;return n}removeChild(e,t){var r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new O4e(new D4e,this,e).stringify()}}N4e.registerLazyResult=e=>{O4e=e},N4e.registerProcessor=e=>{D4e=e};var B4e=N4e;N4e.default=N4e,L4e.registerRoot(N4e);var $4e={comma:e=>$4e.split(e,[","],!0),space:e=>$4e.split(e,[" ","\n","\t"]),split(e,t,r){var n=[],i="",a=!1,o=0,s=!1,l="",c=!1;for(var u of e)c?c=!1:"\\"===u?c=!0:s?u===l&&(s=!1):'"'===u||"'"===u?(s=!0,l=u):"("===u?o+=1:")"===u?o>0&&(o-=1):0===o&&t.includes(u)&&(a=!0),a?(""!==i&&n.push(i.trim()),i="",a=!1):i+=u;return(r||""!==i)&&n.push(i.trim()),n}},j4e=$4e;$4e.default=$4e;var F4e=J5e,W4e=j4e;class U4e extends F4e{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return W4e.comma(this.selector)}set selectors(e){var t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}}var V4e=U4e;U4e.default=U4e,F4e.registerRule(U4e);var q4e=y5e,z4e=T4e,G4e=N5e,H4e=R4e,K4e=B4e,J4e=V4e,X4e={empty:!0,space:!0},Y4e=class{constructor(e){this.input=e,this.root=new K4e,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){var t,r,n,i=new H4e;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);for(var a=!1,o=!1,s=[],l=[];!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length){if(";"===t){i.source.end=this.getPosition(e[2]),this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(s.length>0){for(r=s[n=s.length-1];r&&"space"===r[0];)r=s[--n];r&&(i.source.end=this.getPosition(r[3]||r[2]))}this.end(e);break}s.push(e)}else s.push(e);if(this.tokenizer.endOfFile()){a=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(i.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(i,"params",s),a&&(e=s[s.length-1],i.source.end=this.getPosition(e[3]||e[2]),this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),o&&(i.nodes=[],this.current=i)}checkMissedSemicolon(e){var t=this.colon(e);if(!1!==t){for(var r,n=0,i=t-1;i>=0&&("space"===(r=e[i])[0]||2!==(n+=1));i--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}}colon(e){var t,r,n,i=0;for(var[a,o]of e.entries()){if("("===(r=(t=o)[0])&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return a}this.doubleColon(t)}n=t}return!1}comment(e){var t=new G4e;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);var r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{var n=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}}createTokenizer(){this.tokenizer=z4e(this.input)}decl(e,t){var r=new q4e;this.init(r,e[0][2]);var n,i=e[e.length-1];for(";"===i[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||function(e){for(var t=e.length-1;t>=0;t--){var r=e[t],n=r[3]||r[2];if(n)return n}}(e));"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){var a=e[0][0];if(":"===a||"space"===a||"comment"===a)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(":"===(n=e.shift())[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));for(var o,s=[];e.length&&("space"===(o=e[0][0])||"comment"===o);)s.push(e.shift());this.precheckMissedSemicolon(e);for(var l=e.length-1;l>=0;l--){if("!important"===(n=e[l])[1].toLowerCase()){r.important=!0;var c=this.stringFrom(e,l);" !important"!==(c=this.spacesFromEnd(e)+c)&&(r.raws.important=c);break}if("important"===n[1].toLowerCase()){for(var u=e.slice(0),d="",p=l;p>0;p--){var h=u[p][0];if(0===d.trim().indexOf("!")&&"space"!==h)break;d=u.pop()[1]+d}0===d.trim().indexOf("!")&&(r.important=!0,r.raws.important=d,e=u)}if("space"!==n[0]&&"comment"!==n[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(r.raws.between+=s.map((e=>e[1])).join(""),s=[]),this.raw(r,"value",s.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){var t=new J4e;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){var t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){for(var t=!1,r=null,n=!1,i=null,a=[],o=e[1].startsWith("--"),s=[],l=e;l;){if(r=l[0],s.push(l),"("===r||"["===r)i||(i=l),a.push("("===r?")":"]");else if(o&&n&&"{"===r)i||(i=l),a.push("}");else if(0===a.length){if(";"===r){if(n)return void this.decl(s,o);break}if("{"===r)return void this.rule(s);if("}"===r){this.tokenizer.back(s.pop()),t=!0;break}":"===r&&(n=!0)}else r===a[a.length-1]&&(a.pop(),0===a.length&&(i=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),a.length>0&&this.unclosedBracket(i),t&&n){if(!o)for(;s.length&&("space"===(l=s[s.length-1][0])||"comment"===l);)this.tokenizer.back(s.pop());this.decl(s,o)}else this.unknownWord(s)}parse(){for(var e;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){for(var i,a,o,s,l=r.length,c="",u=!0,d=0;d<l;d+=1)"space"!==(a=(i=r[d])[0])||d!==l-1||n?"comment"===a?(s=r[d-1]?r[d-1][0]:"empty",o=r[d+1]?r[d+1][0]:"empty",X4e[s]||X4e[o]||","===c.slice(-1)?u=!1:c+=i[1]):c+=i[1]:u=!1;if(!u){var p=r.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:p,value:c}}e[t]=c}rule(e){e.pop();var t=new J4e;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){for(var t,r="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){for(var t,r="";e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){for(var r="",n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}},Q4e=J5e,Z4e=Y4e,e7e=T5e;function t7e(e,t){var r=new e7e(e,t),n=new Z4e(r);try{n.parse()}catch(e){throw e}return n.root}var r7e=t7e;t7e.default=t7e,Q4e.registerParse(t7e);var{isClean:n7e,my:i7e}=t5e,a7e=O5e,o7e=s5e,s7e=J5e,l7e=e4e,c7e=null,u7e=a4e,d7e=r7e,p7e=B4e,h7e={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},f7e={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},g7e={Once:!0,postcssPlugin:!0,prepare:!0},v7e=0;function m7e(e){return"object"==typeof e&&"function"==typeof e.then}function y7e(e){var t=!1,r=h7e[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,v7e,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,v7e,r+"Exit"]:[r,r+"Exit"]}function b7e(e){return{eventIndex:0,events:"document"===e.type?["Document",v7e,"DocumentExit"]:"root"===e.type?["Root",v7e,"RootExit"]:y7e(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function _7e(e){return e[n7e]=!1,e.nodes&&e.nodes.forEach((e=>_7e(e))),e}var w7e={};class S7e{constructor(e,t,r){var n;if(this.stringified=!1,this.processed=!1,"object"!=typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof S7e||t instanceof u7e)n=_7e(t.root),t.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{var i=d7e;r.syntax&&(i=r.syntax.parse),r.parser&&(i=r.parser),i.parse&&(i=i.parse);try{n=i(t,r)}catch(e){this.processed=!0,this.error=e}n&&!n[i7e]&&s7e.rebuild(n)}else n=_7e(t);this.result=new u7e(e,n,r),this.helpers={...w7e,postcss:w7e,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}get content(){return this.stringify().content}get css(){return this.stringify().css}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){var r=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin)r.postcssVersion;else e.plugin=r.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}return e}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}prepareVisitors(){this.listeners={};var e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(var t of this.plugins)if("object"==typeof t)for(var r in t){if(!f7e[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!g7e[r])if("object"==typeof t[r])for(var n in t[r])e(t,"*"===n?r:r+"-"+n.toLowerCase(),t[r][n]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}get processor(){return this.result.processor}get root(){return this.sync().root}runAsync(){var e=this;return xd()((function*(){e.plugin=0;for(var t=0;t<e.plugins.length;t++){var r=e.plugins[t],n=e.runOnRoot(r);if(m7e(n))try{yield n}catch(t){throw e.handleError(t)}}if(e.prepareVisitors(),e.hasListener){for(var i=e.result.root;!i[n7e];){i[n7e]=!0;for(var a=[b7e(i)];a.length>0;){var o=e.visitTick(a);if(m7e(o))try{yield o}catch(t){var s=a[a.length-1].node;throw e.handleError(t,s)}}}if(e.listeners.OnceExit){var l=function*(t){e.result.lastPlugin=c;try{if("document"===i.type){var r=i.nodes.map((r=>t(r,e.helpers)));yield Promise.all(r)}else yield t(i,e.helpers)}catch(t){throw e.handleError(t)}};for(var[c,u]of e.listeners.OnceExit)yield*l(u)}}return e.processed=!0,e.stringify()}))()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){var t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return m7e(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=o7e;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var r=new a7e(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}get[Symbol.toStringTag](){return"LazyResult"}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var e of this.plugins)if(m7e(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){for(var t=this.result.root;!t[n7e];)t[n7e]=!0,this.walkSync(t);if(this.listeners.OnceExit)if("document"===t.type)for(var r of t.nodes)this.visitSync(this.listeners.OnceExit,r);else this.visitSync(this.listeners.OnceExit,t)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(var[r,n]of e){var i=void 0;this.result.lastPlugin=r;try{i=n(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(m7e(i))throw this.getAsyncError()}}visitTick(e){var t=e[e.length-1],{node:r,visitors:n}=t;if("root"===r.type||"document"===r.type||r.parent){if(n.length>0&&t.visitorIndex<n.length){var[i,a]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=i;try{return a(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){for(var o,s=t.iterator;o=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!o[n7e])return o[n7e]=!0,void e.push(b7e(o));t.iterator=0,delete r.indexes[s]}for(var l=t.events;t.eventIndex<l.length;){var c=l[t.eventIndex];if(t.eventIndex+=1,c===v7e)return void(r.nodes&&r.nodes.length&&(r[n7e]=!0,t.iterator=r.getIterator()));if(this.listeners[c])return void(t.visitors=this.listeners[c])}e.pop()}else e.pop()}walkSync(e){e[n7e]=!0;var t=y7e(e);for(var r of t)if(r===v7e)e.nodes&&e.each((e=>{e[n7e]||this.walkSync(e)}));else{var n=this.listeners[r];if(n&&this.visitSync(n,e.toProxy()))return}}warnings(){return this.sync().warnings()}}S7e.registerPostcss=e=>{w7e=e};var C7e=S7e;S7e.default=S7e,p7e.registerLazyResult(S7e),l7e.registerLazyResult(S7e);var k7e=O5e,I7e=s5e,P7e=null,A7e=r7e,x7e=a4e;class T7e{constructor(e,t,r){var n;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;var i=I7e;this.result=new x7e(this._processor,n,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:()=>a.root});var o=new k7e(i,n,this._opts,t);if(o.isMap()){var[s,l]=o.generate();s&&(this.result.css=s),l&&(this.result.map=l)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}get content(){return this.result.css}get css(){return this.result.css}finally(e){return this.async().then(e,e)}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;var e,t=A7e;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}}var E7e=T7e;T7e.default=T7e;var M7e=E7e,R7e=C7e,O7e=e4e,D7e=B4e;class L7e{constructor(e=[]){this.version="8.4.27",this.plugins=this.normalize(e)}normalize(e){var t=[];for(var r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else{if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin");0}return t}process(e,t={}){return 0===this.plugins.length&&void 0===t.parser&&void 0===t.stringifier&&void 0===t.syntax?new M7e(this,e,t):new R7e(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}var N7e=L7e;L7e.default=L7e,D7e.registerProcessor(L7e),O7e.registerProcessor(L7e);var B7e=y5e,$7e=C5e,j7e=N5e,F7e=R4e,W7e=T5e,U7e=B4e,V7e=V4e;function q7e(e,t){if(Array.isArray(e))return e.map((e=>q7e(e)));var{inputs:r,...n}=e;if(r)for(var i of(t=[],r)){var a={...i,__proto__:W7e.prototype};a.map&&(a.map={...a.map,__proto__:$7e.prototype}),t.push(a)}if(n.nodes&&(n.nodes=e.nodes.map((e=>q7e(e,t)))),n.source){var{inputId:o,...s}=n.source;n.source=s,null!=o&&(n.source.input=t[o])}if("root"===n.type)return new U7e(n);if("decl"===n.type)return new B7e(n);if("rule"===n.type)return new V7e(n);if("comment"===n.type)return new j7e(n);if("atrule"===n.type)return new F7e(n);throw new Error("Unknown node type: "+e.type)}var z7e=q7e;q7e.default=q7e;var G7e=e5e,H7e=y5e,K7e=C7e,J7e=J5e,X7e=N7e,Y7e=s5e,Q7e=z7e,Z7e=e4e,e8e=r4e,t8e=N5e,r8e=R4e,n8e=a4e,i8e=T5e,a8e=r7e,o8e=j4e,s8e=V4e,l8e=B4e,c8e=g5e;function u8e(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new X7e(e)}u8e.plugin=function(e,t){var r,n=!1;function i(...r){console&&console.warn&&!n&&(n=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));var i=t(...r);return i.postcssPlugin=e,i.postcssVersion=(new X7e).version,i}return Object.defineProperty(i,"postcss",{get:()=>(r||(r=i()),r)}),i.process=function(e,t,r){return u8e([i(r)]).process(e,t)},i},u8e.stringify=Y7e,u8e.parse=a8e,u8e.fromJSON=Q7e,u8e.list=o8e,u8e.comment=e=>new t8e(e),u8e.atRule=e=>new r8e(e),u8e.decl=e=>new H7e(e),u8e.rule=e=>new s8e(e),u8e.root=e=>new l8e(e),u8e.document=e=>new Z7e(e),u8e.CssSyntaxError=G7e,u8e.Declaration=H7e,u8e.Container=J7e,u8e.Processor=X7e,u8e.Document=Z7e,u8e.Comment=t8e,u8e.Warning=e8e,u8e.AtRule=r8e,u8e.Result=n8e,u8e.Input=i8e,u8e.Rule=s8e,u8e.Root=l8e,u8e.Node=c8e,K7e.registerPostcss(u8e);var d8e=u8e;u8e.default=u8e;var p8e=K6e(d8e);p8e.stringify,p8e.fromJSON,p8e.plugin;var h8e=p8e.parse;p8e.list,p8e.document,p8e.comment,p8e.atRule,p8e.rule,p8e.decl,p8e.root,p8e.CssSyntaxError,p8e.Declaration,p8e.Container,p8e.Processor,p8e.Document,p8e.Comment,p8e.Warning,p8e.AtRule,p8e.Result,p8e.Input,p8e.Rule,p8e.Root,p8e.Node;class f8e{constructor(e=0){this._id=e}get id(){return this.generate()}generate(){return this._id++}reset(){this._id=0}}var g8e="\n",v8e=function(){function e(e){this.length=e.length;for(var t=[0],r=0;r<e.length;)switch(e[r]){case g8e:r+=1,t.push(r);break;case"\r":e[r+=1]===g8e&&(r+=1),t.push(r);break;default:r++}this.offsets=t}return e.prototype.locationForIndex=function(e){if(e<0||e>this.length)return null;for(var t=0,r=this.offsets;r[t+1]<=e;)t++;return{line:t,column:e-r[t]}},e.prototype.indexForLocation=function(e){var t=e.line,r=e.column;return t<0||t>=this.offsets.length||r<0||r>this.lengthOfLine(t)?null:this.offsets[t]+r},e.prototype.lengthOfLine=function(e){var t=this.offsets[e];return(e===this.offsets.length-1?this.length:this.offsets[e+1])-t},e}(),m8e={exports:{}},y8e={exports:{}},b8e={exports:{}},_8e={exports:{}},w8e,S8e,C8e;w8e=_8e,S8e=_8e.exports,C8e=/^\s+/,S8e=function(e,t){if(null==t)return e.trimLeft?e.trimLeft():e.replace(C8e,"");for(var r,n,i=0,a=e.length,o=t.length,s=!0;s&&i<a;)for(s=!1,r=-1,n=e.charAt(i);++r<o;)if(n===t[r]){s=!0,i++;break}return i>=a?"":e.substr(i,a)},w8e.exports=S8e;var k8e=_8e.exports,I8e={exports:{}},P8e,A8e;P8e=I8e,A8e=I8e.exports,A8e=function(e,t){if(null==t){if(e.trimRight)return e.trimRight();t=" \r\n\t\f\v"}for(var r,n,i=e.length-1,a=t.length,o=!0;o&&i>=0;)for(o=!1,r=-1,n=e.charAt(i);++r<a;)if(n===t[r]){o=!0,i--;break}return i>=0?e.substring(0,i+1):""},P8e.exports=A8e;var x8e=I8e.exports,T8e,E8e,M8e,R8e;T8e=b8e,E8e=b8e.exports,M8e=k8e,R8e=x8e,E8e=function(e,t){return null==t&&e.trim?e.trim():M8e(R8e(e,t),t)},T8e.exports=E8e;var O8e=b8e.exports,D8e={exports:{}},L8e={exports:{}},N8e={exports:{}},B8e={exports:{}},$8e,j8e,F8e;$8e=B8e,j8e=B8e.exports,F8e=Object.prototype.toString,j8e=function(e){return F8e.call(e)},$8e.exports=j8e;var W8e=B8e.exports,U8e,V8e,q8e;U8e=N8e,V8e=N8e.exports,q8e=W8e,V8e=function(e){return"[object Number]"===q8e(e)},U8e.exports=V8e;var z8e=N8e.exports,G8e={exports:{}},H8e,K8e,J8e;H8e=G8e,K8e=G8e.exports,J8e=W8e,K8e=function(e){var t=J8e(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},H8e.exports=K8e;var X8e=G8e.exports,Y8e,Q8e,Z8e,e9e,t9e;Y8e=L8e,Q8e=L8e.exports,Z8e=z8e,e9e=X8e,t9e=Math.pow(2,53)-1,Q8e=function(e){if(!e)return!1;var t=e.length;return Z8e(t)&&t>=0&&t<=t9e&&!e9e(e)},Y8e.exports=Q8e;var r9e=L8e.exports,n9e={exports:{}},i9e={exports:{}},a9e,o9e,s9e;a9e=i9e,o9e=i9e.exports,s9e=Object.prototype.hasOwnProperty,o9e=function(e,t){return s9e.call(e,t)},a9e.exports=o9e;var l9e=i9e.exports,c9e,u9e,d9e;c9e=n9e,u9e=n9e.exports,d9e=l9e,u9e=Object.keys?Object.keys:function(e){var t=[];for(var r in e)d9e(e,r)&&t.push(r);return t},c9e.exports=u9e;var p9e=n9e.exports,h9e={exports:{}},f9e={exports:{}},g9e,v9e;g9e=f9e,v9e=f9e.exports,v9e=function(e){return void 0===e},g9e.exports=v9e;var m9e=f9e.exports,y9e,b9e,_9e;y9e=h9e,b9e=h9e.exports,_9e=m9e,b9e=function(e,t,r){if(_9e(t))return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)}}return function(){return e.apply(t,arguments)}},y9e.exports=b9e;var w9e=h9e.exports,S9e,C9e,k9e,I9e,P9e;S9e=D8e,C9e=D8e.exports,k9e=r9e,I9e=p9e,P9e=w9e,C9e=function(e,t,r){var n,i;if(t=P9e(t,r),k9e(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var a=I9e(e);for(n=0,i=a.length;n<i;n++)t(e[a[n]],a[n],e)}return e},S9e.exports=C9e;var A9e=D8e.exports,x9e={exports:{}},T9e,E9e;T9e=x9e,E9e=x9e.exports,E9e=function(e){return e},T9e.exports=E9e;var M9e=x9e.exports,R9e={exports:{}},O9e={exports:{}},D9e={exports:{}},L9e,N9e;L9e=D9e,N9e=D9e.exports,N9e=function(e){var t=typeof e;return!!e&&("function"===t||"object"===t)},L9e.exports=N9e;var B9e=D9e.exports,$9e={exports:{}},j9e,F9e,W9e;j9e=$9e,F9e=$9e.exports,W9e=W8e,F9e=Array.isArray?Array.isArray:function(e){return"[object Array]"===W9e(e)},j9e.exports=F9e;var U9e=$9e.exports,V9e={exports:{}},q9e={exports:{}},z9e={exports:{}},G9e,H9e,K9e,J9e;G9e=z9e,H9e=z9e.exports,K9e=m9e,J9e=A9e,H9e=function(e,t){return function(r){return J9e(arguments,(function(n,i){if(0!==i){var a=e(n);J9e(a,(function(e){t&&!K9e(r[e])||(r[e]=n[e])}))}})),r}},G9e.exports=H9e;var X9e=z9e.exports,Y9e,Q9e;Y9e=q9e,Q9e=q9e.exports,Q9e=X9e(p9e),Y9e.exports=Q9e;var Z9e=q9e.exports,eet={exports:{}},tet,ret,net;tet=eet,ret=eet.exports,net=p9e,ret=function(e,t){var r=net(t),n=r.length;if(null==e)return!n;e=Object(e);for(var i=0;i<n;i++){var a=r[i];if(t[a]!==e[a]||!(a in e))return!1}return!0},tet.exports=ret;var iet=eet.exports,aet,oet,set,cet;aet=V9e,oet=V9e.exports,set=Z9e,cet=iet,oet=function(e){return e=set({},e),function(t){return cet(t,e)}},aet.exports=oet;var uet=V9e.exports,det={exports:{}},pet={exports:{}},het={exports:{}};!function(e,t){var r=l9e,n=U9e;t=function(e,t){if(n(e))return e;if(t&&r(t,e))return[e];var o=[];return e.replace(i,(function(e,t,r,n){o.push(r?n.replace(a,"$1"):t||e)})),o};var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;e.exports=t}(het,het.exports);var fet=het.exports,get,vet,met,yet;get=pet,vet=pet.exports,met=m9e,yet=fet,vet=function(e,t){var r;for(r=(t=yet(t,e)).shift();!met(r);){if(null==(e=e[r]))return;r=t.shift()}return e},get.exports=vet;var bet=pet.exports,_et,wet,Cet,ket;_et=det,wet=det.exports,Cet=U9e,ket=bet,wet=function(e){return Cet(e)?function(t){return ket(t,e)}:(t=e,function(e){return null==e?void 0:e[t]});var t},_et.exports=wet;var Iet=det.exports,Pet,Aet,xet,Tet,Eet,Met,Ret,Oet,Det;Pet=O9e,Aet=O9e.exports,xet=X8e,Tet=B9e,Eet=U9e,Met=w9e,Ret=uet,Oet=M9e,Det=Iet,Aet=function(e,t,r){return null==e?Oet:xet(e)?Met(e,t,r):Tet(e)&&!Eet(e)?Ret(e):Det(e)},Pet.exports=Aet;var Let=O9e.exports,Net,Bet,$et,jet,Fet;Net=R9e,Bet=R9e.exports,$et=Let,jet=p9e,Fet=r9e,Bet=function(e,t,r){t=$et(t,r);for(var n=!Fet(e)&&jet(e),i=(n||e).length,a=Array(i),o=0;o<i;o++){var s=n?n[o]:o;a[o]=t(e[s],s,e)}return a},Net.exports=Bet;var Wet=R9e.exports,Uet,Vet,qet,zet,Get,Het,Ket,Jet,Xet,Yet,Qet,Zet,ett;Uet=y8e,Vet=y8e.exports,qet=O8e,zet=A9e,Get=M9e,Het=Wet,Jet="(?:\\\\[\\da-fA-F]{1,6}".concat(Ket="[\\x20\\t\\r\\n\\f]","?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+"),Xet="\\[".concat(Ket,"*(").concat(Jet,")(?:").concat(Ket,"*([*^$|!~]?=)").concat(Ket,"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(").concat(Jet,"))|)").concat(Ket,"*\\]"),Yet="::?(".concat(Jet,")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|").concat(Xet,")*)|.*)\\)|)"),Qet=new RegExp("^".concat(Ket,"*,").concat(Ket,"*")),Zet=new RegExp("^".concat(Ket,"*([>+~]|").concat(Ket,")").concat(Ket,"*")),ett={id:{reg:new RegExp("^#(".concat(Jet,")")),value:function(e){return e.slice(1)},toStr:function(e){return"#".concat(e)}},class:{reg:new RegExp("^\\.(".concat(Jet,")")),value:function(e){return e.slice(1)},toStr:function(e){return".".concat(e)}},tag:{reg:new RegExp("^(".concat(Jet,"|[*])")),value:Get},attribute:{reg:new RegExp("^".concat(Xet)),value:function(e){return e.slice(1,e.length-1)},toStr:function(e){return"[".concat(e,"]")}},pseudo:{reg:new RegExp("^".concat(Yet)),value:Get}},zet(ett,(function(e){e.value||(e.value=Get),e.toStr||(e.toStr=Get)})),Vet={parse:function(e){e=qet(e);for(var t,r,n,i=[];e&&(n&&!(r=Qet.exec(e))||(r&&(e=e.slice(r[0].length)),t=[],i.push(t)),n=!1,(r=Zet.exec(e))&&(n=r.shift(),e=e.slice(n.length),(n=qet(n))||(n=" "),t.push({value:n,type:"combinator"})),zet(ett,(function(i,a){var o=i.reg,s=i.value;(r=o.exec(e))&&(n=r.shift(),e=e.slice(n.length),n=qet(n),t.push({value:s(n),type:a}))})),n););return i},stringify:function(e){return Het(e,(function(e){return(e=Het(e,(function(e){var t=e.type,r=e.value;return"combinator"===t?" "===r?r:" ".concat(r," "):ett[t].toStr(r)}))).join("")})).join(", ")}},Uet.exports=Vet;var ttt=y8e.exports,rtt={exports:{}},ntt,itt;ntt=rtt,itt=rtt.exports,itt=function(e,t){return 0===e.indexOf(t)},ntt.exports=itt;var att=rtt.exports,ott={exports:{}},stt={exports:{}},ltt,ctt;ltt=stt,ctt=stt.exports,ctt=function(e,t,r){return Array.prototype.indexOf.call(e,t,r)},ltt.exports=ctt;var utt=stt.exports,dtt={exports:{}},ptt,htt,ftt;ptt=dtt,htt=dtt.exports,ftt=W8e,htt=function(e){return"[object String]"===ftt(e)},ptt.exports=htt;var gtt=dtt.exports,vtt={exports:{}},mtt,ytt,btt;mtt=vtt,ytt=vtt.exports,btt=A9e,ytt=function(e){var t=[];return btt(e,(function(e){t.push(e)})),t},mtt.exports=ytt;var _tt=vtt.exports,wtt,Stt,Ctt,ktt,Itt,Ptt;wtt=ott,Stt=ott.exports,Ctt=utt,ktt=gtt,Itt=r9e,Ptt=_tt,Stt=function(e,t){return ktt(e)?e.indexOf(t)>-1:(Itt(e)||(e=Ptt(e)),Ctt(e,t)>=0)},wtt.exports=Stt;var Att=ott.exports,xtt={exports:{}},Ttt={exports:{}},Ett={exports:{}},Mtt,Rtt,Ott,Dtt,Ltt,Ntt;Mtt=Ett,Rtt=Ett.exports,Ott=z8e,Dtt=B9e,Ltt=X8e,Ntt=gtt,Rtt=function(e){if(Ott(e))return e;if(Dtt(e)){var t=Ltt(e.valueOf)?e.valueOf():e;e=Dtt(t)?t+"":t}return Ntt(e)?+e:0===e?e:+e},Mtt.exports=Rtt;var Btt=Ett.exports,$tt,jtt,Ftt;$tt=Ttt,jtt=Ttt.exports,Ftt=Btt,jtt=function(e){return e?(e=Ftt(e))-e%1:0===e?e:0},$tt.exports=jtt;var Wtt=Ttt.exports,Utt={exports:{}},Vtt,qtt;Vtt=Utt,qtt=Utt.exports,qtt=function(){for(var e=arguments,t=e[0],r=1,n=e.length;r<n;r++)e[r]>t&&(t=e[r]);return t},Vtt.exports=qtt;var ztt=Utt.exports,Gtt,Htt,Ktt,Jtt;Gtt=xtt,Htt=xtt.exports,Ktt=Wtt,Jtt=ztt,Htt=function(e,t){e=e.split("."),t=t.split(".");for(var r=Jtt(e.length,t.length),n=0;n<r;n++){var i=Ktt(e[n]),a=Ktt(t[n]);if(i>a)return 1;if(i<a)return-1}return 0},Gtt.exports=Htt;var Xtt=xtt.exports;!function(e,t){var r=ttt,n=A9e,i=att,a=Att,o=Xtt;t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.important,l=void 0!==o&&o,c=t.inlineStyle,u=void 0!==c&&c,d=t.position,p=[0,0,0,0,0,void 0===d?0:d];l&&(p[0]=1),u&&(p[1]=1);var h=r.parse(e)[0];return n(h,(function(e){var t=e.type,r=e.value;switch(t){case"id":p[2]++;break;case"class":case"attribute":p[3]++;break;case"pseudo":a(s,r.replace(/:/g,""))?p[4]++:i(r,"::")||p[3]++;break;case"tag":"*"!==r&&p[4]++}})),p};var s=["first-letter","last-letter","first-line","last-line","first-child","last-child","before","after"];t.compare=function(e,t){return o(e.join("."),t.join("."))},e.exports=t}(m8e,m8e.exports);var Ytt=K6e(m8e.exports);function Qtt(e,t,r,...n){return new Promise((i=>{var a,o,s;3===e.mode?null===(a=e[t])||void 0===a||a.call(e,r,...n,((...e)=>i(e))):null===(s=(o=r)[t])||void 0===s||s.call(o,...n,((...e)=>i(e)))}))}var Ztt=new class{get isSkyline(){return!!(null===window||void 0===window?void 0:window.__skylineEngine__)}getBoundingClientRect(e){return $6e(this,void 0,void 0,(function*(){var t;try{if(this.isSkyline){var r=U6e(e.getBoundingClientRect.bind(e));t=yield r()}else t=e.getBoundingClientRect()}catch(t){console.error("getComputedStyle: error",t)}return t}))}getComputedStyle(e){return $6e(this,void 0,void 0,(function*(){var t;try{t=this.isSkyline?{width:"50px",height:"50px",marginRight:"20px",marginLeft:"20px",marginTop:"20px",marginBottom:"20px",paddingLeft:"20px",paddingRight:"20px",paddingTop:"20px",paddingBottom:"20px",borderLeftWidth:"10px",borderRightWidth:"10px",borderTopWidth:" 10px",borderBottomWidth:"10px"}:window.getComputedStyle(e)}catch(t){console.error("getComputedStyle: error",t)}return t}))}getWindowInfo(){}setStyle(e,t){this.isSkyline?(console.log(1111111,t),e.$$.setStyle(t)):e.$$.setAttribute("style",t)}};class ert extends(null){constructor(e,t){super(e),this.tree=t}get enabled(){return this._enabled}enableSync(){return this._enabled||(this._enabled=!0,this.cssModel&&(this.cssModel.init(this.tree,this.bridge),this.cssModel.virtualSheets.forEach((({header:e})=>{this.bridge.emit({method:"CSS.styleSheetAdded",params:{header:e}})})))),this._enabled}enable(){return e(this,void 0,void 0,(function*(){this.enableSync()}))}addRule(e){throw r}collectClassNames(e){throw r}createStyleSheet(e){throw r}forcePseudoState(e){throw r}getBackgroundColors(e){throw new Error("Method not implemented.")}getGlassEaselNodeFromParams(t){return e(this,void 0,void 0,(function*(){var e,{nodeId:r,backendNodeId:n,objectId:i}=t;return(r||n)&&(e=this.tree.getNodeById(r||n)),e||null}))}getComputedStyleForNode(t){return e(this,void 0,void 0,(function*(){var e=yield this.getGlassEaselNodeFromParams(t);return{computedStyle:yield this.getComputedStyleByNode(e)}}))}getInlineStylesForNode(t){return e(this,void 0,void 0,(function*(){var e=yield this.getGlassEaselNodeFromParams(t);return{inlineStyle:this.getInlineStylesByNode(e)}}))}getMatchedStylesForNode(t){return e(this,void 0,void 0,(function*(){try{var e=yield this.getGlassEaselNodeFromParams(t);return!e||this.tree.isVirtual(e)?{}:{matchedCSSRules:yield yield this.getMatchedCSSRulesByNode(e),inlineStyle:yield this.getInlineStylesByNode(e),inherited:yield this.getInheritedCSSRulesByNode(e)}}catch(e){throw console.error("CSSAdapter::getMatchedStylesForNode",e),e}}))}getComputedStyleByNode(t){return e(this,void 0,void 0,(function*(){var e=t.$$,r=yield o.getComputedStyle(e);return s(r)}))}getInlineStylesByNode(e){if(e.$$)return this.cssModel.getInlineRules(e.$$)}getMatchedCSSRulesByNode(e){var t,r=e.$$;return r&&(r.matches||r.webkitMatchesSelector)&&null!==(t=this.cssModel.getMatchedRules(r))&&void 0!==t?t:[]}getMediaQueries(){throw r}getPlatformFontsForNode(e){throw r}getStyleSheetText(e){throw r}trackComputedStyleUpdates(e){throw r}takeComputedStyleUpdates(){throw r}setEffectivePropertyValueForNode(e){throw r}setKeyframeKey(e){throw r}setMediaText(e){throw r}setContainerQueryText(e){throw r}setRuleSelector(e){throw r}setStyleSheetText(e){throw r}applyStyleEdit(e){return this.cssModel.applyStyleEdit(e)}setStyleTexts(t){return e(this,void 0,void 0,(function*(){var{edits:e}=t;return{styles:e.map((e=>this.applyStyleEdit(e)))}}))}startRuleUsageTracking(){throw r}stopRuleUsageTracking(){throw r}takeCoverageDelta(){throw r}setLocalFontsEnabled(e){throw r}on(e,t){throw r}}var trt=e=>"decl"===e.type,rrt=e=>"comment"===e.type,nrt=(e,t)=>{try{return e()}catch(e){return t}},irt;class art{constructor(e){this.rawStr=e,this.lineCol=new v8e(e)}toIndex(e){return void 0===e||"number"==typeof e?e:this.lineCol.indexForLocation(e)||void 0}toIndices(...e){return e.map((e=>this.toIndex(e)))}updateLineCol(){this.lineCol=new v8e(this.rawStr)}loc(e){return this.lineCol.locationForIndex(e)}slice(e,t){return this.rawStr.slice(this.toIndex(e),this.toIndex(t))}update(e,t,r){var[n,i]=this.toIndices(e,t);return this.rawStr.slice(0,n),this.rawStr.slice(i),this.rawStr=this.rawStr.slice(0,n)+r+this.rawStr.slice(i),this.updateLineCol(),this.rawStr,[n,n+r.length]}get fileContent(){return this.rawStr}}class ort{constructor(e,t,r,n){var i,a;this.$modified=!1,this.$fileName=t;var o=e;this.scopeId=r,this.allomancy=new art(n);var s=this.allomancy.loc(n.length-1);this.$id=o,this.header={styleSheetId:o,disabled:!1,isInline:!1,isMutable:!1,isConstructed:!1,origin:"regular",frameId:"114514",sourceURL:null!==(i=this.fileName)&&void 0!==i?i:"",startLine:0,endLine:(null==s?void 0:s.line)||0,startColumn:0,endColumn:(null==s?void 0:s.column)||0,length:n.length,title:null!==(a=this.fileName)&&void 0!==a?a:""},this.ast=h8e(n,{from:this.fileName})}get content(){return this.allomancy.fileContent}get ownerNode(){throw q6e}get id(){return this.$id}get fileName(){return this.$fileName}get fileContent(){return this.allomancy.fileContent}get modified(){return this.$modified}update(){var e=this.allomancy.loc(this.content.length-1);this.header.endLine=e.line,this.header.endColumn=e.column,this.header.length=this.content.length,this.ast=h8e(this.content,{from:this.fileName})}initSheet(e){}getNodeStyleAttr(e){throw q6e}getRuleByStartLine(e){throw q6e}getInlineRule(){throw q6e}mapNodesToProperties(e,t=0){var r=this,n=[],i=function(e){if(trt(e)){var i=t+e.source.start.offset,a=t+e.source.end.offset,o=r.allomancy.loc(i),s=r.allomancy.loc(a);n.push({name:e.prop,value:e.value,important:Boolean(e.important),text:r.content.slice(i,a),parsedOk:!0,range:{startLine:o.line,startColumn:o.column,endLine:s.line,endColumn:s.column}})}else if(rrt(e)){var l=nrt((()=>h8e(e.text)),null);if(l)for(var c of l.nodes)if(trt(c)){var u=t+e.source.start.offset,d=t+e.source.end.offset,p=r.allomancy.loc(u),h=r.allomancy.loc(d);n.push({name:c.prop,value:c.value,important:Boolean(c.important),disabled:!0,text:r.content.slice(u,d),range:{startLine:p.line,startColumn:p.column,endLine:h.line,endColumn:h.column}})}}};for(var a of e)i(a);return n}getText(e,t=0){return((e,t,r=0)=>t?e.slice(t.start.offset+r,t.end.offset+r):"")(this.content,e,t)}generateSelectorList(e){var{start:t}=e.source,r=[],n=t.line-1,i=t.column-1,a=0;for(var o of e.selectors)a=i+o.length,r.push({range:{startLine:n,startColumn:i,endLine:n,endColumn:a},text:o}),i=a+1;return{selectors:r,text:e.selectors.join(", ")}}getMatchedRules(e){return $6e(this,void 0,void 0,(function*(){return[]}))}sortMatchedStyleRules(e){throw q6e}filterMatchedRules(e,t){throw q6e}serializeRule(e){throw q6e}setInlineStyle(e,t){throw q6e}updateStyleText(e){throw q6e}applyStyleEdit(e){var{text:t,range:r}=e,n={line:r.startLine,column:r.startColumn},i={line:r.endLine,column:r.endColumn},a=nrt((()=>h8e(t)),null);if(a){var o=this.allomancy.update(n,i,t),s=this.mapNodesToProperties(a.nodes,o[0]),l=o.map((e=>this.allomancy.loc(e))),c={startLine:l[0].line,startColumn:l[0].column,endLine:l[1].line,endColumn:l[1].column},u={styleSheetId:this.$id,cssProperties:s,shorthandEntries:[],cssText:t,range:c};return this.allomancy.fileContent,this.$modified=!0,this.update(),u}}}ort.styleSheetIdAssigner=new f8e;class srt extends ort{constructor(e,t,r,n){super(`style_${srt.styleSheetIdAssigner.id}`,e,t,r),this.ast,n&&this.ast.nodes.forEach((r=>{var i;if((e=>"atrule"===e.type)(r)&&"import"===r.name){var a=null===(i=/["'](\S+)["']/.exec(decodeURI(r.params)))||void 0===i?void 0:i[1];a&&n("."+new URL(a,"file://"+e).pathname,t)}}))}get fileName(){return this.$fileName}initSheet(e){}getNodeStyleAttr(e){throw q6e}getRuleByStartLine(e){throw q6e}getInlineRule(){throw q6e}generateSelectorList(e){var{start:t}=e.source,r=[],n=t.line-1,i=t.column-1,a=0;for(var o of e.selectors)a=i+o.length,r.push({range:{startLine:n,startColumn:i,endLine:n,endColumn:a},text:o}),i=a+1;return{selectors:r,text:e.selectors.join(", ")}}getMatchedRules(e){return $6e(this,void 0,void 0,(function*(){var t=this.ast.nodes,r=[],n=this.scopeId;for(var i of t)if("rule"===i.type){var a=[];if(i.selectors.forEach(((t,r)=>{e.matches(n,t)&&a.push(r)})),!a.length)continue;if(!i.nodes.length)continue;var o=i.nodes.at(0).source.start.offset,s=i.nodes.at(-1).source.end.offset+1,l=this.allomancy.loc(o),c=this.allomancy.loc(s),u=this.allomancy.fileContent.slice(o,s),d=this.mapNodesToProperties(i.nodes),p={styleSheetId:this.$id,selectorList:this.generateSelectorList(i),origin:"regular",style:{styleSheetId:this.$id,cssProperties:d,shorthandEntries:[],cssText:u,range:{startLine:l.line,startColumn:l.column,endLine:c.line,endColumn:c.column}}},h={matchingSelectors:a,rule:p};r.push(h)}return r}))}}srt.styleSheetIdAssigner=new f8e;class lrt extends ort{constructor(e,t){super(`node_${t}`,"",2,e.style||""),this.elt=e}initSheet(e){}getNodeStyleAttr(e){throw q6e}getRuleByStartLine(e){throw q6e}getInlineRule(){var e=this.elt.style;if(!e)return Object.assign(Object.assign({},{cssProperties:[],shorthandEntries:[],range:{startColumn:0,endColumn:0,startLine:0,endLine:0}}),{styleSheetId:this.$id});e!==this.content&&(this.allomancy.update(0,this.content.length,e),this.update());var t=this.mapNodesToProperties(this.ast.nodes),r=this.allomancy.loc(this.content.length-1);return{styleSheetId:this.$id,cssProperties:t,shorthandEntries:[],cssText:e,range:{startLine:0,startColumn:0,endLine:r.line,endColumn:r.column}}}getMatchedRules(e){return $6e(this,void 0,void 0,(function*(){return[]}))}applyStyleEdit(e){return this.elt.setNodeStyle(e.text.trim()),this.getInlineRule()}}lrt.styleSheetIdAssigner=new f8e;class crt extends(null){constructor(e,t,r,n,i){super(e,t),this.cssModel=null,this.pageStyleSheets=new Map,this.inlineStyleSheets=new Map,this.currentElement=null,this.prevStyleSheetsCount=0,this.webviewEngine=r,this.glassEaselAdapter=n,this.fileReader=i}getPageId(e){for(var t=e;!t._$ownerRenderRoot;)t=t.ownerShadowRoot.getHostNode();return t._$ownerRenderRoot.id}enable(){var t=Object.create(null,{enableSync:{get:()=>super.enableSync}});return e(this,void 0,void 0,(function*(){t.enableSync.call(this)}))}pushToDebugger(e){this.bridge.emit({method:"CSS.styleSheetAdded",params:{header:e.header}})}updatePageStyleSheet(t,r=!1){return e(this,void 0,void 0,(function*(){var n=this;if(t){var i=this.pageStyleSheets.get(t),a=this.webviewEngine.getStyleSheetManager(t);if(!i||a.styleSheets.length!==this.prevStyleSheetsCount||r){var o=[],s=[],l=a.styleSheets;for(var[c,u]of(this.prevStyleSheetsCount=l.length,l))u.styleScope<2||"__EMPTY__"===c||s.push(c);for(var d=yield this.readWxss(...s.map((e=>e+".wxss"))),p=function*(){var t=a.getStyleSheet(s[h]),r="./"+t.path+".wxss",i=t.styleScope,l=d[h],c=(t,r)=>e(n,void 0,void 0,(function*(){var e=(yield this.readWxss(t))[0],n=new srt(t,r,e,c);o.push(n),this.pushToDebugger(n)})),u=new srt(r,i,l,c);o.push(u)},h=0;h<s.length;++h)yield*p();this.pageStyleSheets.set(t,o),o.forEach((e=>this.pushToDebugger(e)))}}}))}getMatchedCSSRulesByNode(t){var r;return e(this,void 0,void 0,(function*(){this.currentElement=t;var e=t.getBackendElement();if(!e)return[];var n=this.getPageId(t);yield this.updatePageStyleSheet(n);var i=null!==(r=this.pageStyleSheets.get(n))&&void 0!==r?r:[],a=(yield Promise.all(i.map((t=>t.getMatchedRules(e))))).reduce(((e,t)=>e.concat(t)),[]),s=[];return a.map(((e,t)=>o(e.rule.selectorList.text,{position:t}))).sort(o.compare).forEach((e=>s.push(a[e[5]]))),s}))}getInheritedCSSRulesByNode(e){return[]}getMatchedStylesForNode(t){var r=Object.create(null,{getMatchedStylesForNode:{get:()=>super.getMatchedStylesForNode}});return e(this,void 0,void 0,(function*(){var e=yield r.getMatchedStylesForNode.call(this,t);return e.trustMe=!0,e}))}applyStyleEdit(e){var t,r;if(!this.currentElement)throw new Error("a node must be selected before applyStyleEdit");var n=null;if(e.styleSheetId.startsWith("node")){var i=Number(null===(t=/^node_(\d+)/.exec(e.styleSheetId))||void 0===t?void 0:t[1]),a=this.inlineStyleSheets.get(i);a&&(n=a.applyStyleEdit(e))}else{var o=this.getPageId(this.currentElement);for(var s of null!==(r=this.pageStyleSheets.get(o))&&void 0!==r?r:[])s.id===e.styleSheetId&&s instanceof srt&&(n=s.applyStyleEdit(e),this.bridge.emit({method:"WxHost.setWxssFile",params:{fileName:s.fileName,content:s.fileContent}}),this.webviewEngine.invalidateAllPreCompiled(o))}if(!n)throw new Error("stylesheet not found for page");return n}getInlineStylesByNode(e){var t=this.tree.requestIdForNode(e);return this.inlineStyleSheets.has(t)||this.inlineStyleSheets.set(t,new lrt(e,t)),this.inlineStyleSheets.get(t).getInlineRule()}readWxss(...t){return e(this,void 0,void 0,(function*(){var r=this;try{for(var n=[],i=function*(i){n.push(yield e(r,void 0,void 0,(function*(){try{return(yield this.fileReader.readWxssFile(t[i]))||""}catch(e){return""}})))},a=0;a<t.length;a+=1)yield*i(a);return n}catch(e){return t.map((()=>""))}}))}}function urt(e){return e.id.startsWith("__wx_inspectee_highlight__")}!function(e){e.SHADOW="shadow",e.COMPOSED="composed",e.SHADOW_SKIP_VIRTUAL="shadow-skip-virtual"}(irt||(irt={}));var drt={printError:!0};class prt{constructor(e,t=drt){this.bindAdapter=(e,t)=>{var r=`${e}Adapter`;return Reflect.set(this,r,t),"onEvery"in t&&t.onEvery(((t,r)=>{this.bridge.emit({method:`${e}.${t}`,params:r})})),this},this.options=t,this.handler=this.handleCommand.bind(this),this.bridge=e,this.bridge.on("command",this.handler),this.fallbackAdapter=new F6e(e)}destroy(){this.bridge.off("command",this.handler)}handleCommand(e){var t,r;return $6e(this,void 0,void 0,(function*(){var n,{id:i,method:a,params:o}=e,[s,l]=a.split("."),c=`${s}Adapter`,u=null!==(t=Reflect.get(this,c))&&void 0!==t?t:this.fallbackAdapter;if(u.enabled||"enable"===l)try{n=null!==(r=yield u[l](o))&&void 0!==r?r:{}}catch(i){this.options.printError&&console.error(`inspectee ${a} error:`,i),n={message:"N/A"}}else n={message:"disabled, enable it first"};this.bridge.reply(i,n)}))}}var hrt=new f8e(1);function frt({beforeInvoke:e,afterInvoke:t,console:r=globalThis.console}){var n={},i=r,a=function(){var[r,a]=o;n[r]="function"==typeof a&&"debug"!==r?function(...n){null==e||e({method:r,args:n,originConsole:i});var a=i[r](...n);return null==t||t({method:r,args:n,ret:a,originConsole:i}),a}:a};for(var o of Object.entries(r))a();return n}function grt(e){var t=Object.assign({},console);return console=frt(e),{originConsole:t,console:console}}var vrt=e=>!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then,mrt=new WeakMap,yrt=new Map,brt=new Map,_rt=new Map,wrt=()=>yrt.size,Srt=(e,t)=>{var r=brt.get(t);r?r.push(e):brt.set(t,[e]),_rt.set(e,t)},Crt=e=>_rt.get(e),krt=e=>{var t=brt.get(e);if(t)for(var r of t)yrt.delete(r),_rt.delete(r)},Irt=(e,t={})=>{var r,n,i={},a=typeof e,o="";try{o=null===(r=null==e?void 0:e.toString)||void 0===r?void 0:r.call(e)}catch(e){o={}.toString()}if("object"===a||"function"===a||"symbol"===a){if(mrt.has(e))i.objectId=mrt.get(e);else{i.objectId=hrt.id.toString();try{e&&e instanceof Object&&mrt.set(e,i.objectId)}catch(t){console.error("objectToRemoteIdMap fail",t,e)}yrt.set(i.objectId,e),t.objectGroup&&Srt(i.objectId,t.objectGroup)}if("object"===a){var s,l=null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name;if(l&&(i.className=l),Array.isArray(e)?s="array":null===e?s="null":e instanceof RegExp?s="regexp":e instanceof Date?s="date":e instanceof Map?s="map":e instanceof Set?s="set":e instanceof WeakMap?s="weakmap":e instanceof WeakSet?s="weakset":e instanceof Error?s="error":vrt(e)?s="promise":function(e){try{return[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].some((t=>e instanceof t))}catch(e){return!1}}(e)?s="typedarray":e instanceof ArrayBuffer?s="arraybuffer":e instanceof DataView?s="dataview":globalThis.WebAssembly&&e instanceof globalThis.WebAssembly.Memory&&(s="webassemblymemory"),s&&(i.subtype=s),null!=e&&t.generatePreview){var c={type:a,description:o,properties:Object.keys(e).flatMap((r=>e===globalThis&&"BabelRuntimeHelpers"===r?[]:Object.assign({name:r},Irt(e[r],Object.assign(Object.assign({},t),{generatePreview:!1}))))),overflow:!0};s&&(c.subtype=s),"map"===s?c.entries=[...e].map((([e,r])=>({key:e,value:Irt(r,Object.assign(Object.assign({},t),{generatePreview:!1}))}))):"set"===s&&(c.entries=[...e].map((e=>({value:Irt(e,Object.assign(Object.assign({},t),{generatePreview:!1}))})))),i.preview=c}}}else i.value=e;return Object.assign({type:a,description:o},i)},Prt=e=>{yrt.get(e)&&yrt.delete(e)},Art=e=>yrt.get(e),xrt=(e,t={})=>{var r=Irt(e,t);if(e instanceof Error){var{name:n,message:i}=e;return{text:n,exception:r}}return{text:"Unknown Error",exception:r}},Trt=(e,t)=>{var{configurable:r=!1,enumerable:n=!1,writable:i=!1,value:a,get:o}=t;return{configurable:r,enumerable:n,writable:i,name:e}};class Ert extends j6e{constructor(e,t){super(e),this._executionContextId=1;var{evalFn:r=globalThis.eval,executionContextId:n=1}=t;this.evalFn=r,this._executionContextId=n,this._hookedConsole=this.getHookedConsole(n)}get executionContextId(){return this._executionContextId}get hookedConsole(){return this._hookedConsole}get remoteObjectAmount(){return wrt()}getHookedConsole(e){return frt({beforeInvoke:({method:e,args:t})=>this.callConsoleAPI(e,t)})}callConsoleAPI(e,t,r=Date.now(),n=this._executionContextId){this.bridge.emit({method:"Runtime.consoleAPICalled",params:{type:e,args:t.map((e=>Irt(e,{objectGroup:"console",generatePreview:!0}))),executionContextId:n,timestamp:r}})}hookConsole(){var e;null!==(e=Reflect.get(console,Symbol.for("hooked")))&&void 0!==e&&e||(console=this._hookedConsole),Reflect.set(console,Symbol.for("hooked"),!0)}awaitPromise(e){var t;return $6e(this,void 0,void 0,(function*(){var{promiseObjectId:r}=e,n=Art(r),i=null!==(t=Crt(r))&&void 0!==t?t:"promise";if(vrt(n)){var a={objectGroup:i};try{return{result:Irt(yield n,a)}}catch(e){return{exceptionDetails:xrt(e,a),result:Irt(e,a)}}}var o="no such promise";return{exceptionDetails:xrt(o),result:Irt(o)}}))}callFunctionOn(e){var t,r;return $6e(this,void 0,void 0,(function*(){if("string"!=typeof e.objectId)throw new Error("callFunctionOn with params.executionContextId not implemented");var n,i=Art(e.objectId),a=null!==(r=null===(t=e.arguments)||void 0===t?void 0:t.map((e=>"string"==typeof e.objectId?Art(e.objectId):e.value)))&&void 0!==r?r:[];try{n=this.evalFn(`(${e.functionDeclaration})`).apply(i,a)}catch(i){if(!e.silent)throw i}return{result:Irt(n)}}))}compileScript(e){throw q6e}discardConsoleEntries(){throw q6e}evaluate(e){return $6e(this,void 0,void 0,(function*(){var{expression:t,awaitPromise:r,returnByValue:n,generatePreview:i=!0,objectGroup:a}=e;try{var o=this.evalFn.call(globalThis,t);return r&&vrt(o)&&(o=yield o),{result:Irt(o,{returnByValue:n,generatePreview:i,objectGroup:a})}}catch(t){return{exceptionDetails:xrt(t),result:Irt(t,{objectGroup:a})}}}))}getIsolateId(){throw q6e}getHeapUsage(){throw q6e}getProperties(e){return $6e(this,void 0,void 0,(function*(){var{objectId:t,ownProperties:r=!0,accessorPropertiesOnly:n=!1}=e,i=Art(t),a=Crt(t),o=[],s={result:o},l=[];if(!i)return s;for(var c of Object.keys(i)){var u=Reflect.getOwnPropertyDescriptor(i,c);u&&o.push(Object.assign(Object.assign({},u),{name:c,isOwn:!0}))}if(i instanceof Map){var d=[...i];o.push({name:"[[Entries]]",value:d.length?d.map((([e,t])=>({key:e,value:t}))):"no entry"}),d.length&&o.push({name:"size",value:i.size})}if(i instanceof Set){var p=[...i];o.push({name:"[[Entries]]",value:p.length?p:"no entry"}),p.length&&o.push({name:"size",value:i.size})}var h={objectGroup:a};if(o=o.flatMap((e=>{if(i===globalThis&&"BabelRuntimeHelpers"===e.name)return[];var{get:t,set:r,value:n}=e;return"value"in e&&(e["symbol"===n?"symbol":"value"]=Irt(n,h)),t&&(e.get=Irt(t,h)),r&&(e.set=Irt(r,h)),e})),n&&(o=o.filter((e=>e.get||e.set))),"object"==typeof i||"function"==typeof i){var f=Reflect.getPrototypeOf(i);l.push({name:"[[Prototype]]",value:Irt(f,h)})}return l.length&&(s.internalProperties=l),s}))}globalLexicalScopeNames(e){throw q6e}queryObjects(e){throw q6e}releaseObject(e){return $6e(this,void 0,void 0,(function*(){Prt(e.objectId)}))}releaseObjectGroup(e){return $6e(this,void 0,void 0,(function*(){krt(e.objectGroup)}))}runIfWaitingForDebugger(){throw q6e}runScript(e){throw q6e}setAsyncCallStackDepth(e){throw q6e}setCustomObjectFormatterEnabled(e){throw q6e}setMaxCallStackSizeToCapture(e){throw q6e}terminateExecution(){throw q6e}addBinding(e){throw q6e}removeBinding(e){throw q6e}on(e,t){throw q6e}}class Mrt{constructor(){this._eventMap=Object.create(null),this._allListeners=[]}on(e,t){return(this._eventMap[e]=this._eventMap[e]||[]).push(t),t}onEvery(e){return this._allListeners.push(e),e}once(e,t){var r=n=>{t(n),this.off(e,r)};return this.on(e,r),r}off(e,t){if(this._eventMap[e]){var r=this._eventMap[e].indexOf(t);-1!==r&&this._eventMap[e].splice(r,1)}}offEvery(e){var t=this._allListeners.indexOf(e);-1!==t&&this._allListeners.splice(t,1)}trigger(e,t){if(this._allListeners.length)for(var r=0,n=this._allListeners.length;r<n;r+=1)this._allListeners[r](e,t);var i=this._eventMap[e];if(i)for(var a=0,o=i.length;a<o;a+=1)i[a](t)}}function Rrt(e,t){var r=[e.left,e.top,e.left+e.width,e.top,e.left+e.width,e.top+e.height,e.left,e.top+e.height],n=parseFloat(t.marginLeft),i=parseFloat(t.marginTop),a=parseFloat(t.marginRight),o=parseFloat(t.marginBottom),s=parseFloat(t.borderLeftWidth),l=parseFloat(t.borderTopWidth),c=parseFloat(t.borderRightWidth),u=parseFloat(t.borderBottomWidth),d=parseFloat(t.paddingLeft),p=parseFloat(t.paddingTop),h=parseFloat(t.paddingRight),f=parseFloat(t.paddingBottom),g=[r[0]-n,r[1]-i,r[2]+a,r[3]-i,r[4]+o,r[5]+a,r[6]+o,r[7]-n],v=[r[0]+s,r[1]+l,r[2]-c,r[3]+l,r[4]-c,r[5]-u,r[6]+s,r[7]-u],m=[v[0]+d,v[1]+p,v[2]-h,v[3]+p,v[4]-h,v[5]-f,v[6]+d,v[7]-f];return{width:e.width,height:e.height,margin:g,border:r,padding:v,content:m}}class Ort{constructor(e,t={}){this._enabled=!1,this.tempId=new f8e(1),this._eventBus=new Mrt,this.tree=e,this.highlight=t.highlight,e.addEventListener(((e,t)=>{this._eventBus.trigger(e,t)}))}get enabled(){return this._enabled}disable(){return $6e(this,void 0,void 0,(function*(){this.tree.disableObservation(),this._enabled=!1}))}emit({method:e,params:t}){this._eventBus.trigger(e.substring(4),t)}getGlassEaselNodeFromParams(e){return $6e(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n,objectId:i}=e;if(r||n)t=this.tree.getNodeById(r||n);else if(i){var a=yield this.requestNode({objectId:i});t=this.tree.getNodeById(a.nodeId)}return t||null}))}collectClassNamesFromSubtree(e){return $6e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}copyTo(e){return $6e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}describeNode(e){return $6e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}discardSearchResults(e){return $6e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}enable(){return $6e(this,void 0,void 0,(function*(){this.tree.enableObservation(),this._enabled=!0}))}focus(e){return $6e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getAttributes(e){return $6e(this,void 0,void 0,(function*(){var{nodeId:t}=e,r=yield this.getGlassEaselNodeFromParams({nodeId:t});return r&&3===this.tree.getNodeType(r)?{attributes:this.tree.getAttributes(r)}:{attributes:[]}}))}getContentQuads(e){throw new Error("Method not implemented.")}getDocument(e){return $6e(this,void 0,void 0,(function*(){var{depth:t=2}=e;try{return{root:this.tree.getDocument({depth:t})}}catch(t){throw console.error(t),t}}))}getFlattenedDocument(e){throw new Error("Method not implemented.")}getNodesForSubtreeByStyle(e){throw new Error("Method not implemented.")}getOuterHTML(e){throw new Error("Method not implemented.")}getRelayoutBoundary(e){throw new Error("Method not implemented.")}getSearchResults(e){throw new Error("Method not implemented.")}highlightRect(){throw new Error("Method not implemented.")}markUndoableState(){throw new Error("Method not implemented.")}moveTo(e){throw new Error("Method not implemented.")}performSearch(e){throw new Error("Method not implemented.")}pushNodeByPathToFrontend(e){throw new Error("Method not implemented.")}pushNodesByBackendIdsToFrontend(e){return $6e(this,void 0,void 0,(function*(){var{backendNodeIds:t}=e;return{nodeIds:t}}))}redo(){throw new Error("Method not implemented.")}removeAttribute(e){return $6e(this,void 0,void 0,(function*(){var{nodeId:t,name:r}=e,n=yield this.getGlassEaselNodeFromParams(e);n&&this.tree.isElement(n)&&(this.tree.removeAttribute(n,r),this.emit({method:"DOM.attributeRemoved",params:{nodeId:t,name:r}}))}))}setAttributeValue(e){return $6e(this,void 0,void 0,(function*(){var{nodeId:t,name:r,value:n}=e,i=yield this.getGlassEaselNodeFromParams(e);i&&this.tree.isElement(i)&&(this.tree.setAttributeValue(i,r,n),this.emit({method:"DOM.attributeModified",params:{nodeId:t,name:r,value:n}}))}))}setAttributesAsText(e){return $6e(this,void 0,void 0,(function*(){var{name:t,nodeId:r,text:n}=e,i=yield this.getGlassEaselNodeFromParams(e);if(!i||!this.tree.isElement(i))throw new Error("invalid name");if(i){for(var a={},o=n.match(/(\w+)(-\w+)?\s*=\s*['"]([^"]*)['"]/g)||[],s=0,l=o.length;s<l;s++){var c=o[s].split("="),u=c[0].trim(),d=c[1]?c[1].trim().replace(/^"/,"").replace(/"$/,""):"true";a[u]=d,this.tree.getAttributeValue(i,u)!==d&&this.setAttributeValue({nodeId:r,name:u,value:d})}t&&!a[t]&&this.removeAttribute({nodeId:r,name:t})}}))}removeNode(e){return $6e(this,void 0,void 0,(function*(){var{nodeId:t}=e;this.tree.removeNode(t)}))}requestChildNodes(e){return $6e(this,void 0,void 0,(function*(){var{nodeId:t,depth:r=2,pierce:n}=e,i=this.tree.requestChildNodes(t,r);this.emit({method:"DOM.setChildNodes",params:{parentId:t,nodes:null!=i?i:[]}})}))}requestNode(e){return $6e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}resolveNode(e){return $6e(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n}=e;if(!r&&!n)throw new Error("invalid nodeId or backendNodeId");for(t=`temp${this.tempId.id}`;Reflect.has(globalThis,t);t=`temp${this.tempId.id}`);var i=this.tree.getNodeById(null!=r?r:n);return Reflect.set(globalThis,t,i),console.log(`%cNode saved as ${t}. If it warns, just ignore :)`,"color: #ffbb33"),console.log(t,i),{}}))}setFileInputFiles(e){throw new Error("Method not implemented.")}setNodeStackTracesEnabled(e){throw new Error("Method not implemented.")}getNodeStackTraces(e){throw new Error("Method not implemented.")}getFileInfo(e){throw new Error("Method not implemented.")}setInspectedNode(e){return $6e(this,void 0,void 0,(function*(){var{nodeId:t}=e;this.tree.setInspectedNode(t)}))}setNodeName(e){throw new Error("Method not implemented.")}setNodeValue(e){return $6e(this,void 0,void 0,(function*(){var{value:t}=e,r=yield this.getGlassEaselNodeFromParams(e);r&&this.tree.isTextNode(r)&&1===this.tree.getNodeType(r)&&(r.textContent=t)}))}setOuterHTML(e){throw new Error("Method not implemented.")}undo(){throw new Error("Method not implemented.")}getFrameOwner(e){throw new Error("Method not implemented.")}getContainerForNode(e){throw new Error("Method not implemented.")}scrollIntoViewIfNeeded(e){var t,r;return $6e(this,void 0,void 0,(function*(){var{nodeId:n,backendNodeId:i,objectId:a,rect:o}=e,s=yield this.getGlassEaselNodeFromParams({nodeId:n,backendNodeId:i,objectId:a});null===(r=null===(t=null==s?void 0:s.$$)||void 0===t?void 0:t.scrollIntoView)||void 0===r||r.call(t)}))}getNodeForLocation(e){return $6e(this,void 0,void 0,(function*(){var t=this,{x:r,y:n}=e,i=this.tree.roots,a=function*(){var e=o.getBackendContext(),i=yield new Promise((t=>{var i;return null===(i=null==e?void 0:e.elementFromPoint)||void 0===i?void 0:i.call(e,r,n,t)})),a=i?t.tree.findLogicalParent(i.__wxElement):null;if(!a)return"continue";var s=t.tree.requestIdForNode(a);return{v:{nodeId:s,backendNodeId:s,frameId:"n/a"}}};for(var o of i){var s=yield*a();if("continue"!==s&&"object"==typeof s)return s.v}var l=this.tree.documentId;return{nodeId:l,backendNodeId:l,frameId:"n/a"}}))}hideHighlight(){var e;return $6e(this,void 0,void 0,(function*(){this.highlight&&(null===(e=this.highlight)||void 0===e||e.hide())}))}highlightNode(e){var t;return $6e(this,void 0,void 0,(function*(){if(this.highlight){var{nodeId:r,backendNodeId:n,objectId:i,selector:a,highlightConfig:o={}}=e||{},s=yield this.getGlassEaselNodeFromParams({nodeId:r,backendNodeId:n,objectId:i});if(s){if(a&&!this.tree.isTextNode(s)&&(s=s.querySelector(a)),!s)throw new Error("can not found node");null===(t=this.highlight)||void 0===t||t.show(s,o)}}}))}querySelector(e){return $6e(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e,n=yield this.getGlassEaselNodeFromParams({nodeId:t});if(!n||this.tree.isTextNode(n))return{nodeId:t};var i=-1;return n.querySelector(r)&&(i=this.tree.requestIdForNode(n)),{nodeId:i}}))}querySelectorAll(e){return $6e(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e,n=yield this.getGlassEaselNodeFromParams({nodeId:t});if(!n||this.tree.isTextNode(n))return{nodeIds:[]};var i=n.querySelectorAll(r),a=[];return(null==i?void 0:i.length)&&(a=i.map((e=>this.tree.requestIdForNode(e)))),{nodeIds:a}}))}getBoxModel(e){return $6e(this,void 0,void 0,(function*(){var t=yield this.getGlassEaselNodeFromParams(e),r=null==t?void 0:t.getBackendContext();if(!t||this.tree.isTextNode(t)||this.tree.isVirtual(t)||!r){var n=Array(8).fill(0);return{model:{width:0,height:0,content:n,padding:n,border:n,margin:n}}}var i=t.getBackendElement(),[a]=yield V6e(t,"getBoundingClientRect"),[{properties:o}]=yield Qtt(r,"getAllComputedStyles",i),s={};for(var l of o)s[l.name]=l.value;return{model:Rrt(a,{borderLeftWidth:s["border-left-width"]||"0",borderTopWidth:s["border-top-width"]||"0",borderRightWidth:s["border-right-width"]||"0",borderBottomWidth:s["border-bottom-width"]||"0",paddingLeft:s["padding-left"]||"0",paddingTop:s["padding-top"]||"0",paddingRight:s["padding-right"]||"0",paddingBottom:s["padding-bottom"]||"0",marginLeft:s["margin-left"]||"0",marginTop:s["margin-top"]||"0",marginRight:s["margin-right"]||"0",marginBottom:s["margin-bottom"]||"0"})}}))}on(e,t){this._eventBus.on(e,t)}onEvery(e){this._eventBus.onEvery(e)}}class Drt extends Ort{constructor(e,t){var r;super(e,t),this.skylineEngine=null===(r=t.getSkylineEngine)||void 0===r?void 0:r.call(t)}enable(){var e=Object.create(null,{enable:{get:()=>super.enable}});return $6e(this,void 0,void 0,(function*(){yield e.enable.call(this),this.skylineContext=this.skylineEngine.getRuntime().allContexts[1]}))}scrollIntoViewIfNeeded(e){var t;return $6e(this,void 0,void 0,(function*(){var{nodeId:r,backendNodeId:n,objectId:i,rect:a}=e,o=yield this.getGlassEaselNodeFromParams({nodeId:r,backendNodeId:n,objectId:i});null===(t=null==o?void 0:o.$$)||void 0===t||t.setScrollPosition({scrollLeft:0,scrollTop:10})}))}getNodeForLocation(e){var t;return $6e(this,void 0,void 0,(function*(){var{x:r,y:n}=e;if(!(null===(t=this.skylineContext)||void 0===t?void 0:t.getNodeFromPoint))throw new Error("Method getNodeFromPoint not implemented.");var i=(yield U6e(this.skylineContext.getNodeFromPoint)([r,n])).__wxElement;if(!i)throw new Error("");var a=this.tree.requestIdForNode(i);return{nodeId:a,backendNodeId:a,frameId:"n/a"}}))}hideHighlight(){return $6e(this,void 0,void 0,(function*(){this.highlight&&this.highlight.hide()}))}highlightNode(e){return $6e(this,void 0,void 0,(function*(){if(this.highlight){var{nodeId:t,backendNodeId:r,objectId:n,selector:i,highlightConfig:a={}}=e||{},o=yield this.getGlassEaselNodeFromParams({nodeId:t,backendNodeId:r,objectId:n});if(!o)throw new Error("can not found node");this.highlight.show(o,a)}}))}querySelector(e){return $6e(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e;return yield this.getGlassEaselNodeFromParams({nodeId:t}),{nodeId:1e3}}))}querySelectorAll(e){return $6e(this,void 0,void 0,(function*(){return{nodeIds:[]}}))}getBoxModel(e){return $6e(this,void 0,void 0,(function*(){console.log("getBoxModel",e);var t=yield this.getGlassEaselNodeFromParams(e),r=null==t?void 0:t.getBackendContext();if(!t||this.tree.isTextNode(t)||this.tree.isVirtual(t)||!r){var n=Array(8).fill(0);return{model:{width:0,height:0,content:n,padding:n,border:n,margin:n}}}var i=t.getBackendElement(),[a]=yield V6e(t,"getBoundingClientRect");console.log("getBoundingClientRect",a);var[o]=yield V6e(r,"getComputedStyle",i);return console.log("getComputedStyle",o),{model:Rrt(a,o)}}))}}var Lrt="#text",Nrt=new Set(["class","is"]);class Brt{constructor({exparser:t,roots:r,isInnerComponent:n,hideVirtual:i=!0,hideInternelAttrs:a=!0,readAttrFromBackendElement:o=!1}){var s;this.name="mini-app",this.nodeId=new e(4),this.inspectedId=new e(0),this.nodeIdMap=new WeakMap,this.idNodeMap=new Map,this._listeners=[],this.sentNodeIdSet=new Set,this.exparser=t(),this._roots=r,this.options={isInnerComponent:n,hideVirtual:i,hideInternelAttrs:a,readAttrFromBackendElement:o},this.document={nodeId:1,backendNodeId:1,childNodeCount:1,children:[],nodeType:9,nodeName:"#document"};var l=this.documentType={parentId:1,nodeId:2,backendNodeId:2,nodeType:10,nodeName:this.name};null===(s=this.document.children)||void 0===s||s.push(l)}get inspectedNode(){return this._inspectedNode}get roots(){return this._roots}get documentId(){return this.document.nodeId}setMode(e){}enableObservation(){}disableObservation(){}emitter({method:e,params:t}){this._listeners.forEach((r=>{r(e.substring(4),t)}))}insertRoot(e){var t;if(!this._roots.includes(e)){this._roots.push(e);var r=this._roots[this._roots.length-2],n=this.document.nodeId,i=null!==(t=this.nodeIdMap.get(r))&&void 0!==t?t:this.documentType.nodeId,a=this.domify({node:e,parentId:n});if(a){var o=Array.isArray(a)?a:[a];for(var s of o)this.emitter({method:"DOM.childNodeInserted",params:{previousNodeId:i,parentNodeId:n,node:s}}),i=s.nodeId;this.emitter({method:"DOM.childNodeCountUpdated",params:{nodeId:this.document.nodeId,childNodeCount:this._roots.length+1}})}}}removeRoot(e){var t,r;if(this._roots.includes(e)){this._roots=this._roots.filter((t=>t!==e));var n=null!==(t=this.nodeIdMap.get(e))&&void 0!==t?t:-1,i=this.document.nodeId,{observer:a}=null!==(r=this.idNodeMap.get(n))&&void 0!==r?r:{};this.nodeIdMap.delete(e),this.idNodeMap.delete(n),this.sentNodeIdSet.delete(n),null==a||a.disconnect(),this.emitter({method:"DOM.childNodeRemoved",params:{parentNodeId:i,nodeId:n}}),this.emitter({method:"DOM.childNodeCountUpdated",params:{nodeId:this.document.nodeId,childNodeCount:this._roots.length+1}})}}getExparser(e){return this.exparser}isAlreadySent(e){return this.sentNodeIdSet.has(e)}addToMap(e,t){this.nodeIdMap.set(e,t),this.idNodeMap.set(t,{node:new WeakRef(e)}),e.setAttribute&&e.setAttribute("wx:nodeid",t)}removeNode(e){var t,r=this.getNodeById(e);r&&!this._roots.includes(r)&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r),this.nodeIdMap.delete(r),this.idNodeMap.delete(e))}getNodeById(e){var t,r;return null===(r=null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.node)||void 0===r?void 0:r.deref()}getCachedCDPNode(e){var t;return null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.cdpCache}requestIdForNode(e,t=!0){var r=this.nodeIdMap.get(e);return!r&&t&&(r=this.nodeId.id,this.addToMap(e,r)),r}isWxComponent(e){var t,r;return this.isNamedNode(e)&&"string"==typeof(null===(r=(t=this.options).isInnerComponent)||void 0===r?void 0:r.call(t,e))}isInnerComponent(e){var t,r,n;return this.isElement(e)&&null!==(n=null===(r=(t=this.options).isInnerComponent)||void 0===r?void 0:r.call(t,e))&&void 0!==n?n:null}isElement(e){return e instanceof this.getExparser(e).Element}isNativeNode(e){return e instanceof this.getExparser(e).NativeNode}isTextNode(e){return e instanceof this.getExparser(e).TextNode}isGeneralComponent(e){return e instanceof this.getExparser(e).Component}isNamedNode(e){return"is"in e}getNodeType(e){if(!e)return 0;var t=this.getExparser(e);return e instanceof t.TextNode?1:e instanceof t.ShadowRoot?6:e instanceof t.VirtualNode?2:e instanceof t.Component?3:e instanceof t.NativeNode?4:e instanceof t.Element?5:0}getNodeName(e){var t;if(1===this.getNodeType(e))return"";var r=null!==(t=e.is)&&void 0!==t?t:"";return this.isWxComponent(e)?r.slice(3):r}getSlotName(e){return e.__slotName}getChildren(e){var t=[],r=this.getNodeType(e);if(void 0!==this.getSlotName(e))t.push(...this.getComposedChildren(e));else if(3===r){if(!this.isWxComponent(e)){var n=e.shadowRoot;6===this.getNodeType(n)&&t.push(n)}t.push(...e.childNodes)}else(4===r||6===r||2===r&&["virtual","wx:if","wx:for","wx:for-item","wx:else"].includes(e.is))&&t.push(...e.childNodes);return t}domify({node:e,nodeId:t,currentDepth:r=1,depth:n=1,parentId:i,env:a={}}={}){if(!e&&!t)return null;if(e?this.nodeIdMap.has(e)||(t=this.nodeId.id,this.addToMap(e,t)):e=this.getNodeById(t),!e)return null;t||(t=this.nodeIdMap.get(e));var o=this.getNodeType(e),s={type:o};if(3!==o&&4!==o||this.observeNode({nodeId:t}),1===o)return this.sentNodeIdSet.add(t),{nodeId:t,parentId:i,backendNodeId:t,nodeType:3,nodeName:Lrt,localName:Lrt,nodeValue:e.textContent};var l=e;s.parentId=i,s.nodeId=s.backendNodeId=t,6===o?(s.nodeType=11,s.nodeName=s.localName="#shadow-root"):(s.nodeType=1,s.nodeName=s.localName=this.getNodeName(e));var c=this.getChildren(l),u=[],d=this.getSlotName(e);if(this.options.hideVirtual&&2===o&&void 0===d)return c.forEach(((e,t)=>{var a=this.domify({node:e,depth:n,currentDepth:r,parentId:i});a&&(Array.isArray(a)?u.push(...a):u.push(a))})),u;if(r<=n||-1===n){var p=this.idNodeMap.get(t);p&&(p.cdpCache=s),this.sentNodeIdSet.add(t),c.forEach(((e,t)=>{var i=this.domify({node:e,depth:n,currentDepth:r+1,parentId:s.nodeId});i&&(Array.isArray(i)?u.push(...i):u.push(i))})),void 0!==d?(s.distributedNodes=u.map((e=>({backendNodeId:e.backendNodeId,nodeName:e.nodeName,nodeType:e.nodeType}))),s.childNodeCount=0,s.nodeName="SLOT",d.length>0&&(s.attributes=["name",d])):(s.children=r!==n&&u.length?u:void 0,s.childNodeCount=u.length)}var h=this.getAttributes(l);return h.length&&(Array.isArray(s.attributes)?s.attributes.push(...h):s.attributes=h),s}getAttributes(e){this.spreadScopeData();var r=[];if(!this.isElement(e)&&!this.isNativeNode(e))return r;e.id&&r.push("id",e.id),e.slot&&r.push("slot",e.slot);var n=t(e);n&&r.push("class",n.join(" "));var i=this.getAttributeValue(e,"style");if(i&&r.push("style",String(i)),this.options.readAttrFromBackendElement)e.$$&&"attributes"in e.$$&&Object.values(e.$$.attributes).forEach((e=>{var t;this.checkAttr(e.name)&&r.push(e.name,null!==(t=e.textContent)&&void 0!==t?t:"")}));else if(e.attributes)for(var{name:a,value:o}of e.attributes)a&&this.checkAttr(a)&&r.push(a,o?String(o):"");var s=Reflect.get(e,"__listenerMap__");s&&Object.entries(s).forEach((e=>r.push(...e)));for(var l=0;l<r.length;++l)"function"==typeof r[l]&&(r[l]=r[l].name);return r}checkAttr(e){var t=Nrt.has(e),r=this.options.hideInternelAttrs&&/^(wx|exparser):/.test(e);return!t&&!r}removeAttribute(e,t){var r;"id"===t?e.id="":"slot"===t?e.slot="":"class"===t?null===(r=e.classList)||void 0===r||r.setClassNames(""):"style"===t?e.setNodeStyle(""):e.removeAttribute(t)}getAttributeValue(e,t){var r,n,i;return"id"===t?e.id:"slot"===t?e.slot:"class"===t?null!==(n=null===(r=e.classList)||void 0===r?void 0:r.getClassNames())&&void 0!==n?n:"":"style"===t?(null===(i=e.$$)||void 0===i?void 0:i.getAttribute("style"))||"":String(e.getAttribute(t))}setAttributeValue(e,t,r){var n;return"id"===t?e.id=r:"slot"===t?e.slot=r:"class"===t?null===(n=e.classList)||void 0===n||n.setClassNames(r):"style"===t?e.setNodeStyle(r):e.setAttribute(t,r),!0}getPublicProperties(e){var t=[];return this.isGeneralComponent(e)?(this.exparser.Component.listPublicProperties(e).forEach((r=>{t.push([r,e.data[r]])})),t):t}setInspectedNode(e){return this._inspectedNode=this.getNodeById(e),this._inspectedNode?e:null}getInspectedNode(){return this._inspectedNode}setInspectedNodeForExparser(e){var t,{node:r,variableName:n}=null!==(t=this.idNodeMap.get(e))&&void 0!==t?t:{},i=null==r?void 0:r.deref();if(!i)return null;var a=n;if(!a){for(a=`$$${this.inspectedId.id}`;Reflect.has(globalThis,a);)a=`$$${this.inspectedId.id}`;var o=this.idNodeMap.get(e);o&&(o.variableName=a)}return Reflect.set(globalThis,a,i),a}isVirtual(e){var t=this.getNodeType(e);return 2===t||6===t||3===t&&e.__componentOptions.virtualHost}isGenericVirtual(e){return e instanceof this.getExparser(e).VirtualNode}isShadowRoot(e){return 6===this.getNodeType(e)}findNearestNonVirtualAncestor(e){for(var t=e.parentNode;t&&this.isVirtual(t);)t=t.parentNode;return t}findLogicalParent(e){return this.options.hideVirtual?this.findNearestNonVirtualAncestor(e):6===this.getNodeType(e)?e.getComposedParent():e.parentNode}findParent(e){return 6===this.getNodeType(e)?e.getComposedParent():e.parentNode}getComposedParent(e){return e.getComposedParent?e.getComposedParent():e.__wxSlotParent}getComposedChildren(e){return e.getComposedChildren?e.getComposedChildren():e.__wxSlotChildren.slice()}getSibling(e,t="prev"){var{hideVirtual:r}=this.options,n=this.findParent(e);if(!n)return null;var i,a=this.getChildren(n),o=Array.prototype.indexOf.call(a,e);if(a.length<2||o<0||"next"===t&&o===a.length-1||"prev"===t&&0===o)return r&&this.isVirtual(n)?this.getSibling(n,t):null;if("prev"===t)for(i=a[o-1];i&&r&&this.isVirtual(i);){var s=this.getChildren(i);i=s[s.length-1]}else for(i=a[o+1];i&&r&&this.isVirtual(i);)i=this.getChildren(i)[0];return null!=i?i:null}observeNode({nodeId:e=-1}){var t,r,{node:n,observer:i}=null!==(t=this.idNodeMap.get(e))&&void 0!==t?t:{},a=null==n?void 0:n.deref();if(a){if(i)return i.disconnect;var o=this.getExparser(a);return o||console.warn("exparser not found",{exparser:o,node:a,nodeId:e}),i=null==o?void 0:o.Observer.create((e=>{var t,r,n,i,a,o,s,l,c,u,d,p,h,f,g;if(e.target){var v=e.target,m=this.requestIdForNode(v);switch(e.type){case"characterData":var y=v.textContent;this.emitter({method:"DOM.characterDataModified",params:{nodeId:m,characterData:y}});break;case"properties":var b=null!==(r=null!==(t=e.propertyName)&&void 0!==t?t:e.attributeName)&&void 0!==r?r:"",_=["id","class","style"].includes(b)?this.getAttributeValue(v,b):null!==(a=null!==(n=v[b])&&void 0!==n?n:null===(i=v.data)||void 0===i?void 0:i[b])&&void 0!==a?a:null===(o=v.dataset)||void 0===o?void 0:o[b];void 0!==_?this.emitter({method:"DOM.attributeModified",params:{nodeId:m,name:b,value:_}}):this.emitter({method:"DOM.attributeRemoved",params:{nodeId:m,name:b}});break;case"childList":var w=this.findLogicalParent(v),S=w&&null!==(s=this.nodeIdMap.get(w))&&void 0!==s?s:-1,{cdpCache:C}=null!==(l=this.idNodeMap.get(S))&&void 0!==l?l:{},k=null!==(c=null==C?void 0:C.childNodeCount)&&void 0!==c?c:0;if(e.removedNodes)for(var I of(k-=e.removedNodes.length,e.removedNodes)){var P=null!==(u=this.nodeIdMap.get(I))&&void 0!==u?u:-1,{observer:A}=null!==(d=this.idNodeMap.get(P))&&void 0!==d?d:{};this.emitter({method:"DOM.childNodeRemoved",params:{parentNodeId:S,nodeId:P}}),this.nodeIdMap.delete(I),this.idNodeMap.delete(P),null==A||A.disconnect()}if(e.addedNodes)for(var x of(k+=e.addedNodes.length,e.addedNodes)){var T=this.findLogicalParent(x),E=T&&null!==(p=this.nodeIdMap.get(T))&&void 0!==p?p:-1,M=this.getSibling(x),R=M&&null!==(h=this.nodeIdMap.get(M))&&void 0!==h?h:-1,O=this.domify({node:x,parentId:E});if(!O)break;var D=Array.isArray(O)?O:[O];for(var L of D)null===(f=this.emitter)||void 0===f||f.call(this,{method:"DOM.childNodeInserted",params:{parentNodeId:E,previousNodeId:R,node:L}}),R=L.nodeId;if(T){var N=this.domify({node:T,depth:1});if(!N||Array.isArray(N))break;k!==(null==C?void 0:C.childNodeCount)&&this.emitter({method:"DOM.childNodeCountUpdated",params:{nodeId:E,childNodeCount:null!==(g=N.childNodeCount)&&void 0!==g?g:0}})}}}}})),null==i||i.observe(a,{properties:!0,childList:!0,characterData:!0,subtree:!0}),this.idNodeMap.set(e,{node:new WeakRef(a),observer:i}),null!==(r=null==i?void 0:i.disconnect)&&void 0!==r?r:()=>{}}}getDocument({depth:e}={}){if(!this._roots.length)return this.document;this.sentNodeIdSet.clear();var t=this._roots.flatMap((t=>this.domify({node:t,depth:e,parentId:this.document.nodeId})||[]));return this.document.children=[this.documentType,...t],this.document.childNodeCount=this.document.children.length,this.document}requestChildNodes(e,t){var r,n=this.requestNode(e,t);return n?null!==(r=n.children)&&void 0!==r?r:[]:null}requestNode(e,t){if(1===e)return this.getDocument({depth:t});var r=this.domify({depth:t,nodeId:e});return!r||Array.isArray(r)?null:r}addEventListener(e){this._listeners.push(e)}removeEventListener(e){this._listeners.splice(this._listeners.indexOf(e),1)}spreadScopeData(){var e;null===(e=this.virtualDOM)||void 0===e||e.spreadScopeDataToDOMNode()}elementFromPoint(e,t){if(!(null===document||void 0===document?void 0:document.elementFromPoint))throw new Error("Method not implemented.");return document.elementFromPoint(e,t).__wxElement}getNodeFromCDPParams({nodeId:e,backendNodeId:t,objectId:r}){var n;return(e||t)&&(n=this.getNodeById(e||t)),n||null}}var $rt="#text",jrt="#document",Frt="#shadow-root";class Wrt{constructor(e,t,r={}){var n;this.name="miniprogram",this.nodeId=new f8e(1),this.inspectedId=new f8e(1),this.nodeIdMap=new Map,this.idNodeMap=new Map,this._documentSend=!1,this._listeners=[],this._nodeObserversMap=new Map,this._enableObservation=!1,this.sentNodeIdSet=new Set,this.sentChildNodeIdSet=new Set,this.emitCDPMessage=(e,t)=>{this._listeners.forEach((r=>r(e,t)))},this.glassEasel=e,this._roots=t,this.options=r,this._mode=null!==(n=r.mode)&&void 0!==n?n:irt.SHADOW_SKIP_VIRTUAL;var i=this.nodeId.generate();this.document={nodeId:i,backendNodeId:i,childNodeCount:1,children:[],nodeType:9,nodeName:jrt,localName:jrt,nodeValue:""};var a=this.nodeId.generate();this.documentType={parentId:i,nodeId:a,backendNodeId:a,nodeType:10,nodeName:this.name,localName:this.name,nodeValue:"",attributes:["mode",this.getMode()]},this.document.children.push(this.documentType)}getMode(){return this._mode}setMode(e){this._mode!==e&&(this._mode=e,this.resetDocument())}get inspectedNode(){return this._inspectedNode}get roots(){return this._roots}get documentId(){return this.document.nodeId}isInnerComponent(e){return this.options.isInnerComponent&&this.isElement(e)?this.options.isInnerComponent(e):null}enableObservation(){this._enableObservation||(this._enableObservation=!0,this._reset(),this._roots.forEach((e=>this._observeTree(e))))}disableObservation(){this._enableObservation&&(this._enableObservation=!1,this._reset())}insertRoot(e){if(!this._roots.includes(e)){var t=this._roots[this._roots.length-1];if(this._roots.push(e),this._enableObservation&&(this._observeTree(e),this._documentSend)){var r=this.document.nodeId,n=t?this.nodeIdMap.get(t):0;this.emitCDPMessage("childNodeInserted",{parentNodeId:r,previousNodeId:n,node:this._getCDPNode(e,r,0)})}}}removeRoot(e){if(this._roots.includes(e)&&(this._roots.splice(this._roots.indexOf(e),1),this._enableObservation&&(this._unobserveTree(e),this._documentSend))){var t=this.document.nodeId,r=e?this.nodeIdMap.get(e):0;this.emitCDPMessage("childNodeRemoved",{parentNodeId:t,nodeId:r})}}isAlreadySent(e){return this.sentNodeIdSet.has(e)}isChildNodeAlreadySent(e){return this.sentChildNodeIdSet.has(e)}addEventListener(e){this._listeners.push(e)}removeEventListener(e){this._listeners.splice(this._listeners.indexOf(e),1)}addToMap(e,t){this.nodeIdMap.set(e,t),this.idNodeMap.set(t,e)}removeNode(e){var t,r=this.getNodeById(e);r&&!this._roots.includes(r)&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r),this.nodeIdMap.delete(r),this.idNodeMap.delete(e))}getNodeById(e){return this.idNodeMap.get(e)}requestIdForNode(e,t=!0){var r=this.nodeIdMap.get(e);return!r&&t&&(r=this.nodeId.generate(),this.addToMap(e,r)),r}isElement(e){return this.glassEasel.Element.isElement(e)}isNativeNode(e){return this.glassEasel.NativeNode.isNativeNode(e)}isTextNode(e){return this.glassEasel.TextNode.isTextNode(e)}isGeneralComponent(e){return this.glassEasel.Component.isComponent(e)}isShadowRoot(e){return this.glassEasel.ShadowRoot.isShadowRoot(e)}isVirtualNode(e){return this.glassEasel.VirtualNode.isVirtualNode(e)}isVirtual(e){return this.isVirtualNode(e)||this.isGeneralComponent(e)&&e.isVirtual()}isSlotNode(e){return this.isElement(e)&&void 0!==this.glassEasel.Element.getSlotName(e)}isNamedNode(e){return this.isElement(e)}getNodeType(e){return e?this.isTextNode(e)?1:this.isShadowRoot(e)?6:this.isVirtualNode(e)?2:this.isGeneralComponent(e)?3:this.isNativeNode(e)?4:this.isElement(e)?5:0:0}_getNodeType(e){return this.isTextNode(e)?3:this.isShadowRoot(e)?11:1}getNodeName(e){if(this.isTextNode(e))return $rt;if(this.isShadowRoot(e))return Frt;if(this.isSlotNode(e))return"SLOT";var t=this.isInnerComponent(e);return null!==t?t:this.isNamedNode(e)?e.is:""}getNodeLocalName(e){return this.isTextNode(e)?$rt:this.isShadowRoot(e)?Frt:this.isNamedNode(e)?e.is:""}getSlotName(e){return this.glassEasel.Element.getSlotName(e)}shouldSkipVirtual(e){return!(!this.isVirtualNode(e)||this.isShadowRoot(e)||void 0!==this.getSlotName(e))}getChildren(e){var t;if(this.isTextNode(e))return[];var r=null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();if(r&&null!==this.isInnerComponent(r))return[];var n=null!==this.isInnerComponent(e);if(this.getMode()===irt.COMPOSED){var i=[];if(n)for(var a=e=>{if(this.isVirtual(e))for(var t=e.childNodes,r=0,n=t.length;r<n;r+=1)a(t[r]);else i.push(e)},o=e.childNodes,s=0,l=o.length;s<l;s+=1)a(o[s]);else e.forEachNonVirtualComposedChild((e=>{i.push(e)}));return i}var c=[];this.isGeneralComponent(e)&&!n&&e.getShadowRoot()&&c.push(e.getShadowRoot());for(var u=0;u<e.childNodes.length;u+=1){var d=e.childNodes[u];this.getMode()===irt.SHADOW_SKIP_VIRTUAL&&this.shouldSkipVirtual(d)?c.push(...this.getChildren(d)):c.push(d)}return c}getParent(e){var t,r=null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();if(r&&null!==this.isInnerComponent(r))return null;if(this.getMode()===irt.COMPOSED){for(var n=this.isVirtual(e)?null:e.getComposedParent();n&&this.isVirtual(n);)n=n.getComposedParent();return n}var i=this.shouldSkipVirtual(e)?null:this.isShadowRoot(e)?e.getHostNode():e.parentNode;if(this.getMode()===irt.SHADOW_SKIP_VIRTUAL)for(;i&&this.shouldSkipVirtual(i);)i=this.isShadowRoot(i)?i.getHostNode():i.parentNode;return i}findLogicalParent(e){var t,r=null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();if(r&&null!==this.isInnerComponent(r))return this.findLogicalParent(r);if(this.getMode()===irt.COMPOSED){for(var n=e;n&&this.isVirtual(n);)n=n.getComposedParent();return n}var i=e;if(this.getMode()===irt.SHADOW_SKIP_VIRTUAL)for(;i&&this.shouldSkipVirtual(i);)i=this.isShadowRoot(i)?i.getHostNode():i.parentNode;return i}findLogicalChildren(e){var t;if(this.isTextNode(e))return[e];var r=null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();return r&&null!==this.isInnerComponent(r)?[]:this.getMode()===irt.COMPOSED&&this.isVirtual(e)||this.getMode()===irt.SHADOW_SKIP_VIRTUAL&&this.shouldSkipVirtual(e)?this.getChildren(e):[e]}_observeTree(e){this.glassEasel.ElementIterator.create(e,"shadow-descendants-root-first").forEach((e=>{if(this.isGeneralComponent(e)){var t=e.getShadowRoot();t&&(this._observeElement(t),this._observeTree(t))}}))}_unobserveTree(e){this.glassEasel.ElementIterator.create(e,"shadow-descendants-root-first",Object).forEach((e=>{if(this.isGeneralComponent(e)){var t=e.getShadowRoot();t&&this._unobserveTree(t)}var r=this._nodeObserversMap.get(e);r&&(r.disconnect(),this._nodeObserversMap.delete(e));var n=this.nodeIdMap.get(e);void 0!==n&&(this.nodeIdMap.delete(e),this.idNodeMap.delete(n))}))}_disconnectAllObservers(){this._nodeObserversMap.forEach(((e,t)=>{e.disconnect(),this._nodeObserversMap.delete(t)}))}_observeElement(e){if(!this._nodeObserversMap.has(e)){var t=this.glassEasel.Observer.create((e=>{switch(e.type){case"characterData":var{target:t}=e,r=this.requestIdForNode(t,!1);if(!r||!this.isAlreadySent(r))return;this.emitCDPMessage("characterDataModified",{nodeId:r,characterData:t.textContent});break;case"properties":var{attributeName:n,target:i}=e;if(void 0===n)return;var a=this.requestIdForNode(i,!1);if(!a||!this.isAlreadySent(a))return;var o=this.getAttributeValue(i,n);void 0!==o?this.emitCDPMessage("attributeModified",{nodeId:a,name:n,value:String(o)}):this.emitCDPMessage("attributeRemoved",{nodeId:a,name:n});break;case"childList":var{target:s,removedNodes:l,addedNodes:c}=e;null==l||l.forEach((e=>{this._unobserveTree(e)})),null==c||c.forEach((e=>{this.isElement(e)&&this._observeTree(e)}));var u=this.findLogicalParent(s);if(!u)return;var d=this.requestIdForNode(s,!1);if(!d||!this.isAlreadySent(d))return;var p=this.isChildNodeAlreadySent(d),h=this.getChildren(u).length;null==l||l.forEach((e=>{p&&this.findLogicalChildren(e).forEach((e=>{var t=this.requestIdForNode(e,!1);t&&this.isAlreadySent(t)?this.emitCDPMessage("childNodeRemoved",{parentNodeId:d,nodeId:t}):console.error("unknown removedNode",this.glassEasel.dumpSingleElementToString(e))}))})),null==c||c.forEach((e=>{p&&this.findLogicalChildren(e).forEach((e=>{var t,r=this.findLogicalPrevSibling(e),n=r?this.nodeIdMap.get(r):0,i=this._getCDPNode(e,d,null!==(t=this.options.childInsertedSendDepth)&&void 0!==t?t:0);this.emitCDPMessage("childNodeInserted",{parentNodeId:d,previousNodeId:n,node:i})}))})),p||this.emitCDPMessage("childNodeCountUpdated",{nodeId:d,childNodeCount:h})}}));t.observe(e,{properties:!0,childList:!0,characterData:!0,subtree:!0}),this._nodeObserversMap.set(e,t)}}_getCDPNode(e,t,r){var n=this.requestIdForNode(e);if(this.sentNodeIdSet.add(n),this.isTextNode(e))return{nodeId:n,parentId:t,backendNodeId:n,nodeType:3,nodeName:$rt,localName:$rt,nodeValue:e.textContent};var i,a=this.isShadowRoot(e)?11:1,o=this.getNodeName(e),s=this.getNodeLocalName(e),l=this.getChildren(e);if(this.isSlotNode(e)){i=[];var c=e=>{if(this.getMode()===irt.SHADOW_SKIP_VIRTUAL&&this.shouldSkipVirtual(e))e.childNodes.forEach(c);else{var t=this.requestIdForNode(e),r=this._getNodeType(e),n=this.getNodeName(e);i.push({backendNodeId:t,nodeType:r,nodeName:n})}};e.getComposedChildren().forEach(c)}var u=this.getAttributes(e).flat(),d=0!==r;return d&&this.sentChildNodeIdSet.add(n),{nodeId:n,backendNodeId:n,parentId:t,nodeType:a,nodeName:o,localName:s,childNodeCount:l.length,children:d?l.map((e=>this._getCDPNode(e,n,r-1))):void 0,distributedNodes:i,attributes:u,nodeValue:""}}getAttributes(e){var t=[];if(!this.isElement(e))return t;var r=e.id;r&&t.push("id",r);var n=e.class;n&&t.push("class",n);var i=e.style;i&&t.push("style",String(i)),e.slot&&t.push("slot",e.slot);var a=this.getSlotName(e);a&&t.push("name",a);var o=e.attributes;if(o)for(var s=0;s<o.length;s+=1){var l=o[s];t.push(l.name,String(l.value))}var c=e.dataset;return c&&Object.entries(c).forEach((([e,r])=>{t.push(`data-${e}`,String(r))})),t}removeAttribute(e,t){"id"===t?e.id="":"slot"===t?e.slot="":"class"===t?e.class="":"style"===t?e.style="":"name"===t?this.glassEasel.Element.setSlotName(e,void 0):t.startsWith("data-")?e.setDataset(t.slice(5),void 0):e.removeAttribute(t)}getAttributeValue(e,t){return"id"===t?e.id:"slot"===t?e.slot:"class"===t?e.class:"style"===t?e.style:"name"===t?this.getSlotName(e)||"":t.startsWith("data-")?String(e.dataset[t.slice(5)]):String(e.getAttribute(t))}setAttributeValue(e,t,r){"id"===t?e.id=String(r):"slot"===t?e.slot=String(r):"class"===t?e.class=String(r):"style"===t?e.style=String(r):"name"===t?this.glassEasel.Element.setSlotName(e,String(r)):t.startsWith("data-")?e.setDataset(t.slice(5),r):e.setAttribute(t,r)}getPublicProperties(e){var t=[];return this.isGeneralComponent(e)?(this.glassEasel.Component.listProperties(e).forEach((r=>{t.push([r,e.data[r]])})),t):t}setInspectedNode(e){return this._inspectedNode=this.getNodeById(e),this._inspectedNode?e:null}getInspectedNode(){return this._inspectedNode}findLogicalPrevSibling(e){var t=this.getParent(e);if(!t)return null;var r=this.getChildren(t),n=r.indexOf(e);return n>=0?r[n]:null}_reset(){this._disconnectAllObservers(),this.sentNodeIdSet.clear(),this.sentChildNodeIdSet.clear(),this._documentSend=!1,this._enableObservation&&this._roots.forEach((e=>this._observeTree(e)))}resetDocument(){this._reset(),this.emitCDPMessage("documentUpdated",void 0)}getDocument({depth:e=2}={}){return this.document.children=[this.documentType,...this._roots.map((t=>this._getCDPNode(t,this.document.nodeId,e-1)))],this.document.childNodeCount=this.document.children.length,this._documentSend=!0,this.document}requestNode(e,t){var r=this.getNodeById(e);if(!r)return e===this.document.nodeId?this.document:e===this.documentType.nodeId?this.documentType:null;var n=this._roots.includes(r)?this.document.nodeId:this.requestIdForNode(this.getParent(r),!1);return this._getCDPNode(r,n,t)}requestChildNodes(e,t){var r=this.requestNode(e,t);return r?r.children:null}getSingleNodeHTML(e,t){if(this.isTextNode(e))return e.textContent;var r=this.getNodeName(e),n=this.getAttributes(e);return`<${r}${n?` ${n.map((([e,t])=>`${e}="${t}"`)).join(" ")}`:""}>${t?t():""}</${r}>`}getOuterHTML(e){var t=this.isElement(e)?this.getChildren(e).filter((e=>!this.isShadowRoot(e))):[];return this.getSingleNodeHTML(e,(()=>t.map((e=>this.getOuterHTML(e))).join("")))}elementFromPoint(e,t){return $6e(this,void 0,void 0,(function*(){var r=this,n=this.roots,i=function*(){var n=a.getBackendContext(),i=yield new Promise((r=>{var i;return null===(i=null==n?void 0:n.elementFromPoint)||void 0===i?void 0:i.call(n,e,t,r)})),o=i?r.findLogicalParent(i.__wxElement):null;if(o)return{v:o}};for(var a of n){var o=yield*i();if("object"==typeof o)return o.v}return null}))}getNodeFromCDPParams({nodeId:e,backendNodeId:t,objectId:r}){var n;return(e||t)&&(n=this.getNodeById(e||t)),n||null}}class Urt extends(null){constructor(){super(...arguments),this.maskElt=document.createElement("div"),this.handleClickEvents=e=>{e.preventDefault();var{x:t,y:r}=e,n=this.hitTest(t,r);return this.emitInspectNodeRequested(n),!1},this.handleMouseMoveEvents=n((t=>e(this,void 0,void 0,(function*(){var{x:e,y:r}=t,n=this.hitTest(e,r);if(n){var i=this.tree.requestIdForNode(n);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:i}}),this.highlight.show(n,{})}}))),50),this.handleMouseOutEvents=n((t=>e(this,void 0,void 0,(function*(){this.highlight.hide()}))),50)}findExparserNode(e){for(;e&&!e.__wxElement;e=e.parentElement);var t=null==e?void 0:e.__wxElement;if(t){var{exparser:r}=this.domAdapter.tree;return r.ElementIterator.create(t,"composed-ancestors",r.Element).forEach((e=>{var n;return"//"!==(null===(n=r.Component.getComponentOptions(e))||void 0===n?void 0:n.domain)||(t=e,!1)})),t}}hitTest(e,t){document.body.style.pointerEvents="";var r=document.elementFromPoint(e,t),n=r?this.findLogicalParent(r):null;return document.body.style.pointerEvents="none",n}handleMouseDownEvents(e){document.body.dispatchEvent(new CustomEvent("touchcancel"))}startInspect(e){document.body.style.pointerEvents="none",this.highlightConfig=e,window.addEventListener("click",this.handleClickEvents),window.addEventListener("mousedown",this.handleMouseDownEvents),window.addEventListener("mousemove",this.handleMouseMoveEvents,{passive:!1,capture:!0}),window.addEventListener("mouseout",this.handleMouseOutEvents)}stopInspect(){document.body.style.pointerEvents="",this.highlight.hide(),this.highlightConfig=void 0,window.removeEventListener("click",this.handleClickEvents),window.removeEventListener("mousedown",this.handleMouseDownEvents),window.removeEventListener("mousemove",this.handleMouseMoveEvents),window.removeEventListener("mouseout",this.handleMouseOutEvents),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}}class Vrt extends(null){constructor(r,n,i){super(r,n,i.highlight),this.handleClickEvents=e=>(e||this.highlight.hide(),this.emitInspectNodeRequested(e),!1),this.handleMouseOverEvents=e((e=>t(this,void 0,void 0,(function*(){if(e){var t=this.tree.requestIdForNode(e);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:t}}),this.highlight.show(e,this.highlightConfig)}else this.highlight.hide()}))),100,!0),this.getSkylineEngine=i.getSkylineEngine}highlightNode(e){return t(this,void 0,void 0,(function*(){if(this.highlightConfig){var t=this.tree.getNodeFromCDPParams(e);t&&!this.tree.isVirtual(t)&&this.highlight.show(t,this.highlightConfig)}}))}startInspect(e){return t(this,void 0,void 0,(function*(){this.highlightConfig=e,this.getSkylineEngine().getRuntime().startTouchEventInterception((e=>{var t=e.target;if(t){var r=t.__wxElement;"tap"===e.type?this.handleClickEvents(r):"mouseover"===e.type&&this.handleMouseOverEvents(r)}}))}))}setInspectMode(e){return t(this,void 0,void 0,(function*(){var{mode:t,highlightConfig:r}=e;switch(t){case"searchForNode":this.startInspect(r);break;case"none":this.stopInspect();break;default:throw new Error("Method not implemented.")}}))}stopInspect(){this.highlightConfig=void 0,this.getSkylineEngine().getRuntime().stopTouchEventInterception(),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}}class qrt extends j6e{constructor(e,t,r){super(e),this.tree=t,this.getSkylineRuntime=r.getSkylineRuntime,this.getSkylineEngine=r.getSkylineEngine,this.getContextId=r.getContextId}get skylineRuntime(){return this.getSkylineRuntime()}emitInspectNodeRequested(e){if(e){var t=this.tree.requestIdForNode(e);this.bridge.emit({method:"Overlay.inspectNodeRequested",params:{backendNodeId:t}})}}startInspect(e){this.highlightConfig=e,this.skylineRuntime.startTouchEventInterception,this.skylineRuntime.startTouchEventInterception((e=>{var{type:t,target:r}=e;if(r&&"touchend"===t)try{this.emitInspectNodeRequested(r.__wxElement)}catch(e){console.error("emitInspectNodeRequested err",e)}}))}stopInspect(){this.highlightConfig=void 0,this.skylineRuntime.stopTouchEventInterception(),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}getHighlightObjectForTest(e){throw new Error("Method not implemented.")}getGridHighlightObjectsForTest(e){throw new Error("Method not implemented.")}getSourceOrderHighlightObjectForTest(e){throw new Error("Method not implemented.")}hideHighlight(){return $6e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}highlightFrame(e){throw new Error("Method not implemented.")}highlightNode(e){return $6e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}highlightQuad(e){throw new Error("Method not implemented.")}highlightRect(e){throw new Error("Method not implemented.")}highlightSourceOrder(e){throw new Error("Method not implemented.")}setInspectMode(e){return $6e(this,void 0,void 0,(function*(){var{mode:t,highlightConfig:r}=e;switch(t){case"searchForNode":this.startInspect(r);break;case"none":this.stopInspect();break;default:throw new Error("Method not implemented.")}}))}setShowAdHighlights(e){throw new Error("Method not implemented.")}setPausedInDebuggerMessage(e){throw new Error("Method not implemented.")}setShowDebugBorders(e){throw new Error("Method not implemented.")}setShowFPSCounter(e){throw new Error("Method not implemented.")}setShowGridOverlays(e){throw new Error("Method not implemented.")}setShowFlexOverlays(e){throw new Error("Method not implemented.")}setShowScrollSnapOverlays(e){throw new Error("Method not implemented.")}setShowContainerQueryOverlays(e){throw new Error("Method not implemented.")}setShowPaintRects(e){throw new Error("Method not implemented.")}setShowLayoutShiftRegions(e){throw new Error("Method not implemented.")}setShowScrollBottleneckRects(e){throw new Error("Method not implemented.")}setShowHitTestBorders(e){throw new Error("Method not implemented.")}setShowWebVitals(e){throw new Error("Method not implemented.")}setShowViewportSizeOnResize(e){throw new Error("Method not implemented.")}setShowHinge(e){throw new Error("Method not implemented.")}}var zrt={objectGroup:"exparser"};class Grt{constructor(e,t){this._enabled=!1,this.inspectedId=new f8e(0),this.inspectVariableMap=new WeakMap,this.bridge=e,this.tree=t}get enabled(){return this._enabled}getGlassEaselNodeFromParams(e){return $6e(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n,objectId:i}=e;return(r||n)&&(t=this.tree.getNodeById(r||n)),t||null}))}logRemoteObject(e){return $6e(this,void 0,void 0,(function*(){return console.log(Art(e.objectId))}))}setInspectedNode(e){return $6e(this,void 0,void 0,(function*(){var t=this.tree.getNodeById(e.nodeId);if(!t)throw new Error("Failed to set inspected node");if(!this.inspectVariableMap.has(t)){for(var r=`$$${this.inspectedId.generate()}`;Reflect.has(globalThis,r);)r=`$$${this.inspectedId.generate()}`;this.inspectVariableMap.set(t,r)}var n=this.inspectVariableMap.get(t);return Reflect.set(globalThis,n,t),{variableName:n}}))}logToConsole(e){return $6e(this,void 0,void 0,(function*(){var{prefix:t,level:r="log"}=e,n=yield this.getGlassEaselNodeFromParams(e);n&&(t?console[r](t,n):console[r](n))}))}setTreeMode(e){return $6e(this,void 0,void 0,(function*(){this.tree.setMode(e.mode)}))}getNodeData(e){var t;return $6e(this,void 0,void 0,(function*(){var r=yield this.getGlassEaselNodeFromParams(e);return!r||this.tree.isInnerComponent(r)?{data:{}}:{data:null!==(t=r.data)&&void 0!==t?t:{}}}))}getNodeDetails(e){var t,r;return $6e(this,void 0,void 0,(function*(){var n=yield this.getGlassEaselNodeFromParams(e);if(!n)throw new Error("no such node");var i={},a={},o={},s={};if(!this.tree.isInnerComponent(n)){var{data:l}=yield this.getNodeData(e);for(var[c,u]of Object.entries(l))i[c]=Irt(u,zrt)}var d=this.tree.getPublicProperties(n);for(var[p,h]of d)Reflect.has(i,p)||(a[p]=Irt(h,zrt));for(var[f,g]of Object.entries(null!==(t=n.__wxEvents)&&void 0!==t?t:{}))o[f]=Irt(g,zrt);var v=null===(r=n.ownerShadowRoot)||void 0===r?void 0:r.getBackendContext();if(n.$$&&v&&"getComputedStyle"in v){v.getComputedStyle;var[m]=yield V6e(v,"getComputedStyle",n.$$);s.computedStyle=Irt(m,zrt);var y={display:m.display,boxSizing:m.boxSizing,direction:m.direction,writingMode:m.writingMode,position:m.position,overflowX:m.overflowX,overflowY:m.overflowY,flexGrow:m.flexGrow,flexShrink:m.flexShrink,flexDirection:m.flexDirection,flexWrap:m.flexWrap,justifyContent:m.justifyContent,alignContent:m.alignContent,alignItems:m.alignItems,alignSelf:m.alignSelf,aspectRatio:m.aspectRatio,left:m.left,right:m.right,top:m.top,bottom:m.bottom,marginLeft:m.marginLeft,marginRight:m.marginRight,marginTop:m.marginTop,marginBottom:m.marginBottom,borderLeft:m.borderLeft,borderRight:m.borderRight,borderTop:m.borderTop,borderBottom:m.borderBottom,paddingLeft:m.paddingLeft,paddingRight:m.paddingRight,paddingTop:m.paddingTop,paddingBottom:m.paddingBottom,flexBasis:m.flexBasis,width:m.width,height:m.height,minWidth:m.minWidth,minHeight:m.minHeight,maxWidth:m.maxWidth,maxHeight:m.maxHeight};s.layoutComputedStyle=Irt(y,zrt)}return{data:i,events:o,props:a,others:s}}))}disable(){return $6e(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return $6e(this,void 0,void 0,(function*(){this._enabled=!0}))}}var Hrt=()=>(iP(),new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot)))))),Krt=function(){var e=xd()((function*(e={}){return(yield Hrt()).append("console-switch",{...e})}));return function(){return e.apply(this,arguments)}}(),Jrt="vConsole_ready",Xrt="vConsole_show",Yrt="vConsole_hide",Qrt="vConsole_showSwitch",Zrt="vConsole_hideSwitch",ent="vConsole_moved";class tnt{static init(){tnt.initialized||(tnt.initialized=!0,tnt.vConsoleReady=new Promise((e=>{en(Jrt,e),B7(Jrt,e)})))}constructor(){this.switch=null,this.isInSkylinePage=!0,this.vConsoleWebviewInited=!1,this.vConsoleWebview=new xXe,this.initWebview()}initWebview(){var e=this;return xd()((function*(){en(Yrt,(({showSwitch:t=!0}={})=>{var r;return t&&(null===(r=e.switch)||void 0===r?void 0:r.show())})),en(Xrt,(({hideSwitch:t=!0}={})=>{var r;return t&&(null===(r=e.switch)||void 0===r?void 0:r.hide())})),en(Zrt,(()=>{var t;return null===(t=e.switch)||void 0===t?void 0:t.hide()})),en(Qrt,(()=>{var t;return null===(t=e.switch)||void 0===t?void 0:t.show()}))}))()}initVConsoleWebview(e){var t=this;return xd()((function*(){try{yield t.vConsoleWebview.insert(),B7(Yrt,xd()((function*({showSwitch:e=!0}={}){var r;yield t.vConsoleWebview.hide(),e&&(null===(r=t.switch)||void 0===r||r.show())}))),B7(Xrt,xd()((function*({hideSwitch:e=!0}={}){var r;yield t.vConsoleWebview.show(),e&&(null===(r=t.switch)||void 0===r||r.hide())}))),B7(Zrt,(()=>{var e;return null===(e=t.switch)||void 0===e?void 0:e.hide()})),B7(Qrt,(()=>{var e;return null===(e=t.switch)||void 0===e?void 0:e.show()})),t.vConsoleWebviewInited=!0,e.bindVConsoleWebview(t.vConsoleWebview,tnt.vConsoleReady)}catch(e){return[Jrt,Xrt,Yrt,Qrt,Zrt].forEach((e=>$7(e))),!1}return!0}))()}initSwitch(e){var t=this;return xd()((function*(){if(!t.switch){var r=yield tnt.vConsoleReady;t.switch=yield Krt({initialPos:r}),t.switch.addListener("toggle",(()=>t.show())),t.switch.addListener("moved",(({detail:e})=>{t.postMessage(ent,e,!0)})),t.setSwitchBanner(e)}}))()}setSwitchBanner(e){var t=this;return xd()((function*(){t.switch&&e&&t.switch.setData({banner:e})}))()}show(){var e=this;return xd()((function*(){e.postMessage(Xrt)}))()}hide(){var e=this;return xd()((function*(){e.postMessage(Yrt)}))()}postMessage(e,t={},r=!1){var n=this;return xd()((function*(){(n.isInSkylinePage||r)&&n.vConsoleWebviewInited&&n.vConsoleWebview.postMessage({data:{...t,name:e}}),n.isInSkylinePage&&!r||Kr(e,t,[uu.currentWebviewId])}))()}}tnt.vConsoleReady=void 0,tnt.initialized=!1;class rnt extends B6e{constructor(e){super(L6e.ServiceInspectee),this.vConsoleWebview=void 0,this.cachedMsgs=[],this.ready=!1,this.init(),this.vConsoleWebview=e}_sendUnsafe(e,t=L6e.Inspector){this.vConsoleWebview.postMessage({data:{name:"vConsole_cdp",msg:e,target:t,source:this.type}})}send(e){this.vConsoleWebview&&this.ready?(this.consumeCachedLogs(),this._sendUnsafe(e)):(this.cachedMsgs.length>ru&&this.cachedMsgs.shift(),this.cachedMsgs.push(e))}initSubscription(e){B7("vConsole_cdp",(t=>{var{msg:r,target:n,source:i}=t;e(r,n,i)}))}consumeCachedLogs(){this.cachedMsgs.length&&(this.cachedMsgs.forEach((e=>this._sendUnsafe(e))),this.cachedMsgs=[])}bindVConsoleWebview(e,t){this.vConsoleWebview=e,t.then((()=>{this.ready=!0,this.consumeCachedLogs()}))}}var nnt=!1,int=e=>{if(!nnt){var t=([t,r])=>{if(!nnt){nnt=!0;var n=new rnt,i=new prt(n),a=new Ert(n,{evalFn:e});i.bindAdapter("Runtime",a),r(a),t.forEach((({method:e,log:t,timestamp:r})=>{a.callConsoleAPI(e,t,r)}));var o=null;tnt.init();var s=!1,l=null;RC(function(){var e=xd()((function*(e){l&&clearTimeout(l);var t,r="skyline"===e.renderer,i=e.renderer.toUpperCase();o?(o.isInSkylinePage=r,s||o.vConsoleWebviewInited||!r||(s=yield o.initVConsoleWebview(n)),o.hide(),Te||(null===(t=o.switch)||void 0===t||t.hide(),l=setTimeout((()=>{var e;null!==(e=o)&&void 0!==e&&e.switch&&(o.switch.show(),o.setSwitchBanner(i))}),200))):(o=new tnt,setTimeout(xd()((function*(){o&&(o.isInSkylinePage=r,o.initSwitch(i),r&&(s=yield o.initVConsoleWebview(n)))})),200))}));return function(t){return e.apply(this,arguments)}}());var c=new Wrt(M.getGlassEasel(),[],{mode:irt.SHADOW_SKIP_VIRTUAL,isInnerComponent:e=>e.__libComp__?e.is:null});P.setInspecteeRoots(c);var u=new Drt(c,{getSkylineEngine:()=>!0});i.bindAdapter("DOM",u);var d=new Grt(n,c);i.bindAdapter("Exparser",d);var p=P.getSkylineRuntime,h=new qrt(n,c,{getSkylineRuntime:p,getSkylineEngine:()=>!0});i.bindAdapter("Overlay",h)}};P.onDebugEnabledAfterBaseConsoleInjected(((...e)=>t(e)))}};function ant(){return!!br.getPipPage()}var ont=({packageName:e,cost:t,isAsync:r,isSuccess:n,appType:i,injectContext:a=0,errMsg:o}={})=>{var s=[e,t,r,n,i,a,o].map(encodeURIComponent).join(",");T.reportKeyValue({key:"WeAppSDKSubpackageInject",value:s,force:!0})},snt="undefined"!=typeof __initHelper&&1===__initHelper,lnt=["cloud","cloudSDK","ad"],cnt={},unt=(e,...t)=>e.toUpperCase()+t.join(""),dnt=(e,t)=>{Ce?(S.devtools_miniprogram=!0,S[e]=()=>t()):globalThis[e]=()=>t()},pnt=(e,t,r)=>{var n;return Ce?(n=null!=e?e:S["subPackageShare"+t],r||delete S["subPackageShare"+t]):(n=null!=e?e:globalThis[t],r||delete globalThis[t]),n},hnt=!1,fnt=(e,t)=>{var r=t.globalName;if(cnt[r])return cnt[r];if(2===I.isEmptyContext){if(!snt)throw new Error("Fatal: unexpected loadSdkSubPackage case");return hnt||(hnt=!0,OW({title:"请切换至真机调试2.0",content:"很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。"})),void console.warn("很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")}var n,i=`get${unt(...e)}GlobalVar`;t.globalGetter&&dnt(i,t.globalGetter);var a=!1;try{var o,s=Date.now(),l=I.loadMainContextLibFile;t.injectSub&&(o="function"==typeof t.injectSub?t.injectSub():t.injectSub),o&&(a=!0,l=I.loadSubContextLibFile,I.publish("readyLoadSDKSubPackage",{getCloudSDKGlobalVar:t.globalGetter},[I.convertRealId2SdkId(o)])),l.call(I,t.waLibName,(e=>{t.resultGetter&&(n=t.resultGetter()),delete globalThis[i];var r=Date.now()-s;"success"===e?t.init=!0:"string"==typeof e&&e.includes("not supported")?Ce?(OW({title:"请升级工具版本",content:"很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本"}),console.warn("很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")):console.warn("很抱歉，当前客户端版本不支持该基础库，请升级至最新版本"):console.error(`loadSubPackage: ${t.waLibName}:`,e),re.onReady((()=>{ont({packageName:t.waLibName,cost:r,isAsync:1,isSuccess:"success"===e,appType:re.appType+1e3,errMsg:"success"===e?"":e})}))}),o)}catch(e){console.error(`${a?"loadSubContextLibFile":"loadMainContextLibFile"}: ${t.waLibName} err:`,e)}if("kanata"===e){var c=globalThis.Kanata;Object.defineProperty(globalThis,"_Kanata",{value:c})}t.loadedSubPackage=pnt(n,t.globalName,t.reserveGlobal),cnt[t.globalName]=t.loadedSubPackage,vt(t.onInjectCallback)&&t.onInjectCallback(t.loadedSubPackage)},gnt=e=>{for(var t in e){var r=e[t];fnt(t,r)}},vnt=e=>{for(var t in e)if(lnt.includes(t)){var r=e[t];fnt(t,r)}},mnt=()=>{var e=Rnt();vnt(e)},ynt={},bnt=(e,t)=>ynt[e].loadedSubPackage[t],_nt=(e,t,r)=>{var{apiKey:n,call:i,cache:a}=t;if(a)return a;var o=bnt(e,n);if(vt(o)){if(i){var s=o.call(r);return pt(s)&&(t.cache=s),s}return o.bind(r)}return o},wnt=(e,t)=>function(){var r=ynt[e];return r.init||fnt(e,r),_nt(e,t,this)},Snt=({name:e,waLibName:t,exportApis:r,globalName:n,globalGetter:i,onInjectCallback:a,provideInGlobal:o,reserveGlobal:s,fakeProvider:l,injectSub:c,resultGetter:u,emptyInjectKey:d}={})=>{ynt[e]={waLibName:t,exportApis:r,globalGetter:i,init:!1,onInjectCallback:a,globalName:n,provideInGlobal:o,reserveGlobal:s,fakeProvider:l,injectSub:c,resultGetter:u,emptyInjectKey:d}},Cnt=()=>Object.entries(ynt).reduce(((e,[t,r])=>(r.provideInGlobal&&(e[t]={api:()=>fnt(t,r),subPackageInfo:r,replaceGlobal:!0,...r.fakeProvider?{fakeProvider:r.fakeProvider}:{},emptyInjectKey:r.emptyInjectKey},!pt(r.exportApis))||Object.entries(r.exportApis).forEach((([n,i])=>{n===t&&console.warn(`sdk warn: sdk subpackage: ${n} has same name with one item of exportApis`);var a={...r};delete a.provideInGlobal,e[n]={api:wnt(t,i),apiInfo:i,subPackageInfo:a,emptyInjectKey:r.emptyInjectKey}})),e)),{}),knt=()=>Cnt(),Int=e=>`_sdk_subPackage_load_${e}`,Pnt=e=>{globalThis[Int(e)]=!0},Ant=e=>{globalThis[Int(e)]=!1},xnt=e=>globalThis[Int(e)],Tnt=(e,t)=>{var r={},n=function(n){var i=e[n];Object.defineProperty(r,n,{get(){if(i.call)return(...e)=>{var r=t();return null==r?void 0:r[i.key||n].call(r,...e)};var e=t();return null==e?void 0:e[i.key||n]}})};for(var i in e)n(i);return r},Ent=(e,t=!1)=>{var r=knt();Object.entries(r).forEach((([r,n])=>{var i=e,{api:a,subPackageInfo:o,replaceGlobal:s,fakeProvider:l,emptyInjectKey:c}=n;if(o.provideInGlobal){if(s){var u=o.provideInGlobal;return void Object.defineProperty(globalThis,u,{get(){if(l){if(!o.__fakeProviderCache){var e=()=>{if(!xnt(u))return Pnt(u),a(),Ant(u),o.loadedSubPackage};o.__fakeProviderCache=Tnt(l,e),c&&(o.__fakeProviderCache[c]=()=>{e()})}return o.__fakeProviderCache}if(!xnt(u)){Pnt(u),a(),Ant(u);var t=o.loadedSubPackage;return c&&(t[c]=()=>{}),t}},configurable:!0,enumerable:!1})}i=o.provideInGlobal}if(t){if(!!n.subPackageInfo.exportApis[r].noExportWx)return;var d=i[r];Object.defineProperty(i,r,{get(){if(pt(d)){var t=a.call(e),n=IO(r);return n&&n(t),t}return vt(d)?(...t)=>{var r=a.call(e),n=[...t,PO,r];return r.call(i,...n)}:d},configurable:!0})}else Object.defineProperty(i,r,{get:()=>a.call(e),configurable:!0})}))},Mnt=()=>{Object.entries(knt()).forEach((([e,t])=>{var{api:r,subPackageInfo:n,replaceGlobal:i}=t;if(n.provideInGlobal&&i){var a=n.provideInGlobal;Object.defineProperty(globalThis,a,{get(){if(!xnt(a))return Pnt(a),r(),Ant(a),n.loadedSubPackage},configurable:!0})}else;}))},Rnt=()=>ynt,Ont={...V,wx:{}},Dnt;Ir((()=>{Dnt=Cr})),Snt({name:"cloudSDK",waLibName:"WACloud.js",exportApis:{},globalName:"__cloudSDK__",globalGetter:()=>({WeixinJSBridge:S,wxConsole:v,Reporter:T,console:console,__appServiceSDK__:Ont,__wxConfig:re,Foundation:g,IS_APP:!0,__subContextEngine__:Dnt}),onInjectCallback:()=>{eP("cloudSDK",QI.injected)},resultGetter:()=>Tr,provideInGlobal:"__cloudSDKMain__",injectSub:()=>I.getAppSubContextId(),src:"./src/cloud/dist/cloud-sdk-subpackage.js",emptyInjectKey:"inject"});var Lnt=e=>{Object.assign(Ont,e)};oe.onAppRoute=RC;var Nnt={bridgeOn:oe},Bnt="undefined"!=typeof __initHelper?__initHelper:void 0;Snt({name:"sclEngine",waLibName:"WASubAppSclEngine.js",compileType:"app",fakeProvider:{initScl:{call:!0},registerComponent:{call:!0},triggerRender:{call:!0},appendStyleSheet:{call:!0}},globalName:"__sclEngine__",globalGetter:()=>({forSubLibEnv:Nnt,WeixinJSBridge:S,wxConsole:v,wxNativeConsole:y,Reporter:T,__wxConfig:re,WebAssembly:KWe,packageChannel:rP,IS_APP_SUBPACKAGE:!0,__initHelper:Bnt}),onInjectCallback:()=>{eP("sclengine",QI.injected)},provideInGlobal:"__sclEngine__",reserveGlobal:!0,src:"./src/scl-engine/dist/app-scl-engine.js",emptyInjectKey:"inject"});var $nt=e=>{var t=Date.now();return eie({invokeId:Qne.invokeId,actionType:"beforeMidasCreateOrder",actionCost:t-Qne.time4,actionTimestamp:t}),EE({apiName:Qne.channelApiname?Qne.channelApiname:e.apiName,sdkApiName:e.sdkApiName,reqData:e.reqData}).then((e=>{var r=Date.now();if(Qne.time6=r,0===e.data.err_code)return eie({invokeId:Qne.invokeId,actionType:"afterMidasCreateOrder",actionCost:r-t,actionTimestamp:r}),e;throw{errMsg:e.data.err_msg,errCode:e.data.err_code}})).catch((e=>{var r=Date.now();throw Qne.time6=r,eie({invokeId:Qne.invokeId,actionType:"afterMidasCreateOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:r-t,actionTimestamp:r}),e}))},jnt=e=>{Oe?zc("requestVirtualPayment",e,"requestVirtualPayment:fail SDK暂不支持此API"):md("requestVirtualPayment",e)},Fnt={getNetworkType:Py,_requestSkipCheckDomain:mE,interaction:A,systemInfo:{getSystemInfo:Aw,getSystemInfoSync:ww},requestVirtualPayment:jnt,invokeMidasOperateWXDataPromise:$nt,invokeMethod:md,requestPayment:(e={})=>{var t=Yne(),r=()=>{},n={};"requestVirtualPayment"===t?(r=eie,n=Qne):"requestCommonPayment"===t&&(r=tie,n=Zne);var i=Date.now();r({invokeId:n.invokeId,actionType:"beforeMidasLaunchPay",actionCost:i-n.time6,actionTimestamp:i});var a=e.success,o=e.fail;e.success=e=>{var t=Date.now();return r({invokeId:n.invokeId,actionType:"afterMidasLaunchPay",actionStatus:JSON.stringify(e),actionCost:t-i,actionTimestamp:t}),"function"==typeof a&&a(e)},e.fail=e=>{var t=Date.now();return r({invokeId:n.invokeId,actionType:"afterMidasLaunchPay",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-i,actionTimestamp:t}),"function"==typeof o&&o(e)};var s=xk();return e.passCookies&&"string"==typeof e.passCookies?e.cookie=s?e.passCookies+";; "+s:e.passCookies:s?e.cookie=s:delete e.cookie,delete e.passCookies,md("requestPayment",Object.assign({},e,{grantMessageQuota:!0}))}};Snt({name:"midasSDK",waLibName:"WAMidasSDK.js",provideInGlobal:"MidasSDK",globalGetter:()=>({__appServiceSDK__:Fnt,console:console,wxConsole:v,wxNativeConsole:y}),globalName:"__MidasSDK__",onInjectCallback:()=>{eP("midas",QI.injected)},src:"./src/sdk/dist/midas.js"});var Wnt={getNetworkType:Py,_requestSkipCheckDomain:mE,interaction:A,systemInfo:{getSystemInfo:Aw,getSystemInfoSync:ww},requestPaymentForMidas:Jte,openBusinessView:_7,navigateToMiniProgram:Dne,onNetworkStatusChange:Ay};Snt({name:"orderMidasSDK",waLibName:"WAOrderMidasSDK.js",provideInGlobal:"OrderMidasSDK",globalGetter:()=>({__appServiceSDK__:Wnt,console:console,wxConsole:v,wxNativeConsole:y}),globalName:"__OrderMidasSDK__",onInjectCallback:()=>{eP("midas",QI.injected)},src:"./src/sdk/dist/orderMidas.js"});var Unt=!1,Vnt=null;function qnt(){return new Promise(((e,t)=>{Unt||t(),Unt&&(Vnt=setTimeout(t,3e3)),Unt&&TE({apiName:"webapi_getadcardbalance",success({data:r}){var{errCode:n,balance:i}=r;!n&&i?(Vnt&&clearTimeout(Vnt),RW({title:"是否使用广告跳过卡",content:`当前还有${i}张`,confirmText:"使用",cancelText:"继续看",success({confirm:r}){r?TE({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:r}){var{errCode:n}=r;n?(jW({title:"使用广告卡失败",icon:"error"}),t()):(jW({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))}re.onReady((()=>{Ue()&&(Vm()?Hk({id:qk.getadcardbalance,success:e=>{null!=e&&e.data&&(Unt=!e.data.errCode)}}):setTimeout((()=>{TE({apiName:"webapi_getadcardbalance",success({data:e}){Unt=!e.errCode}})}),3e3))}));var znt=e=>(t={})=>{(e?TE:DE)({apiName:e?"webapi_game_transfer":"gameTransfer",sdkApiName:"gameTransfer",reqData:t.reqData?t.reqData:JSON.parse(JSON.stringify(t)),timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},Gnt=(e={})=>{invokeOperateWXData({apiName:"webapi_litegametransfer",sdkApiName:"gameTransfer",reqData:e.reqData?e.reqData:JSON.parse(JSON.stringify(e)),timeout:e.timeout,success(t){"function"==typeof e.success&&e.success(t)},fail(t){"function"==typeof e.fail&&e.fail(t)},complete(t){"function"==typeof e.complete&&e.complete(t)}})},Hnt=znt(!1),Knt=znt(!0),Jnt=null;try{RC((({webviewId:e,openType:t,path:r})=>{f_e.isWaGame||(g_e.lastWebviewId=g_e.currentWebviewId,g_e.currentWebviewId=e||0,g_e.currentOpenType=t,g_e.weappPath=r)}))}catch{}class Xnt extends EYe{constructor({id:e,style:t,src:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s,independent:l=!1,dest:c=0}={}){super({id:e,style:t,props:{src:r},type:"image",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s,independent:l,dest:c})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:sp(this.src)})}}class Ynt{constructor(){this.emitter=new Qt({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=x.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);"function"==typeof r&&(this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}var Qnt={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},Znt=0,eit={};re.onReady((()=>{Znt=re.appType+1e3,eit=re.appLaunchInfo}));var tit={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},rit=({component:e,eventName:t,eventData:r,src:n=""}={})=>{var i=My(),a=re.SDKVersion||"",o=Object.keys(eit.query||{}).map((e=>`${e}=${eit.query[e]}`)).join(",");o=encodeURIComponent(o);var s="";switch(t){case"onLoad":s=[r.duration,r.controls?2:1].join(";");break;case"onWaiting":case"onTimeUpdate":s=[r.position,r.buffered].join(";");break;case"onError":s=r.errMsg.replace(","," ");break;case"onFullScreenChange":s=r.fullScreen?2:1;break;case"onImageLoad":s=[r.isLazyLoad?2:1,r.size,r.loadTime,r.width,r.height,r.originalWidth,r.originalHeight].join(";");break;case"onImageError":s=[r.isLazyLoad?2:1].join(";")}var l=[Math.round(Date.now()/1e3),eit.scene,"",eit.sessionid||eit.sessionId,eit.path,o,i,a,Qnt[e],tit[t],s,encodeURIComponent(n.substring(0,1024)).substring(0,1024),Znt].join(",");T.reportKeyValue({key:"MediaCompStatus",value:l})},nit={},iit=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];ke&&iit.push("onVideoFullScreenChange");var ait=(e,t,r)=>{if("ad"!==e.scene){rit({component:"video",eventName:t,eventData:r,src:e.src});rSe({eventid:{onPlay:1,onPause:2,onEnded:2,onError:3}[t],src:e.src,ended:"onEnded"===t,reason:"onError"===t?r.errMsg:void 0})}};class oit extends Ej{constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,hide:o=!1,src:s,poster:l,referrerPolicy:c="no-referrer",initialTime:u=0,playbackRate:d=1,live:p=!1,showPoster:h=!1,objectFit:f="contain",controls:g=!0,showProgress:v=!0,showProgressInControlMode:m=v,autoplay:y=!1,muted:b=!1,loop:_=!1,customCache:w=!1,enableProgressGesture:S=!0,enablePlayGesture:C=!1,showCenterPlayBtn:k=!0,autoInsert:I=!0,scene:P="default",preLoad:A=!1,obeyMuteSwitch:x=!1,underGameView:T=!1,backgroundColor:E="#000000",playerHint:M="",zIndex:R,autoPauseIfNavigate:O=!0,autoPauseIfOpenNative:D=!0,independent:L=!1,dest:N=0}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=I,this.playerHint=M,this.scene=P,this.preLoad=A,this.underGameView=T,this.zIndex=R,this.autoPauseIfOpenNative=D,this.autoPauseIfNavigate=O,this.customCache=w,this.independent=L,this.dest=N,this.showPoster=h,nit[this.id]=this;var B=null;this.emitter=new Ynt,this.deferred=[],this._buffered=0,this._position=0;var $={x:r,y:n,width:i,height:a,hide:o,src:s,poster:l,initialTime:u,playbackRate:d,live:p,objectFit:f,controls:g,showProgress:v,showProgressInControlMode:m,backgroundColor:E,autoplay:y,muted:b,loop:_,enableProgressGesture:S,enablePlayGesture:C,showCenterPlayBtn:k,obeyMuteSwitch:x,referrerPolicy:c};Object.keys($).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>$[e],set:t=>{"src"!==e&&$[e]===t||($[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(B),B=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),iit.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,ait(this,"onSrcSet",{}),new Promise(((e,t)=>{md("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:sp(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,poster:sp(this.poster),success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return rSe({eventid:2,src:this.src,ended:!0}),new Promise(((e,t)=>{Ie?setTimeout((()=>{md("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t})}),0):md("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t}),iit.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete nit[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,dest:this.dest,customCache:this.customCache,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,independent:this.independent,showPoster:this.showPoster};return this.isSrcChanged&&(t.filePath=sp(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=sp(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&ait(this,"onSrcSet",{}),new Promise(((t,r)=>{md("updateVideoPlayer",Object.assign({},e,{success:t,fail:r}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((r,n)=>{md("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,independent:this.independent,dest:this.dest,success:r,fail:n})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}iit.forEach((e=>{var t=e.replace("Video","");oit.prototype[t]=function(t){this.emitter.on(e,t)};var r=t.replace("on","off");oit.prototype[r]=function(t){this.emitter.off(e,t)}})),iit.forEach((e=>{ur(e,(t=>{var r=t.videoPlayerId||JSON.parse(t.data||"{}").id,n=nit[r];if(n)if(n.emitter.emit(e,t),"onVideoProgress"!==e){var i=t;"onVideoTimeUpdate"===e?(n._position=t.position,i={position:t.position,buffered:n._buffered}):"onVideoWaiting"===e&&(i={position:n._position,buffered:n._buffered}),ait(n,e.replace("Video",""),i)}else n._buffered=t.buffered}))}));var sit={};class lit extends Ej{constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,url:o="",urls:s=[],scale:l=1,autoInsert:c=!0,hide:u=!1,zIndex:d=0}={}){if(super({style:e,name:t}),this.x=r,this.y=n,this.width=i,this.height=a,this.scale=+l,this.hide=u,this.autoInsert=c,this.url=o,this.zIndex=d,this.emitter=new Yy("ImagePreviewer",!0),sit[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return md("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{md("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{md("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete sit[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}ur("onImagePreviewerLoadFail",(e=>{sit[e.viewId].emitter.emit("onImageLoadFail",e)}));var cit=new WeakMap,uit=u.prototype.call.bind(WeakMap.prototype.get),dit=u.prototype.call.bind(WeakMap.prototype.set),pit=u.prototype.call.bind(WeakMap.prototype.delete),hit=e=>uit(cit,e),fit=function(e){var t=hit(this),r={view:EYe,text:MYe,image:Xnt,video:oit,"image-previewer":lit}[e.name],n="";e.attributes.id?n=bj(e.attributes.id):y.error(`${e.name} 缺少id`);var i=Object.keys(e.attributes).reduce(((r,i)=>{var a=e.attributes[i],o=bj(i);return"id"===i?(r.style=Object.assign(r.style||{},t.style[n]),r):"class"===i?(r.style=a.split(/\s+/).reduce(((e,r)=>Object.assign(e,t.style[r])),r.style||{}),r):(/\{\{.+\}\}/.test(a)||(r[o]=""===a||"true"===a||"false"!==a&&a),r)}),{});i.name=n;var a=new r(i);return t[n]=a,e.children.forEach((e=>{var t=fit.call(this,e);a.add(t)})),a},git=e=>{pit(cit,e)};class vit{constructor(){dit(cit,this,{})}}var mit=function(e,t,r){var n=hit(this);n.xom=e,n.style=t,n.state=r,fit.call(this,e)},yit={ACTION_TYPE_CLICK_GAME:1,ACTION_TYPE_CLICK_CLOSE_BTN:2,ACTION_TYPE_CLICK_HIDE:3,ACTION_TYPE_COMPLAINT:4,ACTION_TYPE_NOT_INTERESTED:5,ACTION_TYPE_INFLUEENCE_OPERATION:6},bit={AD_TYPE_BANNER:1,AD_TYPE_PORTAL:2,AD_TYPE_ICON:3};const _it={reportId:1101,idkey:{BANNER_LOAD_ERROR:1,BANNER_RENDER_ERROR:2,PORTAL_LOAD_ERROR:3,PORTAL_RENDER_ERROR:14,LAUNCH_APP_ERROR:5,REPORT_ERROR:6,BANNER_TIMEOUT:7,BANNER_WXDATA_TIMEOUT:8,BANNER_TIMEOUT_RETRY_SUCCESS:9,BANNER_TIMEOUT_RETRY_FAIL:10,PORTAL_TIMEOUT:11,PORTAL_WXDATA_TIMEOUT:12,PORTAL_TIMEOUT_RETRY_SUCCESS:13,PORTAL_TIMEOUT_RETRY_FAIL:4,BANNER_DATA_INVALID:15,PORTAL_DATA_INVALID:16,BANNER_DATA_INVALID_RETRY_SUCCESS:17,BANNER_DATA_INVALID_RETRY_FAIL:18,PORTAL_DATA_INVALID_RETRY_SUCCESS:19,PORTAL_DATA_INVALID_RETRY_FAIL:20,ICON_LOAD_ERROR:21,ICON_TIMEOUT:22,ICON_WXDATA_TIMEOUT:23,ICON_TIMEOUT_RETRY_SUCCESS:24,ICON_TIMEOUT_RETRY_FAIL:25,ICON_DATA_INVALID:26,ICON_DATA_INVALID_RETRY_SUCCESS:27,ICON_DATA_INVALID_RETRY_FAIL:28,BANNER_PRELOAD_SUCCESS:29,BANNER_PRELOAD_FAIL:30,PORTAL_PRELOAD_SUCCESS:31,PORTAL_PRELOAD_FAIL:32,ICON_PRELOAD_SUCCESS:33,ICON_PRELOAD_FAIL:34},designWidth:375,TIMEOUT:15e3,ERRMSG:{NODATA:"no data available, please invoke load()",DUPLICATEWARN:"同一时刻只能展示一个同一类型的组件",NO_ADUNITID_WARN:"please pass in the adUnitId"},adType:bit,adTypeName:{[bit.AD_TYPE_BANNER]:"BANNER",[bit.AD_TYPE_PORTAL]:"PORTAL",[bit.AD_TYPE_ICON]:"ICON"},actionType:yit,feedbackList:[{name:"不感兴趣",actionType:yit.ACTION_TYPE_NOT_INTERESTED},{name:"影响操作",actionType:yit.ACTION_TYPE_INFLUEENCE_OPERATION}],presetChars:{0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625}};var wit=null,Sit=!1;function Cit(){var e=null;if(Ue()){var t=new xf.Canvas;t.width=1,t.height=1,e=t.getContext("2d")}else if(Ce||Te){e=(Te?new xf.OffscreenCanvas(0,0):document.createElement("canvas")).getContext("2d")}return e}function kit(e,t){var r,n={};return md("measureText",{text:e,fontSize:null!==(r=null==t?void 0:t.fontSize)&&void 0!==r?r:10,fontFamily:(null==t?void 0:t.fontFamily)||"sans-serif",fontWeight:"normal",fontStyle:"normal",complete(e){n={width:e.width||0}}}),n}function Iit(e,t){var r={};if(Sit)r=kit(e,t);else if(wit||(wit=Cit()),wit){var n=t?`${t.fontSize||10}px ${t.fontFamily||"sans-serif"}`:null;n&&(wit.font=n),r=wit.measureText(e)}else Sit=!0,r=kit(e,t);return r.width||0}var Pit=_it.presetChars,Ait="PingFangSC-Regular, SF Pro Display, SF Pro Text";class xit{constructor(){}getCharWidth(e,t){return(Pit[e]?Pit[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){return ke?this.getTextWidthInAndroid(e,t):Math.ceil(Iit(e,t?{fontSize:t,fontFamily:Ait}:void 0)||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var r=0;return e.forEach((e=>{var n=this.getCharWidth(e,t);r+=n})),r}getMaxWordLength(e,t,r,n=!0){e=(e=String(e)).split("");var i=0,a=0;n&&(r-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],l=this.getCharWidth(s,t);if(i+l>r)break;a++,i+=l}return a}textMetrics(e,t){for(var{fontSize:r,maxWidth:n,maxLines:i=1}=t,a=[],o=0,s=e.substring(0,e.length);o<i;){var l=this.getMaxWordLength(s,r,n,!(o!==i-1)),c=o===i-1?this.limitString(s,l):s.substring(0,l);c&&a.push({text:c,width:this.getTextWidth(c,r)}),o++,s=s.substring(l,s.length)}return a}}const Tit=new xit;var Eit=new Yy("playableads",!1);function Mit(e){Eit.on("playableStatusChange",e)}function Rit(e){Eit.off("playableStatusChange",e)}qt("onPlayableStatusChange",(e=>{Eit.emit("playableStatusChange",e)}));var Oit=null,Dit=null,Lit=null,Nit=new Yy("playableadsNew",!1);function Bit(e){Nit.on("playableStatusChangeNew",e)}function $it(e){Nit.off("playableStatusChangeNew",e)}qt("onPlayableStatusChangeNew",(e=>{Nit.emit("playableStatusChangeNew",e)}));var jit={},Fit=()=>{var e=O.getCurrentRoutePathWithoutQuery();jit[e]=!0},Wit=aw("ad"),Uit={GameGlobal:$y,_onShow:KC,_onHide:sk,_offShow:JC,_offHide:lk,onBeforeHide:ak,onAfterHide:ck,offBeforeHide:ok,offAfterHide:uk,_downloadFileSkipCheckDomain:SI,touch:{},reportCanvasData:Zj,ReportCanvasDataEventType:Gj,checkAndUseAdSkipCard:qnt,_requestSkipCheckDomain:mE,onAppRoute:RC,showToast:jW,_getNetworkType:Py,getChannelsLiveInfo:d$e,_showModal:RW,getInitScreenSize:XS,getSystemInfoSync:ww,onAppRouteDone:EK,onWindowResize:aV,beginAudioInterruption:Que,endAudioInterruption:Zue,__wxConfig:re,onNativeEvent:ur,offNativeEvent:hr,onNetworkWeakChange:Ty,getExptInfoSync:Cq,addInnerShareCallbacks:dqe,onBeforeUnloadPage:XM,_onUserCaptureScreen:L$,getAdUxInfo:on,getStableSystemInfo:JS,vibrateShort:e1,vibrateLong:t1,setNavigateBackInterception:jV,stopNavigateBackInterception:FV,NavigationBackTypes:PV,_gameTransfer:Knt,deviceInfoLoaded:S_e,loadDeviceInfoByManual:C_e,appRouteInfo:g_e,getIndentityInfo:k_e,deviceInfo:f_e,proxyReady:m_e,getDeviceOrientation:I_e,webviewLayout:xYe,nativeviewLayout:TYe,View:EYe,Text:MYe,Image:Xnt,Video:oit,Component:vit,initComponent:mit,createComponent:fit,getPrivateThis:hit,removePrivateThis:git,invoke:fn,invokeMethod:md,beforeInvoke:Vc,onMethod:qt,publish:Kr,subscribe:en,invokeOperateWXDataPromise:EE,adReportOperateWXDataPromise:Bbe,_invokeMethod:Id,gametext:Tit,packageChannel:Wit,getGameTouchStatus:()=>({}),onGameToucnEnd:()=>{},offGameToucnEnd:()=>{},onPlayableStatusChange:Mit,offPlayableStatusChange:Rit,onPlayableStatusChangeNew:Bit,offPlayableStatusChangeNew:$it,_getABTestConfig:Tf,getInternalFileSystemManager:_S,readdir:zf,stat:$d,unlink:Jf,writeFile:jf,readFileSync:$f,readFile:Bf,access:Hf,accessSync:Kf,wxNativeConsole:y,wxConsole:v,console:console,_createInnerAudioContext:Hde,invokeOperateWXData:TE,getHasPreloadAdMap:zwe,getPreloadIntersititialAd:Gwe,getServicePreloadInfo:Fhe,addPreloadInfoCbList:jhe,interstitialAdShowNotify:Fit,getPreloadIntersititialAdStatus:Jwe,getPreloadingPromise:Xwe,AIAD_INTERSTITIAL_ADUNITID:X_e,preloadAiInterstitialAiAd:Twe,getCurrentShowAdPath:Ywe};const Vit=Uit;Snt({name:"ad",waLibName:"WAAppAd.js",compileType:"app",globalName:"AD",globalGetter:()=>({console:console,wxConsole:v,wxNativeConsole:y,__wxConfig:re,__errorTracer__:x,Reporter:T,Foundation:g,WeixinJSBridge:S,IS_APP:!1,IS_APPSERVICE_SDK:!0,IS_WAGAME:!1,IS_WORKER:!1,wxRunOnDebug:h,__appServiceSDKAD__:Vit,readFile:Bf}),exportApis:{createRewardedVideoAd:{apiKey:"createRewardedVideoAd",noExportWx:!0},createInterstitialAd:{apiKey:"createInterstitialAd",noExportWx:!0},createCustomAd:{apiKey:"createCustomAd",noExportWx:!0},preloadAd:{apiKey:"preloadAd",noExportWx:!0}},provideInGlobal:"ADSDK",src:"./src/sdk/dist/app-ad.js",onInjectCallback:()=>{eP("ad",QI.injected)},emptyInjectKey:"inject"});var qit=aw("splash-ad"),zit={GameGlobal:$y,_onShow:KC,_onHide:sk,_offShow:JC,_offHide:lk,onBeforeHide:ak,onAfterHide:ck,offBeforeHide:ok,offAfterHide:uk,getMenuButtonBoundingClientRect:CV,_downloadFileSkipCheckDomain:SI,touch:{},reportCanvasData:Zj,ReportCanvasDataEventType:Gj,checkAndUseAdSkipCard:qnt,_requestSkipCheckDomain:mE,onAppRoute:RC,showToast:jW,_getNetworkType:Py,getChannelsLiveInfo:d$e,_showModal:RW,getInitScreenSize:XS,getSystemInfoSync:ww,onAppRouteDone:EK,onWindowResize:aV,beginAudioInterruption:Que,endAudioInterruption:Zue,__wxConfig:re,onNativeEvent:ur,offNativeEvent:hr,onNetworkWeakChange:Ty,getExptInfoSync:Cq,addInnerShareCallbacks:dqe,onBeforeUnloadPage:XM,_onUserCaptureScreen:L$,getAdUxInfo:on,getStableSystemInfo:JS,vibrateShort:e1,vibrateLong:t1,_gameTransfer:Knt,deviceInfoLoaded:S_e,loadDeviceInfoByManual:C_e,webviewLayout:xYe,nativeviewLayout:TYe,View:EYe,Text:MYe,Image:Xnt,Video:oit,Component:vit,initComponent:mit,createComponent:fit,getPrivateThis:hit,removePrivateThis:git,invoke:fn,invokeMethod:md,beforeInvoke:Vc,onMethod:qt,publish:Kr,subscribe:en,invokeOperateWXDataPromise:EE,adReportOperateWXDataPromise:Bbe,_invokeMethod:Id,gametext:Tit,packageChannel:qit,getGameTouchStatus:()=>({}),_getABTestConfig:Tf,readdir:zf,stat:$d,unlink:Jf,writeFile:jf,readFile:Bf,readFileSync:$f,access:Hf,accessSync:Kf,wxNativeConsole:y,wxConsole:v,console:console,_createInnerAudioContext:Hde,invokeOperateWXData:TE,getInternalFileSystemManager:_S,appRouteInfo:g_e,proxyReady:m_e,getDeviceOrientation:I_e,deviceInfo:f_e,getIndentityInfo:k_e,getCurrentShowAdPath:Ywe};const Git=zit;Snt({name:"splashFloatWindow",waLibName:"WASplashAdFloatWindow.js",globalName:"__splashAdFloatWindowSDK__",globalGetter:()=>({console:console,wxNativeConsole:y,__wxConfig:re,wxConsole:v,Reporter:T,Foundation:g,__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__:!0,wxRunOnDebug:h,__appServiceSDKAD__:Git,__errorTracer__:x,WeixinJSBridge:S,IS_APP:!1,IS_APPSERVICE_SDK:!0,IS_WAGAME:!0,IS_WORKER:!1,readFile:Bf,__appServiceEngine__:br}),onInjectCallback:()=>{eP("splashFloatWindow",QI.injected)},reserveGlobal:!0,provideInGlobal:"__splashAdFloatWindowSDK__",src:"./src/sdk/dist/splashad-floating-sdk.js",emptyInjectKey:"inject"});var Hit=e=>{loadSdkSubPackage(e,getAllRegisterdSubPackageInfos()[e])},Kit=()=>{_loadAllSdkSubPackage(getAllRegisterdSubPackageInfos())},Jit=e=>{Lnt(e)},Xit,Yit;re.onReady((()=>{var e=rat(re.appLaunchInfo||{});Xit=e.appLaunchInfo,Yit=e.publicLaunchInfo}));var Qit="",Zit=e=>{var t=Qit===e;return Qit=e,t},eat=()=>Yit,tat=()=>Xit;function rat(e={}){var t=e.shareInfo,r=e.scene,n=e.query||{};if("object"==typeof t&&null!==t&&(e.shareTicket=Xp.set(t.shareKey,t.shareName),Xp.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},"string"==typeof e.referrerInfo.gameLiveInfo)try{e.referrerInfo.gameLiveInfo=JSON.parse(e.referrerInfo.gameLiveInfo)}catch(e){console.error("parse appLaunchInfo.referrerInfo.gameLiveInfo error",e)}1022===e.scene&&(n=e.query={}),Ie||ke?(Zit(e.sessionid||e.sessionId)&&(n={}),1089===e.scene&&!1===e.reLaunch&&(n={})):!1===e.reLaunch&&(n={}),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!Cf("getGroupToolbarInfo")&&(r=1008),1044!==e.scene||e.chatroomUsername||(e.scene=1007,r=1007);var i={scene:r,query:n,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return e.referrerInfo.gameLiveInfo&&(i.referrerInfo.gameLiveInfo=e.referrerInfo.gameLiveInfo),re.debugLaunchInfo&&re.debugLaunchInfo.lanDebugInfo&&!1!==re.debugLaunchInfo.lanDebugInfo.useStaticServer&&(i.lanDebugInfo=re.debugLaunchInfo.lanDebugInfo),e.chatType&&(i.chatType=e.chatType),i.referrerInfo&&"wxb6d22f922f37b35a"===i.referrerInfo.appId&&(i.referrerInfo={}),{publicLaunchInfo:i,appLaunchInfo:e}}var nat=qw.WX_WE_INFO_CACHE_PATH_PREFIX.path,iat=`${nat}/app_meta.json`,aat=_S(),oat=wg(aat.readFile),sat=wg(aat.writeFile),lat=wg(aat.access),cat=wg(aat.mkdir),uat=function(){var e=xd()((function*(){try{yield lat({path:nat})}catch(e){yield cat({recursive:!0,dirPath:nat})}try{var{data:e}=yield oat({filePath:iat,encoding:"utf8"});return JSON.parse(e)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),dat=[1011,1013,1047,1049,1065,1194,1069],pat=!1;re.onReady(xd()((function*(){if(1248===re.appLaunchInfo.scene){var e,{publicLaunchInfo:t}=rat(re.appLaunchInfo||{}),{migrateSourceAppId:r,migrateSourceAppIdIsStared:n,migrateSourcePath:i,migrateSourceScene:a}=t.query;if(null!=i&&null!==(e=i.endsWith)&&void 0!==e&&e.call(i,".html")&&(t.query.migrateSourcePath=i.slice(0,-5)),delete t.query.migrateSourceAppIdIsStared,dat.includes(Number(a)))return;fat();var o=[r,re.accountInfo.appId],s=uat(),l=hat(o);Promise.all([s,l]).then((([e,t])=>{t[0].migrateSourceAppIdIsStared=n,e&&e.has_migrate&&!pat||__sclEngine__.initScl((r=>{var n=r.mainRoot.append("miniprogram-migrate",{oldAppInfo:t[0],newAppInfo:t[1]});n.addListener("confirm",(()=>{var t=e;e||(t={}),t.has_migrate=!0,sat({filePath:iat,data:JSON.stringify(t)}).catch((e=>{y.warn("write migrate appinfo error: ",e)}))})),n.addListener("goFeedback",(()=>{var e={};e.url=`https://mp.weixin.qq.com/wxawap/wapreportwxadevlog?action=complain_feedback&appid=${re.accountInfo.appId}`,jq(e)}))}),!0)})).catch((e=>{y.warn("getMigrateInfo error: ",e)}))}})));var hat=e=>{var t=e.map((e=>new Promise(((t,r)=>{if(ke){var n=["RegisterSource.RegisterBody","WxaAppInfo.RoundedSquareIconUrl","base.nickName"].map((t=>new Promise(((r,n)=>{md("getAppContact",{keyPath:t,appId:e,..."base.nickName"===t||"WxaAppInfo.RoundedSquareIconUrl"===t?{appid:e}:{},success(e){"base.nickName"===t?e={data:e.base.nickName}:"WxaAppInfo.RoundedSquareIconUrl"===t&&(e={data:e.base.iconUrl}),r(e)},fail(e){n(e)}})}))));Promise.all(n).then((e=>{var r={body:e[0].data,icon:e[1].data,nickname:e[2].data};t(r)})).catch((e=>{r(e)}))}else md("getAppContact",{appId:e,success(e){var r,n=JSON.parse(e.data),i={body:n.RegisterSource.RegisterBody,icon:n.WxaAppInfo.RoundedSquareIconUrl,nickname:null===(r=e.base)||void 0===r?void 0:r.nickName};t(i)},fail(e){r(e)}})}))));return Promise.all(t)},fat=e=>EE({sdkApiName:"checkwxauserstarwxa",apiName:"webapi_checkwxauserstarwxa",reqData:{origin_appid:e,busitype:1}}).then((e=>{y.warn("checkwxauserstarwxa res: ",e)})).catch((e=>{y.warn("checkwxauserstarwxa error: ",e)})),gat=e=>{if(nHe()){var t=cHe[e.webviewId];if(jit[t])return void y.warn("[aiad info] current page has dev interstitialAd");Kr("loadPreviewInterstitialAd",{ope:e.ope},[e.webviewId])}else{var r={store:{dataPerformance(t){var r=RGe();if(r[e.path]){var n=r[e.path];n.hasRecordInterstitialAdPerformance||(n.interstitialAdRequestTime=t.cost,n.interstitialAdRequestResult=t.result,n.hasInterstitialAdPreload=t.preload,n.lastEnterTime?n.interstitialAdShowDistanceEnter=Date.now()-n.lastEnterTime:n.interstitialAdShowDistanceEnter=1,n.hasRecordInterstitialAdPerformance=!0)}}},emit(e,t){r.store[e]&&r.store[e](t)}},n=yBe({aiadPlatformId:100,eventChannel:r});n.onError((e=>{y.warn("[aiad error] interstitialAd error: ",e)})),n.load();var i=!1;n.onLoad((()=>{if(O.getCurrentRoutePathWithoutQuery()===e.path||!e.path){var t=RGe();t[e.path]&&(t[e.path].hasInterstitialAdShow=!0);var r=n.show({showErrorInfo:!0});It(r)&&r.then((r=>{i=!0,t[e.path]&&void 0===t[e.path].interstitialAdShowResult&&(t[e.path].interstitialAdShowResult=!0)})).catch((r=>{i||(2002===r.errCode&&r.distanceNext&&setTimeout((()=>{e.path&&O.getCurrentRoutePathWithoutQuery()!==e.path||gat(e)}),r.distanceNext),t[e.path]&&void 0===t[e.path].interstitialAdShowResult&&(t[e.path].interstitialAdShowResult=!1))}))}}))}};g.on("emitInterstitialAiad",gat);var vat=_S(),mat=wg(vat.writeFile),yat=wg(vat.access),bat=wg(vat.mkdir),_at=wg(vat.readFile),wat=qw.WX_CACHE_DEBUG_PREFIX.path;en("customAdFetchCache",(e=>{Sat(JSON.stringify({customAd:e}))})),en("getCustomAdFetchCache",function(){var e=xd()((function*(e,t){var r=yield Cat();Kr("getCustomAdFetchCache",r,[t])}));return function(t,r){return e.apply(this,arguments)}}());var Sat=function(){var e=xd()((function*(e){try{yield yat({path:wat})}catch(e){yield bat({dirPath:wat})}yield mat({filePath:`${wat}/debugutils_cachedata.txt`,data:e,encoding:"utf-8"})}));return function(t){return e.apply(this,arguments)}}(),Cat=function(){var e=xd()((function*(e){try{yield yat({path:wat})}catch(e){yield bat({dirPath:wat})}var t=yield _at({filePath:`${wat}/debugutils_cachedata.txt`,encoding:"utf-8"});return JSON.parse(t.data).customAd}));return function(t){return e.apply(this,arguments)}}();en("aiadPreloadEnable",((e,t)=>{var r,n=e.platformId,i=TGe({ope:null!==(r=e.ope)&&void 0!==r?r:"modifyStatus",platformId:e.platformId,status:e.status,type:"interstitial"},t),a="aiadPreloadEnableDone";"interstitial"===e.type&&(a="aiadInterstitalAdPreloadEnableDone"),It(i)&&i.then((e=>{null!=e&&e.result?Kr(a,{platformId:n,status:!0},[t]):Kr(a,{platformId:n,status:!1},[t])})).catch((e=>{Kr(a,{platformId:n,status:!1},[t])}))}));var kat=(e,t)=>{for(var r=t.shape[0],n=t.shape[1],i=0,a={},o={},s=Date.now(),l=0;l<e.length;l++){var c=e[l],u=Math.floor((l+1)/(3*r)),d=l+1-u*r*3;3===(i=0===i&&c>=166&&c<=170?1:1===i&&c>=198&&c<=202?2:2===i&&c>=179&&c<=183?3:0)&&(i=0,a[u]||(a[u]=0),o[d]||(o[d]=0),a[u]++,o[d]++)}var p=Date.now()-s;return{ret:!Iat(a,o,{width:r,height:n,adWidth:t.adWidth*t.pixelRatio,adHeight:t.adHeight*t.pixelRatio}),cost:p}},Iat=(e,t,r)=>{var n,i,a,o,{width:s,height:l,adWidth:c,adHeight:u}=r;for(var d in e){var p=e[d];d<.25*l&&p>.95*c?n=!0:d>.75*l&&p>.95*c&&(i=!0)}for(var h in t){var f=t[h];h<.25*s&&f>.95*u?a=!0:h>.75*s&&f>.95*u&&(o=!0)}return!!(n&&i&&a&&o)},Pat,Aat,xat={},Tat={};en("startAdCVShot",((e,t)=>{var r=Date.now(),n=ww(),i=e.frame,a=e.id,o=e.extraInfo,s=n.pixelRatio,l=e.top,c=e.bottom,u=e.type;i||y.warn("startAdCVShot fail: incorrect frame");var{x:d,y:p,width:h,height:f,scrollY:g}=i;if(void 0!==d&&void 0!==p&&void 0!==h&&void 0!==f){var v=0,m=0;p>=1&&(v=1,m=1,(p-=1)+(f+=2)>n.screenHeight&&(f-=1,m-=1));Math.floor(d),Math.floor(p),Math.ceil(h),Math.ceil(f);var b=h>f?h:f,_=Math.floor(d),w=Math.floor(p),S=Math.ceil(h),C=Math.ceil(f);xat[a]={x:_,y:w,width:S,height:C,ratio:s,webviewId:t,topArea:l,bottomArea:c,fillDown:m,fillUp:v,screenshotId:Aat++,adId:a,extraInfo:o,checkType:u,startTimestamp:r},md("setAppSnapshotStrategy",{frame:[_,Ie?w+g:w,S,C],shortEdge:b,ignoreNative:!0,success(e){y.warn(`setAppSnapshotStrategy success frame: [${n.screenWidth}, ${n.screenHeight}]`)},fail(e){jW({icon:"error",title:"系统失败-101"}),Kr("visionCheckAiadEnd",{ret:2,id:a,type:1},[t]),y.warn("setAppSnapshotStrategy fail",e,[_,w,S,C,t])}})}else y.warn("startAdCVShot fail: incorrect frame")}));var Eat=e=>{for(var t=new ArrayBuffer(e.byteLength/4*3),r=new Uint8ClampedArray(e),n=new Uint8ClampedArray(t),i=0,a=0,o=0;o<r.length;o++)++a%4==0?a=0:(n[i]=r[o],i++);return n.buffer},Mat=e=>{for(var t=new ArrayBuffer(e.byteLength/3),r=new Uint8ClampedArray(e),n=new Uint8ClampedArray(t),i=0,a=0;a<r.length;)if(a%3==0){var o=r[a],s=r[a+1],l=r[a+2],c=Math.round(.299*o+.578*s+.114*l);n[i]=c,a+=3,i++}else a++;return n},Rat=e=>{for(var t=new ArrayBuffer(e.byteLength/4*3),r=new Uint8ClampedArray(e),n=new Uint8ClampedArray(t),i=0,a=0,o=0;o<r.length;o++)++a%4==0?a=0:(n[i]=r[o],i++);return n};ur("onAppSnapshotDump",(e=>{var t=0,r=0,n=0,i=0,a=!1;Date.now();try{var o,s=null===(o=re.appLaunchInfo)||void 0===o?void 0:o.openId,l=e.shape||[],c=Object.values(xat).sort(((e,t)=>e.screenshotId-t.screenshotId)),u=c[0];if(!u)return void jW({icon:"error",title:"系统失败-102"});var d,p=u.adId,h=xat[p],f=h.checkType,g=setTimeout((()=>{a=!0,jW({icon:"error",title:"系统超时"}),Kr("visionCheckAiadEnd",{ret:2,id:p,type:1},[h.webviewId])}),5e3-(Date.now()-h.startTimestamp)),v=(l[1],l[0],Rat(e.buffer));if(Cf("aiadVisionUseGrayInput")&&(v=Mat(v.buffer)),t=Date.now()-h.startTimestamp,"self"===f){var m,b={...h.extraInfo,pixelRatio:h.ratio,shape:l};null!==(m=d=kat(v,b))&&void 0!==m&&m.ret&&mze({resultType:2,isBeShelter:!0})}var _,w=v.buffer;void 0!==p&&(Kr("visionCheckAiadEnd",{ret:0,id:p,needClear:!1,type:1},[h.webviewId]),delete xat[p]);var S=Date.now();new Promise(((t,r)=>{mE({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?testrgb=1&action=uploadimg&buf_type=rgb&openid=${s}&height=${e.shape[1]}&width=${e.shape[0]}`,method:"POST",data:w,success(e){y.warn("上传bmp图像完成",e),_=e.data.media_id_str,t({media_id:e.data.media_id_str,type:"bmp"})},fail(e){y.warn("上传bmp图像失败",e),r(e)}})})),new Promise(((t,n)=>{mE({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&openid=${s}&height=${e.shape[1]}&width=${e.shape[0]}`,method:"POST",data:w,success(e){r=Date.now()-S,y.warn("上传原始图像完成",e),t({media_id:e.data.media_id_str,type:"raw"})},fail(e){y.warn("上传原始图像失败",e),n(e)}})})).then((o=>{if(h)if("self"!==f)try{var s=JSON.stringify({top:h.topArea?{top:0,height:Math.ceil((h.topArea.height+2)*h.ratio)}:void 0,bottom:h.bottomArea?{top:Math.floor((h.bottomArea.y-h.topArea.y+1)*h.ratio),height:Math.ceil((h.bottomArea.height+1)*h.ratio)}:void 0,shape:{width:e.shape[0],height:e.shape[1]},pixelRatio:h.ratio}),l=$ze(),c=Date.now(),u={cdn_img_id:o.media_id,img_shape:{width:e.shape[0],height:e.shape[1],channel:Cf("aiadVisionUseGrayInput")?1:3},url:"",desc:s,options:JSON.stringify({useSDF:!0,useGrayInput:Cf("aiadVisionUseGrayInput")}),is_gray:Cf("useGrayInput")},v=Date.now(),m=[new Promise(((o,s)=>{EE({apiName:"webapi_checkwxaaiadpreviewurl",reqData:u}).then((e=>{if(n=Date.now()-v,a)throw new Error("timeout");i=Date.now()-h.startTimestamp,y.warn("webapi_checkwxaaiadpreviewurl at1 res: ",e," cost: ",Date.now()-c," allcost: ",i),clearTimeout(g),Tat[p]={allCost:i,screenshotCost:t,uploadCost:r,inferenceCost:n,isTimeout:a,inferenceResult:!0},Kr("visionCheckAiadEnd",{ret:0,id:p,needClear:!0,type:2,optimize:e.data.result,pixelRatio:h.ratio,extra:{fillUp:h.fillUp,fillDown:h.fillDown,topScreenshotId:e.data.top_media_id,bottomScreenshotId:e.data.bottom_media_id}},[h.webviewId]),o(e)})).catch((o=>{if(a)return s("timeout");s(o),y.warn("webapi_checkwxaaiadpreviewurl at1 err: ",o),u.bmpStrId=_,clearTimeout(g),jW({icon:"error",title:"系统失败-103"}),_ze({allCost:i,screenshotCost:t,uploadCost:r,inferenceCost:n,isTimeout:a,inferenceResult:!1,path:O.getCurrentRoutePathWithoutQuery()}),Kr("visionCheckAiadEnd",{ret:0,id:p,needClear:!0,type:2,optimize:e.data.result,pixelRatio:h.ratio,extra:{fillUp:h.fillUp,fillDown:h.fillDown,topScreenshotId:e.data.top_media_id,bottomScreenshotId:e.data.bottom_media_id}},[h.webviewId]),Kr("aiadVisionTaskError",{errMsg:"error",errCode:o.errCode,argument:u},[h.webviewId])}))}))];Promise.all(m).then((e=>{if(l)e[0],e[1];y.warn("[aiad vision] check finish")}))}catch(e){y.warn("prehandle webapi_checkwxaaiadpreviewurl error: ",null!=e&&e.errMsg?null==e?void 0:e.errMsg:e)}else Kr("visionCheckAiadEnd",{ret:d,id:p,type:2},[h.webviewId]);else y.warn("[aiad exception] unexpected targetAdFrame")}))}catch(e){y.warn("onAppSnapshotDump error: ",e)}})),en("visionCheckAiadEndCallback",(e=>{var t=e.id,r=Tat[t];r.optimizeResult=e.result,r.optimizeValid=!e.noChange,_ze({allCost:r.allCost,screenshotCost:r.screenshotCost,uploadCost:r.uploadCost,inferenceCost:r.inferenceCost,isTimeout:r.isTimeout,inferenceResult:r.inferenceResult,optimizeResult:r.optimizeResult,optimizeValid:r.optimizeValid,path:O.getCurrentRoutePathWithoutQuery()}),delete Tat[t]}));var Oat=(e={})=>{if("string"==typeof e.path&&e.path.length>0){var t=e.path,r=SM("restartMiniProgram",Object.assign(e,{url:t}),!1);r&&(t=op(t=r||""),md("restart",Object.assign({},e,{force:!0,mode:"default",url:t,scene:void 0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("restart:","restartMiniProgram:")}}))}else zc("restartMiniProgram",e,"invalid path")},Dat=_S(),Lat=wg(Dat.readFile),Nat="wxfile://ad",Bat=`${Nat}/interstitialAdExtInfo.txt`,$at={};re.onReady((()=>{if(re.appContactInfo&&re.appContactInfo.passThroughInfo){var e=re.appContactInfo.passThroughInfo.wxa_mgr;e&&(e.mgr_list.forEach(function(){var e=xd()((function*(e){if(!$at[e.id]&&($at[e.id]=!0,982===e.id)){var t=!1;try{var{data:r}=yield Lat({filePath:Bat,encoding:"utf8"});1==(r=JSON.parse(r)).isPreloadAd&&(t=!0)}catch(e){}if(t){e.value;0,Pwe([{type:"interstitial"}])}}}));return function(t){return e.apply(this,arguments)}}()),$at={})}}));var jat=(e={})=>{md("choosePhoneNumberAreaCode",e)};Xr("webviewComponentLoad",(e=>{if(e.data){var{cache_length:t,cache_tier:r,load_cache_cost:n,run_cost:i,use_code_cache:a,file_name:o,platform:s,cost:l}=e.data;Fat({cacheLength:t,cacheTier:r,loadCacheCost:n,runCost:i,useCodeCache:a,fileName:o,platform:s,cost:l})}}));var Fat=({fileName:e,useCodeCache:t,cacheLength:r,cacheTier:n,loadCacheCost:i,runCost:a,platform:o,cost:s})=>{var l=[e,t?1:0,r,n,i,a,o,s].join(",");y.info("report system component lazyload component: ",e,o,s),T.reportKeyValue({key:"systemComponentLazyLoad",value:l,force:!0})};Xr("webviewComponentLoadBatch",(e=>{var t=e.data;t&&t.forEach((e=>{var{cache_length:t,cache_tier:r,load_cache_cost:n,run_cost:i,use_code_cache:a,file_name:o,platform:s,cost:l}=e;Fat({cacheLength:t,cacheTier:r,loadCacheCost:n,runCost:i,useCodeCache:a,fileName:o,platform:s,cost:l})}))}));var{PxStatus:Wat,asyncSetup:Uat,getStatus:Vat}=_,qat=um.cache,zat,Gat,Hat=()=>zat||(zat=new Promise((e=>{var t=()=>{Vat()===Wat.Collecting?e(!0):Gat=setTimeout(t,100)};t()}))),Kat;function Jat(e){return Xat.apply(this,arguments)}function Xat(){return(Xat=xd()((function*(e){var t,r=!0;return void 0!==(null==e?void 0:e.isWhitelistMaskMode)?r=e.isWhitelistMaskMode:null!=e&&e.maskMode&&(r="all-mask"===e.maskMode),sot(),Uat(Object.assign(e||{},{projectId:null==re||null===(t=re.accountInfo)||void 0===t?void 0:t.appId,isWhitelistMaskMode:r,newSessionCallback:t=>{var r;null==e||null===(r=e.newSessionCallback)||void 0===r||r.call(e,t),sot()}}))}))).apply(this,arguments)}function Yat(){return Qat.apply(this,arguments)}function Qat(){return(Qat=xd()((function*(){clearTimeout(Gat),yield zN(),zat=void 0}))).apply(this,arguments)}function Zat(e){return eot.apply(this,arguments)}function eot(){return eot=xd()((function*(e){yield Hat(),JN(e)})),eot.apply(this,arguments)}function tot(e){return rot.apply(this,arguments)}function rot(){return(rot=xd()((function*(e){yield Hat(),HN(e)}))).apply(this,arguments)}function not(e,t,r){var n=`[wxobs] ${e} 调用错误,`;try{if("object"==typeof t&&null!==t){var i=Boolean(t.__cos_only__),a=Object.keys(t);if(i||a.length<=10){for(var o=0;o<a.length;o++){if(a[o].length>50&&!a[o].includes(","))return console.error(`${n}${a[o]} 属性key过长，需<=50，且不包含','`),!1;var s=t[a[o]];if("string"==typeof s){if(!i&&(s.length>255||s.includes(",")))return console.error(`${n}${a[o]} 属性 value 不符合规则，长度不能超过 255 且不能包含英文逗号（,），如需包含请先转义`),!1;r[`wxobs_props_${a[o]}_string`]=s}else{if(!Number.isSafeInteger(s))return console.error(`${n}${a[o]}属性value不符合规则`),!1;r[`wxobs_props_${a[o]}_int`]=`${s}`}}return i&&(r.__cos_only__="1"),!0}console.error(`${n} 需要少于 10 个属性`)}else console.error(`${n} 需要为 Object`)}catch(e){console.error(n,e)}return!1}function iot(e,t={}){var r={};if(not("event",t,r)){if("string"==typeof e&&e.length<=50&&!e.includes(","))return tot({wxobs_type:"__userob_default_custom_event_emit__",wxobs_primary_event_name:e,...r}),!0;console.error("[wxobs] event 调用错误，eventName 需要少于50个字符")}return!1}function aot(e){return"string"==typeof e&&e.length<=80&&!e.includes(",")?(tot({wxobs_type:"__userob_default_custom_id_set__",wxobs_primary_uid:e}),Kat=e,qat.setStorage({key:"wxobs_cache_uid",data:e}),!0):(console.error(`[wxobs] setCustomId 调用错误，自定义 id 必须为字符串且少于80个字符, 当前输入为'${e}'`),!1)}function oot(e){if(!Kat)return console.error("[wxobs] 调用 setCustomProperties 失败：需先调用 setCustomId"),!1;var t={};return!!not("setCustomProperties",e,t)&&(tot({wxobs_type:"__userob_default_custom_props_set__",wxobs_primary_uid:Kat,...t}),!0)}function sot(){try{var e=qat.getStorageSync("wxobs_cache_uid");e&&aot(e)}catch(e){}}var lot=()=>({setup:Jat,event:iot,setCustomId:aot,setCustomProperties:oot,teardown:Yat,setAttrs:Zat,getStatus:Vat,getSessionId:()=>i8.uuid,getFeatureFlags:TN,getFeatureFlagsSync:MN}),cot,uot;qt("onContactUpdate",(()=>{})),Lnt({handleWxobsError:kL,asyncSetup:UN,setup:uB,setAttrs:JN,teardown:zN,emitEvent:HN,getStatus:XN,getFeatureFlags:TN,getFeatureFlagsSync:MN});try{k.onWorkerMsg(((e,t)=>{var{__cmd__:r,data:n}=t;if("data"===r&&n){var{type:i,adData:a}=n;if("splashAdCreateExtend"===i){if(!cot)try{cot=__splashAdFloatWindowSDK__.getInst(a)}catch(e){y.warn("__splashAdFloatWindowSDK__.getInst error: ",e)}uot=a}"splashAdShowExtend"===i&&(cot||(cot=__splashAdFloatWindowSDK__.getInst(a||uot)),cot.show())}}))}catch(e){}function dot(e,t=1){var r=void 0;return VO("deprecated",{hookHandlers:{beforeExecute(){void 0===r&&(r=Math.random()*t<=1),r&&_w(t>1?`${this.api} (*${t})`:this.api),console.warn(`wx.${this.api} is deprecated.${e?`Please use ${e} instead.`:""}`)}},getState:()=>({api:void 0})})}var pot=ir("KeyDown"),hot=ir("KeyUp");qt("onKeyDown",(e=>{y.info("onKeyDown",e),pot.emit(e)})),qt("onKeyUp",(e=>{y.info("onKeyUp",e),hot.emit(e)}));var fot=pot.onMethod,got=pot.offMethod,vot=hot.onMethod,mot=hot.offMethod,yot="openGameDetail";function bot(e={}){if(Cf(yot)){if(Vc(yot,e,{appId:"",promotionId:""})){var{appId:t="",promotionId:r=""}=e;md(yot,{appId:t,promotionId:r,success:t=>{Hc({name:yot,args:e,errMsg:t.errMsg})},fail:t=>{zc(yot,e,t.errMsg)}})}}else zc(yot,e,"no permission")}var _ot=ir("ActivePageChanged"),wot=_ot.onMethod,Sot=_ot.offMethod,Cot,kot,Iot,Pot,Aot,xot,Tot,Eot,Mot,Rot,Oot,Dot,Lot,Not,Bot,$ot,jot,Fot,Wot,Uot,Vot,qot,zot,Got,Hot,Kot,Jot,Xot,Yot,Qot,Zot,est,tst,rst,nst,ist,ast,ost,sst,lst,cst,ust,dst,pst,hst,fst,gst,vst,mst,yst,bst,_st,wst,Sst,Cst,kst,Ist,Pst,Ast,xst,Tst,Est,Mst,Rst,Ost,Dst,Lst,Nst,Bst,$st,jst,Fst,Wst,Ust,Vst,qst,zst,Gst,Hst,Kst,Jst,Xst,Yst,Qst,Zst,elt,tlt,rlt,nlt,ilt,alt,olt,slt,llt,clt,ult,dlt,plt,hlt,flt,glt,vlt,mlt,ylt,blt,_lt,wlt,Slt,Clt,klt,Ilt,Plt,Alt,xlt,Tlt,Elt,Mlt,Rlt,Olt,Dlt,Llt,Nlt,Blt,$lt,jlt,Flt,Wlt,Ult,Vlt,qlt,zlt,Glt,Hlt,Klt,Jlt,Xlt,Ylt,Qlt,Zlt,ect,tct,rct,nct,ict,act,oct,sct,lct,cct,uct,dct,pct,hct,fct,gct,vct,mct,yct,bct,_ct,wct,Sct,Cct,kct,Ict,Pct,Act,xct,Tct,Ect,Mct,Rct,Oct,Dct,Lct,Nct,Bct,$ct,jct,Fct,Wct,Uct,Vct,qct,zct,Gct,Hct,Kct,Jct,Xct,Yct,Qct,Zct,eut,tut,rut,nut,iut,aut,out,sut,lut,cut,uut,dut,put,hut,fut,gut,vut,mut,yut,but,_ut,wut,Sut,Cut,kut,Iut,Put,Aut,xut,Tut,Eut,Mut,Rut,Out,Dut,Lut,Nut,But,$ut,jut,Fut,Wut,Uut,Vut,qut,zut,Gut,Hut,Kut,Jut,Xut,Yut,Qut,Zut,edt,tdt,rdt,ndt,idt,adt,odt,sdt,ldt,cdt,udt,ddt,pdt,hdt,fdt,gdt,vdt,mdt,ydt,bdt,_dt,wdt,Sdt,Cdt,kdt,Idt,Pdt,Adt,xdt,Tdt,Edt,Mdt,Rdt,Odt,Ddt,Ldt,Ndt,Bdt,$dt,jdt,Fdt,Wdt,Udt,Vdt,qdt,zdt,Gdt,Hdt,Kdt,Jdt,Xdt,Ydt,Qdt,Zdt,ept,tpt,rpt,npt,ipt,apt,opt,spt,lpt,cpt,upt,dpt,ppt,hpt,fpt,gpt,vpt,mpt,ypt,bpt,_pt,wpt,Spt,Cpt,kpt,Ipt,Ppt,Apt,xpt,Tpt,Ept,Mpt,Rpt,Opt,Dpt,Lpt,Npt,Bpt,$pt,jpt,Fpt,Wpt,Upt,Vpt,qpt,zpt,Gpt,Hpt,Kpt,Jpt,Xpt,Ypt,Qpt,Zpt,eht,tht,rht,nht,iht,aht,oht,sht,lht,cht,uht,dht,pht,hht,fht,ght,vht,mht,yht,bht,_ht,wht,Sht,Cht,kht,Iht,Pht,Aht,xht,Tht,Eht,Mht,Rht,Oht,Dht,Lht,Nht,Bht,$ht,jht,Fht,Wht,Uht,Vht,qht,zht,Ght,Hht,Kht,Jht,Xht,Yht,Qht,Zht,eft,tft,rft,nft,ift,aft,oft,sft,lft,cft,uft,dft,pft,hft,fft,gft,vft,mft,yft,bft,_ft,wft,Sft,Cft,kft,Ift,Pft,Aft,xft,Tft,Eft,Mft,Rft,Oft,Dft,Lft,Nft,Bft,$ft,jft,Fft,Wft,Uft,Vft,qft,zft,Gft,Hft,Kft,Jft,Xft,Yft,Qft,Zft,egt,tgt,rgt,ngt,igt,agt,ogt,sgt,lgt,cgt,ugt,dgt,pgt,hgt,fgt,ggt,vgt,mgt,ygt,bgt,_gt,wgt,Sgt,Cgt,kgt,Igt,Pgt,Agt,xgt,Tgt,Egt,Mgt,Rgt,Ogt,Dgt,Lgt,Ngt,Bgt,$gt,jgt,Fgt,Wgt,Ugt,Vgt,qgt,zgt,Ggt,Hgt,Kgt,Jgt,Xgt,Ygt,Qgt,Zgt,evt,tvt,rvt,nvt,ivt,avt,ovt,svt,lvt,cvt,uvt,dvt,pvt,hvt,fvt,gvt,vvt,mvt,yvt,bvt,_vt,wvt,Svt,Cvt,kvt,Ivt,Pvt,Avt,xvt,Tvt,Evt,Mvt,Rvt,Ovt,Dvt,Lvt,Nvt,Bvt,$vt,jvt,Fvt,Wvt,Uvt,Vvt,qvt,zvt,Gvt,Hvt,Kvt,Jvt,Xvt,Yvt,Qvt,Zvt,emt,tmt,rmt,nmt,imt,amt,omt,smt,lmt,cmt,umt,dmt,pmt,hmt,fmt,gmt,vmt,mmt,ymt,bmt,_mt,wmt,Smt,Cmt,kmt,Imt,Pmt,Amt,xmt,Tmt,Emt,Mmt,Rmt,Omt,Dmt,Lmt,Nmt,Bmt,$mt,jmt,Fmt,Wmt,Umt,Vmt,qmt,zmt,Gmt,Hmt,Kmt,Jmt,Xmt,Ymt,Qmt,Zmt,eyt,tyt,ryt,nyt,iyt,ayt,oyt,syt,lyt,cyt,uyt,dyt,pyt,hyt,fyt,gyt,vyt,myt,yyt,byt,_yt,wyt,Syt,Cyt,kyt,Iyt,Pyt,Ayt,xyt,Tyt,Eyt,Myt,Ryt,Oyt,Dyt,Lyt,Nyt,Byt,$yt,jyt,Fyt,Wyt,Uyt,Vyt,qyt,zyt,Gyt,Hyt,Kyt,Jyt,Xyt,Yyt,Qyt,Zyt,ebt,tbt,rbt,nbt,ibt,abt,obt,sbt,lbt,cbt,ubt,dbt,pbt,hbt,fbt,gbt,vbt,mbt,ybt,bbt,_bt,wbt,Sbt,Cbt,kbt,Ibt,Pbt,Abt,xbt,Tbt,Ebt,Mbt,Rbt,Obt,Dbt,Lbt,Nbt,Bbt,$bt,jbt,Fbt,Wbt,Ubt,Vbt,qbt,zbt,Gbt,Hbt,Kbt,Jbt,Xbt,Ybt,Qbt,Zbt,e_t,t_t,r_t,n_t,i_t,a_t,o_t,s_t,l_t,c_t,u_t,d_t,p_t,h_t,f_t,g_t,v_t,m_t,y_t,b_t,__t,w_t,S_t,C_t,k_t,I_t,P_t,A_t,x_t,T_t,E_t,M_t,R_t,O_t,D_t,L_t,N_t,B_t,$_t,j_t,F_t,W_t,U_t,V_t,q_t,z_t,G_t,H_t,K_t,J_t,X_t,Y_t,Q_t,Z_t,ewt,twt,rwt,nwt,iwt,awt,owt,swt,lwt,cwt,uwt,dwt,pwt,hwt,fwt,gwt,vwt,mwt,ywt,bwt,_wt,wwt,Swt,Cwt,kwt,Iwt,Pwt,Awt,xwt,Twt,Ewt,Mwt,Rwt,Owt,Dwt,Lwt,Nwt,Bwt,$wt,jwt,Fwt,Wwt,Uwt,Vwt,qwt,zwt,Gwt,Hwt,Kwt,Jwt,Xwt,Ywt,Qwt,Zwt,eSt,tSt,rSt,nSt,iSt,aSt,oSt,sSt,lSt,cSt,uSt,dSt,pSt,hSt,fSt,gSt,vSt,mSt,ySt,bSt,_St,wSt,SSt,CSt,kSt,ISt,PSt,ASt,xSt,TSt,ESt,MSt,RSt,OSt,DSt,LSt,NSt,BSt,$St,jSt,FSt,WSt,USt,VSt,qSt,zSt,GSt,HSt,KSt,JSt,XSt,YSt,QSt,ZSt,eCt,tCt,rCt,nCt,iCt,aCt,oCt,sCt,lCt,cCt,uCt,dCt,pCt,hCt,fCt,gCt,vCt,mCt,yCt,bCt,_Ct,wCt,SCt,CCt,kCt,ICt,PCt,ACt,xCt,TCt,ECt,MCt,RCt,OCt,DCt,LCt,NCt,BCt,$Ct,jCt,FCt,WCt,UCt,VCt,qCt,zCt,GCt,HCt,KCt,JCt,XCt,YCt,QCt,ZCt,ekt,tkt,rkt,nkt,ikt,akt,okt,skt,lkt,ckt,ukt,dkt,pkt,hkt,fkt,gkt,vkt,mkt,ykt,bkt,_kt,wkt,Skt,Ckt,kkt,Ikt,Pkt,Akt,xkt,Tkt,Ekt,Mkt,Rkt,Okt,Dkt,Lkt,Nkt,Bkt,$kt,jkt,Fkt,Wkt,Ukt,Vkt,qkt,zkt,Gkt,Hkt,Kkt,Jkt,Xkt,Ykt,Qkt,Zkt,eIt,tIt,rIt,nIt,iIt,aIt,oIt,sIt,lIt,cIt,uIt,dIt,pIt,hIt,fIt,gIt,vIt,mIt,yIt,bIt,_It,wIt,SIt,CIt,kIt,IIt,PIt,AIt,xIt,TIt,EIt,MIt,RIt,OIt,DIt,LIt,NIt,BIt,$It,jIt,FIt,WIt,UIt,VIt,qIt,zIt,GIt,HIt,KIt,JIt,XIt,YIt,QIt,ZIt,ePt,tPt,rPt,nPt,iPt,aPt,oPt,sPt,lPt,cPt,uPt,dPt,pPt,hPt,fPt,gPt,vPt,mPt,yPt,bPt,_Pt,wPt,SPt,CPt,kPt,IPt,PPt,APt,xPt,TPt,EPt,MPt,RPt,OPt,DPt,LPt,NPt,BPt,$Pt,jPt,FPt,WPt,UPt,VPt,qPt,zPt,GPt,HPt,KPt,JPt,XPt,YPt,QPt,ZPt,eAt,tAt,rAt,nAt,iAt,aAt,oAt,sAt,lAt,cAt,uAt,dAt,pAt,hAt,fAt,gAt,vAt,mAt,yAt,bAt,_At,wAt,SAt,CAt,kAt,IAt,PAt,AAt,xAt,TAt,EAt,MAt,RAt,OAt,DAt,LAt,NAt,BAt,$At,jAt,FAt,WAt,UAt,VAt,qAt,zAt,GAt,HAt,KAt,JAt,XAt,YAt,QAt,ZAt,ext,txt,rxt,nxt,ixt,axt,oxt,sxt,lxt,cxt,uxt,dxt,pxt,hxt,fxt,gxt,vxt,mxt,yxt,bxt,_xt,wxt,Sxt,Cxt,kxt,Ixt,Pxt,Axt,xxt,Txt,Ext,Mxt,Rxt,Oxt,Dxt,Lxt,Nxt,Bxt,$xt,jxt,Fxt,Wxt,Uxt,Vxt,qxt,zxt,Gxt,Hxt,Kxt,Jxt,Xxt,Yxt,Qxt,Zxt,eTt,tTt,rTt,nTt,iTt,aTt,oTt,sTt,lTt,cTt,uTt,dTt,pTt,hTt,fTt,gTt,vTt,mTt,yTt,bTt,_Tt,wTt,STt,CTt,kTt,ITt,PTt,ATt,xTt,TTt,ETt,MTt,RTt,OTt,DTt,LTt,NTt,BTt,$Tt,jTt,FTt,WTt,UTt,VTt,qTt,zTt,GTt,HTt,KTt,JTt,XTt,YTt,QTt,ZTt,eEt,tEt,rEt,nEt,iEt,aEt,oEt,sEt,lEt,cEt,uEt,dEt,pEt,hEt,fEt,gEt,vEt,mEt,yEt,bEt,_Et,wEt,SEt,CEt,kEt,IEt,PEt,AEt,xEt,TEt,EEt,MEt,REt,OEt,DEt,LEt,NEt,BEt,$Et,jEt,FEt,WEt,UEt,VEt,qEt,zEt,GEt,HEt,KEt,JEt,XEt,YEt,QEt,ZEt,eMt,tMt,rMt,nMt,iMt,aMt,oMt,sMt,lMt,cMt,uMt,dMt,pMt,hMt,fMt,gMt,vMt,mMt,yMt,bMt,_Mt,wMt,SMt,CMt,kMt,IMt,PMt,AMt,xMt,TMt,EMt,MMt,RMt,OMt,DMt,LMt,NMt,BMt,$Mt,jMt,FMt,WMt,UMt,VMt,qMt,zMt,GMt,HMt,KMt,JMt,XMt,YMt,QMt,ZMt,eRt,tRt,rRt,nRt,iRt,aRt,oRt,sRt,lRt,cRt,uRt,dRt,pRt,hRt,fRt,gRt,vRt,mRt,yRt,bRt,_Rt,wRt,SRt,CRt,kRt,IRt,PRt,ARt,xRt,TRt,ERt,MRt,RRt,ORt,DRt,LRt,NRt,BRt,$Rt,jRt,FRt,WRt,URt,VRt,qRt,zRt,GRt,HRt,KRt,JRt,XRt,YRt,QRt,ZRt,eOt,tOt,rOt,nOt,iOt,aOt,oOt,sOt,lOt,cOt,uOt,dOt,pOt,hOt,fOt,gOt,vOt,mOt,yOt,bOt,_Ot,wOt,SOt,COt,kOt,IOt,POt,AOt,xOt,TOt,EOt,MOt,ROt,OOt,DOt,LOt,NOt,BOt,$Ot,jOt,FOt,WOt,UOt,VOt,qOt,zOt,GOt,HOt,KOt,JOt,XOt,YOt,QOt,ZOt,eDt,tDt,rDt,nDt,iDt,aDt,oDt,sDt,lDt,cDt,uDt,dDt,pDt,hDt,fDt,gDt,vDt,mDt,yDt,bDt,_Dt,wDt,SDt,CDt,kDt,IDt,PDt,ADt,xDt,TDt,EDt,MDt,RDt,ODt,DDt,LDt,NDt,BDt,$Dt,jDt,FDt,WDt,UDt,VDt,qDt,zDt,GDt,HDt,KDt,JDt,XDt,YDt,QDt,ZDt,eLt,tLt,rLt,nLt,iLt,aLt,oLt,sLt,lLt,cLt,uLt,dLt,pLt,hLt,fLt,gLt,vLt,mLt,yLt,bLt,_Lt,wLt,SLt,CLt,kLt,ILt,PLt,ALt,xLt,TLt,ELt,MLt,RLt,OLt,DLt,LLt,NLt,BLt,$Lt,jLt,FLt,WLt,ULt,VLt,qLt,zLt,GLt,HLt,KLt,JLt,XLt,YLt,QLt,ZLt,eNt,tNt,rNt,nNt,iNt,aNt,oNt,sNt,lNt,cNt,uNt,dNt,pNt,hNt,fNt,gNt,vNt,mNt,yNt,bNt,_Nt,wNt,SNt,CNt,kNt,INt,PNt,ANt,xNt,TNt,ENt,MNt,RNt,ONt,DNt,LNt,NNt;ur("onActivePageChanged",(e=>{uu.lastActiveWebviewId=e.webviewId,_ot.emit(e)}));var{setStorage:BNt,setStorageSync:$Nt,plugin_setStorage:jNt,plugin_setStorageSync:FNt,batchSetStorage:WNt,batchSetStorageSync:UNt,plugin_batchSetStorage:VNt,plugin_batchSetStorageSync:qNt,getStorage:zNt,getStorageSync:GNt,plugin_getStorage:HNt,plugin_getStorageSync:KNt,batchGetStorage:JNt,batchGetStorageSync:XNt,plugin_batchGetStorage:YNt,plugin_batchGetStorageSync:QNt,getStorageInfo:ZNt,getStorageInfoSync:eBt,plugin_getStorageInfo:tBt,plugin_getStorageInfoSync:rBt,removeStorage:nBt,removeStorageSync:iBt,plugin_removeStorage:aBt,plugin_removeStorageSync:oBt,clearStorage:sBt,clearStorageSync:lBt,plugin_clearStorage:cBt,plugin_clearStorageSync:uBt}=LAe;int(eval),cZe(),kk(),m3e(),y3e(),yM(),Gie(),zQe();var dBt=iA.connectSocket,pBt=iA.closeSocket,hBt=iA.sendSocketMessage,fBt=iA.onSocketOpen,gBt=iA.onSocketClose,vBt=iA.onSocketMessage,mBt=iA.onSocketError,yBt=Qie,bBt=cae,_Bt=nae,wBt=uae,SBt=Zie,CBt=rae,kBt=tae,IBt=HIe,PBt=KIe,ABt=CIe,xBt=kIe,TBt=IIe,EBt=PIe,MBt=BIe,RBt=$Ie,OBt=jIe,DBt=FIe,LBt=NIe,NBt=sPe,BBt=lPe,$Bt=cPe,jBt=uPe,FBt=dPe,WBt=hPe,UBt=fPe,VBt=gPe,qBt=FBe,zBt=UBe,GBt=VBe,HBt=zBe,KBt=HBe,JBt=QBe,XBt=GBe,YBt=KBe,QBt=ZBe,ZBt=e$e,e$t=r$e,t$t=n$e,r$t=a$e,n$t=o$e,i$t=mYe,a$t=vYe,o$t=O$,s$t=z$,l$t=H$,c$t=Y$,u$t=X$,d$t=J$,p$t=Q$,h$t=Z$(""),f$t=ej(""),g$t=tj,v$t=e1,m$t=t1,y$t=Txe,b$t=Exe,_$t=Mxe,w$t=Rxe,S$t=Oxe,C$t=Dxe,k$t=Lxe,I$t=jW,P$t=qW,A$t=HW,x$t=KW,T$t=OW,E$t=JW,M$t=YW,R$t=zF,O$t=HF,D$t=KF,L$t=QF,N$t=ZF,B$t=tW,$$t=rW,j$t=nW,F$t=uie,W$t=pie,U$t=hie,V$t=mie,q$t=_ie,z$t=Iie,G$t=kae,H$t=Sie,K$t=Cie,J$t=f1,X$t=v1,Y$t=m1,Q$t=y1;function Z$t(e){var t;return()=>t=t||e()}var ejt=(Cot=HO(),kot=f2e(),Iot=F2e(),Pot=Y2e(),Aot=b6e(),xot=z2e(sSe),Tot=y6e(),Eot=x2e(.05),Mot=x2e(.05),Rot=x2e(.05),Oot=x2e(.05),Dot=x2e(.05),Lot=L2e(),Not=x2e(.05),Bot=x2e(.05),$ot=x2e(.05),jot=x2e(.05),Fot=L2e(),Wot=x2e(.05),Uot=x2e(.05),Vot=x2e(.05),qot=x2e(.05),zot=L2e(),Got=x2e(.05),Hot=x2e(.05),Kot=x2e(.05),Jot=x2e(.05),Xot=L2e(),Yot=x2e(.05),Qot=x2e(.05),Zot=x2e(.05),est=x2e(.05),tst=L2e(),rst=x2e(.05),nst=x2e(.05),ist=x2e(.05),ast=x2e(.05),ost=L2e(),sst=x2e(.05),lst=x2e(.05),cst=x2e(.05),ust=x2e(.05),dst=L2e(),pst=x2e(.05),hst=x2e(.05),fst=x2e(.05),gst=x2e(.05),vst=x2e(.05),mst=x2e(.05),yst=x2e(.05),bst=L2e(),_st=x2e(.05),wst=L2e(),Sst=x2e(.05),Cst=L2e(),kst=x2e(.05),Ist=x2e(.05),Pst=x2e(.05),Ast=L2e(),xst=V2e(),Tst=x2e(.05),Est=x2e(.05),Mst=L2e(),Rst=G2e(),Ost=x2e(.05),Dst=L2e(),Lst=G2e(),Nst=x2e(.05),Bst=L2e(),$st=x2e(.05),jst=x2e(.05),Fst=L2e(),Wst=x2e(.05),Ust=L2e(),Vst=x2e(.05),qst=L2e(),zst=x2e(.05),Gst=x2e(.05),Hst=x2e(.05),Kst=x2e(.05),Jst=x2e(.05),Xst=x2e(.05),Yst=x2e(.05),Qst=x2e(.05),Zst=A8(850,851),elt=x2e(.05),tlt=L2e(),rlt=x2e(.05),nlt=L2e(),ilt=G2e(),alt=A8(844,845),olt=x2e(.05),slt=L2e(),llt=A8(830,831),clt=x2e(.05),ult=L2e(),dlt=x2e(.05),plt=G2e(),hlt=A8(838,839),flt=x2e(.05),glt=L2e(),vlt=x2e(.05),mlt=x2e(.05),ylt=x2e(.05),blt=x2e(.05),_lt=x2e(.05),wlt=x2e(.05),Slt=L2e(),Clt=x2e(.05),klt=L2e(),Ilt=x2e(.05),Plt=L2e(),Alt=x2e(.05),xlt=x2e(.05),Tlt=x2e(.05),Elt=L2e(),Mlt=x2e(.05),Rlt=x2e(.05),Olt=L2e(),Dlt=x2e(.05),Llt=L2e(),Nlt=x2e(.05),Blt=L2e(),$lt=x2e(.05),jlt=L2e(),Flt=x2e(.05),Wlt=L2e(),Ult=x2e(.05),Vlt=t6e(),qlt=L2e(),zlt=x2e(.05),Glt=x2e(.05),Hlt=x2e(.05),Klt=x2e(.05),Jlt=x2e(.05),Xlt=x2e(.05),Ylt=x2e(.05),Qlt=x2e(.05),Zlt=x2e(.05),ect=x2e(.05),tct=x2e(.05),rct=L2e(),nct=x2e(.05),ict=x2e(.05),act=x2e(.05),oct=x2e(.05),sct=x2e(.05),lct=x2e(.05),cct=x2e(.05),uct=G2e(),dct=x2e(.05),pct=L2e(),hct=e6e("permission"),fct=x2e(.05),gct=L2e(),vct=e6e("permission"),mct=x2e(.05),yct=x2e(.05),bct=L2e(),_ct=x2e(.05),wct=L2e(),Sct=x2e(.05),Cct=x2e(.05),kct=x2e(.05),Ict=x2e(.05),Pct=x2e(.05),Act=L2e(),xct=G2e(),Tct=x2e(.05),Ect=L2e(),Mct=V2e(),Rct=x2e(.05),Oct=x2e(.05),Dct=x2e(.05),Lct=x2e(.05),Nct=x2e(.05),Bct=x2e(.05),$ct=L2e(),jct=x2e(.05),Fct=x2e(.05),Wct=x2e(.05),Uct=L2e(),Vct=x2e(.05),qct=x2e(.05),zct=x2e(.05),Gct=L2e(),Hct=x2e(.05),Kct=L2e(),Jct=x2e(.05),Xct=x2e(.05),Yct=x2e(.05),Qct=x2e(.05),Zct=x2e(.05),eut=x2e(.05),tut=x2e(.05),rut=L2e(),nut=x2e(.05),iut=L2e(),aut=x2e(.05),out=L2e(),sut=x2e(.05),lut=L2e(),cut=x2e(.05),uut=L2e(),dut=x2e(.05),put=L2e(),hut=x2e(.05),fut=L2e(),gut=x2e(.05),vut=L2e(),mut=x2e(.05),yut=L2e(),but=x2e(.05),_ut=x2e(.05),wut=L2e(),Sut=x2e(.05),Cut=L2e(),kut=x2e(.05),Iut=L2e(),Put=x2e(.05),Aut=x2e(.05),xut=x2e(.05),Tut=x2e(.05),Eut=L2e(),Mut=x2e(.05),Rut=L2e(),Out=x2e(.05),Dut=L2e(),Lut=x2e(.05),Nut=L2e(),But=x2e(.05),$ut=x2e(.05),jut=x2e(.05),Fut=x2e(.05),Wut=x2e(.05),Uut=x2e(.05),Vut=x2e(.05),qut=x2e(.05),zut=x2e(.05),Gut=x2e(.05),Hut=L2e(),Kut=x2e(.05),Jut=L2e(),Xut=x2e(.05),Yut=L2e(),Qut=x2e(.05),Zut=L2e(),edt=x2e(.05),tdt=L2e(),rdt=x2e(.05),ndt=L2e(),idt=x2e(.05),adt=x2e(.05),odt=x2e(.05),sdt=x2e(.05),ldt=x2e(.05),cdt=x2e(.05),udt=L2e(),ddt=x2e(.05),pdt=x2e(.05),hdt=e6e("permission"),fdt=e6e("permission"),gdt=x2e(.05),vdt=L2e(),mdt=x2e(.05),ydt=L2e(),bdt=G2e(),_dt=x2e(.05),wdt=L2e(),Sdt=x2e(.05),Cdt=L2e(),kdt=x2e(.05),Idt=L2e(),Pdt=x2e(.05),Adt=L2e(),xdt=x2e(.05),Tdt=x2e(.05),Edt=x2e(.05),Mdt=L2e(),Rdt=x2e(.05),Odt=L2e(),Ddt=x2e(.05),Ldt=L2e(),Ndt=x2e(.05),Bdt=L2e(),$dt=x2e(.05),jdt=L2e(),Fdt=x2e(.05),Wdt=L2e(),Udt=x2e(.05),Vdt=L2e(),qdt=x2e(.05),zdt=L2e(),Gdt=x2e(.05),Hdt=L2e(),Kdt=x2e(.05),Jdt=L2e(),Xdt=x2e(.05),Ydt=L2e(),Qdt=x2e(.05),Zdt=x2e(.05),ept=x2e(.05),tpt=L2e(),rpt=x2e(.05),npt=L2e(),ipt=x2e(.05),apt=L2e(),opt=x2e(.05),spt=L2e(),lpt=G2e(),cpt=x2e(.05),upt=L2e(),dpt=x2e(.05),ppt=x2e(.05),hpt=x2e(.05),fpt=x2e(.05),gpt=L2e(),vpt=x2e(.05),mpt=L2e(),ypt=x2e(.05),bpt=L2e(),_pt=x2e(.05),wpt=x2e(.05),Spt=x2e(.05),Cpt=x2e(.05),kpt=x2e(.05),Ipt=x2e(.05),Ppt=x2e(.05),Apt=x2e(.05),xpt=x2e(.05),Tpt=x2e(.05),Ept=x2e(.05),Mpt=L2e(),Rpt=x2e(.05),Opt=L2e(),Dpt=x2e(.05),Lpt=L2e(),Npt=x2e(.05),Bpt=x2e(.05),$pt=x2e(.05),jpt=x2e(.05),Fpt=x2e(.05),Wpt=L2e(),Upt=x2e(.05),Vpt=L2e(),qpt=G2e(),zpt=x2e(.05),Gpt=L2e(),Hpt=x2e(.05),Kpt=L2e(),Jpt=x2e(.05),Xpt=L2e(),Ypt=x2e(.05),Qpt=x2e(.05),Zpt=L2e(),eht=x2e(.05),tht=x2e(.05),rht=x2e(.05),nht=x2e(.05),iht=x2e(.05),aht=x2e(.05),oht=x2e(.05),sht=x2e(.05),lht=L2e(),cht=x2e(.05),uht=L2e(),dht=x2e(.05),pht=L2e(),hht=x2e(.05),fht=L2e(),ght=x2e(.05),vht=x2e(.05),mht=x2e(.05),yht=x2e(.05),bht=L2e(),_ht=x2e(.05),wht=L2e(),Sht=x2e(.05),Cht=x2e(.05),kht=x2e(.05),Iht=x2e(.05),Pht=x2e(.05),Aht=x2e(.05),xht=x2e(.05),Tht=x2e(.05),Eht=x2e(.05),Mht=x2e(.05),Rht=x2e(.05),Oht=L2e(),Dht=_6e(),Lht=x2e(.05),Nht=L2e(),Bht=_6e(),$ht=x2e(.05),jht=L2e(),Fht=_6e(),Wht=x2e(.05),Uht=L2e(),Vht=_6e(),qht=x2e(.05),zht=L2e(),Ght=_6e(),Hht=x2e(.05),Kht=x2e(.05),Jht=x2e(.05),Xht=x2e(.05),Yht=x2e(.05),Qht=x2e(.05),Zht=x2e(.05),eft=x2e(.05),tft=x2e(.05),rft=x2e(.05),nft=x2e(.05),ift=x2e(.05),aft=x2e(.05),oft=x2e(.05),sft=x2e(.05),lft=L2e(),cft=x2e(.05),uft=x2e(.05),dft=L2e(),pft=x2e(.05),hft=L2e(),fft=x2e(.05),gft=x2e(.05),vft=x2e(.05),mft=L2e(),yft=x2e(.05),bft=L2e(),_ft=x2e(.05),wft=x2e(.05),Sft=x2e(.05),Cft=x2e(.05),kft=x2e(.05),Ift=x2e(.05),Pft=x2e(.05),Aft=x2e(.05),xft=x2e(.05),Tft=x2e(.05),Eft=x2e(.05),Mft=x2e(.05),Rft=x2e(.05),Oft=x2e(.05),Dft=x2e(.05),Lft=x2e(.05),Nft=x2e(.05),Bft=x2e(.05),$ft=G2e(),jft=A8(840,841),Fft=x2e(.05),Wft=L2e(),Uft=A8(832,833),Vft=x2e(.05),qft=L2e(),zft=x2e(.05),Gft=L2e(),Hft=G2e(),Kft=x2e(.05),Jft=L2e(),Xft=x2e(.05),Yft=L2e(),Qft=A8(834,835),Zft=x2e(.05),egt=A8(836,837),tgt=x2e(.05),rgt=G2e(),ngt=x2e(.05),igt=L2e(),agt=dot("wx.getRecorderManager"),ogt=x2e(.05),sgt=L2e(),lgt=dot("wx.getRecorderManager"),cgt=x2e(.05),ugt=L2e(),dgt=x2e(.05),pgt=L2e(),hgt=x2e(.05),fgt=L2e(),ggt=x2e(.05),vgt=G2e(),mgt=A8(842,843),ygt=x2e(.05),bgt=L2e(),_gt=G2e(),wgt=x2e(.05),Sgt=L2e(),Cgt=x2e(.05),kgt=L2e(),Igt=x2e(.05),Pgt=L2e(),Agt=x2e(.05),xgt=L2e(),Tgt=x2e(.05),Egt=x2e(.05),Mgt=x2e(.05),Rgt=x2e(.05),Ogt=x2e(.05),Dgt=x2e(.05),Lgt=G2e(),Ngt=e6e("declare"),Bgt=x2e(.05),$gt=L2e(),jgt=G2e(),Fgt=e6e("declare"),Wgt=x2e(.05),Ugt=A8(846,847),Vgt=x2e(.05),qgt=L2e(),zgt=G2e(),Ggt=e6e("declare"),Hgt=x2e(.05),Kgt=L2e(),Jgt=G2e(),Xgt=e6e("declare"),Ygt=x2e(.05),Qgt=L2e(),Zgt=e6e("declare"),evt=x2e(.05),tvt=x2e(.05),rvt=x2e(.05),nvt=x2e(.05),ivt=G2e(),avt=e6e("declare"),ovt=x2e(.05),svt=L2e(),lvt=G2e(),cvt=e6e("declare"),uvt=x2e(.05),dvt=L2e(),pvt=x2e(.05),hvt=L2e(),fvt=x2e(.05),gvt=L2e(),vvt=x2e(.05),mvt=x2e(.05),yvt=x2e(.05),bvt=x2e(.05),_vt=x2e(.05),wvt=L2e(),Svt=dot("wx.getSystemSetting/wx.getAppAuthorizeSetting/wx.getDeviceInfo/wx.getWindowInfo/wx.getAppBaseInfo",1e3),Cvt=x2e(.05),kvt=dot("wx.getSystemSetting/wx.getAppAuthorizeSetting/wx.getDeviceInfo/wx.getWindowInfo/wx.getAppBaseInfo",1e3),Ivt=x2e(.05),Pvt=dot("wx.getSystemSetting/wx.getAppAuthorizeSetting/wx.getDeviceInfo/wx.getWindowInfo/wx.getAppBaseInfo",100),Avt=x2e(.05),xvt=L2e(),Tvt=x2e(.05),Evt=L2e(),Mvt=x2e(.05),Rvt=x2e(.05),Ovt=x2e(.05),Dvt=x2e(.05),Lvt=x2e(.05),Nvt=x2e(.05),Bvt=x2e(.05),$vt=x2e(.05),jvt=L2e(),Fvt=x2e(.05),Wvt=x2e(.05),Uvt=x2e(.05),Vvt=G2e(),qvt=x2e(.05),zvt=L2e(),Gvt=x2e(.05),Hvt=L2e(),Kvt=x2e(.05),Jvt=x2e(.05),Xvt=G2e(),Yvt=x2e(.05),Qvt=L2e(),Zvt=x2e(.05),emt=L2e(),tmt=x2e(.05),rmt=x2e(.05),nmt=G2e(),imt=x2e(.05),amt=L2e(),omt=x2e(.05),smt=L2e(),lmt=x2e(.05),cmt=x2e(.05),umt=G2e(),dmt=x2e(.05),pmt=L2e(),hmt=x2e(.05),fmt=L2e(),gmt=x2e(.05),vmt=x2e(.05),mmt=x2e(.05),ymt=L2e(),bmt=G2e(),_mt=x2e(.05),wmt=L2e(),Smt=G2e(),Cmt=x2e(.05),kmt=L2e(),Imt=x2e(.05),Pmt=L2e(),Amt=e6e("permission"),xmt=x2e(.05),Tmt=x2e(.05),Emt=x2e(.05),Mmt=x2e(.05),Rmt=L2e(),Omt=x2e(.05),Dmt=L2e(),Lmt=x2e(.05),Nmt=L2e(),Bmt=x2e(.05),$mt=L2e(),jmt=x2e(.05),Fmt=L2e(),Wmt=x2e(.05),Umt=x2e(.05),Vmt=x2e(.05),qmt=G2e(),zmt=x2e(.05),Gmt=L2e(),Hmt=x2e(.05),Kmt=L2e(),Jmt=x2e(.05),Xmt=L2e(),Ymt=x2e(.05),Qmt=x2e(.05),Zmt=x2e(.05),eyt=x2e(.05),tyt=x2e(.05),ryt=x2e(.05),nyt=x2e(.05),iyt=L2e(),ayt=x2e(.05),oyt=x2e(.05),syt=x2e(.05),lyt=x2e(.05),cyt=G2e(),uyt=x2e(.05),dyt=L2e(),pyt=x2e(.05),hyt=L2e(),fyt=A8(824,825),gyt=x2e(.05),vyt=L2e(),myt=x2e(.05),yyt=L2e(),byt=x2e(1,!0,0,!0),_yt=t6e(),wyt=x2e(.05),Syt=x2e(.05),Cyt=t6e(),kyt=L2e(),Iyt=x2e(.05),Pyt=L2e(),Ayt=G2e(),xyt=x2e(.05),Tyt=L2e(),Eyt=V2e(),Myt=G2e(),Ryt=x2e(.05),Oyt=L2e(),Dyt=V2e(),Lyt=x2e(.05),Nyt=A8(820,821),Byt=x2e(.05),$yt=L2e(),jyt=x2e(.05),Fyt=L2e(),Wyt=x2e(.05),Uyt=x2e(.05),Vyt=x2e(.05),qyt=x2e(.05),zyt=x2e(.05),Gyt=x2e(.05),Hyt=x2e(.05),Kyt=x2e(.05),Jyt=x2e(.05),Xyt=x2e(.05),Yyt=x2e(.05),Qyt=x2e(.05),Zyt=x2e(.05),ebt=x2e(.05),tbt=x2e(.05),rbt=x2e(.05),nbt=x2e(.05),ibt=L2e(),abt=x2e(.05),obt=x2e(.05),sbt=x2e(.05),lbt=x2e(.05),cbt=x2e(.05),ubt=x2e(.05),dbt=x2e(.05),pbt=x2e(.05),hbt=L2e(),fbt=x2e(.05),gbt=A8(826,827),vbt=x2e(.05),mbt=L2e(),ybt=x2e(.05),bbt=x2e(.05),_bt=L2e(),wbt=x2e(.05),Sbt=x2e(.05),Cbt=x2e(.05),kbt=x2e(.05),Ibt=x2e(.05),Pbt=x2e(.05),Abt=x2e(.05),xbt=x2e(.05),Tbt=x2e(.05),Ebt=x2e(.05),Mbt=x2e(.05),Rbt=x2e(.05),Obt=x2e(.05),Dbt=L2e(),Lbt=x2e(.05),Nbt=L2e(),Bbt=x2e(.05),$bt=x2e(.05),jbt=x2e(.05),Fbt=x2e(.05),Wbt=x2e(.05),Ubt=x2e(.05),Vbt=x2e(.05),qbt=L2e(),zbt=x2e(.05),Gbt=L2e(),Hbt=x2e(.05),Kbt=A8(810,811),Jbt=x2e(.05),Xbt=x2e(.05),Ybt=x2e(.05),Qbt=L2e(),Zbt=x2e(.05),e_t=x2e(.05),t_t=L2e(),r_t=e6e("permission"),n_t=G2e(),i_t=e6e("declare"),a_t=x2e(.05),o_t=L2e(),s_t=x2e(.05),l_t=L2e(),c_t=A8(848,849),u_t=x2e(.05),d_t=L2e(),p_t=x2e(.05),h_t=L2e(),f_t=x2e(.05),g_t=L2e(),v_t=x2e(.05),m_t=L2e(),y_t=x2e(.05),b_t=L2e(),__t=x2e(.05),w_t=x2e(.05),S_t=x2e(.05),C_t=x2e(.05),k_t=x2e(.05),I_t=L2e(),P_t=x2e(.05),A_t=x2e(.05),x_t=x2e(.05),T_t=x2e(.05),E_t=x2e(.05),M_t=x2e(.05),R_t=x2e(.05),O_t=x2e(.05),D_t=x2e(.05),L_t=x2e(.05),N_t=x2e(.05),B_t=x2e(.05),$_t=x2e(.05),j_t=x2e(.05),F_t=x2e(.05),W_t=x2e(.05),U_t=x2e(.05),V_t=x2e(.05),q_t=dot("wx.onHide"),z_t=x2e(.05),G_t=dot("wx.onShow"),H_t=x2e(.05),K_t=x2e(.05),J_t=x2e(.05),X_t=x2e(.05),Y_t=x2e(.05),Q_t=x2e(.05),Z_t=x2e(.05),ewt=x2e(.05),twt=x2e(.05),rwt=x2e(.05),nwt=x2e(.05),iwt=x2e(.05),awt=x2e(.05),owt=x2e(.05),swt=x2e(.05),lwt=x2e(.05),cwt=x2e(.05),uwt=x2e(.05),dwt=x2e(.05),pwt=x2e(.05),hwt=x2e(.05),fwt=x2e(.05),gwt=L2e(),vwt=x2e(.05),mwt=x2e(.05),ywt=x2e(.05),bwt=x2e(.05),_wt=x2e(.05),wwt=L2e(),Swt=x2e(.05),Cwt=x2e(.05),kwt=x2e(.05),Iwt=x2e(.05),Pwt=x2e(.05),Awt=L2e(),xwt=x2e(.05),Twt=x2e(.05),Ewt=x2e(.05),Mwt=dot(),Rwt=x2e(.05),Owt=L2e(),Dwt=x2e(.05),Lwt=L2e(),Nwt=x2e(.05),Bwt=L2e(),$wt=x2e(.05),jwt=L2e(),Fwt=x2e(.05),Wwt=L2e(),Uwt=x2e(.05),Vwt=L2e(),qwt=x2e(.05),zwt=x2e(.05),Gwt=x2e(.05),Hwt=G2e(),Kwt=x2e(.05),Jwt=L2e(),Xwt=G2e(),Ywt=x2e(.05),Qwt=L2e(),Zwt=x2e(.05),eSt=x2e(.05),tSt=x2e(.05),rSt=x2e(.05),nSt=x2e(.05),iSt=x2e(.05),aSt=x2e(.05),oSt=x2e(.05),sSt=x2e(.05),lSt=x2e(.05),cSt=x2e(.05),uSt=x2e(.05),dSt=L2e(),pSt=x2e(.05),hSt=x2e(.05),fSt=x2e(.05),gSt=x2e(.05),vSt=x2e(.05),mSt=x2e(.05),ySt=x2e(.05),bSt=x2e(.05),_St=x2e(.05),wSt=x2e(.05),SSt=x2e(.05),CSt=x2e(.05),kSt=x2e(.05),ISt=x2e(.05),PSt=x2e(.05),ASt=x2e(.05),xSt=x2e(.05),TSt=x2e(.05),ESt=x2e(.05),MSt=x2e(.05),RSt=x2e(.05),OSt=x2e(.05),DSt=x2e(.05),LSt=x2e(.05),NSt=x2e(.05),BSt=x2e(.05),$St=x2e(.05),jSt=x2e(.05),FSt=x2e(.05),WSt=x2e(.05),USt=x2e(.05),VSt=x2e(.05),qSt=x2e(.05),zSt=G2e(),GSt=A8(814,815),HSt=x2e(.05),KSt=x2e(.05),JSt=x2e(.05),XSt=A8(812,813),YSt=x2e(.05),QSt=A8(804,805),ZSt=x2e(.05),eCt=A8(808,809),tCt=x2e(.05),rCt=A8(802,803),nCt=x2e(.05),iCt=x2e(.05),aCt=A8(806,807),oCt=x2e(.05),sCt=A8(800,801),lCt=x2e(.05),cCt=x2e(.05),uCt=x2e(.05),dCt=x2e(.05),pCt=x2e(.05),hCt=x2e(.05),fCt=x2e(.05),gCt=x2e(.05),vCt=x2e(.05),mCt=x2e(.05),yCt=x2e(.05),bCt=L2e(),_Ct=x2e(.05),wCt=x2e(.05),SCt=x2e(.05),CCt=L2e(),kCt=x2e(.05),ICt=x2e(.05),PCt=x2e(.05),ACt=x2e(.05),xCt=x2e(.05),TCt=x2e(.05),ECt=x2e(.05),MCt=x2e(.05),RCt=x2e(.05),OCt=x2e(.05),DCt=L2e(),LCt=x2e(.05),NCt=L2e(),BCt=x2e(.05),$Ct=G2e(),jCt=x2e(.05),FCt=L2e(),WCt=x2e(.05),UCt=x2e(.05),VCt=x2e(.05),qCt=x2e(.05),zCt=x2e(.05),GCt=x2e(0),HCt=x2e(0),KCt=x2e(0),JCt=x2e(.05,"serviceMarket"),XCt=Q2e((()=>Z$t((()=>__cloudSDKMain__.getServiceMarketAPI()))())),YCt=x2e(.05,"cloud"),QCt=Q2e((()=>Z$t((()=>__cloudSDKMain__.getCloudAPI()))())),ZCt=x2e(1),ekt=x2e(.05),tkt=x2e(.05),rkt=x2e(.05),nkt=x2e(.05),ikt=x2e(.05),akt=x2e(.05),okt=x2e(.05),skt=x2e(.05),lkt=x2e(.05),ckt=x2e(.05),ukt=x2e(.05),dkt=x2e(.05),pkt=x2e(.05),hkt=x2e(.05),fkt=x2e(.05),gkt=x2e(.05),vkt=x2e(.05),mkt=x2e(.05),ykt=x2e(.05),bkt=x2e(.05),_kt=x2e(.05),GO(wkt=Cot(wkt=kot(wkt=Iot(wkt=Pot(wkt=Aot(wkt=xot(wkt=Tot((Skt=class{constructor(){z()(this,"requirePrivacyAuthorize",Ckt,this),z()(this,"onNeedPrivacyAuthorization",kkt,this),z()(this,"getPrivacySetting",Ikt,this),z()(this,"openPrivacyContract",Pkt,this),z()(this,"setStorage",Akt,this),z()(this,"setStorageSync",xkt,this),z()(this,"plugin_setStorage",Tkt,this),z()(this,"plugin_setStorageSync",Ekt,this),z()(this,"batchSetStorage",Mkt,this),z()(this,"batchSetStorageSync",Rkt,this),z()(this,"plugin_batchSetStorage",Okt,this),z()(this,"plugin_batchSetStorageSync",Dkt,this),z()(this,"getStorage",Lkt,this),z()(this,"getStorageSync",Nkt,this),z()(this,"plugin_getStorage",Bkt,this),z()(this,"plugin_getStorageSync",$kt,this),z()(this,"batchGetStorage",jkt,this),z()(this,"batchGetStorageSync",Fkt,this),z()(this,"plugin_batchGetStorage",Wkt,this),z()(this,"plugin_batchGetStorageSync",Ukt,this),z()(this,"getStorageInfo",Vkt,this),z()(this,"getStorageInfoSync",qkt,this),z()(this,"plugin_getStorageInfo",zkt,this),z()(this,"plugin_getStorageInfoSync",Gkt,this),z()(this,"removeStorage",Hkt,this),z()(this,"removeStorageSync",Kkt,this),z()(this,"plugin_removeStorage",Jkt,this),z()(this,"plugin_removeStorageSync",Xkt,this),z()(this,"clearStorage",Ykt,this),z()(this,"clearStorageSync",Qkt,this),z()(this,"plugin_clearStorage",Zkt,this),z()(this,"plugin_clearStorageSync",eIt,this),z()(this,"drawCanvas",tIt,this),z()(this,"createContext",rIt,this),z()(this,"createCanvasContext",nIt,this),z()(this,"canvasToTempFilePath",iIt,this),z()(this,"canvasGetImageData",aIt,this),z()(this,"canvasPutImageData",oIt,this),z()(this,"createOffscreenCanvas",sIt,this),z()(this,"getAccountInfoSync",lIt,this),z()(this,"getShareInfo",cIt,this),z()(this,"authPrivateMessage",uIt,this),z()(this,"pageScrollTo",dIt,this),z()(this,"chooseInvoiceTitle",pIt,this),z()(this,"chooseInvoice",hIt,this),z()(this,"openCustomerServiceChat",fIt,this),z()(this,"openStickerSetView",gIt,this),z()(this,"openSingleStickerView",vIt,this),z()(this,"openStickerIPView",mIt,this),z()(this,"onPageReload",yIt,this),z()(this,"createAudioContext",bIt,this),z()(this,"createVideoContext",_It,this),z()(this,"createMapContext",wIt,this),z()(this,"createLivePlayerContext",SIt,this),z()(this,"getPassiveEvent",CIt,this),z()(this,"arrayBufferToBase64",kIt,this),z()(this,"base64ToArrayBuffer",IIt,this),z()(this,"openSetting",PIt,this),z()(this,"getExtConfig",AIt,this),z()(this,"chooseMedia",xIt,this),z()(this,"previewMedia",TIt,this),z()(this,"chooseMultiMedia",EIt,this),z()(this,"chooseMessageFile",MIt,this),z()(this,"chooseWeChatContact",RIt,this),z()(this,"uploadEncryptedFileToCDN",OIt,this),z()(this,"onUploadEncryptedFileToCDNProgress",DIt,this),z()(this,"uploadToCommonCDN",LIt,this),z()(this,"getExtConfigSync",NIt,this),z()(this,"showShareMenu",BIt,this),z()(this,"hideShareMenu",$It,this),z()(this,"updateShareMenu",jIt,this),z()(this,"shareAppMessageForFakeNative",FIt,this),z()(this,"openUrl",WIt,this),z()(this,"setNavigationBarColor",UIt,this),z()(this,"setNavigationBarAlpha",VIt,this),z()(this,"showShareImageMenu",qIt,this),z()(this,"shareFileMessage",zIt,this),z()(this,"shareVideoMessage",GIt,this),z()(this,"vibrateShort",HIt,this),z()(this,"vibrateLong",KIt,this),z()(this,"getSetting",JIt,this),z()(this,"checkIsSupportFacialRecognition",XIt,this),z()(this,"startFacialRecognitionVerify",YIt,this),z()(this,"startFacialRecognitionVerifyAndUploadVideo",QIt,this),z()(this,"startFacialEncryptionVerify",ZIt,this),z()(this,"startFacialEncryptionVerifyAndUploadVideo",ePt,this),z()(this,"sendBizRedPacket",tPt,this),z()(this,"requestDeviceVoIP",rPt,this),z()(this,"getDeviceVoIPList",nPt,this),z()(this,"sendGoldenRedPacket",iPt,this),z()(this,"openGoldenRedPacketDetail",aPt,this),z()(this,"showRedPackage",oPt,this),z()(this,"jumpRedPacketEnvelopePreview",sPt,this),z()(this,"quickSendRedPacket",lPt,this),z()(this,"sendRedCoverAppMsg",cPt,this),z()(this,"previewSmartAd",uPt,this),z()(this,"jumpRedPacketEnvelopePreview",dPt,this),z()(this,"quickSendRedPacket",pPt,this),z()(this,"sendRedCoverAppMsg",hPt,this),z()(this,"addPhoneContact",fPt,this),z()(this,"quicklyAddBrandContact",gPt,this),z()(this,"searchContacts",vPt,this),z()(this,"privateSearchContacts",mPt,this),z()(this,"sendSms",yPt,this),z()(this,"setScreenBrightness",bPt,this),z()(this,"getScreenBrightness",_Pt,this),z()(this,"setVisualEffectOnCapture",wPt,this),z()(this,"onScreenRecordingStateChanged",SPt,this),z()(this,"offScreenRecordingStateChanged",CPt,this),z()(this,"getScreenRecordingState",kPt,this),z()(this,"shareToWeRun",IPt,this),z()(this,"getWeRunData",PPt,this),z()(this,"uploadWeRunData",APt,this),z()(this,"addWeRunData",xPt,this),z()(this,"canIUse",TPt,this),z()(this,"setPageStyle",EPt,this),z()(this,"triggerGettingWidgetData",MPt,this),z()(this,"navigateToMiniProgram",RPt,this),z()(this,"navigateToMiniProgramDirectly",OPt,this),z()(this,"navigateToDevMiniProgram",DPt,this),z()(this,"navigateBackMiniProgram",LPt,this),z()(this,"launchMiniProgram",NPt,this),z()(this,"launchDevMiniProgram",BPt,this),z()(this,"exitMiniProgram",$Pt,this),z()(this,"openEmbeddedMiniProgram",jPt,this),z()(this,"onEmbeddedMiniProgramHeightChange",FPt,this),z()(this,"offEmbeddedMiniProgramHeightChange",WPt,this),z()(this,"launchApplicationDirectly",UPt,this),z()(this,"launchApplicationForNative",VPt,this),z()(this,"setNavigationBarRightButton",qPt,this),z()(this,"onTapNavigationBarRightButton",zPt,this),z()(this,"setTopBarText",GPt,this),z()(this,"setTabBarBadge",HPt,this),z()(this,"removeTabBarBadge",KPt,this),z()(this,"showTabBarRedDot",JPt,this),z()(this,"hideTabBarRedDot",XPt,this),z()(this,"showTabBar",YPt,this),z()(this,"hideTabBar",QPt,this),z()(this,"setTabBarStyle",ZPt,this),z()(this,"setTabBarItem",eAt,this),z()(this,"getTabBarManager",tAt,this),z()(this,"setBackgroundColor",rAt,this),z()(this,"setBackgroundTextStyle",nAt,this),z()(this,"setEnableDebug",iAt,this),z()(this,"captureScreen",aAt,this),z()(this,"onUserCaptureScreen",oAt,this),z()(this,"offUserCaptureScreen",sAt,this),z()(this,"setKeepScreenOn",lAt,this),z()(this,"checkIsSupportSoterAuthentication",cAt,this),z()(this,"startSoterAuthentication",uAt,this),z()(this,"checkIsSoterEnrolledInDevice",dAt,this),z()(this,"openDeliveryList",pAt,this),z()(this,"navigateBackH5",hAt,this),z()(this,"openBusinessView",fAt,this),z()(this,"openOfficialAccountArticle",gAt,this),z()(this,"navigateBackApplication",vAt,this),z()(this,"navigateBackNative",mAt,this),z()(this,"reportIDKey",yAt,this),z()(this,"reportKeyValue",bAt,this),z()(this,"setWindowSize",_At,this),z()(this,"setNavigationBarTitle",wAt,this),z()(this,"showNavigationBarLoading",SAt,this),z()(this,"hideNavigationBarLoading",CAt,this),z()(this,"hideHomeButton",kAt,this),z()(this,"startPullDownRefresh",IAt,this),z()(this,"stopPullDownRefresh",PAt,this),z()(this,"operateWXData",AAt,this),z()(this,"getOpenDeviceId",xAt,this),z()(this,"onMenuButtonBoundingClientRectWeightChange",TAt,this),z()(this,"offMenuButtonBoundingClientRectWeightChange",EAt,this),z()(this,"getMenuButtonBoundingClientRect",MAt,this),z()(this,"getSelectedTextRange",RAt,this),z()(this,"enableAlertBeforeUnload",OAt,this),z()(this,"disableAlertBeforeUnload",DAt,this),z()(this,"setNavigateBackInterception",LAt,this),z()(this,"stopNavigateBackInterception",NAt,this),this.choosePhoneNumberAreaCode=jat,z()(this,"makeBluetoothPair",BAt,this),z()(this,"isBluetoothDevicePaired",$At,this),z()(this,"openBluetoothAdapter",jAt,this),z()(this,"openBluetoothAdapterBackground",FAt,this),z()(this,"closeBluetoothAdapter",WAt,this),z()(this,"getBluetoothAdapterState",UAt,this),z()(this,"onBluetoothAdapterStateChange",VAt,this),z()(this,"offBluetoothAdapterStateChange",qAt,this),z()(this,"startBluetoothDevicesDiscovery",zAt,this),z()(this,"stopBluetoothDevicesDiscovery",GAt,this),z()(this,"startMonitoringBluetoothDevice",HAt,this),z()(this,"stopMonitoringBluetoothDevice",KAt,this),z()(this,"getBluetoothDevices",JAt,this),z()(this,"getConnectedBluetoothDevices",XAt,this),z()(this,"getMonitoredBluetoothDevices",YAt,this),z()(this,"createBLEConnection",QAt,this),z()(this,"setBLEMTU",ZAt,this),z()(this,"setBluetoothBackgroundMode",ext,this),z()(this,"getBLEMTU",txt,this),z()(this,"onBLEMTUChange",rxt,this),z()(this,"offBLEMTUChange",nxt,this),z()(this,"closeBLEConnection",ixt,this),z()(this,"getBLEDeviceServices",axt,this),z()(this,"getBLEDeviceRSSI",oxt,this),z()(this,"getBLEDeviceCharacteristics",sxt,this),z()(this,"createBLEPeripheralServer",lxt,this),z()(this,"onBLEPeripheralConnectionStateChanged",cxt,this),z()(this,"offBLEPeripheralConnectionStateChanged",uxt,this),z()(this,"notifyBLECharacteristicValueChanged",dxt,this),z()(this,"notifyBLECharacteristicValueChange",pxt,this),z()(this,"readBLECharacteristicValue",hxt,this),z()(this,"writeBLECharacteristicValue",fxt,this),z()(this,"onBluetoothDeviceFound",gxt,this),z()(this,"offBluetoothDeviceFound",vxt,this),z()(this,"onMonitoredBluetoothDeviceFound",mxt,this),z()(this,"offMonitoredBluetoothDeviceFound",yxt,this),z()(this,"onBLEConnectionStateChanged",bxt,this),z()(this,"onBLEConnectionStateChange",_xt,this),z()(this,"onBLECharacteristicValueChange",wxt,this),z()(this,"offBLEConnectionStateChanged",Sxt,this),z()(this,"offBLEConnectionStateChange",Cxt,this),z()(this,"offBLECharacteristicValueChange",kxt,this),z()(this,"startBeaconDiscovery",Ixt,this),z()(this,"stopBeaconDiscovery",Pxt,this),z()(this,"getBeacons",Axt,this),z()(this,"onBeaconUpdate",xxt,this),z()(this,"offBeaconUpdate",Txt,this),z()(this,"onBeaconServiceChange",Ext,this),z()(this,"offBeaconServiceChange",Mxt,this),z()(this,"startWifi",Rxt,this),z()(this,"stopWifi",Oxt,this),z()(this,"getWifiList",Dxt,this),z()(this,"getConnectedWifi",Lxt,this),z()(this,"connectWifi",Nxt,this),z()(this,"presetWifiList",Bxt,this),z()(this,"setWifiList",$xt,this),z()(this,"onGetWifiList",jxt,this),z()(this,"onWifiConnected",Fxt,this),z()(this,"onWifiConnectedWithPartialInfo",Wxt,this),z()(this,"offGetWifiList",Uxt,this),z()(this,"offWifiConnected",Vxt,this),z()(this,"offWifiConnectedWithPartialInfo",qxt,this),z()(this,"onEvaluateWifi",zxt,this),z()(this,"getHCEState",Gxt,this),z()(this,"startHCE",Hxt,this),z()(this,"stopHCE",Kxt,this),z()(this,"sendHCEMessage",Jxt,this),z()(this,"onHCEMessage",Xxt,this),z()(this,"offHCEMessage",Yxt,this),z()(this,"getNFCAdapter",Qxt,this),z()(this,"startLocalServiceDiscovery",Zxt,this),z()(this,"stopLocalServiceDiscovery",eTt,this),z()(this,"onLocalServiceFound",tTt,this),z()(this,"offLocalServiceFound",rTt,this),z()(this,"onLocalServiceLost",nTt,this),z()(this,"offLocalServiceLost",iTt,this),z()(this,"onLocalServiceDiscoveryStop",aTt,this),z()(this,"offLocalServiceDiscoveryStop",oTt,this),z()(this,"onLocalServiceResolveFail",sTt,this),z()(this,"offLocalServiceResolveFail",lTt,this),z()(this,"getLocalIPAddress",cTt,this),z()(this,"checkDeviceSupportHevc",uTt,this),z()(this,"redirectTo",dTt,this),z()(this,"reLaunch",pTt,this),z()(this,"navigateTo",hTt,this),z()(this,"switchTab",fTt,this),z()(this,"navigateBack",gTt,this),z()(this,"onAppShow",vTt,this),z()(this,"offAppShow",mTt,this),z()(this,"onAppHide",yTt,this),z()(this,"offAppHide",bTt,this),z()(this,"onError",_Tt,this),z()(this,"offError",wTt,this),z()(this,"onUnhandledRejection",STt,this),z()(this,"offUnhandledRejection",CTt,this),z()(this,"getLaunchOptionsSync",kTt,this),z()(this,"getEnterOptionsSync",ITt,this),z()(this,"getInnerEnterOptions",PTt,this),z()(this,"onWindowResize",ATt,this),z()(this,"offWindowResize",xTt,this),z()(this,"setPageOrientation",TTt,this),z()(this,"getBackgroundFetchData",ETt,this),z()(this,"onBackgroundFetchData",MTt,this),z()(this,"setBackgroundFetchToken",RTt,this),z()(this,"getBackgroundFetchToken",OTt,this),z()(this,"request",DTt,this),z()(this,"connectSocket",LTt,this),z()(this,"closeSocket",NTt,this),z()(this,"sendSocketMessage",BTt,this),z()(this,"onSocketOpen",$Tt,this),z()(this,"onSocketClose",jTt,this),z()(this,"onSocketMessage",FTt,this),z()(this,"onSocketError",WTt,this),z()(this,"uploadFile",UTt,this),z()(this,"downloadFile",VTt,this),z()(this,"addNativeDownloadTask",qTt,this),z()(this,"downloadApp",zTt,this),z()(this,"installDownloadApp",GTt,this),z()(this,"getAppInstallState",HTt,this),z()(this,"queryDownloadAppTask",KTt,this),z()(this,"cancelDownloadAppTask",JTt,this),z()(this,"resumeDownloadAppTask",XTt,this),z()(this,"pauseDownloadAppTask",YTt,this),z()(this,"onDownloadAppStateChange",QTt,this),z()(this,"downloadAppForIOS",ZTt,this),z()(this,"calRqt",eEt,this),z()(this,"secureTunnel",tEt,this),z()(this,"chooseImage",rEt,this),z()(this,"previewImage",nEt,this),z()(this,"getImageInfo",iEt,this),z()(this,"saveImageToPhotosAlbum",aEt,this),z()(this,"compressImage",oEt,this),z()(this,"editImage",sEt,this),z()(this,"cropImage",lEt,this),z()(this,"startRecord",cEt,this),z()(this,"stopRecord",uEt,this),z()(this,"playVoice",dEt,this),z()(this,"pauseVoice",pEt,this),z()(this,"stopVoice",hEt,this),z()(this,"onVoicePlayEnd",fEt,this),z()(this,"chooseVideo",gEt,this),z()(this,"saveVideoToPhotosAlbum",vEt,this),z()(this,"getVideoInfo",mEt,this),z()(this,"compressVideo",yEt,this),z()(this,"loadFontFace",bEt,this),z()(this,"createMediaContainer",_Et,this),z()(this,"createMediaRecorder",wEt,this),z()(this,"createVideoDecoder",SEt,this),z()(this,"openVideoEditor",CEt,this),z()(this,"createMediaAudioPlayer",kEt,this),z()(this,"createWebAudioContext",IEt,this),z()(this,"getLocation",PEt,this),z()(this,"getFuzzyLocation",AEt,this),z()(this,"openLocation",xEt,this),z()(this,"chooseLocation",TEt,this),z()(this,"choosePoi",EEt,this),z()(this,"onLocationChange",MEt,this),z()(this,"offLocationChange",REt,this),z()(this,"onLocationChangeError",OEt,this),z()(this,"offLocationChangeError",DEt,this),z()(this,"startLocationUpdateBackground",LEt,this),z()(this,"startLocationUpdate",NEt,this),z()(this,"stopLocationUpdate",BEt,this),z()(this,"getNetworkType",$Et,this),z()(this,"onNetworkStatusChange",jEt,this),z()(this,"offNetworkStatusChange",FEt,this),z()(this,"onNetworkWeakChange",WEt,this),z()(this,"offNetworkWeakChange",UEt,this),z()(this,"getSystemInfo",VEt,this),z()(this,"getSystemInfoSync",qEt,this),z()(this,"getSystemInfoAsync",zEt,this),z()(this,"openSystemBluetoothSetting",GEt,this),z()(this,"openAppAuthorizeSetting",HEt,this),z()(this,"getSystemSetting",KEt,this),z()(this,"getAppAuthorizeSetting",JEt,this),z()(this,"getDeviceInfo",XEt,this),z()(this,"getDeviceBenchmarkInfo",YEt,this),z()(this,"getWindowInfo",QEt,this),z()(this,"getAppBaseInfo",ZEt,this),z()(this,"getRendererUserAgent",eMt,this),z()(this,"getBatteryInfo",tMt,this),z()(this,"getBatteryInfoSync",rMt,this),z()(this,"onBatteryInfoChange",nMt,this),z()(this,"offBatteryInfoChange",iMt,this),z()(this,"startAccelerometer",aMt,this),z()(this,"stopAccelerometer",oMt,this),z()(this,"onAccelerometerChange",sMt,this),z()(this,"offAccelerometerChange",lMt,this),z()(this,"startCompass",cMt,this),z()(this,"stopCompass",uMt,this),z()(this,"onCompassChange",dMt,this),z()(this,"offCompassChange",pMt,this),z()(this,"startDeviceMotionListening",hMt,this),z()(this,"stopDeviceMotionListening",fMt,this),z()(this,"onDeviceMotionChange",gMt,this),z()(this,"offDeviceMotionChange",vMt,this),z()(this,"startGyroscope",mMt,this),z()(this,"stopGyroscope",yMt,this),z()(this,"onGyroscopeChange",bMt,this),z()(this,"offGyroscopeChange",_Mt,this),z()(this,"checkIsOpenAccessibility",wMt,this),z()(this,"addPhoneCalendar",SMt,this),z()(this,"addPhoneRepeatCalendar",CMt,this),z()(this,"getRandomValues",kMt,this),z()(this,"getWebviewDebugInfo",IMt,this),z()(this,"reportAction",PMt,this),z()(this,"getBackgroundAudioManager",AMt,this),z()(this,"getRecorderManager",xMt,this),z()(this,"getBackgroundAudioPlayerState",TMt,this),z()(this,"playBackgroundAudio",EMt,this),z()(this,"pauseBackgroundAudio",MMt,this),z()(this,"seekBackgroundAudio",RMt,this),z()(this,"stopBackgroundAudio",OMt,this),z()(this,"onBackgroundAudioPlay",DMt,this),z()(this,"onBackgroundAudioPause",LMt,this),z()(this,"onBackgroundAudioStop",NMt,this),z()(this,"joinVoIPChat",BMt,this),z()(this,"exitVoIPChat",$Mt,this),z()(this,"updateVoIPChatMuteConfig",jMt,this),z()(this,"onVoIPChatMembersChanged",FMt,this),z()(this,"onVoIPChatSpeakersChanged",WMt,this),z()(this,"onVoIPChatInterrupted",UMt,this),z()(this,"offVoIPChatMembersChanged",VMt,this),z()(this,"offVoIPChatSpeakersChanged",qMt,this),z()(this,"offVoIPChatInterrupted",zMt,this),z()(this,"subscribeVoIPVideoMembers",GMt,this),z()(this,"onVoIPVideoMembersChanged",HMt,this),z()(this,"offVoIPVideoMembersChanged",KMt,this),z()(this,"onVoIPChatStateChanged",JMt,this),z()(this,"offVoIPChatStateChanged",XMt,this),z()(this,"join1v1Chat",YMt,this),z()(this,"setEnable1v1Chat",QMt,this),z()(this,"requestSubscribeMessage",ZMt,this),z()(this,"requestSubscribeDeviceMessage",eRt,this),z()(this,"login",tRt,this),z()(this,"logout",rRt,this),z()(this,"checkSession",nRt,this),z()(this,"authorize",iRt,this),z()(this,"getUserInfo",aRt,this),z()(this,"getUserProfile",oRt,this),z()(this,"privateCreateVestUser",sRt,this),z()(this,"requestPayment",lRt,this),z()(this,"requestScanPOSPay",cRt,this),z()(this,"verifyPaymentPassword",uRt,this),z()(this,"bindPaymentCard",dRt,this),z()(this,"requestPaymentToBank",pRt,this),z()(this,"requestVirtualPayment",hRt,this),z()(this,"requestCommonPayment",fRt,this),z()(this,"openOfflinePayView",gRt,this),z()(this,"openWCPayCardList",vRt,this),z()(this,"requestMallPayment",mRt,this),z()(this,"setCurrentPaySpeech",yRt,this),z()(this,"loadPaySpeechDialectConfig",bRt,this),z()(this,"requestJointPayment",_Rt,this),z()(this,"getWCPayOverseaPrepayRequest",wRt,this),z()(this,"requestH5Transaction",SRt,this),z()(this,"openWCPayOverseaPaymentReceive",CRt,this),z()(this,"handleWCPayOverseaWalletBuffer",kRt,this),z()(this,"requestVerifyUserIdentity",IRt,this),z()(this,"requestPersonalPay",PRt,this),z()(this,"phoneBindCardVerifySms",ARt,this),z()(this,"faceVerifyForPay",xRt,this),z()(this,"openOfficialAccountProfile",TRt,this),z()(this,"openUserProfile",ERt,this),z()(this,"requestBizSplitBillPayment",MRt,this),z()(this,"openSelectPayment",RRt,this),z()(this,"requestEntrustAuthorization",ORt,this),z()(this,"requestFacetoFacePayment",DRt,this),z()(this,"requestQueryCashier",LRt,this),z()(this,"requestOrderPayment",NRt,this),z()(this,"requestMedicalInsurancePay",BRt,this),z()(this,"requestMerchantTransfer",$Rt,this),z()(this,"checkBeforeAddOrder",jRt,this),z()(this,"notifyWCPayResult",FRt,this),z()(this,"openHKOfflinePayView",WRt,this),z()(this,"openMiniProgramProfile",URt,this),z()(this,"openMiniProgramSearch",VRt,this),z()(this,"openMiniProgramHistoryList",qRt,this),z()(this,"openMiniProgramStarList",zRt,this),z()(this,"openMiniProgramAuthManageList",GRt,this),z()(this,"batchGetContactDirectly",HRt,this),z()(this,"preloadMiniProgramEnvDirectly",KRt,this),z()(this,"predownloadMiniProgramPackageDirectly",JRt,this),z()(this,"preventApplePayUI",XRt,this),this.getWxSecData=()=>{},z()(this,"addCard",YRt,this),z()(this,"openCard",QRt,this),z()(this,"checkTrafficCardConditions",ZRt,this),z()(this,"queryTrafficCardInfo",eOt,this),z()(this,"issueTrafficCard",tOt,this),z()(this,"rechargeTrafficCard",rOt,this),z()(this,"setDefaultTrafficCard",nOt,this),z()(this,"deleteTrafficCard",iOt,this),z()(this,"addFileToFavorites",aOt,this),z()(this,"addVideoToFavorites",oOt,this),z()(this,"openChannelsCreateContact",sOt,this),z()(this,"getChannelsShareKey",lOt,this),z()(this,"openChannelsPostPage",cOt,this),z()(this,"scanCode",uOt,this),z()(this,"openQRCode",dOt,this),z()(this,"scanItem",pOt,this),z()(this,"privateScanItem",hOt,this),z()(this,"chooseAddress",fOt,this),z()(this,"openDocument",gOt,this),z()(this,"getFileSystemManager",vOt,this),z()(this,"saveFileToDisk",mOt,this),z()(this,"getABTestConfig",yOt,this),z()(this,"chooseContact",bOt,this),z()(this,"makePhoneCall",_Ot,this),z()(this,"makeVoIPCall",wOt,this),z()(this,"onBeforeAppRoute",SOt,this),z()(this,"offBeforeAppRoute",COt,this),z()(this,"onAppRoute",kOt,this),z()(this,"setEntryPagePath",IOt,this),z()(this,"clearEntryPagePath",POt,this),z()(this,"offAppRoute",AOt,this),z()(this,"onAppRouteDone",xOt,this),z()(this,"offAppRouteDone",TOt,this),z()(this,"onBeforePageLoad",EOt,this),z()(this,"offBeforePageLoad",MOt,this),z()(this,"onAfterPageLoad",ROt,this),z()(this,"offAfterPageLoad",OOt,this),z()(this,"onBeforePageUnload",DOt,this),z()(this,"offBeforePageUnload",LOt,this),z()(this,"onAfterPageUnload",NOt,this),z()(this,"offAfterPageUnload",BOt,this),z()(this,"onAppEnterBackground",$Ot,this),z()(this,"onAppEnterForeground",jOt,this),z()(this,"onAppUnhang",FOt,this),z()(this,"onPageNotFound",WOt,this),z()(this,"offPageNotFound",UOt,this),z()(this,"onLazyLoadError",VOt,this),z()(this,"offLazyLoadError",qOt,this),z()(this,"onThemeChange",zOt,this),z()(this,"offThemeChange",GOt,this),z()(this,"onApiCategoryChange",HOt,this),z()(this,"offApiCategoryChange",KOt,this),z()(this,"getApiCategory",JOt,this),z()(this,"postMessageToReferrerMiniProgram",XOt,this),z()(this,"onCopyUrl",YOt,this),z()(this,"offCopyUrl",QOt,this),z()(this,"onWindowStateChange",ZOt,this),z()(this,"offWindowStateChange",eDt,this),z()(this,"onKeyDown",tDt,this),z()(this,"offKeyDown",rDt,this),z()(this,"onKeyUp",nDt,this),z()(this,"offKeyUp",iDt,this),z()(this,"createAnimation",aDt,this),z()(this,"createInnerAudioContext",oDt,this),z()(this,"getAvailableAudioSources",sDt,this),z()(this,"onAudioInterruptionBegin",lDt,this),z()(this,"offAudioInterruptionBegin",cDt,this),z()(this,"onAudioInterruptionEnd",uDt,this),z()(this,"offAudioInterruptionEnd",dDt,this),z()(this,"setInnerAudioOption",pDt,this),z()(this,"createCameraContext",hDt,this),z()(this,"createLivePusherContext",fDt,this),z()(this,"onWebviewEvent",gDt,this),z()(this,"onNativeEvent",vDt,this),z()(this,"hideKeyboard",mDt,this),z()(this,"onKeyboardHeightChange",yDt,this),z()(this,"offKeyboardHeightChange",bDt,this),z()(this,"getPublicLibVersion",_Dt,this),z()(this,"showModal",wDt,this),z()(this,"showToast",SDt,this),z()(this,"hideToast",CDt,this),z()(this,"showLoading",kDt,this),z()(this,"hideLoading",IDt,this),z()(this,"showActionSheet",PDt,this),z()(this,"showShareActionSheet",ADt,this),z()(this,"reportAnalytics",xDt,this),z()(this,"reportMonitor",TDt,this),z()(this,"getClipboardData",EDt,this),z()(this,"setClipboardData",MDt,this),z()(this,"createSelectorQuery",RDt,this),z()(this,"createIntersectionObserver",ODt,this),z()(this,"createMediaQueryObserver",DDt,this),z()(this,"nextTick",LDt,this),z()(this,"updatePerfData",NDt,this),z()(this,"traceEvent",BDt,this),z()(this,"onMemoryWarning",$Dt,this),z()(this,"offMemoryWarning",jDt,this),z()(this,"reportPerformance",FDt,this),z()(this,"getPerformance",WDt,this),z()(this,"getUpdateManager",UDt,this),z()(this,"updateWeChatApp",VDt,this),z()(this,"getPluginUpdateManager",qDt,this),z()(this,"createWorker",zDt,this),z()(this,"setCookies",GDt,this),z()(this,"getCookies",HDt,this),z()(this,"faceDetect",KDt,this),z()(this,"initFaceDetect",JDt,this),z()(this,"stopFaceDetect",XDt,this),z()(this,"createBufferURL",YDt,this),z()(this,"revokeBufferURL",QDt,this),z()(this,"createSignal",ZDt,this),z()(this,"bindGroup",eLt,this),z()(this,"joinGroup",tLt,this),z()(this,"getLabInfo",rLt,this),z()(this,"setLabInfo",nLt,this),z()(this,"createUDPSocket",iLt,this),z()(this,"createTCPSocket",aLt,this),z()(this,"env",oLt,this),z()(this,"error",sLt,this),z()(this,"isSystemError",lLt,this),z()(this,"isSDKError",cLt,this),z()(this,"isThirdError",uLt,this),z()(this,"createRewardedVideoAd",dLt,this),z()(this,"createInterstitialAd",pLt,this),z()(this,"createCustomAd",hLt,this),z()(this,"preloadVideoAd",fLt,this),z()(this,"preloadAd",gLt,this),z()(this,"getLogManager",vLt,this),z()(this,"getRealtimeLogManager",mLt,this),z()(this,"getExptInfo",yLt,this),z()(this,"getExptInfoSync",bLt,this),z()(this,"getCommonConfig",_Lt,this),z()(this,"reportEvent",wLt,this),z()(this,"reportStableEvent",SLt,this),z()(this,"getChannelsLiveInfo",CLt,this),z()(this,"getChannelsLiveState",kLt,this),z()(this,"getChannelsLiveReservation",ILt,this),z()(this,"getChannelsLiveNoticeInfo",PLt,this),z()(this,"openChannelsLive",ALt,this),z()(this,"openChannelsActivity",xLt,this),z()(this,"openChannelsUserProfile",TLt,this),z()(this,"openChannelsLiveCollection",ELt,this),z()(this,"openChannelsEvent",MLt,this),z()(this,"reserveChannelsLive",RLt,this),z()(this,"openPublicServicePayment",OLt,this),z()(this,"version",DLt,this),z()(this,"chooseShareGroup",LLt,this),z()(this,"enterContact",NLt,this),z()(this,"getGroupEnterInfo",BLt,this),z()(this,"preloadWebview",$Lt,this),z()(this,"preloadSkylineView",jLt,this),z()(this,"getSkylineInfo",FLt,this),z()(this,"getSkylineInfoSync",WLt,this),z()(this,"publishWeChatState",ULt,this),z()(this,"publishWechatStateActivity",VLt,this),z()(this,"checkPublishWeChatStateScene",qLt,this),z()(this,"checkPublishWeChatStateSceneAsync",zLt,this),z()(this,"lanDebug",GLt,this),z()(this,"createVKSession",HLt,this),z()(this,"createVKReference",KLt,this),z()(this,"isVKSupport",JLt,this),z()(this,"createCacheManager",XLt,this),z()(this,"registerMagicBrushFrame",YLt,this),z()(this,"sendEventToMagicBrushFrame",QLt,this),z()(this,"onEventFromMagicBrushFrame",ZLt,this),z()(this,"offEventFromMagicBrushFrame",eNt,this),z()(this,"addAccountCard",tNt,this),z()(this,"checkAccountCardAddState",rNt,this),z()(this,"getDebuggerMessager",nNt,this),z()(this,"chooseLicensePlate",iNt,this),z()(this,"createSharedArrayBuffer",aNt,this),z()(this,"createInferenceSession",oNt,this),z()(this,"preloadAssets",sNt,this),z()(this,"addToDesktop",lNt,this),z()(this,"setPassiveEvent",cNt,this),z()(this,"router",uNt,this),z()(this,"worklet",dNt,this),z()(this,"obs",pNt,this),z()(this,"serviceMarket",hNt,this),z()(this,"cloud",fNt,this),z()(this,"getXrFrameSystem",gNt,this),z()(this,"addDevicePanel",vNt,this),z()(this,"removeDevicePanel",mNt,this),z()(this,"getDevicePanelList",yNt,this),z()(this,"canIUseDevicePanel",bNt,this),z()(this,"preDownloadSubpackage",_Nt,this),z()(this,"pay",wNt,this),z()(this,"notifyPayResult",SNt,this),z()(this,"checkIsPictureInPictureActive",CNt,this),z()(this,"editTextWithPopForm",kNt,this),z()(this,"openAddressWithLightMode",INt,this),z()(this,"getGMCryptoManager",PNt,this),z()(this,"getUserCryptoManager",ANt,this),z()(this,"getSecureCryptoManager",xNt,this),z()(this,"batchAddDevicePanel",TNt,this),z()(this,"checkIsAddedToMyMiniProgram",ENt,this),z()(this,"ncidas",MNt,this),z()(this,"openWeComUserProfile",RNt,this),z()(this,"getInferenceEnvInfo",ONt,this),z()(this,"restartMiniProgram",DNt,this),this.invokeMiniappNativeExtension=RY.invokeMiniappNativeExtension,this.onMiniappNativeExtensionMsg=RY.onMiniappNativeExtensionMsg,this.offMiniappNativeExtensionMsg=RY.offMiniappNativeExtensionMsg,z()(this,"authorizeCombined",LNt,this),z()(this,"openGameDetail",NNt,this)}saveFile(...e){return console.warn("wx.saveFile 即将废弃，请使用 wx.getFileSystemManager().saveFile"),hv(...e)}getSavedFileList(...e){return console.warn("wx.getSavedFileList 即将废弃，请使用 wx.getFileSystemManager().getSavedFileList"),gv(...e)}getSavedFileInfo(...e){return console.warn("wx.getSavedFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),vv(...e)}getFileInfo(...e){return console.warn("wx.getFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),fv(...e)}removeSavedFile(...e){return console.warn("wx.removeSavedFile 即将废弃，请使用 wx.getFileSystemManager().removeSavedFile"),mv(...e)}},Ckt=H()(Skt.prototype,"requirePrivacyAuthorize",[Eot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n9}}),kkt=H()(Skt.prototype,"onNeedPrivacyAuthorization",[Mot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H2e}}),Ikt=H()(Skt.prototype,"getPrivacySetting",[Rot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e9}}),Pkt=H()(Skt.prototype,"openPrivacyContract",[Oot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V1}}),Akt=H()(Skt.prototype,"setStorage",[Dot,Lot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BNt}}),xkt=H()(Skt.prototype,"setStorageSync",[Not],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Nt}}),Tkt=H()(Skt.prototype,"plugin_setStorage",[Bot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jNt}}),Ekt=H()(Skt.prototype,"plugin_setStorageSync",[$ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FNt}}),Mkt=H()(Skt.prototype,"batchSetStorage",[jot,Fot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WNt}}),Rkt=H()(Skt.prototype,"batchSetStorageSync",[Wot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UNt}}),Okt=H()(Skt.prototype,"plugin_batchSetStorage",[Uot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VNt}}),Dkt=H()(Skt.prototype,"plugin_batchSetStorageSync",[Vot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qNt}}),Lkt=H()(Skt.prototype,"getStorage",[qot,zot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zNt}}),Nkt=H()(Skt.prototype,"getStorageSync",[Got],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GNt}}),Bkt=H()(Skt.prototype,"plugin_getStorage",[Hot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HNt}}),$kt=H()(Skt.prototype,"plugin_getStorageSync",[Kot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KNt}}),jkt=H()(Skt.prototype,"batchGetStorage",[Jot,Xot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JNt}}),Fkt=H()(Skt.prototype,"batchGetStorageSync",[Yot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XNt}}),Wkt=H()(Skt.prototype,"plugin_batchGetStorage",[Qot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YNt}}),Ukt=H()(Skt.prototype,"plugin_batchGetStorageSync",[Zot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QNt}}),Vkt=H()(Skt.prototype,"getStorageInfo",[est,tst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZNt}}),qkt=H()(Skt.prototype,"getStorageInfoSync",[rst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eBt}}),zkt=H()(Skt.prototype,"plugin_getStorageInfo",[nst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tBt}}),Gkt=H()(Skt.prototype,"plugin_getStorageInfoSync",[ist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rBt}}),Hkt=H()(Skt.prototype,"removeStorage",[ast,ost],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nBt}}),Kkt=H()(Skt.prototype,"removeStorageSync",[sst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iBt}}),Jkt=H()(Skt.prototype,"plugin_removeStorage",[lst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aBt}}),Xkt=H()(Skt.prototype,"plugin_removeStorageSync",[cst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oBt}}),Ykt=H()(Skt.prototype,"clearStorage",[ust,dst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sBt}}),Qkt=H()(Skt.prototype,"clearStorageSync",[pst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lBt}}),Zkt=H()(Skt.prototype,"plugin_clearStorage",[hst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cBt}}),eIt=H()(Skt.prototype,"plugin_clearStorageSync",[fst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uBt}}),tIt=H()(Skt.prototype,"drawCanvas",[gst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m4}}),rIt=H()(Skt.prototype,"createContext",[vst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z4}}),nIt=H()(Skt.prototype,"createCanvasContext",[mst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t7}}),iIt=H()(Skt.prototype,"canvasToTempFilePath",[yst,bst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O4}}),aIt=H()(Skt.prototype,"canvasGetImageData",[_st,wst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s4}}),oIt=H()(Skt.prototype,"canvasPutImageData",[Sst,Cst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p4}}),sIt=H()(Skt.prototype,"createOffscreenCanvas",[kst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H4}}),lIt=H()(Skt.prototype,"getAccountInfoSync",[Ist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lq}}),cIt=H()(Skt.prototype,"getShareInfo",[Pst,Ast,xst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F$t}}),uIt=H()(Skt.prototype,"authPrivateMessage",[Tst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z$t}}),dIt=H()(Skt.prototype,"pageScrollTo",[Est,Mst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OU}}),pIt=H()(Skt.prototype,"chooseInvoiceTitle",[Rst,Ost,Dst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nse}}),hIt=H()(Skt.prototype,"chooseInvoice",[Lst,Nst,Bst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xse}}),fIt=H()(Skt.prototype,"openCustomerServiceChat",[$st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gle}}),gIt=H()(Skt.prototype,"openStickerSetView",[jst,Fst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return use}}),vIt=H()(Skt.prototype,"openSingleStickerView",[Wst,Ust],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dse}}),mIt=H()(Skt.prototype,"openStickerIPView",[Vst,qst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pse}}),yIt=H()(Skt.prototype,"onPageReload",[zst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{tR.call(tjt,e)}}}),bIt=H()(Skt.prototype,"createAudioContext",[Gst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=Ap(t,uu.currentWebviewId);return Spe.call(tjt,e,uu.currentWebviewId,r)}}}),_It=H()(Skt.prototype,"createVideoContext",[Hst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=Ap(t,uu.currentWebviewId);return M6.call(tjt,e,uu.currentWebviewId,r)}}}),wIt=H()(Skt.prototype,"createMapContext",[Kst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=Ap(t,uu.currentWebviewId);return Xle.call(tjt,e,uu.currentWebviewId,r)}}}),SIt=H()(Skt.prototype,"createLivePlayerContext",[Jst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=Ap(t,uu.currentWebviewId);return gpe.call(tjt,e,uu.currentWebviewId,r)}}}),CIt=H()(Skt.prototype,"getPassiveEvent",[Xst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e2e}}),kIt=H()(Skt.prototype,"arrayBufferToBase64",[Yst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.surroundThirdByTryCatch(Av)}}),IIt=H()(Skt.prototype,"base64ToArrayBuffer",[Qst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.surroundThirdByTryCatch(xv)}}),PIt=H()(Skt.prototype,"openSetting",[Zst,elt,tlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fP}}),AIt=H()(Skt.prototype,"getExtConfig",[rlt,nlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XSe}}),xIt=H()(Skt.prototype,"chooseMedia",[ilt,alt,olt,slt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MPe}}),TIt=H()(Skt.prototype,"previewMedia",[llt,clt,ult],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OPe}}),EIt=H()(Skt.prototype,"chooseMultiMedia",[dlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DPe}}),MIt=H()(Skt.prototype,"chooseMessageFile",[plt,hlt,flt,glt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EPe}}),RIt=H()(Skt.prototype,"chooseWeChatContact",[vlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b$t}}),OIt=H()(Skt.prototype,"uploadEncryptedFileToCDN",[mlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oA}}),DIt=H()(Skt.prototype,"onUploadEncryptedFileToCDNProgress",[ylt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sA}}),LIt=H()(Skt.prototype,"uploadToCommonCDN",[blt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cA}}),NIt=H()(Skt.prototype,"getExtConfigSync",[_lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JSe}}),BIt=H()(Skt.prototype,"showShareMenu",[wlt,Slt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W$t}}),$It=H()(Skt.prototype,"hideShareMenu",[Clt,klt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U$t}}),jIt=H()(Skt.prototype,"updateShareMenu",[Ilt,Plt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V$t}}),FIt=H()(Skt.prototype,"shareAppMessageForFakeNative",[Alt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q$t}}),WIt=H()(Skt.prototype,"openUrl",[xlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $q}}),UIt=H()(Skt.prototype,"setNavigationBarColor",[Tlt,Elt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L$t}}),VIt=H()(Skt.prototype,"setNavigationBarAlpha",[Mlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N$t}}),qIt=H()(Skt.prototype,"showShareImageMenu",[Rlt,Olt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G$t}}),zIt=H()(Skt.prototype,"shareFileMessage",[Dlt,Llt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H$t}}),GIt=H()(Skt.prototype,"shareVideoMessage",[Nlt,Blt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K$t}}),HIt=H()(Skt.prototype,"vibrateShort",[$lt,jlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v$t}}),KIt=H()(Skt.prototype,"vibrateLong",[Flt,Wlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m$t}}),JIt=H()(Skt.prototype,"getSetting",[Ult,Vlt,qlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zoe}}),XIt=H()(Skt.prototype,"checkIsSupportFacialRecognition",[zlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gae}}),YIt=H()(Skt.prototype,"startFacialRecognitionVerify",[Glt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yae}}),QIt=H()(Skt.prototype,"startFacialRecognitionVerifyAndUploadVideo",[Hlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qae}}),ZIt=H()(Skt.prototype,"startFacialEncryptionVerify",[Klt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kae}}),ePt=H()(Skt.prototype,"startFacialEncryptionVerifyAndUploadVideo",[Jlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jae}}),tPt=H()(Skt.prototype,"sendBizRedPacket",[Xlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lae}}),rPt=H()(Skt.prototype,"requestDeviceVoIP",[Ylt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ile}}),nPt=H()(Skt.prototype,"getDeviceVoIPList",[Qlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ple}}),iPt=H()(Skt.prototype,"sendGoldenRedPacket",[Zlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dae}}),aPt=H()(Skt.prototype,"openGoldenRedPacketDetail",[ect],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oae}}),oPt=H()(Skt.prototype,"showRedPackage",[tct,rct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uae}}),sPt=H()(Skt.prototype,"jumpRedPacketEnvelopePreview",[nct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vae}}),lPt=H()(Skt.prototype,"quickSendRedPacket",[ict],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qae}}),cPt=H()(Skt.prototype,"sendRedCoverAppMsg",[act],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zae}}),uPt=H()(Skt.prototype,"previewSmartAd",[oct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jqe}}),dPt=H()(Skt.prototype,"jumpRedPacketEnvelopePreview",[sct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vae}}),pPt=H()(Skt.prototype,"quickSendRedPacket",[lct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qae}}),hPt=H()(Skt.prototype,"sendRedCoverAppMsg",[cct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zae}}),fPt=H()(Skt.prototype,"addPhoneContact",[uct,dct,pct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _$t}}),gPt=H()(Skt.prototype,"quicklyAddBrandContact",[hct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w$t}}),vPt=H()(Skt.prototype,"searchContacts",[fct,gct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S$t}}),mPt=H()(Skt.prototype,"privateSearchContacts",[vct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C$t}}),yPt=H()(Skt.prototype,"sendSms",[mct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k$t}}),bPt=H()(Skt.prototype,"setScreenBrightness",[yct,bct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u$t}}),_Pt=H()(Skt.prototype,"getScreenBrightness",[_ct,wct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d$t}}),wPt=H()(Skt.prototype,"setVisualEffectOnCapture",[Sct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p$t}}),SPt=H()(Skt.prototype,"onScreenRecordingStateChanged",[Cct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h$t}}),CPt=H()(Skt.prototype,"offScreenRecordingStateChanged",[kct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f$t}}),kPt=H()(Skt.prototype,"getScreenRecordingState",[Ict],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g$t}}),IPt=H()(Skt.prototype,"shareToWeRun",[Pct,Act],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pse}}),PPt=H()(Skt.prototype,"getWeRunData",[xct,Tct,Ect,Mct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ese}}),APt=H()(Skt.prototype,"uploadWeRunData",[Rct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tse}}),xPt=H()(Skt.prototype,"addWeRunData",[Oct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rse}}),TPt=H()(Skt.prototype,"canIUse",[Dct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GAe}}),EPt=H()(Skt.prototype,"setPageStyle",[Lct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $U}}),MPt=H()(Skt.prototype,"triggerGettingWidgetData",[Nct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rke}}),RPt=H()(Skt.prototype,"navigateToMiniProgram",[Bct,$ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dne}}),OPt=H()(Skt.prototype,"navigateToMiniProgramDirectly",[jct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nne}}),DPt=H()(Skt.prototype,"navigateToDevMiniProgram",[Fct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vhe}}),LPt=H()(Skt.prototype,"navigateBackMiniProgram",[Wct,Uct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fhe}}),NPt=H()(Skt.prototype,"launchMiniProgram",[Vct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mhe}}),BPt=H()(Skt.prototype,"launchDevMiniProgram",[qct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yhe}}),$Pt=H()(Skt.prototype,"exitMiniProgram",[zct,Gct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jee}}),jPt=H()(Skt.prototype,"openEmbeddedMiniProgram",[Hct,Kct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rhe}}),FPt=H()(Skt.prototype,"onEmbeddedMiniProgramHeightChange",[Jct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dhe}}),WPt=H()(Skt.prototype,"offEmbeddedMiniProgramHeightChange",[Xct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lhe}}),UPt=H()(Skt.prototype,"launchApplicationDirectly",[Yct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HRe}}),VPt=H()(Skt.prototype,"launchApplicationForNative",[Qct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GRe}}),qPt=H()(Skt.prototype,"setNavigationBarRightButton",[Zct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B$t}}),zPt=H()(Skt.prototype,"onTapNavigationBarRightButton",[eut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $$t}}),GPt=H()(Skt.prototype,"setTopBarText",[tut,rut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eU}}),HPt=H()(Skt.prototype,"setTabBarBadge",[nut,iut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iW}}),KPt=H()(Skt.prototype,"removeTabBarBadge",[aut,out],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aW}}),JPt=H()(Skt.prototype,"showTabBarRedDot",[sut,lut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oW}}),XPt=H()(Skt.prototype,"hideTabBarRedDot",[cut,uut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sW}}),YPt=H()(Skt.prototype,"showTabBar",[dut,put],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cW}}),QPt=H()(Skt.prototype,"hideTabBar",[hut,fut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uW}}),ZPt=H()(Skt.prototype,"setTabBarStyle",[gut,vut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pW}}),eAt=H()(Skt.prototype,"setTabBarItem",[mut,yut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fW}}),tAt=H()(Skt.prototype,"getTabBarManager",[but],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D6e}}),rAt=H()(Skt.prototype,"setBackgroundColor",[_ut,wut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fV}}),nAt=H()(Skt.prototype,"setBackgroundTextStyle",[Sut,Cut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gV}}),iAt=H()(Skt.prototype,"setEnableDebug",[kut,Iut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dq}}),aAt=H()(Skt.prototype,"captureScreen",[Put],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o$t}}),oAt=H()(Skt.prototype,"onUserCaptureScreen",[Aut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s$t}}),sAt=H()(Skt.prototype,"offUserCaptureScreen",[xut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l$t}}),lAt=H()(Skt.prototype,"setKeepScreenOn",[Tut,Eut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c$t}}),cAt=H()(Skt.prototype,"checkIsSupportSoterAuthentication",[Mut,Rut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Eae}}),uAt=H()(Skt.prototype,"startSoterAuthentication",[Out,Dut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mae}}),dAt=H()(Skt.prototype,"checkIsSoterEnrolledInDevice",[Lut,Nut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rae}}),pAt=H()(Skt.prototype,"openDeliveryList",[But],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lq}}),hAt=H()(Skt.prototype,"navigateBackH5",[$ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bYe}}),fAt=H()(Skt.prototype,"openBusinessView",[jut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _7}}),gAt=H()(Skt.prototype,"openOfficialAccountArticle",[Fut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Ye}}),vAt=H()(Skt.prototype,"navigateBackApplication",[Wut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SYe}}),mAt=H()(Skt.prototype,"navigateBackNative",[Uut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CYe}}),yAt=H()(Skt.prototype,"reportIDKey",[Vut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ake}}),bAt=H()(Skt.prototype,"reportKeyValue",[qut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oke}}),_At=H()(Skt.prototype,"setWindowSize",[zut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WQe}}),wAt=H()(Skt.prototype,"setNavigationBarTitle",[Gut,Hut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R$t}}),SAt=H()(Skt.prototype,"showNavigationBarLoading",[Kut,Jut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O$t}}),CAt=H()(Skt.prototype,"hideNavigationBarLoading",[Xut,Yut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D$t}}),kAt=H()(Skt.prototype,"hideHomeButton",[Qut,Zut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j$t}}),IAt=H()(Skt.prototype,"startPullDownRefresh",[edt,tdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DU}}),PAt=H()(Skt.prototype,"stopPullDownRefresh",[rdt,ndt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LU}}),AAt=H()(Skt.prototype,"operateWXData",[idt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ase}}),xAt=H()(Skt.prototype,"getOpenDeviceId",[adt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sse}}),TAt=H()(Skt.prototype,"onMenuButtonBoundingClientRectWeightChange",[odt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _V}}),EAt=H()(Skt.prototype,"offMenuButtonBoundingClientRectWeightChange",[sdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wV}}),MAt=H()(Skt.prototype,"getMenuButtonBoundingClientRect",[ldt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CV}}),RAt=H()(Skt.prototype,"getSelectedTextRange",[cdt,udt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kV}}),OAt=H()(Skt.prototype,"enableAlertBeforeUnload",[ddt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mV}}),DAt=H()(Skt.prototype,"disableAlertBeforeUnload",[pdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yV}}),LAt=H()(Skt.prototype,"setNavigateBackInterception",[hdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jV}}),NAt=H()(Skt.prototype,"stopNavigateBackInterception",[fdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FV}}),BAt=H()(Skt.prototype,"makeBluetoothPair",[gdt,vdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iEe}}),$At=H()(Skt.prototype,"isBluetoothDevicePaired",[mdt,ydt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aEe}}),jAt=H()(Skt.prototype,"openBluetoothAdapter",[bdt,_dt,wdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nxe}}),FAt=H()(Skt.prototype,"openBluetoothAdapterBackground",[Sdt,Cdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zxe}}),WAt=H()(Skt.prototype,"closeBluetoothAdapter",[kdt,Idt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gxe}}),UAt=H()(Skt.prototype,"getBluetoothAdapterState",[Pdt,Adt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hxe}}),VAt=H()(Skt.prototype,"onBluetoothAdapterStateChange",[xdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jpe}}),qAt=H()(Skt.prototype,"offBluetoothAdapterStateChange",[Tdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fpe}}),zAt=H()(Skt.prototype,"startBluetoothDevicesDiscovery",[Edt,Mdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kxe}}),GAt=H()(Skt.prototype,"stopBluetoothDevicesDiscovery",[Rdt,Odt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jxe}}),HAt=H()(Skt.prototype,"startMonitoringBluetoothDevice",[Ddt,Ldt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mEe}}),KAt=H()(Skt.prototype,"stopMonitoringBluetoothDevice",[Ndt,Bdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Ee}}),JAt=H()(Skt.prototype,"getBluetoothDevices",[$dt,jdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xxe}}),XAt=H()(Skt.prototype,"getConnectedBluetoothDevices",[Fdt,Wdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qxe}}),YAt=H()(Skt.prototype,"getMonitoredBluetoothDevices",[Udt,Vdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bxe}}),QAt=H()(Skt.prototype,"createBLEConnection",[qdt,zdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yTe}}),ZAt=H()(Skt.prototype,"setBLEMTU",[Gdt,Hdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oEe}}),ext=H()(Skt.prototype,"setBluetoothBackgroundMode",[Kdt,Jdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hTe}}),txt=H()(Skt.prototype,"getBLEMTU",[Xdt,Ydt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pEe}}),rxt=H()(Skt.prototype,"onBLEMTUChange",[Qdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uEe}}),nxt=H()(Skt.prototype,"offBLEMTUChange",[Zdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dEe}}),ixt=H()(Skt.prototype,"closeBLEConnection",[ept,tpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bTe}}),axt=H()(Skt.prototype,"getBLEDeviceServices",[rpt,npt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Te}}),oxt=H()(Skt.prototype,"getBLEDeviceRSSI",[ipt,apt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yxe}}),sxt=H()(Skt.prototype,"getBLEDeviceCharacteristics",[opt,spt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wTe}}),lxt=H()(Skt.prototype,"createBLEPeripheralServer",[lpt,cpt,upt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eEe}}),cxt=H()(Skt.prototype,"onBLEPeripheralConnectionStateChanged",[dpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rEe}}),uxt=H()(Skt.prototype,"offBLEPeripheralConnectionStateChanged",[ppt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nEe}}),dxt=H()(Skt.prototype,"notifyBLECharacteristicValueChanged",[hpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return STe}}),pxt=H()(Skt.prototype,"notifyBLECharacteristicValueChange",[fpt,gpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CTe}}),hxt=H()(Skt.prototype,"readBLECharacteristicValue",[vpt,mpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kTe}}),fxt=H()(Skt.prototype,"writeBLECharacteristicValue",[ypt,bpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ITe}}),gxt=H()(Skt.prototype,"onBluetoothDeviceFound",[_pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MTe}}),vxt=H()(Skt.prototype,"offBluetoothDeviceFound",[wpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RTe}}),mxt=H()(Skt.prototype,"onMonitoredBluetoothDeviceFound",[Spt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IEe}}),yxt=H()(Skt.prototype,"offMonitoredBluetoothDeviceFound",[Cpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PEe}}),bxt=H()(Skt.prototype,"onBLEConnectionStateChanged",[kpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ATe}}),_xt=H()(Skt.prototype,"onBLEConnectionStateChange",[Ipt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lpe}}),wxt=H()(Skt.prototype,"onBLECharacteristicValueChange",[Ppt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TTe}}),Sxt=H()(Skt.prototype,"offBLEConnectionStateChanged",[Apt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xTe}}),Cxt=H()(Skt.prototype,"offBLEConnectionStateChange",[xpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Npe}}),kxt=H()(Skt.prototype,"offBLECharacteristicValueChange",[Tpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ETe}}),Ixt=H()(Skt.prototype,"startBeaconDiscovery",[Ept,Mpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sxe}}),Pxt=H()(Skt.prototype,"stopBeaconDiscovery",[Rpt,Opt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cxe}}),Axt=H()(Skt.prototype,"getBeacons",[Dpt,Lpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kxe}}),xxt=H()(Skt.prototype,"onBeaconUpdate",[Npt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ixe}}),Txt=H()(Skt.prototype,"offBeaconUpdate",[Bpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pxe}}),Ext=H()(Skt.prototype,"onBeaconServiceChange",[$pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Axe}}),Mxt=H()(Skt.prototype,"offBeaconServiceChange",[jpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xxe}}),Rxt=H()(Skt.prototype,"startWifi",[Fpt,Wpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AEe}}),Oxt=H()(Skt.prototype,"stopWifi",[Upt,Vpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xEe}}),Dxt=H()(Skt.prototype,"getWifiList",[qpt,zpt,Gpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TEe}}),Lxt=H()(Skt.prototype,"getConnectedWifi",[Hpt,Kpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MEe}}),Nxt=H()(Skt.prototype,"connectWifi",[Jpt,Xpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return REe}}),Bxt=H()(Skt.prototype,"presetWifiList",[Ypt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OEe}}),$xt=H()(Skt.prototype,"setWifiList",[Qpt,Zpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DEe}}),jxt=H()(Skt.prototype,"onGetWifiList",[eht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LEe}}),Fxt=H()(Skt.prototype,"onWifiConnected",[tht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BEe}}),Wxt=H()(Skt.prototype,"onWifiConnectedWithPartialInfo",[rht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VEe}}),Uxt=H()(Skt.prototype,"offGetWifiList",[nht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NEe}}),Vxt=H()(Skt.prototype,"offWifiConnected",[iht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Ee}}),qxt=H()(Skt.prototype,"offWifiConnectedWithPartialInfo",[aht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qEe}}),zxt=H()(Skt.prototype,"onEvaluateWifi",[oht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WEe}}),Gxt=H()(Skt.prototype,"getHCEState",[sht,lht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zEe}}),Hxt=H()(Skt.prototype,"startHCE",[cht,uht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GEe}}),Kxt=H()(Skt.prototype,"stopHCE",[dht,pht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HEe}}),Jxt=H()(Skt.prototype,"sendHCEMessage",[hht,fht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KEe}}),Xxt=H()(Skt.prototype,"onHCEMessage",[ght],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JEe}}),Yxt=H()(Skt.prototype,"offHCEMessage",[vht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XEe}}),Qxt=H()(Skt.prototype,"getNFCAdapter",[mht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yMe}}),Zxt=H()(Skt.prototype,"startLocalServiceDiscovery",[yht,bht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CMe}}),eTt=H()(Skt.prototype,"stopLocalServiceDiscovery",[_ht,wht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kMe}}),tTt=H()(Skt.prototype,"onLocalServiceFound",[Sht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IMe}}),rTt=H()(Skt.prototype,"offLocalServiceFound",[Cht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PMe}}),nTt=H()(Skt.prototype,"onLocalServiceLost",[kht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AMe}}),iTt=H()(Skt.prototype,"offLocalServiceLost",[Iht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xMe}}),aTt=H()(Skt.prototype,"onLocalServiceDiscoveryStop",[Pht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TMe}}),oTt=H()(Skt.prototype,"offLocalServiceDiscoveryStop",[Aht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EMe}}),sTt=H()(Skt.prototype,"onLocalServiceResolveFail",[xht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MMe}}),lTt=H()(Skt.prototype,"offLocalServiceResolveFail",[Tht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RMe}}),cTt=H()(Skt.prototype,"getLocalIPAddress",[Eht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YMe}}),uTt=H()(Skt.prototype,"checkDeviceSupportHevc",[Mht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZMe}}),dTt=H()(Skt.prototype,"redirectTo",[Rht,Oht,Dht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jM}}),pTt=H()(Skt.prototype,"reLaunch",[Lht,Nht,Bht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FM}}),hTt=H()(Skt.prototype,"navigateTo",[$ht,jht,Fht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BM}}),fTt=H()(Skt.prototype,"switchTab",[Wht,Uht,Vht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WM}}),gTt=H()(Skt.prototype,"navigateBack",[qht,zht,Ght],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EM}}),vTt=H()(Skt.prototype,"onAppShow",[Hht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GC}}),mTt=H()(Skt.prototype,"offAppShow",[Kht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HC}}),yTt=H()(Skt.prototype,"onAppHide",[Jht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nk}}),bTt=H()(Skt.prototype,"offAppHide",[Xht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ik}}),_Tt=H()(Skt.prototype,"onError",[Yht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b$}}),wTt=H()(Skt.prototype,"offError",[Qht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _$}}),STt=H()(Skt.prototype,"onUnhandledRejection",[Zht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w$}}),CTt=H()(Skt.prototype,"offUnhandledRejection",[eft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S$}}),kTt=H()(Skt.prototype,"getLaunchOptionsSync",[tft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lN}}),ITt=H()(Skt.prototype,"getEnterOptionsSync",[rft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tf}}),PTt=H()(Skt.prototype,"getInnerEnterOptions",[nft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xje}}),ATt=H()(Skt.prototype,"onWindowResize",[ift],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aV}}),xTt=H()(Skt.prototype,"offWindowResize",[aft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oV}}),TTt=H()(Skt.prototype,"setPageOrientation",[oft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pV}}),ETt=H()(Skt.prototype,"getBackgroundFetchData",[sft,lft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J$t}}),MTt=H()(Skt.prototype,"onBackgroundFetchData",[cft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X$t}}),RTt=H()(Skt.prototype,"setBackgroundFetchToken",[uft,dft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y$t}}),OTt=H()(Skt.prototype,"getBackgroundFetchToken",[pft,hft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q$t}}),DTt=H()(Skt.prototype,"request",[fft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S6e}}),LTt=H()(Skt.prototype,"connectSocket",[gft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dBt}}),NTt=H()(Skt.prototype,"closeSocket",[vft,mft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pBt}}),BTt=H()(Skt.prototype,"sendSocketMessage",[yft,bft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hBt}}),$Tt=H()(Skt.prototype,"onSocketOpen",[_ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fBt}}),jTt=H()(Skt.prototype,"onSocketClose",[wft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gBt}}),FTt=H()(Skt.prototype,"onSocketMessage",[Sft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vBt}}),WTt=H()(Skt.prototype,"onSocketError",[Cft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mBt}}),UTt=H()(Skt.prototype,"uploadFile",[kft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XI}}),VTt=H()(Skt.prototype,"downloadFile",[Ift],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CI}}),qTt=H()(Skt.prototype,"addNativeDownloadTask",[Pft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uA}}),zTt=H()(Skt.prototype,"downloadApp",[Aft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yA}}),GTt=H()(Skt.prototype,"installDownloadApp",[xft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SA}}),HTt=H()(Skt.prototype,"getAppInstallState",[Tft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bA}}),KTt=H()(Skt.prototype,"queryDownloadAppTask",[Eft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _A}}),JTt=H()(Skt.prototype,"cancelDownloadAppTask",[Mft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wA}}),XTt=H()(Skt.prototype,"resumeDownloadAppTask",[Rft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kA}}),YTt=H()(Skt.prototype,"pauseDownloadAppTask",[Oft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CA}}),QTt=H()(Skt.prototype,"onDownloadAppStateChange",[Dft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IA}}),ZTt=H()(Skt.prototype,"downloadAppForIOS",[Lft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PA}}),eEt=H()(Skt.prototype,"calRqt",[Nft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AA}}),tEt=H()(Skt.prototype,"secureTunnel",[Bft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xA}}),rEt=H()(Skt.prototype,"chooseImage",[$ft,jft,Fft,Wft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yBt}}),nEt=H()(Skt.prototype,"previewImage",[Uft,Vft,qft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bBt}}),iEt=H()(Skt.prototype,"getImageInfo",[zft,Gft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Bt}}),aEt=H()(Skt.prototype,"saveImageToPhotosAlbum",[Hft,Kft,Jft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wBt}}),oEt=H()(Skt.prototype,"compressImage",[Xft,Yft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SBt}}),sEt=H()(Skt.prototype,"editImage",[Qft,Zft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CBt}}),lEt=H()(Skt.prototype,"cropImage",[egt,tgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kBt}}),cEt=H()(Skt.prototype,"startRecord",[rgt,ngt,igt,agt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IBt}}),uEt=H()(Skt.prototype,"stopRecord",[ogt,sgt,lgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PBt}}),dEt=H()(Skt.prototype,"playVoice",[cgt,ugt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MBt}}),pEt=H()(Skt.prototype,"pauseVoice",[dgt,pgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RBt}}),hEt=H()(Skt.prototype,"stopVoice",[hgt,fgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OBt}}),fEt=H()(Skt.prototype,"onVoicePlayEnd",[ggt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DBt}}),gEt=H()(Skt.prototype,"chooseVideo",[vgt,mgt,ygt,bgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ABt}}),vEt=H()(Skt.prototype,"saveVideoToPhotosAlbum",[_gt,wgt,Sgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xBt}}),mEt=H()(Skt.prototype,"getVideoInfo",[Cgt,kgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TBt}}),yEt=H()(Skt.prototype,"compressVideo",[Igt,Pgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EBt}}),bEt=H()(Skt.prototype,"loadFontFace",[Agt,xgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LBt}}),_Et=H()(Skt.prototype,"createMediaContainer",[Tgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VPe}}),wEt=H()(Skt.prototype,"createMediaRecorder",[Egt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xAe}}),SEt=H()(Skt.prototype,"createVideoDecoder",[Mgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oAe}}),CEt=H()(Skt.prototype,"openVideoEditor",[Rgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RAe}}),kEt=H()(Skt.prototype,"createMediaAudioPlayer",[Ogt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PPe}}),IEt=H()(Skt.prototype,"createWebAudioContext",[Dgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return que}}),PEt=H()(Skt.prototype,"getLocation",[Lgt,Ngt,Bgt,$gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kSe}}),AEt=H()(Skt.prototype,"getFuzzyLocation",[jgt,Fgt,Wgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KSe}}),xEt=H()(Skt.prototype,"openLocation",[Ugt,Vgt,qgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ASe}}),TEt=H()(Skt.prototype,"chooseLocation",[zgt,Ggt,Hgt,Kgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ISe}}),EEt=H()(Skt.prototype,"choosePoi",[Jgt,Xgt,Ygt,Qgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PSe}}),MEt=H()(Skt.prototype,"onLocationChange",[Zgt,evt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TSe}}),REt=H()(Skt.prototype,"offLocationChange",[tvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ESe}}),OEt=H()(Skt.prototype,"onLocationChangeError",[rvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OSe}}),DEt=H()(Skt.prototype,"offLocationChangeError",[nvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DSe}}),LEt=H()(Skt.prototype,"startLocationUpdateBackground",[ivt,avt,ovt,svt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WSe}}),NEt=H()(Skt.prototype,"startLocationUpdate",[lvt,cvt,uvt,dvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return USe}}),BEt=H()(Skt.prototype,"stopLocationUpdate",[pvt,hvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VSe}}),$Et=H()(Skt.prototype,"getNetworkType",[fvt,gvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Py}}),jEt=H()(Skt.prototype,"onNetworkStatusChange",[vvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ay}}),FEt=H()(Skt.prototype,"offNetworkStatusChange",[mvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xy}}),WEt=H()(Skt.prototype,"onNetworkWeakChange",[yvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ty}}),UEt=H()(Skt.prototype,"offNetworkWeakChange",[bvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ey}}),VEt=H()(Skt.prototype,"getSystemInfo",[_vt,wvt,Svt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aw}}),qEt=H()(Skt.prototype,"getSystemInfoSync",[Cvt,kvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ww}}),zEt=H()(Skt.prototype,"getSystemInfoAsync",[Ivt,Pvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tw}}),GEt=H()(Skt.prototype,"openSystemBluetoothSetting",[Avt,xvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ew}}),HEt=H()(Skt.prototype,"openAppAuthorizeSetting",[Tvt,Evt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mw}}),KEt=H()(Skt.prototype,"getSystemSetting",[Mvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dw}}),JEt=H()(Skt.prototype,"getAppAuthorizeSetting",[Rvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lw}}),XEt=H()(Skt.prototype,"getDeviceInfo",[Ovt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vw}}),YEt=H()(Skt.prototype,"getDeviceBenchmarkInfo",[Dvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DS}}),QEt=H()(Skt.prototype,"getWindowInfo",[Lvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NS}}),ZEt=H()(Skt.prototype,"getAppBaseInfo",[Nvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $S}}),eMt=H()(Skt.prototype,"getRendererUserAgent",[Bvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qS}}),tMt=H()(Skt.prototype,"getBatteryInfo",[$vt,jvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KAe}}),rMt=H()(Skt.prototype,"getBatteryInfoSync",[Fvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JAe}}),nMt=H()(Skt.prototype,"onBatteryInfoChange",[Wvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XAe}}),iMt=H()(Skt.prototype,"offBatteryInfoChange",[Uvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YAe}}),aMt=H()(Skt.prototype,"startAccelerometer",[Vvt,qvt,zvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return exe}}),oMt=H()(Skt.prototype,"stopAccelerometer",[Gvt,Hvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return txe}}),sMt=H()(Skt.prototype,"onAccelerometerChange",[Kvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ixe}}),lMt=H()(Skt.prototype,"offAccelerometerChange",[Jvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nxe}}),cMt=H()(Skt.prototype,"startCompass",[Xvt,Yvt,Qvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sxe}}),uMt=H()(Skt.prototype,"stopCompass",[Zvt,emt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lxe}}),dMt=H()(Skt.prototype,"onCompassChange",[tmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dxe}}),pMt=H()(Skt.prototype,"offCompassChange",[rmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uxe}}),hMt=H()(Skt.prototype,"startDeviceMotionListening",[nmt,imt,amt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jMe}}),fMt=H()(Skt.prototype,"stopDeviceMotionListening",[omt,smt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FMe}}),gMt=H()(Skt.prototype,"onDeviceMotionChange",[lmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WMe}}),vMt=H()(Skt.prototype,"offDeviceMotionChange",[cmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UMe}}),mMt=H()(Skt.prototype,"startGyroscope",[umt,dmt,pmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DMe}}),yMt=H()(Skt.prototype,"stopGyroscope",[hmt,fmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LMe}}),bMt=H()(Skt.prototype,"onGyroscopeChange",[gmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NMe}}),_Mt=H()(Skt.prototype,"offGyroscopeChange",[vmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BMe}}),wMt=H()(Skt.prototype,"checkIsOpenAccessibility",[mmt,ymt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VMe}}),SMt=H()(Skt.prototype,"addPhoneCalendar",[bmt,_mt,wmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GMe}}),CMt=H()(Skt.prototype,"addPhoneRepeatCalendar",[Smt,Cmt,kmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HMe}}),kMt=H()(Skt.prototype,"getRandomValues",[Imt,Pmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bFe}}),IMt=H()(Skt.prototype,"getWebviewDebugInfo",[Amt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XMe}}),PMt=H()(Skt.prototype,"reportAction",[xmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nke}}),AMt=H()(Skt.prototype,"getBackgroundAudioManager",[Tmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oPe}}),xMt=H()(Skt.prototype,"getRecorderManager",[Emt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GIe}}),TMt=H()(Skt.prototype,"getBackgroundAudioPlayerState",[Mmt,Rmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NBt}}),EMt=H()(Skt.prototype,"playBackgroundAudio",[Omt,Dmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BBt}}),MMt=H()(Skt.prototype,"pauseBackgroundAudio",[Lmt,Nmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Bt}}),RMt=H()(Skt.prototype,"seekBackgroundAudio",[Bmt,$mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jBt}}),OMt=H()(Skt.prototype,"stopBackgroundAudio",[jmt,Fmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FBt}}),DMt=H()(Skt.prototype,"onBackgroundAudioPlay",[Wmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WBt}}),LMt=H()(Skt.prototype,"onBackgroundAudioPause",[Umt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UBt}}),NMt=H()(Skt.prototype,"onBackgroundAudioStop",[Vmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VBt}}),BMt=H()(Skt.prototype,"joinVoIPChat",[qmt,zmt,Gmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qBt}}),$Mt=H()(Skt.prototype,"exitVoIPChat",[Hmt,Kmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zBt}}),jMt=H()(Skt.prototype,"updateVoIPChatMuteConfig",[Jmt,Xmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GBt}}),FMt=H()(Skt.prototype,"onVoIPChatMembersChanged",[Ymt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HBt}}),WMt=H()(Skt.prototype,"onVoIPChatSpeakersChanged",[Qmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KBt}}),UMt=H()(Skt.prototype,"onVoIPChatInterrupted",[Zmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JBt}}),VMt=H()(Skt.prototype,"offVoIPChatMembersChanged",[eyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XBt}}),qMt=H()(Skt.prototype,"offVoIPChatSpeakersChanged",[tyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YBt}}),zMt=H()(Skt.prototype,"offVoIPChatInterrupted",[ryt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QBt}}),GMt=H()(Skt.prototype,"subscribeVoIPVideoMembers",[nyt,iyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZBt}}),HMt=H()(Skt.prototype,"onVoIPVideoMembersChanged",[ayt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e$t}}),KMt=H()(Skt.prototype,"offVoIPVideoMembersChanged",[oyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t$t}}),JMt=H()(Skt.prototype,"onVoIPChatStateChanged",[syt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r$t}}),XMt=H()(Skt.prototype,"offVoIPChatStateChanged",[lyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n$t}}),YMt=H()(Skt.prototype,"join1v1Chat",[cyt,uyt,dyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i$t}}),QMt=H()(Skt.prototype,"setEnable1v1Chat",[pyt,hyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a$t}}),ZMt=H()(Skt.prototype,"requestSubscribeMessage",[fyt,gyt,vyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bse}}),eRt=H()(Skt.prototype,"requestSubscribeDeviceMessage",[myt,yyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tle}}),tRt=H()(Skt.prototype,"login",[byt,_yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _X}}),rRt=H()(Skt.prototype,"logout",[wyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TX}}),nRt=H()(Skt.prototype,"checkSession",[Syt,Cyt,kyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xX}}),iRt=H()(Skt.prototype,"authorize",[Iyt,Pyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p9}}),aRt=H()(Skt.prototype,"getUserInfo",[Ayt,xyt,Tyt,Eyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Doe}}),oRt=H()(Skt.prototype,"getUserProfile",[Myt,Ryt,Oyt,Dyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qoe}}),sRt=H()(Skt.prototype,"privateCreateVestUser",[Lyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return joe}}),lRt=H()(Skt.prototype,"requestPayment",[Nyt,Byt,$yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kte}}),cRt=H()(Skt.prototype,"requestScanPOSPay",[jyt,Fyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ore}}),uRt=H()(Skt.prototype,"verifyPaymentPassword",[Wyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ire}}),dRt=H()(Skt.prototype,"bindPaymentCard",[Uyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fee}}),pRt=H()(Skt.prototype,"requestPaymentToBank",[Vyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kre}}),hRt=H()(Skt.prototype,"requestVirtualPayment",[qyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SIe}}),fRt=H()(Skt.prototype,"requestCommonPayment",[zyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aie}}),gRt=H()(Skt.prototype,"openOfflinePayView",[Gyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _ee}}),vRt=H()(Skt.prototype,"openWCPayCardList",[Hyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sre}}),mRt=H()(Skt.prototype,"requestMallPayment",[Kyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mee}}),yRt=H()(Skt.prototype,"setCurrentPaySpeech",[Jyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wre}}),bRt=H()(Skt.prototype,"loadPaySpeechDialectConfig",[Xyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gee}}),_Rt=H()(Skt.prototype,"requestJointPayment",[Yyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xre}}),wRt=H()(Skt.prototype,"getWCPayOverseaPrepayRequest",[Qyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bee}}),SRt=H()(Skt.prototype,"requestH5Transaction",[Zyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cre}}),CRt=H()(Skt.prototype,"openWCPayOverseaPaymentReceive",[ebt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Are}}),kRt=H()(Skt.prototype,"handleWCPayOverseaWalletBuffer",[tbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yre}}),IRt=H()(Skt.prototype,"requestVerifyUserIdentity",[rbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yee}}),PRt=H()(Skt.prototype,"requestPersonalPay",[nbt,ibt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ere}}),ARt=H()(Skt.prototype,"phoneBindCardVerifySms",[abt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vee}}),xRt=H()(Skt.prototype,"faceVerifyForPay",[obt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ese}}),TRt=H()(Skt.prototype,"openOfficialAccountProfile",[sbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mse}}),ERt=H()(Skt.prototype,"openUserProfile",[lbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ose}}),MRt=H()(Skt.prototype,"requestBizSplitBillPayment",[cbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rle}}),RRt=H()(Skt.prototype,"openSelectPayment",[ubt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bre}}),ORt=H()(Skt.prototype,"requestEntrustAuthorization",[dbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wee}}),DRt=H()(Skt.prototype,"requestFacetoFacePayment",[pbt,hbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _re}}),LRt=H()(Skt.prototype,"requestQueryCashier",[fbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pre}}),NRt=H()(Skt.prototype,"requestOrderPayment",[gbt,vbt,mbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vre}}),BRt=H()(Skt.prototype,"requestMedicalInsurancePay",[ybt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rre}}),$Rt=H()(Skt.prototype,"requestMerchantTransfer",[bbt,_bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ore}}),jRt=H()(Skt.prototype,"checkBeforeAddOrder",[wbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mre}}),FRt=H()(Skt.prototype,"notifyWCPayResult",[Sbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mre}}),WRt=H()(Skt.prototype,"openHKOfflinePayView",[Cbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kne}}),URt=H()(Skt.prototype,"openMiniProgramProfile",[kbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rse}}),VRt=H()(Skt.prototype,"openMiniProgramSearch",[Ibt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ine}}),qRt=H()(Skt.prototype,"openMiniProgramHistoryList",[Pbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ane}}),zRt=H()(Skt.prototype,"openMiniProgramStarList",[Abt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return one}}),GRt=H()(Skt.prototype,"openMiniProgramAuthManageList",[xbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sne}}),HRt=H()(Skt.prototype,"batchGetContactDirectly",[Tbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lne}}),KRt=H()(Skt.prototype,"preloadMiniProgramEnvDirectly",[Ebt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return une}}),JRt=H()(Skt.prototype,"predownloadMiniProgramPackageDirectly",[Mbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dne}}),XRt=H()(Skt.prototype,"preventApplePayUI",[Rbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lse}}),YRt=H()(Skt.prototype,"addCard",[Obt,Dbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xae}}),QRt=H()(Skt.prototype,"openCard",[Lbt,Nbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tae}}),ZRt=H()(Skt.prototype,"checkTrafficCardConditions",[Bbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zae}}),eOt=H()(Skt.prototype,"queryTrafficCardInfo",[$bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eoe}}),tOt=H()(Skt.prototype,"issueTrafficCard",[jbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return toe}}),rOt=H()(Skt.prototype,"rechargeTrafficCard",[Fbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return roe}}),nOt=H()(Skt.prototype,"setDefaultTrafficCard",[Wbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return noe}}),iOt=H()(Skt.prototype,"deleteTrafficCard",[Ubt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ioe}}),aOt=H()(Skt.prototype,"addFileToFavorites",[Vbt,qbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aoe}}),oOt=H()(Skt.prototype,"addVideoToFavorites",[zbt,Gbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ooe}}),sOt=H()(Skt.prototype,"openChannelsCreateContact",[Hbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return soe}}),lOt=H()(Skt.prototype,"getChannelsShareKey",[Kbt,Jbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return coe}}),cOt=H()(Skt.prototype,"openChannelsPostPage",[Xbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uoe}}),uOt=H()(Skt.prototype,"scanCode",[Ybt,Qbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fxe}}),dOt=H()(Skt.prototype,"openQRCode",[Zbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gxe}}),pOt=H()(Skt.prototype,"scanItem",[e_t,t_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yxe}}),hOt=H()(Skt.prototype,"privateScanItem",[r_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bxe}}),fOt=H()(Skt.prototype,"chooseAddress",[n_t,i_t,a_t,o_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zoe}}),H()(Skt.prototype,"saveFile",[s_t,l_t],Object.getOwnPropertyDescriptor(Skt.prototype,"saveFile"),Skt.prototype),gOt=H()(Skt.prototype,"openDocument",[c_t,u_t,d_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fp}}),H()(Skt.prototype,"getSavedFileList",[p_t,h_t],Object.getOwnPropertyDescriptor(Skt.prototype,"getSavedFileList"),Skt.prototype),H()(Skt.prototype,"getSavedFileInfo",[f_t,g_t],Object.getOwnPropertyDescriptor(Skt.prototype,"getSavedFileInfo"),Skt.prototype),H()(Skt.prototype,"getFileInfo",[v_t,m_t],Object.getOwnPropertyDescriptor(Skt.prototype,"getFileInfo"),Skt.prototype),H()(Skt.prototype,"removeSavedFile",[y_t,b_t],Object.getOwnPropertyDescriptor(Skt.prototype,"removeSavedFile"),Skt.prototype),vOt=H()(Skt.prototype,"getFileSystemManager",[__t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pv}}),mOt=H()(Skt.prototype,"saveFileToDisk",[w_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O$e}}),yOt=H()(Skt.prototype,"getABTestConfig",[S_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ef}}),bOt=H()(Skt.prototype,"chooseContact",[C_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y$t}}),_Ot=H()(Skt.prototype,"makePhoneCall",[k_t,I_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pxe}}),wOt=H()(Skt.prototype,"makeVoIPCall",[P_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hxe}}),SOt=H()(Skt.prototype,"onBeforeAppRoute",[A_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GH}}),COt=H()(Skt.prototype,"offBeforeAppRoute",[x_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HH}}),kOt=H()(Skt.prototype,"onAppRoute",[T_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DC}}),IOt=H()(Skt.prototype,"setEntryPagePath",[E_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aqe}}),POt=H()(Skt.prototype,"clearEntryPagePath",[M_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oqe}}),AOt=H()(Skt.prototype,"offAppRoute",[R_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LC}}),xOt=H()(Skt.prototype,"onAppRouteDone",[O_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RK}}),TOt=H()(Skt.prototype,"offAppRouteDone",[D_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OK}}),EOt=H()(Skt.prototype,"onBeforePageLoad",[L_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XH}}),MOt=H()(Skt.prototype,"offBeforePageLoad",[N_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YH}}),ROt=H()(Skt.prototype,"onAfterPageLoad",[B_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tK}}),OOt=H()(Skt.prototype,"offAfterPageLoad",[$_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rK}}),DOt=H()(Skt.prototype,"onBeforePageUnload",[j_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aK}}),LOt=H()(Skt.prototype,"offBeforePageUnload",[F_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oK}}),NOt=H()(Skt.prototype,"onAfterPageUnload",[W_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cK}}),BOt=H()(Skt.prototype,"offAfterPageUnload",[U_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uK}}),$Ot=H()(Skt.prototype,"onAppEnterBackground",[V_t,q_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hp}}),jOt=H()(Skt.prototype,"onAppEnterForeground",[z_t,G_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uf}}),FOt=H()(Skt.prototype,"onAppUnhang",[H_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MVe}}),WOt=H()(Skt.prototype,"onPageNotFound",[K_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XVe}}),UOt=H()(Skt.prototype,"offPageNotFound",[J_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YVe}}),VOt=H()(Skt.prototype,"onLazyLoadError",[X_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iqe}}),qOt=H()(Skt.prototype,"offLazyLoadError",[Y_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nqe}}),zOt=H()(Skt.prototype,"onThemeChange",[Q_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fse}}),GOt=H()(Skt.prototype,"offThemeChange",[Z_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vse}}),HOt=H()(Skt.prototype,"onApiCategoryChange",[ewt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bh}}),KOt=H()(Skt.prototype,"offApiCategoryChange",[twt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _h}}),JOt=H()(Skt.prototype,"getApiCategory",[rwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wh}}),XOt=H()(Skt.prototype,"postMessageToReferrerMiniProgram",[nwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ph}}),YOt=H()(Skt.prototype,"onCopyUrl",[iwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I3e}}),QOt=H()(Skt.prototype,"offCopyUrl",[awt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P3e}}),ZOt=H()(Skt.prototype,"onWindowStateChange",[owt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N3e}}),eDt=H()(Skt.prototype,"offWindowStateChange",[swt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B3e}}),tDt=H()(Skt.prototype,"onKeyDown",[lwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fot}}),rDt=H()(Skt.prototype,"offKeyDown",[cwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return got}}),nDt=H()(Skt.prototype,"onKeyUp",[uwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vot}}),iDt=H()(Skt.prototype,"offKeyUp",[dwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mot}}),aDt=H()(Skt.prototype,"createAnimation",[pwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GU}}),oDt=H()(Skt.prototype,"createInnerAudioContext",[hwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kde}}),sDt=H()(Skt.prototype,"getAvailableAudioSources",[fwt,gwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vPe}}),lDt=H()(Skt.prototype,"onAudioInterruptionBegin",[vwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zle}}),cDt=H()(Skt.prototype,"offAudioInterruptionBegin",[mwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ece}}),uDt=H()(Skt.prototype,"onAudioInterruptionEnd",[ywt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rce}}),dDt=H()(Skt.prototype,"offAudioInterruptionEnd",[bwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nce}}),pDt=H()(Skt.prototype,"setInnerAudioOption",[_wt,wwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kue}}),hDt=H()(Skt.prototype,"createCameraContext",[Swt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>hee.call(tjt,null,uu.currentWebviewId)}}),fDt=H()(Skt.prototype,"createLivePusherContext",[Cwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>O2.call(tjt,null,uu.currentWebviewId)}}),gDt=H()(Skt.prototype,"onWebviewEvent",[kwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TU}}),vDt=H()(Skt.prototype,"onNativeEvent",[Iwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EU}}),mDt=H()(Skt.prototype,"hideKeyboard",[Pwt,Awt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jU}}),yDt=H()(Skt.prototype,"onKeyboardHeightChange",[xwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VU}}),bDt=H()(Skt.prototype,"offKeyboardHeightChange",[Twt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qU}}),_Dt=H()(Skt.prototype,"getPublicLibVersion",[Ewt,Mwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oq}}),wDt=H()(Skt.prototype,"showModal",[Rwt,Owt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T$t}}),SDt=H()(Skt.prototype,"showToast",[Dwt,Lwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I$t}}),CDt=H()(Skt.prototype,"hideToast",[Nwt,Bwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P$t}}),kDt=H()(Skt.prototype,"showLoading",[$wt,jwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A$t}}),IDt=H()(Skt.prototype,"hideLoading",[Fwt,Wwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x$t}}),PDt=H()(Skt.prototype,"showActionSheet",[Uwt,Vwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E$t}}),ADt=H()(Skt.prototype,"showShareActionSheet",[qwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M$t}}),xDt=H()(Skt.prototype,"reportAnalytics",[zwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ike}}),TDt=H()(Skt.prototype,"reportMonitor",[Gwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ske}}),EDt=H()(Skt.prototype,"getClipboardData",[Hwt,Kwt,Jwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _xe}}),MDt=H()(Skt.prototype,"setClipboardData",[Xwt,Ywt,Qwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wxe}}),RDt=H()(Skt.prototype,"createSelectorQuery",[Zwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZCe}}),ODt=H()(Skt.prototype,"createIntersectionObserver",[eSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eke}}),DDt=H()(Skt.prototype,"createMediaQueryObserver",[tSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tke}}),LDt=H()(Skt.prototype,"nextTick",[rSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lee}}),NDt=H()(Skt.prototype,"updatePerfData",[nSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UV}}),BDt=H()(Skt.prototype,"traceEvent",[iSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VV}}),$Dt=H()(Skt.prototype,"onMemoryWarning",[aSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GV}}),jDt=H()(Skt.prototype,"offMemoryWarning",[oSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HV}}),FDt=H()(Skt.prototype,"reportPerformance",[sSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TOe}}),WDt=H()(Skt.prototype,"getPerformance",[lSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AZ}}),UDt=H()(Skt.prototype,"getUpdateManager",[cSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cDe}}),VDt=H()(Skt.prototype,"updateWeChatApp",[uSt,dSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pDe}}),qDt=H()(Skt.prototype,"getPluginUpdateManager",[pSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SDe}}),zDt=H()(Skt.prototype,"createWorker",[hSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WWe}}),GDt=H()(Skt.prototype,"setCookies",[fSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rk}}),HDt=H()(Skt.prototype,"getCookies",[gSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ok}}),KDt=H()(Skt.prototype,"faceDetect",[vSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fUe}}),JDt=H()(Skt.prototype,"initFaceDetect",[mSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hUe}}),XDt=H()(Skt.prototype,"stopFaceDetect",[ySt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gUe}}),YDt=H()(Skt.prototype,"createBufferURL",[bSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CZe}}),QDt=H()(Skt.prototype,"revokeBufferURL",[_St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IZe}}),ZDt=H()(Skt.prototype,"createSignal",[wSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PZe}}),eLt=H()(Skt.prototype,"bindGroup",[SSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sZe}}),tLt=H()(Skt.prototype,"joinGroup",[CSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lZe}}),rLt=H()(Skt.prototype,"getLabInfo",[kSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xJe}}),nLt=H()(Skt.prototype,"setLabInfo",[ISt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TJe}}),iLt=H()(Skt.prototype,"createUDPSocket",[PSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U$e}}),aLt=H()(Skt.prototype,"createTCPSocket",[ASt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hLe}}),oLt=H()(Skt.prototype,"env",[xSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IVe}}),sLt=H()(Skt.prototype,"error",[TSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sAe}}),lLt=H()(Skt.prototype,"isSystemError",[ESt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lAe}}),cLt=H()(Skt.prototype,"isSDKError",[MSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cAe}}),uLt=H()(Skt.prototype,"isThirdError",[RSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uAe}}),dLt=H()(Skt.prototype,"createRewardedVideoAd",[OSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vBe}}),pLt=H()(Skt.prototype,"createInterstitialAd",[DSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mBe}}),hLt=H()(Skt.prototype,"createCustomAd",[LSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bBe}}),fLt=H()(Skt.prototype,"preloadVideoAd",[NSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ufe}}),gLt=H()(Skt.prototype,"preloadAd",[BSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Iwe}}),vLt=H()(Skt.prototype,"getLogManager",[$St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xz}}),mLt=H()(Skt.prototype,"getRealtimeLogManager",[jSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vG}}),yLt=H()(Skt.prototype,"getExptInfo",[FSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sq}}),bLt=H()(Skt.prototype,"getExptInfoSync",[WSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cq}}),_Lt=H()(Skt.prototype,"getCommonConfig",[USt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AZe}}),wLt=H()(Skt.prototype,"reportEvent",[VSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pq}}),SLt=H()(Skt.prototype,"reportStableEvent",[qSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aq}}),CLt=H()(Skt.prototype,"getChannelsLiveInfo",[zSt,GSt,HSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d$e}}),kLt=H()(Skt.prototype,"getChannelsLiveState",[KSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p$e}}),ILt=H()(Skt.prototype,"getChannelsLiveReservation",[JSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h$e}}),PLt=H()(Skt.prototype,"getChannelsLiveNoticeInfo",[XSt,YSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f$e}}),ALt=H()(Skt.prototype,"openChannelsLive",[QSt,ZSt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y$e}}),xLt=H()(Skt.prototype,"openChannelsActivity",[eCt,tCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S$e}}),TLt=H()(Skt.prototype,"openChannelsUserProfile",[rCt,nCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _$e}}),ELt=H()(Skt.prototype,"openChannelsLiveCollection",[iCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C$e}}),MLt=H()(Skt.prototype,"openChannelsEvent",[aCt,oCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k$e}}),RLt=H()(Skt.prototype,"reserveChannelsLive",[sCt,lCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I$e}}),OLt=H()(Skt.prototype,"openPublicServicePayment",[cCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RZe}}),DLt=H()(Skt.prototype,"version",[uCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OT()}}),LLt=H()(Skt.prototype,"chooseShareGroup",[dCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JRe}}),NLt=H()(Skt.prototype,"enterContact",[pCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KRe}}),BLt=H()(Skt.prototype,"getGroupEnterInfo",[hCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ile}}),$Lt=H()(Skt.prototype,"preloadWebview",[fCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oNe}}),jLt=H()(Skt.prototype,"preloadSkylineView",[gCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dNe}}),FLt=H()(Skt.prototype,"getSkylineInfo",[vCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vNe}}),WLt=H()(Skt.prototype,"getSkylineInfoSync",[mCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yNe}}),ULt=H()(Skt.prototype,"publishWeChatState",[yCt,bCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fle}}),VLt=H()(Skt.prototype,"publishWechatStateActivity",[_Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dle}}),qLt=H()(Skt.prototype,"checkPublishWeChatStateScene",[wCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ple}}),zLt=H()(Skt.prototype,"checkPublishWeChatStateSceneAsync",[SCt,CCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hle}}),GLt=H()(Skt.prototype,"lanDebug",[kCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B0e}}),HLt=H()(Skt.prototype,"createVKSession",[ICt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BWe}}),KLt=H()(Skt.prototype,"createVKReference",[PCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $We}}),JLt=H()(Skt.prototype,"isVKSupport",[ACt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jWe}}),XLt=H()(Skt.prototype,"createCacheManager",[xCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gJe}}),YLt=H()(Skt.prototype,"registerMagicBrushFrame",[TCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tZe}}),QLt=H()(Skt.prototype,"sendEventToMagicBrushFrame",[ECt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nZe}}),ZLt=H()(Skt.prototype,"onEventFromMagicBrushFrame",[MCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZQe}}),eNt=H()(Skt.prototype,"offEventFromMagicBrushFrame",[RCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eZe}}),tNt=H()(Skt.prototype,"addAccountCard",[OCt,DCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aZe}}),rNt=H()(Skt.prototype,"checkAccountCardAddState",[LCt,NCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oZe}}),nNt=H()(Skt.prototype,"getDebuggerMessager",[BCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b3e}}),iNt=H()(Skt.prototype,"chooseLicensePlate",[$Ct,jCt,FCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vle}}),aNt=H()(Skt.prototype,"createSharedArrayBuffer",[WCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P9}}),oNt=H()(Skt.prototype,"createInferenceSession",[UCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sC}}),sNt=H()(Skt.prototype,"preloadAssets",[VCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j3e}}),lNt=H()(Skt.prototype,"addToDesktop",[qCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z3e}}),cNt=H()(Skt.prototype,"setPassiveEvent",[zCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t2e}}),uNt=H()(Skt.prototype,"router",[GCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Ne()}}),dNt=H()(Skt.prototype,"worklet",[HCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wNe()}}),pNt=H()(Skt.prototype,"obs",[KCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lot()}}),hNt=H()(Skt.prototype,"serviceMarket",[JCt,XCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),fNt=H()(Skt.prototype,"cloud",[YCt,QCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gNt=H()(Skt.prototype,"getXrFrameSystem",[ZCt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q$e}}),vNt=H()(Skt.prototype,"addDevicePanel",[ekt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ble}}),mNt=H()(Skt.prototype,"removeDevicePanel",[tkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _le}}),yNt=H()(Skt.prototype,"getDevicePanelList",[rkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wle}}),bNt=H()(Skt.prototype,"canIUseDevicePanel",[nkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sle}}),_Nt=H()(Skt.prototype,"preDownloadSubpackage",[ikt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mIe}}),wNt=H()(Skt.prototype,"pay",[akt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d2e}}),SNt=H()(Skt.prototype,"notifyPayResult",[okt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BVe}}),CNt=H()(Skt.prototype,"checkIsPictureInPictureActive",[skt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ant}}),kNt=H()(Skt.prototype,"editTextWithPopForm",[lkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yje}}),INt=H()(Skt.prototype,"openAddressWithLightMode",[ckt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vje}}),PNt=H()(Skt.prototype,"getGMCryptoManager",[ukt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t3e}}),ANt=H()(Skt.prototype,"getUserCryptoManager",[dkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V0e}}),xNt=H()(Skt.prototype,"getSecureCryptoManager",[pkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o1e}}),TNt=H()(Skt.prototype,"batchAddDevicePanel",[hkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cle}}),ENt=H()(Skt.prototype,"checkIsAddedToMyMiniProgram",[fkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tle}}),MNt=H()(Skt.prototype,"ncidas",[gkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mle}}),RNt=H()(Skt.prototype,"openWeComUserProfile",[vkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ole}}),ONt=H()(Skt.prototype,"getInferenceEnvInfo",[mkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cw}}),DNt=H()(Skt.prototype,"restartMiniProgram",[ykt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oat}}),LNt=H()(Skt.prototype,"authorizeCombined",[bkt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u2}}),NNt=H()(Skt.prototype,"openGameDetail",[_kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bot}}),wkt=Skt))||wkt)||wkt)||wkt)||wkt)||wkt)||wkt)||wkt)||wkt),tjt=new ejt;tjt.miniapp=RY,Object.assign(tjt,(0,pX.getIdaasAPI)({sdk:E})),SZe(tjt),N8((e=>hZe(ijt,e.exportBaseMethods)),{once:!0}),e3e(),z$e((()=>({env:IVe,downloadFile:SI,getFileSystemManager:pv,encode:X3e,decode:Y3e,base64ToArrayBuffer:xv,getStorage:zNt,getStorageSync:GNt,setStorage:BNt,setStorageSync:$Nt,removeStorage:nBt,removeStorageSync:iBt,clearStorage:sBt,clearStorageSync:lBt,getStorageInfo:ZNt,getStorageInfoSync:eBt,onAppShow:GC,offAppShow:HC,onAppHide:nk,offAppHide:ik,createVKSession:BWe,isVKSupport:jWe,getSystemInfoSync:ww,createVideoDecoder:oAe,createMediaAudioPlayer:PPe,createBufferURL:CZe,showShareImageMenu:G$t,getCurrentPath:()=>uu.lastRoute,createMediaRecorder:xAe,saveVideoToPhotosAlbum:xBt}))),H$e((()=>tjt.cloud)),en("INVOKE_METHOD",(({name:e,args:t})=>{"function"==typeof tjt[e]&&tjt[e](t,!0)})),en("WEBVIEW_ERROR_MSG",(({msg:e})=>{T.triggerErrorMessage(e)}));var rjt=Object.getOwnPropertyNames(Object.getPrototypeOf(tjt)),njt=Object.getOwnPropertyNames(tjt),ijt=rjt.concat(njt).reduce(((e,t)=>("constructor"===t||(e[t]=tjt[t]),e)),{});re.onReady((()=>{Ke()&&(ijt.openWCPayLQTDetail=fZe,ijt.openWCPayLQTSave=gZe,ijt.openWCPayLQTDepositPlan=vZe,ijt.openWCPayLQTDepositPlanAdd=mZe,Object.defineProperty(ijt,"reportIDKey",{get:()=>function(e={}){e.noCallback=!0,md("reportIDKey",e)},configurable:!0})),hZe(ijt)})),Ent(ijt,!0);var ajt={wx:ijt,createPluginWX:_Ve,buildPluginPrivateApi:vFe,createPluginConsole:wVe,createPluginWXWebAssembly:SVe,onAppRouteResized:HVe,setWxInterfaceDisabled:hR,setWxInterfaceIsInvokeInTap:aM,unsetWxInterfaceIsInvokeInTap:oM,_setWxIsInvokeInTapForNavToMiniProgram:aj,_createSelectorQuery:FCe,_createIntersectionObserver:GCe,_createMediaQueryObserver:XCe,_assignOpenerEventChannelToPage:DM,_getPageOpenerEventChannel:LM,pluginInfos:CVe,_virtualDOMTunnel:PVe(Jr,en),_shadowSyncTunnel:AVe(Jr,en),_getABTestConfig:Tf,...IU,saveExitState:ZVe,loadExitState:eqe,createRouter:UM,setEnableDebug:Dq,_apiData:jAe,loadSubpackage:eIe,batchLoadSubpackage:lIe,setAppServiceEngine:_r,setExparser:xr,setSubContextEngineSub:kr,setVirtualDOM:mr,setWxModule:Sr,setCloudSDK:Er,setWeixinNativePluginMgr:Or,requestPluginPaymentEmitter:Une,workletSDK:{registerJsValue:kNe,...L},xrFrame:{getCanvasContext:tje,createXrFrame:eje,assignCanvasNodeIdToXrFrame:r0},splitOnBridgeListener:Y,exportGlobal:{wx:ijt,get WXWebAssembly(){return pUe()},Path2D:X4},loadPreloadSdkSubPackage:mnt,checkContext:NCe,onDomReady:xU,LifeCycle:l,AppGlobal:Zp,emitBeforePageLoad:SK,emitAfterPageLoad:CK,emitBeforePageUnload:kK,emitAfterPageUnload:IK};M6e()&&(ajt.wx.invokeThird=R6e,ajt.wx.onThird=O6e),xVe(ajt,B,ijt),xVe(ajt,j,ijt),xVe(ajt,F,ijt),xVe(ajt,W,ijt),xVe(ajt,E,ijt),(0,pX.setDefaultSDK)(ajt),Jit(ajt),ae({...F,...ajt});const ojt=ajt})(),N=m.default})();var B=N.wx,$;(()=>{var e={227:(e,t,r)=>{r.d(t,{D:()=>i,m:()=>n});var n={APP:"app",APP_RENDER:"app_sub_render",APP_XRFRAME_RENDER:"app_xrframe_render",APP_SCL:"app_sub_scl",GAME:"game",GAME_OPEN_DATA:"gameOpenData"},i={GAME_PLUGIN_PRELOAD:"gamePlugin_preload_",GAME_PLUGIN:"gamePlugin_",APP_CARDS:"CARD_"}},752:(e,t,r)=>{var n=r(796),i=r(410);g.onBridgeReady((()=>{S.on("onError",(e=>{g.emitUnhandledError(e)})),S.on("unhandledRejection",(e=>{g.emitUnhandledRejection(null==e?void 0:e.reason,null==e?void 0:e.promise)}))})),g.onUnhandledRejection((function(e={}){(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),y.error("Uncaught (in promise) FrameworkError",e.reason)):(0,n.sK)(e.reason,"",e.promise||null)})),g.onUnhandledError((function(e){e=(0,i.Bs)(e),(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),y.error("Uncaught FrameworkError",e)):(0,n.sK)(e,"")})),g.onFrameworkError((function(e){"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),y.error("FrameworkError",e)}))},673:(e,t,r)=>{r.d(t,{OJ:()=>a,YZ:()=>i,yQ:()=>n});function n(){if(r.g.PerfDog)return r.g.PerfDog}function i(){if("undefined"!=typeof NativeGlobal&&NativeGlobal.Profiler)return NativeGlobal.Profiler}var a=new class{constructor(){this.callbacks=new Map}sendPackage(e,t){var r=this.callbacks.get(e);r&&Array.isArray(r)&&r.forEach((r=>{r(e,t)}))}registerCallback(e,t){if(this.callbacks.get(e)){this.callbacks.get(e).push(t)}else{var r=[t];this.callbacks.set(e,r)}}}},550:(e,t,r)=>{var n=r(18);f.onReady((()=>{"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,n.M)(),r=0;r<t.length;r++){var i=t[r].contextGlobal.__wxSourceMap;if("object"==typeof i&&i[e]){var a=void 0;try{a=JSON.parse(JSON.stringify(i[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return a}}})}))},168:(e,t,r)=>{r.d(t,{Z:()=>x,i:()=>T});var n,i=r(888),a=r.n(i),o=r(796),s=r(410),l=r(227),c={},u={},d={},p={},h={},v={},m={},b=0;I.subscribe("subContextMessage",((e,t)=>{var r=d[t];return r&&r.__onMessageHandler(e)})),I.subscribe("injectGamePerformanceUtilsSDK",(e=>{var t=GamePerformanceUtilsSDK.getSDK();y.warn("gamePerformanceUtilsSdk: ",t),e.success({sdk:t})})),I.subscribe("subContextReady",((e,t)=>{var r;if(((0,o.G$)()||(0,o.oi)())&&(r=d[t]),g.env.isGame)if("game"===n.__name__||r&&"game"===r.__name__||"string"==typeof n.__name__&&n.__name__.includes("preload")||r&&"string"==typeof r.__name__&&r.__name__.includes("preload")){var i=n;if((r?n&&"game"===n.name?n:r:n).delaySubContextReadyCallback=()=>{(0,o.G$)()||(0,o.oi)()?d[t].__onReadyHandler(t,e):i&&i.__onReadyHandler(t,e)},(0,o.G$)()||(0,o.oi)())return void d[t].__onPreloadReadyHandler(t,e);if(!i)return;i.__onPreloadReadyHandler(t,e),n=void 0}else{if((0,o.G$)()||(0,o.oi)())return void d[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}else{if((0,o.G$)()||I.isAsync())return void d[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}})),I.subscribe("subContextLibVarReady",((e,t)=>{d[t].__onLibVarReadyHandler(e)}));var _=function(e){var t=I.create(e);return c[this.__guid__]=t,t},w=function(e,t,r){var n,i,a=(0,o.G$)()||I.isAsync(),s=!1;if("number"==typeof t&&I.supportAllocFromSnapshot()?(y.info(`[JSContext] alloc(fromSnapshot) name=${e}, snapshotCtxIdx=${t}`),n=I.allocFromSnapshot(e,t),e===l.m.APP&&I.setAppSubContextId(n),I.associateRealId2SdkId(n)):r&&I.supportAllocEmpty()?(y.info(`[JSContext] alloc(empty) name=${e}`),s=!0,a?i=new Promise((t=>{n=I.allocEmpty(e,(()=>{t(n)}))})):n=g.env.isMagicBrushFrameEnv?I.allocEmpty(e):I.allocEmpty()):(r&&y.warn("SubContext: allocEmpty is not supported"),y.info(`[JSContext] alloc name=${e}`),n=a?I.alloc(e):I.alloc(),e===l.m.APP&&I.setAppSubContextId(n),I.associateRealId2SdkId(n)),a&&(d[n]=this),c[this.__guid__]=n,s&&n>0)if(i)i=i.then((e=>{var t=this.loadLibFiles(r);return y.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${t}`),e}));else{var u=this.loadLibFiles(r);y.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${u}`)}return i||n},S=function(e,t,r){Object.defineProperty(this,e,{value:t,...r?{writable:!0,configurable:!1}:{writable:!1,configurable:!1}})},C=function(){void 0!==u[this.__guid__]&&(v[this.__guid__].forEach((e=>{this.postMessage(e)})),v[this.__guid__]=[])},k=function(){void 0!==u[this.__guid__]&&(0,s.YF)((()=>{m[this.__guid__].forEach((e=>{this.postMessage(e)})),m[this.__guid__]=[]}))},P=(e,t)=>(N.traceBeginEvent("Framework","evaluateScript",{moduleName:t,fileList:e}),e=>{N.traceEndEvent({isSuccess:e})}),A=new Set;const x=class{constructor({name:e,secure:t=!0,env:r={},entry:n=[],entryLibs:i=null,injectAfterAlloc:a=!0,snapshotContextName:o="",isPreload:s=!1}){S.call(this,"__name__",e,s),S.call(this,"__guid__",b++,s),S.call(this,"__secure__",t,s),S.call(this,"__entry__",n,s),S.call(this,"__entryLibs__",i,s),S.call(this,"__injectAfterAlloc__",a,s),S.call(this,"__snapshotContextName__",o,s),this.contextGlobal=globalThis,this.alreadyLoadedJsFiles=new Set,this.alreadyLoadedLibFiles=new Set,this.firstLoadJsFilesStartTime=null,this.initialScriptInjected=!1,this.setExportEnv(r),h[this.__guid__]=[],v[this.__guid__]=[],m[this.__guid__]=[]}static supportEntryLibs(){return I.supportAllocEmpty()}getInnerId(){return u[this.__guid__]}getSnapshotCtxIdx(){var e,t;if(!this.__snapshotContextName__)return null;var r=null===(e=f)||void 0===e||null===(t=e.snapshotMetaInfo)||void 0===t?void 0:t[this.__snapshotContextName__];return"number"==typeof r?r:null}init(){var e=this;if(n=this,!(I.supportAlloc()||this.__entryLibs__&&I.supportAllocEmpty()))return _.call(this,this.__entry__);var t=w.call(this,this.__name__,this.getSnapshotCtxIdx(),this.__entryLibs__);if(t instanceof Promise)return t.then((e=>(y.info(`[JSContext] alloc done, name=${this.__name__}, ret=${e}`),e)));if(y.info(`[JSContext] alloc done, name=${this.__name__}, ret=${t}`),this.__injectAfterAlloc__){if(((0,o.G$)()||I.isAsync())&&(0,o.N0)())return a()((function*(){for(var t=0,r=e.__entry__.length;t<r;t++)yield e.evaluateScriptFile(e.__entry__[t])}))();this.__entry__.forEach((e=>{this.evaluateScriptFile(e)}))}}preInit(e,t){var r=this;if(this.preHandleExportEnv=e,this.skipCondomList=t,n=this,!I.supportAlloc())return _.call(this,this.__entry__);w.call(this,this.__name__,this.getSnapshotCtxIdx()),this.__injectAfterAlloc__&&(this.delayExecuteJsFile=()=>{if(((0,o.G$)()||I.isAsync())&&(0,o.N0)())return a()((function*(){for(var e=0,t=r.__entry__.length;e<t;e++)yield r.evaluateScriptFile(r.__entry__[e])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))})}callDelayFn(){return new Promise(((e,t)=>{var r=Date.now(),i=()=>{if(this.delaySubContextReadyCallback){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var a=this.delayExecuteJsFile&&this.delayExecuteJsFile();n=void 0,e(a)}else{if(Date.now()-r>2e4)return g.env.platform,t();setTimeout(i)}};i()}))}callDelayFnSync(){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var e=this.delayExecuteJsFile&&this.delayExecuteJsFile();return n=void 0,e}unShiftEntries(e){this.__entry__.unshift(...e)}afterPreloadInit(){return("android"===g.env.platform||"ios"===g.env.platform)&&!I.isAsync()?this.callDelayFnSync():this.callDelayFn()}onMessage(e){(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback)&&(h[this.__guid__].forEach((e=>{this.__onMsgCallback(e)})),h[this.__guid__]=[])}postMessage(e){var t=u[this.__guid__];return void 0!==t?I.publish("mainContextMessage",e,[t])[0]:void v[this.__guid__].push(e)}postMessageAsync(e){var t=u[this.__guid__];void 0!==t?(0,s.YF)((()=>{I.publish("mainContextMessage",e,[t])})):m[this.__guid__].push(e)}onInitReady(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}setExportEnv(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,p[this.__guid__]=e}setName(e){this.name=e,this.__name__=e}setEntry(e){this.__entry__&&this.__entry__.pop?(this.__entry__.splice(0,this.__entry__.length),this.__entry__.push(...e)):this.__entry__=[...e]}getEntry(){return this.__entry__}refreshExportEnv(e){return new Promise((t=>{if(!e)throw Error("refreshExportEnv: missing arguments.");this.setExportEnv(e);var r=p[this.__guid__],n=u[this.__guid__];I.publish("subContextEnvReady",r,[n],!0),I.subscribe("subContextRefreshEnvReady",((e,r)=>{n===r&&t()}))}))}refreshWxConfig(e,t){var r=u[this.__guid__];I.publish("subContextRefreshWxConfig",{key:e,value:t},[r])}dynamicExportGlobal(e={name:"",value:"",needCondom:!0},t){var r=()=>{var r=u[this.__guid__];I.publish("exportGlobalRequire",e,[r]),t&&t()};void 0!==c[this.__guid__]?r():this.onInitReady(r)}evaluateScriptFile(e,t){var r=c[this.__guid__];if(void 0!==r){"game.js"===e&&(I.notifyGameEngineReady(),N.recordGameJSInjectTimestamp(Date.now()));var n=P([e],t);if(((0,o.G$)()||I.isAsync())&&(0,o.N0)())return new Promise((t=>{var i=I.evaluateScriptFile(r,e,(()=>t(i)));if(1!==i)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${i}`)})).then((()=>{n(!0)}));var i=I.evaluateScriptFile(r,e);if(1!==i)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${i}`);n(!0),this.alreadyLoadedJsFiles.add(e)}}loadLibFiles(e){var t=c&&c[this.__guid__];if(void 0===t)return"fail: no clientId";if(!I||!I.loadLibFiles)return"fail: not support loadLibFiles";try{e=e.filter((e=>!this.alreadyLoadedLibFiles.has(e)));var r=I.loadLibFiles(t,e);return e.forEach((e=>this.alreadyLoadedLibFiles.add(e))),r}catch(t){throw new Error(`SubContext loadLibFiles "${e}" failed: error ${t}`)}}loadJsFiles(e,t,{waitResult:r=!1,reportKey:n,isPageInitialScript:i=!1}={}){var a=0,o=[];for(var s of e)"/"!==s[0]&&(s="/"+s),this.alreadyLoadedJsFiles.has(s)?++a:o.push(s);e=o;var u=c&&c[this.__guid__],d=null;if(a>0&&y.info(`[SubContext] loadJsFiles ignored loaded: [${a} files]`),0===e.length)return y.info("[SubContext] loadJsFiles have no files to load, return"),d;var p={};if(void 0!==u){var h="android"===f.platform?"key":"reportKey",g=n;if(void 0!==g){if(A.has(g)){var v=1;do{g=n+"-#"+v++}while(A.has(g))}A.add(g)}if(p[h]=g,null===this.firstLoadJsFilesStartTime&&(this.firstLoadJsFilesStartTime=Date.now()),i&&!this.initialScriptInjected&&this.__name__===l.m.APP&&(this.initialScriptInjected=!0,p.initialScript=!0,p.initialScriptStartTime=this.firstLoadJsFilesStartTime),I&&I.batchLoadJsFiles)try{var m=Date.now(),b=P(e,t);try{I.batchLoadJsFiles(u,e,p)}catch(e){throw b(!1),e}r?d=e=>{b(!!e)}:b(!0),y.info("[SubContext] loadJsFiles done, cost "+(Date.now()-m)),e.forEach((e=>this.alreadyLoadedJsFiles.add(e)))}catch(t){throw new Error(`SubContext loadJsFiles "${e}" failed: error ${t}`)}}return d}destroy(){var e=c[this.__guid__],t=u[this.__guid__];e>0&&(I.publish("subContextDestroy",{},[t]),I.destroy(e)),delete d[t],delete c[this.__guid__],delete u[this.__guid__],delete p[this.__guid__],delete h[this.__guid__],delete v[this.__guid__],delete m[this.__guid__];try{delete this.__guid__}catch(e){}delete this.contextGlobal}__onMessageHandler(e){return"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):void h[this.__guid__].push(e)}__onReadyHandler(e,t){d[e]=this,u[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=p[this.__guid__];r&&I.publish("subContextEnvReady",r,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((e=>{e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,C.call(this),k.call(this)}__onPreloadReadyHandler(e,t){d[e]=this,u[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=p[this.__guid__];r&&(r.preHandleEnv=this.preHandleExportEnv,r.skipCondomList=this.skipCondomList,r.expt=!1,I.publish("preloadSubContextEnvReady",r,[e],!0))}};var T=e=>c[e]},18:(e,t,r)=>{r.d(t,{M:()=>a,z:()=>i});var n=[],i=function(e){n.push(e)},a=function(){return n}},796:(e,t,r)=>{r.d(t,{Dt:()=>h,F:()=>s,G$:()=>d,Hw:()=>u,N0:()=>o,NG:()=>v,QT:()=>l,Qj:()=>m,c2:()=>b,c6:()=>y,cF:()=>g,gn:()=>p,oi:()=>_,sK:()=>c,xJ:()=>a});var n=r(888),i=r.n(n),a=globalThis;var o=function(){return void 0!==f&&f.isIsolateContext},s=function(){A.deepFreezeGlobalObjs(["console"],!0)},l=function(){var e=i()((function*(e,t){T.reportIDKey({key:t});try{yield e()}catch(e){T.reportIDKey({key:`${t}_fail`,force:!0});var r=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";T.errorReport({key:r,error:e,extend:""})}}));return function(t,r){return e.apply(this,arguments)}}(),c=function(e,t,r){void 0!==r?T.thirdErrorReport({error:e,isUnhandledRejection:!0,promise:r,extend:t}):T.thirdErrorReport({error:e,isUnhandledRejection:!1,extend:t})},u=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){T.errorReport({key:e,error:t,extend:""})}}},d=function(){return"devtools"===f.platform},p=function(){return"ios"===f.platform},h=function(){return"android"===f.platform},g=e=>{var t;if(S.invoke("accessSync",{path:e},(e=>{/:fail/.test(e.errMsg)&&(t=e.errMsg)})),t)throw new Error(t)},v=e=>{var t,r;if(S.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t},m=(e="",t=[])=>{if(e&&"string"==typeof e&&!/^index/.test(e)){var r=e.replace(/(^\/+)|(\/+$)/g,"").split("/"),n=t.find((t=>{if(t.independent){var n=t.root||"",i=t.alias||"",a=n.replace(/(^\/+)|(\/+$)/g,"").split("/");if(r.length>=a.length){var o=a.every(((e,t)=>e===r[t]));if(o)return o}if(i&&0===e.indexOf(i))return!0}return!1}));if(n)return n}return!1},y=e=>[1001,1011,1007,1008,1074,1088,1044,1010,1096,1014,1043,1047,1107,1155].indexOf(e)>=0,b=({query:e,appType:t}={})=>!(null==e||!e.playable_outid)||20===t,_=()=>I.isAsync()},642:(e,t,r)=>{r.d(t,{E:()=>$,F:()=>j});var n=r(168),i=r(673),o=r(796),s=r(510),l=r(859),u=r(227);r.g.LanDebug=i.OJ,r.g.getPerfDog=i.yQ,r.g.getProfiler=i.YZ;var d,p="undefined"!=typeof __AppServiceRemoteDebugger__,h=null,v={};g.onLoad((()=>{h=p?__AppServiceRemoteDebugger__(f.platform,s.M,s.O,o.NG,r.g.WeixinJSBridge):null,p&&h&&((v=(0,o.gn)()?h.runtime.getSubContextGlobals():{}).BaseConsole&&h.runtime.setupConsole(console,v.BaseConsole),r.g.__remoteDebug__=h.__remoteDebug__,r.g.__isAppServiceRemoteDebugMode__=!0,r.g.__debuggerMessager__=s.O)}));var m=e=>d=e,b="app-service.js",_="appservice.app.js",C="common.app.js",k="appservice.js",A=new n.Z({name:u.m.APP,secure:!1,entry:[b],injectAfterAlloc:!1,snapshotContextName:"app:sub"}),x=new Set;f.onReady((()=>{"develop"!==f.envVersion&&"trial"!==f.envVersion||(x.add("wx0354ba48aadc0ab2"),x.add("wxfa43a4a7041a84de"))}));var E=e=>y.info("[injectEntryFile] "+e),D=new Set,L=(e,t,r)=>{if(!D.has(e)){N.traceBeginEvent("Framework",`injectEntryFile # [${e}]`),p&&h&&(0,o.gn)()&&h.runtime.registerScript(e);var n=-1,i=-1;D.add(e);var a="boolean"==typeof r?r:f.isLazyLoad;E(`isLazyLoad: ${a}`),E(`moduleName: ${e}`),E(`separatedPlugins: ${JSON.stringify(t)}`);var s=[];if(a){console.info("Lazy code loading is enabled. Only injecting required components."),t.forEach((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,x.add(t.plugin_id));try{E(`accessSync path: ${r+C}`),(0,o.cF)(r+C),s.push(r+C,r+_),t.prefix_path||((e,t)=>{y.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(0,o.NG)(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}y.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(f.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,y.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))})),A.refreshWxConfig("subPackages",f.subPackages)}})(e,r+"plugin.json")}catch(e){s.push(r+k)}})),s.push(e+C,e+_),E(`using separated plugins: ${JSON.stringify(s)}`);var l=e||"__APP__";n=Date.now(),A.loadJsFiles(s,l,{reportKey:`entry-${l}`}),i=Date.now()}else(s=t.map((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");return t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,x.add(t.plugin_id)),r+k}))).push(e+b),E(`using separated plugins: ${JSON.stringify(s)}`),n=Date.now(),s.forEach((t=>{if(t="/"===t[0]?t:"/"+t,!A.alreadyLoadedJsFiles.has(t)){try{A.evaluateScriptFile(t,e||"__APP__")}catch(e){E(`inject ${t} failed, reason: ${e.message}`)}A.alreadyLoadedJsFiles.add(t)}})),i=Date.now();A.refreshWxConfig("extendedLibList",Array.from(x)),n>0&&i>0&&E("time cost: "+(i-n)),N.traceEndEvent()}},B=(0,o.Hw)("appServiceSDKScriptError",(e=>{var t=e.moduleName,r="__APP__"===t,n=e.separatedPlugins||[],i=e.isLazyLoad;"string"!=typeof t&&console.error("SubContext onSubPackageReady error: moduleName is empty"),d.globalRequireBlocker.block(),t.endsWith("/")||(t=`${t}/`),(0,o.gn)()&&p?(t=r?"":t,h.runtime.isInitialInject()?(h.runtime.startBufferBridgeMessages(),h.runtime.runAfterAttached((()=>{L(t,n,i),h.runtime.dispatchBridgeMessages()}))):L(t,n,i)):L(r?"":t,n,i),d.globalRequireBlocker.unblock(),M.getEnv().codeManager.setSubPackageLoaded([t]),M.getEnv().afterPackageCommonEvaluation(),f.onReady((()=>{N.traceBeginEvent("Framework","ExecuteMiniProgram # "+t),d.globalRequireBlocker.flushQueue(),N.traceEndEvent()}))})),$=function(){var e,t={};p&&h&&(t={__isAppServiceRemoteDebugMode__:!0,__remoteDebug__:h.__remoteDebug__,...v});var n={wxLibVersion:(null===(e=a)||void 0===e?void 0:e.version)||"9.9.9",__Function__:c,console:Object.assign({group:()=>{},groupEnd:()=>{}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__sclEngine__:__sclEngine__,__wxConfig:f,Reporter:T,BaseConsole:P.BaseConsole,wxNativeConsole:y,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},__subContextEngineBridge__:R,__freezeLibContextGlobal__:()=>(0,o.F)(),originConsole:console,...t,debuggerMessager:s.O,__userActionTracer__:O,__appServiceSDK__:N,WeixinJSBridge:S,WeixinNativePluginMgr:l.j,setWxModule:m,__glassEaselAdapter__:M};return n.Trace=w,N.beforeSubPackageReady((()=>{A.refreshWxConfig("exportBaseMethods",r.g.__wxConfig.exportBaseMethods)}),{once:!0}),N.onSubPackageReady(B),A.setExportEnv(n),A.init()},j=function(){return A};I&&I.subscribe&&I.subscribe("injectEntryFile",(e=>{L(e.moduleName,e.separatedPlugins)}))},612:(e,t,r)=>{r.d(t,{DW:()=>l,Tq:()=>u,vh:()=>c});var n=r(227),i=r(168),a=r(796),o=["WARenderContext.js"];"undefined"!=typeof __AppServiceRemoteDebugger__&&o.push("WARemoteDebug.js");var s=new i.Z({name:n.m.APP_RENDER,secure:!0,entry:[],entryLibs:o,snapshotContextName:"app:subRender"}),l=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:f,Reporter:T,BaseConsole:P.BaseConsole,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:y,WeixinJSBridge:S,__sclEngine__:__sclEngine__,__appServiceConsole__:P,SkylineGlobal:"undefined"==typeof SkylineGlobal?{}:SkylineGlobal,__glassEaselAdapter__:M,readFileSync:a.NG};return e.Trace=w,N.beforeSubPackageReady((()=>{s.refreshWxConfig("exportBaseMethods",r.g.__wxConfig.exportBaseMethods)}),{once:!0}),s.setExportEnv(e),s.__initPromise__=s.init(),s},c=function(){return s},u=(e,t)=>I.publish(e,t,[s.getInnerId()])},801:(e,t,r)=>{r.d(t,{Nz:()=>s,Pc:()=>o,dx:()=>a});var n=r(227),i=new(r(168).Z)({name:n.m.APP_SCL,secure:!1,entry:["common.app.js","webview.app.js"],entryLibs:["WASclContext.js"]}),a=function(){__sclEngine__.initScl((()=>{}),!0);var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:f,Reporter:T,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:y,WeixinJSBridge:S,__sclEngine__:__sclEngine__};return e.Trace=w,i.setExportEnv(e),i.__initPromise__=i.init(),i},o=function(){return i},s=(e,t)=>I.publish(e,t,[i.getInnerId()])},740:(e,t,r)=>{r.d(t,{$:()=>o,k:()=>s});var n,i=r(227),a=r(168),o=function(e){if(n)return console.error(new Error("createAppXRFrameRenderContext: exceed max concurrent XRFrameRenderContext limit.")),n;n=new a.Z({name:i.m.APP_XRFRAME_RENDER,secure:!1,entry:[],entryLibs:"devtools"===f.platform?["WAXRFrameRenderContextDevTools.js"]:["WAXRFrameRenderContext.js"]});var t={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:f,Reporter:T,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:y,WeixinJSBridge:S,Trace:w,console:console,subContextInitCallback:e,BaseConsole:P.BaseConsole};return n.setExportEnv(t),n.init(),n},s=()=>n},510:(e,t,r)=>{r.d(t,{M:()=>a,O:()=>i});var n=[],i="undefined"!=typeof DebuggerConnection?DebuggerConnection:{};i.registerCallback=e=>{"function"==typeof e&&n.push(e)},i.onCustomMessage=(e,t)=>{n.forEach((r=>{try{r(e,t)}catch(e){}}))};var a="undefined"!=typeof JSThread?JSThread:null},561:(e,t,r)=>{r.d(t,{M:()=>p,N7:()=>u,eC:()=>h,xC:()=>v});var n=r(168),i=r(673),a=r(510),o=r(227);r.g.LanDebug=i.OJ,r.g.getPerfDog=i.yQ,r.g.__debuggerMessager__=a.O;var s,l="object"==typeof window&&window&&window.__wkrenderer_h5,c={};g.onLoad((()=>{s=l?[...A.globalEsObjs.map(((e,t)=>(c[t]=e,globalThis[e]))),...A.globalEsHiddenObjs]:(s=(s=[...A.globalEsObjs.map((e=>({key:e,val:globalThis[e]}))),...A.globalEsHiddenObjs]).filter((e=>null!=e&&e.key?Boolean(e.val)&&e.val!==eval:Boolean(e)&&e!==eval))).map(((e,t)=>e.key?(c[t]=e.key,e.val):(c[t]=`globalEsHiddenObjs-${t}`,e)))}));var u=new class{constructor(){var e;this.__readyCondomFn=[],this.whiteExptName="android"===(null===(e=f)||void 0===e?void 0:e.platform)?"clicfg_appbrand_android_control_close_condom_white":"clicfg_appbrand_ios_control_close_condom_white"}condomPrototype(e){var t;return(null===(t=f)||void 0===t?void 0:t.expt[this.whiteExptName])?e.length!==s.length?(y.warn("Condom Unexpected Error: the subCtx globalEnv length not equal mainCtx"),this.__readyCondomFn.forEach((e=>e(!1))),!1):(A.bridgeGlobalInstanceOf(e,s,c),this.__readyCondomFn.forEach((e=>e())),!0):(this.__readyCondomFn.forEach((e=>e(!1))),!1)}getGlobals(){return s||(console.error("unexpected error: getGlobals in gameContext too early"),[])}onCondomBridgeFinshed(e){this.__readyCondomFn.push(e)}},d=new n.Z({name:o.m.GAME,secure:!1,entry:["game.js"],snapshotContextName:"game:sub"}),p=function(e){return e.__wxConfig=f,e.__ctx_bridge=u,e.__is_wk_game=l,d.setExportEnv(e),d.afterPreloadInit()},h=function(){return d},v=function(e,t){return d.preInit(e,t)}},681:(e,t,r)=>{r.d(t,{J:()=>s,r:()=>l});var n=r(227),i=r(168),a=r(796),o=new i.Z({name:n.m.GAME_OPEN_DATA,secure:!0,entry:["subContext.js"],snapshotContextName:"game:sub"});var s=e=>(e.__wxConfig=f,o.setExportEnv(e),(0,a.G$)()||I.isAsync()||function(){var e=f.plugins||f.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!!r&&r.some((e=>"openDataContext"===e.type))})).map((t=>e[t]));o.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}(),o.init()),l=function(){return o}},29:(e,t,r)=>{r.d(t,{K0:()=>w,dr:()=>b,hS:()=>S,qo:()=>_});var n=r(888),i=r.n(n),a=r(227),o=r(168),s=r(18),l=r(796),c=r(561),u=r(681),d={},p={isolatedContext:{},gameContext:{},gameOpenDataContext:{},unknown:{}},h=e=>`__plugin__/${e}/plugin.js`,v=null,m=!1,y=1;g.onLoad((()=>{g.env.isGame&&f.preload&&"android"===g.env.platform&&!I.isAsync()?(v=new o.Z({name:a.D.GAME_PLUGIN_PRELOAD+y,secure:!1,isPreload:!0,snapshotContextName:"game:sub"}),y++,v.preInit()):m=!0}));var b=(e={provider:"",secure:!0,env:null,subContext:!1,isPreload:!1})=>{var{env:t,secure:r,isPreload:n,subContext:c}=e,{provider:u}=e;if(!1===(0,l.N0)())throw new Error("isn't isolateContext mode!");var g,y=d[u=`${u}_${c?"_sub":"main"}`];if(y)return g=y.contextGlobal.__require,!0===y.__isCompleted||!1===y.__isCompleted&&(y.dynamicExportGlobal({name:"pluginEnv",value:t}),p.isolatedContext[u]=g),g;var b,_=a.D.GAME_PLUGIN+u,w=h(u.slice(0,-5));b=m?new o.Z({name:_,secure:r,entry:[w],snapshotContextName:"game:sub"}):v;var S=e=>{if(e.__wxConfig=f,b.setExportEnv({...e,pluginEnv:t}),m)return b.init();b.setName(_),b.setEntry([w]),b.afterPreloadInit(),m=!0};return((0,l.G$)()||I.isAsync())&&!0===n?i()((function*(){return yield(0,l.QT)(i()((function*(){(0,s.z)(b),yield S(N.getIsolatedGamePluginContextEnv(e)),g=b.contextGlobal.__require,b.__isCompleted=!1,d[u]=b})),"initGamePluginContext"),g}))():((0,l.QT)((()=>{(0,s.z)(b),S(N.getIsolatedGamePluginContextEnv(e)),g=b.contextGlobal.__require,b.__isCompleted=!0,d[u]=b}),"initGamePluginContext"),p.isolatedContext[u]=g,g)},_=(e,t,r)=>{var{__name__:n}=e,a=h(t),o="game"===n?"gameContext":"gameOpenData"===n?"gameOpenDataContext":"unknown";return((0,l.G$)()||I.isAsync())&&!0===r?i()((function*(){return yield e.evaluateScriptFile(a),p[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o}}))():(e.evaluateScriptFile(a),p[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o})},w=function(){var e=i()((function*(){var e,t,r=(e=f.gamePlugins||f.plugins||{},t=[],Object.keys(e).forEach((r=>{if(e[r].contexts)e[r].contexts.forEach((n=>{t.push({...e[r],context:n,contexts:null});var i=e[r].provider;"wx20afc706a711eefc"!==i&&"wx4d5893418b75cb20"!==i||t.push({...e[r],context:n,subContext:!0,contexts:null})}));else{t.push({...e[r],context:{type:"gameContext"},contexts:null});var n=e[r].provider;"wx20afc706a711eefc"!==n&&"wx4d5893418b75cb20"!==n||t.push({...e[r],context:{type:"gameContext"},subContext:!0,contexts:null})}})),t),n=(e,t)=>e.getEntry().unshift(t);return Promise.all(r.map((e=>{var{provider:t,context:r}=e;switch(r.type){case"isolatedContext":return b({...e,isPreload:!0});case"gameContext":return n((0,c.eC)(),h(t));case"openDataContext":return n((0,u.r)(),h(t));default:throw new Error(`pluginConf error: invalid context name: ${r.type}`)}})))}));return function(){return e.apply(this,arguments)}}(),S=()=>p},896:(e,t,r)=>{r.d(t,{ZJ:()=>x,ZT:()=>M,eh:()=>E});var n=r(168),i=r(796),a=r(18),o=r(227),s=r(975),l=r.n(s),u=!1,d=!1,p=!1,h=null,g=0,v=null,m=null,b={},_={},w=[],C={},k={},P={};I.subscribe("magicBrushFrameSubContextBridge",((e={})=>{m=e.__subContextEngineBridge__})),I.subscribe("magicBrushFrameSubContextReady",((e={},t)=>{console.info("[MagicBrushFrame] magicBrushFrameSubContextReady",e);var r=e.frameSetInfo,n=N.renderMagicBrushFrameError;if(r){var i=C[r.frameId];if(!i)return n(r.frameId);var o=(0,a.M)().find((e=>e.getInnerId()===t));if("app-card"===i.bizType){var{componentName:s}=i.data,{appPath:l,cardPath:c}=i.data;if("/"!==l[l.length-1]&&(l+="/"),"/"===l[0]&&(l=l.substr(1)),"/"===c[0]&&(c=c.substr(1)),console.info("[MagicBrushFrame] inject user code",s,l,c),o.loadJsFiles([`${l}common.app.js`,`${l}appservice.app.js`,`${l}${c}.appservice.js`]),!h.getComponentSpace().getComponentByUrlWithoutDefault(s,""))return console.error("[MagicBrushFrame] inject user code error",s,l,c),n(r.frameId)}N.createMagicBrushFrameSet(r.name,r.frameId)}}));var x=e=>{var t;u||(u=!0,mb.requirePlugin("sclRectPaletteLib"),"undefined"!=typeof __wxLib__?(h=__wxLib__.codeSpace,g=(null===(t=__wxLib__.versionInfo)||void 0===t?void 0:t.glassEaselVersion)||0,console.info("[MagicBrushFrame] glassEasel version",g),N.onMessageFromMiniprogram((({message:e})=>{e=JSON.parse(e||"{}");var{type:t,data:r={}}=e;if("event"===t){var{name:n,frameId:i,args:a={}}=r,o=P[i];o&&o.emit(n,a)}}))):console.error("mb.requirePlugin('sclRectPaletteLib') error!"));var r=e.extraData.bizType;r&&("app-card"===r&&function(e){if(!d){d=!0;var t=l()(g);Object.assign(b,t),h.addCompiledTemplate("index",{content:b.index}),h.addComponentStaticConfig("index",{frame:"wx://component/frame","frame-set":"wx://component/frame-set"}),h.globalComponentEnv(globalThis,"index",(()=>{globalThis.Component({data:{frameSetList:[]},lifetimes:{created(){console.info("[MagicBrushFrame] frameSetRoot created"),v=this,w.length&&this.setData({frameSetList:w})},attached(){console.info("[MagicBrushFrame] frameSetRoot attached")}},methods:{onFrameLoad(e){if(e.currentTarget){var t,r,n=null===(t=e.currentTarget.data)||void 0===t||null===(r=t.params)||void 0===r?void 0:r.frameId;P[n]=e.detail.eventChannel}}}})}));var{appCardDef:r}=e.extraData;if(r){var{template:n,template2:i,cards:a}=r;if(!n&&!i||!a||!a.length)return;var o=null;if(g>=1&&"string"==typeof i?o=i:"string"==typeof n&&(o=n),o){var s=new c("global","require","module","exports","window","document","frames","self","location","navigator","localStorage","history","Caches","screen","alert","confirm","prompt","XMLHttpRequest","WebSocket","Reporter","webkit","WeixinJSCore",`return ${o}`).call({});s&&Object.assign(b,s)}for(var u of a){var p=u.type;p&&(_[p]={path:`${p}/index`,...u})}}}}(e),N.createMagicBrushFrameSetRoot())},E=e=>{var t=N.renderMagicBrushFrameError,{frameId:r,extraData:s}=e,l=s.bizType;if(!l)return t(r);if(console.info("[MagicBrushFrame] createMagicBrushFrameContext",r,l),"app-card"===l){var{appId:u,type:d,pageId:g,params:I,appPath:P,cardPath:x}=s,{path:E,style:M,config:O,definitionFilter:D}=_[d]||{},L=`${g}-${u}-${d}`,B=function(e){return e};if(!E||!P||!x)return t(r);h.addCompiledTemplate(L,{content:b[E]}),M&&M.url&&h.addStyleSheet(L,M.url,M.scopeName),O&&"object"==typeof O&&h.addComponentStaticConfig(L,O||{usingComponents:{}}),D&&"string"==typeof D&&(B=new c("definition","Behavior",`${D}`));var $=I||{};$.frameId=r;var j={frameId:r,name:L,path:L,properties:$};if(v){var F=v.data.frameSetList;F.push(j),v.setData({frameSetList:F})}else w.push(j);p||(A.hijack(),p=!0);var W=new n.Z({name:`${o.D.APP_CARDS}${u}`,secure:!0,entry:[],entryLibs:["WAMagicBrushSubContext.js"],env:{}});C[r]={frameSetName:j.name,subContextGuid:W.__guid__,bizType:l,data:{componentName:L,appPath:P,cardPath:x}},(0,a.z)(W),h.globalComponentEnv(globalThis,L,(()=>{if("app-card"===l){var t=globalThis.Component,a=globalThis.Behavior;globalThis.Component=function(e){return e.behaviors=e.behaviors||[],e.behaviors.unshift(a({lifetimes:{created(){k[r]=this._$;var e=this._$,t=function(){},n={},i=function(t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:()=>e[t],set(e){this[t]=e}})},a=function(t){n[t]=e[t].bind(e)};i("is"),i("id"),i("dataset"),i("data"),a("setData"),a("updateData"),a("replaceDataOnPath"),a("spliceArrayDataOnPath"),a("applyDataUpdates"),a("groupUpdates"),a("hasBehavior"),a("traitBehavior"),a("triggerEvent"),this.createSelectorQuery=t,this.selectComponent=t,this.selectAllComponents=t,this.selectOwnerComponent=t,this.getRelationNodes=t,this.general=t,this.asInstanceOf=t,this._$=n,this._$onCardEvent=this._$onCardEvent.bind(this)},attached(){this.onEventFromMiniprogram("_$pageShow",this._$onPageShow),this.onEventFromMiniprogram("_$pageHide",this._$onPageHide),this.onEventFromMiniprogram("_$cardEvent",this._$onCardEvent),this.sendEventToMiniprogram("attached")},detached(){this.offEventFromMiniprogram("_$pageShow",this._$onPageShow),this.offEventFromMiniprogram("_$pageHide",this._$onPageHide),this.offEventFromMiniprogram("_$cardEvent",this._$onCardEvent),this.sendEventToMiniprogram("detached")}},methods:{sendEventToMiniprogram(e,t={}){N.sendEventToMiniprogram(r,e,{frameId:r,...t})},onEventFromMiniprogram(e,t){var r=this.getOpenerEventChannel();r&&r.on(e,t)},offEventFromMiniprogram(e,t){var r=this.getOpenerEventChannel();r&&r.off(e,t)},_$onPageShow(){var e=k[r];e&&e.triggerPageLifeTime("show")},_$onPageHide(){var e=k[r];e&&e.triggerPageLifeTime("hide")},_$onTapCard(){this.sendEventToMiniprogram("tap")},_$onCardEvent(e){this._$dealWithCardEvent&&this._$dealWithCardEvent(e)}}})),t(B.call({},e,a))}}var o={console:console,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:f,Reporter:T,wxNativeConsole:y,__subContextEngineBridge__:m||R,__freezeLibContextGlobal__:m?()=>{}:()=>(0,i.F)(),WeixinJSBridge:S};W.setExportEnv(o),W.init(),W.refreshExportEnv({isRefresh:!0,Component:globalThis.Component,Behavior:globalThis.Behavior,frameSetInfo:{name:j.name,frameId:e.frameId},__appServiceSDK__:{wx:N.getWx((0,n.i)(W.__guid__),r),console:Object.assign({group:()=>{},groupEnd:()=>{}},N.getConsole(r))},...o})}))}},M=e=>{var t=(0,a.M)(),r=C[e];if(r){var n=t.findIndex((e=>e.__guid__===r.subContextGuid)),i=t[n];if(i)if(i.destroy(),t.splice(n,1),delete C[e],delete k[e],delete P[e],N.removeMagicBrushFrameSet(r.frameSetName),v){for(var o=v.data.frameSetList,s=o.length-1;s>=0;s--)o[s].frameId===e&&o.splice(s,1);v.setData({frameSetList:o})}else for(var l=w.length-1;l>=0;l--)w[l].frameId===e&&w.splice(l,1)}}},859:(e,t,r)=>{r.d(t,{j:()=>n});var n="undefined"!=typeof WeixinNativePluginMgr?WeixinNativePluginMgr:{}},975:e=>{e.exports=e=>{return e>=1?(n=function(e){return null==e?Object.create(null):e},i=function(e,t){return!0===e||(e?e[t]:void 0)},(r={}).index=((t={})[""]={}[""]=(e,t,r,a)=>{e.c,e.m;var o=e.r,s=!0===a;return{C:(t,l,c,u,d)=>{d(r.frameSetList,"name",a?a.frameSetList:void 0,["frameSetList"],((t,r,a,l,c,u,d,p)=>{p("frame-set",{},((e,t)=>{(t||s||i(l,"name"))&&o(e,"name",n(r).name)}),((t,a,c)=>{c("frame",{},((t,a)=>{(a||s||i(l,"path"))&&o(t,"path",n(r).path),(a||s||i(l,"properties"))&&o(t,"params",n(r).properties),a&&o(t,"left","0px"),a&&o(t,"top","0px"),a&&o(t,"width","100%"),a&&o(t,"height","100%"),a&&e.r(t,"bindload","onFrameLoad")}),(e=>{}))}))}))},B:{}}},function(e){return t[e]}),r):(()=>{var e=function(e){return null==e?Object.create(null):e},t=function(e,t){return!0===e||(e?e[t]:void 0)},r={};return r.index=(()=>{var r={};return r[""]={}[""]=(r,n,i,a)=>{r.c,r.y,r.m;var o=r.r,s=!0===a;return{C:(r,n,l,c)=>{c(i.frameSetList,"name",a?a.frameSetList:void 0,["frameSetList"],((r,n,i,a,l,c,u,d)=>{d("frame-set",{},(i=>{(r||s||t(a,"name"))&&o(i,"name",e(n).name)}),((i,l)=>{l("frame",{},(i=>{(r||s||t(a,"path"))&&o(i,"path",e(n).path),(r||s||t(a,"properties"))&&o(i,"params",e(n).properties),r&&o(i,"left","0px"),r&&o(i,"top","0px"),r&&o(i,"width","100%"),r&&o(i,"height","100%"),r&&o(i,"bindload","onFrameLoad")}),(()=>{}))}))}))},B:{}}},function(e){return r[e]}})(),r})();var t,r,n,i}},144:(e,t,r)=>{var n=r(18);I&&I.subscribe&&(I.subscribe("loadJsFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadJsFiles(e.paths,e.moduleName,e.options);y.warn(`[MainContext] context name with ${e.contextName} not found, loadJsFiles fail`)})),I.subscribe("loadLibFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadLibFiles(e.paths);y.warn(`[MainContext] context name with ${e.contextName} not found, loadLibFiles fail`)})))},410:(e,t,r)=>{r.d(t,{Bs:()=>n,YF:()=>o});var n=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}},i=!1,a=[],o=e=>{a.push(e),i||(i=!0,Promise.resolve().then((()=>{for(var e=0;e<a.length;++e)if("function"==typeof a[e])try{a[e]()}catch(e){throw y.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),console.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),e}i=!1,a.length=0})))}},888:e=>{e.exports=d.asyncToGenerator}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new u("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{createAppRenderContext:()=>w,createAppSclContext:()=>C,createAppXRFrameRenderContext:()=>P,createGameOpenDataContext:()=>O,createIsolatedGamePlugin:()=>u.dr,createMagicBrushFrameContext:()=>d.eh,getAppContext:()=>i.F,getGameContext:()=>l.eC,getGameOpenDataContext:()=>c.r,getGamePlugins:()=>u.hS,getPool:()=>h.M,initAppRelatedContexts:()=>_,initFunctionalPage:()=>E,initGameJS:()=>M,initGameRelatedContexts:()=>x,initMagicBrushFrameContext:()=>d.ZJ,injectGamePlugin:()=>u.qo,isIsolateContext:()=>p.N0,isValidGameIndependentSubpackagePath:()=>p.Qj,loadJsFiles:()=>D,onSubContextMessage:()=>$,postMessageToSubContext:()=>L,postMessageToSubContextSync:()=>B,publishToRenderContext:()=>a.Tq,publishToSclContext:()=>s.Nz,removeMagicBrushFrameContext:()=>d.ZT,waitAppRenderContextInit:()=>S,waitAppSclContextInit:()=>k});var e=r(888),t=r.n(e),i=(r(752),r(642)),a=r(612),o=r(740),s=r(801),l=r(561),c=r(681),u=r(29),d=r(896),p=r(796),h=r(18),v=(r(144),r(550),r(227)),m=Object.keys,b=new g.EventEmitter,_=function(e){(0,p.N0)();for(var t=m(e),r=0;r<t.length;r++){var n=t[r];p.xJ[n]=e[n]}(0,p.N0)()&&(0,p.QT)((()=>{A.hijack(!0,null),(0,h.z)((0,i.F)());var e=(0,i.E)();1===f.envPreloadType&&(e instanceof Promise?e.then((e=>{N.loadPreloadSdkSubPackage(),y.info("load subpackage finish")})):(N.loadPreloadSdkSubPackage(),y.info("load subpackage finish")))}),"initAppIsolatedContext"),f.onReady((()=>{!(0,p.N0)()&&f.plugins&&(A.overwriteSetPrototypeOf(),A.deepFreezeGlobalObjs([],!1))}))},w=function(){var e;(0,p.N0)(),(0,p.QT)((()=>{e=(0,a.DW)(),(0,h.z)(e),e.onMessage((e=>{b.emit("subContextMessage",e)})),(0,p.F)()}),"createAppRenderContext")},S=function(){var e=t()((function*(){var e,t=(0,h.M)().find((e=>e.__name__===v.m.APP_RENDER));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("render context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),C=function(){var e;(0,p.N0)(),(0,p.QT)((()=>{e=(0,s.dx)(),(0,h.z)(e),e.onMessage((e=>{b.emit("subContextMessage",e)})),(0,p.F)()}),"createAppSclContext")},k=function(){var e=t()((function*(){var e,t=(0,h.M)().find((e=>e.__name__===v.m.APP_SCL));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("scl context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),P=function(e){(0,p.QT)((()=>{var t=(0,o.$)(e);(0,h.z)(t),t.onMessage((e=>{b.emit("subContextMessage",e)}))}),"createAppXRFrameRenderContext")},x=()=>{var e,t;if(1===f.envPreloadType){var r=N.getGameRelatedContextsExportsWx();e=r.game,t=r.gameSkipCondom}function n(){var e=N.getGameRelatedContextsExports(),t=e.game.FunctionalPage,r=f.appLaunchInfo;if(t.parseCompletePath(r.path).isFunctionalPage&&t.VALID_SCENE.includes(r.scene))E(e);else if((0,p.c6)(r.scene)){var n=(0,p.Qj)(r.path,f.subPackages);if(n){var i;if("playable"===(null==n||null===(i=n.meta)||void 0===i?void 0:i.type)&&(N.runPlayableGameJS(n.root,n.meta),(0,p.Dt)()||(0,p.gn)()))return;var a=(0,l.eC)(),o=n.root;o.endsWith(".js")||(o.endsWith("/")||(o=`${o}/`),o=`${o}game.js`),a.setEntry([o]),console.log("exportEnvs ==",e),R(e,(e=>{e&&(console.error("run game independent subpackage fail",e),y.error("run game independent subpackage fail",e),a.evaluateScriptFile("game.js"),T.reportIDKey({key:"loadGameIndependentSubPackageFail"}))}))}else{if((0,p.c2)({query:r.query,appType:f.appType})&&(0,p.G$)()&&(N.runPlayableGameJSNew({playableOutid:r.query.playable_outid}),(0,p.Dt)()||(0,p.gn)()))return;R(e)}}else R(e)}1===f.envPreloadType&&(N.loadPreloadSdkSubPackage(),y.info("load subpackage finish")),(0,l.xC)(e,t),f.onReady((()=>{((0,p.G$)()||I.isAsync())&&(0,p.N0)()?(0,u.K0)().then((()=>(n(),null))):n()}))};function E(e){(e=e||N.getGameRelatedContextsExports()).game.FunctionalPage.initFunctionalPage()}function M(e){e=e||N.getGameRelatedContextsExports(),(0,h.M)().length>0||R(e)}function R(e,t){e=e||N.getGameRelatedContextsExports(),(0,p.N0)()&&(0,p.QT)((()=>{l.N7.onCondomBridgeFinshed(p.F),(0,h.z)((0,l.eC)());var r=(0,l.M)(e.game);r&&r.catch&&r.catch((e=>{"function"==typeof t&&t(e)}))}),"initGameIsolatedContext")}function O(e){e=e||N.getGameRelatedContextsExports(),(0,p.QT)((()=>{(0,h.z)((0,c.r)());var t=(0,c.J)(e.gameOpenData);t&&t.catch&&t.catch((e=>{}))}),"initGameOpenDataContext")}var D=()=>{},L=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,o.k)().postMessageAsync(e):"string"==typeof t&&4294967298===t?(0,s.Pc)().postMessageAsync(e):(0,a.vh)().postMessageAsync(e)},B=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,o.k)().postMessage(e):4294967298===t?(0,s.Pc)().postMessage(e):(0,a.vh)().postMessage(e)},$=e=>{b.on("subContextMessage",e)}})(),$=n})();var j=function(){var e="undefined"!=typeof __wxModule__?__wxModule__:{};if(l.definePlugin=e.definePlugin,l.requirePlugin=e.requirePlugin,"function"==typeof __passWAServiceGlobal__){var t={};if(t.__appServiceEngine__=__appServiceEngine__,t.__appServiceSDK__=N,t.__virtualDOM__=__virtualDOM__,t.__subContextEngine__=$,t.__sclEngine__=__sclEngine__,t.Reporter=T,t.exparser=exparser,t.WeixinJSBridge=S,t.Foundation=g,t.Protect=A,"undefined"!=typeof __isAppServiceRemoteDebugMode__)return void __passWAServiceGlobal__({});__passWAServiceGlobal__(t)}};function F(){var e;void 0!==B&&B.version&&(e=B.version);try{j()}catch(e){}e&&void 0!==l&&l.wx&&(l.wx.version=e)}$.isIsolateContext(),$.isIsolateContext()&&"undefined"==typeof __isAppServiceRemoteDebugMode__||F(),g.onLoad((function(){$.initAppRelatedContexts(l)}))})(this);var __WAServiceMainContextEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;