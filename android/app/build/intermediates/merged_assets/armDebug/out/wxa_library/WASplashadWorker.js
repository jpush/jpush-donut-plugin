this.__wxLibrary={fileName:"WASplashadWorker.js",envType:"Worker",contextType:"others",execStart:Date.now(),mayHaveSnapshot:!1};var __WASplashadWorkerStartTime__=this.__wxLibrary.execStart;!function(e){var t=e.WXConfig;Foundation.env.workerType="splashad",Foundation.env.typeStr="splashadWorker",(()=>{var e={405:e=>{e.exports=function(e,t,a,i,r){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce((function(a,i){return i(e,t,a)||a}),n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n},e.exports.__esModule=!0,e.exports.default=e.exports},6715:e=>{function t(e,t,a,i,r,n,o){try{var s=e[n](o),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(i,r)}e.exports=function(e){return function(){var a=this,i=arguments;return new Promise((function(r,n){var o=e.apply(a,i);function s(e){t(o,r,n,s,l,"next",e)}function l(e){t(o,r,n,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},662:e=>{e.exports=function(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})},e.exports.__esModule=!0,e.exports.default=e.exports},5669:e=>{e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")},e.exports.__esModule=!0,e.exports.default=e.exports},4081:(e,t,a)=>{"use strict";a.d(t,{Q1T:()=>n,UoO:()=>l,Wkc:()=>r,YEP:()=>i,Z9j:()=>o,tHd:()=>s});var i=101,r=1001,n=1022,o=600009,s=600010,l=1300014},1977:(e,t,a)=>{var i;e=a.nmd(e),function(r){t&&t.nodeType,e&&e.nodeType;var n="object"==typeof a.g&&a.g;n.global!==n&&n.window!==n&&n.self;var o,s=2147483647,l=36,d=1,u=26,c=38,p=700,h=72,f=128,v="-",m=/^xn--/,_=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=l-d,E=Math.floor,C=String.fromCharCode;function T(e){throw RangeError(y[e])}function I(e,t){for(var a=e.length,i=[];a--;)i[a]=t(e[a]);return i}function b(e,t){var a=e.split("@"),i="";return a.length>1&&(i=a[0]+"@",e=a[1]),i+I((e=e.replace(g,".")).split("."),t).join(".")}function w(e){for(var t,a,i=[],r=0,n=e.length;r<n;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<n?56320==(64512&(a=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&a)+65536):(i.push(t),r--):i.push(t);return i}function k(e){return I(e,(function(e){var t="";return e>65535&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=C(e)})).join("")}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,a){var i=0;for(e=a?E(e/p):e>>1,e+=E(e/t);e>A*u>>1;i+=l)e=E(e/A);return E(i+(A+1)*e/(e+c))}function P(e){var t,a,i,r,n,o,c,p,m,_,g,y=[],A=e.length,C=0,I=f,b=h;for((a=e.lastIndexOf(v))<0&&(a=0),i=0;i<a;++i)e.charCodeAt(i)>=128&&T("not-basic"),y.push(e.charCodeAt(i));for(r=a>0?a+1:0;r<A;){for(n=C,o=1,c=l;r>=A&&T("invalid-input"),((p=(g=e.charCodeAt(r++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:l)>=l||p>E((s-C)/o))&&T("overflow"),C+=p*o,!(p<(m=c<=b?d:c>=b+u?u:c-b));c+=l)o>E(s/(_=l-m))&&T("overflow"),o*=_;b=x(C-n,t=y.length+1,0==n),E(C/t)>s-I&&T("overflow"),I+=E(C/t),C%=t,y.splice(C++,0,I)}return k(y)}function D(e){var t,a,i,r,n,o,c,p,m,_,g,y,A,I,b,k=[];for(y=(e=w(e)).length,t=f,a=0,n=h,o=0;o<y;++o)(g=e[o])<128&&k.push(C(g));for(i=r=k.length,r&&k.push(v);i<y;){for(c=s,o=0;o<y;++o)(g=e[o])>=t&&g<c&&(c=g);for(c-t>E((s-a)/(A=i+1))&&T("overflow"),a+=(c-t)*A,t=c,o=0;o<y;++o)if((g=e[o])<t&&++a>s&&T("overflow"),g==t){for(p=a,m=l;!(p<(_=m<=n?d:m>=n+u?u:m-n));m+=l)b=p-_,I=l-_,k.push(C(S(_+b%I,0))),p=E(b/I);k.push(C(S(p,0))),n=x(a,A,i==r),a=0,++i}++a,++t}return k.join("")}o={version:"1.3.2",ucs2:{decode:w,encode:k},decode:P,encode:D,toASCII:function(e){return b(e,(function(e){return _.test(e)?"xn--"+D(e):e}))},toUnicode:function(e){return b(e,(function(e){return m.test(e)?P(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return o}.call(t,a,t,e))||(e.exports=i)}(globalThis)},8817:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,a,i,r){a=a||"&",i=i||"=";var n={};if("string"!=typeof e||0===e.length)return n;var o=/\+/g;e=e.split(a);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var d=0;d<l;++d){var u,c,p,h,f=e[d].replace(o,"%20"),v=f.indexOf(i);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),p=decodeURIComponent(u),h=decodeURIComponent(c),t(n,p)?Array.isArray(n[p])?n[p].push(h):n[p]=[n[p],h]:n[p]=h}return n}},8779:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,a,i,r){return a=a||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var n=encodeURIComponent(t(r))+i;return Array.isArray(e[r])?e[r].map((function(e){return n+encodeURIComponent(t(e))})).join(a):n+encodeURIComponent(t(e[r]))})).join(a):r?encodeURIComponent(t(r))+i+encodeURIComponent(t(e)):""}},9935:(e,t,a)=>{"use strict";t.decode=t.parse=a(8817),t.encode=t.stringify=a(8779)},2517:(e,t,a)=>{"use strict";var i=a(1977),r=a(7417);function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=y;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(d),c=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=a(9935);function y(e,t,a){if(e&&r.isObject(e)&&e instanceof n)return e;var i=new n;return i.parse(e,t,a),i}n.prototype.parse=function(e,t,a){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),s=-1!==n&&n<e.indexOf("#")?"?":"#",d=e.split(s);d[0]=d[0].replace(/\\/g,"/");var y=e=d.join(s);if(y=y.trim(),!a&&1===e.split("#").length){var A=l.exec(y);if(A)return this.path=y,this.href=y,this.pathname=A[1],A[2]?(this.search=A[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=o.exec(y);if(E){var C=(E=E[0]).toLowerCase();this.protocol=C,y=y.substr(E.length)}if(a||E||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===y.substr(0,2);!T||E&&m[E]||(y=y.substr(2),this.slashes=!0)}if(!m[E]&&(T||E&&!_[E])){for(var I,b,w=-1,k=0;k<p.length;k++){-1!==(S=y.indexOf(p[k]))&&(-1===w||S<w)&&(w=S)}-1!==(b=-1===w?y.lastIndexOf("@"):y.lastIndexOf("@",w))&&(I=y.slice(0,b),y=y.slice(b+1),this.auth=decodeURIComponent(I)),w=-1;for(k=0;k<c.length;k++){var S;-1!==(S=y.indexOf(c[k]))&&(-1===w||S<w)&&(w=S)}-1===w&&(w=y.length),this.host=y.slice(0,w),y=y.slice(w),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var P=this.hostname.split(/\./),D=(k=0,P.length);k<D;k++){var O=P[k];if(O&&!O.match(h)){for(var R="",N=0,M=O.length;N<M;N++)O.charCodeAt(N)>127?R+="x":R+=O[N];if(!R.match(h)){var L=P.slice(0,k),B=P.slice(k+1),F=O.match(f);F&&(L.push(F[1]),B.unshift(F[2])),B.length&&(y="/"+B.join(".")+y),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=i.toASCII(this.hostname));var W=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+W,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!v[C])for(k=0,D=u.length;k<D;k++){var V=u[k];if(-1!==y.indexOf(V)){var H=encodeURIComponent(V);H===V&&(H=escape(V)),y=y.split(V).join(H)}}var j=y.indexOf("#");-1!==j&&(this.hash=y.substr(j),y=y.slice(0,j));var G=y.indexOf("?");if(-1!==G?(this.search=y.substr(G),this.query=y.substr(G+1),t&&(this.query=g.parse(this.query)),y=y.slice(0,G)):t&&(this.search="",this.query={}),y&&(this.pathname=y),_[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){W=this.pathname||"";var z=this.search||"";this.path=W+z}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",a=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=g.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==n?(n="//"+(n||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+n+(a=a.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+i},n.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(r.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var a=new n,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];a[s]=this[s]}if(a.hash=e.hash,""===e.href)return a.href=a.format(),a;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),d=0;d<l.length;d++){var u=l[d];"protocol"!==u&&(a[u]=e[u])}return _[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(e.protocol&&e.protocol!==a.protocol){if(!_[e.protocol]){for(var c=Object.keys(e),p=0;p<c.length;p++){var h=c[p];a[h]=e[h]}return a.href=a.format(),a}if(a.protocol=e.protocol,e.host||m[e.protocol])a.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),a.pathname=f.join("/")}if(a.search=e.search,a.query=e.query,a.host=e.host||"",a.auth=e.auth,a.hostname=e.hostname||e.host,a.port=e.port,a.pathname||a.search){var v=a.pathname||"",g=a.search||"";a.path=v+g}return a.slashes=a.slashes||e.slashes,a.href=a.format(),a}var y=a.pathname&&"/"===a.pathname.charAt(0),A=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=A||y||a.host&&e.pathname,C=E,T=a.pathname&&a.pathname.split("/")||[],I=(f=e.pathname&&e.pathname.split("/")||[],a.protocol&&!_[a.protocol]);if(I&&(a.hostname="",a.port=null,a.host&&(""===T[0]?T[0]=a.host:T.unshift(a.host)),a.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),E=E&&(""===f[0]||""===T[0])),A)a.host=e.host||""===e.host?e.host:a.host,a.hostname=e.hostname||""===e.hostname?e.hostname:a.hostname,a.search=e.search,a.query=e.query,T=f;else if(f.length)T||(T=[]),T.pop(),T=T.concat(f),a.search=e.search,a.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(I)a.hostname=a.host=T.shift(),(x=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=x.shift(),a.host=a.hostname=x.shift());return a.search=e.search,a.query=e.query,r.isNull(a.pathname)&&r.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!T.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var b=T.slice(-1)[0],w=(a.host||e.host||T.length>1)&&("."===b||".."===b)||""===b,k=0,S=T.length;S>=0;S--)"."===(b=T[S])?T.splice(S,1):".."===b?(T.splice(S,1),k++):k&&(T.splice(S,1),k--);if(!E&&!C)for(;k--;k)T.unshift("..");!E||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),w&&"/"!==T.join("/").substr(-1)&&T.push("");var x,P=""===T[0]||T[0]&&"/"===T[0].charAt(0);I&&(a.hostname=a.host=P?"":T.length?T.shift():"",(x=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=x.shift(),a.host=a.hostname=x.shift()));return(E=E||a.host&&T.length)&&!P&&T.unshift(""),T.length?a.pathname=T.join("/"):(a.pathname=null,a.path=null),r.isNull(a.pathname)&&r.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=e.auth||a.auth,a.slashes=a.slashes||e.slashes,a.href=a.format(),a},n.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},7417:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},5469:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:a()}}();function t(){if(r(/^<\?xml\s*/)){for(var e={attributes:{}};!n()&&!o("?>");){var t=i();if(!t)return e;e.attributes[t.name]=t.value}return r(/\?>\s*/),e}}function a(){var e=r(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(n()||o(">")||o("?>")||o("/>"));){var l=i();if(!l)return s;s.attributes[l.name]=l.value}if(r(/^\s*\/>\s*/))return s;for(r(/\??>\s*/),s.content=function(){var e=r(/^([^<]*)/);return e?e[1]:""}();t=a();)s.children.push(t);return r(/^<\/[\w-:.]+>\s*/),s}}function i(){var e,t=r(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function r(t){var a=e.match(t);if(a)return e=e.slice(a[0].length),a}function n(){return 0==e.length}function o(t){return 0==e.indexOf(t)}}},3203:(e,t,a)=>{"use strict";a.d(t,{U:()=>r,x:()=>n});var i={25576:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"slotid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint32",key:"product_type",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"ad_tmpl_id",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint64",key:"exp_time",value:"0"},{type:"uint64",key:"imp_time",value:"0"},{type:"string",key:"user_agent",value:""},{type:"uint64",key:"ad_w",value:"0"},{type:"uint64",key:"ad_h",value:"0"},{type:"uint64",key:"pos_x",value:"0"},{type:"uint64",key:"pos_y",value:"0"},{type:"string",key:"pos_name",value:""},{type:"uint32",key:"item_show_type",value:"0"},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""}],20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"diaphaneity_list",value:""},{type:"string",key:"element_distance_list",value:""},{type:"string",key:"machine_type",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"logtype",value:"0"},{type:"uint32",key:"hitable_percentage",value:"0"},{type:"uint32",key:"visible_percentage",value:"0"},{type:"uint32",key:"opacity",value:"0"},{type:"string",key:"around_text",value:""},{type:"uint32",key:"cycle_play",value:"0"},{type:"string",key:"ad_position",value:""},{type:"string",key:"ad_screen_position",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"},{type:"string",key:"ext_feedback_comm",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_playlet_autoplay",value:"0"},{type:"uint64",key:"video_start_play_ts_client",value:"0"},{type:"uint64",key:"video_end_play_ts_client",value:"0"},{type:"uint64",key:"video_play_duration",value:"0"},{type:"uint64",key:"rewarded_condition",value:"0"},{type:"uint32",key:"is_rewarded",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}],20267:[{type:"string",key:"NetworkType",value:""},{type:"uint32",key:"SSID",value:""},{type:"uint32",key:"ToUin",value:""},{type:"uint64",key:"SceneID",value:"0"},{type:"uint64",key:"UIArea",value:"0"},{type:"uint64",key:"PositionID",value:"0"},{type:"uint64",key:"ActionID",value:"0"},{type:"string",key:"ActionStatus",value:""},{type:"uint64",key:"OpType",value:"0"},{type:"string",key:"Object",value:""},{type:"string",key:"Status",value:""},{type:"uint64",key:"SourceID",value:"0"},{type:"string",key:"Allpath",value:""},{type:"uint64",key:"ExpID",value:""},{type:"uint32",key:"LogType",value:"0"},{type:"string",key:"ErrType",value:"0"},{type:"uint64",key:"Time",value:"0"},{type:"uint64",key:"FuncType",value:"0"},{type:"string",key:"FuncID",value:""},{type:"uint64",key:"ContentType",value:"0"},{type:"uint64",key:"ContentID",value:"0"},{type:"uint64",key:"ReasonID",value:""},{type:"string",key:"ExternInfo",value:""},{type:"uint64",key:"ClassID",value:""}],31596:[{type:"uint64",key:"report_time",value:"0"},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"pos_type",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"template_id",value:"0"},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint64",key:"ad_data_sizes",value:"0"},{type:"uint64",key:"template_sizes",value:"0"},{type:"uint64",key:"material_sizes",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint32",key:"action",value:""},{type:"string",key:"value",value:""}],31840:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:""},{type:"uint64",key:"report_time",value:0},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"mb_bussiness_time",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:0},{type:"uint32",key:"screen_height",value:0},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:0},{type:"uint64",key:"slotid",value:0},{type:"uint32",key:"pos_type",value:0},{type:"uint64",key:"aid",value:0},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:0},{type:"uint64",key:"crt_exp_tid",value:0},{type:"uint64",key:"template_id",value:0},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:0},{type:"uint64",key:"ad_data_sizes",value:0},{type:"uint64",key:"template_sizes",value:0},{type:"uint64",key:"material_sizes",value:0},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"action",value:0},{type:"string",key:"value",value:""}]},r=e=>[20267,31596].includes(Number(e)),n=e=>{var t=i[e.toString()];return t?t.concat([]):[]}},7238:(e,t,a)=>{"use strict";a.d(t,{O:()=>i,h:()=>r});var i={COMMON:924,SPLASHAD:1288,CUSTOMAD:1390,CPSSHOPAD:1764,REWARDEDVIDEO:1963,COMMON2:2009},r=(e,t,a=1)=>({idKey:e,idKeyGroup:t,sample:a})},4202:(e,t,a)=>{"use strict";a.d(t,{$3i:()=>ve,$7M:()=>m,$7v:()=>s,AaN:()=>ce,Ay2:()=>y,CQ_:()=>fe,Cz2:()=>be,D7b:()=>Y,FIb:()=>se,GqW:()=>d,HA$:()=>w,HdU:()=>Ee,HoH:()=>J,Hx8:()=>X,I7p:()=>Ie,IS8:()=>Ae,L6h:()=>de,LEp:()=>L,LNF:()=>_e,Lh3:()=>M,Lko:()=>U,M2X:()=>G,M3c:()=>ke,Myp:()=>x,O4Y:()=>l,OMo:()=>A,OZH:()=>b,Psu:()=>p,QFQ:()=>C,QLb:()=>Te,Rfd:()=>S,T8M:()=>$,TVC:()=>ge,UyV:()=>we,W1Y:()=>Z,WGO:()=>ae,_2d:()=>O,cYQ:()=>V,d9v:()=>Ce,dNr:()=>h,e75:()=>P,eiL:()=>I,fn9:()=>ie,fvN:()=>K,g0o:()=>o,iTY:()=>f,i_3:()=>B,kIM:()=>ue,kgB:()=>R,kqm:()=>T,lQd:()=>Pe,llv:()=>u,mLi:()=>ee,mZk:()=>De,mjq:()=>xe,mlb:()=>q,mmD:()=>v,n8g:()=>oe,nDn:()=>me,oG6:()=>_,p_g:()=>N,qUK:()=>j,qa9:()=>H,qg0:()=>Q,qkx:()=>E,rh6:()=>c,sEh:()=>ne,t7p:()=>Se,tRL:()=>z,tts:()=>g,uks:()=>k,vos:()=>pe,w86:()=>he,xIe:()=>F,xJ3:()=>le,y5M:()=>te,yKb:()=>re,z$c:()=>D,zYu:()=>W,zt4:()=>ye});var i=a(7238),r=(e,t=1)=>(0,i.h)(e,i.O.COMMON,t),n=(e,t=1)=>(0,i.h)(e,i.O.COMMON2,t),o=r(5),s=r(10),l=(r(11),r(12),r(13),r(14),r(21)),d=r(22),u=r(23),c=r(24),p=(r(25),r(26),r(28)),h=r(32),f=r(33),v=r(34),m=(r(35),r(36),r(37)),_=r(38),g=r(39,.01),y=(r(40),r(41),r(42),r(43),r(44),r(45),r(46,.01),r(49),r(50),r(86,.01)),A=r(87),E=(r(88),r(89),r(90),r(96,.01)),C=r(97,.05),T=(r(98),r(99),r(100),r(101),r(102),r(103),r(104),r(106),r(105),r(107),r(108),r(109),r(110),r(112),r(113),r(114),r(115),r(116),r(119)),I=r(120),b=(r(121),r(123),r(124),r(125),r(126),r(127)),w=(r(128),r(129)),k=r(130),S=r(131,.01),x=r(132,.01),P=r(133),D=r(134),O=r(135),R=(r(136),r(137,.01),r(138)),N=r(139),M=(r(140),r(141),r(142,.01),r(143),r(144),r(145),r(146),r(147),r(148)),L=r(149),B=r(150,.01),F=r(151),W=(r(152),r(153),r(154),r(156)),U=r(157),V=r(158),H=r(159),j=r(160),G=r(161),z=(r(162),r(163),r(164)),$=r(165),Q=r(166),Y=r(167),q=(r(168),r(169)),Z=r(170),K=(r(171),r(173)),X=(r(178,.01),r(179),r(180)),J=r(181),ee=r(182),te=(r(183),r(188),r(189)),ae=r(190),ie=r(191),re=r(192),ne=r(193),oe=r(194),se=r(195),le=(r(196,.01),r(197),r(198),r(199),r(202),r(203),r(204),r(205),r(206),r(207),r(208),r(209),r(210),r(211),r(212),r(213),r(214),r(215),r(216),r(217),r(218),r(219),r(220),r(221),r(223),r(224),r(225),r(226)),de=(r(227),r(228),r(229),r(230),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243)),ue=(r(244),r(246),r(247),r(250),r(251),r(252,.01),r(253),r(254),n(1,.01)),ce=n(2),pe=n(3,.01),he=n(4),fe=n(5,.01),ve=n(6),me=(n(7),n(8),n(9),n(10,.01)),_e=n(11),ge=n(12),ye=n(13),Ae=n(14),Ee=n(15),Ce=(n(16),n(17)),Te=n(18),Ie=n(19),be=n(20),we=n(21,.01),ke=n(22),Se=(n(27),n(28),n(29),n(30),n(23),n(24),n(25),n(26),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39)),xe=n(40),Pe=(n(41),n(42),n(43),n(44),n(45),n(46)),De=(n(47),n(48))},1329:(e,t,a)=>{"use strict";a.d(t,{CE:()=>n,Ee:()=>s,U2:()=>d,Xh:()=>c,YB:()=>h,Zw:()=>l,ei:()=>r,fm:()=>p,hj:()=>i,pL:()=>f,xH:()=>u});var i=e=>Number(e).toString()===e,r=(e,t)=>t.reduce(((t,a)=>(t[a]=e[a],t)),{}),n=(e,t)=>r(e,Object.keys(e).filter((e=>!t.includes(e)))),o=e=>e&&"object"==typeof e&&!Array.isArray(e);function s(e,...t){if(!t.length)return e;var a=t.shift();if(o(e)&&o(a))for(var i of Object.keys(a))o(a[i])?(e[i]||Object.assign(e,{[i]:{}}),s(e[i],a[i])):Object.assign(e,{[i]:a[i]});return s(e,...t)}var l=e=>{for(var t=new Set,a=e;a;){for(var i of Object.getOwnPropertyNames(a))t.add(i);a=Object.getPrototypeOf(a)}return[...t]},d=(e,t,a)=>{for(var i="string"==typeof t?t.split("."):t,r=e,n=0;r&&n<i.length;)r=r[i[n]],n+=1;return r||a},u=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...u(t)):e.push(t),e)),[]),c=e=>JSON.parse(JSON.stringify(e)),p="TIMEOUT_REJECT",h=(e,t)=>Promise.race([e,new Promise(((e,a)=>{setTimeout((()=>{a(p)}),t)}))]),f=e=>Object.keys(e).reduce(((t,a)=>({...t,...null==e[a]?{}:{[a]:e[a]}})),{})},1527:(e,t)=>{"use strict";var a,i,r,n,o,s,l,d,u,c,p,h,f,v,m,_,g=Math.log,y=(Math.pow,Math.floor),A=(Math.random,Math.exp),E=Math.abs,C=Math.round,T=(Math.E,Math.LN10,Math.LN2,Math.LOG10E,Math.PI,Math.SQRT1_2,Math.SQRT2,92),I=96,b=86,w=82,k=21,S=(y(28),y(A((g(45)+g(22)+g(17))/3)),y(50),y(A((g(50)+g(14)+g(b))/3)),C(2*g(E(1192))),C(g(6184)+g(296)),C(2*g(E(4526))),C(g(8884)+g(2314)),C(2*g(E(4849))),C(g(5729)+g(4225)),C(2*g(E(2874))),C(g(2594)+g(3218)),C(2*g(E(1156))),C(g(866)+g(4810)),y(176/3),y(A((g(10)+g(I)+g(70))/3)),C(2*g(E(4910))),C(g(3821)+g(8996)),y(154/3),y(A((g(50)+g(83)+g(k))/3)),C(2*g(E(1147))),C(g(373)+g(3770)),y(33.25),y(A((g(39)+g(39)+g(37)+g(18))/4)),y(45.25),y(A((g(10)+g(61)+g(T)+g(18))/4)),C(2*g(E(7803))),C(g(5281)+g(11538)),y(127/3),y(A((g(10)+g(39)+g(78))/3)),y(36.5),y(A((g(14)+g(61)+g(60)+g(11))/4)),y(69.75),y(A((g(76)+g(91)+g(87)+g(25))/4)),y(38),y(A((g(41)+g(k)+g(52))/3)),y(224/3),y(A((g(91)+g(78)+g(55))/3)),C(2*g(E(6399))),C(g(13653)+g(3917)),C(2*g(E(9386))),C(g(9316)+g(9505)),C(2*g(E(4182))),C(g(8905)+g(2029)),y(54),y(A((g(93)+g(22)+g(19)+g(w))/4)),y(55),y(A((g(39)+g(k)+g(64)+g(96))/4)),y(47.75),y(A((g(35)+g(14)+g(w)+g(60))/4)),C(2*g(E(6726))),C(g(5906)+g(7946)),1);function x(e,t){for(var a=[],i=0;i<e.length;i+=t)a.push(e.slice(i,i+t));return a}String.prototype.substr=String.prototype.substr;var P=function(e,t){for(var a=e.length,i=[],r=0;r<a;++r){var n=-1;3===t&&(n=8*(r-17)%9)<0&&(n+=a),5===t&&(n=8*(r-20)%15)<0&&(n+=a),6===t&&(n=7*(r-88)%12)<0&&(n+=a),7===t&&(n=1*(r-50)%7)<0&&(n+=a),8===t&&(n=3*(r-58)%8)<0&&(n+=a),9===t&&(n=2*(r-44)%9)<0&&(n+=a),10===t&&(n=11*(r-67)%20)<0&&(n+=a),14===t&&(n=9*(r-81)%28)<0&&(n+=a),n>=0&&(i[n]=e[r])}return i.join("")},D=x(P("testeglav",3),3),O=x(P("rloyuvnadlaupep",5),5),R=x(P("nbornamdemru",6),6),N=x(P("tnumSal",7),7),M=x(P("mecpsors",8),8),L=x(P("ooyerttpp",9),9),B=x(P("oMpdelsd_csmoruse_ee",10),10),F=x(P("ytitofrreePdperouorltPaceVen",14),14);var W,U=function(e){for(var t='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%&()*+./:;<=>?@[]^_`{|}~"',a={},i=0;i<90;++i)a[t[i]]=i;function r(e){for(var t=0,i=1,r=e.length-1;r>=0;r--){t+=a[e[r]]*i,i*=90}return t}for(var n=e.split(","),o=Number(n[0]),s=[],l=1;l<n.length;++l){var d=r(n[l]);s.push(d+o)}return s}("10000,A");S&&(a=B[1]),S&&(i=F[0]),S&&(r=N[0]),S&&(n=O[1]),S&&(o=U[0]),S&&(s=R[1]),S&&(l=F[1]),S&&(d=D[0]),S&&(u=D[1]),S&&(c=D[2]),S&&(p=B[0]),S&&(h=O[0]),S&&(f=M[0]),S&&(v=O[2]),S&&(m=L[0]),S&&(_=R[0]),S=0,t[a]=!0,t[i]=void 0,W=function(){var e;return 0,e=function(e){var t;0,t=this,this[r]=Math[n](o*(Math[s]()+1)),Object[l](this,d,function(){var e;return(e={[u]:0,[c]:0})[u]=function(){return t[p](t[h])},e[c]=function(e){t[h]=t[f](e)},e}[v]()),this[d]=e},e[m][f]=function(e){return _==typeof e?e+this[r]:e},e[m][p]=function(e){return _==typeof e?e-this[r]:e},e}(),t[i]=W},4500:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});var i=a(6342),r=a(9398),n=(e={})=>{if("Expt"===e.experimentType&&"[object Object]"===Object.prototype.toString.call(i.default.expt)){var t=i.default.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}(0,r.IN)("getABTestConfig",e)}},5125:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(9370),r=null,n=void 0,o={lastRoute:"",lastOpenType:"",lastActiveWebviewId:null,pageRenderer:"",scene:-1,sceneNote:"",query:{},rawPath:"",runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0,navigationBarTitleMap:{},currentNetworkType:"",isWeakNetwork:!1,singlePageData:{},openingInnerPage:!1,get currentWebviewId(){return n},set currentWebviewId(e){n=e,r&&(r(null),r=null)},currentWebviewIdPromise:new Promise((e=>{r=e})),getWebviewIds:()=>i.hr.getGlobalWebviewIds(),get hasWebViewCompnent(){return Boolean(o.webViewComponentInfo[n])},webViewComponentInfo:{},get lastActiveRoute(){if("number"!=typeof o.lastActiveWebviewId)return o.lastRoute;var e=i.hr.getPageByWebviewId(o.lastActiveWebviewId);return(null==e?void 0:e.route)||o.lastRoute}};const s=o},9105:(e,t,a)=>{"use strict";a.d(t,{Em:()=>l.Em,M8:()=>_,Nf:()=>m,RP:()=>h,iZ:()=>n.i,p9:()=>f,pD:()=>v,sd:()=>c});var i=a(6342),r=a(9370),n=a(1591),o=a(6347),s=a(7445),l=a(6142),d=/^[-+a-zA-Z0-9]+:\/\//,u=/(^|\/)__[-+a-zA-Z0-9]+__\//;function c(e,t,a=!0){if(wxNativeConsole.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${a}`),a&&(t=(0,o.Pp)(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return c(e,t.substr(2),!1);var i,r,n=t.split("/");for(i=0,r=n.length;i<r&&".."===n[i];i++);n.splice(0,i);var s=e.length>0?e.split("/"):[];s.splice(s.length-i-1,i+1);var l=s.concat(n).join("/");return wxNativeConsole.info(`[getRealRoute] finalRoute=${l}`),l}function p(e){var t=e.match(d);if(!t)return e;var a=t[0];if("plugin://"===a){var o=a.length,s=e.indexOf("/",o);if(s>=0){var l=e.slice(o,s),u=i.default.plugins&&i.default.plugins[l]?i.default.plugins[l].provider:l;e=e.slice(0,o)+u+e.slice(s)}var c=e.indexOf("?");c<0&&(c=e.length);var p=e.slice(0,c),h=r.Ve.Component._list[p];if(!h)throw new n.l(`Page "${p}" is not found`);e=h.is+e.slice(c)}else if("plugin-private://"===a){var f=e.indexOf("?");f<0&&(f=e.length);var v=e.slice(0,f);e="/"+r.hr.convertComponentAliasToRoute(v)+e.slice(f)}else{if("wx://"!==a&&"wxpage://"!==a)throw new n.l(`Unknown URL protocol "${a}"`);e="/__wx__/"+e.slice(a.length)}return e}function h(e,t=""){return t=t.replace(/^\//,""),(0,s.aI)()?`__plugin__/${e}/${t}`:p(`plugin-private://${e}/${t}`)}function f(e){var t=e.match(d),a=e.match(u),r="";if(t){var n=t[0];if("plugin://"===n){var o=n.length,s=e.indexOf("/",o);if(s>=0){var l=e.slice(o,s);r=i.default.plugins&&i.default.plugins[l]?i.default.plugins[l].provider:l}}else if("plugin-private://"===n){var c=n.length,p=e.indexOf("/",c);if(p>=0)r=e.slice(c,p)}else"wx://"===n&&(r="//")}if(a){var h=a[0];if(h.endsWith("__plugin__/")){var f=e.indexOf(h)+h.length,v=e.indexOf("/",f);if(v>=0)r=e.slice(f,v)}else h.endsWith("__wx__/")&&(r="//")}return r}function v(e){var t=e.match(d);return t?t[0]:null}function m(e){return Object.keys(e).reduce(((t,a)=>("string"==typeof e[a]?t[a]=e[a]:"number"==typeof e[a]?t[a]=e[a]+"":t[a]=Object.prototype.toString.apply(e[a]),t)),{})}function _(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},6759:(e,t,a)=>{"use strict";a.d(t,{AS:()=>S,U7:()=>G,f5:()=>P});var i,r=a(7445),n=(a(4500),a(1399)),o=a(143),s=a(8007),l=(e={})=>{var{runCount:t,runCostAverage:a,runError:i,createError:r,isBinding:n,version:o,runErrorRate:l,createSessionParams:d,sessionId:u,resultType:c,createErrno:p,runErrno:h}=e;n=n?1:0,i||(i=""),r||(r="");var f=[t,a,encodeURIComponent(i),encodeURIComponent(r),n,o,l,u,encodeURIComponent(d),c,p,h].map((0,s.b)(1024)).join(",");Reporter.reportKeyValue({key:"WeAppXNetInvoke",value:f})},d=a(9398),u=a(9806),c=(0,u.Iy)(((e,t)=>{if(t)try{e.success&&e.success({ver:t.GetInferenceEnvInfo().ver}),e.complete&&e.complete({ver:t.GetInferenceEnvInfo().ver})}catch(t){e.fail&&e.fail("getInferenceEnvInfo fail: ",t)}else(0,d.IN)("getInferenceEnvInfo",e)}),(e=>({ver:e.ver}))),p=a(6142),h=a(8929),f=new WeakMap;class v{constructor(e={model:""}){this.em=void 0,this.sessionId=void 0,this.reportInfo=void 0,this.getVersionTask=void 0;var t,a=this;try{t=JSON.stringify(e)}catch(e){t=""}this.reportInfo={runCostAverage:0,runErrorRate:0,runCount:0,runErrorCount:0,createSessionParams:t,sessionId:(0,h.M8)(),runErrno:0,createErrno:0};var r=!0;if(!1===e.asyncCreateSession&&(r=!1),this.em=(0,o.v)("XnetBinding",{noCache:!0}),i=n.Z.XInference,this.getVersionTask=new Promise((e=>{c({success(t){e(t.ver),a.getVersionTask=t.ver},fail(){e("-1"),a.getVersionTask="-1"}},i)})),wxNativeConsole.warn("asyncCreateSession: ",r),r){i.CreateAsync((0,d.qB)(((e,t)=>{if(e){var a={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};return this.report(a),this.em.advancePublish("onError",e,!0),this.reportInfo.createErrorMsg=e.errMsg,void(this.reportInfo.createErrno=e.errno)}f.set(this,t),this.sessionId=t;var i={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(i),this.em.advancePublish("onLoad",void 0,!0)}),"XInference.CreateAsync"),e)}else{var s={...e};["success","fail","complate"].forEach((e=>{s[e]&&delete s[e]}));try{var l=i.CreateSession(s);l&&(f.set(this,l),this.sessionId=l,this.em.advancePublish("onLoad"));var u={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(u)}catch(e){var p={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};this.report(p),this.em.advancePublish("onError",e)}}}onLoad(e){this.em.on("onLoad",(()=>{e()}))}offLoad(){this.em.off("onLoad")}onError(e){this.em.on("onError",e)}offError(){this.em.off("onError")}run(e){var t=Date.now(),a=this;return new Promise(((r,n)=>{var o={session:this.sessionId,inTensors:e};try{i.RunAsync((0,d.qB)((function(e,i){a.reportInfo.runCount++;var o=Date.now()-t;if(a.reportInfo.runCostAverage=(a.reportInfo.runCostAverage*(a.reportInfo.runCount-1)+o)/a.reportInfo.runCount,e)return a.reportInfo.runErrorMsg=e.errMsg,a.reportInfo.runErrno=e.errno,void n({errMsg:"runInferenceSession:fail "+e});for(var s of Object.keys(i)){var l=i[s].data;l&&ArrayBuffer.isView(l)&&(i[s].data=l.buffer)}r(i)}),"XInference.RunAsync"),o)}catch(e){return void n(e)}}))}destroy(){var e=new Promise(((e,t)=>{var a={session:this.sessionId};try{i.ReleaseAsync((0,d.qB)((function(a,i){a?t(a):e(i)}),"XInference.ReleaseAsync"),a)}catch(e){return void t(e)}})),t={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};return this.report(t),e}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};this.report(e)}report(e){e.isBinding=!0,(0,p.tI)(this.getVersionTask)?this.getVersionTask.then((t=>{e.version=t,l(e)})):(e.version=this.getVersionTask,l(e))}get operator(){return{}}}var m,_,g=a(5436),y=a(4899),A=(a(1591),a(9105),a(1105),a(4237),a(127)),E=new WeakMap,C=new WeakMap;class T{constructor(e={}){var t;try{t=JSON.stringify(e)}catch(e){t=""}if(_=new Promise((e=>{c({success(t){e(t.ver),_=t.ver},fail(){e("-1"),_="-1"}})})),this.reportInfo={runCount:0,runCostAverage:0,runErrorMsg:"",createErrorMsg:"",createSessionParams:t,sessionId:(0,h.M8)(),createErrno:0,runErrno:0,runErrorCount:0},C.set(this,new g.Q("AI",!0)),!m){var a=(0,A.xI)();m=a.version}"8.0.37"===m&&r.wZ?setTimeout((()=>{this.notSupport=!0,C.get(this).emit("Error",{errMsg:"createInferenceSession fail: client not support"})})):(0,d.IN)("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{E.set(this,e),C.get(this).emit("Load"),I({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams})},fail:e=>{this.reportInfo.createErrorMsg=e.errMsg,this.reportInfo.createErrno=e.errno,setTimeout((()=>{C.get(this).emit("Error",e)})),I({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,createError:e.errMsg,createErrno:e.errno})}}))}onLoad(e){C.get(this).on("Load",e)}offLoad(e){C.get(this).off("Load",e)}onError(e){C.get(this).on("Error",e)}offError(e){C.get(this).off("Error",e)}run(e={}){if(this.notSupport)return Promise.reject({errMsg:"runInferenceSession fail: client not support",errno:2004002});var t=(0,y.t)(),a={input:{},sessionId:E.get(this)};for(var i in e){var r,n;null!==(r=e[i])&&void 0!==r&&r.data&&null!==(n=e[i])&&void 0!==n&&n.shape&&(a.input[i]={type:e[i].type,shape:e[i].shape,data:t.trace(e[i].data,"rw")})}return new Promise(((e,i)=>{var r=Date.now(),n=this.reportInfo;n.runCount++,(0,d.IN)("runInferenceSession",Object.assign(a,{success({output:a}){var i=Date.now()-r;for(var o in n.runCostAverage=(n.runCostAverage*(n.runCount-1)+i)/n.runCount,a){var s;if("number"==typeof(null===(s=a[o])||void 0===s?void 0:s.data)){var l=a[o].data;a[o].data=t.getTraceBuffer(l),t.untrace(l)}}e(a)},fail:e=>{n.runErrorCount++,n.runErrorMsg=null==e?void 0:e.errMsg,n.runErrno=null==e?void 0:e.errno,i(e)}}))}))}destroy(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};I(e),(0,d.IN)("releaseInferenceSession",{sessionId:E.get(this)}),C.delete(this),E.delete(this)}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};I(e)}}var I=e=>{e.isBinding=!1,(0,p.tI)(_)?_.then((t=>{e.version=t,l(e)})):(e.version=_,l(e))};var b=!1;!a.g.__isAppServiceRemoteDebugMode__&&r.wZ&&(b=!0);var w,k,S=(e={})=>b?new v(e):new T(e);function x(e,t){return t instanceof ArrayBuffer||t.buffer&&t.buffer instanceof ArrayBuffer?{byteLength:t.byteLength}:t}function P(e,t,a,i,r={},o=1){var s,d={},u={func:t,args:r};d.createSessionParams=JSON.stringify(u,x),d.runError=a,d.runCount=o,d.version=(w=w||n.Z.XInference,k=k||(null===(s=w)||void 0===s?void 0:s.GetInferenceEnvInfo().ver)||"0.0.0"),d.resultType=4,d.isBinding=e,d.runCostAverage=i,l(d)}var D,O=a(6715),R=a.n(O),N=a(7412),M=a(4515),L=(0,N.t)(),B=(0,u.Fr)(L.readFile),F=(0,u.Fr)(L.writeFile),W=(0,u.Fr)(L.access),U=(0,u.Fr)(L.mkdir);function V(){return(V=R()((function*(e){try{var t=e.map((e=>function(e,...t){var a;D=D||n.Z.XInference;try{a=new Promise(((a,i)=>{D.InvokeMethod(e,(0,d.qB)((function(e,t){e?i(e):a(t)}),`XInference.InvokeMethod-${e}`),...t)}))}catch(t){wxNativeConsole.warn(`[mnxnet]: AsyncInvoke ${e} err: ${t}`)}return a}("GetDeviceScore",e))),a=Promise.all(t).then((t=>{var a={};return e.forEach(((e,i)=>{a[e]=t[i]})),a})).catch((e=>(console.log(`[mnxnet]: benchmark: ${e}`),{})));return yield a}catch(e){return console.log(`[mnxnet]: benchmark err: ${e}`),{}}}))).apply(this,arguments)}var H=M.MV.MNXNET_ROOT_DIR.path,j=H+"/mnxnet_benchmark_v1.json";function G(e){return z.apply(this,arguments)}function z(){return z=R()((function*(e,t={}){if(!Array.isArray(e))return wxNativeConsole.warn("[mnxnet]: benchmarkTypes should be array"),{};try{yield W({path:H})}catch(e){yield U({dirPath:H})}var a,i={},r=(null==t?void 0:t.forceRunKeys)||[];try{var{data:n}=yield B({filePath:j,encoding:"utf8"}),o=JSON.parse(n);e.forEach((e=>{o[e]?i[e]=o[e]:r.push(e)}))}catch(t){r=e,1300002===t.errno?wxNativeConsole.warn(`[mnxnet]: access ${t} ${JSON.stringify(t)}`):wxNativeConsole.warn(`[mnxnet]: access benchmark cache failed: ${JSON.stringify(t)}`)}return a=r,(r=Array.from(new Set(a))).length?function(e){return V.apply(this,arguments)}(r).then((e=>{var t=Object.assign({},e,i),a=JSON.stringify(t);wxNativeConsole.warn(`[mnxnet]: rerun benchmark: ${a}`);try{F({filePath:j,data:a,encoding:"utf8"})}catch(e){wxNativeConsole.warn(`[mnxnet]: write bench result to file failed: ${e}`)}return t})):i})),z.apply(this,arguments)}},4571:(e,t,a)=>{"use strict";a.d(t,{kd:()=>l,su:()=>d});var i=a(9766),r=a(9398),n=a(8246),o="default",s=(0,i.s)("apiCategoryChange");s.onMethod,s.offMethod;function l(){return o}function d(e="default"){-1!==["default","nativeFunctionalized","browseOnly","embedded"].indexOf(e)&&(o=e)}(0,n.n)("sheetModeWindowStateChangedEvent",((e={})=>{(0,r.nY)("sheetModeWindowStateChangedEvent",e),"fullPage"===e.state&&"default"!==o&&(o="default",s.emit({apiCategory:o}))})),(0,r.Ld)("getApiCategory",(({callbackId:e},t)=>{(0,r.nY)("apiCategoryGot",{res:l(),callbackId:e},[t])}))},7849:(e,t,a)=>{"use strict";a.d(t,{_:()=>n,e:()=>r});var i={};function r(e){i=e}function n(){return i}},4509:(e,t,a)=>{"use strict";a.d(t,{J:()=>o});var i=a(9398),r=a(8246),n=(0,a(9766).s)("AppEnterBackground"),o=n.internalOnMethod;(0,r.n)("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:")||(n.emit(e),(0,i.nY)("onAppEnterBackground",e))}))},3013:(e,t,a)=>{"use strict";a.d(t,{T:()=>R});var i=a(9398),r=a(9661),n=a(9105),o={};const s={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:{lastShareTicket:null,get:e=>o[e],set(e,t){var a=(0,n.M8)();return o[a]={shareKey:e,shareName:t},a}},emitter:new r.Z};var l=a(6347),d=a(5125),u=a(6342),c=a(88),p=(a(9370),a(7445)),h=a(3329),f=e=>{var t,a,i=e.api.find((e=>"request"===e.name));if(i){var r=null===(t=i.req)||void 0===t?void 0:t.interpreterRules,n=null===(a=i.resp)||void 0===a?void 0:a.interpreterRules;(0,h.k)().runTask("createWeAppRequestInterpreter",{rules:{req:r,res:n,exclusive:!0},appid:u.default.accountInfo.appId}).catch((e=>{wxNativeConsole.error("createWeAppRequestInterpreter error:",e)}))}},v=[],m=a(4571),_=a(6715),g=a.n(_),y=a(1868),A=a(8246),E=null;(0,A.n)("onMessageFromNavigateMiniProgram",(({extraData:e,appid:t})=>{E={extraData:e,appid:t}}));var C,T=()=>E,I=()=>{E=null};(0,y.NX)("postMessageToReferrerMiniProgram",function(){var e=g()((function*({extraData:e}){return(0,i.bb)("postMessageToReferrerMiniProgram",{extraData:e})}));return function(t){return e.apply(this,arguments)}}());function b(e,t){e.apiCategory=(e=>{if([1200,1201,1228].includes((t=v.filter((e=>![1038].includes(e))))[t.length-1]))return"default";var t;switch(e.mode){case"default":case"halfPage":return"nativeFunctionalized"===e.appearance?"nativeFunctionalized":"default";case"singlePage":return"browseOnly";case"embedded":return"embedded";default:return"default"}})(e),(0,m.su)(e.apiCategory),void 0===e.isTransparentBackgroundSupport&&(e.isTransparentBackgroundSupport=u.default.isTransparentBackgroundSupport)}a(1105);var w=a(7849);(0,i.Ld)("getEnterAppInfo",(({callbackId:e},t)=>{(0,i.nY)("appEnterInfoGot",{res:(0,w._)(),callbackId:e},[t])}));var k,S,x,P=a(9766),D=a(8602);u.default.onReady((()=>{d.Z.scene=k=u.default.appLaunchInfo.scene,d.Z.sceneNote=u.default.appLaunchInfo.scene_note}));var O=(0,P.s)("AppEnterForeground"),R=O.internalOnMethod;function N(e){if(!(0,p.aI)()){e=function(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:d.Z.query)||{},e.path=t?(0,l.Z8)(e.path):(0,l.Z8)(d.Z.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?d.Z.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:d.Z.lastShareInfo=void 0),s.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(s.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){var{shareInfo:a}=e;a.shareKey&&a.shareName&&((0,i.IN)("showUpdatableMessageSubscribeButton",{shareKey:a.shareKey}),e.shareTicket=s.ShareInfoStorage.set(a.shareKey,a.shareName),s.ShareInfoStorage.lastShareTicket=e.shareTicket)}return 1044!==e.scene||e.chatroomUsername||(e.scene=1007),e}(e,!1),(0,w.e)(e);var t=function(e={},t){var a,i,r;0===(e=Object.assign({},e)).scene?e.scene=C:C=e.scene;var n=e.scene;1003===n?n=1089:1131===n||1158!==n&&1159!==n&&1160!==n||!(0,c.J)("getGroupToolbarInfo")&&(n=1008),[1106,1005,1006,1027,1042].indexOf(n)>-1&&(e.referrerInfo.appId=null),1092===n&&"wxf8df44389465ee03"===(null===(a=e.referrerInfo)||void 0===a||null===(i=a.privateExtraData)||void 0===i?void 0:i.targetAppId)&&(n=1037);var o=T();I();var s=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:null!==(r=e.referrerInfo.extraData)&&void 0!==r?r:o&&o.appid===e.referrerInfo.appId?o.extraData:void 0}:{};1092===n&&s.extraData&&s.extraData.csSessionId&&s.extraData._reportInfo&&("undefined"==typeof __userActionTracer__||__userActionTracer__.shouldStartReport()&&!__userActionTracer__.shouldUpdateReportInfo(s.extraData.csSessionId)||(wxNativeConsole.info("ca report startegy:",s.extraData._reportInfo),__userActionTracer__.convertReportInfo2Strategys(s.extraData._reportInfo),__userActionTracer__.startActionChainReport(),__userActionTracer__.setSessionId(s.extraData.csSessionId),__userActionTracer__.setEventJoinInterval(s.extraData._reportInfo.eventJoinInterval),__userActionTracer__.setAsyncCallbackJoinEventInterval(s.extraData._reportInfo.asyncCallbackJoinEventInterval),__userActionTracer__.setReportSetting({reportCache:s.extraData._reportInfo.reportCache,reportInterval:s.extraData._reportInfo.reportInterval}),__userActionTracer__.protectActionReporter(),f(s.extraData._reportInfo))),e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId&&(e.referrerInfo.appId&&(s.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId,0===Object.keys(e.referrerInfo.privateExtraData).length&&delete e.referrerInfo.privateExtraData);var l={path:e.path,query:e.query,scene:n,shareTicket:e.shareTicket,referrerInfo:s};e.chatroomUsername&&1156===n&&(l.chatroomUsername=e.chatroomUsername),e.chatType&&(l.chatType=e.chatType);var d,h,v=e.nativeExtraData||{};return e.hostExtraData&&(l.hostExtraData=e.hostExtraData),v.location&&(l.locationInfo=v.location),((0,p.tK)()||(0,p.HI)())&&(e.nativeExtraData&&(l.nativeExtraData=e.nativeExtraData),null!==(d=e)&&void 0!==d&&null!==(h=d.referrerInfo)&&void 0!==h&&h.privateExtraData&&(l.privateExtraData=e.referrerInfo.privateExtraData),l.sessionId=e.sessionid||e.sessionId,l.isLaunch=e.isLaunch,e.isLaunch&&(l.prerender=!!u.default.prerender),l.clickTimestamp=e.clickTimestamp,l.preloadType=t),(0,p.tK)()&&(e.isLaunch?l.userConfig=u.default.userConfig:l.userConfig=e.userConfig),e.mode&&(l.mode=e.mode),e.apiCategory&&(l.apiCategory=e.apiCategory),1173===n&&(v.mimeType?l.forwardMaterials=[{type:v.mimeType,path:v.materialPath,name:v.materialName,size:v.materialSize}]:Array.isArray(v.materials)&&(l.forwardMaterials=v.materials)),1226===n&&v.iot&&(l.iot=v.iot),e.isTransparentBackgroundSupport&&(l.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),l.referrerInfo&&"wxb6d22f922f37b35a"===l.referrerInfo.appId&&(l.referrerInfo={}),l}(e);e.__public=function(e,t=""){if((0,n.p9)(e.path||"")===t)return e;var a={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(a.mode=e.mode),e.apiCategory&&(a.apiCategory=e.apiCategory),(0,p.HI)()&&(e.nativeExtraData&&(a.nativeExtraData=e.nativeExtraData),a.sessionId=e.sessionId,a.isLaunch=e.isLaunch,e.isLaunch&&(a.prerender=e.prerender),a.clickTimestamp=e.clickTimestamp,a.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(a.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),a}(t,""),wxNativeConsole.info("[EnterOptions] set enterOptions by onAppEnterForeground"),t,D.Z.set("api_call_from_hot_boot_time",Date.now(),!0),O.emit(e),d.Z.scene=e.scene,d.Z.sceneNote=e.scene_note}}var M=e=>e&&e.referrerInfo&&"wx6bd2fb149a93a9c5"===e.referrerInfo.appId&&e.referrerInfo.extraData&&"boolean"==typeof e.referrerInfo.extraData.isSuccess;(0,A.n)("onAppEnterForeground",((e={})=>{if(p.wZ)if(M(e)){var t=JSON.stringify(e.referrerInfo.extraData);if(S!==t)return void(S=t);S=t,e.scene=k,delete e.referrerInfo}else k=e.scene;else if(p.cj)if(1038===e.scene){if(M(e))return void(x=!0);var a;null!=e&&null!==(a=e.referrerInfo)&&void 0!==a&&a.appId?(x=!1,k=e.scene):x?e.scene=k:k=e.scene}else k=e.scene;var r=e.debugLaunchInfo||{};Object.assign(e,r),delete e.debugLaunchInfo;var o,l=1===e.reLaunch||!0===e.reLaunch;wxNativeConsole.info(`[onAppEnterForeground] isReLaunch=${l}`),o=e.scene,v.push(o),b(e);var d=(0,n.pD)(e.path);if("wxpage://"===d&&(e.path="__wx__/"+e.path.slice(d.length)),l){var c=t=>{wxNativeConsole.info(`[onAppEnterForeground] get onAppRoute [${t}], prerender=${u.default.prerender}`),"appLaunch"!==t.openType||!0!==u.default.prerender?(wxNativeConsole.info("[onAppEnterForeground] emit enterForeground"),N(e)):s.emitter.once("onAppRoute",c)};s.emitter.once("onAppRoute",c)}else N(e);(0,i.nY)("onAppEnterForeground",e)}))},7758:(e,t,a)=>{"use strict";a.d(t,{bm:()=>p,NT:()=>v});var i=a(9398),r=a(9766),n=0,o=1,s={minigamelive:n,ad:n,cloud:n,protobuf:n,ga:n,kanata:n,midas:n,pixi:n,sclengine:n,minigamePlatform:n},l=(0,a(143).v)("sclEngine"),d=!1,u=()=>{d||(d=!0,s["sclengine"]===o?l.publish("initReady"):l.advancePublish("initReady"))},c=(0,r.s)("tapAnyWhere");(0,i.Ld)("tapAnyWhere",c.emitInternal);var p=c.internalOnMethod,h=(c.internalOffMethod,c.emitInternal,!1);p((()=>{u(),h||(h=!0,f.forEach((e=>e())),f=[])}));var f=[],v=e=>{h?e():f.push(e)}},8267:(e,t,a)=>{"use strict";a.d(t,{c:()=>i});var i=a(6342).default.SDKVersion},8171:(e,t,a)=>{"use strict";a.d(t,{Vl:()=>m,PL:()=>v,_V:()=>p,PQ:()=>h,AB:()=>f});var i=a(9398),r=(JSON.parse,JSON.stringify,a(9766)),n=a(6342),o=a(5125),s="",l=!1,d=(0,r.s)("networkstatusChange"),u=(0,r.s)("networkWeakChange"),c=(0,r.s)("networkTypeReady"),p=e=>{(0,i.IN)("getNetworkType",e,{beforeAll(e){e.weakNet=o.Z.isWeakNetwork}})},h=d.onMethod,f=(d.offMethod,u.onMethod),v=(u.offMethod,()=>s),m=(c.onMethod,()=>l);"undefined"!=typeof IS_SDK_PACKAGE||(0,i.jQ)("onNetworkStatusChange",((e={})=>{s=e.networkType,e.signalStrength,o.Z.currentNetworkType=s,d.emit(e),(0,i.nY)("onNetworkStatusChange",e)})),n.default.onReady((()=>{n.default.networkType&&(s=n.default.networkType),p({success(e){s=e.networkType,e.signalStrength,o.Z.currentNetworkType=s,l=e.hasSystemProxy,c.emit(s)}})}))},127:(e,t,a)=>{"use strict";a.d(t,{Ew:()=>r.Ew,Oo:()=>r.Oo,mw:()=>r.mw,xI:()=>i.x});var i=a(3351),r=a(2219)},8326:(e,t,a)=>{"use strict";a.d(t,{$:()=>h});var i,r,n=a(9398),o=JSON.parse,s=JSON.stringify,l=a(7445),d={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPhone15,4":"iPhone 15","iPhone15,5":"iPhone 15 Plus","iPhone16,1":"iPhone 15 Pro","iPhone16,2":"iPhone 15 Pro Max","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},u=(i=()=>{var e;(0,n.IN)("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t,a,i,r=l.iw;return l.cj&&(e.brand="iPhone",e.model=(t=e.model,(i=null!==(a=t.match(/unknown<([^>]?)>/))&&void 0!==a?a:[])&&d[i[1]]||t)),l.gm&&"devtools"!==e.brand&&(r="iPhone"===e.brand?"ios":"android"),e.platform=r,e},(e={})=>{if(r){var t={};try{t=o(r)}catch(e){wxNativeConsole.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return t}var a=i(e);try{r=s(a)}catch(e){wxNativeConsole.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{r=void 0})),a}),c=!1,p=-1,h=()=>(c||(p=u().benchmarkLevel||-1,c=!0),p)},2219:(e,t,a)=>{"use strict";a.d(t,{Ew:()=>p,Oo:()=>c,mw:()=>h});var i=a(6342),r=a(4761),n=a(3351),o=null,s=0,l=0,d=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];i.default.onReady((()=>{o={};for(var e=0;e<d.length;e++){if(!(d[e]in i.default)){o=(0,r.m)();break}o[d[e]]=i.default[d[e]]}if(i.default.screenHeight&&i.default.screenWidth)s=i.default.screenWidth,l=i.default.screenHeight;else{var t=(0,r.m)();s=t.screenWidth,l=t.screenHeight}}));var u,c=()=>i.default.isReady?Object.assign({},o):((new Error).stack,{}),p=()=>i.default.isReady?{screenWidth:s,screenHeight:l,deviceOrientation:s>l?"landscape":"portrait"}:((new Error).stack,{}),h=(...e)=>{if(u)return u;if(!0===e[0]){if(o)return o;u=(0,n.x)()}else u=(0,n.x)();return u}},4761:(e,t,a)=>{"use strict";a.d(t,{F:()=>o,m:()=>n});var i,r=a(3351),n=()=>i||(i=Object.assign({},(0,r.x)())),o=e=>{delete(i=Object.assign({},e)).errMsg}},3351:(e,t,a)=>{"use strict";a.d(t,{x:()=>v});var i,r,n,o=a(9398),s=JSON.parse,l=JSON.stringify,d=a(9806),u=a(7445),c=a(8267),p=a(6342),h=a(4761),f=(i="getSystemInfo",r=e=>{p.default.isReady||(new Error).stack,(0,o.IN)("getSystemInfo",e,{beforeSuccess:e=>{(e=>{var t=u.iw;if(u.cj&&(e.brand="iPhone"),u.gm&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=c.c,e.enableDebug=Boolean(p.default.debug),p.default.devicePixelRatio&&(e.devicePixelRatio=p.default.devicePixelRatio),p.default.theme&&(e.theme=p.default.theme),p.default.host&&(u.$c?(e.host={...p.default.host},delete e.host.uuid):e.host=p.default.host),p.default.appLaunchInfo&&p.default.appLaunchInfo.mode&&(e.mode=p.default.appLaunchInfo.mode),u.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),(0,d.Av)()&&!(0,u.aI)()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),u.jP&&(e.renderer="h5"),u.cj&&e.model&&0===e.model.indexOf("unknown")){var a=e.model.match(/^unknown<([^>]*)>$/),i=a&&a[1];i&&("iPhone15,4"===i?e.model=`iPhone 15<${i}>`:"iPhone15,5"===i?e.model=`iPhone 15 plus<${i}>`:"iPhone16,1"===i?e.model=`iPhone 15 pro<${i}>`:"iPhone16,2"===i&&(e.model=`iPhone 15 pro max<${i}>`))}})(e),(0,h.F)(e)}})},(e={})=>{var{success:t,fail:a}=(0,o.Rn)(e,i);if(n){var d={};try{d=s(n)}catch(e){wxNativeConsole.error("constructCachedOptimizedSyncApi parse error",e.message)}t(d)}else r(Object.assign({},e,{success(e){try{n=l(e)}catch(e){wxNativeConsole.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{n=void 0})),t(e)},fail(e){n=void 0,a(e)},complete:void 0}))}),v=(a(1708),()=>{var e={};return f({success(t){delete t.errMsg,e=t}}),e})},9370:(e,t,a)=>{"use strict";a.d(t,{Ve:()=>r,hr:()=>i});var i,r,n=new(a(9661).Z);n.on.bind(n,"__virtualDOM__"),n.on.bind(n,"__subContextEngineSub__"),n.on.bind(n,"__wxModule__"),n.on.bind(n,"__cloudSDK__")},7412:(e,t,a)=>{"use strict";a.d(t,{t:()=>b});var i,r=a(6715),n=a.n(r),o=a(4515),s=a(1708),l=a(158),d=a(7659),u=a(9067),c=a(5340),p=a(6659),h=a(6142),f=(0,s.k)()+" "+(0,s.n)(),v=["appendFile","appendFileSync","copyFile","copyFileSync","saveFile","saveFileSync","unzip","write","writeFile","writeFileSync","writeSync"],m={appendFile:"filePath",appendFileSync:0,copyFile:"destPath",copyFileSync:1,saveFile:"filePath",saveFileSync:1,unzip:"targetPath",writeFileSync:0,writeFile:"filePath"},_=["http://__wxprivate__","wxfile://__wxprivate__","http://sdk","wxfile://sdk","wxfile://ad"],g=function(){var e=n()((function*(e,t,a,i,r){var n=(yield t)||0,s=(yield a)||0,l=i.includes("sdk")?104857600:209715200,d=(0,h.HD)(e)?(0,u.Ei)(e):null==e?void 0:e.byteLength,c=(0,o.WQ)(r),f=n+d;s+d<c.storageLimit&&f<l||(c.autoClearAfterExceeds&&(({subDirPath:e=""})=>{(0,p.q)({filePath:e})})({subDirPath:r}),T({rootPath:i,rootSize:n,path:r,dirSize:r,isExceedsReport:!0}))}));return function(t,a,i,r,n){return e.apply(this,arguments)}}(),y={},A=new Proxy({},{get:(e,t)=>(...e)=>{var a;if(i||(a={},Object.assign(a,l.v,d.W),i=a),v.includes(t)&&!y[t]){y[t]=!0;var r=E(i[t],t);return i[t]=r,r(...e)}return i[t](...e)}}),E=(e,t)=>{var a=t.endsWith("Sync"),i={};return(...r)=>{var n=m[t],s=a?r[n]:r[0][n];s=C(s);var l=i[s]?i[s]:_.find((e=>s.includes(e)));if(!l)return e(...r);if(i[s]=l,(0,o.nl)(s)){var d=I(l),u=I(s),c=l,p=s,h=r[0].data||r[1]||"";return g(h,d,u,c,p),Math.random()<.1&&T(c,d,p,u),e(...r)}}},C=e=>{var t="";try{var a=e.split("//"),i=a[1].split("/");if(t=`${a[0]}//${i[0]}`,i.length>2)t+=`/${i[1]}`}catch(e){}return t},T=function(){var e=n()((function*(e,t,a,i,r=!1){i=i?yield i:"",t=t?yield t:"";var n=[f,a,r?"exceeds disk size":"",i,e,t].join(",");Reporter.reportKeyValue({key:"InnerDiskStatInfo",value:n,immediately:!0})}));return function(t,a,i,r){return e.apply(this,arguments)}}(),I=function(){var e=n()((function*(e){var t=null;return yield new Promise(((a,i)=>{(0,c.lz)({path:e,recursive:!1,success:e=>{t=e.stats.size,a()},fail:e=>{i(e)}})})).catch((e=>{})),t}));return function(t){return e.apply(this,arguments)}}(),b=()=>A},4515:(e,t,a)=>{"use strict";a.d(t,{MV:()=>i,WQ:()=>d,nl:()=>s});var i={WX_CACHE_DEBUG_PREFIX:{path:"wxfile://sdk/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},MNXNET_ROOT_DIR:{path:"wxfile://sdk/mnxnet",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_MODEL_CACHE_PATH_PREFIX:{path:"wxfile://sdk/we_model",storageLimit:31457280,autoClearAfterExceeds:!1},WX_COMPILE_PREFIX:{path:"wxfile://__wxprivate__/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},PRIVACY_DIR:{path:"wxfile://__wxprivate__/privacy",storageLimit:5242880,autoClearAfterExceeds:!1},OBS_DIRECTION_PATH:{path:"wxfile://__wxprivate__/obs",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_INFO_CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/app_info",storageLimit:5242880,autoClearAfterExceeds:!1},CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/pay",storageLimit:5242880,autoClearAfterExceeds:!1},WX_SHARE_APP_MESSAGE_CACHE_PATH:{path:"wxfile://__wxprivate__/share_app_message",storageLimit:5242880,autoClearAfterExceeds:!1},WX_DEIVCE_BENCHMARK_PATH:{path:"wxfile://__wxprivate__/wx_device_benchmark",storageLimit:5242880,autoClearAfterExceeds:!1},AD_PATH:{path:"wxfile://ad",storageLimit:104857600,autoClearAfterExceeds:!1},SHORT_TV_CACHE:{path:"wxfile://__wxprivate__/short_tv",storageLimit:1048576,autoClearAfterExceeds:!0}},r={},n=[],o=Object.entries(i);function s(e){n.length||o.forEach((e=>{n.push(e[1].path)}));var t=void 0!==r[e]?r[e]:n.some((t=>e.includes(t)));return r[e]=t,!!t}var l={};function d(e){var t;if(l[e])t=l[e];else{var a,i=null!==(a=o.find((t=>t[1].path===e)))&&void 0!==a?a:[],{storageLimit:r=5242880,autoClearAfterExceeds:n=!1}=i[1]||{};t={storageLimit:r,autoClearAfterExceeds:n},l[e]=t}return t}},1821:(e,t,a)=>{"use strict";a.d(t,{L:()=>s});var i=a(9398),r=a(5125),n=0,o=[],s=(e,t={},a,s)=>{var l=n++;o[l]=s,(0,i.nY)("invokeWebviewMethod",{name:e,args:t,callbackId:l},void 0===a?[r.Z.currentWebviewId]:a)};(0,i.Ld)("callbackWebviewMethod",(({res:e,callbackId:t})=>{var a=o[t];delete o[t],a&&a(e)}))},6365:(e,t,a)=>{"use strict";a.d(t,{o:()=>P});var i,r=a(9398),n=a(6342),o=a(5289),s=a(6345),l=a(1197),d=a(2517),u=a(7445),c=a(6142),p=e=>{try{return(0,d.Qc)(e).host}catch(e){return""}},h=(e,t)=>{var a=e.split("."),i=t.split(".");if(a.length>i.length)return!1;for(var r=1;r<=a.length;r++)if(a[a.length-r]!==i[i.length-r])return!1;return!0},f=void 0,v=()=>(i||(i=(0,l.o)().then((e=>{var t,a,i;wxNativeConsole.info("game video getSecInfo res",e);var r=null!==(t=null==e||null===(a=e.data)||void 0===a||null===(i=a.opinfo_async)||void 0===i?void 0:i.video_domain_limit)&&void 0!==t?t:[],n=new Set;return r.forEach((e=>{Array.isArray(e.domain_list)&&e.domain_list.forEach((e=>n.add(e)))})),{videoDomainLimit:r,domainList:Array.from(n)}})).catch((e=>(wxNativeConsole.error("game video getSecInfo error",e),{})))),i).then((({domainList:e,videoDomainLimit:t})=>((0,c.o8)(f)&&(f=!!t.length&&t.some((e=>"mmbizsecvod"===e.biz_flag))),{domainList:e,isShortTVMiniprogram:f}))),m=a(7412),_=a(4515).MV.SHORT_TV_CACHE.path,g=`${_}/localUrlMap.json`,y=!1,A=[],E=()=>{y=!1,A.forEach((e=>e())),A=[]},C=e=>0===e.indexOf("wxfile://tmp")||0===e.indexOf("http://tmp/")?216e5:1728e6,T=(e,t)=>{y=!0,v().then((({isShortTVMiniprogram:a})=>{var i;a?(i=t,v().then((({domainList:e,isShortTVMiniprogram:t})=>{if(t&&e&&e.length){var a=p(i);return!!e.every((e=>!h(e,a)))&&(0!==i.indexOf("wxfile://")&&(!u.gm||0!==i.indexOf("http://tmp/")&&0!==i.indexOf("http://usr/"))||b(i).then((e=>!e)))}return!1}))).then((a=>{a?E():(0,s.h)({filePath:e,digestAlgorithm:"md5",success:a=>{var i=a.digest;(0,m.t)().readFile({filePath:g,encoding:"utf8",success:a=>{var r;try{r=JSON.parse(a.data)}catch(e){}if(r&&Array.isArray(r)){var n=Date.now(),o=[],s=!0;r.forEach((a=>{e===a.localUrl&&(a.expireTime=Date.now()+C(e),a.md5=i,a.remoteUrl=t,s=!1),n>a.expireTime||o.push(a)})),I(s?{md5:i,localUrl:e,remoteUrl:t}:null,o)}else I({md5:i,localUrl:e,remoteUrl:t})},fail:a=>{I({md5:i,localUrl:e,remoteUrl:t})}})},fail:e=>{E()}})})).catch((()=>{E()})):E()})).catch((()=>{E()}))},I=(e,t=[])=>{function a(){(0,m.t)().writeFile({filePath:g,encoding:"utf8",data:JSON.stringify(t),success:e=>{E()},fail:e=>{E()}})}e&&(e.expireTime=Date.now()+C(e.localUrl),t.push(e)),(0,m.t)().access({path:g,success:e=>{a()},fail:e=>{(0,m.t)().mkdir({dirPath:_,success:e=>{a()},fail:e=>{E()}})}})},b=e=>new Promise((t=>{function a(){(0,m.t)().readFile({filePath:g,encoding:"utf8",success:a=>{var i,r;try{i=JSON.parse(a.data)}catch(e){}return i&&Array.isArray(i)&&i.some((t=>e===t.localUrl&&(r=t.md5,!0)))&&r?void(0,s.h)({filePath:e,digestAlgorithm:"md5",success:e=>{var a=e.digest;return t(a===r)},fail:e=>t(!1)}):t(!1)},fail:e=>t(!1)})}y?A.push(a):a()}));(0,o.b)("Download",{maxTaskCount:10,functionName:"downloadFile"}),n.default.onReady((()=>{try{"number"==typeof n.default.wxAppInfo.maxDownloadConcurrent&&(0,o.b)("Download",{maxTaskCount:n.default.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class w extends o.o{constructor(e){var{url:t,filePath:a,forVideoPlay:i=!0}=e;super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>{var{tempFilePath:r}=e;return e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),delete e.timeInterval,i&&T(r||a,t),e}})}}const k=w;a(4237);var S=a(88),x=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,r.r3)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__,(0,S.J)("skipDomainCheck_downloadFile")&&(t.__skipDomainCheck__=!0);try{return new k(t)}catch(e){return void(0,r.YG)("downloadFile",t,e.message)}}}),P=(x(),x({__skipDomainCheck__:!0}))},3095:(e,t,a)=>{"use strict";a.d(t,{WY:()=>i.WY,ac:()=>i.ac,ot:()=>r.o});var i=a(4856),r=a(6365)},5900:(e,t,a)=>{"use strict";a.d(t,{BA:()=>c,Nq:()=>d,f7:()=>l,jO:()=>u});var i=a(9398),r=a(8171),n=(a(7644),a(872),{}),o={},s={},l=(e,t,a)=>{if(s[e])return s[e];var r,o=e&&e.indexOf(":");r=(r=-1!==o?e.slice(0,o):e).toLowerCase();var l=a?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:r}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:r,service_id:t}};return s[e]=(0,i.Qh)(l).then((t=>{delete s[e];var i,{wxa_state:r,ttl:o,hit_cache:l,ip_list:d=[],ip:u}=t.data;i=null!=d&&d.length?d[0]:u;var c=d.slice(1);if(0===r)return n[e]={ip:i,expireTime:1e3*o+Date.now(),candidateIps:c},a?{...n[e],hitCache:l}:n[e];throw new Error(r)})).catch((t=>{if(!a&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete s[e],t})),s[e]},d=e=>{var t=n[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null},u=(e,t)=>{var a=o[e];return t?(!a||a!==t)&&(delete o[e],!0):(delete o[e],!1)},c=(e,t)=>{o[e]=t};(0,r.PQ)((()=>{n={},o={},s={}}))},4856:(e,t,a)=>{"use strict";a.d(t,{Rg:()=>de,UF:()=>se,ac:()=>oe,jz:()=>le,WY:()=>ne});var i,r,n,o,s=a(9398),l=a(6342),d=a(5289),u=({url:e,result:t,cost:a,pointCacheType:i,errMsg:r,errno:n,host:o,fullCost:s})=>{var l=[e,t,a,i,r?encodeURIComponent(r):r,n,o,s].join(",");Reporter.reportKeyValue({key:"WeFreeHttpDns",value:l})},c=a(2422),p=a(5900),h=a(8171),f=a(88),v=new RegExp("name_not_resolved","i"),m=(e,t,a)=>!(0,h.Vl)()&&(!(!(0,f.J)("useFreeHttpDns")||!(e=>v.test(e.errMsg))(e))&&(le(t,a),!0)),_=a(6715),g=a.n(_),y=a(7758),A=a(127),E=a(7445),C=(e={})=>{((e={})=>{E.$c?(0,s.YG)("openSetting",e,"openSetting:fail SDK暂不支持此API"):(0,s.IN)("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var a={};if(a.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var i=e.subscriptionsSetting.templatesInfo;a.itemSettings=i.reduce(((e,t)=>{var a={2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[t.tid],i={"-1":"ban",0:"reject",1:"accept"};return a?e[a]=i[t.status]:(e[t.templateId]=i[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=a}}})})(e)},T=!1,I=void 0,b=void 0,w=void 0,k="group_forcecelluarnetwork",S=e=>I=e,x=()=>{var e,{language:t}=(0,A.mw)();switch(t){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}!T&&(T=!0,1)&&(0,y.NT)((()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{C({success:e=>{!1===e.authSetting["scope.forceCellularNetwork"]&&S(!1)}})}))}))}))},P=function(){var e=g()((function*(){if(E.$c)return console.warn("[SaaA] checkAndUseMultiLink force use true"),!0;var e;if(void 0!==I)return I;try{b||(b=(0,s.Qh)({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[k]}})),e=yield b}catch(e){return!1}var t,{auth_item_list:a}=e.data;if(-1!==(t=a.findIndex((e=>e.scope===k)))){var i=a[t];if(0===i.state){yield(w||(w=(0,s.Qh)({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:k,state:1}]}})),w).then((e=>{S(!0)})).catch((e=>{}))}else 2===i.state?S(!1):1===i.state&&S(!0)}return I}));return function(){return e.apply(this,arguments)}}(),D=a(2030),O=a(1320),R=a(2417),N=a(6487),M=a(6551),L=!1;l.default.onReady((()=>{var e,t,a,i,s,d,u,c,p,h,f,v,m,_,g;(null!==(e=l.default.appContactInfo)&&void 0!==e&&null!==(t=e.stablePassThroughInfo)&&void 0!==t&&null!==(a=t.wxcloud_gateway_conf)&&void 0!==a&&a.enabled||null!==(i=l.default.appContactInfo)&&void 0!==i&&null!==(s=i.wxcloud_gateway_conf)&&void 0!==s&&s.enabled)&&(L=!0,r=null===(d=l.default.appContactInfo)||void 0===d||null===(u=d.stablePassThroughInfo)||void 0===u?void 0:u.wxcloud_gateway_conf,(n=null===(c=l.default.appContactInfo)||void 0===c||null===(p=c.passThroughInfo)||void 0===p?void 0:p.wxcloud_gateway)&&null!==(h=l.default.appContactInfo)&&void 0!==h&&null!==(f=h.stablePassThroughInfo)&&void 0!==f&&null!==(v=f.wxcloud_gateway_conf)&&void 0!==v&&v.lite_gateway_info&&(o=null===(m=l.default.appContactInfo)||void 0===m||null===(_=m.stablePassThroughInfo)||void 0===_||null===(g=_.wxcloud_gateway_conf)||void 0===g?void 0:g.lite_gateway_info))}));var B=!1;function F({options:e,res:t,task:a}){return B=!0,{args:Object.assign({},e.originArgs,{url:e.accelerateOptions.rawUrl,header:e.accelerateOptions.rawHeader,enableHttp3:e.accelerateOptions.rawEnableHttp3}),innerArgs:{__retryAccelFallback__:!0}}}function W(e){var t,a,i,s,d;try{if(o){var{host:u,args:c,options:p}=e,{accelerateOptions:h,...f}=function(e,{host:t,compatUrls:a,args:i,__retryAccelFallback__:o}){var s,d,u,c,{disableAccelerate:p,url:h,header:f}=i,v=~~(Date.now()/1e3),m=null===(s=n)||void 0===s?void 0:s.auth_info,_=null===(d=n)||void 0===d?void 0:d.user_selected,g=e.forward_info_list,y=null==g?void 0:g.find((e=>e.url_prefixes.find((e=>h.startsWith(e))))),A=__libVersionInfo__.version,E="any"===(null===(u=r)||void 0===u?void 0:u.env_version)||null===(c=r)||void 0===c?void 0:c.env_version;if(!_||!m||v>m.exp||v-m.iat>86400||E&&l.default.envVersion!==E||p||o||B||(0,M.yC)(A,e.min_lib_version)<0||!y)return o&&(B=!0),{accelerateOptions:{accelerateType:N.JL.none}};var C=r.domain,T=t,I=h.replace(T,C),b=f,w=Object.assign({},b,{"x-wx-lite-gw-token":String(m.token),"x-wx-port":String(y.port),"x-wx-route-tag":String(y.route_tag),"x-wx-rid":String(m.rid)});return{accelerateOptions:{accelerateType:N.JL.liteGatewayAcc},host:C,args:Object.assign({},i,{url:I,header:w,enableHttp3:!0}),compatUrls:Object.assign({},a,{host:C,url:I}),header:w}}(o,{host:u,args:c,compatUrls:e.compatUrls,__retryAccelFallback__:p.__retryAccelFallback__});if(h.accelerateType===N.JL.liteGatewayAcc)return Object.assign({},f,{accelerateOptions:Object.assign({},h,{rawHost:u,rawUrl:c.url,rawHeader:c.header,rawEnableHttp3:c.enableHttp3})})}}catch(e){return}if(L)if(e.host!==r.domain){if(!e.options.__skipDomainCheck__){var v=null===(t=(a=__cloudSDKMain__).getRequestMiddleware)||void 0===t?void 0:t.call(a,l.default)(e.args);return v?new Promise(((e,t)=>v(e,t))):void 0}}else if(null!==(i=e.args.useGatewayIp)&&void 0!==i&&i.enabled&&null!==(s=n)&&void 0!==s&&null!==(d=s.prefetch_ip)&&void 0!==d&&d.ip){var m,_;if(Number(n.prefetch_ip.exp)>~~(Date.now()/1e3))return e.args.useGatewayIp.state=2,{ip:null===(m=n)||void 0===m||null===(_=m.prefetch_ip)||void 0===_?void 0:_.ip,skipDNS:R.Q};e.args.useGatewayIp.state=3}else{var g;!1===(null===(g=e.args.useGatewayIp)||void 0===g?void 0:g.enabled)?e.args.useGatewayIp.state=4:e.args.useGatewayIp&&(e.args.useGatewayIp.state=1)}}var U=0,V=/custom ip is invalid/;(0,d.b)("Request",{maxTaskCount:10,functionName:"request"}),l.default.onReady((()=>{try{"number"==typeof l.default.wxAppInfo.maxRequestConcurrent&&(0,d.b)("Request",{maxTaskCount:l.default.wxAppInfo.maxRequestConcurrent})}catch(e){}}));E.wZ;class H extends d.o{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,a=null==e?void 0:e.__wx_inner_invokeTime__,r=null==e?void 0:e.__wx_inner_request_network_type__,n=null==e?void 0:e.__wx_request_route_path__,o=null==e?void 0:e.rawHttpDnsError;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var s={JSApiType:1,invokeTime:Date.now(),requestingCount:++U,jsApiVersion:0};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:l=>{if(l.profile&&(l.profile.usingHighPerformanceMode=!!l.profile.usingHighPerformanceMode),D.S[e.host]||(D.S[e.host]={needUpdateDns:!1,protocol:e.protocol}),o||e.exception){var d=o||e.exception;l.exception={reasons:d},(null==e?void 0:e.retryCount)>0&&(l.exception.retryCount=e.retryCount)}!I||i||(0,E.tK)()||(i=!0,x()),e.host&&e.ip&&(0,p.BA)(e.host,e.ip),s.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(l),function(e){e.statusCode=parseInt(e.statusCode,10)}(l),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,a)=>(Array.isArray(e.header[a])?t[a]=e.header[a].join(","):"string"==typeof e.header[a]&&(t[a]=e.header[a]),t)),{}))}(l),e.enableHttpDNS&&(l.useHttpDNS=!!e.ip);try{(0,c.Qe)(e,l,{uuid:t,invokeTime:a,dataType:e.dataType,networkType:r,routePath:n})}catch(e){wxNativeConsole.error("checkAndReportError error:",e)}"json"===e.dataType&&G(l,e._jsonParse);if(e.__retryHttpDNS__){void 0===l.profile&&(l.profile={});var h=l.profile.domainLookUpStart-l.profile.fetchStart;l.profile.domainLookUpStart=e.lastRequestStartTime,l.profile.fetchStart=e.lastRequestStartTime-h,u({url:e.lastUrl,result:0,fullCost:Date.now()-a,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}var f=e.accelerateOptions.accelerateType;if(l.accelerateType=O.TS[f],f===O.JL.accelerate){if(l.statusCode>=400){var{args:v,innerArgs:m}=(0,O.zp)({options:e,res:l,task:this});return de(v,m),{__retry__:!0}}var _=(0,O.hw)(l);l.accelerateRequestId=_}else if(f===O.JL.liteGatewayAcc&&l.header&&l.header["x-wx-system-error"]){var{args:g,innerArgs:y}=F({options:e,res:l,task:this});return de(g,y),{__retry__:!0}}return j(l,s,e),l},beforeFail(i){var l,d=!1;if(e.enableHttpDNS&&(i.useHttpDNS=!!e.ip),s.isSuccess=!1,j(i,s,e),i.errMsg&&V.test(i.errMsg)){var p=!0,h=Date.now()-e.startTimestamp,f="number"==typeof e.timeout?e.timeout:6e4;if(h>f&&(p=!1),p){var v,_=e.__retryHttpDNS__;if(null!==(v=e.candicateIps)&&void 0!==v&&v.length){var g=e.exception;g||(g=[]),g.push({errno:600001,errmsg:i.errMsg});var y=e.candicateIps[0],A=e.candicateIps.slice(1);return de(e.originArgs,{__innerRequestOptions__:{ip:y,candicateIps:A,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:f-h,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:g,__retryHttpDNS__:_,redirect:e.redirect},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var E=e.exception;return E||(E=[]),E.push({errno:600001,errmsg:i.errMsg}),de(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:f-h,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:E,__polyfill_ldns__:!0,__retryHttpDNS__:_,redirect:e.redirect}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.accelerateOptions.accelerateType===O.JL.accelerate){var{args:C,innerArgs:T}=(0,O.zp)({options:e,res:i,task:this});return de(C,T),{__retry__:!0}}if(e.accelerateOptions.accelerateType===O.JL.liteGatewayAcc){var{args:I,innerArgs:b}=F({options:e,res:i,task:this});return de(I,b),{__retry__:!0}}if(e.__retryHttpDNS__){var w;u({url:e.lastUrl,result:1,fullCost:Date.now()-a,pointCacheType:e.hitCache,errMsg:i.errMsg,errno:i.errno,host:e.lastHost,cost:null!==(w=e.weHttpDNSCoast)&&void 0!==w?w:-1}),d=e.lastErrorResponse}else{var k,S=e.exception;if(m(i,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:i,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(k=e.retryCount)&&void 0!==k?k:0,exception:S}))return{__retry__:!0,__freehttpdns__:!0}}try{(0,c.Qe)(e,i,{uuid:t,invokeTime:a,networkType:r,routePath:n})}catch(e){wxNativeConsole.error("checkAndReportError error:",e)}(o||e.exception)&&(l={reasons:o||e.exception},(null==e?void 0:e.retryCount)>0&&(l.retryCount=e.retryCount));return d?{__changeError__:{...d,exception:l}}:i}}),this.taskInvoker&&this.taskInvoker.jsapiVersion&&(s.jsApiVersion=this.taskInvoker.jsapiVersion)}}function j(e,t,a){var i=Date.now();if(U--,t.costTime=i-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var r=e.clientInfo;t.wxdataQueueTimestamp=r.invokeTime,t.wxdataDequeueTimestamp=r.invokeTime,t.beginCGITimestamp=r.beginCGITimestamp,t.CGICallbackTimestamp=r.CGICallbackTimestamp,t.wxlibCallbackTimestamp=r.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=i-t.wxlibCallbackTimestamp,a&&a.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo}}function G(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}const z=H;var $=new WeakMap;class Q{constructor(){var e,t=new Promise((t=>{e=t}));$.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=$.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=$.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=$.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=$.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=$.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=$.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=$.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}a(1105),a(2900);var Y=a(4081),q=(a(4500),{}),Z=!1;function K({args:{url:e,__wx_inner_invokeTime__:t},host:a,needHttpdns:i=!1,options:{__retryHttpDNS__:r,lastErrorResponse:n,__refuseDns__:o=!1}}){var s,l;if((r||i)&&!o)if((null===(s=q[e])||void 0===s?void 0:s.count)>=4)u({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:a});else if(!(0,h.Vl)()){if(Z){var d=(0,p.Nq)(a);if(d&&!1===d.expired)return l=d.ip,{host:a,ip:l,hitCache:1}}var c=Date.now();return(0,p.f7)(a,void 0,!0).then((e=>{l=e.ip;var t=e.hitCache?2:0,i=Date.now()-c;return{host:a,ip:l,banHttpDNS:!0,weHttpDNSCoast:i,hitCache:t}})).catch((i=>{if(602107!=i.errno){q[e]?q[e].count++:q[e]={count:1};var r=setTimeout((()=>{delete q[e]}),3e4);q[e].cf&&clearTimeout(q[e].cf),q[e].cf=r}throw u({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:i.errMsg||i.message||i.msg,errno:i.errno,host:a}),n}))}}(E.cj||E.wZ)&&(Z=!0);var X=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):P().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork}));function J({host:e}){var t=(e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,a,i=0;i<e.length;i++){if(a=e[i],"."===t&&"."===a)return!0;t=a}return!1})(e);if(t)throw new Error(`invalid host: ${e}`)}var ee=!1;function te({host:e}){var t,a;return ee?(null!==(t=D.S[e])&&void 0!==t&&t.needUpdateDns&&(D.S[e].doingDns||(D.S[e].doingDns=!0,de({url:`${D.S[e].protocol}//${e}`,timeout:5e3,complete(){D.S[e].doingDns=!1,D.S[e].needUpdateDns=!1}},{__refuseDns__:!0})),a=!0),{needHttpdns:a}):{needHttpdns:!1}}l.default.onReady((()=>{1===Number(l.default.expt.clicfg_appbrand_ios_dns_polyfill)&&(ee=!0)}));class ae{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var a=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(a)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new Q;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();((e,t)=>{var{resolve:a}=$.get(e);a(t)})(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:(0,s.FE)({name:"request",args:e,errno:Y.YEP,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:a,header:i,method:r,port:n,responseType:o,dataStr:s,options:l,forbidReuse:d,currentRequestStartTime:u,lastRequestStartTime:c,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:v,__retryHttpDNS__:m,lastErrorResponse:_,candicateIps:g,startTimestamp:y,timeout:A,protocol:E,compatUrls:C,rawHttpDnsError:T,retryCount:I,exception:b,__polyfill_ldns__:w,accelerateOptions:k}=this.innerParams;try{return new z(Object.assign({},e,{header:i,method:r,responseType:o,data:s,ip:a,host:t,port:n,forbidReuse:d,currentRequestStartTime:u,lastRequestStartTime:c,originArgs:e,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:v,__retryHttpDNS__:m,lastErrorResponse:_,__skipDomainCheck__:k.accelerateType===O.JL.accelerate||k.accelerateType===O.JL.liteGatewayAcc||l.__skipDomainCheck__,candicateIps:g,startTimestamp:y,timeout:A,protocol:E,compatUrls:C,rawHttpDnsError:T,retryCount:I,exception:b,__polyfill_ldns__:w,accelerateOptions:k}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var ie=(e={})=>(t={},a={})=>re(Object.assign({},e,a))(t),re=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1,__refuseDns__:!1,__retryAccelFallback__:!1},e),function(t={}){var a;if(t.url){try{a=(0,O.en)(t.url)}catch(e){return void(0,s.FE)({name:"request",args:t,errno:Y.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===a.protocol||"https:"===a.protocol)if("function"!=typeof t.data){(0,f.J)("skipDomainCheck")&&(e.__skipDomainCheck__=!0);var i=new ae({args:t,options:e});if(i.catch((e=>{(0,s.YG)("request",t,e.message||e.errMsg,e.errno)})).use((0,O.JU)(a)).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:a.host,protocol:a.protocol,compatUrls:{port:a.port||("http:"===a.protocol?80:443),host:a.hostname,url:`${a.hostname||""}${a.pathname||""}${a.search||""}${a.hash||""}`}})).use(te).use(J).use(O.dG.bind(this)).use(O.S7).use(K).use(O.Dk).use(X).use(W).useAfterAsyncTasks(O.rk),i.catchFn)return i.execute(t)}else(0,s.FE)({name:"request",args:t,errno:Y.tHd,errMsg:"data should not be Function",success:!1});else(0,s.FE)({name:"request",args:t,errno:Y.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}else(0,s.FE)({name:"request",args:t,errno:Y.Wkc,errMsg:`invalid url "${t.url}"`,success:!1})}),ne=re({__skipDomainCheck__:!1}),oe=re({__skipDomainCheck__:!0}),se=re({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),le=ie({__retryHttpDNS__:!0}),de=ie()},6487:(e,t,a)=>{"use strict";a.d(t,{JL:()=>u,S7:()=>f,TS:()=>c,hw:()=>p,zp:()=>v});var i=a(9067),r=a(7445),n=a(6342),o=(a(9398),a(8171)),s=a(5310),l=a(5125),d={isHitRule:0,enableAcc:0,requestHostMap:{},socketHostMap:{},forceDisableAcc:0},u={none:0,accelerate:1,disable:2,retryAccelFallback:3,forceDisableAcc:4,liteGatewayAcc:5},c={[u.none]:"none",[u.accelerate]:"accelerate",[u.disable]:"disable",[u.retryAccelFallback]:"retryAccelFallback",[u.forceDisableAcc]:"forceDisableAcc",[u.liteGatewayAcc]:"liteGateway"};n.default.onReady((()=>{}));var p=e=>{var t;return(null==e||null===(t=e.header)||void 0===t?void 0:t["EO-LOG-UUID"])||""},h=({host:e,hostMap:t,compatUrls:a,args:i,__retryAccelFallback__:r,__AccelFailReqId__:n})=>{var{disableAccelerate:o,url:s}=i,l=t[e],{disable:c,accelerate:p,retryAccelFallback:h,none:f,forceDisableAcc:v}=u,m=f;return l&&(o?m=c:r?(m=h,d.forceDisableAcc=1):1===d.forceDisableAcc&&(m=v)),{accelerateOptions:Object.assign({accelerateType:m},n?{__AccelFailReqId__:n}:{})}};function f(e){var{host:t,args:a,compatUrls:i,options:r}=e,{requestHostMap:n,isHitRule:o}=d,{accelerateOptions:s,...l}=h({host:t,compatUrls:i,hostMap:n,args:a,__retryAccelFallback__:r.__retryAccelFallback__,__AccelFailReqId__:r.__AccelFailReqId__});return Object.assign({},l,{accelerateOptions:Object.assign({},s,{isHitRule:o,rawHost:t,rawUrl:a.url})})}var v=({options:e,res:t,task:a})=>{var n=p(t)||a.uniqueId,{isHitRule:d,rawUrl:u,rawHost:c,accelerateType:h}=e.accelerateOptions,f=e.originArgs.url,v=e.host,{profile:m,statusCode:_,errno:g,errMsg:y}=t,{domainLookUpStart:A,domainLookUpEnd:E,connectStart:C,connectEnd:T,SSLconnectionStart:I,SSLconnectionEnd:b,requestStart:w,requestEnd:k,responseStart:S,responseEnd:x,socketReused:P,peerIP:D}=m||{};return Reporter.reportKeyValue({key:"AccelerateNetwork",value:["request",encodeURIComponent(u.substring(0,1024)),encodeURIComponent(f.substring(0,1024)),c,v,2,Date.now()-e.currentRequestStartTime,y,Reporter.getAppType(),_,0,(0,o.PL)(),0,(0,i.Xl)(m||{}),(0,r.aI)()?s.Z.scene:l.Z.scene,g,d,h,n,E-A,T-C,b-I,k-w,x-S,P,D].join(",")}),delete e.accelerateOptions,e.originArgs.url=u,{args:e.originArgs,innerArgs:{__retryAccelFallback__:!0,__AccelFailReqId__:n}}}},1320:(e,t,a)=>{"use strict";a.d(t,{S7:()=>_.S7,JL:()=>_.JL,TS:()=>_.TS,rk:()=>C,zp:()=>_.zp,hw:()=>_.hw,en:()=>p,Dk:()=>E,dG:()=>m,JU:()=>n});var i=a(9105),r=a(6347);function n(e){return function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:a,lastRequestStartTime:n,lastUrl:o,lastHost:s,lastErrorResponse:l,__innerRequestOptions__:d,__polyfill_ldns__:u,retryCount:c,exception:p}={}}){var h,f;!t&&null!=d&&d.__retryHttpDNS__&&(t=!0),e.header?(f=(0,i.Em)(e.header),e.header=(0,i.Nf)(e.header)):(h=!0,f="Undefined",e.header={}),"Undefined"!==f&&"Object"!==f&&(console.warn("wx.request: header must be an object"),e.header={}),h||(e.header=Object.keys(e.header).reduce(((t,a)=>{var i=a.toLowerCase();return"content-type"===i?t[i]=e.header[a]:t[a]=e.header[a],t}),{}));var v="text";e.responseType&&(v=e.responseType.toLowerCase());var m,_=e.header,g="GET";if("string"==typeof e.method&&(g=e.method.toUpperCase()),e.dataType=e.dataType||"json",a||(_["content-type"]=_["content-type"]||"application/json"),m=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==(0,i.Em)(e.data)?_["content-type"].indexOf("application/x-www-form-urlencoded")>-1?(0,r.HR)(e.data,!0):_["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):m.toString():e.data,"GET"===g&&e.data){var y=(0,r.cE)(e.url,e.data);e.url=y}var A=null!=d&&d.timeout?d.timeout:e.timeout,E=null!=d&&d.retryCount?d.retryCount:0;E||(E=null!=c?c:0);var C=null!=d&&d.exception?d.exception:null;C||(C=p);var T=(null==d?void 0:d.__polyfill_ldns__)||u;return{header:_,method:g,responseType:v,dataStr:m,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:n,lastHost:s,lastUrl:o,__retryHttpDNS__:t,lastErrorResponse:l,startTimestamp:Date.now(),timeout:A,retryCount:E,exception:C,__polyfill_ldns__:T}}}var o,s=a(2517),l=Symbol("pre"),d=Symbol("next"),u=Symbol("key");class c{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[l],a=e[d];t&&a?(t[d]=a,a[l]=t,this.cacheTail[d]=e,e[l]=this.cacheTail,e[d]=null,this.cacheTail=e):t||a&&(a[l]=null,this.cacheHead=a,this.cacheTail[d]=e,e[l]=this.cacheTail,e[d]=null,this.cacheTail=e)}insertCache(e,t){if(t[u]=e,this.cacheTail?(t[d]=null,t[l]=this.cacheTail,this.cacheTail[d]=t,this.cacheTail=t):(this.cacheTail=t,t[d]=null,this.cacheHead=t,t[l]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[u]];var a=this.cacheHead[d];a[l]=null,this.cacheHead[d]=null,this.cacheHead[l]=null,this.cacheHead=a}else this.cacheLength++}removeOldestCache(){if(this.cacheTail){var e=[this.cacheHead[u],this.cacheMap[this.cacheHead[u]]];delete this.cacheMap[this.cacheHead[u]];var t=this.cacheHead[d];return t[l]=null,this.cacheHead[l]=null,this.cacheHead[d]=null,this.cacheHead=t,this.cacheLength--,e}}removeCache(e){var t=this.getCache(e);t&&(t===this.cacheHead?(this.cacheHead=t[d],this.cacheHead&&(this.cacheHead[l]=null)):t===this.cacheTail?(this.cacheTail=t[l],this.cacheTail&&(this.cacheTail[d]=null)):(t[l][d]=t[d],t[d][l]=t[l],t[u][l]=null,t[u][d]=null),delete this.cacheMap[t[u]],this.cacheLength--)}}function p(e){o||(o=new c(50));var t,a=o.getCache(e);return a?(o.updateCache(a),a):((t="function"==typeof URL?new URL(e):(0,s.Qc)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),o.insertCache(e,t),t)}var h=a(2900),f=a(1105),v=a(2417),m=function({args:e={}}){var{ip:t}=e;if(t){var a=(0,f.hI)(this);return a&&(0,h.uC)(a,"skipDNSRequest")?{skipDNS:v.Q,ip:e.ip}:{}}},_=a(6487),g=a(6142),y=a(8171),A=a(5900);function E({args:e={},host:t,skipDNS:a,banHttpDNS:i,options:r={}}){var n,o;if(a!==v.Q&&!i){var s,l,{enableHttpDNS:d,httpDNSServiceId:u}=e;if(null!=r&&null!==(n=r.__innerRequestOptions__)&&void 0!==n&&n.ip)return{host:t,ip:r.__innerRequestOptions__.ip,candicateIps:null===(l=r.__innerRequestOptions__)||void 0===l?void 0:l.candicateIps};if(null===(null==r||null===(o=r.__innerRequestOptions__)||void 0===o?void 0:o.ip))return{};if(!(0,y.Vl)()){if(!0===d&&(0,g.HD)(u)){var c=(0,A.Nq)(t);return c&&!1===c.expired?(s=c.ip,{host:t,ip:s}):(0,A.f7)(t,u).then((e=>{if(s=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:r.retryCount?r.retryCount+1:1};var a=e.candidateIps;return{host:t,ip:s,candicateIps:a}}))}return!0===d?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function C({host:e,ip:t,compatUrls:a}){var i=(0,A.jO)(e,t);return t?{port:a.port,host:a.host,url:a.url,forbidReuse:i}:{forbidReuse:i}}},2417:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i});var i=Symbol("skipDNS")},5289:(e,t,a)=>{"use strict";a.d(t,{o:()=>Se,b:()=>Be});var i,r=a(9398),n=a(8171),o=a(7445),s=a(9067),l=a(5310),d=a(5125),u=a(9370),c=a(6342),p=a(1708),h=0,f=[],v=Math.random,m=new Set;c.default.onReady((()=>{i=Date.now()}));var _=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:f,appType:Reporter.getAppType()},null,2);(0,r.IN)("reportRealtimeAction",{actionData:e,noCallback:!0}),f=[]},g=({functionName:e,keyParam:t,result:a,costTime:r,errorMsg:g,statusCode:A,__skipDomainCheck__:E,dataLength:C=0,responseDataLength:T=0,profile:I={},queueTime:b=0,extraData:w={},uniqueId:k,isAsync:S=!0,errno:x,queueLength:P=0,accelerateOptions:D={},jsapiVersion:O=0,requestData:R="",response:N="",beginTime:M=0,endTime:L=0,options:B={}}={})=>{var F;t.length>1024&&(t=t.substring(0,1024));var W="",U="",V=0,H="";if((0,o.aI)()?(U=(0,s.Xl)(l.Z.query),V=l.Z.scene,H=l.Z.sceneNote):(V=d.Z.scene,H=d.Z.sceneNote),void 0!==u.hr){var j=u.hr.getCurrentPages();if(j&&j.length>0){var G=j[j.length-1];if(G&&(W=G.route,u.hr.getDisplayReporter)){var z,$=u.hr.getDisplayReporter(G);U=(null==$||null===(z=$.showOptions)||void 0===z?void 0:z.query)||""}}}!x&&g&&/超时|timeout/.test(g)&&(x=5);var Q=JSON.stringify(w),Y=[e,t,a,r,g,Reporter.getAppType(),A,C,(0,n.PL)(),W,U,T,(0,s.Xl)(I),V,H,k,x,b,Q,null===(F=c.default.wxAppInfo)||void 0===F?void 0:F.maxRequestConcurrent,L-i,P,O,0,d.Z.isWeakNetwork?1:0].map(encodeURIComponent).join(","),q=!1;if(S&&(1==a?v()<.01&&(q=!0):q=!0),q){var Z,K="",X="",J="",ee="",te="",ae="",ie="",re="",ne="",oe="",se=I.protocol||"",le=0;!0===I.socketReused?le=1:!1===I.socketReused&&(le=2);var de=!0===B.enableCache?1:2,ue=!0===B.enableHttpDNS?1:2,ce=B.enableChunked?1:2,pe="",he="",fe=(0,p.k)()+" "+(0,p.n)(),ve=y(),me=B.method,_e=!0===B.enableHttp2?1:2,ge=!0===B.enableQuic?1:2,ye=!0===B.enableHttp3?1:2;I&&I.fetchStart&&M&&("request"===e||"downloadFile"===e||"uploadFile"===e)&&(K=I.fetchStart-M,X=I.domainLookUpEnd-I.domainLookUpStart,J=I.connectEnd-I.connectStart,ee=I.SSLconnectionStart-I.connectStart,te=I.SSLconnectionEnd-I.SSLconnectionStart,ae=(I.connectEnd||I.requestStart)-I.requestStart,ie=I.responseStart-(I.connectEnd||I.requestStart),re=I.responseEnd-I.responseStart,ne=I.responseEnd-I.fetchStart,oe=L-I.responseEnd,pe=I.redirectEnd-I.redirectStart,he=(I.domainLookUpStart||I.requestStart)-I.fetchStart);var Ae=[e,encodeURIComponent(t),a,r,encodeURIComponent(g),Reporter.getAppType(),A,C,(0,n.PL)(),W,"",T,"",V,encodeURIComponent(H),x,b,encodeURIComponent(Q),null===(Z=c.default.wxAppInfo)||void 0===Z?void 0:Z.maxRequestConcurrent,L-i,P,O,K,X,J,ee,te,ae,ie,re,ne,oe,se,le,de,ue,ce,pe,he,fe,ve,me,_e,ge,ye].join(",");Reporter.reportKeyValue({key:"NetworkAPI2",value:Ae})}Reporter.reportKeyValue({key:"NetworkAPI",value:Y}),Reporter.reportIDKey({key:`${e}_${1===a?"ok":"fail"}`});var{isHitRule:Ee,rawUrl:Ce,rawHost:Te,accelerateType:Ie,host:be,accelerateId:we,__AccelFailReqId__:ke}=D,{domainLookUpStart:Se,domainLookUpEnd:xe,connectStart:Pe,connectEnd:De,SSLconnectionStart:Oe,SSLconnectionEnd:Re,requestStart:Ne,requestEnd:Me,responseStart:Le,responseEnd:Be,socketReused:Fe,peerIP:We}=I;1===Ee&&[1,2].includes(a)&&Reporter.reportKeyValue({key:"AccelerateNetwork",value:[e,encodeURIComponent(Ce.substring(0,1024)),t,Te,be,a,r,g,Reporter.getAppType(),A,C,(0,n.PL)(),T,(0,s.Xl)(I),V,x,Ee,Ie,we,xe-Se,De-Pe,Re-Oe,Me-Ne,Be-Le,Fe?1:0,We,ke].join(",")}),f.push([e,t,a,A||"",r,g,(0,n.PL)(),E?"1":"0",Reporter.getAppType(),C].map((e=>{var t;try{t=encodeURIComponent(e)}catch(a){t=e}return t})).join(",")),function(e){if(0===m.size)return;try{m.forEach((t=>t(e)))}catch(e){}}({functionName:e,keyParam:t,result:a,costTime:r,errorMsg:g,statusCode:A,dataLength:C,responseDataLength:T,requestData:R,response:N,profile:I,errno:x,__skipDomainCheck__:E}),Date.now()-h>=6e4&&(h=Date.now(),setTimeout(_,6e4))};var y=()=>{var e=o.wZ?1:0,t=o.wZ?10:0;return(o.wZ?100:0)+t+e},A=a(5436),E=a(9806),C=a(6142),T=a(5340);var I=a(4317),b=a(2030);var w=a(1399);class k{constructor(){}createTask(e){throw new Error("not impl")}onTaskStateChange(e){throw new Error("not impl")}operate(){throw new Error("not impl")}}var S=a(5464),x=new A.Q("RequestTaskJsBindingInvoker"),P={},D=e=>"Binding"+e,O=(e,t)=>(0,r.ZI)(e,`RequestTask.${t}`);var R=e=>{delete P[D(e.id)]};function N(e){var t=this.responseInfo;Object.assign(t,e),x.emit("stateChange",{requestTaskId:D(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function M(e){this.responseInfo.data=e}function L(e){x.emit("stateChange",{requestTaskId:D(this.id),state:"chunked",data:e.data})}function B(e){x.emit("stateChange",{requestTaskId:D(this.id),state:"progressUpdate",type:e.type,totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function F(e={}){var t=this.responseInfo;t.header=e.header,t.statusCode=e.statusCode,x.emit("stateChange",{requestTaskId:D(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function W(e={}){var t=this.responseInfo,a={requestTaskId:D(this.id),state:"success",header:t.header,data:t.data,statusCode:t.statusCode,clientInfo:e.clientInfo};a.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),a.clientInfo=this.__mockClientInfo),e.profile&&(a.profile=e.profile,a.profile.usingHighPerformanceMode=!0),void 0===a.data&&"text"===this.invokeArgs.responseType&&(a.data=""),x.emit("stateChange",a),R(this)}function U(e){e.errno;var t={requestTaskId:D(this.id),state:"fail",clientInfo:e.clientInfo,errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};t.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),t.clientInfo=this.__mockClientInfo),x.emit("stateChange",t),R(this)}var V=(e,t)=>(0,r.ZI)(e,`DownloadTask.${t}`),H=new A.Q("DownloadTaskJsBindingInvoker"),j={};var G=e=>{delete j[e.id]};function z(e){var t=this.responseInfo;Object.assign(t,e),H.emit("stateChange",{downloadTaskId:this.id,state:"headersReceived",header:e.header,cookies:e.cookies||{}})}function $(e){H.emit("stateChange",{downloadTaskId:this.id,state:"progressUpdate",totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,progress:e.progress})}function Q(e={}){var t=this.responseInfo,a={downloadTaskId:this.id,state:"success",header:t.header,dataLength:e.dataLength,statusCode:t.statusCode};e.clientInfo&&(a.clientInfo=e.clientInfo),e.tempFilePath&&(a.tempFilePath=e.tempFilePath),e.filePath&&(a.filePath=e.filePath),e.profile&&(a.profile=e.profile,a.profile.usingHighPerformanceMode=!0),H.emit("stateChange",a),G(this)}function Y(e){e.errno;var t={downloadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),H.emit("stateChange",t),G(this)}var q=(e,t)=>(0,r.ZI)(e,`UploadTask.${t}`),Z=new A.Q("UploadTaskJsBindingInvoker"),K={};var X=e=>{delete K[e.id]};function J(e){var t=this.responseInfo;Object.assign(t,e),Z.emit("stateChange",{uploadTaskId:this.id,state:"headersReceived",header:e.header})}function ee(e){Z.emit("stateChange",{uploadTaskId:this.id,state:"progressUpdate",progress:e.progress,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function te(e={}){var t=this.responseInfo,a={uploadTaskId:this.id,state:"success",header:t.header,data:e.data,statusCode:t.statusCode};e.clientInfo&&(a.clientInfo=e.clientInfo),e.profile&&(a.profile=e.profile,a.profile.usingHighPerformanceMode=!0),Z.emit("stateChange",a),X(this)}function ae(e){e.errno;var t={uploadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),Z.emit("stateChange",t),X(this)}var ie={Request:{jsBinding:new class extends k{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:a,complete:i,enableHttp2:r,enableHttp3:n}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||n?e.protocol="h3":r&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,w.Z.RequestTask)(e);P[D(s.id)]=s;var l=Date.now();s.__mockClientInfo={invokeTime:l,beginCGITimestamp:l,CGICallbackTimestamp:l,wxlibCallbackTimestamp:l};s.responseInfo={},s.invokeArgs=e,s.onDataReceived=O(M,"onDataReceived"),s.onSucceeded=O(W,"onSucceeded"),s.onFailed=O(U,"onFailed"),s.onResponseStarted=O(N,"onResponseStarted"),s.onRedirectReceived=O(F,"onRedirectReceived"),(0,S.V)()||(s.onProgressUpdate=O(B,"onProgressUpdate"),s.onChunkedDataReceived=O(L,"onChunkedDataReceived")),s.operate({operationType:"request"});var d={requestTaskId:D(s.id),errMsg:"createRequestTask:ok"};a(d),i(d)}onTaskStateChange(e){x.off("stateChange"),x.on("stateChange",e)}operate(e){var{operationType:t}=e,a=P[e.requestTaskId];e.requestTaskId,a&&"abort"===t&&a.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){if((0,S.V)()){var a=P[t];if(!a)return;"progressUpdate"===e?a.onProgressUpdate=O(B,"onProgressUpdate"):"headersReceived"===e||"chunked"===e&&(a.onChunkedDataReceived=O(L,"onChunkedDataReceived"))}}stopListenTaskStateChange({stateName:e,taskId:t}){var a=P[t];a&&("progressUpdate"===e?a.onProgressUpdate=null:"headersReceived"===e?(a.onResponseStarted=null,a.onRedirectReceived=null):"chunked"===e&&(a.onChunkedDataReceived=null))}}},Download:{jsBinding:new class extends k{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:a,complete:i,enableHttp2:r,enableHttp3:n}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||n?e.protocol="h3":r&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,w.Z.DownloadTask)(e);j[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=V(Q,"onSucceeded"),s.onFailed=V(Y,"onFailed"),s.onResponseStarted=V(z,"onResponseStarted"),(0,S.V)()||(s.onProgressUpdate=V($,"onProgressUpdate")),s.operate({operationType:"download"});var l={downloadTaskId:s.id,errMsg:"createDownloadTask:ok"};a(l),i(l)}onTaskStateChange(e){H.off("stateChange"),H.on("stateChange",e)}operate(e){var{operationType:t}=e,a=j[e.downloadTaskId];e.downloadTaskId,a&&"abort"===t&&a.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){if((0,S.V)()){var a=j[t];if(!a)return;"progressUpdate"===e&&(a.onProgressUpdate=V($,"onProgressUpdate"))}}stopListenTaskStateChange({stateName:e,taskId:t}){var a=j[t];a&&("progressUpdate"===e?a.onProgressUpdate=null:"headersReceived"===e&&(a.onResponseStarted=null))}}},Upload:{jsBinding:new class extends k{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:a,complete:i,enableHttp2:r,enableHttp3:n}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||n?e.protocol="h3":r&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,w.Z.UploadTask)(e);K[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=q(te,"onSucceeded"),s.onFailed=q(ae,"onFailed"),s.onResponseStarted=q(J,"onResponseStarted"),(0,S.V)()||(s.onProgressUpdate=q(ee,"onProgressUpdate")),s.operate({operationType:"upload"});var l={uploadTaskId:s.id,errMsg:"createUploadTask:ok"};a(l),i(l)}onTaskStateChange(e){Z.off("stateChange"),Z.on("stateChange",e)}operate(e){var{operationType:t}=e,a=K[e.uploadTaskId];e.uploadTaskId,a&&"abort"===t&&a.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){if((0,S.V)()){var a=K[t];if(!a)return;"progressUpdate"===e&&(a.onProgressUpdate=q(ee,"onProgressUpdate"))}}stopListenTaskStateChange({stateName:e,taskId:t}){var a=K[t];a&&("progressUpdate"===e?a.onProgressUpdate=null:"headersReceived"===e&&(a.onResponseStarted=null))}}}},re=(e,t)=>"Request"===e&&w.Z.RequestTask&&(t.useHighPerformanceMode||(e=>!(!o.wZ||e.enableHttpDNS))(t))?ie.Request.jsBinding:"Download"===e&&w.Z.DownloadTask&&(t.useHighPerformanceMode||(e=>{var t;return!(!o.wZ||e.enableHttpDNS||e.enableQuic&&"1"!==(null===c.default||void 0===c.default||null===(t=c.default.expt)||void 0===t?void 0:t.clicfg_enable_appbrand_downloadfile_enablequic_newcronet))})(t))?ie.Download.jsBinding:"Upload"===e&&w.Z.UploadTask&&(t.useHighPerformanceMode||(e=>{var t;return!(!o.wZ||e.enableHttpDNS||e.enableQuic&&"1"!==(null===c.default||void 0===c.default||null===(t=c.default.expt)||void 0===t?void 0:t.clicfg_enable_appbrand_downloadfile_enablequic_newcronet))})(t))?ie.Upload.jsBinding:void 0,ne=(e,t)=>{if(ie[e]){var a=ie[e];Object.keys(a).forEach((e=>{a[e].onTaskStateChange((e=>{t(e)}))}))}},oe=a(1320),se=!1;c.default.onReady((()=>{o.cj&&1===Number(c.default.expt.clicfg_appbrand_ios_enable_async_create_request_task)&&(se=!0)}));var le=(0,E.Fr)(T.lz),de=0,ue=new WeakMap,ce=new WeakMap,pe=new WeakMap,he=new WeakMap,fe=new WeakMap,ve=new WeakMap,me=new WeakMap,_e=new WeakMap,ge=new WeakMap,ye=new WeakMap,Ae=new WeakMap,Ee={},Ce=new A.Q("Network",!0),Te=wxNativeConsole.createLogger("NetworkTask"),Ie=new WeakMap,be={},we=new WeakMap,ke=new WeakMap;class Se{constructor(e,{taskType:t,beforeSend:a,beforeSuccess:i,beforeFail:r}){var n,s,l=de++;if(this.uniqueId=1e4*Date.now()+Math.round(9999*Math.random()),ue.set(this,l),pe.set(this,"waiting"),he.set(this,e),fe.set(this,t),_e.set(this,a),ge.set(this,i),(0,C.mf)(r)&&ye.set(this,r),this.taskInvoker=re(t,e),!this.taskInvoker){var d=!1;((0,b.N)(t)||(o.cj||o.wZ)&&e.forceCellularNetwork)&&(d=!0),Ae.set(this,d)}var u=new I.Q(((e,t)=>{n=e,s=t}));Ie.set(this,{promise:u,resolve:n,reject:s});var c=()=>{Me.call(this)?(me.set(this,[Date.now()]),Ee[t].taskQueue.push({id:l,item:this})):Pe.call(this)};(0,C.mf)(e.customCheck)?e.customCheck(e,(a=>{a?xe(t,e,a):c()})):c()}abort(){if(Te.info(`[${fe.get(this)}][${ue.get(this)}]abort()`),"waiting"===pe.get(this)){Te.info(`[${fe.get(this)}][${ue.get(this)}] waiting=true`);var e=Ee[fe.get(this)].taskQueue.findIndex((e=>e.id===ue.get(this)));e>-1&&(Ee[fe.get(this)].taskQueue.splice(e,1),(0,r.YG)(Ee[fe.get(this)].functionName,he.get(this),"abort")),pe.set(this,"done")}else{var t=Ie.get(this).promise,a=he.get(this);t.then((()=>{var e={[`${fe.get(this).toLowerCase()}TaskId`]:ce.get(this),operationType:"abort",contextId:a.contextId};this.taskInvoker?this.taskInvoker.operate(e):(0,r.IN)(`operate${fe.get(this)}Task`,e)}))}}onProgressUpdate(e){Ie.get(this).promise.then((()=>{var t=ce.get(this),a=fe.get(this);Ce.on(`${a}${t}progressUpdate`,e),1===Ce.getListenersLength(`${a}${t}progressUpdate`)&&Fe.call(this,a,"progressUpdate",t)}))}offProgressUpdate(e){Ie.get(this).promise.then((()=>{var t=ce.get(this),a=fe.get(this);Ce.off(`${a}${t}progressUpdate`,e),Ce.getListenersLength(`${a}${t}progressUpdate`)||We.call(this,a,"progressUpdate",t)}))}onHeadersReceived(e){Ie.get(this).promise.then((()=>{var t=ce.get(this),a=fe.get(this);Ce.on(`${a}${t}headersReceived`,e),1===Ce.getListenersLength(`${a}${t}headersReceived`)&&Fe.call(this,a,"headersReceived",t)}))}offHeadersReceived(e){Ie.get(this).promise.then((()=>{var t=ce.get(this),a=fe.get(this);Ce.off(`${a}${t}headersReceived`,e),Ce.getListenersLength(`${a}${t}headersReceived`)||We.call(this,a,"headersReceived",t)}))}onChunkReceived(e){Ie.get(this).promise.then((()=>{var t=ce.get(this),a=fe.get(this);Ce.on(`${a}${t}chunked`,e),"Request"===a&&1===Ce.getListenersLength(`${a}${t}chunked`)&&Fe.call(this,a,"chunked",t)}))}offChunkReceived(e){Ie.get(this).promise.then((()=>{var t=ce.get(this),a=fe.get(this);Ce.off(`${a}${t}chunked`,e),"Request"!==a||Ce.getListenersLength(`${a}${t}chunked`)||We.call(this,a,"chunked",t)}))}}function xe(e,t,a,i){a=String(a).replace("createCellularNetworkRequestTaskAsync:fail ","");var n={name:Ee[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:a};"number"==typeof i&&(n.errno=i),(0,r.FE)(n)}function Pe(){var e=he.get(this),t=fe.get(this),a=Ae.get(this);pe.set(this,"sending"),ve.set(this,Date.now());var{errMsg:i,errno:r}=De.call(this);a?Ie.get(this).promise.then((()=>{Oe.call(this)})).catch((({errMsg:a,errno:i})=>{xe(t,e,a,i)})):i?xe(t,e,i,r):ce.get(this)?Oe.call(this):Ie.get(this).promise.then((()=>{Oe.call(this)}));setTimeout((()=>{g({functionName:Ee[t].functionName,keyParam:e.url,result:null,costTime:0,errorMsg:"",statusCode:null,__skipDomainCheck__:e.__skipDomainCheck__,dataLength:null,responseDataLength:null,profile:{},queueTime:null,extraData:{},uniqueId:this.uniqueId,isAsync:!1,errno:null,queueLength:0,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0})}),0)}function De(){var e,t,a=fe.get(this),i=he.get(this);Ee[a].currentTaskCount++;var n={data:i.data,url:i.url,header:i.header,method:i.method,timeout:"number"==typeof i.timeout?i.timeout:0,enableHttp2:!0===i.enableHttp2,enableHttp3:!0===i.enableHttp3,enableQuic:!0===i.enableQuic,enableCache:!0===i.enableCache,enableProfile:!1!==i.enableProfile,ip:i.ip,port:i.port,forbidReuse:!0===i.forbidReuse,host:i.host,enableChunked:i.enableChunked,__skipDomainCheck__:i.__skipDomainCheck__,forceCellular:i.forceCellularNetwork,contextId:i.contextId,redirect:i.redirect,success:e=>{var t=e[`${a.toLowerCase()}TaskId`];ce.set(this,t),Ee[a].taskIdMap[t]=this;var i=Ie.get(this).resolve,r=Ie.get(this).promise;i(),r.then((()=>{be[t]&&"wait"===be[t].status?be[t].handlers.forEach((e=>e())):be[t]={status:"normal"}}))},fail:r=>{Ee[a].currentTaskCount--;var n=r[`${a.toLowerCase()}TaskId`];e=r.errMsg,t=r.errno,Re.call(this,{taskType:a,options:i,errMsg:e,success:!1,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0}),(0,Ie.get(this).reject)({errMsg:e,errno:t}),Te.error(`[${a}][createTask][Fail] taskId=${n}`),be[n]&&"wait"===be[n].status&&delete be[n]},complete:()=>{pe.set(this,"done")}},s=Ae.get(this),l=`create${a}Task${s?"Async":""}`;(o.cj||o.wZ)&&i.forceCellularNetwork&&(l="createCellularNetworkRequestTaskAsync");var d={};"[object ArrayBuffer]"!==Object.prototype.toString.call(i.data)&&(d.notPack=!0);var u=_e.get(this)(n);return"createRequestTaskAsync"===l&&o.cj&&se&&(l="createRequestTaskRealAsync"),this.taskInvoker?this.taskInvoker.createTask(u,i):"Request"!==a||o.gm||o.DD||Foundation.env.isMagicBrushFrameEnv?(0,r.IN)(l,u):(0,r.NJ)(l,u,d),{errMsg:e,errno:t}}function Oe(){var e=ce.get(this),t=he.get(this),a=fe.get(this),i=Ee[a].functionName;Ce.on(`${a}${e}success`,(e=>{var a=ge.get(this).call(this,e);null!=a&&a.__retry__||(0,r.FE)({name:i,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),Ce.on(`${a}${e}fail`,(e=>{var a=ye.get(this),n=a&&a.call(this,e);if(null!=n&&n.__retry__)wxNativeConsole.info(`httpDns we retry url: ${t.url}`);else{n&&n.__changeError__&&(e=n.__changeError__);var o={name:i,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(o.errno=e.errno),e.exception&&(o.exception=e.exception),(0,r.FE)(o)}}))}function Re({taskType:e,options:t,errMsg:a,success:i=!0,dataLength:r=0,statusCode:n="",responseDataLength:o=0,profile:s={},queueTime:l,uniqueId:d,errno:u,queueLength:c,accelerateId:p,jsapiVersion:h=0,response:f}){var v=t.url,m=i?1:2,_=Date.now(),y=ve.get(this),A=_-y,E=t.__skipDomainCheck__;A>=6e4&&Te.error(`reportTask costTime too long: ${A}ms, taskId=${ce.get(this)}`),g({functionName:Ee[e].functionName,keyParam:v,result:m,costTime:A,errorMsg:a,statusCode:n,__skipDomainCheck__:E,dataLength:r,responseDataLength:o,profile:s,queueTime:l,extraData:{},uniqueId:d,isAsync:!0,errno:u,queueLength:c,accelerateOptions:Object.assign({},t.accelerateOptions,{host:t.host,accelerateId:p}),jsapiVersion:h,requestData:t.data,response:f,beginTime:y,endTime:_,options:t})}function Ne(e,t){var a,i=`${t.toLowerCase()}TaskId`,r=e[i],{state:n,header:o}=e;delete e.state,delete e[i],"chunked"!==n&&(e.cookies=o&&(a=o["Set-Cookie"]||o["set-cookie"])?Array.isArray(a)?a:a.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]);var s=0;o&&(s=parseInt(o["Content-Length"]||o["content-length"]||"0",10));var l,d,u=()=>{if(Ce.emit(`${t}${r}${n}`,e),"success"===n||"fail"===n){var a=Ee[t].taskIdMap[r],i=he.get(a);if(!a)return;Ee[t].currentTaskCount-=1;var o=Ee[t].taskQueue.length;if(Ee[t].taskQueue.length>0){var l=Ee[t].taskQueue.shift().item,d=me.get(l);if(d&&d[0]){var u=d[0];if(u>0){var c=Date.now()-u;me.set(l,[u,c,o])}}Pe.call(l)}var p=Promise.resolve((0,E.Y6)(i.data));if("Upload"===t){var h=0;"object"==typeof i.formData&&null!==i.formData&&(h=JSON.stringify(i.formData).length),p=le({path:i.filePath}).then((e=>h+e.stats.size)).catch((()=>h))}var f=Promise.resolve((0,E.Y6)(e.data,s));if("Download"===t){var v=e.dataLength;f="number"==typeof v?Promise.resolve(v):le({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([p,f]).then((([r,o])=>{var s=me.get(a);Re.call(a,{taskType:t,options:i,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===n,dataLength:r,responseDataLength:o,response:e,profile:e.profile,queueTime:s&&s[1],uniqueId:a.uniqueId,errno:e.errno,queueLength:s&&s[2],socketReused:e.socketReused,peerIP:e.peerIP,accelerateId:(0,oe.hw)(e),jsapiVersion:a.taskInvoker?a.taskInvoker.jsapiVersion:0}),me.delete(a)})),we.set(Ee[t].taskIdMap[r],!0),Le.call(a)}};se&&"Request"===t?"normal"===(null===(l=be[r])||void 0===l?void 0:l.status)?u():"wait"===(null===(d=be[r])||void 0===d?void 0:d.status)||(be[r]={status:"wait",handlers:[u]}):u()}function Me(){var e=fe.get(this);return Ee[e].currentTaskCount>=Ee[e].maxTaskCount}function Le(){var e=fe.get(this),t=ce.get(this);delete Ee[e].taskIdMap[t],delete be[t],Ce.removeAllListeners(`${e}${t}success`),Ce.removeAllListeners(`${e}${t}fail`),Ce.removeAllListeners(`${e}${t}complete`),Ce.removeAllListeners(`${e}${t}progressUpdate`),Ce.removeAllListeners(`${e}${t}headersReceived`),Ce.removeAllListeners(`${e}${t}chunked`)}function Be(e,t){var a=Ee[e]?Ee[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};ne(e,(t=>{Ne.call(this,t,e)})),(0,r.jQ)(`on${e}TaskStateChange`,(t=>{Ne.call(this,t,e)})),Ee[e]=Object.assign(a,t)}function Fe(e,t,a){if(this.taskInvoker)this.taskInvoker.startListenTaskStateChange({stateName:t,taskId:a});else{var i=ke.get(this);i?i.add(t):(i=new Set([t]),ke.set(this,i)),(0,r.IN)(`listen${e}TaskStateChange`,{taskId:a,states:Array.from(i),noCallback:!0})}}function We(e,t,a){if(this.taskInvoker)this.taskInvoker.stopListenTaskStateChange({stateName:t,taskId:a});else{var i=ke.get(this);i&&(i.delete(t),(0,r.IN)(`listen${e}TaskStateChange`,{taskId:a,states:Array.from(i),noCallback:!0}))}}},5464:(e,t,a)=>{"use strict";a.d(t,{V:()=>o});var i=a(7445),r=a(6342),n=!1;r.default.onReady((()=>{var e;n=i.wZ&&"1"===(null===r.default||void 0===r.default||null===(e=r.default.expt)||void 0===e?void 0:e.clicfg_appbrand_android_eventcallback_after_listen)}));var o=()=>n},2030:(e,t,a)=>{"use strict";a.d(t,{N:()=>o,S:()=>s});var i=a(8171),r=a(7445),n=a(6342),o=e=>{if(r.jP)return!0;if(r.wZ)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!r.cj)return!1;if("Request"===e)if(1===Number(n.default.expt.clicfg_appbrand_ios_enable_async_create_request_task))return!0}};(0,i.PQ)((e=>{var t;t="wifi"===e.networkType?1:2,Object.keys(s).forEach((e=>{s[e].network!==t&&(s[e].needUpdateDns=!0,s[e].network=t,s[e].doingDns=!1)}))}));var s={}},7644:(e,t,a)=>{"use strict";a.d(t,{Y:()=>o});var i=a(9398),r=a(7445),n=a(4482),o=e=>{if(r.gm){var t=Object.assign({},e);t.fromSaaADataPipe=!0,t.reqData={saaaData:t.reqData,idaas_token:e.idaasSessionKey||""},(0,n.yD)(t)}else(0,i.IN)("sendSaaADataPipe",e)}},1399:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var i=null,r=new Proxy({},{get(e,t,a){if(!i)throw new Error("NativeGlobal not ready");return Reflect.get(i,t,a)},set(e,t,a,r){if(!i)throw new Error("NativeGlobal not ready");return Reflect.set(i,t,a,r)}});Foundation.onLoad((()=>{i="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const n=r},6342:(e,a,i)=>{"use strict";i.d(a,{default:()=>o});var r=()=>{n!==t&&void 0!==n&&Object.assign(n,t)},n=(()=>(t.onReady(r),t))();const o=n},4899:(e,t,a)=>{"use strict";a.d(t,{t:()=>n});var i=null,r=!1;function n(){if(!r)throw new Error("WeixinArrayBuffer not ready");return i}Foundation.onLoad((()=>{i=a.g.WeixinArrayBuffer,r=!0}))},2900:(e,t,a)=>{"use strict";a.d(t,{uC:()=>o});var i=a(9398),r={},n={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,preloadWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188,createWKVideo:1293,uploadFile:1308,gameRecorderOperateVideo:1310,gameRecorderGetVideoPath:1310,openCustomerServiceConversationDirectly:1316,plugin_shareAppMessage:1345,createLiteApp:1346,gameTransferForLiteGame:1359},o=(e,t)=>{var a=n[t];return void 0===a?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):r[e]?r[e][a]:((e=>{if(r[e])return r[e];var t={},a=Object.values(n);(0,i.IN)("getPluginPermissionBytes",{pluginList:[{indexes:a,pluginId:e}],success(i){var n=i.pluginPermissionMap;if(n&&n[e]){for(var o=0;o<n[e].length;o++){var s=a[o];t[s]=1===n[e][o]}r[e]=t}},fail(e){}})})(e),r[e]&&r[e][a])}},88:(e,t,a)=>{"use strict";a.d(t,{J:()=>_});var i,r=a(9398),n=a(6142),o=a(6342),s=a(9822),l=a(4509),d=a(3013),u=a(8246),c={},p={},h={},f=0;o.default.onReady((()=>{(0,l.J)((()=>{f=1})),(0,d.T)((()=>{f=0}))}));var v=Object.keys(s.Z).map((e=>s.Z[e])),m=(e,t)=>{for(var a=0;a<v.length;a++){var i=v[a],r=1===e[i]||4===e[i];t[i]=r}};(0,u.n)("onPermissionUpdate",(e=>{m(e.bg,c),m(e.fg,p)})),(0,u.n)("onPluginPermissionUpdate",(()=>{})),o.default.onReady((()=>{(0,r.IN)("getPermissionBytes",{indexes:v,success(e){e.permissionBytes&&e.permissionBytesForRunningStatus||e.permissionBytesForRunningStatus?((e=>{for(var t=0;t<e.length;t++){var a=v[t];c[a]=1===e[t].bg||4===e[t].bg,p[a]=1===e[t].fg||4===e[t].fg}})(e.permissionBytesForRunningStatus),i=1):e.permissionBytes&&(i=0,((e,t)=>{for(var a=0;a<e.length;a++)t[v[a]]=1===e[a]||4===e[a]})(e.permissionBytes,h))},fail(e){wxNativeConsole.error("getPermissionBytes failed",e)}})}));var _=e=>{var t,a=s.Z[e];if("number"!=typeof a)return!1;if(t=0===i?h:0===f?p:c,!(0,n.o8)(t[a]))return t[a];var o=!1;return(0,r.IN)("getPermissionBytes",{indexes:[a],success(e){e.permissionBytes&&(0===i?(o=1===e.permissionBytes[0]||4===e.permissionBytes[0],h[a]=o):(c[a]=1===e.permissionBytes[0].bg||4===e.permissionBytes[0].bg,p[a]=1===e.permissionBytes[0].fg||4===e.permissionBytes[0].fg))}}),o}},526:(e,t,a)=>{"use strict";a.d(t,{t:()=>E});var i=a(6715),r=a.n(i),n=a(6365),o=a(9806),s=a(7412),l=a(4515).MV.WX_WE_MODEL_CACHE_PATH_PREFIX.path,d=`${l}/meta.json`,u=`${l}/vocab_meta.json`,c=e=>l+"/"+e+".onnx",p=(0,s.t)(),h=(0,o.Fr)(p.readFile),f=(0,o.Fr)(p.saveFile),v=(0,o.Fr)(p.writeFile),m=(0,o.Fr)(p.access),_=(0,o.Fr)(p.unlink),g=(0,o.Fr)(p.mkdir),y=(0,o.Fr)(n.o),A=function(){var e=r()((function*(e=1){try{yield m({path:l})}catch(e){yield g({recursive:!0,dirPath:`${l}`})}try{var{data:t}=yield h({filePath:1===e?d:u,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=r()((function*(e,t,a=1,i=!1){var r={};if(!i)if(r=yield A(a)){if(r[t]&&r[t].src===e)try{return c(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else r={};var n=yield y({url:e,timeout:1e4}),o=yield f({tempFilePath:n.tempFilePath,filePath:c(t)});r[t]={src:e,update:Date.now()};var s=Date.now(),l=-1;if(Object.keys(r).length>(1===a?3:10))for(var p of Object.keys(r)){var h=r[p];h.update<s&&(s=h.update,l=p)}if(-1!==l)try{yield _({filePath:c(l)}),delete r[l]}catch(e){wxNativeConsole.error("contentCheck LRU unlink model error: ",e)}return yield v({filePath:1===a?d:u,data:JSON.stringify(r),encoding:"utf8"}),o.savedFilePath}));return function(t,a){return e.apply(this,arguments)}}()},6252:(e,t,a)=>{"use strict";a.d(t,{Zv:()=>_,BF:()=>A});var i,r=a(6715),n=a.n(r),o=a(6759),s=a(7695),l=a(9138),d=a(3945),u=a(8316),c=(a(6365),a(526)),p=function(){var e=n()((function*(e,t){return(0,c.t)(e,t)}));return function(t,a){return e.apply(this,arguments)}}(),h=(a(9370),a(1821)),f=a(1190),v=(a(3095),a(6342),(0,a(143).v)("MultiModalCheck",{noCache:!0})),m=(e,t)=>{void 0===e&&(e=[]);try{var a,i=Date.now();return e.length&&(r=t,a=e.map((e=>{var t=r[(0,u.Ht)(e.preset_data)],a=new RegExp(e.reg_exp);return{id:e.id,match:a.test(t)}}))),{regRes:a,errMsg:null,cost:Date.now()-i}}catch(e){return{errMsg:e.message,cost:-1}}var r},_=function(){var e=n()((function*(e,t,a,r,n,u,{customShape:c,isMultiModal:h,screenshotCheck:f,debug:m,preMultiDomContent:_=!1}={}){void 0===n&&(n={});var g,y=[];if(!t)return{xnetRes:null,errMsg:null,logicCost:y};try{var A=Date.now();(0,d.vZ)(2,{sessionId:e}),g=yield((e,t,a={})=>new Promise(((r,n)=>{if(i)return r(i);p(e,t).then((e=>{var t={...a};t.typicalShape||delete t.typicalShape;var s=(0,o.AS)({model:e,...t});s.onLoad((()=>{i=s,r(s)})),s.onError((e=>{i||n(e)}))})).catch((e=>{n(e)}))})))(t,a,r),(0,d.vZ)(3,{sessionId:e});var E=Date.now()-A;y.push({logic_type:2,time_cost:E})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:y}}try{var C=Date.now();if((0,d.vZ)(4,{sessionId:e}),h&&f)return v.advancePublish("requestScreenshotData",{shape:c,data:u},!0),{isMultiModal:!0};if(h){var T,I=Object.entries(r).filter((([e,t])=>"text"===t.modalType)).reduce(((e,[t,a])=>(e[t]=a,e)),{}),b=(0,l.Ds)(),w=(0,d.W6)(b,e);yield(0,s.Nc)(I,n,u,{customShape:c,debugCustomReport:w});var k=new Promise((e=>{T=e}));v.on("requestScreenshotData",(e=>{T(e)}));var S=yield k,x=Object.entries(r).filter((([e,t])=>"image"===t.modalType)).reduce(((e,[t,a])=>(e[t]=a,e)),{});yield(0,s.Nc)(x,n,S.data,{customShape:S.shape})}else _||(yield(0,s.Nc)(r,n,u,{customShape:c}));(0,d.vZ)(5,{sessionId:e});var P,D={},O=function*(){if("allowNPU"===R||"allowQuantize"===R||"typicalShape"===R)return"continue";var e,t=r[R];if(t&&t.param_ctrl&&t.param_ctrl.remove_from_model_input)return"continue";if(D[R]=r[R],m&&"image"===r[R].modalType)try{P=yield(r[R].data,r[R].shape[2],r[R].shape[3],e||Promise.resolve(""))}catch(e){}};for(var R in r)yield*O();var N=Date.now()-C;y.push({logic_type:3,time_cost:N});var M=Date.now(),L=yield g.run(D);for(var B of(g.reportCurrentResult(),Object.keys(r))){var F=r[B];F&&F.param_ctrl&&F.param_ctrl.do_report&&(L[B]=F)}var W=Date.now()-M;return y.push({logic_type:4,time_cost:W}),(0,d.vZ)(6,{sessionId:e}),{xnetRes:L,logicCost:y,multimodalScreenshotId:P}}catch(e){return wxNativeConsole.warn("xnet inference error: ",e),{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:y}}}));return function(t,a,i,r,n,o){return e.apply(this,arguments)}}(),g=1,y=!0,A=function(){var e=n()((function*(e,t,a){var i=yield(0,l.A6)(void 0,!0);if(i&&i.length){var r=g++;y&&(y=!1,(0,d.vZ)(1,{sessionId:r}));var o,s,u,c=[],{domTextPreset:p,regCheckCfg:A,taskId:E,debug:C}=i[0],T=C?__userActionTracer__.getCurrentFullyRoutePath():__userActionTracer__.getCurrentRoutePath(),I=Date.now();t||a?s=!0:t=yield((e={})=>{var t=Date.now();return new Promise(((a,i)=>{(0,h.L)("getMultiDOMContent",{types:e.types},void 0,(e=>{null!=e&&e.errMsg?i(e.errMsg):a({res:e,cost:Date.now()-t})}))}))})({types:p}),u=t;var b,w,{res:k,cost:S}=u;s&&(k=t,S=0),k.htmlId&&(b=k,k=k.domData),a?w={regRes:void 0,errMsg:void 0,cost:0}:(w=m(A,k)).errMsg&&(o=w.errMsg),c.push({logic_type:1,time_cost:w.cost});var x=!1,P=[],D=i.map(function(){var e=n()((function*(e){if(!e.asPreposition&&!e.unionMember&&(!e.isScreenshot||e.isMultiModal)){e.isMultiModal&&(x=!0);var{modelUrl:t,cfg:i,modelName:n,key:l,isMultiModal:d,runTiming:u=[]}=e;if(("modal"!==a||u.includes("at_modal"))&&("toast"!==a||u.includes("at_toast"))&&("clipboard"!==a||u.includes("at_clipboard"))){var{xnetRes:c,errMsg:p,logicCost:h,multimodalScreenshotId:v}=yield _(r,t,n,i,k,a?k:void 0,{isMultiModal:d,debug:C,preMultiDomContent:s}),m={conf_name:l,xnet_res:c,errmsg:p,logic_cost_time_list:h,multimodalScreenshotId:v};if(C){var g=[];for(var y of Object.keys(i)){var A,E=i[y],T=(0,f.sM)(E.data);(null===(A=T)||void 0===A?void 0:A.length)>2e4&&(T=T.slice(0,2e4)+":size over max"),g.push({key:y,type:E.type,shape_list:E.shape,base64_data:T})}m.debug_data={xnet_param:g}}P.push(m),p&&(o=p)}}}));return function(t){return e.apply(this,arguments)}}());if(yield Promise.all(D),P.length||w.regRes||o){var O,R=Date.now()-I;if(c.push({logic_type:5,time_cost:S}),x&&C){var N,M=new Promise((e=>{N=e}));v.on("screenshotUpload",(e=>{O=e,N()})),yield M}var L=e;"toast"===a?L=21:"modal"===a?L=22:"clipboard"===a?L=23:"loading"===a&&(L=24),(0,d.Eh)({taskId:E,xnetResList:P,regResList:w.regRes,curPath:T,runScene:L,runTime:Date.now(),costTime:R,errMsg:o,debug:C,domTextPresetData:k,blockTime:-1,logicCostList:c,contentId:x?3:1,screenShotId:O,webviewCfg:b,sessionid:r,interactionType:a})}}}));return function(t,a,i){return e.apply(this,arguments)}}()},7695:(e,t,a)=>{"use strict";a.d(t,{Nc:()=>Q,P6:()=>G});var i,r,n,o,s=a(6715),l=a.n(s),d=a(8053),u=a(9806),c=a(526),p=e=>{i=e},h=function(){var e=l()((function*(e){var t;if(!Array.isArray(i)||-1===(t=i.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:a,word_vocab_name:r,update:n}=i[t];return yield(0,c.t)(a,r,2,n)}));return function(t){return e.apply(this,arguments)}}(),f=(0,u.Fr)(d.p),v=function(){var e=l()((function*(e){if(r)return r;var t=yield h(e),a=yield f({filePath:t,encoding:"utf-8"});return r=(r=a.data).split("\n").reduce(((e,t,a)=>(e[t]=a,e)),{})}));return function(t){return e.apply(this,arguments)}}(),m=a(3095);Foundation.onLoad((()=>{o=(0,u.Fr)(m.WY)}));var _=function(){var e=l()((function*(e,t){if(!e)throw new Error("unexpected: get null ab");if(!t){t=[2.074*n,n]}var a=e;"string"==typeof e&&(a=(yield o({url:e,responseType:"arraybuffer"})).data);for(var i=Array.prototype.slice.call(new Uint8Array(a)),r=t[0],s=t[1],l=Array(r).fill(0).map((e=>[])),d=function*(e){for(var t=function*(t){var[a,r,n]=Array(3).fill(0).map(((a,r)=>i[e*s*3+3*t+r]));l[e].push([a,r,n])},a=0;a<s;a++)yield*t(a)},u=0;u<r;u++)yield*d(u);return l}));return function(t,a){return e.apply(this,arguments)}}();function g(){return(g=l()((function*(e,t,a){try{var i=e,r="";t.forEach((e=>{"dictName"===e.key&&(r=e.value),"testRet"===e.key&&(i=e.value.replaceAll("'",'"'))}));var n=yield v(r),o=a[a.length-1],s=[],l=JSON.parse(i),d=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{d(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{d(e,t)}));else if(s.length<o){var a=e;""!==a&&" "!==a||(a="empty");var i=(t+":"+a).toLowerCase();if(n[i]>=0)s.push(n[i]);else{var r=0;if((i=(a+="").toLowerCase()).length<=20)for(var l=0;l<i.length;l++)for(var u=1;u<5;u++)if(n[i.substr(l,u)]>=0){s.push(n[i.substr(l,u)]),r=1;break}0==r&&(i=(t+":other").toLowerCase(),n[i]>=0&&s.push(n[i]))}}};for(d(l);s.length<o;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}}))).apply(this,arguments)}function y(){return y=l()((function*(e,t,a){class i{constructor(){this.children={},this.idx=null}}class r{constructor(e,t){this.root=new i,this.simple=e,this.dict=t}insert(e,t){var a=this.root;for(var r of e)a.children[r]||(a.children[r]=new i),a=a.children[r];a.idx=t}segment(e){var t,a,i=[],r=[],n="",o=null,s=this.root;for(var l of e)if(s.children[l])n+=l,o=(s=s.children[l]).idx;else{var d,u,c;if(n)i.push(n),r.push(null!==(d=null!==(u=o)&&void 0!==u?u:this.dict[n])&&void 0!==d?d:this.simple?1:100);if(n="",o=null,(s=this.root).children[l])n+=l,o=(s=s.children[l]).idx;else i.push(l),r.push(null!==(c=this.dict[l])&&void 0!==c?c:this.simple?1:100)}n&&(i.push(n),r.push(null!==(t=null!==(a=o)&&void 0!==a?a:this.dict[n])&&void 0!==t?t:this.simple?1:100));return[i,r]}}try{var n,o;t.forEach((e=>{"simple"===e.key&&(n=e.value),"dictName"===e.key&&(o=e.value)})),n="true"===n,o="null"===o?null:o;var s=e;try{s=s.toLowerCase(),s=function(e){var t=["head","form","li","movable-view","navigator","br","h4","swiper","option","channel-video","rich-text","p","pre","checkbox","picker","keyboard-accessory","movable-area","h2","switch","live-pusher","em","picker-view-column","i","slider","cover-view","camera","view","label","h3","scroll-view","input","title","radio","cover-image","tr","icon","map","live-player","match-media","canvas","native-component","img","sticky-section","voip-room","text","list-view","checkbox-group","body","select","textarea","page-meta","sticky-header","ol","h1","strong","td","source","progress","page-container","a","functional-page-navigator","video","th","radio-group","div","channel-live","grid-view","ad","u","editor","navigation-bar","ul","h6","table","official-account","button","open-data","span","html","ad-custom","audio","image","swiper-item","root-portal","web-view","share-element","picker-view","h5","code"],a=new RegExp("<(\\/)?(.*?)>","g");return(e=e.replace(a,((e,a,i)=>t.includes(i)?e:" "))).replace(/\s\s+/g," ")}((e=>e.replace(/<wx-/g,"<").replace(/<\/wx-/g,"</"))(function(e){return"<html>"+(e=e.replace(/<([\w-]+)(?:\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[\w-]+))?)*\s*(\/?)>/g,"<$1$2>"))+"</html>"}(s)))}catch(e){throw e}var l,d,u={};o=n?"minivocab_html":o;try{u=yield v(o)}catch(e){throw e}try{[l,d]=function(e,t,a){var i=new r(a,t);for(var[n,o]of Object.entries(t))o<3209||i.insert(n,o);return i.segment(e)}(s,u,n)}catch(e){throw e}try{var c=a[1]-(n?0:2);if(d.length>c&&(d=d.slice(0,c)),n||(d.unshift(101),d.push(102)),d.length<c)for(;d.length<c;)d.push(0)}catch(e){throw e}return new Int32Array(d).buffer}catch(e){throw e}})),y.apply(this,arguments)}function A(){return(A=l()((function*(e,t,a){try{var i,r,n=e,o=!0;t.forEach((e=>{"startPct"===e.key&&(i=e.value),"minSeqLength"===e.key&&(r=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var s=a.reduce(((e,t)=>e*t),1);n=n.slice(n.length*i,n.length*i+s);for(var l=yield v(o?"minivocab":"alberttiny489kvocab"),d=a[0],u=a[a.length-1],c=[],p=[],h=0;h<n.length+1;h++)if("\n"===n[h]||h===n.length){if(p.length>=r){var f=u-(o?0:2);if(p.length>f&&(p=p.slice(0,f)),o||(p.unshift(101),p.push(102)),p.length<u)for(;p.length<u;)p.push(0);c.push(p)}if(p=[],c.length>=d)break}else p.push(l[n[h]]||(o?1:100));for(;c.length<d;)c.push(new Array(u).fill(0));return new Int32Array(...c).buffer}catch(e){wxNativeConsole.warn("reshape occur error:",e)}}))).apply(this,arguments)}var E,C=a(1399),T=a(6759),I="FusedResize";function b(e,t){return function(e,t){try{return{res:t(),errMsg:null}}catch(t){return wxNativeConsole.warn(`[mnxnet]: ${e} err: ${JSON.stringify(t)}`),{res:null,errMsg:(null==t?void 0:t.errMsg)||"errMsg not defined"}}}(e,(()=>E.InvokeMethod(e,null,t)))}function w(){return(new Date).getTime()}function k(){return(k=l()((function*(e,t,a){wxNativeConsole.warn("[mnxnet] resizeScreenshotRect use native impl");var i,r=.5,n=.5,o="NCHW",s=Math.min(a[0],a[1]);t.forEach((e=>{"mean"===e.key&&(r=e.value),"std"===e.key&&(n=e.value),"inputType"===e.key&&(o=e.value),"resizeType"===e.key&&e.value,"shortEdge"===e.key&&(s=e.value)}));try{E=C.Z.XInference;var l={type:"uint8",shape:[a[0],a[1],3]};wxNativeConsole.warn(`[mnxnet]: preprocess dataIn: ${JSON.stringify(l)}`),l.data=e;var d=1/(255*n),u=r/n,c=w(),p=!1;"NCHW"===o&&(p=!0),i={image:l,dstHW:[s,s],bias:[u,u,u],scale:[d,d,d],toNCHW:p};var{res:h,errMsg:f}=b("FuseProcess",i),v=w()-c;return(0,T.f5)(1,I,f,v,i,1),wxNativeConsole.warn(`[mnxnet] preprocess cost ${v} ms`),h.data.buffer}catch(e){(0,T.f5)(1,I,JSON.stringify(e),0,i,1),wxNativeConsole.warn(`[mnxnet] preprocess err: ${e}`)}}))).apply(this,arguments)}a(4500);var S="";function x(){return x=l()((function*(e,t,a){wxNativeConsole.warn("[mnxnet]: resizeScreenshotRect called");try{var i=S.includes(I);if(t.disableDipFuncList&&t.disableDipFuncList.includes(I)&&(i=!1,wxNativeConsole.warn("[mnxnet]: disable native fused resize by svr")),i&&((E=E||C.Z.XInference)||(wxNativeConsole.warn("[mnxnet]: NativeGlobal.XInference not available"),0)))return wxNativeConsole.warn("[mnxnet]: enableNativeFusedResize"),function(e,t,a){return k.apply(this,arguments)}(e,t,a);var r=(new Date).getTime(),n=.5,o=.5,s="NCHW",l=e;t.forEach((e=>{"mean"===e.key&&(n=e.value),"std"===e.key&&(o=e.value),"inputType"===e.key&&(s=e.value),"resizeType"===e.key&&e.value}));var d=yield _(l,a),u=0,c=d.length/d[0].length,p=d[0].length,h=d.length;d.length<d[0].length&&(u=1,c=d[0].length/d.length,p=d.length,h=d[0].length);var f={image:{type:"uint8",shape:[a[0],a[1],3]},dstHW:[p,p],toNCHW:"NCHW"===s},v=Math.ceil(c),m=Math.floor(v/2),g=[];if("NCHW"===s)for(var y=0;y<3;y++)for(var A=0;A<p;A++)for(var b=0;b<p;b++){var w=0,x=0,P=0;P=0===u?Math.floor(A*c):Math.floor(b*c);for(var D=0;D<v;D++){var O=P-m+D;O>=0&&O<h&&(w+=1,x+=0===u?d[O][b][y]:d[A][O][y])}w>0?g.push((x/w/255-n)/o):g.push(0)}else for(var R=0;R<p;R++)for(var N=0;N<p;N++){var M=0;M=0===u?Math.floor(R*c):Math.floor(N*c);for(var L=0;L<3;L++){for(var B=0,F=0,W=0;W<v;W++){var U=M-m+W;U>=0&&U<h&&(B+=1,F+=0===u?d[U][N][L]:d[R][U][L])}B>0?g.push((F/B/255-n)/o):g.push(0)}}var V=(new Date).getTime()-r;return(0,T.f5)(0,I,null,V,f,1),new Float32Array(g).buffer}catch(e){throw e}})),x.apply(this,arguments)}function P(){return(P=l()((function*(e,t,a){try{var i=[],r=[];t.forEach((e=>{var t=e.key,a=e.value;i.push(t),a&&a.forceReRun&&r.push(t)}));for(var n=i.length,o=yield(0,T.U7)(i,{forceRunKeys:r}),s=new Float32Array(n),l=0;l<n;++l)s[l]=o[i[l]];return s.buffer}catch(e){return wxNativeConsole.warn(`[mnxnet]: mnxnetBenchmark err: ${e}`),new ArrayBuffer(1)}}))).apply(this,arguments)}var D=function(){var e=l()((function*(e,t,a){var i,r,n,o,s=!0;if(t.forEach((e=>{"simple"===t.key&&(s="1"===t.value),"startPct"===e.key&&(i=e.value),"maxSize"===e.key&&(r=e.value-(s?0:2)),"dictName"===e.key&&(n=e.value)})),e=e.replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"").toLowerCase(),r<0){var l=e.length*i+r;l<0&&(l=0),e=e.slice(l,e.length*i)}else e=e.slice(e.length*i,e.length*i+r);n||(n=s?"minivocab":"alberttiny489kvocab");try{o=yield v(n)}catch(e){}for(var d=a[a.length-1]-(s?0:2),u=[],c=0;c<e.length&&c<d;c++)u.push(o[e[c]]||(s?1:o["[UNK]"]));if(s||(u.unshift(o["[CLS]"]),u.push(o["[SEP]"])),u.length<d)for(;u.length<d;)u.push(0);return new Int32Array(u).buffer}));return function(t,a,i){return e.apply(this,arguments)}}();function O(){return(O=l()((function*(e,t,a){try{var i=0,r=512,n=!0;t.forEach((e=>{"startPct"===e.key&&(i=e.value),"maxSeqLength"===e.key&&(r=e.value),"dictType"===e.key&&"bert"===e.value&&(n=!1)}));var o,s=e.slice(Math.floor(e.length*i),e.length);try{o=yield a.readWordDict(n?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var l=[],d=0;d<s.length;d++){var u=s[d];o[u]&&o[u]>60&&o[u]<2900&&l.push(o[u])}var c=[],p=r-(n?0:2);if(l.length>p){for(var h=0;h<l.length;h++){var f=l[h];f>270&&f<570||f>580&&f<660||f>790&&f<990||f>1100&&f<1200||f>1300&&f<1900||f>2e3&&f<2800||c.push(f)}c.length>p&&(c=c.slice(0,p))}else c=l;for(n||(c.unshift(101),c.push(102));c.length<r;)c.push(0);return new Int32Array(c).buffer}catch(e){throw e}}))).apply(this,arguments)}var R=a.g.eval,N={mnxnetBenchmark:function(e,t,a){return P.apply(this,arguments)},GetTextIdsVec:D,GetTextIdsSimple:(e,t,a)=>D(e,t,a,!0),GetTextIdsMultiDimension:function(e,t,a){return A.apply(this,arguments)},GetTrimTextProcrss:function(e,t,a){return O.apply(this,arguments)},exceptionRetProcess:function(e,t,a){return g.apply(this,arguments)},resizeScreenshotRect:function(e,t,a){return x.apply(this,arguments)},html2WordEmbedding:function(e,t,a){return y.apply(this,arguments)}},M=function(){var e=l()((function*(e,t,a,i,r,n){var o=void 0!==n?n:e[t],s=N[a];if(s)try{return yield s(o,i,r)}catch(e){throw e}return o}));return function(t,a,i,r,n,o){return e.apply(this,arguments)}}(),L=function(){var e=l()((function*(e,t,a,i,r){return new Promise(((n,o)=>{var s=n,l=o;try{B(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:a,safeEvalExecCallbackResolve:s,safeEvalExecCallbackReject:l,env:{readWordDict:v,shape:i,transformRGB:_,sdkUtils:r}})}catch(e){o(e)}}))}));return function(t,a,i,r,n){return e.apply(this,arguments)}}(),B=(e,t)=>{var a=Object.entries(t).reduce(((e,[t,a])=>(globalThis[t]=a,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");R(`(function safe_execute() {\n    'use strict';\n    ${a};\n    ${e};\n  })()`)},F=a(1190);JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}');var W=a(8316),U=a(6342),V=a(1197),H=a(3945),j=["dom_text","dom_html","dom_content","dom","screenshot"],G=()=>new Promise(((e,t)=>{var a,i,r,n;if(null!==(a=U.default.appContactInfo)&&void 0!==a&&null!==(i=a.operationInfo)&&void 0!==i&&null!==(r=i.jsonInfo)&&void 0!==r&&null!==(n=r.op_info)&&void 0!==n&&n.skip_async_secinfo)return e({close:!0});(0,V.o)().then(function(){var a=l()((function*(a){try{var i,r;if(null===(i=a.data)||void 0===i||null===(r=i.wxa_client_check)||void 0===r||!r.check_logic)return e({close:!0});a.data.wxa_client_check.check_logic&&a.data.wxa_client_check.check_logic.xnet&&p(a.data.wxa_client_check.check_logic.vocab_list),a.data.wxa_client_check.gray_pub_mode&&(0,H.sU)();var n=[];for(var o of a.data.wxa_client_check.check_logic.xnet_list){var s,l=yield $({xnet:o,reg_list:a.data.wxa_client_check.check_logic.reg_list},a.data.wxa_client_check.debug_data,a.data.wxa_client_check.debug_mode?a.data.wxa_client_check.debug_code:null);l.taskId=a.data.wxa_client_check.task_id,l.checkConfig=a.data.wxa_client_check.timing,l.debug=1===a.data.wxa_client_check.debug_mode?a.data.wxa_client_check.debug_data:null,l.debug_codes=l.debug?a.data.wxa_client_check.debug_code:null,l.runTiming=null===(s=o.sub_timing)||void 0===s?void 0:s.event_list,n.push(l)}if(!n.length&&a.data.wxa_client_check.check_logic.reg_list){var d=[];if(a.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{d.push((0,W.Ht)(e))})),d.length){var u={regCheckCfg:a.data.wxa_client_check.check_logic.reg_list,domTextPreset:d};u.taskId=a.data.wxa_client_check.task_id,u.checkConfig=a.data.wxa_client_check.timing,u.debug=1===a.data.wxa_client_check.debug_mode?a.data.wxa_client_check.debug_data:null,n.push(u)}}1===a.data.wxa_client_check.timing.at_redirect&&1,e(n)}catch(e){t(e)}}));return function(e){return a.apply(this,arguments)}}()).catch(t)})),z=[],$=function(){var e=l()((function*(e,t,a){var i,r={},{model_url:n,model_name:o,cli_param_list:s=[],svr_param_list:d=[],conf_name:u,allowNPU:c,allowQuantize:p,typicalShape:h}=e.xnet||{},f=null!==(i=e.reg_list)&&void 0!==i?i:[],v=[],m=!1,_=!1;if([...f,...s].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(_=!0),!v.includes(t)&&t&&j.includes(t)&&v.push((0,W.Ht)(t))})),n){var g={};s.forEach(((e,t)=>{var a;if(null!==(a=e.union)&&void 0!==a&&a.length){g[e.key]=e.union;var i="screenshot"!==e.preset_data,r="screenshot"===e.preset_data;e.union.forEach((t=>{"screenshot"!==s[t].preset_data?i=!0:r=!0,i&&r&&(e.isMultiModal=!0)}))}if(e.preposition){if(!s[t])throw new Error(`unexpect config: ${e.key} exist an illegal preposition`);s[t].asPreposition=!0}}));for(var y=function*(e){var t,i,n,o=s[e],{preset_data:d,pre_proc:u}=null!=o?o:{},{proc_name:c,param:p}=null!=u?u:{};r[o.key]={type:o.type||"int32",shape:o.shape_list,getData:(n=l()((function*(e,t,{customShape:i,sdkUtils:n={}}={}){var s;if(a&&-1!==(s=a.findIndex((e=>e.func_name===c)))){var l,u=a[s].code;try{l=yield L(u,void 0!==t?t:e[(0,W.Ht)(d)],p,null!=i?i:o.shape_list,n)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return l}if(r[o.key].prepositionPreHandler){var h=r[r[o.key].prepositionPreHandler];if(h){var f=yield h.getData(e,t,{customShape:i});return yield M(f,(0,W.Ht)(d),c,p,null!=i?i:o.shape_list,t)}}return yield M(e,(0,W.Ht)(d),c,p,null!=i?i:o.shape_list,t)})),function(e,t){return n.apply(this,arguments)}),prepositionPreHandler:null===(t=s[o.preposition])||void 0===t?void 0:t.key,isMultiModal:!!o.isMultiModal,modalType:"screenshot"===o.preset_data?"image":"text",param_ctrl:o.param_ctrl||{}},r[o.key].isMultiModal&&(m=!0),Object.keys(g).forEach((t=>{if(-1!==g[t].indexOf(e)){var a;if(null!==(a=o.union)&&void 0!==a&&a.length)throw new Error(`unexpect config: unionsponsor: ${o.key} is also the unionmember`);r[o.key].unionMember=!0}})),null!==(i=o.union)&&void 0!==i&&i.length&&(r[o.key].unionMembers=o.union.map((e=>({key:s[e].key,ready:!1}))))},A=0;A<s.length;A++)yield*y(A);d.forEach((e=>{r[e.key]={type:e.type,shape:e.shape_list,data:(0,F.RG)(e.base64_data)}}))}z.push(...v),z=Array.from(new Set(z));var E=[];_||z.forEach((e=>{6!==e&&7!==e&&8!==e||E.push(e)}));var C=!1;return(z=z.filter((e=>!(6===e||7===e||8===e)))).length||(C=!0),{onlyInteractionCheck:C&&!_,modelName:o,model:n,config:r,domTextPreset:z,interactionPreset:E,regCheckCfg:f,key:u,cliParamList:s,isScreenshot:_,isMultiModal:m,allowNPU:!!c,allowQuantize:!!p,typicalShape:h}}));return function(t,a,i){return e.apply(this,arguments)}}(),Q=function(){var e=l()((function*(e,t,a,{customShape:i,debugCustomReport:r}={}){for(var n of Object.values(e))"function"==typeof n.getData&&(n.data=yield n.getData(t,a,{customShape:i,sdkUtils:{debugCustomReport:r}}));return e}));return function(t,a,i){return e.apply(this,arguments)}}()},1197:(e,t,a)=>{"use strict";a.d(t,{o:()=>h});var i=a(6715),r=a.n(i),n=a(9398),o=a(8326),s=a(6342),l=a(6227),d=a(7445),u=a(2786),c=null,p="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown";var h=function(){var e=r()((function*(){return yield l.v8,c||(c=(0,d.tK)()?Promise.resolve({data:{}}):new Promise(((e,t)=>{var a=(0,l.Q1)();if((0,u._F)())(0,u.CP)({id:u.GY.getSecInfo,success:t=>{e(t)},fail:t});else{var i=(0,o.$)();(0,n.yD)({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:{client_version:s.default.clientVersion,pub_version:p,performance:i,instance_id:s.default.appLaunchInfo.sessionid||s.default.appLaunchInfo.sessionId,...a?{xnet_conf_list:[a]}:{}},success:t=>{e(t)},fail:t})}})))}));return function(){return e.apply(this,arguments)}}()},9138:(e,t,a)=>{"use strict";a.d(t,{A6:()=>h,Ds:()=>d});var i,r,n,o=a(6715),s=a.n(o),l=(a(7445),a(7695)),d=()=>i,u=!1,c=new Promise((e=>n=e)),p=function(){var e=s()((function*(){if(!r&&!u){u=!0;try{var e=yield(0,l.P6)();if(!Array.isArray(e))return n(!1);e=e.map((e=>{var{model:t,config:a,checkConfig:n,domTextPreset:o,regCheckCfg:s,modelName:l,taskId:d,debug:u,key:c,cliParamList:p,isScreenshot:h,isMultiModal:f,typicalShape:v,allowQuantize:m,allowNPU:_,onlyInteractionCheck:g,interactionPreset:y,runTiming:A}=e,{after_load_interval:E,after_load_maxcnt:C,at_redirect:T,most_cnt:I}=null!=n?n:{};return a.allowQuantize=m,a.allowNPU=_,a.typicalShape=v,(r={}).mostCnt=I,r.currentCnt=0,r.afterLoadInterval=E,r.afterLoadMaxCnt=C,r.atRedirect=T,r.modelUrl=t,r.cfg=a,r.domTextPreset=o,r.regCheckCfg=s,r.modelName=l,r.taskId=d,r.debug=u,r.key=c,r.cliParamList=p,r.isScreenshot=h,r.isMultiModal=f,r.typicalShape=v,r.allowNPU=_,r.allowQuantize=m,r.interactionPreset=y,r.onlyInteractionCheck=g,r.runTiming=A,i=d,r})),n(e)}catch(e){n(null)}}}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=s()((function*(e,t=!1){p();var a=yield c;return a?t?a:e?a.find((t=>t.key===e)):a[0]:null}));return function(t){return e.apply(this,arguments)}}()},3945:(e,t,a)=>{"use strict";a.d(t,{Eh:()=>u,W6:()=>p,sU:()=>l,vZ:()=>c});var i=a(9398),r=a(1190),n=a(8316),o=a(9138),s=!1,l=()=>s=!0,d=1,u=({taskId:e,xnetResList:t,regResList:a,curPath:o,runScene:s,runTime:l,costTime:u,errMsg:c,debug:p,domTextPresetData:h,blockTime:f,logicCostList:v,specialCase:m,contentId:_,screenShotId:g,webviewCfg:y,sessionid:A,interactionType:E})=>{var C=[],T=[];Array.isArray(t)&&t.forEach((e=>{var t=e.multimodalScreenshotId;t&&T.push(t);var a=e.xnet_res;if(a){var i=[];for(var n of Object.keys(a)){var o=a[n];i.push({key:n,type:o.type,shape_list:o.shape,base64_data:(0,r.sM)(o.data)})}e.xnet_res=i,C.push(e)}else C.push(e)}));var I={task_id:e,xnet_res_list:C,reg_res_list:a,cur_path:o,run_scene:s,run_time:l,cost_time:u,errmsg:c,block_time:f,logic_cost_time_list:v,special_case:m,content_type:_,webview_url:null==y?void 0:y.webviewUrl,report_id:d++,sessionid:A,report_time:Date.now()};if(2===_)I.debug_data={preset_data_list:[{key:"screenshot",value:p}]};else if(Array.isArray(p)){var b=[];h&&p.forEach((e=>{if("modal"===e||"toast"===e||"clipboard"===e){if(e!==E)return;b.push({key:e,value:h})}else"screenshot"===e?b.push({key:e,value:g}):b.push({key:e,value:h[(0,n.Ht)(e)]})})),T.length&&T.forEach((e=>{b.push({key:"screenshot_preprocessor",value:e})})),I.debug_data={preset_data_list:b}}(0,i.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:I})},c=(e,t={})=>{if(s){var a=(0,o.Ds)(),r=t.sessionId;r&&delete t.sessionId;var n={task_id:a,xnet_moment:e,...t,sessionid:r,report_id:d++,report_time:Date.now()};(0,i.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:n})}},p=(e,t)=>a=>{(0,i.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:{task_id:e,sessionid:t,pre_proc_log:a,report_id:d++}})}},8316:(e,t,a)=>{"use strict";a.d(t,{Ht:()=>r});var i={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5,modal:6,toast:7,loading:8},r=e=>i[e]},5436:(e,t,a)=>{"use strict";a.d(t,{Q:()=>r});var i=a(6142);class r{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){(0,i.mf)(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var a=this.eventMap.get(e);"function"!=typeof t?null==a||a.clear():null==a||a.delete(t)}emit(e,...t){var a=[...this.eventMap.get(e)||[]],i=`at ${this.type}${e} callback function`;a.forEach((e=>this.surround?((e,t,...a)=>{if("undefined"!=typeof __errorTracer__)__errorTracer__.surroundThirdByTryCatch(e,t)(...a);else if("undefined"!=typeof __subContextEngine__)__subContextEngine__.surroundThirdByTryCatch(e,t)(...a);else try{e(...a)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}})(e,i,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}},7445:(e,t,a)=>{"use strict";a.d(t,{$c:()=>h,Ae:()=>u,DD:()=>c,HI:()=>T,KU:()=>g,LU:()=>E,Mq:()=>d,RF:()=>y,aI:()=>_,cj:()=>s,er:()=>m,fs:()=>v,gm:()=>n,iw:()=>r,jP:()=>f,qB:()=>l,tK:()=>C,wZ:()=>o});var i=a(6342),r=(()=>i.default.platform)(),n=(()=>"devtools"===r)(),o=(()=>"android"===r)(),s=(()=>"ios"===r)(),l=(()=>"windows"===r)(),d=(()=>"mac"===r)(),u=(()=>"mina"===r)(),c=(()=>l||d)();var p=(e=>null===(e=i.default.host)||void 0===e?void 0:e.env)(),h=(()=>"SAAASDK"===p)(),f=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function v(){return a.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function m(){var e=i.default.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function _(){return!1}var g=(()=>!1)();function y(){return 0===i.default.appType}var A=[0,1,2,3,5,6,8,9,10,11,12,13];function E(){return A.includes(i.default.appType)}function C(){return 7===i.default.appType}function T(){return 10===i.default.appType}},1591:(e,t,a)=>{"use strict";a.d(t,{i:()=>r,l:()=>i});class i extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class r extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}},9766:(e,t,a)=>{"use strict";a.d(t,{s:()=>s});var i=a(9661),r=(()=>new i.Z({maxListeners:20,newListener:!1}))(),n=(()=>new i.Z({maxListeners:30,newListener:!1}))();var o={};function s(e){if(e=e[0].toUpperCase()+e.slice(1),!o[e]){var t=new WeakMap;o[e]={getGlobalListeners:()=>r.listeners(e),getInternalListeners:()=>n.listeners(e),emit:(...t)=>{n.emit(e,...t),r.emit(e,...t)},emitGlobal:(...t)=>{r.emit(e,...t)},emitInternal:(...t)=>{n.emit(e,...t)},internalOnMethod:(t,a={})=>{"function"==typeof t&&(a.prepend?a.once?n.prependOnceListener(e,t):n.prependListener(e,t):a.once?n.once(e,t):n.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&n.off(e,t)},onMethod:a=>{var i=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):__errorTracer__.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,a);if(i){if(t.has(a)){var n=t.get(a);n.push(i),t.set(a,n)}else t.set(a,[i]);r.on(e,i)}},offMethod:a=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,a))if(a){if(t.has(a)){t.get(a).forEach((t=>r.off(e,t))),t.delete(a)}}else t=new WeakMap,r.removeAllListeners(e)}}}return o[e]}},9661:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=20;function n(){this._events={},this._conf&&o.call(this,this._conf)}function o(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:r,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=r}function s(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function l(e){this._events={},this._newListener=!1,this._removeListener=!1,o.call(this,e)}l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,a){return this._many(e,1,t,a),this},l.prototype.many=function(e,t,a){return this._many(e,t,a,!1)},l.prototype.prependMany=function(e,t,a){return this._many(e,t,a,!0)},l.prototype._many=function(e,t,a,i){var r=this;if("function"!=typeof a)throw new Error("many only accepts instances of Function");function n(){return 0==--t&&r.off(e,n),a.apply(this,arguments)}return n._origin=a,this._on(e,n,i),r},l.prototype.emit=function(){this._events||n.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,a,i,r,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];for(i=0,a=o.length;i<a;i++)switch(this.event=e,s){case 1:o[i].call(this,e);break;case 2:o[i].call(this,e,arguments[1]);break;case 3:o[i].call(this,e,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}}if("function"==typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),r=1;r<s;r++)t[r-1]=arguments[r];o.apply(this,t)}return!0}if(o&&(o=o.slice()),o&&o.length){if(s>3)for(t=new Array(s-1),r=1;r<s;r++)t[r-1]=arguments[r];for(i=0,a=o.length;i<a;i++)switch(this.event=e,s){case 1:o[i].call(this);break;case 2:o[i].call(this,arguments[1]);break;case 3:o[i].call(this,arguments[1],arguments[2]);break;default:o[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||n.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,a,i,r,o,s=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),r=1;r<l;r++)t[r]=arguments[r];for(i=0,a=this._all.length;i<a;i++)switch(this.event=e,l){case 1:s.push(this._all[i].call(this,e));break;case 2:s.push(this._all[i].call(this,e,arguments[1]));break;case 3:s.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[i].apply(this,t))}}if("function"==typeof(o=this._events[e]))switch(this.event=e,l){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),r=1;r<l;r++)t[r-1]=arguments[r];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),l>3)for(t=new Array(l-1),r=1;r<l;r++)t[r-1]=arguments[r];for(i=0,a=o.length;i<a;i++)switch(this.event=e,l){case 1:s.push(o[i].call(this));break;case 2:s.push(o[i].call(this,arguments[1]));break;case 3:s.push(o[i].call(this,arguments[1],arguments[2]));break;default:s.push(o[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,a){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||n.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),a?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,s.call(this,this._events[e].length,e))):this._events[e]=t,this},l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var a,r=[];if(!this._events[e])return this;a=this._events[e],r.push({_listeners:a});for(var n=0;n<r.length;n++){if(a=r[n]._listeners,i(a)){for(var o=-1,s=0,l=a.length;s<l;s++)if(a[s]===t||a[s].listener&&a[s].listener===t||a[s]._origin&&a[s]._origin===t){o=s;break}if(o<0)continue;return this._events[e].splice(o,1),0===a.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(a===t||a.listener&&a.listener===t||a._origin&&a._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var a=Object.keys(t);for(var i in a){var r=a[i],n=t[r];n instanceof Function||"object"!=typeof n||null===n||(Object.keys(n).length>0&&e(t[r]),0===Object.keys(n).length&&delete t[r])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,a=0,i=0;if(e&&this._all&&this._all.length>0){for(a=0,i=(t=this._all).length;a<i;a++)if(e===t[a])return t.splice(a,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(a=0,i=t.length;a<i;a++)this.emit("removeListenerAny",t[a]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||n.call(this),this):(this._events&&delete this._events[e],this)},l.prototype.listeners=function(e){return this._events||n.call(this),this._events[e]||(this._events[e]=[]),i(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]};const d=l},1708:(e,t,a)=>{"use strict";a.d(t,{k:()=>n,n:()=>o});var i="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",r="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";"string"==typeof i&&(i=i.replace(" ","")),"string"==typeof r&&(r=r.replace(" ","-"));var n=()=>i,o=()=>r},5933:(e,t,a)=>{"use strict";a.d(t,{HM:()=>n,bq:()=>o});var i=a(9766),r=(a(9105),(0,i.s)("lifeCycle:AppRoute")),n=r.internalOnMethod,o=r.internalOffMethod;r.offMethod},9822:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});const i={requestPayment:57,setNavigationBarRightButton:238,requestVirtualPayment:285,setCookies:502,getCookies:503,openBizProfile:560,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,shareImageMessage:801,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,private_chooseInvoiceTitleDirectly:932,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,plugin_launchApplicationDirectly_operateDirectly:1009,publishWeChatState:1014,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,userObRecording:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235,skipDomainCheck:1266,previewImageLocal:1257,useGameCoverCodeCache:1272,private_createVestUser:1279,openMedicalInsuranceService:1288,openBusinessView:1295,choosePhoneNumberAreaCode:1273,useMagicBrushFrame:1299,returnWebviewUrlNotInBizDomainList:1298,disablePrivacyOfficialPopup:1305,operateTingAudio:1319,startQuotaControl:1329,skipDomainCheck_downloadFile:1335,skipDomainCheck_uploadFile:1336,skipDomainCheck_socket:1337,aiadBanCache:1343,aiadOnlyUsePreviewCache:1344,skipCheckCommercialWxaEncryptLicense:1364,canOpenEmbeddedMiniProgramAfterPayment:1365,useAiAdPreviewAdForm:1369,forceUsePreloadVersion:1376,isLiteGame:1375,getSCLAdapterForPlugin:1380,getElementPickerForPlugin:1381,startScreenShotForPlugin:1382,enableAiAdMultiAd:1387,aiadEnablePreviewVisionOptimize:1388,operateWXDataQuic:1390,aiadUsePreviewAdType:1392,skipWorkerProtect:1396,aiadEnableVisionShelterIdentify:1397,aiadUseDynamicUsrCache:1404,aiadUseSingleVersionConfiguration:1405,aiadEnablePreviewInterstitialAd:1419,aiadUseIncrementalWrite:1420,aiadDisableQuickLoad:1421,getPlayableViewAPI:1422,aiadBanner2CustomFeedback:1423,aiadExceptAlgoVersionFallback:1424,openUrlByExtBrowser3:1425,requestCommonPaymentForPlugin:1429,aiadDelayRuntimeComputed:1428,enableCacheAiadMetaInfos:1434,enableCacheAiadInterstitial:1435,openGameDetail:1438,aiadVisionUseGrayInput:1440}},4317:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i});class i{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new i((t=>t(e)))}static reject(e){return new i((()=>{throw e}))}}},143:(e,t,a)=>{"use strict";a.d(t,{v:()=>r});var i={},r=(e,t={})=>{if(!i[e]||t.noCache){var a={},r={},o={},s={on:(t,i)=>{a[t]&&wxNativeConsole.warn(`基础库分包 ${e} on event: ${t} has subscribe listener`),a[t]=i,o[t]&&(o[t].forEach((e=>{i(e)})),delete o[t])},subscribe:(t,i)=>{a[t]&&wxNativeConsole.warn(`基础库分包 ${e} subscribe event: ${t} has on listener`),r[t]||(r[t]=[]),r[t].push(i),o[t]&&(o[t].forEach((e=>{i(e)})),delete o[t])},publish:(e,t)=>{var i,n;return(i=a[e])?(i(t),!0):!!(n=r[e])&&(n.forEach((e=>e(t))),!0)},advancePublish:(e,t,a=!1)=>{(a?s.publish(e,t):n(e,t))||(o[e]||(o[e]=[]),o[e].push(t))},off:e=>{a[e]=null}};return i[e]=s,s}wxNativeConsole.warn(`已经存在分包EM ${e}`)},n=(e,t,a,r)=>{var n=i[e];n&&(r?n.advancePublish(t,a):n.publish(t,a))}},7641:(e,a,i)=>{"use strict";i.d(a,{Z:()=>ms});var r=i(5310),n=i(7351),o=i(4599),s=i(6365),l=i(9398),d=i(9661),u=i(2219),c=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],p=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],h=i(9137),f=i(6342),v=i(8246),m=(e,t)=>{((e,t,a)=>{a&&(0,v.n)(e,t)})(e,t,"undefined"==typeof IS_SDK_PACKAGE)},_={uuid:2e5,increase(){return this.uuid++}},g=new d.Z({maxListeners:2e5}),y="portrait",A="";f.default.onReady((()=>{y=f.default.deviceOrientation||y,A=(0,u.Oo)().model||""}));var E=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class C{constructor({parentId:e=0,id:t=_.increase(),style:a={},props:i={},name:r=""}={}){var n=f.default.platform;this.parentId=e,this.dest=0,this.id=t,this.name=r,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.autoLayout=!0,this.readyResult=new Promise((e=>{this.on("ready",e)})),a=Object.assign({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0},a),Object.assign(a,a[y]);var o=/iphone x/.test(A.toLowerCase())?"iphone x":n;Object.assign(a,a[o]),Object.assign(a,a[`${o}-${y}`]),this.style={},this.computedStyle=Object.assign({},a),this.lastComputedStyle=Object.assign({},a),this.layoutBox=null,Object.keys(a).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>a[e],set:t=>{if(t!==a[e]&&void 0!==t){if(a[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==c.indexOf(e)&&this.style.scale){var i=t*this.style.scale;this.computedStyle[e]=i,this.lastComputedStyle[e]=i}"scale"===e&&c.forEach((e=>{a[e]&&(this.computedStyle[e]=a[e]*t,this.lastComputedStyle[e]=a[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?((0,h.cM)(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),p.forEach((e=>{this.computedStyle[e]=0}))):((0,h.cM)(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),p.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),c.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),a.hidden&&p.forEach((e=>{this.computedStyle[e]=0})),Object.keys(i).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>i[e],set:t=>{t!==i[e]&&(i[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var a=0,i=0;try{a=this.layoutBox.left,i=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var r=Object.assign({},t);r.x+=a,r.y+=i,this.parent.emit(e,r)}else{var n=t.map((e=>({x:e.x+a,y:e.y+i})));this.parent.emit(e,n)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:a}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:a+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){g.emit(E(e,this.id),t)}on(e,t){g.on(E(e,this.id),t)}once(e,t){g.once(E(e,this.id),t)}off(e,t){g.off(E(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.autoLayout&&this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=E(e,this.id);g.removeAllListeners(t)}))}}var T=e=>{var{id:t}=JSON.parse(e.data);g.emit(E("click",t))};m("onTextViewClick",T),m("onImageViewClick",T),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();m(e,(e=>{try{if(e.data){var{id:a}=JSON.parse(e.data);g.emit(E(t,a),e.touch||e.touches)}else g.emit(E(t,e.viewId),e.touch||e.touches)}catch(e){}}))}));var I=i(7445),b=i(6347),w=["game.weixin.qq.com"],k=new Map,S=new WeakMap;function x({htmlId:e}){var t=k.get(e);t&&t.onload&&setTimeout(t.onload)}function P({htmlId:e,errcodeCode:t,description:a,src:i}){var r=k.get(e);r&&r.onerror&&setTimeout(r.onerror({errcodeCode:t,description:a,src:i}))}function D({name:e,arg:t,htmlId:a}){"postMessage"===e?k.forEach((({onmessage:e},i)=>{a&&a!==i||e&&setTimeout((()=>e(t)))})):0!==e.indexOf("XLogManager.")&&"reportKeyValue"!==e&&"getSDKVersion"!==e||k.forEach(((i,r)=>{var n;if(!a||a===r){var o=k.get(r),s=null===(n=S.get(o))||void 0===n?void 0:n.urlObj;if(s&&w.includes(s.host))if(0===e.indexOf("XLogManager.")){var l=e.split(".")[1];wxNativeConsole[l](t)}else"reportKeyValue"===e&&Reporter.reportKeyValue(t)}}))}f.default.onReady((()=>{(0,I.aI)()&&((0,v.n)("onWebViewError",P),(0,v.n)("onWebviewFinishLoad",x),(0,v.n)("onWebInvokeAppService",D),(0,v.n)("WEB_INVOKE_APPSERVICE",D))}));var O={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},R={sampleEventList:[]},N=new Map;function M(e,t){if((0,I.aI)()){var a=function(e){return R.sampleEventList.find((t=>e===t.event))}(e);if(a){var i=Date.now(),r=N.get(a);if(a.sample_interval_seconds,(i-r)/1e3<a.sample_interval_seconds)return;(0,l.IN)("reportCanvasData",{eventInfo:JSON.stringify(a),viewId:t>0?t:0,noCallback:!0,success(){N.set(a,i)},fail({errMsg:e}){}})}}}var L=i(9105),B=i(2805),F=i(5125),W=i(7758),U=i(4509);(0,W.bm)((e=>{e.timeStamp,!0})),(0,U.J)((()=>{0,!1}));var V=()=>{Date.now(),!0},H=i(2422),j=i(8171),G=i(6715),z=i.n(G),$=i(6252),Q=(i(9138),i(3095)),Y=!1,q=()=>Y,Z=(e,t,a)=>{t&&((0,$.BF)(11,{res:e,cost:-1}),setTimeout((()=>Z(e,t-1,a)),a))},K=0,X=0;new Set;(0,v.n)("onDumpWebviewDom",(e=>{(e=JSON.parse(e)).domData={1:e.innerText,2:e.innerHTML,3:e.textContent},(0,l.IN)("setAcquireWebviewDom",{enableAcquireWebviewDom:!1}),Z(e,K,X)}));var J=[],ee=e=>{J.push(e)},te=i(9766),ae=i(9370),ie=function(e){return e[e.Untranslate=0]="Untranslate",e[e.Translating=1]="Translating",e[e.Translated=2]="Translated",e[e.Reset=3]="Reset",e}(ie||{}),re=ie.Untranslate,ne="en",oe=(new Map,{tabBarList:[],navigationBarTitleText:"",toastMap:new Map,modalMap:new Map,actionSheetMap:new Map,mapMarkersIOS:new Map,mapMarkersAndroid:new Map}),se=function(e){return e.tabBar="tabBarList",e.navigationBar="navigationBarTitleText",e.toast="toastMap",e.modal="modalMap",e.actionSheet="actionSheetMap",e.mapMarkersIOS="mapMarkersIOS",e.mapMarkersAndroid="mapMarkersAndroid",e}(se||{});function le(e,t,a){if(re!==ie.Untranslate){var i={};a.forEach((e=>{Object.prototype.hasOwnProperty.call(t,e)&&""!==t[e]&&(i[e]=t[e])})),e in oe&&Array.isArray(oe[e])&&oe[e].push(i),e in oe&&oe[e]instanceof Map&&oe[e].set(t.id,i)}}function de(e,t){re!==ie.Untranslate&&(e in oe&&Array.isArray(oe[e])&&oe[e].pop(),void 0!==t&&e in oe&&oe[e]instanceof Map&&oe[e].delete(t))}var ue=(0,te.s)("NavigationBarTitleUpdate"),ce=(ue.internalOnMethod,i(5933)),pe="#000000",he="#ffffff";function fe(e){var t=(f.default.appContactInfo||{}).operationInfo||{};if(t.jsonInfo&&t.jsonInfo.op_info&&1===Number(t.jsonInfo.op_info.gray_flag)&&!(0,I.aI)()&&!(0,I.tK)()){var a=/^#([0-9|A-F|a-f]{6})$/.exec(e);if(null!=a){var i=parseInt(a[1].slice(0,2),16),r=parseInt(a[1].slice(2,4),16),n=parseInt(a[1].slice(4),16),o=Math.round(.299*i+.587*r+.114*n).toString(16).toUpperCase();(0,l.IN)("setNavigationBarColor",{frontColor:he,backgroundColor:`#${o}${o}${o}`})}}}f.default.onReady((()=>{(0,ce.HM)((()=>{if(void 0!==f.default&&f.default.global&&f.default.global.window){var e=f.default.global.window;pe=e.navigationBarBackgroundColor||pe,he="black"===e.navigationBarTextStyle?"#000000":"#ffffff"}var t=F.Z.lastRoute+".html";if(void 0!==f.default&&f.default.page&&f.default.page[t]&&f.default.page[t].window){var a=f.default.page[t].window;pe=a.navigationBarBackgroundColor||pe,he="black"===a.navigationBarTextStyle?"#000000":"#ffffff"}fe(pe)}))}));(0,ce.HM)((e=>{setTimeout((()=>{try{f.default.tabBar.list.some((({pagePath:t})=>t.startsWith(e.path)))}catch(e){}}),100)}));f.default.onReady((()=>{f.default.tabBar&&f.default.tabBar.list||[]}));var ve=(e,t,a)=>{if(re!==ie.Untranslate){var i={};switch(e){case se.modal:case se.toast:i=JSON.parse(JSON.stringify(oe[e].get(t)));break;case se.actionSheet:var r=oe[e].get(t);r.itemList&&r.itemList.length&&r.itemList.forEach(((e,t)=>{i[`item${t}`]=e})),Object.prototype.hasOwnProperty.call(r,"alertText")&&(i.alertText=null==r?void 0:r.alertText),Object.prototype.hasOwnProperty.call(r,"id")&&(i.id=r.id)}var n=Object.keys(i).filter((e=>"id"!==e));if(n.length){var o=[],s=[],d=0;if(n.forEach((e=>{var t=i[e].replaceAll("\\n","").replaceAll("\n","");(10===s.length||d+t.length>2e3&&d>0)&&(o.push({text:s.join("\n")}),s=[],d=0),s.push(t),d+=t.length})),s.length&&o.push({text:s.join("\n")}),o.length)try{(0,l.yD)({apiName:"webapi_getwxatranslatedmsg",reqData:{item_list:o,to_lang:ne,path:""},success:t=>{var r=t.data.item_list.map((e=>e.text.replace(/\n$/,"").split("\n"))).flat();if(r.length===n.length&&n.forEach(((e,t)=>{""!==r[t]&&(i[e]=r[t])})),a)switch(e){case se.modal:case se.toast:a(i);break;case se.actionSheet:var o=Object.assign({},i),s=/^item\d+$/,l=[];Object.keys(o).forEach((e=>{Object.prototype.hasOwnProperty.call(o,e)&&s.test(e)&&(l.push(o[e]),delete o[e])})),o.itemList=l,a(o)}},fail:e=>{(0,l.IN)("showToast",{icon:"error",title:"translation meets frequency limit, please slow down and try again",duration:1e3}),wxNativeConsole.error("[operateWXData] webapi_getwxatranslatedmsg failed: ",e)}})}catch(e){wxNativeConsole.error("invoke webapi_getwxatranslatedmsg error: ",e)}}}},me=0,_e=0,ge=(0,te.s)("onNativeUi");ge.internalOnMethod,ge.internalOffMethod;function ye(e,t){try{ge.emit({type:e,payload:t})}catch(e){}}var Ae=(e={},a=!1)=>{var i={id:_e,title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==t.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==t.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:"",upper:!1};if(_e++,i=(0,B.l7)(i,e),(0,l.r3)("showModal",i,{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var r=!1;if(e.__sdk_inner_allowShowMoreLength__&&(r=!0),!r&&i.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)(0,l.YG)("showModal",e,"confirmText length should not larger than 4 Chinese characters");else if(!r&&i.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)(0,l.YG)("showModal",e,"cancelText length should not larger than 4 Chinese characters");else{var n=__userActionTracer__.getCurrentRoutePath(),o=(0,j.PL)();le("modalMap",i,["id","title","content","confirmText","cancelText","placeholderText"]),ve("modalMap",i.id,Ee),ye("showModal",i),(0,l.IN)("showModal",i,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),I.cj?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel),ye("closeModal",{...e,...i}),V()},beforeAll(){!0},afterAll(){if(!1,de("modalMap",i.id),i.title){var e=q();e?setTimeout((()=>{e("modal",{content:i.content,title:i.title,networkType:(0,j.PL)()})})):!1===e&&ee((e=>{e("modal",{content:i.content,title:i.title,networkType:(0,j.PL)()})}))}(0,H.yY)({apiName:"showModal",content:i.content,title:i.title,routePath:n,networkType:o})}})}}},Ee=(e={})=>{(0,l.IN)("updateModal",e)},Ce=1,Te=!1,Ie=(e={},t=!1)=>{if(!Te||t){var a={id:me,duration:1500,title:"",icon:"success",mask:!1};if(me++,a=(0,B.l7)(a,e),e.image&&(a.image=(0,L.sd)(F.Z.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(a.icon)<0&&(a.icon="success"),"none"===a.icon&&(a.icon=""),(0,l.r3)("showToast",a,{duration:1,title:"",icon:""})){if(Ce++,t&&(Te=!0),setTimeout((()=>{!1,t&&(Te=!1)}),a.duration),a.maskAll=!1,le("toastMap",a,["id","title"]),ve("toastMap",a.id,we),ye("showToast",a),(0,l.IN)("showToast",a,{afterAll(){de("toastMap",a.id)}}),wxNativeConsole.warn("defaultArgs.icon: ",a.icon,a.title),"success"!==a.icon&&a.title){var i=q();i?setTimeout((()=>{i("toast",{title:a.title,networkType:(0,j.PL)()})})):!1===i&&(wxNativeConsole.warn("registerInterenceTask"),ee((e=>{e("toast",{title:a.title,networkType:(0,j.PL)()})})))}"success"!==a.icon&&setTimeout((()=>{(0,H.yY)({apiName:"showToast",title:a.title,networkType:(0,j.PL)(),routePath:__userActionTracer__.getCurrentRoutePath()})}))}}},be=(e={})=>Ie(e),we=(e={})=>{(0,l.IN)("updateToast",e)},ke=i(2786),Se=!1,xe=null;f.default.onReady((()=>{(0,I.aI)()&&((0,ke._F)()?(0,ke.AL)({id:ke.GY.getadcardbalance,success:e=>{null!=e&&e.data&&(Se=!e.data.errCode)}}):setTimeout((()=>{(0,l.yD)({apiName:"webapi_getadcardbalance",success({data:e}){Se=!e.errCode}})}),3e3))}));var Pe=i(4856),De=e=>({feedId:e.export_id,nonceId:e.nonce_id,description:e.description,playbackState:e.playback_state,status:e.status,headUrl:e.head_url,nickname:e.nickname,replayStatus:e.replay_status}),Oe=e=>{if("number"!=typeof e)return 1;var t=Math.floor(e/1e3);return t>0?t:1},Re=(0,l.TG)("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:a,startTime:i,endTime:r})=>{var n={jsapi:a,export_id:e,finder_username:t};return"number"==typeof i&&"number"==typeof r&&(n.start_time=i,n.end_time=r),n}),(e=>{var t;if(null!==(t=e.live_info)&&void 0!==t&&t.length){var[a,...i]=e.live_info;Object.assign(e,De(a)),e.otherInfos=i.map(De)}delete e.live_info})),Ne="getChannelsLiveInfo";var Me=(0,te.s)("lifeCycle:BeforeAppRoute"),Le=(Me.internalOnMethod,Me.internalOffMethod,Me.offMethod,(0,te.s)("lifeCycle:BeforePageLoad")),Be=(Le.offMethod,(0,te.s)("lifeCycle:AfterPageLoad")),Fe=(Be.offMethod,(0,te.s)("lifeCycle:BeforePageUnload")),We=(Fe.offMethod,(0,te.s)("lifeCycle:AfterPageUnload")),Ue=(We.offMethod,new Map,(0,te.s)("lifeCycle:AppRouteDone")),Ve=Ue.internalOnMethod,He=(Ue.internalOffMethod,Ue.offMethod,[]),je=null,Ge=null,ze=!1,$e=[],Qe=!1,Ye="",qe=0,Ze=0,Ke=e=>{je=e;var t=!1,a=!0;e.deviceOrientation!==Ye&&(t=!0),e.size.windowWidth!==qe&&(t=!0),e.size.windowHeight!==Ze&&(t=!0),(e=>{e.deviceOrientation&&(Ye=e.deviceOrientation),qe=e.size.windowWidth,Ze=e.size.windowHeight})(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(Qe=!0),"auto"===e.pageOrientation.originalPageOrientation||Qe||(t=!1,a=!1)),void 0!==ae.hr&&ae.hr.isFramesetMode()&&(a=!1),t&&(ze=!0);var i=e.changedWebviewIds;a&&i&&i.forEach((e=>{$e.indexOf(e)<0&&$e.push(e)})),Ge||(Ge=setTimeout((()=>{Ge=null;var e=ze;ze=!1;var t=$e;$e=[];var a={deviceOrientation:je.deviceOrientation,size:je.size};e&&He.forEach((e=>{__errorTracer__.surroundThirdByTryCatch(e,"at onWindowResize callback function")(a)})),t.forEach((e=>{var t=void 0!==ae.hr?ae.hr.getPageByWebviewId(e):null;t&&__errorTracer__.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",a)}),"at Resize callback function")()}))}),16))};(0,v.n)("onViewDidResize",(e=>{Ke(e)}));var Xe=(0,te.s)("AudioInterruptionBegin"),Je=(Xe.onMethod,Xe.offMethod,(0,te.s)("AudioInterruptionEnd")),et=(Je.onMethod,Je.offMethod,Je.internalOnMethod,Je.internalOffMethod,i(1399)),tt=i(6142),at=void 0,it=!1;function rt(){return new at}Foundation.onLoad((()=>{at=et.Z&&et.Z.WXAUDIO?et.Z.WXAUDIO:et.Z&&et.Z.AudioContext?et.Z.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,it=!0}));var nt=i(8053),ot=i(4317),st=i(872),lt=i(9799),dt=function(e,t){function a(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}function i(e){return e}return I.$c?(0,st.O)(e,t,a,i):(0,lt.T)(e,t,a,i)}("getCloudFileUrl","qbase_commapi");var ut=function(e,t,a){pt({fileIds:e,type:t,success:a})},ct=new Map,pt=function(e){var{fileIds:t,type:a,success:i}=e,r=new Map,n=[],o=!1;if(t.forEach((e=>{var t=ct.get(e);if(t){if(Date.now()<t.expireTime)return void(r.has(e)||(r.set(e,t.data),o||(o=!0)));ct.delete(e)}/^(cloud):\/\//.test(e)&&n.push(e)})),0!==n.length){var s=0,l=function(e,t){for(var a=[],i=Math.ceil(e.length/t),r=0;r<i;r++)a.push(e.slice(r*t,(r+1)*t));return a}(t,50);Promise.all(l.map((e=>new Promise((t=>{dt({data:{fileid_list:e,type:a},success(a){var i=a;if(i.baseresponse&&0===i.baseresponse.errcode?i.download_list.forEach((e=>{r.set(e.fileid,e),!ct.has(e.fileid)&&e.max_age&&ct.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):i.baseresponse?e.forEach((e=>{r.set(e,{download_url:e,service_errcode:i.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+i.baseresponse.errcode}),ct.has(e)&&ct.delete(e)})):e.forEach((e=>{r.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),ct.has(e)&&ct.delete(e)})),i.baseresponse&&i.baseresponse.stat&&i.baseresponse.stat.qbase_cost_time){var n=i.baseresponse.stat.qbase_cost_time;n>s&&(s=n)}t()},fail(){t()},complete(e){}})}))))).then((()=>{ht(t,r,s,i)})).catch((e=>{"function"==typeof i&&i({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else o?ht(t,r,0,i):"function"==typeof i&&i({data:t.map((e=>({url:e})))})};function ht(e,t,a,i){var r=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var a=t.get(e);a?0===a.service_errcode?r.push({url:a.download_url}):r.push({url:e,code:a.service_errcode,msg:a.errmsg}):r.push({url:e,code:-1,msg:"NO_RESULT"})}else r.push({url:e})})),"function"==typeof i&&i({data:r,cost:a})}var ft=i(8602),vt=i(1708),mt=()=>{!0};var _t,gt=i(1190),yt=0,At=0,Et=0,Ct=new WeakMap,Tt=new WeakMap,It=new WeakMap,bt=new WeakMap,wt=new WeakMap,kt=new WeakMap,St=new WeakMap,xt=new WeakMap,Pt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,Rt=new WeakMap,Nt=new Map,Mt={},Lt=52428800,Bt=0,Ft=0,Wt=e=>{Object.keys(Mt).sort(((e,t)=>Mt[e].index-Mt[t].index)).some((t=>{var a=Mt[t];if(a.audioBuffer&&e!==t){var i=a.audioBufferSize;if(delete a.audioBuffer,delete a.audioBufferSize,delete Mt[t],(Bt-=i)<=Lt)return!0}return!1}))},Ut=e=>{e.index=++Ft},Vt=(e,t,a)=>{var i=Mt[e];if(i&&i.audioBuffer)Ut(i),t(i.audioBuffer,{sync:!0});else if(i&&i.loading)Ut(i),i.successCallbacks.push(t),i.failCallbacks.push(a);else{Mt[e]={loading:!0,successCallbacks:[t],failCallbacks:[a]},(/^(http|https):\/\//.test(e)?jt(e):/^(cloud):\/\//.test(e)?Gt(e):/^(wxblob:\/\/)/.test(e)?zt(e):/^data:audio\//.test(e)?$t(e):Ht(e)).then((t=>{_t.decodeAudioData(t,(0,l.qB)((t=>{var a,i=Mt[e];Ut(i),a=i.audioBuffer?i.audioBuffer:((e,t,a)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(Bt+=e.audioBufferSize)>Lt&&Wt(a),e.audioBuffer))(i,t,e);try{i.successCallbacks&&i.successCallbacks.forEach((e=>{e(a,{sync:!1})}))}catch(e){console.error(e),wxNativeConsole.error("loadAudio invoke successCallback fail",e.message),i.failCallbacks&&i.failCallbacks.forEach((t=>{t(e)}))}delete i.successCallbacks,delete i.failCallbacks,delete i.loading}),"WebAudioAdapter-decodeAudioData-success"),(0,l.qB)((t=>{try{var a=Mt[e];a&&a.failCallbacks&&a.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),wxNativeConsole.error("loadAudio invoke failCallback fail",t.message)}delete i.successCallbacks,delete i.failCallbacks,delete i.loading}),"WebAudioAdapter-decodeAudioData-fail"))})).catch((t=>{try{var a=Mt[e];a&&a.failCallbacks&&a.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),wxNativeConsole.error("loadAudio invoke failCallback fail",t.message)}delete i.successCallbacks,delete i.failCallbacks,delete i.loading}))}},Ht=e=>{return(t={filePath:e},new ot.Q(((e,a)=>{(0,nt.p)({...t,success:e,fail:a})}))).then((e=>e.data));var t},jt=e=>{return(t={url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0},new ot.Q(((e,a)=>{(0,Pe.UF)({...t,success:e,fail:a})}))).then((e=>e.data));var t},Gt=e=>new ot.Q(((t,a)=>{ut([e],"audio",(e=>{jt(e.data[0].url).then((e=>t(e))).catch((e=>{a(e)}))}))})),zt=e=>new ot.Q((t=>{t(ft.Z.get(e))})),$t=e=>{var t=e.indexOf("base64,")+7;return e=e.slice(t),new ot.Q(((t,a)=>{try{t((0,gt.RG)(e))}catch(e){e.errMsg=e.message,a(e)}}))},Qt=function(e){Ct.set(this,Object.assign(Ct.get(this),e))},Yt=function(e){return Ct.get(this)[e]},qt=function(){return Ct.get(this)},Zt=function(){this.stop(!0),Qt.call(this,{_source:null});var e=It.get(this);e&&e()},Kt=function(e){var t=++Et,a=_t.createBufferSource(t),{currentPlayBackTime:i,state:r}=Xt.call(this,e),{loop:n,playbackRate:o,_buffer:s,_gainNode:d,_instanceId:u,src:c,withReport:p}=r,h=Zt.bind(this);a.onended=(0,l.ZI)(h,"WebAudioAdapter-BufferSource.onended"),a.buffer=s,a.loop=n,a.playbackRate.value=o,d&&a.connect(d),a.start(0,i),_t.resume(),Qt.call(this,{_isPlaying:!0,paused:!1,_source:a,_played:!0,_playbackTime:0,_lastCurrentTime:i,_startedAt:_t.currentTime,_endedHandler:h,_bufferSourceId:t}),this._startTimeupdateInterval(),(I.cj||I.wZ)&&p&&Nt.set(t,{_instanceId:u,src:c})},Xt=function(e){e=e||qt.call(this);var t,{_startedAt:a,_playbackTime:i,_isPlaying:r,playbackRate:n,_lastCurrentTime:o,duration:s}=e;return(t=r?o+(_t.currentTime-a)*n:i)>s&&(t%=s),{currentPlayBackTime:t,state:e}},Jt=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=qt.call(this);e&&e.disconnect(),Qt.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,Tt.delete(this),It.delete(this),bt.delete(this),wt.delete(this),St.delete(this),kt.delete(this),xt.delete(this),Pt.delete(this),Rt.delete(this),clearInterval(Ot.get(this)),Ot.delete(this)},ea=function(){this.stop(!0),Qt.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},ta=function(e){var t,a;ea.call(this);var i=new ot.Q(((e,i)=>{t=e,a=i}));Qt.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:i,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:a})},aa={},ia=(e,t)=>e+"-"+t,ra=function(e,t){var a=ia(t,e);aa[a]?aa[a]++:aa[a]=1};class na{constructor({withReport:e}={}){_t||("function"==typeof(_t=rt()).create&&_t.create(-1,!0),(I.cj||I.wZ)&&(_t.onmessage=(0,l.ZI)((e=>{var{message:t,node_id:a}=e;if("real_play"===t){var i=Nt.get(a);if(Nt.delete(a),i){var{_instanceId:r,src:n}=i,o=ia(r,n);aa[o]&&(aa[o]--,this.ignoreReport||Date.now())}}}),"WebAudioAdapter-AudioContext.onmessage")));var t=_t.createGain();t&&t.connect&&t.connect(_t.destination);var a={withReport:e},i=new ot.Q(((e,t)=>{a._audioLoadPromiseResolve=e,a._audioLoadPromiseReject=t}));Ct.set(this,Object.assign(a,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:i,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++At}))}get src(){return Yt.call(this,"src")}set src(e){var{src:t,_gainNode:a}=qt.call(this);a&&"string"==typeof e&&e.length>0&&t!==e&&(t&&ta.call(this,e),Qt.call(this,{src:e}),Vt(e,((t,{sync:a})=>{var{src:i,_gainNode:r,_isPlaying:n,autoplay:o,_audioLoadPromiseResolve:s}=qt.call(this);if(r){if(i===e){if(Qt.call(this,{_ready:!0,_buffer:t,duration:t.duration}),a)setTimeout((()=>{var e=Tt.get(this);e&&e()}),0);else{var l=Tt.get(this);l&&l()}return!o||n||_i()||this.play(),s(!1),null}s(!0)}}),(t=>{var a=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),wxNativeConsole.error("loadAudioFail ",t);var i=qt.call(this),{_audioLoadPromiseReject:r}=i,n=bt.get(this);n&&n({type:"error",errMsg:a,errno:t.errno}),r(t)})))}get startTime(){return Yt.call(this,"startTime")}set startTime(e){var{_played:t,startTime:a,_gainNode:i}=qt.call(this);i&&e!==a&&"number"==typeof e&&e>=0&&(Qt.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return Yt.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:a}=qt.call(this);a&&!!e!==t&&(e&&(this.ignoreReport=!0,mt()),Qt.call(this,{autoplay:!!e}))}get loop(){return Yt.call(this,"loop")}set loop(e){var{_source:t,_gainNode:a}=qt.call(this);a&&(Qt.call(this,{loop:e=!!e}),e&&(this.ignoreReport=!0,mt()),t&&(t.loop=e))}get volume(){return Yt.call(this,"volume")}set volume(e){var{volume:t,_gainNode:a}=qt.call(this);a&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(Qt.call(this,{volume:e}),a&&a.gain&&(a.gain.value=e))}get playbackRate(){return Yt.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:a,_gainNode:i}=qt.call(this);i&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(Qt.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:_t.currentTime}),a&&(a.playbackRate.value=e))}get duration(){return Yt.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=Xt.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:a}=qt.call(this);if(!a)return;var i=xt.get(this),r=Pt.get(this),n=Tt.get(this);r&&r(),this.ignoreReport=!0,mt(),t?(this.stop(!0),Qt.call(this,{_playbackTime:e}),this.play(!0)):Qt.call(this,{_playbackTime:e}),i&&i(),n&&n()}}get paused(){return Yt.call(this,"paused")}get buffered(){var{duration:e}=qt.call(this);return e>0?e:0}play(e=!1){var t=qt.call(this),{_isPlaying:a,_ready:i,_loadPromise:r,_gainNode:n,_playPendingIdMap:o,withReport:s,src:l,_instanceId:d}=t;if(n){var u=this.lastPlayTime,c=Date.now();if(this.lastPlayTime=c,u&&c-u<1e3&&(this.ignoreReport=!0,mt()),!a||e||!s||this.ignoreReport){!e&&s&&this.ignoreReport;var p=()=>{if(!e){var t=wt.get(this);t&&t()}};if(i){var h;try{Kt.call(this,t)}catch(t){h=t;var f=bt.get(this);f&&f({type:"error",errMsg:t.message}),!e&&s&&t.message,console.error(t)}h||(!e&&s&&ra(l,d),p())}else{var v=++yt;o[v]=!0,r.then((u=>{var c=!1===o[v];if(delete o[v],u)return a=null,i=null,r=null,n=null,t=null,void(p=null);if(!c){var h,f=qt.call(this),{_isPlaying:m}=f;if(!m){try{Kt.call(this,f)}catch(t){h=t;var _=bt.get(this);_&&_({type:"error",errMsg:t.message}),!e&&s&&t.message,console.error(t)}return h||(!e&&s&&ra(l,d),p()),null}}})).catch((e=>{s&&(e.errMsg||e.message)}))}}else Date.now()}}pause(){var e=qt.call(this),{_isPlaying:t,_source:a,_gainNode:i,_playPendingIdMap:r}=e;if(i)if(a&&t){var n=kt.get(this);a.stop(0),a.onended=null,Qt.call(this,{_source:null,_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),n&&n()}else Object.keys(r).forEach((e=>{r[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:a,_isPlaying:i,_playPendingIdMap:r}=qt.call(this);if(a){if(t)try{var n=St.get(this);t.stop(0),t.onended=null,Qt.call(this,{_source:null,_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&n&&n(),this._finishTimeupdateInterval()}catch(e){wxNativeConsole.error("stop时出错",e)}i||Object.keys(r).forEach((e=>{r[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:a}=qt.call(this);if(!a)return;var i=xt.get(this),r=Pt.get(this),n=Tt.get(this);r&&r(),this.ignoreReport=!0,mt(),t?(this.stop(!0),Qt.call(this,{_playbackTime:e}),this.play(!0)):Qt.call(this,{_playbackTime:e}),i&&i(),n&&n()}}destroy(){var{_gainNode:e}=qt.call(this);e&&Jt.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;Tt.set(this,e)}else Tt.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;It.set(this,e)}else It.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;bt.set(this,e)}else bt.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;wt.set(this,e)}else wt.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;kt.set(this,e)}else kt.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;St.set(this,e)}else St.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;xt.set(this,e)}else xt.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;Pt.set(this,e)}else Pt.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;Dt.set(this,e)}else Dt.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=qt.call(this);if(!t)return;Rt.set(this,e)}else Rt.delete(this)}_startTimeupdateInterval(){var{_gainNode:e,_instanceId:t,_isPlaying:a}=qt.call(this);if(e){var i=Ot.get(this),r=Dt.get(this);clearInterval(i),a&&setTimeout((()=>{r&&r()}),0);var n=setInterval((()=>{var e=Dt.get(this),{_isPlaying:t}=qt.call(this);t&&e&&e()}),350);Ot.set(this,n)}}_finishTimeupdateInterval(){var e=Ot.get(this);clearInterval(e)}}var oa,sa=()=>function(){if(!it)throw new Error("detect WebAudioContext too early");return!!at}()&&!0,la=i(8929),da=(e,t)=>(0,l.ZI)(e,`AudioElement.${t}`),ua=new WeakMap,ca=new WeakMap,pa=function(){return ca.get(this)},ha={},fa=(e,t)=>e+"-"+t,va=()=>(oa||"function"==typeof(oa=rt()).create&&oa.create(),oa),ma=0,_a=0,ga=new Map;class ya{constructor({size:e,type:t}){this.reportBeginPlay=()=>{},this.reportFailPlay=()=>{},this.reportSuccessPlay=()=>{};var a=va(),i=a.createHTMLAudioElement();(_a+=1)>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (>200) InnerAudioContext instances have been created, please destroy the existing instances first !");var r=a.createMediaElementSource(i),n=a.createGain();r.connect(n),n&&n.connect&&n.connect(a.destination),ua.set(this,i);var o=(0,la.M8)();ca.set(this,{startTime:0,source:r,gain:n,_instanceId:o,size:e,type:t,_isStop:!1}),i.addEventListener("error",da((e=>{var t,a=(null===(t=ua.get(this))||void 0===t?void 0:t.src)||"";this.reportFailPlay(a,e.message)}),"error-1")),i.addEventListener("inner",da((e=>{if("real_play"===e.type){var{play_id:t}=e;if(t){t=+t;var a=ga.get(t);if(ga.delete(t),a){var{_instanceId:i,src:r,size:n}=a,o=fa(i,r);ha[o]&&(ha[o]--,this.reportSuccessPlay(r,i,Date.now(),n))}}}}),"inner"))}get src(){var e;return this.cloudId?this.cloudId:null===(e=ua.get(this))||void 0===e?void 0:e.src}set src(e){ua.get(this)&&ut([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,ua.get(this).src=e}))}get startTime(){var e;return null===(e=ca.get(this))||void 0===e?void 0:e.startTime}set startTime(e){var{_played:t,startTime:a}=pa.call(this);e!==a&&"number"==typeof e&&e>=0&&ca.get(this)&&(ca.get(this).startTime=e,t||this.seek(e))}get autoplay(){var e;return null===(e=ua.get(this))||void 0===e?void 0:e.autoplay}set autoplay(e){ua.get(this)&&(e?(this.ignoreReport=!0,mt(),setTimeout((()=>{ua.get(this)&&(ua.get(this).autoplay=e)}),0)):ua.get(this).autoplay=e)}get loop(){var e;return null===(e=ua.get(this))||void 0===e?void 0:e.loop}set loop(e){ua.get(this)&&(e&&(this.ignoreReport=!0,mt()),ua.get(this).loop=e)}get volume(){var e;return null===(e=ua.get(this))||void 0===e?void 0:e.volume}set volume(e){ua.get(this)&&(ua.get(this).volume=e)}get playbackRate(){var e;return null===(e=ua.get(this))||void 0===e?void 0:e.playbackRate}set playbackRate(e){ua.get(this)&&(ua.get(this).playbackRate=e)}get duration(){var e;return null===(e=ua.get(this))||void 0===e?void 0:e.duration}get currentTime(){var e;return null===(e=ua.get(this))||void 0===e?void 0:e.currentTime}set currentTime(e){if(ua.get(this)){this.ignoreReport=!0,mt();var t=ca.get(this);t&&(t._isStop=!1),ua.get(this).currentTime=e}}get paused(){var e;return null===(e=ua.get(this))||void 0===e?void 0:e.paused}get buffered(){var e;return null===(e=ua.get(this))||void 0===e?void 0:e.duration}play(){var e,t,a,i,r=null===(e=ua.get(this))||void 0===e?void 0:e.src,n=null===(t=ca.get(this))||void 0===t?void 0:t._instanceId,o=null===(a=ca.get(this))||void 0===a?void 0:a.size,s=this.lastPlayTime,l=Date.now();this.lastPlayTime=l,s&&l-s<1e3&&(this.ignoreReport=!0,mt()),n&&this.reportBeginPlay(r,n);var d=++ma;(I.cj||I.wZ)&&ga.set(d,{_instanceId:n,src:r,size:o}),function(e,t){var a=fa(t,e);ha[a]?ha[a]++:ha[a]=1}(r,n);var u=ca.get(this);u&&(u._isStop=!1),null===(i=ua.get(this))||void 0===i||i.play(d)}pause(){var e;null===(e=ua.get(this))||void 0===e||e.pause()}stop(){var e=ua.get(this);if(e){e.pause();var t=ca.get(this);t&&(t._isStop=!0),e.currentTime=0}}seek(e){if(ua.get(this)){this.ignoreReport=!0,mt();var t=ca.get(this);t&&(t._isStop=!1),ua.get(this).currentTime=e}}destroy(){var e,t=ca.get(this);t&&(t.gain&&t.gain.disconnect&&t.gain.disconnect(),null===(e=t.source)||void 0===e||e.disconnect());ua.delete(this),ca.delete(this),_a-=1}set oncanplay(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("canplay",da(((...t)=>{ca.get(this)._isStop||e(...t)}),"canplay"))}set onended(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("ended",da(e,"ended"))}set onerror(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("error",da(e,"error-2"))}set onplay(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("play",da(e,"play"))}set onpause(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("pause",da(e,"pause"))}set onstop(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("stop",da(e,"stop"))}set onseeked(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("seeked",da(e,"seeked"))}set onseeking(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("seeking",da(e,"seeking"))}set ontimeupdate(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("timeupdate",da(e,"timeupdate"))}set onwaiting(e){var t;null===(t=ua.get(this))||void 0===t||t.addEventListener("waiting",da(e,"waiting"))}}var Aa=i(7849),Ea=i(4571),Ca=new Set([1177,1184,1200,1228]),Ta=new Set([0,1,2,7]),Ia=()=>{var{scene:e}=(0,Aa._)();return Ca.has(e)&&Ta.has(f.default.appType)&&"default"!==(0,Ea.kd)()},ba=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],wa=["startTime","duration","currentTime"],ka=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],Sa=new Set,xa=new WeakMap,Pa=new WeakMap,Da=new WeakMap,Oa=new WeakMap;class Ra{constructor(e,t=1e3,a){var i=new d.Z;xa.set(this,e),Oa.set(this,{conversion:t,type:a}),ba.forEach((a=>Object.defineProperty(this,a,{get:()=>wa.includes(a)?e[a]/t:e[a],set(i){Ia()||(wa.includes(a)?e[a]=t*i:e[a]=i)}}))),ka.forEach((t=>{this["on"+t]=e=>{var a=__errorTracer__.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);Pa.set(e,a),Da.set(a,e),i.on(t,a)},this["off"+t]=e=>{if((0,tt.mf)(e)){var a=Pa.get(e);(0,tt.mf)(a)&&(i.off(t,a),Pa.delete(e),Da.delete(a))}else i.listeners(t).forEach((e=>{var t=Da.get(e);Pa.delete(t),Da.delete(e)})),i.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,a)=>{e?(0,tt.Kn)(e)?i.emit(t,e):i.emit(t,{errCode:e,errMsg:a}):i.emit(t),"Play"===t?Sa.add(this):"Ended"!==t&&"Error"!==t&&"Pause"!==t&&"Stop"!==t||Sa.delete(this)}}))}play(){var e;Ia()||_i()&&"inner"!==Oa.get(this).type||null===(e=xa.get(this))||void 0===e||e.play()}stop(){var e;null===(e=xa.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=xa.get(this))||void 0===e||e.pause()}seek(e){var t,a;if(!Ia()){var{conversion:i}=null!==(t=Oa.get(this))&&void 0!==t?t:{};null===(a=xa.get(this))||void 0===a||a.seek(i*e)}}destroy(){var e=xa.get(this);e.destroy&&e.destroy(),ka.forEach((e=>{this["off"+e]()})),Sa.delete(this),xa.delete(this)}static pauseAllAudio(){Sa.forEach((e=>{if("inner"!==Oa.get(e).type){var t=xa.get(e);t&&t.pause()}}))}}class Na extends Ra{constructor({type:e}){super(new et.Z.Audio,1e3,e)}}class Ma extends Ra{constructor({withReport:e,type:t}={}){super(new na({withReport:e}),1,t)}}class La extends Ra{constructor({size:e,type:t}={}){super(new ya({size:e}),1,t)}}var Ba=new WeakMap,Fa=new WeakMap,Wa=new WeakMap,Ua=new WeakMap,Va=new WeakMap,Ha=new WeakMap,ja=new WeakMap,Ga=new WeakMap,za=new Map,$a=new Map,Qa=new Map,Ya=wxNativeConsole.createLogger("InnerAudio"),qa=function(e,t){Fa.set(this,Object.assign(Fa.get(this),{[e]:t})),"src"===e&&Fa.set(this,Object.assign(Fa.get(this),{paused:!0})),Ua.get(this)&&(setTimeout((()=>{var a=Object.assign({},Fa.get(this),Va.get(this),{timestamp:Date.now(),audioId:Ba.get(this),success:()=>{Fa.set(this,Object.assign(Fa.get(this),{[e]:t}))},fail:()=>{Ka.call(this)}});_i()&&(a.autoplay=!1),(0,l.IN)("setAudioState",a),Ua.set(this,!0)}),0),Ua.set(this,!1)),Va.set(this,Object.assign(Va.get(this),{[e]:t}))},Za=function(e,t){ja.get(this).then((()=>{qa.call(this,e,t)}))},Ka=function(e,t){var a=Fa.get(this)[e];return(0,l.IN)("getAudioState",{audioId:Ba.get(this),success:i=>{delete i.errMsg,Fa.set(this,Object.assign(Fa.get(this),i)),a=i[e],"function"==typeof t&&t(a)}}),a},Xa=function(e){var t=Ba.get(this);(0,l.IN)("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:a})=>{Ya.error(`operateAudio fail: errMsg="${a}"`,e.operationType,t),ni.call(this,"error",{errMsg:a,errCode:-1});var i=Fa.get(this);null!=i&&i.withReport&&(null==i||i.implementType)}},e))},Ja=function(e){return ja.get(this).then((()=>{if("play"===e.operationType){var t=Fa.get(this);if(null!=t&&t.withReport&&!t.ignoreReport){Ba.get(this);null==t||t.src,null==t||t.implementType}}setTimeout((()=>{Xa.call(this,e)}),0)}))},ei=new d.Z;"undefined"!=typeof IS_SDK_PACKAGE||(0,l.jQ)("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=za.get(e.audioId);null!=t&&t.withReport&&!t.ignoreReport&&(null==t||t.src,e.audioId,Date.now(),null==t||t.implementType,null==t||t.size)}else{e.state=e.state.toLowerCase();var{state:a,audioId:i,errMsg:r}=e;delete e.audioId,delete e.state;var n="play"!==a,o=za.get(i);o&&(o.paused=n),"error"===a&&null!=o&&o.withReport&&(null==o||o.src,null==o||o.implementType);var s=Qa.get(i);if(!s||!(a in s))return;ei.emit(`${i}_onAudioStateChange_${a}`,e)}}));var ti=function(e,t){var a=`${Ba.get(this)}_onAudioStateChange_${e}`,i=a=>{__errorTracer__.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(a)};Ha.set(t,i),ei.on(a,i)},ai=function(e,t){ja.get(this).then((()=>{ti.call(this,e,t)}))},ii=function(e,t){var a=`${Ba.get(this)}_onAudioStateChange_${e}`;if((0,tt.mf)(t)){var i=Ha.get(t);(0,tt.mf)(i)&&ei.off(a,i)}else ei.removeAllListeners(a)},ri=function(e,t){ja.get(this).then((()=>{ii.call(this,e,t)}))},ni=function(e,t){ei.emit(`${Ba.get(this)}_onAudioStateChange_${e}`,t)},oi=0,si=!1;const li=class{constructor({pluginId:e,withReport:t,type:a,size:i}={}){var r,n;Fa.set(this,{}),Va.set(this,{}),Wa.set(this,void 0),Ua.set(this,!0),"string"==typeof e&&Ga.set(this,e.split("/",1)[0]),ja.set(this,new ot.Q(((e,t)=>{r=e,n=t})));var o={},s=0===i?"jsapiRemote-1.0":"jsapiLocal-1.0";(0,l.IN)(I.wZ||I.jP||I.Ae?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var n={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:a,size:i,implementType:s};if(Qa.set(e.audioId,o),za.set(e.audioId,n),Ba.set(this,e.audioId),Fa.set(this,n),et.Z.BindingObject){var l=new et.Z.BindingObject;this.__bindingObject=l,$a[l.__id]=e.audioId}(oi+=1)>=1024&&!si&&I.cj&&(si=!0,Reporter.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),oi>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(r,0)},fail:e=>{t&&e.errMsg,n(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var a=e.toLowerCase();o[a]=1,ai.call(this,a,t)},this[`off${e}`]=t=>{var a=e.toLowerCase();delete o[a],ri.call(this,a,t)}}))}get src(){return this.cloudId?this.cloudId:Ka.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=Ga.get(this);"string"==typeof t&&null===(0,L.pD)(e)&&(e=(0,L.RP)(t,e)),ut([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,Za.call(this,"src",e)}))}else ni.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return Ka.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?Za.call(this,"startTime",1e3*e):ni("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){if("boolean"==typeof e&&!Ia()){if(!0===e){var t=Ba.get(this),a=za.get(t);a&&(a.ignoreReport=!0,mt())}Za.call(this,"autoplay",e)}}get autoplay(){return Ka.call(this,"autoplay")}set loop(e){if("boolean"==typeof e){if(!0===e){var t=Ba.get(this),a=za.get(t);a&&(a.ignoreReport=!0,mt())}Za.call(this,"loop",e)}}get loop(){return Ka.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&Za.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return Ka.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||Za.call(this,"volume",e)}get volume(){return Ka.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||Za.call(this,"playbackRate",e)}get playbackRate(){return Ka.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&Za.call(this,"referrerPolicy",e)}get referrerPolicy(){return Ka.call(this,"referrerPolicy")}get paused(){return Ka.call(this,"paused")}get duration(){return Ka.call(this,"duration")/1e3}set currentTime(e){if("number"!=typeof e||e<0)ni("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=Ba.get(this),a=za.get(t);a&&(a.ignoreReport=!0,mt()),Ja.call(this,{operationType:"seek",currentTime:1e3*e})}}get currentTime(){return Ka.call(this,"currentTime")/1e3}get buffered(){return Ka.call(this,"buffered")/1e3}play(){if(!(Ia()||_i()&&"inner"!==Fa.get(this).type)){var e=this.lastPlayTime,t=Date.now();if(this.lastPlayTime=t,e&&t-e<1e3){var a=Ba.get(this),i=za.get(a);i&&(i.ignoreReport=!0,mt())}Ja.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}}pause(){Ja.call(this,{operationType:"pause"})}stop(){Ja.call(this,{operationType:"stop"})}seek(e){if(!Ia())if("number"!=typeof e||e<0)ni("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=Ba.get(this),a=za.get(t);a&&(a.ignoreReport=!0,mt()),Ja.call(this,{operationType:"seek",currentTime:1e3*e})}}destroy(){ja.get(this).then((()=>{var e=Ba.get(this);za.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var a=`${e}_onAudioStateChange_${t}`;ei.removeAllListeners(a)})),Qa.delete(e),za.delete(e),oi-=1,setTimeout((()=>{(0,l.IN)("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){ja.get(this).then((()=>{var t=`${Ba.get(this)}_onAudioStateChange_timeupdate`;void 0===Wa.get(this)&&Wa.set(this,setInterval((()=>{if("active"===F.Z.runningStatus&&!0!==Fa.get(this).paused&&1!==Fa.get(this).paused){var e=Fa.get(this).currentTime;Ka.call(this,"currentTime",(a=>{a!==e&&ei.emit(t)}))}}),250)),ei.removeAllListeners(t);var a=t=>{__errorTracer__.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};Ha.set(e,a),ei.on(t,a)}))}offTimeUpdate(e){ja.get(this).then((()=>{ri.call(this,"timeupdate",e)}))}static pauseAllAudio(){za.forEach(((e,t)=>{"inner"!==e.type&&(0,l.IN)("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}};var di=i(127),ui=i(6551),ci=new Set;class pi{static pauseAllAudio(){ci.forEach((e=>{e.suspend()}))}}var hi,fi=()=>{li.pauseAllAudio(),Ra.pauseAllAudio(),pi.pauseAllAudio()},vi=!1,mi=!1;"undefined"!=typeof IS_SDK_PACKAGE||(0,l.jQ)("onAudioInterruptionBegin",(e=>{vi=!0,!1===mi&&Xe.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||(0,l.jQ)("onAudioInterruptionEnd",(e=>{vi=!1,!1===mi&&Je.emit(e)}));var _i=()=>mi,gi=e=>(t={})=>{(e?l.yD:l.t4)({apiName:e?"webapi_game_transfer":"gameTransfer",sdkApiName:"gameTransfer",reqData:t.reqData?t.reqData:JSON.parse(JSON.stringify(t)),timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},yi=(gi(!1),gi(!0)),Ai=i(1868),Ei=new d.Z;(0,l.jQ)("onPageReload",((e={},t=0)=>{e.webviewId=t,Ei.emit("onPageReload",e)}));var Ci,Ti={},Ii=0,bi=function(e,t,a){var i=a;i||(i=Ii++),((e,t)=>(Ti[e]=Ti[e]||{},!!Ti[e][t]||(Ti[e][t]=!0,!1)))(e,i)||Ei.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},wi=(0,te.s)("navigateBackIntercept"),ki={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},Si=[ki.SlideBack,ki.BottomBackButton,ki.NavigationBarBack,ki.NavigateBackCall],xi=[],Pi=0;(0,l.jQ)("onNavigateBackIntercept",((e={})=>{var{id:t}=Ci||{};wi.emit({...e,id:t}),(0,l.nY)("onNavigateBackIntercept",{...e,id:t},[F.Z.currentWebviewId])}));var Di=Object.create(null);(0,ce.HM)((e=>{var t=e.webviewId;Di[t]||(bi(t,(()=>{if(delete Di[t],xi.length)for(var e,a=0;a<xi.length;)(e=xi[a]).options.webviewId&&e.options.webviewId===t?xi.splice(a,1):a+=1}),"setNavigateBackInterception"),Di[t]=!0),xi.length&&Oi()}));var Oi=function(){var e=z()((function*(){var e;Ci=void 0;for(var t=xi.length-1;t>=0;--t)if(void 0===(e=xi[t]).options.webviewId||e.options.webviewId===F.Z.currentWebviewId){Ci=e;break}var a=Ci?Ci.options.scopes:[],i=new Set(a||[]);return(0,l.bb)("setNavigateBackInterception",{scopes:Si.map((e=>({type:e,interception:i.has(e)})))})}));return function(){return e.apply(this,arguments)}}(),Ri=function(){var e=z()((function*(e={}){var t;e={...e,scopes:null!==(t=e.scopes)&&void 0!==t?t:Si};var a=++Pi;return xi.push({id:a,options:e}),yield Oi(),{id:a}}));return function(){return e.apply(this,arguments)}}(),Ni=((0,Ai.NX)("setNavigateBackInterceptionById",Ri),function(){var e=z()((function*({id:e}={}){var t=xi.findIndex((t=>t.id===e));t<0||(xi.splice(t,1),yield Oi())}));return function(){return e.apply(this,arguments)}}()),Mi=((0,Ai.NX)("stopNavigateBackInterceptionById",Ni),wi.internalOnMethod),Li=wi.internalOffMethod,Bi=function(){var e=z()((function*(e,t=Si){var{id:a}=yield Ri({scopes:t}),i=t=>{t.id===a&&e(t)};return Mi(i),{id:a,handler:i}}));return function(t){return e.apply(this,arguments)}}(),Fi=function(){var e=z()((function*(e){var{id:t,handler:a}=(yield e)||{};yield Ni({id:t}),Li(a)}));return function(t){return e.apply(this,arguments)}}(),Wi=i(9806),Ui=i(4482),Vi=i(6135),Hi=i(7994),ji=[],Gi=[],zi=(e=!1)=>({sdkApiName:t="adReportOperateWXData",reqData:a,success:i,fail:r,complete:n}={})=>{var o=a.report_action||"",s=0;a.report_data_json&&"object"==typeof a.report_data_json&&(s=a.report_data_json.logid||0,a.report_data_json=JSON.stringify(a.report_data_json));var l={apiName:"advert_report",reqData:a,sdkApiName:t,success:i,fail:r,complete:n,adExtra:{adReportAction:o,adLogid:s}};(0,Hi.aQ)()&&"reportAdExposure"!==t?Qi(l,e):e?(0,Ui.yD)(l):(0,Ui.cm)(l)},$i=!1,Qi=(e,t)=>{if($i)t?(Gi.push(e),10===Gi.length&&(Yi(Gi,!0,Vi.zV),Gi=[])):(ji.push(e),10===ji.length&&(Yi(ji,!1,Vi.zV),ji=[]));else{$i=!0;var a=I.cj?Number(f.default.expt.clicfg_appbrand_ios_ad_operatewxdata_batch):Number(f.default.expt.clicfg_appbrand_android_ad_operatewxdata_batch);setInterval((()=>{Gi.length&&(Yi(Gi,!0,Vi.x2),Gi=[]),ji.length&&(Yi(ji,!1,Vi.x2),ji=[])}),a)}},Yi=(e,t,a)=>{(t?Ui.XT:Ui.BB)({apiName:"adReportBatch",sdkApiName:"adReportBatch",reqDataList:e.map((e=>({api_name:e.apiName,data:e.reqData}))),batchType:a,success:t=>{(t.item_list||[]).forEach(((t,a)=>{var i={};t&&t.resp&&0===t.errcode?0!==t.resp.err_no?(i={errMsg:`${e[a].sdkApiName}:fail `+(t.resp.errmsg?` ${t.resp.errmsg}`:""),errno:t.resp.err_no},e[a].fail&&e[a].fail(i),e[a].complete&&e[a].complete(i)):(i={errMsg:`${e[a].sdkApiName}:ok`,data:t.resp.data||{},errno:0},e[a].success&&e[a].success(i),e[a].complete&&e[a].complete(i)):(i={errMsg:`${e[a].sdkApiName}:fail `+(t.errmsg?` ${t.errmsg}`:""),errno:t.errcode},e[a].fail&&e[a].fail(i),e[a].complete&&e[a].complete(i))}))},fail:a=>{wxNativeConsole.error(`fromWebview=${t}`,"batch 广告上报失败",a),e.forEach((e=>{e.fail&&e.fail(a),e.complete&&e.complete(a)}))}})},qi=zi(!1),Zi=(0,Wi.Fr)(qi),Ki=(zi(!0),i(4202)),Xi="",Ji="",er="{}",tr="",ar="",ir="{}";var rr=()=>{var e=(0,di.Ew)();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":f.default.deviceOrientation&&/^landscape/.test(f.default.deviceOrientation)?"landscape":f.default.deviceOrientation||"portrait"},nr=i(3203),or="",sr=I.iw,lr="",dr="",ur="",cr="",pr="",hr="",fr=!0,vr="";f.default.onReady((()=>{or=rr()||"";var e=(0,di.Oo)();lr=e.system,dr=e.version,ur=e.SDKVersion,pr=e.model,hr=e.brand,fr=(0,I.aI)();try{vr=f.default.accountInfo.appId,cr=__libVersionInfo__.updateTime}catch(e){}}));var mr=(e,t)=>{var a=(0,nr.x)(e);if(a&&0!==a.length)return t=Object.assign({publisher_appid:vr,appid:vr,orig_weapp_id:"",network_type:"",wechat_version:dr,platform:sr,system_version:lr,device_orientation:or,wxapp_lib_version:ur,wxapp_lib_time:cr,machine_type:pr,ad_platform:fr?1:0},t),t=Object.assign({DeviceModel:pr,DeviceBrand:hr,OsName:sr,OsVersion:lr},t),a=a.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),Zi({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:a}}}).catch((e=>{}))},_r=(e,t,a)=>{(({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),Reporter.reportIDKeyDirectly({id:t||924,key:e,force:!0})})({key:e}),(({key:e,id:t,extInfo:a,reportData:i})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),i=i||{},a&&"string"!=typeof a)try{a=JSON.stringify(a)}catch(e){a=a.toString()}mr(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:i.ad_pos_type||0,source_url:i.source_url||"",expand_feild:i.reportAdData||"",expand_feild2:a,aid:i.aid||0,traceid:i.traceid||"",ad_unit_id:i.ad_unit_id})})({key:e,extInfo:t,reportData:a})},gr=i(1329),yr={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:I.iw,isWaGame:!0,isApp:!1,isIOS:I.cj,isAndroid:I.wZ,isWindows:I.qB,isMac:I.Mq,isPC:I.DD,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:"",safeArea:{}},Ar={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""},Er=()=>{},Cr=()=>new Promise((e=>{Er=e})),Tr=()=>new Promise((e=>{var t;t=t=>{yr.oaid=t,e()},Xi?t&&t(Xi):I.wZ&&f.default.clientVersion<654315827?(0,l.IN)("getOAID",{success(e){/:ok/.test(e.errMsg)?(Xi=e.result||"",t&&t(Xi)):t&&t("")},fail(){t&&t("")}}):t&&t("")})),Ir=()=>new Promise((e=>{(function(e=""){return new Promise(((t,a)=>{I.wZ&&f.default.clientVersion>=654315827||I.cj&&f.default.clientVersion>=385879808?(0,l.IN)("getDeviceInfo",{waidPkg:e,success(e){Xi=e.oaid||"",Ji=e.imei||"",ar=e.waid||"",tr=e.ua||"",ir=e.devIdInfo||"{}";try{er=JSON.stringify({...JSON.parse(ir),...tr?{ua:tr}:{}})}catch(e){a(e)}t({oaid:Xi,imei:Ji,commonid:er,waid:ar})},fail(e){a(e)}}):t({oaid:Xi,imei:Ji,commonid:er,waid:ar})}))})().then((({imei:t,oaid:a,commonid:i})=>{I.cj?yr.idfa=t:I.wZ&&(yr.oaid=a,yr.imei=t),yr.common_device_id=i||"{}",e(),Cr().then((()=>{_r(Ki.Rfd)}))})).catch((t=>{e(),Cr().then((()=>{_r(Ki.HA$,t)}))}))})),br=new Promise((e=>{f.default.onReady((()=>{var t;yr.startTime=new Date,yr.deviceOrientation=rr()||"",yr.envVersion=f.default.envVersion;var a=(0,di.Oo)(),i=(0,di.Ew)(),r=(0,di.xI)();yr.safeArea=r.safeArea||f.default.safeArea||{},yr.screenWidth=i.screenWidth||0,yr.screenHeight=i.screenHeight||0,yr.systemVersion=a.system,yr.wechatVersion=a.version,yr.SDKVersion=a.SDKVersion,yr.brand=a.brand,yr.model=a.model,yr.isIPad=null===(t=a.model)||void 0===t?void 0:t.includes("iPad"),yr.isWaGame=(0,I.aI)(),yr.isApp=(0,I.RF)();try{yr.gameAppId=f.default.accountInfo.appId,yr.SDKVersionTime=__libVersionInfo__.updateTime}catch(e){}Promise.all([Tr(),Ir()]).then((()=>e(yr)))}))}));Foundation.onLoad((()=>{yr.startTime=new Date,Ar.enterForegroundTime=new Date}));(0,n.dN)((({scene:e})=>{Ar.enterForegroundTime=new Date,Ar.currentScene=e})),(0,o.vv)((()=>{Ar.gameDuration+=Date.now()-Ar.enterForegroundTime.getTime()}));try{(0,ce.HM)((({webviewId:e,openType:t,path:a})=>{yr.isWaGame||(Ar.lastWebviewId=Ar.currentWebviewId,Ar.currentWebviewId=e||0,Ar.currentOpenType=t,Ar.weappPath=a)}))}catch{}var wr=function(){var e,t="inherit",a="ltr",i="rtl",r="row",n="row-reverse",o="column",s="column-reverse",l="flex-start",d="center",u="flex-end",c="space-between",p="space-around",h="flex-start",f="center",v="flex-end",m="stretch",_="relative",g="absolute",y={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},A={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},E={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},C={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function T(e){return void 0===e}function I(e){return e===r||e===n}function b(e,t){if(void 0!==e.style.marginStart&&I(t))return e.style.marginStart;var a=null;switch(t){case"row":a=e.style.marginLeft;break;case"row-reverse":a=e.style.marginRight;break;case"column":a=e.style.marginTop;break;case"column-reverse":a=e.style.marginBottom}return void 0!==a?a:void 0!==e.style.margin?e.style.margin:0}function w(e,t){if(void 0!==e.style.marginEnd&&I(t))return e.style.marginEnd;var a=null;switch(t){case"row":a=e.style.marginRight;break;case"row-reverse":a=e.style.marginLeft;break;case"column":a=e.style.marginBottom;break;case"column-reverse":a=e.style.marginTop}return null!=a?a:void 0!==e.style.margin?e.style.margin:0}function k(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&I(t))return e.style.borderStartWidth;var a=null;switch(t){case"row":a=e.style.borderLeftWidth;break;case"row-reverse":a=e.style.borderRightWidth;break;case"column":a=e.style.borderTopWidth;break;case"column-reverse":a=e.style.borderBottomWidth}return null!=a&&a>=0?a:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function S(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&I(t))return e.style.borderEndWidth;var a=null;switch(t){case"row":a=e.style.borderRightWidth;break;case"row-reverse":a=e.style.borderLeftWidth;break;case"column":a=e.style.borderBottomWidth;break;case"column-reverse":a=e.style.borderTopWidth}return null!=a&&a>=0?a:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function x(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&I(t))return e.style.paddingStart;var a=null;switch(t){case"row":a=e.style.paddingLeft;break;case"row-reverse":a=e.style.paddingRight;break;case"column":a=e.style.paddingTop;break;case"column-reverse":a=e.style.paddingBottom}return null!=a&&a>=0?a:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+k(e,t)}function P(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&I(t))return e.style.paddingEnd;var a=null;switch(t){case"row":a=e.style.paddingRight;break;case"row-reverse":a=e.style.paddingLeft;break;case"column":a=e.style.paddingBottom;break;case"column-reverse":a=e.style.paddingTop}return null!=a&&a>=0?a:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+S(e,t)}function D(e,t){return k(e,t)+S(e,t)}function O(e,t){return b(e,t)+w(e,t)}function R(e,t){return x(e,t)+P(e,t)}function N(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function M(e,t){if(t===i){if(e===r)return n;if(e===n)return r}return e}function L(e,t){return function(e){return e===o||e===s}(e)?M(r,t):o}function B(e){return e.style.position?e.style.position:"relative"}function F(e){return B(e)===_&&e.style.flex>0}function W(e,t){return e.layout[C[t]]+O(e,t)}function U(e,t){return void 0!==e.style[C[t]]&&e.style[C[t]]>=0}function V(e,t){return void 0!==e.style[t]}function H(e,t){return void 0!==e.style[t]?e.style[t]:0}function j(e,t,a){var i={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],r={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],n=a;return void 0!==r&&r>=0&&n>r&&(n=r),void 0!==i&&i>=0&&n<i&&(n=i),n}function G(e,t){return e>t?e:t}function z(e,t){void 0===e.layout[C[t]]&&U(e,t)&&(e.layout[C[t]]=G(j(e,t,e.style[C[t]]),R(e,t)))}function $(e,t,a){t.layout[A[a]]=e.layout[C[a]]-t.layout[C[a]]-t.layout[E[a]]}function Q(e,t){return void 0!==e.style[y[t]]?H(e,y[t]):-H(e,A[t])}function Y(i,S,Y){var Z=function(e,i){var r;return(r=e.style.direction?e.style.direction:t)===t&&(r=void 0===i?a:i),r}(i,Y),K=M(function(e){return e.style.flexDirection?e.style.flexDirection:o}(i),Z),X=L(K,Z),J=M(r,Z);z(i,K),z(i,X),i.layout.direction=Z,i.layout[y[K]]+=b(i,K)+Q(i,K),i.layout[A[K]]+=w(i,K)+Q(i,K),i.layout[y[X]]+=b(i,X)+Q(i,X),i.layout[A[X]]+=w(i,X)+Q(i,X);var ee=i.children.length,te=R(i,J);if(function(e){return void 0!==e.style.measure}(i)){var ae=!T(i.layout[C[J]]),ie=e;ie=U(i,J)?i.style.width:ae?i.layout[C[J]]:S-O(i,J),ie-=te;var re=!U(i,J)&&!ae,ne=!U(i,o)&&T(i.layout[C[o]]);if(re||ne){var oe=i.style.measure(ie);re&&(i.layout.width=oe.width+te),ne&&(i.layout.height=oe.height+R(i,o))}if(0===ee)return}var se,le,de,ue,ce=function(e){return"wrap"===e.style.flexWrap}(i),pe=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(i),he=x(i,K),fe=x(i,X),ve=R(i,K),me=R(i,X),_e=!T(i.layout[C[K]]),ge=!T(i.layout[C[X]]),ye=I(K),Ae=null,Ee=null,Ce=e;_e&&(Ce=i.layout[C[K]]-ve);for(var Te=0,Ie=0,be=0,we=0,ke=0,Se=0;Ie<ee;){var xe,Pe=0,De=0,Oe=0,Re=0,Ne=_e&&pe===l||!_e&&pe!==d,Me=Ne?ee:Te,Le=!0,Be=ee,Fe=null,We=null,Ue=he,Ve=0;for(se=Te;se<ee;++se){if((de=i.children[se]).lineIndex=Se,de.nextAbsoluteChild=null,de.nextFlexChild=null,(Ze=N(i,de))===m&&B(de)===_&&ge&&!U(de,X))de.layout[C[X]]=G(j(de,X,i.layout[C[X]]-me-O(de,X)),R(de,X));else if(B(de)===g)for(null===Ae&&(Ae=de),null!==Ee&&(Ee.nextAbsoluteChild=de),Ee=de,le=0;le<2;le++)ue=0!==le?r:o,!T(i.layout[C[ue]])&&!U(de,ue)&&V(de,y[ue])&&V(de,A[ue])&&(de.layout[C[ue]]=G(j(de,ue,i.layout[C[ue]]-R(i,ue)-O(de,ue)-H(de,y[ue])-H(de,A[ue])),R(de,ue)));var He=0;if(_e&&F(de)?(De++,Oe+=de.style.flex,null===Fe&&(Fe=de),null!==We&&(We.nextFlexChild=de),We=de,He=R(de,K)+O(de,K)):(xe=e,ye||(xe=U(i,J)?i.layout[C[J]]-te:S-O(i,J)-te),0===be&&q(de,xe,Z),B(de)===_&&(Re++,He=W(de,K))),ce&&_e&&Pe+He>Ce&&se!==Te){Re--,be=1;break}Ne&&(B(de)!==_||F(de))&&(Ne=!1,Me=se),Le&&(B(de)!==_||Ze!==m&&Ze!==h||T(de.layout[C[X]]))&&(Le=!1,Be=se),Ne&&(de.layout[E[K]]+=Ue,_e&&$(i,de,K),Ue+=W(de,K),Ve=G(Ve,j(de,X,W(de,X)))),Le&&(de.layout[E[X]]+=we+fe,ge&&$(i,de,X)),be=0,Pe+=He,Ie=se+1}var je=0,Ge=0,ze=0;if(ze=_e?Ce-Pe:G(Pe,0)-Pe,0!==De){var $e,Qe,Ye=ze/Oe;for(We=Fe;null!==We;)($e=Ye*We.style.flex+R(We,K))!==(Qe=j(We,K,$e))&&(ze-=Qe,Oe-=We.style.flex),We=We.nextFlexChild;for((Ye=ze/Oe)<0&&(Ye=0),We=Fe;null!==We;)We.layout[C[K]]=j(We,K,Ye*We.style.flex+R(We,K)),xe=e,U(i,J)?xe=i.layout[C[J]]-te:ye||(xe=S-O(i,J)-te),q(We,xe,Z),de=We,We=We.nextFlexChild,de.nextFlexChild=null}else pe!==l&&(pe===d?je=ze/2:pe===u?je=ze:pe===c?(ze=G(ze,0),Ge=De+Re-1!=0?ze/(De+Re-1):0):pe===p&&(je=(Ge=ze/(De+Re))/2));for(Ue+=je,se=Me;se<Ie;++se)B(de=i.children[se])===g&&V(de,y[K])?de.layout[E[K]]=H(de,y[K])+k(i,K)+b(de,K):(de.layout[E[K]]+=Ue,_e&&$(i,de,K),B(de)===_&&(Ue+=Ge+W(de,K),Ve=G(Ve,j(de,X,W(de,X)))));var qe=i.layout[C[X]];for(ge||(qe=G(j(i,X,Ve+me),me)),se=Be;se<Ie;++se)if(B(de=i.children[se])===g&&V(de,y[X]))de.layout[E[X]]=H(de,y[X])+k(i,X)+b(de,X);else{var Ze,Ke=fe;if(B(de)===_)if((Ze=N(i,de))===m)T(de.layout[C[X]])&&(de.layout[C[X]]=G(j(de,X,qe-me-O(de,X)),R(de,X)));else if(Ze!==h){var Xe=qe-me-W(de,X);Ke+=Ze===f?Xe/2:Xe}de.layout[E[X]]+=we+Ke,ge&&$(i,de,X)}we+=Ve,ke=G(ke,Ue),Se+=1,Te=Ie}if(Se>1&&ge){var Je=i.layout[C[X]]-me,et=Je-we,tt=0,at=fe,it=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(i);it===v?at+=et:it===f?at+=et/2:it===m&&Je>we&&(tt=et/Se);var rt=0;for(se=0;se<Se;++se){var nt=rt,ot=0;for(le=nt;le<ee;++le)if(B(de=i.children[le])===_){if(de.lineIndex!==se)break;T(de.layout[C[X]])||(ot=G(ot,de.layout[C[X]]+O(de,X)))}for(rt=le,ot+=tt,le=nt;le<rt;++le)if(B(de=i.children[le])===_){var st=N(i,de);if(st===h)de.layout[E[X]]=at+b(de,X);else if(st===v)de.layout[E[X]]=at+ot-w(de,X)-de.layout[C[X]];else if(st===f){var lt=de.layout[C[X]];de.layout[E[X]]=at+(ot-lt)/2}else st===m&&(de.layout[E[X]]=at+b(de,X))}at+=ot}}var dt=!1,ut=!1;if(_e||(i.layout[C[K]]=G(j(i,K,ke+P(i,K)),ve),K!==n&&K!==s||(dt=!0)),ge||(i.layout[C[X]]=G(j(i,X,we+me),me),X!==n&&X!==s||(ut=!0)),dt||ut)for(se=0;se<ee;++se)de=i.children[se],dt&&$(i,de,K),ut&&$(i,de,X);for(Ee=Ae;null!==Ee;){for(le=0;le<2;le++)ue=0!==le?r:o,!T(i.layout[C[ue]])&&!U(Ee,ue)&&V(Ee,y[ue])&&V(Ee,A[ue])&&(Ee.layout[C[ue]]=G(j(Ee,ue,i.layout[C[ue]]-D(i,ue)-O(Ee,ue)-H(Ee,y[ue])-H(Ee,A[ue])),R(Ee,ue))),V(Ee,A[ue])&&!V(Ee,y[ue])&&(Ee.layout[y[ue]]=i.layout[C[ue]]-Ee.layout[C[ue]]-H(Ee,A[ue]));de=Ee,Ee=Ee.nextAbsoluteChild,de.nextAbsoluteChild=null}}function q(e,t,i){e.shouldUpdate=!0;var r=e.style.direction||a;!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===r?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=r,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),Y(e,t,i),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:Y,computeLayout:q,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();var kr=(e,t)=>{var a=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((i=>{a=a||t.layoutBox[i]!==e.layout[i],t.layoutBox[i]=e.layout[i]})),t.shouldUpdate=t.shouldUpdate||a,e.children.forEach((e=>{var a=t.children[e.id];a&&kr(e,a)}))},Sr=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var a=e.children[t];return Sr(a)})))))},xr=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var a=e.children[t];return xr(a)}))};class Pr extends C{constructor({style:e,name:t,auto:a=!0}={}){super({style:e,id:0,name:t});var i=null;this.auto=a,this.on("layout",(()=>{this.auto&&(clearTimeout(i),i=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(e){void 0===e&&(e=this.onebyone);var t,a={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return t=a,wr.fillNodes(t),wr.computeLayout(t),kr(a,this),e?Sr(this).then((()=>this.emit("update-done"))):(xr(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var Dr=new Pr({name:"webview-layout"});Dr.dest=0;var Or=new Pr({name:"nativeview-layout",auto:!1});Or.onebyone=!1,Or.dest=1;class Rr extends C{constructor({id:e,parentId:t,style:a,props:i={},type:r="text",name:n="",autoInsert:o=!1,eventType:s="touch",clickState:l=!1,bubbleEvent:d=!1,independent:u=!1,dest:c=0}={}){super({id:e,style:a,props:Object.assign(i,{fullscreen:!1}),name:n,parentId:t}),this.type="text"===r?"TextView":"ImageView",this.eventType=s,this.autoInsert=o,this.bubbleEvent=d,this.clickState=l,this.independent=u,this.dest=c,"touch"===this.eventType&&l&&this.ready().then((()=>{this.mask=new Rr({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click",independent:this.independent}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var p=Date.now(),h={x:0,y:0};this.on("touchstart",(e=>{this.clickState&&this.mask&&(this.mask.style.hidden=!1),p=Date.now(),h=e}));var f=e=>{this.clickState&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var a={x:0,y:0};Array.isArray(e)?a=e.pop():e.x&&e.y&&(a=e);var i={absoluteX:t.left+h.x,absoluteY:t.top+h.y,relativeX:h.x,relativeY:h.y,absoluteEndX:t.left+a.x,absoluteEndY:t.top+a.y,relativeEndX:a.x,relativeEndY:a.y,pressInterval:Date.now()-p};this.emit("click",i)};this.on("touchend",f),this.on("touchcancel",f),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=(0,h.$v)(this.computedStyle[t])),e)),{});t.bgColor=(0,h.$v)(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var a={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(a={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(a.width=0,a.height=0),this.mask&&(this.mask.style.width=a.width,this.mask.style.height=a.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:a,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed,independent:this.independent}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,a)=>{(0,l.IN)(`insert${this.type}`,Object.assign(e,{success:e=>{(0,h.cM)(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:a}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,a)=>{(0,l.IN)(`update${this.type}`,Object.assign(e,{success:t,fail:a}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id,independent:this.independent};return new Promise(((t,a)=>{(0,l.IN)(`remove${this.type}`,Object.assign(e,{success:t,fail:a}))}))}animate({left:e,top:t,opacity:a,scaleWidth:i,scaleHeight:r,rotate:n=0,duration:o=500,easing:s,emitError:d=!1}={}){var u={dest:this.dest,viewId:this.id,easing:s||"ease-in",duration:o,finalStyle:{left:e,top:t,opacity:a,rotate:n,scaleX:i,scaleY:r},independent:this.independent};return new Promise(((e,t)=>{(0,l.IN)("animateCoverView",Object.assign(u,{success:e,fail:t}))})).then((o=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==i&&(this.style.scaleWidth=i),void 0!==r&&(this.style.scaleHeight=r),void 0!==a&&(this.style.opacity=a),void 0!==n&&(this.style.rotate=n),o))).catch((e=>{if(wxNativeConsole.error("animateCoverView fail",e),d)throw e}))}}class Nr extends Rr{constructor({id:e,style:t,value:a="",name:i="",autoInsert:r=!1,eventType:n,bubbleEvent:o,clickState:s,independent:l=!1,dest:d=0}={}){super({id:e,style:t,props:{value:a},type:"text",name:i,autoInsert:r,eventType:n,bubbleEvent:o,clickState:s,independent:l,dest:d})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}class Mr extends Rr{constructor({id:e,style:t,src:a="",name:i="",autoInsert:r=!1,eventType:n,bubbleEvent:o,clickState:s,independent:l=!1,dest:d=0}={}){super({id:e,style:t,props:{src:a},type:"image",name:i,autoInsert:r,eventType:n,bubbleEvent:o,clickState:s,independent:l,dest:d})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:(0,b.Uj)(this.src)})}}var Lr=i(1141),Br={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},Fr=0,Wr={};f.default.onReady((()=>{Fr=f.default.appType+1e3,Wr=f.default.appLaunchInfo}));var Ur,Vr,Hr,jr={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},Gr={},zr=(e={})=>{var{eventid:t,src:a,ended:i,reason:r=""}=e;if(!Ur){var n,o,s,d=null===f.default||void 0===f.default||null===(n=f.default.appContactInfo)||void 0===n||null===(o=n.operationInfo)||void 0===o||null===(s=o.jsonInfo)||void 0===s?void 0:s.vod_config;null!=d&&d.domain_pattern&&null!=d&&d.trace_secret&&(Ur=new RegExp(null==d?void 0:d.domain_pattern))}if(Ur&&Ur.test(a)){var u,c=parseInt(Date.now()/1e3,10);if(1===Vr&&1===t&&a===Hr)return;Vr=t,Hr=a;var p=F.Z.rawPath.indexOf("?"),h=0;Gr[a]&&(h=c-Gr[a]),i?delete Gr[a]:Gr[a]=c;var v=(0,di.Oo)(),m={eventid:t,src:a,play_time:h,appversion:null===f.default||void 0===f.default||null===(u=f.default.appContactInfo)||void 0===u?void 0:u.user_version,app_timestamp:c,scene_note:F.Z.sceneNote,page_path:F.Z.lastRoute,query:p>=0?F.Z.rawPath.slice(p):"",networktype:(0,j.PL)(),publiclib_version:(0,vt.k)(),session_id:(0,Aa._)().sessionId||(0,Aa._)().sessionid,reason:r,osname:v.platform||"",osversion:v.system||"",devicemodel:v.model||"",devicebrand:v.brand||""};(0,l.yD)({apiName:"webapi_wxa_dramaplayreport",sdkApiName:"shortTVReport",reqData:m,success:e=>{},fail:e=>{}})}},$r={},Qr=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];I.wZ&&Qr.push("onVideoFullScreenChange");var Yr=(e,t,a)=>{if("ad"!==e.scene){(({component:e,eventName:t,eventData:a,src:i=""}={})=>{var r=(0,j.PL)(),n=f.default.SDKVersion||"",o=Object.keys(Wr.query||{}).map((e=>`${e}=${Wr.query[e]}`)).join(",");o=encodeURIComponent(o);var s="";switch(t){case"onLoad":s=[a.duration,a.controls?2:1].join(";");break;case"onWaiting":case"onTimeUpdate":s=[a.position,a.buffered].join(";");break;case"onError":s=a.errMsg.replace(","," ");break;case"onFullScreenChange":s=a.fullScreen?2:1;break;case"onImageLoad":s=[a.isLazyLoad?2:1,a.size,a.loadTime,a.width,a.height,a.originalWidth,a.originalHeight].join(";");break;case"onImageError":s=[a.isLazyLoad?2:1].join(";")}var l=[Math.round(Date.now()/1e3),Wr.scene,"",Wr.sessionid||Wr.sessionId,Wr.path,o,r,n,Br[e],jr[t],s,encodeURIComponent(i.substring(0,1024)).substring(0,1024),Fr].join(",");Reporter.reportKeyValue({key:"MediaCompStatus",value:l})})({component:"video",eventName:t,eventData:a,src:e.src});zr({eventid:{onPlay:1,onPause:2,onEnded:2,onError:3}[t],src:e.src,ended:"onEnded"===t,reason:"onError"===t?a.errMsg:void 0})}};class qr extends C{constructor({style:e={},name:t,x:a=0,y:i=0,width:r=300,height:n=200,hide:o=!1,src:s,poster:l,referrerPolicy:d="no-referrer",initialTime:u=0,playbackRate:c=1,live:p=!1,showPoster:h=!1,objectFit:f="contain",controls:v=!0,showProgress:m=!0,showProgressInControlMode:_=m,autoplay:g=!1,muted:y=!1,loop:A=!1,customCache:E=!1,enableProgressGesture:C=!0,enablePlayGesture:T=!1,showCenterPlayBtn:I=!0,autoInsert:b=!0,scene:w="default",preLoad:k=!1,obeyMuteSwitch:S=!1,underGameView:x=!1,backgroundColor:P="#000000",playerHint:D="",zIndex:O,autoPauseIfNavigate:R=!0,autoPauseIfOpenNative:N=!0,independent:M=!1,dest:L=0}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=b,this.playerHint=D,this.scene=w,this.preLoad=k,this.underGameView=x,this.zIndex=O,this.autoPauseIfOpenNative=N,this.autoPauseIfNavigate=R,this.customCache=E,this.independent=M,this.dest=L,this.showPoster=h,$r[this.id]=this;var B=null;this.emitter=new Lr.Z,this.deferred=[],this._buffered=0,this._position=0;var F={x:a,y:i,width:r,height:n,hide:o,src:s,poster:l,initialTime:u,playbackRate:c,live:p,objectFit:f,controls:v,showProgress:m,showProgressInControlMode:_,backgroundColor:P,autoplay:g,muted:y,loop:A,enableProgressGesture:C,enablePlayGesture:T,showCenterPlayBtn:I,obeyMuteSwitch:S,referrerPolicy:d};Object.keys(F).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>F[e],set:t=>{"src"!==e&&F[e]===t||(F[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(B),B=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),Qr.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,Yr(this,"onSrcSet",{}),new Promise(((e,t)=>{(0,l.IN)("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:(0,b.Uj)(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,poster:(0,b.Uj)(this.poster),success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return zr({eventid:2,src:this.src,ended:!0}),new Promise(((e,t)=>{I.cj?setTimeout((()=>{(0,l.IN)("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t})}),0):(0,l.IN)("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t}),Qr.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete $r[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,dest:this.dest,customCache:this.customCache,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,independent:this.independent,showPoster:this.showPoster};return this.isSrcChanged&&(t.filePath=(0,b.Uj)(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=(0,b.Uj)(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&Yr(this,"onSrcSet",{}),new Promise(((t,a)=>{(0,l.IN)("updateVideoPlayer",Object.assign({},e,{success:t,fail:a}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((a,i)=>{(0,l.IN)("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,independent:this.independent,dest:this.dest,success:a,fail:i})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}Qr.forEach((e=>{var t=e.replace("Video","");qr.prototype[t]=function(t){this.emitter.on(e,t)};var a=t.replace("on","off");qr.prototype[a]=function(t){this.emitter.off(e,t)}})),Qr.forEach((e=>{(0,v.n)(e,(t=>{var a=t.videoPlayerId||JSON.parse(t.data||"{}").id,i=$r[a];if(i)if(i.emitter.emit(e,t),"onVideoProgress"!==e){var r=t;"onVideoTimeUpdate"===e?(i._position=t.position,r={position:t.position,buffered:i._buffered}):"onVideoWaiting"===e&&(r={position:i._position,buffered:i._buffered}),Yr(i,e.replace("Video",""),r)}else i._buffered=t.buffered}))}));var Zr=i(5436),Kr={};class Xr extends C{constructor({style:e={},name:t,x:a=0,y:i=0,width:r=300,height:n=200,url:o="",urls:s=[],scale:l=1,autoInsert:d=!0,hide:u=!1,zIndex:c=0}={}){if(super({style:e,name:t}),this.x=a,this.y=i,this.width=r,this.height=n,this.scale=+l,this.hide=u,this.autoInsert=d,this.url=o,this.zIndex=c,this.emitter=new Zr.Q("ImagePreviewer",!0),Kr[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return(0,l.IN)("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{(0,l.IN)("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{(0,l.IN)("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete Kr[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}(0,v.n)("onImagePreviewerLoadFail",(e=>{Kr[e.viewId].emitter.emit("onImageLoadFail",e)}));var Jr=new WeakMap,en=Function.prototype.call.bind(WeakMap.prototype.get),tn=Function.prototype.call.bind(WeakMap.prototype.set),an=Function.prototype.call.bind(WeakMap.prototype.delete),rn=e=>en(Jr,e),nn=function(e){var t=rn(this),a={view:Rr,text:Nr,image:Mr,video:qr,"image-previewer":Xr}[e.name],i="";e.attributes.id?i=(0,h.um)(e.attributes.id):wxNativeConsole.error(`${e.name} 缺少id`);var r=Object.keys(e.attributes).reduce(((a,r)=>{var n=e.attributes[r],o=(0,h.um)(r);return"id"===r?(a.style=Object.assign(a.style||{},t.style[i]),a):"class"===r?(a.style=n.split(/\s+/).reduce(((e,a)=>Object.assign(e,t.style[a])),a.style||{}),a):(/\{\{.+\}\}/.test(n)||(a[o]=""===n||"true"===n||"false"!==n&&n),a)}),{});r.name=i;var n=new a(r);return t[i]=n,e.children.forEach((e=>{var t=nn.call(this,e);n.add(t)})),n};i(8267);var on=[];Date.now();Foundation.onLoad((()=>{~~(Date.now()/1e3)}));(0,l.jQ)("onRealtimeDataResponse",(e=>{on.forEach((t=>t(e)))}));var sn,ln=(0,te.s)("UpdateWXConfig"),dn=ln.onMethod;ln.offMethod;(0,l.jQ)("onUpdateWXConfig",(e=>{wxNativeConsole.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{f.default[t]=e[t]})),ln.emit(e)}));var un=!1,cn={},pn=JSON.parse,hn=(0,te.s)("onReportEvent");hn.internalOnMethod,hn.internalOffMethod;function fn(){if("string"==typeof f.default.opConfig){var e;try{e=pn(f.default.opConfig)}catch(e){}return e&&e.expt_info}return f.default.opConfig&&f.default.opConfig.expt_info}function vn(){var e,t=fn();return t&&un?(e=1,sn=t,Reporter.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,sn=t,Reporter.reportIDKey({key:"useLaunchExptInfo"}),Reporter.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,Reporter.reportIDKey({key:"useContactExptInfo"})),{exptInfo:sn,jsDataType:e}}(0,v.n)("onAppEnterForeground",(e=>{Object.assign(cn,e),cn.sessionid||cn.sessionId})),dn((e=>{fn()&&(un=!0)})),f.default.onReady((()=>{Object.assign(cn,f.default.appLaunchInfo);var e=fn();e?sn=e:f.default.appContactInfo&&f.default.appContactInfo.passThroughInfo&&(sn=f.default.appContactInfo.passThroughInfo.expt_info)}));(0,l.TG)("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));var mn=null,_n=!1;function gn(e,t){var a,i={};return(0,l.IN)("measureText",{text:e,fontSize:null!==(a=null==t?void 0:t.fontSize)&&void 0!==a?a:10,fontFamily:(null==t?void 0:t.fontFamily)||"sans-serif",fontWeight:"normal",fontStyle:"normal",complete(e){i={width:e.width||0}}}),i}function yn(e,t){var a={};if(_n)a=gn(e,t);else if(mn||(mn=function(){var e=null;if((0,I.aI)()){var t=new et.Z.Canvas;t.width=1,t.height=1,e=t.getContext("2d")}else(I.gm||I.DD)&&(e=(I.DD?new et.Z.OffscreenCanvas(0,0):document.createElement("canvas")).getContext("2d"));return e}()),mn){var i=t?`${t.fontSize||10}px ${t.fontFamily||"sans-serif"}`:null;i&&(mn.font=i),a=mn.measureText(e)}else _n=!0,a=gn(e,t);return a.width||0}var An={0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625};const En=new class{constructor(){}getCharWidth(e,t){return(An[e]?An[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){return I.wZ?this.getTextWidthInAndroid(e,t):Math.ceil(yn(e,t?{fontSize:t,fontFamily:"PingFangSC-Regular, SF Pro Display, SF Pro Text"}:void 0)||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var a=0;return e.forEach((e=>{var i=this.getCharWidth(e,t);a+=i})),a}getMaxWordLength(e,t,a,i=!0){e=(e=String(e)).split("");var r=0,n=0;i&&(a-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],l=this.getCharWidth(s,t);if(r+l>a)break;n++,r+=l}return n}textMetrics(e,t){for(var{fontSize:a,maxWidth:i,maxLines:r=1}=t,n=[],o=0,s=e.substring(0,e.length);o<r;){var l=this.getMaxWordLength(s,a,i,!(o!==r-1)),d=o===r-1?this.limitString(s,l):s.substring(0,l);d&&n.push({text:d,width:this.getTextWidth(d,a)}),o++,s=s.substring(l,s.length)}return n}};var Cn=i(3165),Tn=i(5340),In=i(6659),bn=i(7172),wn=i(6614),kn=i(7412),Sn=[];var xn=(0,te.s)("userCaptureScreen"),Pn=xn.onMethod,Dn=(xn.offMethod,null),On=null,Rn=[],Nn=[],Mn=F.Z,Ln=()=>{var e;return null===(e=Mn.lastRoute)||void 0===e?void 0:e.match(/__plugin__\/wx[a-z0-9]{16}/)};(0,v.n)("onUserCaptureScreen",(e=>{Ln()?Bn(On,Nn):Bn(Dn,Rn),xn.emit(e)}));var Bn=(e,t)=>{if("function"==typeof e){var a={},i=Mn.query;"object"==typeof i&&(i=Object.keys(i).map((e=>`${e}=${i[e]}`)).join("&")),a.takeScreenShotQuery=i,a.callBackHasPromise=!1,Mn.query,a.takeScreenShotQuery,t.push(a);(e=>{setTimeout((()=>{var a=t.indexOf(e);a>-1&&t.splice(a,1)}),3e3)})(a);var r=e();r&&("string"==typeof r.query&&(a.takeScreenShotQuery=r.query),(0,tt.tI)(r.promise)&&(a.callBackHasPromise=!0,r.promise.then((e=>{e&&"string"==typeof e.query&&(a.takeScreenShotQuery=e.query)}))))}},Fn=e=>e.length>0?e.shift():null;(0,v.n)("onTakeScreenshot",z()((function*(){var e,t=0,a=e=>{var a=Mn.lastRoute||"";if(e)if(e.callBackHasPromise)setTimeout((()=>{var t="/"+a+".html";e.takeScreenShotQuery&&(t+="?"+e.takeScreenShotQuery),(0,l.IN)("returnTakeScreenshot",{url:t})}),1500-t);else{var i="/"+a+".html";e.takeScreenShotQuery&&(i+="?"+e.takeScreenShotQuery),(0,l.IN)("returnTakeScreenshot",{url:i})}else{var r=Mn.query;"object"==typeof r&&(r=Object.keys(r).map((e=>`${e}=${r[e]}`)).join("&"));var n="/"+a+".html"+(r?"?"+r:"");Mn.query,(0,l.IN)("returnTakeScreenshot",{url:n})}};e=Fn(Rn);var i;i=Fn(Nn),"android"===f.default.platform?(t=500,Ln()?setTimeout(a,t,i):setTimeout(a,t,e)):Ln()?a(i):a(e)})));f.default.onReady((()=>{var e,t,a,i=1092===(null===(e=f.default.appLaunchInfo)||void 0===e?void 0:e.scene),r=null===(t=f.default.appLaunchInfo)||void 0===t||null===(a=t.referrerInfo)||void 0===a?void 0:a.extraData;(0,v.n)("onAppEnterForeground",(e=>{var t;i=1092===e.scene,r=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),(0,v.n)("onUserCaptureScreen",(()=>{var e,t,a=Mn.lastRoute||"",n=Mn.query||{};"object"==typeof n&&(n=Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&")),Reporter.reportKeyValue({key:"MiniprogramOnUserCaptureScreen",value:[a,n].join(",")}),i&&(null===(e=r)||void 0===e?void 0:e.csSessionId)&&(0,l.yD)({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:1,cs_session_id:null===(t=r)||void 0===t?void 0:t.csSessionId}})}))}));var Wn=i(5019),Un=i(5716),Vn=i(143),Hn=new Zr.Q("playableads",!1);(0,l.jQ)("onPlayableStatusChange",(e=>{Hn.emit("playableStatusChange",e)}));var jn=new Zr.Q("playableadsNew",!1);(0,l.jQ)("onPlayableStatusChangeNew",(e=>{jn.emit("playableStatusChangeNew",e)}));var Gn=i(4500),zn=new WeakMap,$n=function(e){return zn.get(e)||{}},Qn=function(e,t){var a;return null===(a=zn.get(e))||void 0===a?void 0:a[t]},Yn=new Map,qn=(0,Wi.Fr)(Tn.lz),Zn=function(e,t){var{bufferedOperations:a,staticOperations:i}=e;e.audioInstance=t,Object.keys(i).forEach((e=>{var a=i[e];(0,tt.DM)(a)?a.forEach((a=>{t["on"+e](a)})):t[e]=a})),a.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},Kn=function(e,t,a){var i;e.staticOperations&&t in e.staticOperations?(e.staticOperations[t]=a,e.audioInstance&&(e.audioInstance[t]=a)):e.audioInstance?e.audioInstance[t]=a:null==e||null===(i=e.bufferedOperations)||void 0===i||i.push({type:"set",value:a,key:t})},Xn=function(e,t,a,i){var r;i?("on"===i?e.staticOperations&&e.staticOperations[t].add(a):"off"===i&&e.staticOperations&&e.staticOperations[t].delete(a),e.audioInstance&&e.audioInstance[i+t]&&e.audioInstance[i+t](a)):e.audioInstance?e.audioInstance[t]&&e.audioInstance[t](a):null==e||null===(r=e.bufferedOperations)||void 0===r||r.push({type:"method",value:a,key:t})},Jn=(e,t)=>{var a=!1,i=va();i&&"function"==typeof i.createHTMLAudioElement&&(a=!0);var r=e=>{var{stats:i}=e;i.size<102400?t("NativeWebAudio",!1):t(a?"HTMLAudioElement":"AudioJsApi",!0,i.size)};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t(a?"HTMLAudioElement":"AudioJsApi",!0,0);else if(/^(data:audio\/)/.test(e))t("NativeWebAudio",!1);else{var n=(e=>Yn.has(e)?Yn.get(e):qn({path:e}).then((t=>(Yn.set(e,t),t))))(e);(0,tt.tI)(n)?n.then((e=>{r(e)})).catch((e=>{console.error(e),wxNativeConsole.error("statLocalAudio fail",e),t("AudioJsApi",!0,0)})):r(n)}},eo=function(e,t){var a;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var i=new ot.Q((e=>{a=e}));t.src=e,t._ready=!1,t._statPromise=i,t._statPromiseResolve=a};class to{constructor({pluginId:e,type:t}={}){var a={pluginId:e,bufferedOperations:[],staticOperations:{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set},_ready:!1,type:t};a._statPromise=new ot.Q((e=>{a._statPromiseResolve=e})),zn.set(this,a)}get src(){return Qn(this,"src")}set src(e){var t=$n(this),{src:a,audioInstance:i,audioInstanceType:r,pluginId:n}=t;"string"==typeof e&&e.length>0&&a!==e&&(a&&eo.call(this,e,t),t.src=e,Jn(e,i?(a,o,s)=>{var l=$n(this);if(l.src===e){var{_statPromiseResolve:d}=l;t._ready=!0,t.audioInstanceType=a,a===r?i.src=e:(i.destroy(),t.audioInstance=null,"AudioJsApi"===a?(Kn(t,"src",e),Zn(t,new li({pluginId:n,withReport:o,type:zn.get(this).type,size:s}))):"NativeWebAudio"===a?(Kn(t,"src",e),Zn(t,new Ma({withReport:o,type:zn.get(this).type}))):"HTMLAudioElement"===a&&(Kn(t,"src",e),Zn(t,new La({withReport:o,type:zn.get(this).type,size:s})))),d&&d()}}:(a,i,r)=>{var o=$n(this);if(o.src===e){var{_statPromiseResolve:s}=o;t._ready=!0,t.audioInstanceType=a,"AudioJsApi"===a?(Kn(t,"src",e),Zn(t,new li({pluginId:n,withReport:i,type:zn.get(this).type,size:r}))):"NativeWebAudio"===a?(Kn(t,"src",e),Zn(t,new Ma({withReport:i,type:zn.get(this).type}))):"HTMLAudioElement"===a&&(Kn(t,"src",e),Zn(t,new La({withReport:i,size:r}))),s&&s()}}))}get startTime(){var e=Qn(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=$n(this),{startTime:a}=t;e!==a&&"number"==typeof e&&e>=0&&(t.startTime=e,Kn(t,"startTime",e))}get autoplay(){var e=Qn(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=$n(this),{autoplay:a,_statPromise:i}=t;(e=!!e)!==a&&(t.autoplay=e,e?i&&i.then((()=>{Kn(t,"autoplay",e)})):Kn(t,"autoplay",e))}get loop(){var e=Qn(this,"loop");return void 0!==e&&e}set loop(e){var t=$n(this),{loop:a}=t;(e=!!e)!==a&&(t.loop=e,Kn(t,"loop",e))}get volume(){var e=Qn(this,"volume");return void 0!==e?e:1}set volume(e){var t=$n(this),{volume:a}=t;"number"==typeof e&&e>=0&&e<=1&&e!==a&&(t.volume=e,Kn(t,"volume",e))}get playbackRate(){var e=Qn(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=$n(this),{playbackRate:a}=t;"number"==typeof e&&a!==e&&e>=.5&&e<=2&&(t.playbackRate=e,Kn(t,"playbackRate",e))}get duration(){var{audioInstance:e}=$n(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=$n(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=$n(this);t.currentTime=e,Kn(t,"currentTime",e)}}get paused(){var{audioInstance:e}=$n(this);return!e||e.paused}get buffered(){var{audioInstance:e}=$n(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return Qn(this,"referrerPolicy")||""}set referrerPolicy(e){var t=$n(this),{referrerPolicy:a}=t;"string"==typeof e&&e.length>0&&a!==e&&(t.referrerPolicy=e,Kn(t,"referrerPolicy",e))}play(){var e=$n(this),{_statPromise:t,_ready:a}=e;a?Xn(e,"play"):t&&t.then((()=>{Xn(e,"play")}))}pause(){var e=$n(this);Xn(e,"pause")}stop(){var e=$n(this);Xn(e,"stop")}seek(e){var t=$n(this);Xn(t,"seek",e)}destroy(){var e=$n(this);Xn(e,"destroy"),zn.delete(this)}onTimeUpdate(e){var t=$n(this);Xn(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=$n(this);Xn(t,"TimeUpdate",e,"off")}onCanplay(e){var t=$n(this);Xn(t,"Canplay",e,"on")}offCanplay(e){var t=$n(this);Xn(t,"Canplay",e,"off")}onPlay(e){var t=$n(this);Xn(t,"Play",e,"on")}offPlay(e){var t=$n(this);Xn(t,"Play",e,"off")}onPause(e){var t=$n(this);Xn(t,"Pause",e,"on")}offPause(e){var t=$n(this);Xn(t,"Pause",e,"off")}onStop(e){var t=$n(this);Xn(t,"Stop",e,"on")}offStop(e){var t=$n(this);Xn(t,"Stop",e,"off")}onEnded(e){var t=$n(this);Xn(t,"Ended",e,"on")}offEnded(e){var t=$n(this);Xn(t,"Ended",e,"off")}onError(e){var t=$n(this);Xn(t,"Error",e,"on")}offError(e){var t=$n(this);Xn(t,"Error",e,"off")}onWaiting(e){var t=$n(this);Xn(t,"Waiting",e,"on")}offWaiting(e){var t=$n(this);Xn(t,"Waiting",e,"off")}onSeeking(e){var t=$n(this);Xn(t,"Seeking",e,"on")}offSeeking(e){var t=$n(this);Xn(t,"Seeking",e,"off")}onSeeked(e){var t=$n(this);Xn(t,"Seeked",e,"on")}offSeeked(e){var t=$n(this);Xn(t,"Seeked",e,"off")}}var ao=i(1105),io=i(88),ro=!1;(I.cj||I.wZ)&&f.default.onReady((()=>{if((0,io.J)("forceUseAudioDynamic"))if((0,I.aI)())ro=!0,wxNativeConsole.info("小游戏开启 forceUseAudioDynamic");else{var e=I.cj?"clicfg_appbrand_ios_force_use_audio_dynamic_new":"clicfg_appbrand_android_force_use_audio_dynamic_new";ro="1"===(null===f.default||void 0===f.default?void 0:f.default.expt[e]),wxNativeConsole.info(`小程序${ro?"开启":"关闭"} forceUseAudioDynamic`)}else wxNativeConsole.info("关闭 forceUseAudioDynamic")}));var no=wxNativeConsole.createLogger("InnerAudioContext"),oo=function(e={},t="outer"){var a=!0;if(I.wZ){var{system:i}=(0,u.Oo)();-1===(0,ui.cv)(i,"6.0.0")&&(a=!1)}I.jP&&(a=!1);var r=(0,ao.hI)(this),{useWebAudioImplement:n}=e;return(I.DD||I.gm)&&(n=!0),I.Ae&&et.Z.Audio?(no.info("using NativeAudio"),new Na({type:t})):n&&sa()&&a?(no.info("using WebAudio"),new Ma({type:t})):sa()&&a&&ro?(no.info("using AudioDynamic"),new to({pluginId:r,type:t})):(no.info("using AudioJsApi"),new li({pluginId:r,type:t}))},so=i(648),lo={16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],33455:[{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"string",key:"instance_id",value:""}]},uo=e=>e.map((e=>String(e.value).replace(/,/g,";"))).join(","),co="",po=I.iw,ho="",fo="",vo="",mo="",_o="",go="",yo=!0,Ao="";f.default.onReady((()=>{var e;e=(0,di.Ew)(),co=(e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":f.default.deviceOrientation&&/^landscape/.test(f.default.deviceOrientation)?"landscape":f.default.deviceOrientation||"portrait")||"";var t=(0,di.Oo)();ho=t.system,fo=t.version,vo=t.SDKVersion,_o=t.model,go=t.brand,yo=(0,I.aI)();try{Ao=f.default.accountInfo.appId,mo=__libVersionInfo__.updateTime}catch(e){}}));var Eo=(e,t)=>{var a=t,i=(e=>{var t=lo[e.toString()];return t?t.concat([]):[]})(e);if(i&&0!==i.length)return a=Object.assign({publisher_appid:Ao,appid:Ao,orig_weapp_id:"",network_type:"",wechat_version:fo,platform:po,system_version:ho,device_orientation:co,wxapp_lib_version:vo,wxapp_lib_time:mo,machine_type:_o,ad_platform:yo?1:0},a),a=Object.assign({DeviceModel:_o,DeviceBrand:go,OsName:po,OsVersion:ho},a),i=i.map((e=>({type:e.type,value:(a[e.key]||e.value).toString()}))),(e=>[33455].includes(Number(e)))(e)?Reporter.reportKeyValue({key:e,value:uo(i),number:!0,immediately:!0}):Zi({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:i}}}).catch((e=>{}))},Co=(e,t,a)=>{(({key:e,id:t})=>{var a=t,i=e;"object"==typeof i&&(!a&&(a=i.idKeyGroup),i=i.idKey),0===i&&(i="0"),Reporter.reportIDKeyDirectly({id:a||924,key:i,force:!0})})({key:e}),(({key:e,id:t,extInfo:a,reportData:i})=>{var r=e,n=t,o=a,s=i;if("object"==typeof r&&(!n&&(n=r.idKeyGroup),r=r.idKey),0===r&&(r="0"),s=s||{},o&&"string"!=typeof o)try{o=JSON.stringify(o)}catch(e){o=o.toString()}var l=16295;try{var d,u;1===Number(null===f.default||void 0===f.default||null===(d=f.default.expt)||void 0===d||null===(u=d.clicfg_miniprogram_adreport_use_kv)||void 0===u?void 0:u.value)&&(l=33455)}catch(e){}Eo(l,{id_key:r,id_key_group:n||924,report_time:+new Date,ad_pos_type:s.ad_pos_type||0,source_url:s.source_url||"",expand_feild:s.reportAdData||"",expand_feild2:o,aid:s.aid||0,traceid:s.traceid||"",ad_unit_id:s.ad_unit_id,slotid:s.slotid||0,publisher_appid:s.publisher_appid||""})})({key:e,extInfo:t,reportData:a})},To=i(7118),Io=null,bo=[];(0,To.L)("videoAdPreloadInfoGet",(e=>{Io=e,bo.forEach((e=>{null==e||e(Io)})),bo=[]}));var wo,ko=e=>bo.push(e),So=()=>Io,xo=(0,kn.t)(),Po=924,Do=2,Oo=4,Ro=e=>({idKey:e,idKeyGroup:Po}),No=Ro(142),Mo=Ro(141),Lo=Ro(140),Bo=Ro(145),Fo=Ro(146),Wo=(Ro(144),Ro(143),{}),Uo=1,Vo=1,Ho="aiad",jo={banner:"8040321819858439",rewardedVideoAd:"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885",cpsShopAd:"4021337766924141",wxpayBottom:"1024740886829562",wxpayCard:"8054749846134397",aiadCustom:"4071202390577885",aiadBanner:"8040321819858439"},Go={},zo=[],$o={},Qo="pages/index/index",Yo="/homeIntersitialCache.txt",qo="wxfile://ad",Zo=(e,t,a=!1)=>{if(a)if("banner"===e){for(var i in ts)if(i.startsWith("banner-aiad"))return i;for(var r of es)if(r.startsWith("banner-aiad"))return r}else if("custom"===e){for(var n in ts)if(n.startsWith(`custom-aiad-${t}`))return n;for(var o of es)if(o.startsWith(`custom-aiad-${t}`))return o}return e+"-"+Ho+(t?`-${t}`:"")},Ko=e=>t=>Jo(t,e),Xo=(Ko(null),Ko({ignoreCheck:!0})),Jo=(Ko({pathSlotIndex:1,ignoreCheck:!0}),(e,t)=>{var a;null!=t&&t.ignoreCheck&&(a=t.ignoreCheck);var i,r="";if(null!=t&&t.pluginId&&(r=t.pluginId),null!=t&&t.pathSlotIndex&&(i=t.pathSlotIndex),Array.isArray(e)||a||i){for(var n of e)["banner","video"].includes(n.type)&&(n.subType=n.type,n.type="custom",n.migrateCustom=!0);for(var o=0,s=e.length;o<s;o++){var l=e[o],{unitId:d,type:u}=l;if(a||-1!==["banner","custom","videoPatch","video"].indexOf(u)){if(d){if(-1!==zo.indexOf(d)){console.warn(`preloadAd已预加载过${d}这个广告单元,请勿重复调用`);continue}zo.push(d),$o[d]={...l,pluginId:r}}else if(!d&&!a&&!i){console.warn(`preloadAd item:${o} lose unitId`);continue}var c=void 0,p=void 0;a?("custom"===l.type?(p=l.adTemplId,l.realTemplId&&(c=l.realTemplId),l.migrateCustom&&(p=l.migrateBannerAdTemplId)):p=l.adTemplId,"interstitial"===l.type&&"aiad"===l.mode?rs(l,{saveKey:"interstitial"===l.type&&"aiad"===l.mode?`${Ho}-${l.pullPath}`:Vo++,type:l.type,mode:l.mode,pathSlotIndex:100,preloadPath:l.pullPath}):rs(l,Object.assign({},t,{saveKey:i?Ho:Vo++,type:l.type,mode:l.mode,adTemplId:p,realTemplId:c}))):rs($o[d])}else console.warn("wx.preloadAd参数有误，请检查type类型")}}else console.warn("preloadAd参数应为数组")}),es=new Set,ts={},as=["interstitial"],is=function(){var e=z()((function*(e,t,a,i){var r,n;try{var{data:o}=t;if(!(o.advertisement_num>=1&&o.advertisement_info.length))return void Co(Mo,a===Ho?{errCode:o.ret,errMsg:"no advertisement",type:a}:{errCode:o.ret,errMsg:"no advertisement",type:e.type},{ad_unit_id:e.unitId});var s,l,d=o.advertisement_info[0];if(r=d.aid,n=d.traceid,null!==(s=d.video_info)&&void 0!==s&&s.videoUrl&&""===e.pluginId){var u=yield((e,t)=>new Promise((a=>{var i=Date.now();(0,Q.ot)({url:t.video_info.videoUrl,success(r){a(r.tempFilePath),Co(Bo,{type:e.type,url:t.video_info.videoUrl,costtime:Date.now()-i},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})},fail(){a(""),Co(Fo,{type:e.type,url:t.video_info.videoUrl},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})}})})))(e,d);u&&(d.video_info.preloadUrl=u)}Co(No,a===Ho?{type:a}:{type:e.type},{ad_unit_id:e.unitId,aid:d.aid,traceid:d.traceid}),"aiad"!==(null==i?void 0:i.mode)&&"interstitial"===(null==i?void 0:i.type)?l="interstitial-"+a:(l=a?Zo(e.type,i.adTemplId):e.unitId,"aiad"===(null==i?void 0:i.mode)&&"interstitial"===(null==i?void 0:i.type)&&(l+="-"+Uo++)),"aiad"===(null==i?void 0:i.mode)&&"interstitial"===(null==i?void 0:i.type)&&(Wo[l]={use:!1,path:null==i?void 0:i.preloadPath}),ts[l]={data:JSON.stringify(o),_preloadTime:+new Date,_aid:r,_traceid:n,adTemplId:null==i?void 0:i.adTemplId,preloadPath:null==i?void 0:i.preloadPath}}catch(t){Co(Mo,{errMsg:"advertisement error",error:t instanceof Error?null==t?void 0:t.stack:t,type:e.type},{ad_unit_id:e.unitId})}}));return function(t,a,i,r){return e.apply(this,arguments)}}(),rs=(e,t)=>{var a,i=!!t;if(a="interstitial"===(null==t?void 0:t.type)&&"aiad"===(null==t?void 0:t.mode)?t.saveKey:i?Zo(t.type,t.adTemplId):e.unitId,!es.has(a)){var r=!1;if("interstitial"===(null==t?void 0:t.type)&&"aiad"===(null==t?void 0:t.mode)&&(r=!0),es.add(a),r){var n=t.preloadPath;us[n]={status:1}}return Go[a]=new Promise(((n,o)=>{ds(e,i,t).then((o=>{is(e,o,i?t.saveKey:void 0,t).then((()=>{es.delete(a),delete Go[a],n(),r&&(us[t.preloadPath].status=0),e.pullPath===Qo&&(0,io.J)("enableCacheAiadInterstitial")&&((e={})=>{e.lastModifyTime=Date.now();var t=()=>{xo.writeFile({filePath:qo+Yo,encoding:"utf8",data:JSON.stringify(e)})};xo.access({path:qo,success:()=>{t()},fail:()=>{xo.makeDir({dirPath:qo,success:()=>{t()}})}})})(ts["interstitial-aiad-1"])}))})).catch((e=>{wxNativeConsole.warn("preloadAdData fetch error: ",e),es.delete(a),delete Go[a],o(e),r&&(us[t.preloadPath].status=0)}))})),Go[a]}},ns=!1,os=[];try{var ss=e=>{ns=!0,os.forEach((t=>t(e))),os=[],(0,ce.bq)(ss)};(0,ce.HM)(ss)}catch{}var ls=null,ds=(e,t=!1,a=void 0)=>new Promise(((i,r)=>{var n;(n=null!=a&&a.pathSlotIndex?(null==a?void 0:a.preloadPath)||__userActionTracer__.getCurrentRoutePathWithoutQuery():(null==a?void 0:a.preloadPath)||Ar.weappPath).endsWith(".html")&&(n=n.slice(0,-5)),(e=>{var t=So();t?null==e||e(t):(ns?(ls&&clearTimeout(ls),ls=setTimeout((()=>{(0,so.n)("videoAdPreloadInfo",{},[Ar.currentWebviewId])}),0)):os.push((({webviewId:e})=>{(0,so.n)("videoAdPreloadInfo",{},[e||0])})),ko(e))})((o=>{var s,d,u,c,p={pos_id:"",ad_unit_id:e.unitId,scene_type:o.scene_type,weapp_path:n,user_agent:o.ua,sdk_version:yr.SDKVersion,weapp_extra_data:JSON.stringify({wxa_start_ts:yr.startTime.valueOf(),wxa_enter_ts:Ar.enterForegroundTime.valueOf(),start_ts:yr.startTime.valueOf(),enter_ts:Ar.enterForegroundTime.valueOf(),user_duration:Ar.gameDuration+(Date.now()-Ar.enterForegroundTime.getTime()),machine_type:yr.model,is_ad_interval:!1,wxa_ext:"",env:null===(s=f.default.host)||void 0===s?void 0:s.env,app_appid:null===(d=f.default.host)||void 0===d?void 0:d.appId,host_version:null===(u=f.default.host)||void 0===u?void 0:u.version,local_wechat_version:null===(c=f.default.host)||void 0===c?void 0:c.localWeChatVersion,wxa_fetch_ads_ts:Date.now()}),ext_slot_custom_comm:""};e.pluginId?(p.appid=e.pluginId,p.orig_weapp_id=yr.gameAppId):(p.appid=yr.gameAppId,p.orig_weapp_id="");var h={is_ad_preload:1};if("custom"===e.type?(p.pos_id=jo.customAd,h.is_adunit_tmpl=!0):"banner"===e.type?(p.pos_id=jo.banner,Number(e.adIntervals)>0&&(h.refresh_time=String(e.adIntervals))):"videoPatch"===e.type?p.pos_id=jo.wxAppPreVideoAd:"video"===e.type?p.pos_id=jo.wxAppVideo:"wxpay"===e.type&&(e.hasWxPayCustomCard?p.pos_id=`${jo.wxpayBottom}`:p.pos_id=`${jo.wxpayBottom}|${jo.wxpayCard}`,p.ad_unit_id=""),e.subType)if("skitBottom"===e.subType)h.is_skit=1,h.skit_ad_type=1002;else if("skitFeeds"===e.subType)h.is_skit=1,h.skit_ad_type=1001;else if(["banner","video"].includes(e.subType)){var v;"banner"===e.subType?v=Do:"video"===e.subType&&(v=Oo),h.ad_raw_type=v}if((0,I.er)()&&(h.in_3rd_app=1),h.machine_brand=yr.brand||(null===f.default||void 0===f.default?void 0:f.default.brand),t&&(p.ad_unit_id=void 0,p.pos_id=jo.interstitialAd,h.request_type=1),null!=a&&a.pathSlotIndex){if(p.ad_unit_id="ffffffff3x","interstitial"===e.type);else if("custom"===e.type){p.pos_id=jo.aiadCustom;var m=a.adTemplId;a.realTemplId&&(m=a.realTemplId),h.ad_templ_id=m}else p.pos_id=jo.aiadBanner;h.path_slot_index=a.pathSlotIndex}var _=(()=>{var e,t,a,i,r=[];if((null===f.default||void 0===f.default||null===(e=f.default.expt)||void 0===e||null===(t=e.clicfg_miniprogram_operatewxdata_use_quic)||void 0===t?void 0:t.groupid)>0){var n,o=null===f.default||void 0===f.default||null===(n=f.default.expt)||void 0===n?void 0:n.clicfg_miniprogram_operatewxdata_use_quic;r.push({exptid:o.exptid,groupid:o.groupid,name:o.name,value:o.value})}if((null===f.default||void 0===f.default||null===(a=f.default.expt)||void 0===a||null===(i=a.clicfg_miniprogram_adreport_use_kv)||void 0===i?void 0:i.groupid)>0){var s,l=null===f.default||void 0===f.default||null===(s=f.default.expt)||void 0===s?void 0:s.clicfg_miniprogram_adreport_use_kv;r.push({exptid:l.exptid,groupid:l.groupid,name:l.name,value:l.value})}return r})();_&&_.length&&(h.weapp_expt_ctx=_),p.ext_slot_custom_comm=JSON.stringify(h),(0,l.yD)({sdkApiName:"webapi_getadvert",apiName:"webapi_getadvert",reqData:p,success:e=>{i(e)},fail:t=>{wxNativeConsole.warn("webapi_getadvert err: ",t),Co(Lo,{error:t,type:e.type},{ad_unit_id:e.unitId,slotid:p.pos_id}),r(t)},complete:()=>{}})}))})),us={},cs=(e=!1)=>{var t=__userActionTracer__.getCurrentRoutePathWithoutQuery();return t.endsWith(".html")&&(t=t.slice(0,-5)),us[t]?us[t].status:e?void 0:0},ps=()=>{var e=__userActionTracer__.getCurrentRoutePathWithoutQuery();return e.endsWith(".html")&&(e=e.slice(0,-5)),Go[`${Ho}-${e}`]},hs={},fs=(0,Vn.v)("ad"),vs={GameGlobal:r.Z,_onShow:n.dN,_onHide:o.vv,_offShow:n.Tb,_offHide:o.b$,onBeforeHide:o.VT,onAfterHide:o.rc,offBeforeHide:o.yN,offAfterHide:o.UR,_downloadFileSkipCheckDomain:s.o,touch:{},reportCanvasData:M,ReportCanvasDataEventType:O,checkAndUseAdSkipCard:function(){return new Promise(((e,t)=>{Se||t(),Se&&(xe=setTimeout(t,3e3)),Se&&(0,l.yD)({apiName:"webapi_getadcardbalance",success({data:a}){var{errCode:i,balance:r}=a;!i&&r?(xe&&clearTimeout(xe),Ae({title:"是否使用广告跳过卡",content:`当前还有${r}张`,confirmText:"使用",cancelText:"继续看",success({confirm:a}){a?(0,l.yD)({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:a}){var{errCode:i}=a;i?(be({title:"使用广告卡失败",icon:"error"}),t()):(be({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))},_requestSkipCheckDomain:Pe.ac,onAppRoute:ce.HM,showToast:be,_getNetworkType:j._V,getChannelsLiveInfo:function(e){if(I.$c)(0,l.YG)("getChannelsLiveInfo",e,"getChannelsLiveInfo:fail SDK暂不支持此API");else{var t,a,i={...e,jsapi:Ne};if("number"==typeof e.startTime||"number"==typeof e.endTime)if(i.startTime=Oe(null!==(t=e.startTime)&&void 0!==t?t:0),i.endTime=Oe(null!==(a=e.endTime)&&void 0!==a?a:Date.now()),i.startTime>=i.endTime)return void(0,l.YG)(Ne,e,"invalid time range");Re(i)}},_showModal:Ae,getInitScreenSize:di.Ew,getSystemInfoSync:di.xI,onAppRouteDone:Ve,onWindowResize:e=>{He.push(e)},beginAudioInterruption:()=>{!1===vi&&!1===mi&&(mi=!0,Xe.emit({}),fi())},endAudioInterruption:()=>{!1===vi&&!0===mi&&(mi=!1,Je.emit({})),(()=>{if(hi){var e=JSON.parse(hi);(0,l.IN)("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))}})()},__wxConfig:f.default,onNativeEvent:v.n,offNativeEvent:v.ri,onNetworkWeakChange:j.AB,getExptInfoSync:function(e){var t={},{exptInfo:a,jsDataType:i}=vn();return a&&Array.isArray(a.expt_param_list)&&(Array.isArray(e)||(e=a.expt_param_list.map((e=>e.param_name))),a.expt_param_list.forEach((a=>{-1!==e.indexOf(a.param_name)&&(t[a.param_name]=a.param_value,a.expt_id&&function(e,t,a){Reporter.reportKeyValue({key:"ExptHit",value:[(0,vt.k)(),(0,vt.n)(),e,encodeURIComponent(JSON.stringify(t)),0,"",a].join(",")})}(a.expt_group_id,a,i))}))),t},addInnerShareCallbacks:function(e){Sn.push(e)},onBeforeUnloadPage:bi,_onUserCaptureScreen:Pn,getAdUxInfo:Wn.I,getStableSystemInfo:u.Oo,vibrateShort:(e={})=>{var t=Object.assign({},e);t.style=t.type,(0,l.IN)("vibrateShort",t,{})},vibrateLong:(e={})=>{(0,l.IN)("vibrateLong",e,{})},setNavigateBackInterception:Bi,stopNavigateBackInterception:Fi,NavigationBackTypes:ki,_gameTransfer:yi,deviceInfoLoaded:br,loadDeviceInfoByManual:e=>{var t=Object.keys(e);for(var a of t)yr[a]=e[a]},appRouteInfo:Ar,getIndentityInfo:()=>(0,gr.ei)(yr,["oaid","imei","idfa","common_device_id"]),deviceInfo:yr,proxyReady:()=>Er(),getDeviceOrientation:()=>{var e=(0,di.xI)();return yr.screenWidth=e.screenWidth,yr.screenHeight=e.screenHeight,yr.deviceOrientation=yr.screenWidth>yr.screenHeight?"landscape":"portrait",yr.deviceOrientation},webviewLayout:Dr,nativeviewLayout:Or,View:Rr,Text:Nr,Image:Mr,Video:qr,Component:class{constructor(){tn(Jr,this,{})}},initComponent:function(e,t,a){var i=rn(this);i.xom=e,i.style=t,i.state=a,nn.call(this,e)},createComponent:nn,getPrivateThis:rn,removePrivateThis:e=>{an(Jr,e)},invoke:Un.dw,invokeMethod:l.IN,beforeInvoke:l.r3,onMethod:l.jQ,publish:l.nY,subscribe:l.Ld,invokeOperateWXDataPromise:l.Qh,adReportOperateWXDataPromise:Zi,_invokeMethod:l.be,gametext:En,packageChannel:fs,getGameTouchStatus:()=>({}),onGameToucnEnd:()=>{},offGameToucnEnd:()=>{},onPlayableStatusChange:function(e){Hn.on("playableStatusChange",e)},offPlayableStatusChange:function(e){Hn.off("playableStatusChange",e)},onPlayableStatusChangeNew:function(e){jn.on("playableStatusChangeNew",e)},offPlayableStatusChangeNew:function(e){jn.off("playableStatusChangeNew",e)},_getABTestConfig:Gn.b,getInternalFileSystemManager:kn.t,readdir:Cn.e,stat:Tn.lz,unlink:In.q,writeFile:bn.N,readFileSync:nt.N,readFile:nt.p,access:wn.P,accessSync:wn.c,wxNativeConsole:wxNativeConsole,wxConsole:wxConsole,console:console,_createInnerAudioContext:oo,invokeOperateWXData:l.yD,getHasPreloadAdMap:()=>{var e={};return Object.keys(ts).forEach((t=>{"string"!=typeof t||as.includes(t)||(e[t]=ts[t])})),Object.keys(e).forEach((e=>{delete ts[e]})),e},getPreloadIntersititialAd:(e=!1)=>{var t=[];if(e){var a=(()=>{var e,t,a=null,i=Number(null!==(e=null===(t=f.default.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_android_aiad_interstitial_cache_time)&&void 0!==e?e:0);try{var r=xo.readFileSync(qo+Yo,"utf8"),n=JSON.parse(r);Date.now()-n.lastModifyTime<i&&(delete n.lastModifyTime,a=n)}catch(e){}return a})(),i=__userActionTracer__.getCurrentRoutePathWithoutQuery();if(a&&i===Qo&&(0,io.J)("enableCacheAiadInterstitial"))t.push(a);else{var r=Object.keys(Wo),n=!1;for(var o of r){var s=Wo[o],l=__userActionTracer__.getCurrentRoutePathWithoutQuery();if(l.endsWith(".html")&&(l=l.slice(0,-5)),s.path===l&&!s.use){n=o;break}}if(n)delete Wo[n];else{var d=Object.keys(Wo),u=!1;for(var c of d){var p=Wo[c],h=__userActionTracer__.getCurrentRoutePathWithoutQuery();if(p.path===h&&!p.use){u=c;break}}u?delete Wo[u]:u=d[0],ts[u]&&(t.push(ts[u]),delete ts[u])}}}else for(var v=1;v<=Vo;v++){var m="interstitial-"+v;t.push(ts[m]),delete ts[m]}return t},getServicePreloadInfo:So,addPreloadInfoCbList:ko,interstitialAdShowNotify:()=>{var e=__userActionTracer__.getCurrentRoutePathWithoutQuery();hs[e]=!0},getPreloadIntersititialAdStatus:cs,getPreloadingPromise:ps,AIAD_INTERSTITIAL_ADUNITID:"ffffffff3x",preloadAiInterstitialAiAd:e=>{if(!0===e&&(e=__userActionTracer__.getCurrentRoutePathWithoutQuery()),e||wo){if(e.endsWith(".html")&&(e=e.slice(0,-5)),!ps())return void 0!==cs(!0)&&wxNativeConsole.info(`[aiad info] ad is preloaded path: ${__userActionTracer__.getCurrentRoutePathWithoutQuery()}`),Xo([{type:"interstitial",mode:"aiad",pullPath:e}]);wxNativeConsole.info(`[aiad info] ad is preloading... path: ${__userActionTracer__.getCurrentRoutePathWithoutQuery()}`)}else console.error("error: preload aiad interstitial no exist correct path")},getCurrentShowAdPath:()=>{try{return(0,I.aI)(),""}catch(e){}}};const ms=vs},6142:(e,t,a)=>{"use strict";a.d(t,{DM:()=>p,Em:()=>n,Ft:()=>d,HD:()=>o,Kn:()=>u,ZT:()=>m,eP:()=>f,hj:()=>s,mf:()=>c,o8:()=>l,tI:()=>h,x7:()=>v});var i=(()=>Object.prototype.toString)(),r=Function.prototype.call.bind(i);function n(e){return r(e).slice(8,-1)}var o=e=>"String"===n(e),s=e=>"Number"===n(e),l=e=>void 0===e,d=e=>null===e,u=e=>"Object"===n(e),c=e=>"function"==typeof e,p=e=>"Set"===n(e),h=e=>"Promise"===n(e),f=e=>"ArrayBuffer"===n(e);function v(e,t,a="parameter"){var i=n(t),r=n(e);if(r!==i)return`${a} should be ${i} instead of ${r};`;var o="";switch(i){case"Object":Object.keys(t).forEach((i=>{o+=v(e[i],t[i],`${a}.${i}`)}));break;case"Array":if(e.length<t.length)return`${a} should have at least ${t.length} item;`;for(var s=0;s<t.length;++s)o+=v(e[s],t[s],`${a}[${s}]`);break;case"String":if(t.length>0&&0===e.length)return`${a} should be not empty string`}return o}function m(){}},1868:(e,t,a)=>{"use strict";a.d(t,{NX:()=>s,Vl:()=>o});var i=a(8138),r=(()=>Object.assign)();var n=Symbol("ErrorInfosSymbol"),o=e=>(t={},...a)=>new Promise(((i,o)=>e(r({},t,{success:i,fail:e=>{var{errMsg:t}=e,a=r({},e);delete a.errMsg;var i=new Error(t.replace(/^\w+:fail ?/,""));r(i,a),i[n]=a,o(i)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var a=new Error(e.errMsg.replace(/^\w+:/,"")),i=r({},e);delete i.errMsg,r(a,i),a[n]=i,a._complete_hook=!0,o(a)}}}),...a)));function s(e,t){return(a={},...o)=>{var s={success:a.success,fail:a.fail,complete:a.complete};delete(a=r({},a)).success,delete a.fail,delete a.complete,t(a,...o).then((t=>(0,i.FE)({name:e,args:s,success:!0,res:t})),(t=>{t._complete_hook?(0,i.S3)({name:e,args:s,errMsg:t.message,res:t[n]||{}}):(0,i.FE)({name:e,args:s,success:!1,errMsg:t.message,res:t[n]||{}})}))}}},1190:(e,t,a)=>{"use strict";a.d(t,{RG:()=>l,sM:()=>s});var i=a(1591),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,a,n=String(e),o="",s=0,l=r;n.charAt(0|s)||(l="=",s%1);o+=l.charAt(63&t>>8-s%1*8)){if((a=n.charCodeAt(s+=3/4))>255)throw new i.l("btoa failed");t=t<<8|a}return o}function o(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),a="";if(t.length%4==1)throw new i.l(`atob failed: invalid string length ${t.length}`);for(var n,o,s=0,l=0;o=t.charAt(l++);~o&&(n=s%4?64*n+o:o,s++%4)?a+=String.fromCharCode(255&n>>(-2*s&6)):0)o=r.indexOf(o);return a}function s(e){for(var t,a="",i=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,r=0;r<i;r++)a+=String.fromCharCode(t[r]);return n(a)}function l(e){for(var t=o(e),a=t.length,i=new Uint8Array(a),r=0;r<a;r++)i[r]=t.charCodeAt(r);return i.buffer}},8007:(e,t,a)=>{"use strict";function i(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}a.d(t,{b:()=>i})},8929:(e,t,a)=>{"use strict";a.d(t,{Hw:()=>n,M8:()=>r,Yt:()=>d,op:()=>s});var i=a(6142);function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function n(e,t){return function(...a){try{return e(...a)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function o(e){var t=(0,i.Em)(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var s=n(o,"anyTypeToString");function l(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var d=n(l,"stringToAnyType")},2805:(e,t,a)=>{"use strict";function i(...e){return e.reduce(((e,t)=>{for(var a in t)e[a]=t[a];return e}),{})}function r(e,t){for(var a in t)e[a]=t[a];return e}a.d(t,{f0:()=>i,l7:()=>r,nr:()=>o});var n=Object.prototype.hasOwnProperty;function o(e,t){return n.call(e,t)}},6347:(e,t,a)=>{"use strict";a.d(t,{HR:()=>l,Pp:()=>o,Uj:()=>u,Z8:()=>n,cE:()=>d,wK:()=>s});var i=a(7445),r=a(2805);function n(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}function o(e,t=!0){if("string"!=typeof e)return e;var a=e.split("?")[0],i=e.split("?")[1];return(t||0!==a.length)&&(a+=".html"),void 0!==i?`${a}?${i}`:a}var s=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function l(e,t=!1){if("object"!=typeof e)return e;var a="";for(var i in e)if((0,r.nr)(e,i))if(t)try{a+=`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}&`}catch(t){a+=`${i}=${e[i]}&`}else a+=`${i}=${e[i]}&`;return a&&(a=a.slice(0,-1)),a}function d(e,t){var a=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&a.length>0){var i=e.split("?"),n=i[0],o=(i[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var a=t.split("="),i=a[0],r=a[1];e[i]=r}return e}),{}),s=a.reduce(((e,a)=>("object"==typeof t[a]?e[encodeURIComponent(a)]=encodeURIComponent(JSON.stringify(t[a])):e[encodeURIComponent(a)]=encodeURIComponent(t[a]),e)),{});return n+"?"+l((0,r.f0)(o,s))}return e}function u(e){if(!i.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),a=t[1]||"",r=a.length>0?"&":"";e=`${t[0]}?${a}${r}devtools_ignore=true`}return e}},6551:(e,t,a)=>{"use strict";a.d(t,{cv:()=>n,yC:()=>i});"undefined"==typeof __libVersionInfo__||__libVersionInfo__;function i(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var a=e.split("."),i=t.split("."),r=Math.max(a.length,i.length);a.length<r;)a.push("0");for(;i.length<r;)i.push("0");for(var n=0;n<r;n++){var o=parseInt(a[n],10),s=parseInt(i[n],10);if(o>s)return 1;if(o<s)return-1}return 0}function r(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,a=0;a<e.length;a++)if(!Number.isNaN(parseInt(e[a],10))){t=a;break}return e.slice(t)}function n(e,t){return e||t?e?t?i(r(e),r(t)):1:-1:0}},3329:(e,t,a)=>{"use strict";a.d(t,{k:()=>u});var i=a(9661),r=null;Foundation.onLoad((()=>{Foundation.globalShare.reusableWorkerId&&o(Foundation.globalShare.reusableWorkerId)}));var n,o=e=>{r=e},s=()=>r;function l(){WeixinWorker.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(t.workerId)return;if(t.data){var{cmd:a,callbackId:i,data:r}=t.data;if("callback"===a){var{result:n,errMsg:o}=r;this.emitter.emit(i,n,o)}}}}))}class d{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new i.Z,l.call(this)}constructor(){if(s())this.init(s());else{var{workerId:e}=WeixinWorker.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((a,i)=>{var r=String(this.generateCallbackId());this.emitter.once(r,((e,t)=>{t?i(new Error(t)):a(e)}));var n={cmd:e,callbackId:r,data:t};n={data:n},WeixinWorker.postMsgToWorker(this.workerId,n,void 0,!1)}))}}var u=()=>n||(n=new d)},5019:(e,t,a)=>{"use strict";a.d(t,{I:()=>c,l:()=>p});var i,r=a(8246),n=a(6342),o=a(1385),s=a(7118),l="",d="",u=(e={},t)=>{var a=e.sessionid||e.sessionId,r=e.scene;e.transitExtraData?(l=e.transitExtraData.adUxInfo,d=e.transitExtraData.commonUxInfo):(t||a!==i&&1038!==r)&&(l="",d=""),i=a};n.default.onReady((()=>{u(n.default.appLaunchInfo,!0)})),(0,r.n)("onAppEnterForeground",(e=>{u(e,!1)})),(0,r.n)("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(l="",d="")})),(0,s.L)("getAdUxInfo",((e,t)=>{(0,o.nY)("adUxInfoGot",{adUxInfo:l,callbackId:e.callbackId,commonUxInfo:d},[t])}));var c=()=>l,p=()=>d},5716:(e,a,i)=>{"use strict";i.d(a,{dw:()=>_});var r=i(6342),n=i(9822),o=null,s=[],l=e=>{null!==o?e():s.push(e)},d=e=>{o=e.data.pluginPermissionBytes,s.forEach((e=>e())),s=[]};WeixinJSBridge.subscribe("batchGetPluginPermissionBytes",d),Foundation.onLibraryEnd((()=>{"undefined"!=typeof __subContextEngine__&&"function"==typeof __subContextEngine__.onSubContextMessage&&__subContextEngine__.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&d(e)}))})),WeixinJSBridge.subscribe("getPluginPermissionBytesByJsApi",(e=>{p(e.data.pluginId,e.data.apiName,(t=>{WeixinJSBridge.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var u=e=>e.split("/",1)[0],c=(e,t)=>{var a,i,r=null===(a=o)||void 0===a||null===(i=a[e])||void 0===i?void 0:i[t];return null==r?r=[0,0,0]:"object"!=typeof r&&(r=[r,r,r]),r};function p(e,a,i){e=u(e),t.supportInvokeWithAppId?WeixinJSBridge.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[n.Z[a]]}]},(t=>{var a,r,n=(null===(a=t.pluginPermissionMap)||void 0===a||null===(r=a[e])||void 0===r?void 0:r[0])||0;i([n,n,n])})):l((()=>{var t=c(e,a);i(t)}))}var h=i(5019),f={customUrl:null,urlTitle:null,useCustomPrivacyAuthorization:!1,popUpTime:0,externInfo:{},regExp:"(.*)<a.*?href=['|\"](.*?)['|\"].*?>(.*?)</a>(.*)",standardInfo:{},isCache:!1,protoRes:{},hasAgree:!1,needScopeCache:[],unauthScopeCache:{},actionCache:0,banReasonCache:null,officialPrivacyAuthorizationShowingGap:60,minGap:60,popUpInterval:{},forceOffcial:0,safeAreaHeight:0,isShowing:!1,requireAuthJSApiList:[],requireAuthJSApiListMap:{},requireAuthPipelineList:[],requireAuthPipelineListMap:{},requireAuthOuterScopeList:[],requireAuthOuterScopeListMap:{},useCheckBoxOnClientPopup:!1,didReportForPrivacyCheckBox:!1},v=(e,t={})=>{if(f.didReportForPrivacyCheckBox)return!1;if("operateWXData"===e){var a;if(null!=t&&null!==(a=t.data)&&void 0!==a&&a.api_name)return f.requireAuthPipelineListMap[t.data.api_name]}else{if("authorize"!==e)return f.requireAuthJSApiListMap[e];if(t.scope&&t.scope[0])return f.requireAuthOuterScopeListMap[t.scope[0]]}};var m=new(i(9661).Z);function _(e,t,a,i={}){var n=a;a=a=>{v(e,t)&&(0===(a.errMsg||`${e}:ok`).indexOf(`${e}:ok`)&&m.emit("success",e));"function"==typeof n&&n(a)},"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||(0,h.I)(),t.commonUxInfo=t.commonUxInfo||(0,h.l)());var o=i.appId;return"splashad"===Foundation.env.workerType||r.default.supportInvokeWithAppId||void 0===o||"undefined"!=typeof Foundation&&Foundation.env.isGame||4===r.default.appType||19===r.default.appType?WeixinJSBridge.invoke(e,t,a,i):l((()=>{var r=function(e,t,a){t=u(t),delete a.permissionBytes;var i=c(t,e);return a.permissionBytes=i,a}(e,o,t);WeixinJSBridge.invoke(e,r,a,i)}))}},648:(e,t,a)=>{"use strict";function i(e,t,a){return WeixinJSBridge.publish(e,t,a)}a.d(t,{n:()=>i})},3478:(e,t,a)=>{"use strict";a.d(t,{j:()=>n});var i=Object.create(null);var r=a(8929);function n(e,t){if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onMethod:a}=SDK;return a(e,t)}!function(e,t){i[e]instanceof Array?i[e].push(t):(i[e]=null,WeixinJSBridge.on(e,((e,a,i)=>{"number"!=typeof(null==i?void 0:i.__subscribe_webviewId)&&t(e,a,i)})))}(e,(0,r.Hw)(t,`at api ${e} callback function`))}},2235:(e,t,a)=>{"use strict";a.d(t,{$T:()=>l,C2:()=>d,Mj:()=>u,ig:()=>p});var i,r=a(9370),n={},o=!1,s=null,l=(new Promise((e=>s=e)),()=>o),d=e=>n[e]||r.hr.getPageTypeById(e),u=(e,t)=>{"context"===t?n[e]=t:r.hr.setPageTypeById(e,t),(o=o||"webview"!==t)&&s&&(s(0),s=null)},c=e=>"webview"===e?e:"context",p=e=>{if(void 0===e||0===e.length)return{};var t=c(d(e[0]));if(1===e.length)return{[t]:e};var a={};return e.forEach((e=>{var t=c(d(e));void 0!==a[t]?a[t].push(e):a[t]=[e]})),a};null===(i=WeixinJSBridge.clientManager)||void 0===i||i.on("clientConnected",(e=>{u(e,"webview")}))},1385:(e,t,a)=>{"use strict";a.d(t,{nY:()=>l});var i=a(7445),r=a(648),n=a(2235),o=(e,t={},a)=>{(0,n.$T)()&&(Array.isArray(a)?a.forEach((a=>{__subContextEngine__.postMessageToSubContext({event:e,params:{params:t,pageId:a}},a)})):__subContextEngine__.postMessageToSubContext({event:e,params:{params:t}},a))};function s(e,t,a){var i={data:t,options:{timestamp:Date.now()}};(0,r.n)(e,i,a)}var l=i.KU?(e,t,a)=>{if(null==a)s(e,t,a),o(e,t,a);else{var i=(0,n.ig)(a);void 0!==i.webview&&s(e,t,i.webview),void 0!==i.context&&o(e,t,i.context)}}:s},7118:(e,t,a)=>{"use strict";a.d(t,{L:()=>s});var i=a(7445),r=a(2235);function n(e,t){}var o=i.KU?new Foundation.EventEmitter:null;i.KU&&Foundation.onLibraryEnd((()=>{__subContextEngine__.onSubContextMessage((e=>{o.emit(e.event,e.params)}))}));var s=i.KU?(e,t)=>{((e,t)=>{o.on(e,(e=>{void 0===(0,r.C2)(e.pageId)&&(0,r.Mj)(e.pageId,"context"),t(e.params,e.pageId)}))})(e,t)}:n},9398:(e,a,i)=>{"use strict";var r;i.d(a,{be:()=>ne,Rn:()=>de.Rn,r3:()=>de.r3,FE:()=>de.FE,YG:()=>de.YG,zy:()=>de.zy,NJ:()=>ie,IN:()=>ee,bb:()=>te,yD:()=>ue.yD,t4:()=>ue.t4,Qh:()=>ue.Qh,oQ:()=>J,jQ:()=>le.j,TG:()=>ce.T,nY:()=>oe.nY,Ld:()=>se.L,yt:()=>G,ZI:()=>pe,qB:()=>he});const n={get invoke(){return r},set invoke(e){r=e}};var o=i(5716),s={},l={},d={},u=0,c=(e,t)=>Object.keys(t).map((a=>Object.keys(t[a]).map((i=>({func:a,result:e,errMsg:i,count:t[a][i]}))))),p=()=>{var e=c(1,s),t=c(2,l),a=c(3,d),i=[].concat(e,t,a);0!==i.length&&ee("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:i,appType:Reporter.getAppType()}),noCallback:!0}),s={},l={},d={}},h=(e,t,a,i,r)=>{var n;(n=t?s:a?l:d)[e]=n[e]||{},n[e][r]=(n[e][r]||0)+1,Date.now()-u>=6e4&&(u=Date.now(),setTimeout(p,6e4))},f=i(8929),v=i(1868),m=i(6342),_=i(6142),g=i(5125),y=i(7445),A={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},E={OK:1,BLOCK:2,NO_BLOCK:3},C={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},T="该功能暂时无法使用",I=wxNativeConsole.createLogger("BanForPage"),b=!1,w=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),k=[];function S(e,t,a){var i=function(e,t,a){for(var i=-1,r=0;r<k.length;r++){var n=k[r];if((!(0,_.HD)(n.path_rule)||!n.path_rule||new RegExp(n.path_rule).test(t))&&(!(0,_.HD)(n.title_rule)||!n.title_rule||new RegExp(n.title_rule).test(a))){i=r;break}}return I.log(`[getBanRuleIndexForPage] banRuleIndex=${i}`),i}(0,t,a);return-1===i?(x(e,E.OK,C.API,e),!0):function(e,t){var a,i,r=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!r)return I.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(I.log("[checkAPIAvailableForPageByRule], found APIItem:",r),r.state===A.OK)a=!1;else if(r.state===A.BLOCK)a=!0;else if(r.state===A.BLOCK_WITH_TOAST&&(a=!0,1===e.is_valid)){var n=r.toast_wording||T;ne("showToast",{title:n,icon:"none"})}return i=a?e.is_valid?E.BLOCK:E.NO_BLOCK:E.OK,x(t,i,C.API,t),1!==e.is_valid||!a}(k[i],e)}function x(e,t,a,i="",r=""){if(I.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${a}, extraInfo=${i}, needReport=${b}`),b){var{appLaunchInfo:n}=m.default,o=Object.keys(g.Z.query).map((e=>`${e}=${g.Z.query[e]}`)).join("&"),s={session_id:n.sessionid||n.sessionId,cur_path:g.Z.lastRoute+(o?`?${o}`:""),title:g.Z.navigationBarTitleMap[g.Z.lastRoute],check_scene:a,block_status:t,extra_info:i,launch_scene:n.scene,launch_path:n.path,target_path:r};I.log("[reportAPIBanForPage], reqData:",s),(0,ue.yD)({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){I.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}m.default.onReady((()=>{if(!y.gm)try{var{do_report:e,navigate_ban_rule_list:t}=m.default.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;k=t,b=1===e&&(0,y.LU)(),w=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),w))}catch(e){I.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var P=Function.prototype.call.bind(Array.prototype.push),D=(Function.prototype.call.bind(Array.prototype.forEach),["startPullDownRefresh"]),O=[],R={appRoute:!1,appRouteDone:!1};i(9370),i(1708),i(3385);var N,M=(()=>Object.create)(),L=(()=>Object.assign)(),B=(()=>Object.keys)(),F=(()=>Array.prototype.reduce)(),W=Array.prototype.includes.bind(D),U=Function.prototype.call.bind(F),V=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function H(e,t){return U(B(e),((a,i)=>("function"==typeof e[i]&&(a[i]=__errorTracer__.surroundThirdByTryCatch(e[i],`at api ${t} ${i} callback function`),delete e[i]),a)),{})}function j(e,t,a,i,r){e.errMsg=e.errMsg||`${t}:ok`;var n=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof i.beforeAll&&i.beforeAll(e),n?function(e,t,a,i,r){var n=function(){"function"==typeof e.success&&e.success(a),"function"==typeof i.afterSuccess&&i.afterSuccess(a)};"function"==typeof i.beforeSuccess?2===i.beforeSuccess._argumentsLength?i.beforeSuccess(a,n):(i.beforeSuccess(a),n()):n(),"function"==typeof N&&N(t,r)}(a,t,e,i,r):o?function(e,t,a,i){var r=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(r,`${t}:fail cancel`),"function"==typeof a.fail&&a.fail(e),"function"==typeof i.beforeCancel&&i.beforeCancel(e),"function"==typeof a.cancel&&a.cancel(e),"function"==typeof i.afterCancel&&i.afterCancel(e)}(e,t,a,i):s&&(Z(e,r),function(e,t,a,i){"function"==typeof e.beforeFail&&e.beforeFail(a),"function"==typeof i.fail&&i.fail(a),"function"==typeof e.afterFail&&e.afterFail(a),(0,_.mf)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(a)||Reporter.reportIDKey({key:`${t}_fail`})}(i,t,e,a)),"function"==typeof a.complete&&a.complete(e),"function"==typeof i.afterAll&&i.afterAll(e),h(t,n,s,o,e.errMsg)}function G(e,t,a,i){var r;return r=a.isThird?H(a,t):H(e,t),function(e){j(e,t,r,a,i)}}var z=(()=>String.prototype.split)(),$=(()=>String.prototype.startsWith)(),Q=Function.prototype.call.bind(z),Y=e=>Q(e,"/",1)[0],q=Function.prototype.call.bind($),Z=(e,a)=>{if("string"==typeof e.errMsg&&t&&t.accountInfo){var i=t.accountInfo.appId;"string"==typeof a&&q(a,"wx")&&(i=Y(a));var r=e.errMsg.split(":");102!==e.errno&&"fail no permission"!==r[r.length-1]||(e.errMsg=`${e.errMsg}, appId=${i}`)}};function K(e){return function(t,a={},i={},r="/"){var n=i.notPack;(0,_.Kn)(a)||(a={}),"operateWXData"===t&&(a._isFromBaseOperateWXData,delete a._isFromBaseOperateWXData),i=function(e,t){return U(B(e),((a,i)=>("function"==typeof e[i]&&(a[i]=(0,f.Hw)(e[i],`at api ${t} ${i} callback function`),a[i]._argumentsLength=e[i].length),a)),{})}(i,t);var s=G(a=L(M(null),a),t,i,r);Reporter.reportIDKey({key:t});var l,d,u,c={keepOriginalParams:(l=t,y.jP||y.wZ&&V.includes(l))};if(Foundation.env.isMagicBrushFrameEnv&&a.contextId&&(c.contextId=a.contextId,delete a.contextId),!e&&"splashad"!==Foundation.env.workerType){if((0,y.LU)()&&w.has(t)&&(d=t,u=Object.keys(g.Z.query).reduce(((e,t)=>[...e,`${t}=${g.Z.query[t]}`]),[]).join("&"),!S(d,g.Z.lastRoute+(u?`?${u}`:""),g.Z.navigationBarTitleMap[g.Z.lastRoute]||"")))return void s({errMsg:`${t}:fail API has been banned`});if(delete a.pluginId,delete a.permissionBytes,"string"==typeof r&&q(r,"wx")){var p=Y(r);c.appId=p}}n&&(c.notPack=!0),(0,o.dw)(t,a,s,c)}}var X,J=K(!1),ee=(e,t,a)=>{W(e)?((e,t,a)=>{var{appRoute:i,appRouteDone:r}=R;!i&&r?J(e,t,a):P(O,{name:e,args:t,option:a})})(e,t,a):J(e,t,a)},te=(e,t,a)=>(0,v.Vl)((t=>ee(e,t,a)))(t),ae={},ie=(e,t,a)=>{var i,r=a.notPack,n={pureInvoke:!0,highPerformance:ae,keepOriginalParams:y.jP};i=X||(()=>{if(X)return X;var e=(e,t)=>{var a=ae[t];if(a){e.errMsg=e.errMsg||`${a.__jsapi_name__}:ok`;var i=0===e.errMsg.indexOf(`${a.__jsapi_name__}:ok`),r=new RegExp(`${a.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),n=0===e.errMsg.indexOf(`${a.__jsapi_name__}:fail`);try{i&&a.success?a.success(e):r&&a.cancel?a.cancel():n&&a.fail(e),a.complete&&a.complete(e)}catch(e){}h(a.__jsapi_name__,i,n,r,e.errMsg),delete ae[t]}};return X=e,e})(),Foundation.env.isMagicBrushFrameEnv&&t.contextId&&(n.contextId=t.contextId,delete t.contextId),r&&(n.notPack=!0),t.__jsapi_name__=e,WeixinJSBridge.pureInvoke(e,t,i,n)},re=K(!0),ne=(e,t,a)=>{re(e,t,a)},oe=i(1385),se=i(7118),le=i(3478);i(2235);n.invoke=ee;var de=i(8138),ue=i(4482),ce=i(9799);function pe(e,t){var{initEventCallbackReport:a,eventCallbackBegin:i,eventCallbackEnd:r}=Foundation.callbackReporter;return function(){a();var n=i(),o=e.apply(this,arguments);return n&&r(t,n,o),o}}function he(e,t){var{initJsapiCallbackReport:a,jsapiCallbackBegin:i,jsapiCallbackEnd:r}=Foundation.callbackReporter;return function(){a();var n=i(0,t),o=e.apply(this,arguments);return n&&r(t,n.jsHandleBegin,!1,o),o}}},1333:(e,t,a)=>{"use strict";a.d(t,{$:()=>z});var i,r=a(7445),n=new Map,o=a(9398),s=a(8929),l=a(1591),d=a(6142),u=a(6715),c=a.n(u),p=a(3329),h=a(1190),f=null;function v(){return i?Promise.resolve(i):f||(f=(0,o.Qh)({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:a}=e,r=new Uint8Array((0,h.RG)(t)),n=new Uint8Array((0,h.RG)(a));return f=null,i={encryptKeyBytes:r,ivBytes:n}})).catch((e=>{throw f=null,e})))}var m=!1;function _(){m||((0,p.k)().runTask("initAesWasm",{}),m=!0)}function g(){return g=c()((function*(e={},t,a){var{encryptEnv:i="wasm"}=e;"wasm"===i&&_();var r=yield a,n=yield function(e,t,a){return(0,p.k)().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:a.encryptKeyBytes.buffer,ivBytes:a.ivBytes.buffer}})}(t,i,r);return n})),g.apply(this,arguments)}function y(e={},t){var{key:a,data:i,dataType:s,storageId:l,encryptEnv:u="wasm"}=e,{failWithMsg:c}=(0,o.Rn)(e,"setStorage"),h=[v()];"wasm"===u&&_(),Promise.all(h).then((([e])=>function(e,t,a){return(0,p.k)().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:a.encryptKeyBytes.buffer,ivBytes:a.ivBytes.buffer}})}(i,u,e))).then((i=>{var u=r.cj?"setStorageAsync":"setStorage";(0,o.IN)(u,{key:a,data:i,dataType:s,storageId:l,success:t=>{n.get(l).set(a,{data:i,dataType:s}),(0,d.mf)(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{c({msg:e.message}),wxNativeConsole.error("encryptThenSetStorage error",e)}))}var A=a(1868),E=(0,A.NX)("getStorage",c()((function*(e={},t){var{encrypt:a,key:i}=e,l=a&&WeixinWorker.isSupportWXLibWorker(),d=r.cj?"getStorageAsync":"getStorage";(0,o.zy)(e,{key:""});var u,c={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},p=Object.assign({},e,{storageId:t}),h=n.get(t),f=l?v():null;return!Foundation.env.isMagicBrushFrameEnv&&h.has(i)?u={...h.get(i)}:(u=yield(0,o.bb)(d,p,c),h.set(i,{data:u.data,dataType:u.dataType})),l&&(u.data=yield function(){return g.apply(this,arguments)}(e,u.data,f)),u.data=(e._stringToAnyType||s.Yt)(u.data,u.dataType),delete u.dataType,u})));var C=(0,A.NX)("batchGetStorage",c()((function*(e={},t){(0,o.zy)(e,{keyList:["1"]});var a=Object.assign({},e,{storageId:t}),i=n.get(t),r=yield(0,o.bb)("batchGetStorage",a);return Array.isArray(r.dataList)&&(r.dataList=r.dataList.map(((e,t)=>{var{data:r,dataType:n}=e;return r&&i.set(a.keyList[t],e),(0,s.Yt)(r,n)}))),r}))),T=(0,A.NX)("batchSetStorage",function(){var e=c()((function*(e,t){(0,o.zy)(e,{kvList:[{key:"1"}]});var a=n.get(t),i={kvList:e.kvList.map((e=>{a.delete(e.key);var{data:t,dataType:i}=(0,s.op)(e.value);return{key:e.key,data:t,dataType:i}})),storageId:t,success:e.success,fail:e.fail,complete:e.complete,contextId:e.contextId};return yield(0,o.bb)("batchSetStorage",i)}));return function(t,a){return e.apply(this,arguments)}}()),I=function(e){return Array.isArray(e)?e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__"))):[]},b={setStorage:(e,t={})=>{var{encrypt:a}=t;if(!0===a&&r.$c)(0,o.YG)("setStorage",t,"miniapp dose not support encrypt");else if((0,o.r3)("setStorage",t,{key:""}))try{var{data:i,dataType:l}=(0,s.op)(t.data),d=t.key,u={key:d,data:i,dataType:l,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv,contextId:t.contextId},c={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(a&&WeixinWorker.isSupportWXLibWorker())y(u,c);else{var p=n.get(e),h=p.get(d);if(!Foundation.env.isMagicBrushFrameEnv&&h&&h.dataType===l&&h.data===i)(0,o.FE)({name:"setStorage",args:t});else{var f=r.cj?"setStorageAsync":"setStorage";(0,o.IN)(f,u,{...c,beforeSuccess:()=>{p.set(d,{data:i,dataType:l})}})}}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},batchSetStorage:(e,t={})=>T(t,e),setStorageSync:(e,t,a="")=>{if("string"==typeof t){var i=r.cj?"setStorage":"setStorageSync",{data:u,dataType:c}=(0,s.op)(a),p=!1,h="",f=n.get(e),v=f.get(t);if(!v||v.dataType!==c||v.data!==u){if((0,o.IN)(i,{key:t,data:u,dataType:c,storageId:e,fail(e={}){p=!0,h=e.errMsg.replace("setStorage:","setStorageSync:")}}),p)throw new l.l(h);f.set(t,{data:u,dataType:c})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${(0,d.Em)(t)}`)},batchSetStorageSync:(e,t)=>{(0,o.zy)(t,[{key:"1"}]);var a,i=n.get(e),r=t.map((e=>{var{data:t,dataType:a}=(0,s.op)(e.value);return i.delete(e.key),{key:e.key,data:t,dataType:a}}));return(0,o.IN)("batchSetStorageSync",{storageId:e,kvList:r,beforeAll(e){a=e}}),a},getStorage:(e,t={})=>E(t,e),batchGetStorage:(e,t={})=>C(t,e),getStorageSync:function(e,t){var a=arguments[arguments.length-1]||{};if((0,d.HD)(t)){var i=n.get(e);if(i.has(t)){var{data:l,dataType:u}=i.get(t);return(a._stringToAnyType||s.Yt)(l,u)}var c,p=r.cj?"getStorage":"getStorageSync";return(0,o.IN)(p,{key:t,storageId:e},{beforeSuccess:(e={})=>{i.set(t,{data:e.data,dataType:e.dataType}),c=(a._stringToAnyType||s.Yt)(e.data,e.dataType)},beforeFail:()=>{c=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),c}},batchGetStorageSync:(e,t)=>{var a;(0,o.zy)(t,["1"]);var i=n.get(e);return(0,o.IN)("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(a=e).dataList=e.dataList.map(((e,a)=>{var{data:r,dataType:n}=e||{};return r&&i.set(t[a],e),(0,s.Yt)(r,n)}))}}),a.dataList},getStorageInfo:(e,t)=>{(0,o.IN)("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=I(e.keys)}})},getStorageInfoSync:e=>{var t;return(0,o.IN)("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=I(e.keys),delete e.errMsg}}),t},removeStorage:(e,t)=>{(0,o.r3)("removeStorage",t,{key:""})&&(n.get(e).delete(t.key),(0,o.IN)("removeStorage",Object.assign({},t,{storageId:e})))},removeStorageSync:(e,t)=>{(0,o.r3)("removeStorageSync",t,"")&&(n.get(e).delete(t),(0,o.IN)("removeStorageSync",{key:t,storageId:e}))},clearStorage:(e,t)=>{n.get(e).clear();var a=r.cj?"clearStorageAsync":"clearStorage";(0,o.IN)(a,Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},clearStorageSync:e=>{n.get(e).clear();var t=r.cj?"clearStorage":"clearStorageSync";(0,o.IN)(t,{storageId:e})}},w={app:0,game:0,opendata:1,singlePage:2,cache:3,idaas:4},k=e=>{var t,a=w[e];return n.has(a)||n.set(a,(t=new Map,r.gm||(0,r.fs)()?new Proxy(t,{get:()=>()=>{}}):t)),Object.keys(b).reduce(((e,t)=>(e[t]=(...e)=>b[t](a,...e),e)),{})};var S={app:k("app"),game:k("game"),opendata:k("opendata"),singlePage:k("singlePage"),cache:k("cache"),idaas:k("idaas")}.idaas,x="idaas_tokens",P="",D=0;function O(e){P=e.sysAccessToken,D=e.expireTime;var t=L();B(t?{...t,...e}:{...e})}function R(){if(P)return P;var e=L();return e?(P=e.sysAccessToken,D=e.expireTime,P):""}function N(){var e=R();return e?{sysAccessToken:e,expireTime:D}:{sysAccessToken:"",expireTime:0}}function M(){P="",D=0,B("")}function L(){try{return S.getStorageSync(x)}catch(e){console.error("idaas getStorage fail ",e.message),r.gm&&console.warn("请升级至最新 nightly 以支持调试身份管理 API")}}function B(e){r.gm||(0,o.IN)("saveIdassAccessToken",{accessToken:"object"==typeof e&&e.sysAccessToken||""});try{return S.setStorageSync(x,e)}catch(e){console.error("idaas setStorage fail ",e.message),r.gm&&console.warn("请升级至最新 nightly 以支持调试身份管理 API")}}var F=a(7644),W=a(8053),U=void 0,V=void 0,H="MULTIAPPID";var j={Idaas_Refresh_Token_Expired:-2001020},G=void 0;function z(){var e,t,{sysAccessToken:a,expireTime:i}=N(),n=(e=L())?e.sysRefreshToken:"",o={sysAccessToken:"",expireTime:0};return a&&(t=i,String(t).length<13&&(t*=1e3),Date.now()<t)?Promise.resolve({sysAccessToken:a,expireTime:i}):n?G||(G=new Promise((e=>{var t=0,a=()=>(U?Promise.resolve(U):V||(V=new Promise((e=>{var t=()=>{U=r.gm?{authorizeMiniprogramType:0,clientId:H,userName:"",miniprogramLoginPath:""}:{authorizeMiniprogramType:0,clientId:"",userName:"",miniprogramLoginPath:"",adaptWxLogin:!1},e(U)};(0,W.p)({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:a=>{var i={};try{i=JSON.parse(a.data)}catch(e){return void t()}if(i.identityServiceConfig)if(i.identityServiceConfig.clientId||r.gm){var n=i.identityServiceConfig.miniprogramLoginPath;n&&!n.startsWith("/")&&(i.identityServiceConfig.miniprogramLoginPath="/"+n),U=i.identityServiceConfig,r.gm&&(U={...U,clientId:H}),e(U)}else t();else t()},fail:e=>{console.error("idaas get identityServiceConfig fail ",e.errMsg),r.gm&&console.warn("请升级至最新 nightly 以支持调试身份管理 API"),t()}})})).finally((()=>{V=void 0})))).then((i=>{var r;i.clientId?(r={refresh_token:n,grant_type:"refresh_token",client_id:i.clientId},new Promise((e=>{(0,F.Y)({apiName:"idaas_oauth_token",reqData:JSON.stringify(r),success:t=>{"object"==typeof t.data?e({errCode:t.logicRet,errMsg:t.logicErrmsg,...t.data}):e({errCode:t.logicRet,errMsg:t.logicErrmsg,...JSON.parse(t.data||"{}")})},fail:t=>{console.error("updateSysAccessToken fail",{...t}),e({errCode:t.err_code||-1,errMsg:t.errMsg.replace("sendSaaADataPipe:fail ","")})}})}))).then((i=>{if(i.errCode===j.Idaas_Refresh_Token_Expired)return M(),e(o);0===i.errCode?(O({sysAccessToken:i.access_token,expireTime:i.expire_time}),e(N())):t<3?(t++,a()):e(o)})).finally((()=>{G=void 0})):e(o)}));a()}))):Promise.resolve(o)}},872:(e,t,a)=>{"use strict";a.d(t,{O:()=>o});var i=a(9398),r=a(7644),n=a(1333);function o(e,t,a=(e=>e),o=(e=>e),s=(e=>e)){return(l={})=>{(0,n.$)().then((n=>{var d=n.sysAccessToken,{success:u,fail:c}=(0,i.Rn)(l,e);(0,r.Y)({apiName:t,reqData:JSON.stringify(a(l)||{}),idaasSessionKey:d,success(e){if(0===e.logicRet)if("object"==typeof e.data)u(o(e.data));else{var t=JSON.parse(e.data||{});u(o(t))}else c(s({errMsg:e.logicErrmsg,errCode:e.logicRet}))},fail(e){console.error(`operateSaaADataFactory ${t} fail: `,JSON.stringify(e)),c(s(e))}})}))}}},2786:(e,t,a)=>{"use strict";a.d(t,{GY:()=>I,_F:()=>A._F,AL:()=>k,CP:()=>S});var i=a(4482),r=a(6342),n=a(7445),o=a(6227),s=a(8326),l=a(88),d=(a(3013),a(5933),a(1821),a(7351)),u=a(4599),c=(a(2805),[]),p=["expires","domain","path","busid","indate","receivetime","spread","extra"],h={scene:-1,sceneNote:"",sessionId:""};(0,d.dN)(((e={})=>{h.scene=e.scene,h.sceneNote=e.scene_note,h.sessionId=e.sessionid||e.sessionId})),(0,u.vv)(((e={})=>{if(3===e.targetAction)for(var t=c.length-1;t>=0;t--){var a=c[t].extra;a&&"del_on_exit"===a&&c.splice(t,1)}}));function f(e){var t=[];for(var a in e)p.indexOf(a)>=0&&t.push(`${encodeURIComponent(a)}=${encodeURIComponent(e[a])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}var v,m,_,g,y=e=>{var t=Date.now(),a=[];c.forEach((e=>{var i=e.expires||e.__wxprivate_calc_expires__;(!i||1e3*i>t)&&a.push(e)}));var i=r.default&&r.default.accountInfo&&r.default.accountInfo.appId||"",n=h.scene||"",o=h.sceneNote||"",s=h.sessionId||"";a.push({key:"appid",value:i,busid:"wxapp"},{key:"sessionid",value:s,busid:"wxapp"},{key:"scene",value:n,busid:"wxapp"},{key:"scene_note",value:o,busid:"wxapp"});var{hostAppId:l,pluginAppId:d}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==l&&void 0!==d){var u=a.find((e=>"appid"===e.key));u&&(u.value=l),a.push({key:"plugin_appid",value:d,busid:"wxapp"})}var p=r.default.host||{};"SDK"===p.env&&a.push({key:"sdk_host_appid",value:p.appId,busid:"wxapp"});var v=a.map(f).join(";; ");return e&&e.success&&e.success({cookies:v}),v},A=a(7994),E=a(6135),C=new Promise(((e,t)=>{v=e,m=t})),T=new Promise(((e,t)=>{_=e,g=t})),I={RequestBizaccount:"RequestBizaccount",getSubjectalterInfo:"getSubjectalterInfo",getgamepotentialfriends:"getgamepotentialfriends",getadcardbalance:"getadcardbalance",getUserGrantInfo:"getUserGrantInfo",getSecInfo:"getSecInfo",reportUserBehavior:"reportUserBehavior",getShareConfig:"getShareConfig",CheckUserOrderAuthStatus:"CheckUserOrderAuthStatus"},b={RequestBizaccount:()=>({id:I.RequestBizaccount,api_name:"webapi_openproduct_bizaccount",data:{path:r.default.appLaunchInfo.path,query:JSON.stringify(r.default.appLaunchInfo.query||{}),cookie:y()}}),getSecInfo:()=>{var e=(0,o.Q1)();return{id:I.getSecInfo,api_name:"webapi_getwxaasyncsecinfo",data:{client_version:r.default.clientVersion,pub_version:"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",performance:(0,s.$)(),instance_id:r.default.appLaunchInfo.sessionid||r.default.appLaunchInfo.sessionId,...e?{xnet_conf_list:[e]}:{}}}},reportUserBehavior:()=>{var e,t,a,i;return{id:I.reportUserBehavior,api_name:"jsapi_reportuserbehav",data:{version:8,type:1,duration:0,scene_note:r.default.appLaunchInfo.scene_note,scene:r.default.appLaunchInfo.scene,realnameInfo:void 0,referrerInfo:{appId:(null===(e=r.default.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t?void 0:t.appId)||"",extraData:(null===(a=r.default.appLaunchInfo)||void 0===a||null===(i=a.referrerInfo)||void 0===i?void 0:i.extraData)||{}},appServiceType:r.default.appType,isColdStart:!0,isWxaAdultOnly:1===Number(r.default.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),uiState:(0,n.aI)()?0:1}}},getgamepotentialfriends:()=>({id:I.getgamepotentialfriends,api_name:"webapi_game_transfer",data:{req_path:"friend.getgamepotentialfriends",appid:r.default.accountInfo.appId,fetch_mode:1,version:2}}),getadcardbalance:()=>({id:I.getadcardbalance,api_name:"webapi_getadcardbalance",data:{}}),getUserGrantInfo:()=>{var e,t;return{id:I.getUserGrantInfo,api_name:"webapi_game_transfer",data:{req_path:"gamewxagcdatawap_getusergrantinfo",json_data:JSON.stringify({appid:null!==(e=null===r.default||void 0===r.default||null===(t=r.default.accountInfo)||void 0===t?void 0:t.appId)&&void 0!==e?e:"",user_action:[0]})}}},getSubjectalterInfo:()=>({id:I.getSubjectalterInfo,api_name:"getSubjectalterInfo",data:{}}),getShareConfig:()=>({id:I.getShareConfig,api_name:"webapi_getshareconf",data:{}}),CheckUserOrderAuthStatus:()=>({id:I.CheckUserOrderAuthStatus,api_name:"webapi_mmec_wxa_auth",data:{method:"CheckUserOrderAuthStatus",msg:{}}})};r.default.onReady((()=>{var e=(0,A._F)();if(wxNativeConsole.info("是否开启数据管道batch请求=",e,Foundation.env),e){var t,a,o,s,d,u,c=[b.getSecInfo()],p=1===Number(null===r.default||void 0===r.default||null===(t=r.default.appContactInfo)||void 0===t||null===(a=t.operationInfo)||void 0===a||null===(o=a.jsonInfo.op_info)||void 0===o?void 0:o.adult_only)||1===Number(null===r.default||void 0===r.default||null===(s=r.default.appContactInfo)||void 0===s||null===(d=s.operationInfo)||void 0===d||null===(u=d.jsonInfo.op_info)||void 0===u?void 0:u.grow_protect);!n.gm&&((0,n.aI)()||(0,n.LU)()&&p)&&c.push(b.reportUserBehavior()),(0,n.aI)()&&c.push(b.getShareConfig()),(0,i.BB)({apiName:"LaunchImmediateBatch",sdkApiName:"getImmediateBatchOperateWXData",reqDataList:c,batchType:E.LN,success:e=>{wxNativeConsole.info("immediate batch 请求成功",e),_({reqList:c,res:e})},fail:e=>{wxNativeConsole.error("immediate batch 请求失败",e),g({reqList:c,res:e})}}),setTimeout((()=>{var e,t,a,o,s=[];(0,n.aI)()?s=[b.getgamepotentialfriends(),b.getadcardbalance(),b.getUserGrantInfo(),b.getSubjectalterInfo()]:(0,n.LU)()&&((0,l.J)("requestPayment")&&s.push(b.RequestBizaccount()),s.push(b.getSubjectalterInfo()),(null===(e=r.default.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(a=t.wxa_mgr)||void 0===a||null===(o=a.mgr_list)||void 0===o?void 0:o.some((e=>1053===e.id&&1===e.value)))&&s.push(b.CheckUserOrderAuthStatus()));s.length>0&&(0,i.BB)({apiName:"LaunchDelayBatch",sdkApiName:"getDelayBatchOperateWXData",reqDataList:s,batchType:E.nH,success:e=>{wxNativeConsole.info("delay batch 请求成功",e),v({reqList:s,res:e})},fail:e=>{wxNativeConsole.error("delay batch 请求失败",e),m({reqList:s,res:e})}})}),3500)}}));var w=e=>({id:t,success:a=(e=>{}),fail:r=(e=>{})})=>{e.then((({reqList:e,res:i})=>{var n=i.item_list||[],o=e.findIndex((e=>e.id===t));if(o>=0){var s=n[o],l={};s&&s.resp&&0===s.errcode?0!==s.resp.err_no?(l={errMsg:`${t}:fail `+(s.resp.errmsg?` ${s.resp.errmsg}`:""),errno:s.resp.err_no},r(l)):(l={errMsg:`${t}:ok`,data:s.resp.data||{},errno:0},a(l)):(l={errMsg:`${t}:fail `+(s.errmsg?` ${s.errmsg}`:""),errno:s.errcode},r(l))}else r({errMsg:`${t}:fail can not find data`})})).catch((e=>{wxNativeConsole.error(t," 数据管道 batch 请求失败 ",e);var n=b[t]();(0,i.yD)({apiName:n.api_name,reqData:n.data,sdkApiName:t,success:e=>{var i={errMsg:`${t}:ok`,data:e.data,errno:0};wxNativeConsole.info("数据管道重试单独请求成功",i),a(i)},fail:e=>{wxNativeConsole.error("数据管道重试单独请求失败",e),r(e)}})}))},k=w(C),S=w(T)},6135:(e,t,a)=>{"use strict";a.d(t,{LN:()=>i,nH:()=>r,x2:()=>n,zV:()=>o});var i=1,r=2,n=3,o=4},7994:(e,t,a)=>{"use strict";a.d(t,{Ge:()=>h,WQ:()=>l,_F:()=>d,aQ:()=>u,g5:()=>f,sJ:()=>p});var i,r=a(6342),n=a(7445),o=a(5464),s=a(88),l=()=>{var e,t,a=!1;if(n.cj)a=!("1"!==(null===r.default||void 0===r.default||null===(e=r.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_group_control)||"1"!==(null===r.default||void 0===r.default||null===(t=r.default.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1));else if(n.wZ){var i,o;a=!("1"!==(null===r.default||void 0===r.default||null===(i=r.default.expt)||void 0===i?void 0:i.clicfg_appbrand_android_operatewxdata_quic_group_control)||"1"!==(null===r.default||void 0===r.default||null===(o=r.default.expt)||void 0===o?void 0:o.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1))}return a=a&&(0,s.J)("operateWXDataQuic")},d=()=>{var e;if(n.cj)null===r.default||void 0===r.default||null===(e=r.default.expt)||void 0===e||e.clicfg_appbrand_ios_operatewxdata_batch;else if(n.wZ){var t;"1"===(null===r.default||void 0===r.default||null===(t=r.default.expt)||void 0===t?void 0:t.clicfg_appbrand_android_operatewxdata_batch)}return!1},u=()=>{if(void 0===i){var e;if(n.cj)i=Number(null===r.default||void 0===r.default||null===(e=r.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_ad_operatewxdata_batch)>=1;else if(n.wZ){var t;i=Number(null===r.default||void 0===r.default||null===(t=r.default.expt)||void 0===t?void 0:t.clicfg_appbrand_android_ad_operatewxdata_batch)>=1}else i=!1;wxNativeConsole.info("是否开启广告上报batch:",i)}return i},c=()=>{var e,t=!1;if(n.cj)t="1"===(null===r.default||void 0===r.default||null===(e=r.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority);else if(n.wZ){var a;t="1"===(null===r.default||void 0===r.default||null===(a=r.default.expt)||void 0===a?void 0:a.clicfg_appbrand_android_operatewxdata_priority)}return t},p=()=>c()&&(()=>{var e,t=!1;if(n.cj)t="1"===(null===r.default||void 0===r.default||null===(e=r.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority_group_control);else if(n.wZ){var a;t="1"===(null===r.default||void 0===r.default||null===(a=r.default.expt)||void 0===a?void 0:a.clicfg_appbrand_android_operatewxdata_priority_group_control)}return t})(),h=e=>{var t,a,i,s,c;c=e?e.useQuic?1:0:l()?1:0;var h,f,v=n.wZ&&"1"===(null===r.default||void 0===r.default||null===(t=r.default.expt)||void 0===t?void 0:t.clicfg_handle_reqresp_in_worker_android)?10:0,m=d()?1e4:0,_=u()?1e5:0,g=(h=!1,n.wZ?h="1"===(null===r.default||void 0===r.default?void 0:r.default.expt.clicfg_appbrand_android_jsapi_nocallback):n.cj&&(h="1"===(null===r.default||void 0===r.default?void 0:r.default.expt.clicfg_appbrand_ios_jsapi_nocallback)),h?1e6:0);f=e?e.usePriority?1e7:0:p()?1e7:0;var y=(0,o.V)()?1e8:0,A=n.wZ&&"1"===(null===r.default||void 0===r.default||null===(a=r.default.expt)||void 0===a?void 0:a.clicfg_appbrand_android_operatewxdata_ipc_optimization)?1e9:0;return(1===Number(null===r.default||void 0===r.default||null===(i=r.default.expt)||void 0===i||null===(s=i.clicfg_miniprogram_adreport_use_kv)||void 0===s?void 0:s.value)?1e10:0)+A+y+f+g+_+m+1e3+100+v+c},f=()=>{var e,t=0,a=c()?10:0;if(n.cj)t="1"===(null===r.default||void 0===r.default||null===(e=r.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1)?1:0;else if(n.wZ){var i;t="1"===(null===r.default||void 0===r.default||null===(i=r.default.expt)||void 0===i?void 0:i.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1)?1:0}return a+t}},4482:(e,t,a)=>{"use strict";a.d(t,{yD:()=>J,BB:()=>te,t4:()=>re,cm:()=>ae,XT:()=>ie,Qh:()=>ee});var i,r,n,o=a(9398),s=a(6715),l=a.n(s),d=a(7644),u=a(4237),c=()=>(i||(i=(0,u.sZ)()),i),p=!1,h=()=>new Promise((e=>{var t="login";p?e({success:!0,code:r,token:n,msg:`${t}: success`}):c().readFile({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:a=>{var i={};try{i=JSON.parse(a.data)}catch(a){return void e({success:!1,msg:`${t}:fail app.miniapp.json json parse failed`})}var o=i.tempWxLoginCode;"string"==typeof o&&o.length>0||(o=void 0);var s=i.mockWithWxLoginToken;"string"==typeof s&&s.length>0||(s=void 0),e({success:!0,code:o,token:s,msg:`${t}: success`}),p=!0,r=o,n=s},fail(){e({success:!1,msg:`${t}:fail get app.miniapp.json failed`}),p=!0}})})),f=a(1333),v={ILLEGAL_URL:-2005,NOT_LIMITS:-1024,NOT_LIMITS_QY:-1025,NOT_LIMITS_CARD:-1026,NOT_LOGIN:41001,INVALID_TOKEN:40001,INVALID_LOGIN:42001,NEED_CONFORM:-12e3,AUTH_DENY:-12006,SCOPE_UNAUTHORIZED:-12007,INVALID_CODE:10010,INVALID_CARD_ID:10023};function m(){return(m=l()((function*(e,t,a,i){var r=yield h(),n=i.scopeList;return(0,d.Y)({apiName:"jsoperatewxdata",reqData:JSON.stringify({data:JSON.stringify(t.data||{}),grant_scope:n[0].scope,opt:1,token:r.token}),success:t=>{console.warn("operateWXDataConfirm",t);var i=t.data;return a({errMsg:`${e}:ok`,data:JSON.parse(i.data)})},fail:t=>{console.error("operateWXDataConfirm",t),a({errMsg:`${e}:fail response fail`})}})}))).apply(this,arguments)}var _=["webapi_getuserinfo"],g=["webapi_wxahttpdns_getfreehostip","webapi_wxahttpdns_gethostip"],y=["GetUploadSetting"];function A(){return A=l()((function*(e,t,a){var i,r,n="jsoperatewxdata";_.includes(t.data.api_name)&&(i=(yield h()).token);g.includes(t.data.api_name)&&(r=(yield(0,f.$)()).sysAccessToken,n="wxajsoperatewxdata");y.includes(t.data.api_name)&&(n="cpfjsoperatewxdatanologin");var o={data:JSON.stringify(t.data||{}),token:i};return"webapi_plugin_setauth"===t.data.api_name&&(o.ext_info={source_env:2}),(0,d.Y)({apiName:n,reqData:JSON.stringify(o),idaasSessionKey:r,success:i=>{var r=0,o="";if(void 0!==i.logicRet&&0!==i.logicRet)return r=i.logicRet,o=i.logicErrmsg,void a({errMsg:`${e}:fail ${o}, errCode: ${r}`});try{var s=JSON.parse(i.data),l=s.baseresponse;if(l){var d=s.baseresponse.errcode;if(0===d){var u=JSON.parse(s.data);return a({errMsg:`${e}:ok`,data:u})}return console.warn("jsoperatewxdata fail:",i),d===v.NEED_CONFORM?function(e,t,a,i){return m.apply(this,arguments)}(e,t,a,{imageUrl:s.appicon_url,appName:s.appname,scopeList:[s.scope]}):d===v.SCOPE_UNAUTHORIZED?a({errMsg:`${e}:fail ${l.errmsg}`}):a({errMsg:`${e}:fail ${l.errmsg}`,err_code:d})}var c=i.logicErrmsg||i.errMsg||"no baseresponse";a({errMsg:`${e}:fail ${c}`}),console.error(`${n} fail:`,i)}catch(t){console.error(`operateWXData ${n} fail`,i),a({errMsg:`${e}:fail ${t}`})}},fail:t=>{console.error(`operateWXData ${n} `,t);var i=t.errMsg||"response fail";a({errMsg:`${e}:fail ${i}`})}})})),A.apply(this,arguments)}function E(e,t,a,i={}){"operateWXData"!==e?(console.error(`invokeMiniapp ${e} not support`),a({errMsg:`${e}:fail response fail`})):function(e,t,a){A.apply(this,arguments)}(e,t,a)}var C=a(6342),T=a(5125),I=a(1708),b=a(8007),w=a(8246),k=a(7994),S=0;(0,w.n)("onAppEnterBackground",(()=>{S++}));var x=new Set(["webapi_getwxauserallphone","webapi_wxa_createmidasorder","webapi_wxa_getiapinfocreateitemorder","webapi_wxa_getiapinfocreatecoinorder","webapi_getiapinfocreatecoinorder","webapi_getiapinfocreateitemorder","webapi_createiapbuygamecoinorder","webapi_createiapbuygameitemorder","webapi_getwxauserprivacyauthinfo","webapi_getuserallappauth","webapi_swapopengid","webapi_getshareinfo","ProductLogic","webapi_getadvert","gameTransfer","webapi_openproductaddorder","DiscoveryGetUsageApp","WxaDiscoveryChannel","qbase_commapi","webapi_finder_ec","webapi_game_transfer"]);function P(e){!function(e){var{WXDataApiName:t,argument:a,isSuccess:i,invokeTime:r,TotalCost:n,result:o="",errMsg:s,isConfirm:l,queueLength:d,wxdataQueueTimestamp:u,wxdataDequeueTimestamp:c,beginCGITimestamp:p,CGICallbackTimestamp:h,beginCGITimestampAfterConfirm:f,CGICallbackTimestampAfterConfirm:v,wxlibCallbackTimestamp:m,requestInQueue:_,requestingCount:g,JsToClientCost:y,QueueCost:A,ChildToMainProcessCost:E,MMNetCost:w,MainToChildProcessCost:x,ClientToJsCost:P,fromWebview:D,doReportDetails:O,BatchType:R=0,sdkApiName:N,adExtra:M}=e;O&&setTimeout((()=>{var D=T.Z.currentNetworkType,O=C.default.appType+1e3,L=C.default.appLaunchInfo&&void 0!==C.default.appLaunchInfo.scene?C.default.appLaunchInfo.scene:0,B=3,F=M&&M.adReportAction,W=M&&M.adLogid,U=(0,k.Ge)(e),V=e.ProtocolType,H=e.QuicBytes,j=e.thisEnterBackgroundCount===S?1:2,G=[t,JSON.stringify(a).replace(/,/g,";"),i?1:0,r,n,D,o.replace(/,/g,";"),O,L,(0,I.k)(),(0,I.n)(),encodeURIComponent(s||""),l?1:0,d,y,A,E,w,x,P,0,_?1:0,g,r,u,c,p,h,f,v,m,0,U,B,R,N,F,W,V,H,j].map((0,b.b)(1024)).join(",");Reporter.reportKeyValue({key:"WeAppOperateWXData",value:G})}),0)}(e),function(e){if(e.doReportProfile&&x.has(e.WXDataApiName)){var t,a=e.networkType||T.Z.currentNetworkType,i=C.default.appType+1e3,r=(0,I.k)()+" "+(0,I.n)(),n=e.argument,o=e.WXDataApiName;if("ProductLogic"===o)o=`ProductLogic-${null===(t=n.data.data)||void 0===t?void 0:t.method}`;else if("gameTransfer"===o){var s;o=`gameTransfer-${null===(s=n.data.data)||void 0===s?void 0:s.req_path}`}else if("webapi_game_transfer"===o){var l;o=`webapi_game_transfer-${null===(l=n.data.data)||void 0===l?void 0:l.req_path}`}var d=(0,k.Ge)(e),u=e.isSuccess?0:1,c=e.invokeTime,p=e.TotalCost,h=e.TimeStampId,f=encodeURIComponent(e.errMsg||""),v=e.isConfirm?1:0,m=e.queueLength,_=e.JsToClientCost,g=e.QueueCost,y=e.ChildToMainProcessCost,A=e.MMNetCost,E=e.MainToChildProcessCost,b=e.ClientToJsCost,w=e.PopupCost,P=e.MMNetCost2rd,D=e.requestInQueue?1:0,O=e.requestingCount,R=e.ClientSequenceId,N=e.BeginTs,M=e.EndTs,L=e.thisEnterBackgroundCount===S?1:2,B=e.RequestCount,F=e.LaunchDistance,W=e.TimeSinceLastRequest,U=e.MarsPackCost,V=e.MarsConnCost,H=e.MarsTLSCost,j=e.MarsNetCost,G=e.MarsUnPackCost,z=e.ChannelType,$=e.ProtocolType,Q=3,Y=e.QuicBytes,q=e.LibParseCost,Z=(0,k.g5)(),K=e.MarsTotalCost,X=[a,r,i,d,o,u,c,p,h,f,v,m,_,g,y,A,E,b,w,P,D,O,R,N,M,encodeURIComponent(JSON.stringify(n)),L,B,F,W,K,"",U,"",V,H,j,G,z,$,Y,Q,q,Z].join(",");Reporter.reportKeyValue({key:"operateWXDataProfile",value:X})}}(e)}var D,O,R=a(7445),N=(a(88),""),M=0,L=0,B=0,F=new Set(["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"]),W=new Set(["advert_report","webapi_advideo_report","webapi_wxa_dramaplayreport","webapi_reportpayrecord","webapi_reportnvgcheckinfo","webapi_reportwxacityservicescreenshot","webapi_reportclicheckresult","webapi_openproductreportorder","webapi_wxaseceventreport","webapi_game_ad_report","webapi_wxaasyncinputreport","webapi_adfollow_report"]),U=new Set(["qbase_commapi","webapi_botdemo"]),V=!1,H=!1;C.default.onReady((()=>{D=Date.now(),V=(0,k.WQ)(),H=(0,k.sJ)()}));var j=(e={},t={},{fromWebview:a,showApiVersion:i,showProfile:r,batchType:n,sdkApiName:s,adExtra:l})=>{var d=n>=1,u=Object.assign({},e);u._isFromBaseOperateWXData=!0;var c,p=t.beforeAll,h=u.data.api_name,f=Date.now();c=O?f-O:-1,O=f;var v,m=f,_=S,g=f-D;if(f<=B&&(f=B+1),B=f,F.has(h)?(u.requestInQueue=!0,delete u.timeout):u.requestInQueue=!1,u.isImportant=!!d,U.has(h)&&(u.keepAlive=!0),u.useQuic=V&&!d,u.data.tid=f,v=N?+N+300:300,u.data.env=v,u.priority||H&&(W.has(h)?(u.priority=2,u.timeout=(u.timeout||6e4)+15e3):u.priority=3),R.$c&&e.saaaMock){var y="operateWXData",A=(0,o.yt)(u,y,{},{});E(y,u,A)}else if(!R.$c||e.data.fromSaaADataPipe){var C={isSuccess:void 0,WXDataApiName:h,argument:u,invokeTime:m,requestInQueue:u.requestInQueue,requestingCount:++M,TimeStampId:f,RequestCount:++L,LaunchDistance:g,TimeSinceLastRequest:c,fromWebview:a,thisEnterBackgroundCount:_,BatchType:n,sdkApiName:s,adExtra:l,useQuic:V,usePriority:H};Reporter.reportFrameworkIDKey(25),wxNativeConsole.info(`baseOperateWXData invoke apiName=${h}, TimeStampId=${f}, useQuic=${V}, usePriority=${H}, batchType=${n}`),(0,o.IN)("operateWXData",u,{beforeAll(e){var a=Date.now();C.onJsCallbackTimestamp=a,M--;var i=Math.random(),n=i<.01,o=i<.1,s=n||o;if(C.doReportDetails=n,C.doReportProfile=o,s&&("object"==typeof e.data&&e.data?C.result=JSON.stringify(e.data):C.result=e.data),e.clientInfo&&"object"==typeof e.clientInfo){var l=e.clientInfo;delete e.clientInfo,(s||r)&&(Object.assign(C,l),C.JsToClientCost=l.wxdataQueueTimestamp-C.invokeTime,C.QueueCost=l.wxdataDequeueTimestamp-l.wxdataQueueTimestamp,C.ChildToMainProcessCost=l.beginCGITimestamp-l.wxdataDequeueTimestamp,C.MMNetCost=l.CGICallbackTimestamp-l.beginCGITimestamp,C.MainToChildProcessCost=l.wxlibCallbackTimestamp-l.CGICallbackTimestamp,C.ClientToJsCost=a-l.wxlibCallbackTimestamp,l.beginCGITimestampAfterConfirm>0&&l.beginCGITimestampAfterConfirm<0x9bc39d22b2c4&&(C.PopupCost=l.beginCGITimestampAfterConfirm-l.CGICallbackTimestamp,C.MMNetCost2rd=l.CGICallbackTimestampAfterConfirm-l.beginCGITimestampAfterConfirm),l.startConnectTime&&(C.MarsConnCost=l.connectSuccessfulTime-l.startConnectTime,C.MarsTLSCost=l.handshakeSuccessfulTime-l.startHandshakeTime,C.MarsPackCost=l.startSendPacketTime-l.connectSuccessfulTime,C.MarsNetCost=l.startReadPacketTime-l.startSendPacketTime,C.MarsUnPackCost=l.readPacketFinishedTime-l.startReadPacketTime,C.MarsTotalCost=l.readPacketFinishedTime-l.taskStartTime),C.networkType=l.netType,C.ChannelType=l.channelType,C.ProtocolType=l.protocolType)}"function"==typeof p&&p.call(t,e)},beforeSuccess(e){wxNativeConsole.info(`baseOperateWXData success apiName=${h}, TimeStampId=${f}, useQuic=${V}, usePriority=${H}, batchType=${n}`),Reporter.reportFrameworkIDKey(26),C.isSuccess=!0,u.data.data&&u.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=C),i&&(e.apiVersion=(0,k.Ge)(C)),e.reportObj=C},beforeFail(e={}){Reporter.reportFrameworkIDKey(27),C.isSuccess=!1,C.errMsg=JSON.stringify(e),C.err_code=e.err_code,C.errno=e.errno,wxNativeConsole.info(`baseOperateWXData fail apiName=${h}, TimeStampId=${f}, useQuic=${V}, usePriority=${H}, batchType=${n}, errMsg=${C.errMsg}`),"1030"!==e.err_code&&"1031"!==e.err_code||(C.QuicBytes=e.errMsg.slice(e.errMsg.length-1),C.ProtocolType=2),u.data.data&&u.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=C),e.reportObj=C}})}else(0,o.YG)("operateWXData",e,e.api_name+" fail: SDK暂不支持operateWXData API")},G=a(9806),z=a(4081),$=a(4500),Q=a(4856),Y=void 0,q=void 0;C.default.onReady((()=>{var e="clicfg_appbrand_ios_enable_jsopdata_mock";(0,$.b)({experimentId:e,experimentType:"Expt",success:e=>{var t;e&&((null===(t=e.testConfig)||void 0===t?void 0:t.length)>10&&(Y=e.testConfig))},fail(t){wxNativeConsole.error(e,"failed",t)}})}));var Z=new Set(["webapi_getadvert","advert_report","webapi_advideo_report","webapi_adfollow_report","webapi_wxahttpdns_getfreehostip"]),K=(()=>JSON.parse)(),X=(e,t=!1,a=!1)=>({keepAlive:i,apiName:r="",reqData:n,sdkApiName:s="operateWXData",pluginId:l,success:d,fail:u,complete:c,fromComponent:p=!1,withCredentials:h=!1,showConfirm:f=!1,timeout:v=6e4,fromSaaADataPipe:m=!1,saaaMock:_=!1,contextId:g,reserveDataString:y=!1,showApiVersion:A=!1,showProfile:E=!1,priority:T,reqDataList:I=[],batchType:b=0,adExtra:w}={})=>{if(!R.$c||m||_){var k={success:d,fail:u,complete:c};if(!a&&!Z.has(r)){var S={errMsg:`${s}:fail invalid apiName in worker`};return"function"==typeof u&&u(S),void("function"==typeof c&&c(S))}var x={api_name:r,data:n||{},operate_directly:e};"string"==typeof l&&(x.plugin_appid=l),!0===p&&(x.from_component=!0),!0===h&&(x.with_credentials=!0),!0===f&&(x.show_confirm=!0),x.fromSaaADataPipe=m;var D=0;a&&(x.batch_type=1001,x.data_list=I,D=b);var O=()=>{j({keepAlive:i,data:x,timeout:v,contextId:g,saaaMock:_,priority:e?T:void 0,success(t){if("string"==typeof t.data)try{t.data=K(t.data)}catch(e){if(t.reportObj){var i=Date.now();t.reportObj.LibParseCost=i-t.reportObj.onJsCallbackTimestamp,t.reportObj.TotalCost=i-t.reportObj.invokeTime,t.reportObj.isSuccess=!1,t.reportObj.errMsg=`json parse error, json="${t.data}"`,t.reportObj.errno=z.Q1T,P(t.reportObj)}return void(0,o.FE)({name:s,args:k,errno:z.Q1T,errMsg:`json parse error, json="${t.data}"`,success:!1})}var{data:r={},reportObj:n={}}=t;delete t.data,delete t.reportObj;var{data:l,encryptedData:u,iv:p,cloud_id:h,err_no:f,signature:v,errmsg:_,quic_bytes:g,item_list:A}=r;if(delete r.quic_bytes,delete r.item_list,n.QuicBytes="number"==typeof g?g:0,e)void 0!==l&&(t.rawData=l),t.respData=r;else if("string"==typeof l)if(y)t.data={data:l};else try{t.data=K(l)}catch(e){var C=Date.now();return n.LibParseCost=C-n.onJsCallbackTimestamp,n.TotalCost=C-n.invokeTime,n.isSuccess=!1,n.errMsg=`json parse error, json="${l}"`,n.errno=z.Q1T,P(n),void(0,o.FE)({name:s,args:k,errno:z.Q1T,errMsg:`json parse error, json="${l}"`,success:!1})}else t.data={};v&&(t.signature=v),u&&(t.encryptedData=u,t.iv=p,h&&(t.cloudID=h)),a&&A&&(A.forEach((e=>{try{"string"==typeof e.resp&&e.resp?(e.resp=K(e.resp),"string"==typeof e.resp.data&&e.resp.data&&(e.resp.data=K(e.resp.data))):e.resp={}}catch(t){wxNativeConsole.error("batch operatewxdata parse item error",t.message),e.resp={}}})),t.item_list=A);var T=Date.now();n.LibParseCost=T-n.onJsCallbackTimestamp,n.TotalCost=T-n.invokeTime,n.errno=f,P(n),m?(r.base_resp?0!==r.base_resp.ret?(0,o.YG)(s,k,r.base_resp.ret):(t.logicRet=r.logic_ret,t.logicErrmsg=r.logic_errmsg,"function"==typeof d&&d(t),"function"==typeof c&&c(t)):(0,o.YG)(s,k,-1),"function"==typeof d&&d(t),"function"==typeof c&&c(t)):"number"==typeof f&&0!==f?(0,o.FE)({name:s,args:k,errno:f,errMsg:_,success:!1}):(E&&(t.profile={TotalCost:n.TotalCost,JsToClientCost:n.JsToClientCost,QueueCost:n.QueueCost,ChildToMainProcessCost:n.ChildToMainProcessCost,MMNetCost:n.MMNetCost,MainToChildProcessCost:n.MainToChildProcessCost,ClientToJsCost:n.ClientToJsCost,MarsPackCost:n.MarsPackCost,MarsConnCost:n.MarsConnCost,MarsTLSCost:n.MarsTLSCost,MarsNetCost:n.MarsNetCost,MarsUnPackCost:n.MarsUnPackCost,LibParseCost:n.LibParseCost,ProtocolType:n.ProtocolType}),"function"==typeof d&&d(t),"function"==typeof c&&c(t))},fail(e){var t=Date.now();e.reportObj.LibParseCost=t-e.reportObj.onJsCallbackTimestamp,e.reportObj.TotalCost=t-e.reportObj.invokeTime,P(e.reportObj),delete e.reportObj,"function"==typeof u&&u(e),"function"==typeof c&&c(e)}},{beforeAll(e){"operateWXData"!==s&&(e.errMsg=e.errMsg.replace("operateWXData",s))}},{showApiVersion:A,showProfile:E,fromWebview:t,batchType:D,sdkApiName:s,adExtra:w})};!!Y?new Promise(((e,t)=>{if(q)return e(q);var a;"string"==typeof Y&&Y.endsWith("?openid=")&&(a=`${Y}${C.default.appLaunchInfo.openId}`),a?(0,Q.ac)({url:a,success(a){try{var i=JSON.parse(a.data.data);q=i,e(i)}catch(e){console.error("get operateWXData mock config error: ",e),t(e)}},fail(e){t(e)}}):t("empty request url")})).then((t=>{var a=t[r];if(a){var i=!1,l={},u=!1;try{if(l.data=JSON.parse(a),Array.isArray(l.data))e:for(var p of l.data){var h=p.__mock_inner_args__;if(!h){l.data=p.data,u=!0;break e}var f=!0;for(var v in h)if(n[v]!==h[v]){f=!1;break}if(f){l.data=p.data,u=!0;break e}}else l.data=l.data.data,u=!0}catch(e){console.error(`你使用了 ${r} 这个数据管道的mock，在parse出现错误`,e),i=!0}if(u||(i=!0),!i){console.error(`你使用了 ${r} 这个数据管道的mock，res为`,l);var{data:m,encryptedData:_,iv:g,cloud_id:y,err_no:A,signature:E,errmsg:C}=l.data;return e&&(void 0!==m&&(l.rawData=JSON.stringify(m)),l.respData=m),E&&(l.signature=E),_&&(l.encryptedData=_,l.iv=g,y&&(l.cloudID=y)),void("number"==typeof A&&0!==A?(0,o.FE)({name:s,args:k,errno:A,errMsg:C,success:!1}):("function"==typeof d&&d(l),"function"==typeof c&&c(l)))}}O()})):O()}else(0,o.YG)("createOperateWXData",{apiName:r,success:d,fail:u,complete:c},s+" fail: SDK暂不支持operateWXData API")},J=X(!1),ee=(0,G.Fr)(J),te=X(!1,!1,!0),ae=X(!1,!0),ie=X(!1,!0,!0),re=X(!0)},9799:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});var i=a(9398),r=(()=>Object.assign)();function n(e,t,a=(()=>{}),n=(()=>{})){return(o={})=>{var{success:s,fail:l}=(0,i.Rn)(o,e);(0,i.yD)({apiName:t,reqData:a(o)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,r(e,e.rawDataObject),n(e),delete e.rawDataObject,s(e)},fail:l,complete:void 0})}}},8138:(e,t,a)=>{"use strict";a.d(t,{FE:()=>d,Rn:()=>u,S3:()=>l,YG:()=>s,r3:()=>n,zy:()=>o});var i=a(4081),r=a(6142);function n(e,t,a){var n=(0,r.x7)(t,a);return!n||(d({name:e,args:t,errno:i.Wkc,errMsg:`parameter error: ${n}`,success:!1}),!1)}function o(e,t){var a=(0,r.x7)(e,t);if(a)throw new Error(`parameter error: ${a}`)}function s(e,t={},a,i){var n=(0,r.hj)(a);d({name:e,args:t,errno:n?a:void 0,errMsg:n?void 0:a,errCode:n?void 0:i,success:!1})}function l({name:e,args:t={},errMsg:a="",res:i={}}){t=t||{};var n=`${e}:${a}`,o=__errorTracer__.surroundThirdByTryCatch(t.complete||r.ZT,`at api ${e} complete callback function`);i.errMsg=n,o(i)}function d({name:e,args:t={},success:a=!0,errno:i,errMsg:n="",errCode:o,res:s={},exception:l}){t=t||{};var d=__errorTracer__.surroundThirdByTryCatch((a?t.success:t.fail)||r.ZT,`at api ${e} ${a?"success":"fail"} callback function`),u=__errorTracer__.surroundThirdByTryCatch(t.complete||r.ZT,`at api ${e} complete callback function`);(0,r.hj)(i)?(s.errno=i,s.errMsg=`${e}:fail${n&&":"!==n[0]?" ":""}${n||""}`):(s.errMsg=a?`${e}:ok`:`${e}:fail ${n}`,(0,r.hj)(o)&&(s.errCode=o)),l&&(s.exception=l),d(s),u(s)}var u=({success:e,fail:t,complete:a}={},i)=>{var r=e=>{"function"==typeof t&&(i?__errorTracer__.surroundThirdByTryCatch(t,`at api ${i} fail callback function`)(e):t(e)),"function"==typeof a&&(i?__errorTracer__.surroundThirdByTryCatch(a,`at api ${i} complete callback function`)(e):a(e))};return{success:t=>{void 0===t.errMsg&&i&&(t.errMsg=`${i}:ok`),"function"==typeof e&&(i?__errorTracer__.surroundThirdByTryCatch(e,`at api ${i} success callback function`)(t):e(t)),"function"==typeof a&&(i?__errorTracer__.surroundThirdByTryCatch(a,`at api ${i} complete callback function`)(t):a(t))},fail:r,failWithMsg:({code:e,msg:t,errno:a,name:n}={})=>{var o={};"number"==typeof a&&a>0?(o.errno=a,o.errMsg=`${n||i}:fail`):(o.errMsg=`${n||i}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),r(o)}}}},8602:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});class i{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var a=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===a&&void 0!==t?t:a}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,a=!1){return!(!this._internal.get(e)&&!a)&&(this._internal.set(e,t),!0)}}const r=(()=>new i)()},1141:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(9661);class r{constructor(){this.emitter=new i.Z({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var a=__errorTracer__.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,a),this.originalCallbackMap.set(a,t),this.emitter.on(e,a)}}off(e,t){if(t&&"function"==typeof t){var a=this.callbackMap.get(t);"function"==typeof a&&(this.emitter.off(e,a),this.callbackMap.delete(t),this.originalCallbackMap.delete(a))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}},9137:(e,t,a)=>{"use strict";a.d(t,{$v:()=>s,Vs:()=>i,_u:()=>r,cM:()=>n,um:()=>o});var i=(e=0)=>new Promise((t=>{setTimeout(t,e)})),r=()=>{},n=()=>{},o=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),s=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e}},8246:(e,t,a)=>{"use strict";a.d(t,{n:()=>s,ri:()=>l});var i=a(3478),r=a(9766),n={},o=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE","onGameAuditsStateChange"],s=(e,t)=>{if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onNativeEvent:a}=SDK;return a(e,t)}var s=(0,r.s)(`WeixinJSBridge-${e}`);n[e]||((0,i.j)(e,((...t)=>{s.emit(...t),((e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!o.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:a}=__appServiceSDK__;a(e,...t)}})(e,...t)})),n[e]=!0),s.internalOnMethod(t)},l=(e,t)=>{(0,r.s)(`WeixinJSBridge-${e}`).internalOffMethod(t)}},6614:(e,t,a)=>{"use strict";a.d(t,{P:()=>r,c:()=>n});var i=a(9398),r=(e={})=>{(0,i.r3)("access",e,{path:""})&&(0,i.IN)("access",e)},n=e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,a;if((0,i.IN)("accessSync",{path:e,fail(e){t=e.errMsg,a=e.errno}}),t){var r=new Error(t);throw r.errno=a,r}}},1869:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});var i=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"]},158:(e,t,a)=>{"use strict";a.d(t,{v:()=>u});var i=a(9398),r=a(5340),n=a(1869),o=a(6142),s=a(9105),l=a(7445),d=a(4899),u={close:(e={})=>{(0,i.r3)("close",e,{fd:""})&&(0,i.IN)("close",e)},closeSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,a;if((0,i.IN)("closeSync",{fd:e,fail(e){t=e.errMsg,a=e.errno}}),t){var r=new Error(t);throw r.errno=a,r}},fstat:(e={})=>{(0,i.r3)("fstat",e,{fd:""})&&(0,i.IN)("fstat",e,{beforeSuccess(e){var{mode:t,size:a}=e,{lastAccessedTime:i,lastModifiedTime:n}=e;i>1617e9&&(i=Math.floor(i/1e3)),n>1617e9&&(n=Math.floor(n/1e3)),e.stats=new r.jk({mode:t,size:a,lastAccessedTime:i,lastModifiedTime:n}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,a,n;if((0,i.IN)("fstatSync",{fd:e,fail(e){a=e.errMsg,n=e.errno},success(e){var{mode:a,size:i}=e,{lastAccessedTime:n,lastModifiedTime:o}=e;n>1617e9&&(n=Math.floor(n/1e3)),o>1617e9&&(o=Math.floor(o/1e3)),t=new r.jk({mode:a,size:i,lastAccessedTime:n,lastModifiedTime:o})}}),a){var o=new Error(a);throw o.errno=n,o}return t},write:(e={})=>{var t=Object.assign({},e);if((0,i.r3)("write",t,{fd:""}))if(t.encoding&&-1===n.a.indexOf(t.encoding))(0,i.YG)("write",t,`invalid encoding "${t.encoding}"`);else{if((0,o.eP)(t.data)){if(t.data.byteLength>10485760)return void(0,i.YG)("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!(0,o.HD)(t.data))return void(0,i.YG)("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),(0,i.IN)("write",t)}},writeSync:({fd:e,data:t,offset:a,length:r,encoding:l,position:d}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(l&&-1===n.a.indexOf(l))throw new s.iZ(`invalid encoding "${l}"`);if((0,o.eP)(t)){if(t.byteLength>10485760)throw new s.iZ("ArrayBuffer exceed size limit (10M)");("number"!=typeof a||a<0)&&(a=0),("number"!=typeof r||r<0)&&(r=t.byteLength-a)}else if(!(0,o.HD)(t))throw new TypeError("data must be a string or ArrayBuffer");var u,c,p;if("number"!=typeof d&&(d=void 0),(0,i.IN)("writeSync",{fd:e,data:t,offset:a,length:r,encoding:l,position:d,fail(e){u=e.errMsg,p=e.errno},success(e){c={bytesWritten:e.bytesWritten}}}),u){var h=new Error(u);throw h.errno=p,h}return c},read:(e={})=>{if((0,i.r3)("read",e,{fd:""}))if((0,o.eP)(e.arrayBuffer)){var t=Object.assign({},e),a=(0,d.t)();l.cj&&a&&a.trace&&(t.arrayBufferId=a.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),(0,o.hj)(t.position)&&t.position<0?t.position=0:(0,o.o8)(t.position)||(0,o.Ft)(t.position)?t.position=null:(0,o.hj)(t.position)||(t.position=0);var r=Number(t.length);Number.isNaN(r)?t.length=0:t.length=r;var n=Number(t.offset);Number.isNaN(n)?t.offset=0:t.offset=n,l.jP&&delete t.arrayBuffer,(0,i.IN)("read",t,{beforeSuccess(a){if(l.jP){var i=new Uint8Array(e.arrayBuffer),r=new Uint8Array(a.arrayBuffer);i.set(r,t.offset),a.bytesRead=a.arrayBuffer.byteLength}a.arrayBuffer=e.arrayBuffer},afterAll(){l.cj&&a&&a.untrace&&a.untrace(t.arrayBufferId)}})}else(0,i.YG)("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:(e={})=>{var{fd:t,arrayBuffer:a}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!(0,o.eP)(a))throw new TypeError("arrayBuffer must be an ArrayBuffer");var r=Object.assign({},e),n=(0,d.t)();l.cj&&n&&n.trace&&(r.arrayBufferId=n.trace(r.arrayBuffer,"rw"),delete r.arrayBuffer),(0,o.hj)(r.position)&&r.position<0?r.position=0:(0,o.o8)(r.position)||(0,o.Ft)(r.position)?r.position=null:(0,o.hj)(r.position)||(r.position=0);var s=Number(r.length);Number.isNaN(s)?r.length=0:r.length=s;var u,c,p,h=Number(r.offset);if(Number.isNaN(h)?r.offset=0:r.offset=h,l.jP&&delete r.arrayBuffer,(0,i.IN)("readSync",{...r,fail(e){c=e.errMsg,p=e.errno},success(e){if(l.jP){var t=new Uint8Array(a),i=new Uint8Array(e.arrayBuffer);t.set(i,r.offset),e.bytesRead=e.arrayBuffer.byteLength}u={bytesRead:e.bytesRead,arrayBuffer:a}}}),l.cj&&n&&n.untrace&&n.untrace(r.arrayBufferId),c){var f=new Error(c);throw f.errno=p,f}return u},ftruncate:(e={})=>{(0,i.r3)("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,i.IN)("ftruncate",e))},ftruncateSync:({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var a,r;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,i.IN)("ftruncateSync",{fd:e,length:t,fail(e){a=e.errMsg,r=e.errno}}),a){var n=new Error(a);throw n.errno=r,n}}}},6345:(e,t,a)=>{"use strict";a.d(t,{h:()=>n});var i=a(9398),r=a(6142),n=(e={})=>{if((0,i.r3)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=(0,r.x7)(e,{digestAlgorithm:""});if(t)return void(0,i.YG)("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1","sha256"].indexOf(e.digestAlgorithm))return void(0,i.YG)("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}(0,i.IN)("getFileInfo",e,{})}}},4237:(e,t,a)=>{"use strict";a.d(t,{sZ:()=>T});var i=a(158),r=a(7659),n=a(6142),o=a(9398),s=a(9105),l={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},d={openSync:!0,truncateSync:!0},u=a(9806),c=a(7445),p=a(6342),h="",f="",v="";p.default.onReady((()=>{try{h=p.default.env.USER_DATA_PATH,f=p.default.env.OPEN_DATA_PATH,delete p.default.env.OPEN_DATA_PATH,v=h+"/__plugins__",c.gm?("http://__wxprivate__","http://sdk","http://ad"):("wxfile://__wxprivate__","wxfile://sdk","wxfile://ad")}catch(e){}}));var m=()=>h,_=()=>f,g=()=>v,y=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),A=a(4081),E=function(e,t,a,i){return(...r)=>{var n,c=t.endsWith("Sync"),p=!c||d[t]?r[0]:r,h=l[t].every((e=>{var r=JSON.parse(JSON.stringify({[e]:p[e]}));p[e]=r[e];var o=((e,t,a,i)=>{var r=m(),n=_(),o=g();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${a}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${a}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||(0,u.Av)()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!y.has(i)||!e.startsWith(r)||e:"game"===t||"app"===t?!(e.startsWith(n)||e.startsWith(o)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(n)?e:!e.startsWith(r)||!!e.startsWith(`${o}/${a}`)||e:e)})(p[e],a,i,t);return!0===o||(n=o,!1)}));if("app-plugin"!==a&&"game-plugin"!==a||l[t].forEach((e=>{"string"!=typeof p[e]||p[e].match(/^[a-zA-Z0-9]+:\/\//)||(p[e]=(0,s.RP)(i,p[e]))})),h)return e(...r);if(c){var f=new Error(`${t}:fail permission denied with path "${n}"`);throw f.errno=A.UoO,f}(0,o.FE)({success:!1,name:t,args:p,errno:A.UoO,errMsg:`permission denied with path "${n}"`})}},C=(e,t="")=>{var a={},s=new Set;return function(e,t,a,i){Object.keys(e).forEach((r=>{(0,n.o8)(l[r])||((0,n.Ft)(l[r])?t[r]=(...t)=>e[r](...t):t[r]=E(e[r],r,a,i))}))}(r.W,a,e,t),function(e,t,a){Object.keys(e).forEach((i=>{var r=e[i];t[i]=(e={})=>{var{fd:t}=e;if(a.has(t))return r(Object.assign({},e,{fd:t}));if(i.endsWith("Sync"))throw new Error(`${i}:fail invalid fd`);(0,o.YG)(i,e,"invalid fd")}}))}(i.v,a,s),function(e,t){var a=e.open,i=e.openSync,r=e.close,n=e.closeSync;e.open=(e={})=>{var{success:i}=e;a(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof i&&i(e)}}))},e.openSync=(e={})=>{var a=i(e);return t.add(a),a},e.close=(e={})=>{var{fd:a,success:i}=e;r(Object.assign({},e,{fd:a,success:e=>{t.delete(a),"function"==typeof i&&i(e)}}))},e.closeSync=(e={})=>{var{fd:a}=e;n({fd:a}),t.delete(a)}}(a,s),a},T=()=>C("app")},7659:(e,t,a)=>{"use strict";a.d(t,{W:()=>m});var i=a(9398),r=a(6345),n=a(8053),o=a(7172),s=a(3165),l=a(6614),d=a(6659),u=a(5340),c=a(1869),p=a(6142),h="readZipEntry",f=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],v=a(9105),m={saveFile:e=>{(0,i.r3)("saveFile",e,{tempFilePath:""})&&(0,i.IN)("saveFile",e)},saveFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var a,r;if((0,i.IN)("saveFileSync",{tempFilePath:e,filePath:t,success(e){r=e.savedFilePath},fail(e){a=e.errMsg}}),a)throw new Error(a);return r},getSavedFileList:(e={})=>{(0,i.IN)("getSavedFileList",e)},getSavedFileInfo:(e={})=>{(0,i.r3)("getSavedFileInfo",e,{filePath:""})&&(0,i.IN)("getSavedFileInfo",e)},removeSavedFile:(e={})=>{(0,i.r3)("removeSavedFile",e,{filePath:""})&&(0,i.IN)("removeSavedFile",e)},getFileInfo:r.h,readFile:n.p,readFileSync:n.N,writeFile:o.N,writeFileSync:o.y,mkdir:(e={})=>{(0,i.r3)("mkdir",e,{dirPath:""})&&(0,i.IN)("mkdir",e)},mkdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var a,r;if((0,i.IN)("mkdirSync",{dirPath:e,recursive:t,fail(e){a=e.errMsg,r=e.errno}}),a){var n=new Error(a);throw n.errno=r,n}},rmdir:(e={})=>{(0,i.r3)("rmdir",e,{dirPath:""})&&(0,i.IN)("rmdir",e)},rmdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var a,r;if((0,i.IN)("rmdirSync",{dirPath:e,recursive:t,fail(e){a=e.errMsg,r=e.errno}}),a){var n=new Error(a);throw n.errno=r,n}},readdir:s.e,readdirSync:s.T,access:l.P,accessSync:l.c,unlink:d.q,unlinkSync:d.y,stat:u.lz,statSync:u.dJ,unzip:(e={})=>{var{zipFilePath:t}=e;t=""+t,(0,i.r3)("unzip",e,{zipFilePath:""})&&(0,i.IN)("unzip",Object.assign({},e,{targetDirectory:e.targetPath,zipFilePath:t}))},copyFile:(e={})=>{(0,i.r3)("copyFile",e,{srcPath:"",destPath:""})&&(0,i.IN)("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},copyFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var a,r;if((0,i.IN)("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){a=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),r=e.errno}}),a){var n=new Error(a);throw n.errno=r,n}},rename:(e={})=>{(0,i.r3)("rename",e,{oldPath:"",newPath:""})&&(0,i.IN)("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var a,r;if((0,i.IN)("fs_renameSync",{oldPath:e,newPath:t,fail(e){a=e.errMsg.replace(/^fs_/,""),r=e.errno}}),a){var n=new Error(a);throw n.errno=r,n}},appendFile:(e={})=>{(0,i.r3)("appendFile",e,{filePath:""})&&(e.encoding&&-1===c.a.indexOf(e.encoding)?(0,i.YG)("appendFile",e,`invalid encoding "${e.encoding}"`):(0,i.IN)("fs_appendFile",e,{}))},appendFileSync:(e,t,a)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(a&&-1===c.a.indexOf(a))throw new Error(`invalid encoding "${a}"`);var r,n;if((0,i.IN)("fs_appendFileSync",{filePath:e,data:t,encoding:a,fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},readZipEntry:(e={})=>{(0,i.r3)(h,e,{filePath:""})&&((0,p.o8)(e.encoding)||-1!==c.a.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?(0,i.IN)(h,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${h}:ok`:e.entries[t].errMsg=`${h}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var a=t.replace("file:","");e.entries[a]=e.entries[t],delete e.entries[t]}})),e)}):(0,i.YG)(h,e,"invalid entries"):(0,i.YG)(h,e,`invalid encoding "${e.encoding}"`))},open:(e={})=>{var t=Object.assign({},e);(0,i.r3)("open",e,{filePath:""})&&(void 0===e.flag||f.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),(0,i.IN)("open",t)):(0,i.YG)("open",e,`invalid flag "${e.flag}"`))},openSync:(e={})=>{var t,a,r,{filePath:n}=e,{flag:o}=e;if(!n||"string"!=typeof n)throw new TypeError("filePath must be a string");if(void 0!==o&&!f.includes(o))throw new v.iZ(`invalid flag: ${o}`);if(void 0===o&&(o="r"),(0,i.IN)("openSync",{filePath:n,flag:o,fail(e){a=e.errMsg,r=e.errno},success(e){t=e.fd}}),a){var s=new Error(a);throw s.errno=r,s}return t},truncate:(e={})=>{(0,i.r3)("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,i.IN)("truncate",e,{}))},truncateSync:({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var a,r;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,i.IN)("truncateSync",{filePath:e,length:t,fail(e){a=e.errMsg,r=e.errno}}),a){var n=new Error(a);throw n.errno=r,n}},readCompressedFile:(e={})=>{(0,i.r3)("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&(0,i.IN)("readCompressedFile",e)},readCompressedFileSync:({filePath:e,compressionAlgorithm:t}={})=>{if(!(0,p.HD)(e))throw new v.iZ(`invalid filePath: ${e}`);if(!(0,p.HD)(t))throw new v.iZ(`invalid compressionAlgorithm: ${t}`);var a,r,n;if((0,i.IN)("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){a=e.data},fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}return a}}},8053:(e,t,a)=>{"use strict";a.d(t,{p:()=>h,N:()=>f});var i=a(9398),r=a(88),n=a(1399),o=a(7445),s=a(6342),l=a(4500),d=[{match:/^connectSocket/,version:1},{match:/^request/,version:o.wZ?3:1},{match:/^downloadFile/,version:o.wZ?3:1}];var u=a(6142),c=a(1591),p=!1;s.default.onReady((()=>{var e=n.Z.fs;if(e&&e.FileReader){var t=!1,a=o.cj?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";(0,l.b)({experimentId:a,experimentType:"Expt",success:e=>{var a,i;e&&1===Number(e.testConfig)&&(a=/readFile(?:Sync)?$/,i=1,d.push({match:a,version:i}),t=!0)},fail(e){}});var i=(0,r.J)("bindingReadFile");p=t||i,wxNativeConsole.info(`${p?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${i}`)}}));var h=(e={})=>{if((0,i.r3)("readFile",e,{filePath:""}))if((0,u.o8)(e.encoding)||(0,u.HD)(e.encoding))if((0,u.o8)(e.position)||(0,u.hj)(e.position))if((0,u.o8)(e.length)||(0,u.hj)(e.length))if(p){var t,a=n.Z.fs;(t=e.workerId?new a.FileReader(e.workerId):new a.FileReader).onerror=t=>(0,i.YG)("readFile",e,t),t.onread=t=>(0,i.FE)({name:"readFile",args:e,res:{data:t}});var r={};Object.keys(e).forEach((t=>{var a=e[t];["success","fail","complete"].includes(t)||(r[t]=a)})),t.read(r)}else(0,i.IN)("readFile",e);else(0,i.YG)("readFile",e,`invalid length: ${e.length}`);else(0,i.YG)("readFile",e,`invalid position: ${e.position}`);else(0,i.YG)("readFile",e,`invalid encoding: ${e.encoding}`)},f=(e,t,a,r,o)=>{if(!e||!(0,u.HD)(e))throw new c.i(`invalid filePath: ${e}`);if(!(0,u.o8)(t)&&!(0,u.HD)(t))throw new c.i(`invalid encoding: ${t}`);if(!(0,u.o8)(a)&&!(0,u.hj)(a))throw new c.i(`invalid position: ${a}`);if(!(0,u.o8)(r)&&!(0,u.hj)(r))throw new c.i(`invalid length: ${r}`);if(p){var s=n.Z.fs;try{return o?s.readFileSync(e,t,o):s.readFileSync(e,t)}catch(d){throw new Error(d)}}var l,d,h;if((0,i.IN)("readFileSync",{filePath:e,encoding:t,position:a,length:r,success(e){l=e.data},fail(e){d=e.errMsg,h=e.errno}}),d){var f=new Error(d);throw f.errno=h,f}return l}},3165:(e,t,a)=>{"use strict";a.d(t,{T:()=>o,e:()=>n});var i=a(9398),r=a(7445),n=(e={})=>{(r.DD||"wxfile://"!==e.dirPath)&&(!r.DD||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?(0,i.r3)("readdir",e,{dirPath:""})&&(0,i.IN)("readdir",e):(0,i.YG)("readdir",e,"path permission denied")},o=e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,a,r;if((0,i.IN)("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){a=e.errMsg,r=e.errno}}),a){var n=new Error(a);throw n.errno=r,n}return t}},5340:(e,t,a)=>{"use strict";a.d(t,{dJ:()=>l,jk:()=>n,lz:()=>s});var i=a(9398),r=a(7445);class n{constructor({mode:e,size:t,lastAccessedTime:a,lastModifiedTime:i}){this.mode=e,this.size=t,this.lastAccessedTime=a,this.lastModifiedTime=i}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}var o=(e,t)=>{var a=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{a=a&&void 0!==e[t]})),a)e.stats=new n(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new n(e.stats[""]);else{var i=[],o=e.stats;r.wZ&&(o=e,i.push({path:"/",stats:l(t)})),Object.keys(o).forEach((e=>{if("errMsg"!==e){var t=o[e];""===e&&(e="/"),i.push({path:e,stats:new n(t)}),delete o[e]}})),e.stats=i}},s=(e={})=>{(0,i.r3)("stat",e,{path:""})&&(0,i.IN)("stat",e,{beforeSuccess:t=>{o(t,e.path)}})},l=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var a,r,n;if((0,i.IN)("statSync",{path:e,recursive:t,success(t){o(t,e),a=t.stats},fail(e){r=e.errMsg,n=e.errno}}),r){var s=new Error(r);throw s.errno=n,s}return a}},6659:(e,t,a)=>{"use strict";a.d(t,{q:()=>r,y:()=>n});var i=a(9398),r=(e={})=>{(0,i.r3)("unlink",e,{filePath:""})&&(0,i.IN)("unlink",e)},n=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,a;if((0,i.IN)("unlinkSync",{filePath:e,fail(e){t=e.errMsg,a=e.errno}}),t){var r=new Error(t);throw r.errno=a,r}}},7172:(e,t,a)=>{"use strict";a.d(t,{N:()=>n,y:()=>o});var i=a(9398),r=a(1869),n=(e={})=>{(0,i.r3)("writeFile",e,{filePath:""})&&(e.encoding&&-1===r.a.indexOf(e.encoding)?(0,i.YG)("writeFile",e,`invalid encoding "${e.encoding}"`):(0,i.IN)("writeFile",e,{}))},o=(e,t,a)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(a&&-1===r.a.indexOf(a))throw new Error(`invalid encoding "${a}"`);var n,o;if((0,i.IN)("writeFileSync",{filePath:e,data:t,encoding:a,fail(e){n=e.errMsg,o=e.errno}}),n){var s=new Error(n);throw s.errno=o,s}}},3385:(e,t,a)=>{"use strict";a.d(t,{Y:()=>o});var i=a(6342),r=a(8246),n={};i.default.onReady((()=>{Object.assign(n,i.default.appLaunchInfo),(0,r.n)("onAppEnterForeground",(e=>{Object.assign(n,e)}))}));var o=()=>n},4599:(e,t,a)=>{"use strict";a.d(t,{UR:()=>p,VT:()=>s,b$:()=>u,rc:()=>c,vv:()=>d,yN:()=>l});var i=a(9766),r=(0,i.s)("LifeCycle:beforeHide"),n=(0,i.s)("LifeCycle:Hide"),o=(0,i.s)("LifeCycle:afterHide"),s=(n.emitInternal.bind(n),n.emitGlobal.bind(n),r.emitInternal.bind(r),o.emitInternal.bind(o),n.onMethod,n.offMethod,r.internalOnMethod),l=r.internalOffMethod,d=n.internalOnMethod,u=n.internalOffMethod,c=o.internalOnMethod,p=o.internalOffMethod},7351:(e,t,a)=>{"use strict";a.d(t,{Tb:()=>n,dN:()=>r});var i=(0,a(9766).s)("LifeCycle:Show"),r=(i.emitInternal.bind(i),i.emitGlobal.bind(i),i.onMethod,i.offMethod,i.internalOnMethod),n=i.internalOffMethod},6227:(e,t,a)=>{"use strict";a.d(t,{GJ:()=>h,Q1:()=>p,v8:()=>c});var i,r,n=a(6715),o=a.n(n),s=a(88),l=a(6252),d=a(9138),u=a(6342),c=new Promise((e=>{e}));u.default.onReady((()=>{r=(0,s.J)("reportRequestErrorByAI")}));var p=()=>i,h=function(){var e=o()((function*(e){if(i&&r){var t=yield(0,d.A6)(i);if(t){var{modelUrl:a,modelName:n,cfg:o}=t,s=(yield(0,l.Zv)(void 0,a,n,o,void 0,e)).xnetRes;return s=(e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null})(s),!!s&&s[0]-s[1]}}}));return function(t){return e.apply(this,arguments)}}()},2422:(e,t,a)=>{"use strict";a.d(t,{Qe:()=>i,yY:()=>r});a(6715),a(88),a(8171),a(3329),a(6142),a(6347),a(6227),a(3385);Math.random,"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__&&__libVersionInfo__.version;function i(e,t,{uuid:a,invokeTime:i,dataType:r,networkType:n,routePath:o}={}){}var r=(e={})=>{}},5310:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});const i={query:{},scene:0,sceneNote:""}},1105:(e,t,a)=>{"use strict";a.d(t,{hI:()=>s});const i={emitter:new(a(9661).Z),puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}};var r=a(7445),n=new WeakMap,o=e=>{for(var t in i.puidToPluginWX)if(i.puidToPluginWX[t]===e)return t},s=e=>{if((0,r.aI)()){var t=(a=e,n.get(a));return t&&t.provider?t.provider:void 0}return i.pluginIDs[o(e)];var a};Object.keys},9806:(e,t,a)=>{"use strict";a.d(t,{Av:()=>s,Fr:()=>o,Iy:()=>l,Y6:()=>r});var i=a(6342);function r(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}var n=(()=>Object.assign)();function o(e){return(t={})=>new Promise(((a,i)=>{e(n(t,{success:a,fail:i}))}))}function s(){return i.default.appLaunchInfo&&"singlePage"===i.default.appLaunchInfo.mode}var l=(e,t)=>{var a;return function(i,...r){if(a)i.success&&i.success(a),i.complete&&i.complete(a);else{var n=i.success,o=i.complete;i.success=e=>{a=t(e),n&&n(e),o&&o(e)},e(i,...r)}}}},9067:(e,t,a)=>{"use strict";a.d(t,{Ei:()=>i,Xl:()=>r});var i=function(e,t){if("string"!=typeof e)return 0;var a,i,r,n=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(i=0,r=e.length;i<r;i++)n+=(a=e.charCodeAt(i))<=65535?2:4;else for(i=0,r=e.length;i<r;i++)n+=(a=e.charCodeAt(i))<=127?1:a<=2047?2:a<=65535?3:4;return n};var r=e=>{var t="";return Object.keys(e).forEach(((a,i)=>{try{var r=`${encodeURIComponent(a)}=${encodeURIComponent(e[a])}`;0!==i&&(t+="&"),t+=r}catch(e){}})),t}}},a={};function i(t){var r=a[t];if(void 0!==r)return r.exports;var n=a[t]={id:t,loaded:!1,exports:{}};return e[t](n,n.exports,i),n.loaded=!0,n.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=i(9398),t=i(9661);class a{constructor(e={maxListeners:2e3}){this.emitter=new t.Z(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var a=__errorTracer__.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,a),this.originalCallbackMap.set(a,t),this.emitter.on(e,a)}}off(e,t){if(t&&"function"==typeof t){var a=this.callbackMap.get(t);this.emitter.off(e,a),this.callbackMap.delete(t),this.originalCallbackMap.delete(a)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}}const r=i(7641).Z;var{onMethod:n}=r,o=new a,s=()=>{o.emit("_onEmitSplashAdFetch")};var l=i(6715),d=i.n(l),u=i(5469),c=i.n(u),p=i(405),h=i.n(p),f=i(6342),v=i(7445);function m(e=""){return new Promise(((t,a)=>{var i="",n="";v.wZ&&f.default.clientVersion>=654316032?r.invokeMethod("getDeviceInfo",{waidPkg:e,success(e){i=e.waid||"",n=e.imei||"",t({waid:i,imei:n})},fail(e){a(e)}}):t({waid:i,imei:n})}))}var _=i(9806),{invokeMethod:g,deviceInfo:y}=r,A=e=>e&&"object"==typeof e&&!Array.isArray(e),E=(e,...t)=>{if(!t.length)return e;var a=t.shift();if(A(e)&&A(a))for(var i in a)A(a[i])?(e[i]||Object.assign(e,{[i]:{}}),E(e[i],a[i])):Object.assign(e,{[i]:a[i]});return E(e,...t)},C=()=>{var e=new Date,t=e.getMonth()+1,a=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(a>9?"":"0")+a].join("")},T=e=>{var t;if(e)return null!==(t=e.wx_game_video)&&void 0!==t&&t.short_video?e.wx_game_video.short_video.viewid:void 0},I=(e,t)=>t.reduce(((t,a)=>(t[a]=e[a],t)),{});var b=(e=0)=>new Promise((t=>{setTimeout(t,e)})),w=i(6347),{invokeMethod:k,beforeInvoke:S}=r,{invokeMethod:x,invokeOperateWXDataPromise:P,_invokeMethod:D,_gameTransfer:O}=r,R=(0,_.Fr)((({url:e,adInfo:t,adUxInfo:a,success:i,fail:r,complete:n})=>{var o={url:e,adInfo:t,scene:85,success:i,fail:r,complete:n};a&&(o.adUxInfo=a),x("private_openUrl",o)})),N=(0,_.Fr)((({canvasInfo:e,posType:t,success:a,fail:i,complete:r})=>{var n,o,s,l;x("openADCanvas",{canvasId:e.canvas_id,preLoad:0,noStore:0,extraData:JSON.stringify({pos_type:t,env:null===f.default||void 0===f.default||null===(n=f.default.host)||void 0===n?void 0:n.env,app_appid:null===f.default||void 0===f.default||null===(o=f.default.host)||void 0===o?void 0:o.appId,host_version:null===f.default||void 0===f.default||null===(s=f.default.host)||void 0===s?void 0:s.version}),...e.canvas_dynamic_info&&{canvasDynamicInfo:e.canvas_dynamic_info},adInfoXml:(l=e.ad_info_xml,0===(l=l||"").length?"":l.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g,"    ").replace(/&#039;|&#39;/g,"'").replace(/&#047;|&#47;/g,"/").replace(/&#092;|&#92;/g,"\\").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/<br>/g,"\n").replace(/<br\/>/g,"\n").replace(/<br \/>/g,"\n")),openFirstSightVoice:1,success:a,fail:i,complete:r})})),M=(0,_.Fr)((({appId:e,path:t,traceid:a,aid:i,adInfo:r,adUxInfo:n,privateExtraData:o,success:s,fail:l,complete:d})=>{var u=`${a}:${i}`,c={appId:e,path:(0,w.Pp)(t).trim(),scene:1095,sourcetype:1,sceneNote:u,adInfo:r,privateExtraData:o,success:s,fail:l,complete:d};n&&(c.adUxInfo=n),x("navigateToMiniProgram",c)})),L=(0,_.Fr)(((e=!0,t,a=!1)=>(i={})=>{if(S("adOperateWXData",i,{apiName:""})){var r={data:{api_name:i.apiName,data:i.reqData||{},operate_directly:e},isImportant:!0===a,requestInQueue:!i.hasOwnProperty("requestInQueue")||Boolean(i.requestInQueue)};k("adOperateWXData",Object.assign({},r,i),{beforeAll(e){void 0!==t&&(e.errMsg=e.errMsg.replace("adOperateWXData",t))},beforeSuccess(e){v.wZ&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data?e.data=JSON.parse(e.data.data):e.data={}}})}})(!1,"adOperateWXDataForAd")),B=(e={})=>P(Object.assign({},e,{sdkApiName:"operateWXDataForAd"}));(0,_.Fr)(O);function F(e){D("showSplashAd",e)}function W(e){D("splashAdFirstStepViewLayoutStateChange",e)}function U(e){D("splashAdAllViewLayoutStateChange",e)}var{readdir:V,stat:H,unlink:j,writeFile:G,readFileSync:z,access:$,accessSync:Q,getInternalFileSystemManager:Y}=r,q=i(1329),Z=i(7238),K=(e,t=1)=>(0,Z.h)(e,Z.O.CUSTOMAD,t),X=K(1),J=(K(2),K(3),K(4),K(5,.01),K(6)),ee=K(7),te=(K(8),K(9),K(10)),ae=(K(11),K(12),K(13)),ie=(K(14),K(15),K(16,.01),K(17),K(18),K(19),K(20,.01)),re=(K(21),K(22),K(23),K(24),K(25),K(26),2002),ne=2003,oe="hideAd",se="setStyle",le="reportIdKey",de="triggerEvent",ue="setExprVar",ce="videoToggleMuted",pe="videoPlay",he="videoPause",fe="videoStop",ve="buttonSetText",me="reloadAd",_e="reportMMData",ge="endPageHide",ye="imageSetSrc",Ae="textSetText",Ee="animate",Ce="triggerBtnClick",Te="changeMultiShow",Ie="landAd",be="splashSkipAd",we="addChildren",ke="reportAdMonitorData",Se="rewardedVideoDynamic",xe="evaluateExpr",Pe="checkLiveStatus",De="slide",Oe="animationend",Re="appEnterForeground",Ne="appEnterBackground",Me="containerTap",Le="splashAdFirstRender",Be="splashAdMenuView",Fe="liveStatusChange",We="buttonTap",Ue="relationFetched",Ve="videoEnded",He="videoPause",je="videoPlay",Ge="videoTimeUpdate",ze="mutedChange",$e="feedbackBtnTap",Qe="tagTap",Ye="dislikeTap",qe="dislikeReasonTap",Ze="replay",Ke="show",Xe="hide",Je="videodislike",et="showChange",tt="unitTap",at={SHOWFEEDBACK:"showFeedback",ADSHOWHALF:"adShowHalf",ADHIDEHALF:"adHideHalf",TRIGGEREVENT:"triggerEvent",REPORTVIDEOPLAY:"reportVideoPlay",APPENTERBACKGROUND:"appEnterBackground",ADVIDEOPAUSE:"adVideoPause",ADVIDEOPLAY:"adVideoPlay",FEEDBACKBTNTAP:"feedbackBtnTap",FEEDBACKREPORT:"feedbackReport",BTNTAP:"btnTap",CHANGEADBTNTEXT:"changedAdBtnText",ENDPAGEINIT:"endPageInit",SHOWENDPAGE:"showEndPage",REPORTENDPAGE:"reportEndPage",APPENTERFOREGROUND:"appEnterForeground",ENDPAGEHIDE:"endPageHide",ENDPAGESHOW:"endPageShow",REPORTMMDATA:"reportMMData",HIDEAD:"hideAd",REPORTTIMEPOINT:"reportTimePoint",CHANGEMULTISHOW:"changeMultiShow",CHECKEXPOSURE:"checkExposure",LANDAD:"landAd",CHANGECOUNTDOWN:"changeCountdown",SPLASHSKIPAD:"splashSkipAd",REPORTADMONITORDATA:"reportAdMonitorData",REWARDEDVIDEODYNAMIC:"rewardedVideoDynamic",ADVIDEOLOADFAILED:"adVideoLoadFailed"},it=1,rt=2,nt=3,ot=1,st=2,lt=3,dt=1,ut=2,ct=3,pt=4,ht=1,ft=2,vt=1,mt=2,_t=1,gt=2,yt=0,At=1,Et=2,Ct=1,Tt=2,It=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"],bt={banner:"8040321819858439",rewardedVideoAd:"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885",cpsShopAd:"4021337766924141",wxpayBottom:"1024740886829562",wxpayCard:"8054749846134397"},wt={banner:3,rewardedVideoAd:1,interstitialAd:4,grid:7,splashAd:8,customAd:9},kt={banner:"showed",rewardedVideoAd:"viewable",interstitialAd:"viewable",grid:"viewable",splashAd:"viewable",customAd:"viewable"},St={rewardedVideoAd:3,banner:4,interstitialAd:5,grid:6,customAd:7},xt={94794:"widget_gray_batchload_app",94801:"widget_gray_vb_check",94804:"widget_gray_time_limit",94805:"widget_gray_video_download_v2",95489:"widget_gray_unlimit_fetch_tag",95767:"widget_gray_rewardedpage_exposure",100036:"widget_gray_report_install_follow",100332:"widget_gray_rewardedpage_exposure_v2",101246:"widget_gray_reward_new_endpage",104502:"widget_gray_reward_use_gauss_blur",104504:"widget_gray_reward_use_expand_style",105786:"widget_gray_banner_limit_click",105818:"widget_gray_splash_data_channel_parallel",107048:"widget_gray_splash_click_area_switch",110380:"widget_gray_webstore",109764:"widget_gray_reward_use_gauss_blur_android_system_version",109766:"widget_gray_reward_use_gauss_blur_android_wechat_version",110106:"widget_gray_splash_check_and_fetch",110108:"widget_gray_splashad_show_duration",110422:"widget_gray_interstitialAd_insurance_tips",110562:"widget_gray_interstitial_template",112296:"widget_gray_banner_exposure_toggle",113524:"widget_gray_rewarded_video_effect_guide",116004:"widget_gray_rewarded_video_effect_guide_level2",116070:"widget_gray_land_after_addContact",118004:"widget_gray_splash_wait_fetch",118010:"widget_gray_wxapp_code_preload",118518:"widget_gray_splash_outed_date_setting",119760:"widget_gray_splash_local_outed_date_setting",119762:"widget_gray_splash_use_local",120808:"widget_gray_check_fetch_catch",121264:"widget_gray_splash_local_black",121318:"widget_gray_splash_timeout",121377:"widget_gray_splash_offline_ad",121449:"widget_gray_splash_new_timeout",121750:"widget_gray_splash_new_checkad",122280:"widget_gray_splash_optimizationV1",122314:"widget_gray_splash_optimizationV1_timeout",122633:"widget_gray_splash_optimizationV1_jsapi",122657:"widget_gray_splash_optimizationV1_ios_timeout",123883:"widget_gray_splash_online_optimization",122157:"widget_gray_rewarded_video_feed_time",118408:"widget_gray_rewarded_video_slide_duration",118476:"widget_gray_rewarded_video_feed_max_fail_count",118478:"widget_gray_rewarded_video_feed_request_count",118504:"widget_gray_rewarded_video_feed_min_count",118914:"widget_gray_rewarded_video_feed_end_immediately",119186:"widget_gray_rewarded_video_feed_min_duration",119298:"widget_gray_rewarded_video_feed_probability",120834:"widget_gray_rewarded_video_feed_new_style",120138:"widget_gray_rewarded_video_feed_animate_start_time",118796:"widget_gray_custom_exposure_area_detect",119904:"widget_gray_ranking_score",120410:"widget_gray_interstitial_video_disable_preload",120409:"widget_gray_rewarded_video_disable_preload",121145:"widget_gray_rewarded_video_animation_page",121146:"widget_gray_rewarded_video_animation_page_video_duration",121147:"widget_gray_rewarded_video_animation_page_show_time",121148:"widget_gray_rewarded_video_animation_page_video_loop",121614:"widget_gray_interstitial_cross_page_android",122177:"widget_gray_rewarded_video_ios_use_wxplayer",122178:"widget_gray_rewarded_video_android_use_wxplayer",122305:"widget_gray_interstitial_cross_page_ios",122306:"widget_gray_interstitial_wxplayer_ios",122348:"widget_gray_weapp_feedback_close",122763:"widget_gray_rewarded_video_faster_play",122764:"widget_gray_rewarded_video_play_fail_refetch",123060:"widget_gray_rewarded_video_show_loading_duration",123077:"widget_gray_video_exposure_new_strategy",124613:"widget_gray_interstitial_preload",122446:"widget_gray_interstitial_new_ui",124998:"widget_gray_rewarded_video_disable_card_click",125180:"widget_gray_splashad_miniprogram_preload",125182:"widget_gray_ios_game_preload",151533:"widget_gray_interstitial_content_clik",151531:"widget_gray_interstitial_template_clik_limit",152980:"widget_gray_rewarded_video_bottom_card",153950:"widget_gray_rewarded_video_bottom_card_v2",154625:"widget_gray_splashad_jump_optimization",154805:"widget_gray_rewarded_video_endpage_countdown",154806:"widget_gray_rewarded_video_endpage_instantly",154768:"widget_gray_splashad_extend_show",155526:"widget_gray_rewarded_video_landpage_countdown",156480:"widget_gray_rewarded_video_category_act",156215:"widget_gray_rewarded_video_disable_bottom_card_early_click",156295:"widget_gray_rewarded_video_show_refetch",156297:"widget_gray_rewarded_video_refetch_time",156334:"widget_gray_rewarded_video_delay_show",156509:"widget_gray_splashad_video_report"},Pt={1:"widget_gray_wx_listen_appid",2:"widget_gray_reward_page_customer_acquisition_countdown",3:"widget_gray_reward_page_canvas_countdown",4:"widget_gray_reward_page_channels_feed_countdown",5:"widget_gray_reward_page_channels_live_countdown",6:"widget_gray_reward_page_playable_countdown",7:"widget_gray_reward_multi_image_countdown",8:"widget_gray_rewarded_video_playable_predownload_timeout",9:"widget_gray_rewarded_video_playable_insert_timeout",10:"widget_gray_rewarded_video_playable_first_frame_timeout",11:"widget_gray_rewarded_video_disable_template"},Dt={WECHAT:23,OPEN_PLATFORM_APP_MOB:12,APPLE_APP_STORE:19,MINI_GAME:46,JD_URL:25,WE_CHAT_SHOP:30,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31},Ot="wxfile://ad",Rt=`${Ot}/adinfos.txt`,Nt={splashAd:1288,customAd:1390},Mt={dataLoadSuccess:0,dataLoadFail:1,dataPreloadSuccess:2,dataPreloadFail:3,handleDataFail:4,launchAcceptShouldShow:5,menuAcceptShouldShow:6,readFileFail:7,launchShowSplashAdSuccess:8,menuShowSplashAdSuccess:9,showSplashAdFail:10,firstRenderFail:11,firstInsertFail:12,secondRenderFail:13,secondInsertFail:14,iosThirdInsertFail:15,checkAdStateFail:16,adOfflineClose:17,readFileDataFail:18,firstShowSuccess:19,showSplashAdMenuSuccess:20,showSplashAdMenuFail:21,secondShowSuccess:22,removeFileDataFail:23,landingPageFail:24,frequencyControlFail:25,frequencyControlReturn:26,bulkCopyFileFail:27,getAdInfosFail:28,getAidFail:29,setExposureTagFail:30,NO_ADINFOS:31,NO_AID:32,MATERIAL_NOT_READY:33,CHECK_AD_STATUS_ERROR:34,CRT_ORIENTATION_NOT_SURE:35,EXPOSURE_TIMES_LIMIT:36,START_CHECK_AD_STATUS:37,CHECK_AD_STATUS_SUCCESS:38,OTHER_ADS_EMIT_FETCH:39,WRITE_ADINFOS_SUCCESS:40,WRITE_ADINFOS_FAIL:41,LANDING_COUNTDOWN_FAIL:44,EXPOSURE_SHOWAD_SUCCESS:45,EXPOSURE_SHOWAD_FAIL:46,EXPOSURE_SHOWAD_UNKNOWN:47,CLOSE_SHOWAD_SUCCESS:48,CLOSE_SHOWAD_FAIL:49,CLOSE_SHOWAD_UNKNOWN:50,CLOSE_COUNTDOWN_FAIL:51,LOCAL_SELECT_BEGIN:54,LOCAL_SELECT_OUTDATE:55,LOCAL_SELECT_NO_AID:56,LOCAL_SELECT_NO_FILE:57,LOCAL_SELECT_SUCCESS:58,EXP_NOT_SHOW:59,EXP_SHOW:60,SHOW_SPLASH_FAIL:10,SHOW_AD_BY_ONLINE:61,SHOW_AD_BY_CHECK_AD:62,SHOW_AD_BY_LOCAL_SELECT:63,NOT_SHOW_ONLINE_NO_FILE:64,CHECK_AD_BEGIN:65,ONLINE_AD_BEGIN:66,CHECK_AD_SUCCESS:67,CHECK_AD_RESULT_SUCCESS:68,ONLINE_AD_SUCCESS:69,ONLINE_AD_RESULT_SUCCESS:70,LOCAL_AD_SUCCESS:71,CHECK_AD_FAIL:72,ONLINE_AD_FAIL:73,USE_ONLINE:74,USE_CHECK_AD:75,NO_MATERIAL_BEFORE_SHOW:76,GET_ADMSG_SUCCESS:77,GET_ADMSG_FAIL:78,OFFLINE_AD:79,CHECK_AD_TIMEOUT:80,ONLINE_AD_TIMEOUT:81,GET_WETEST_CONFIG_SUCCESS:82,GET_WETEST_CONFIG_FAIL:83,FETCH_BEGIN:84,FETCH_SUCCESS:85,LOCAL_SELECT_BLACK_LIST:86,LOCAL_SELECT_TIME_OUT:87,SHOW_AD_BY_PRELOAD:88,SHOW_AD_BY_PRELOAD_FAIL:89,NEW_TIMEOUT_CLOSE_AD:90,HOT_START_START:91,HOT_START_SUCCESS:92,HOT_START_FAIL:93,PATH_NOT_SHOW:94,VIDEO_LOAD_ERROR:95,SCENE_CACHE_PRELOAD_READ_SUCCESS:96,SCENE_CACHE_PRELOAD_READ_FAIL:97,SCENE_CACHE_WRITE_SUCCESS:98,SCENE_CACHE_WRITE_FAIL:99,SCENE_CACHE_NOT_SHOW:100,SCENE_CACHE_READ_SUCCESS:101,SCENE_CACHE_READ_FAIL:102,OTHER_GET_ADMSG_BEGIN:103,OTHER_GET_ADMSG_SUCCESS:104,OTHER_GET_ADMSG_SUCCESS_HAS_MESSAGE:105,MINIPROGRAM_PRELOAD_SUCCESS:106,MINIPROGRAM_PRELOAD_FAIL:107,INIT_MATERIAL_ERROR:108,INIT_MATERIAL_BG_ERROR:109,WORKER_CALL_EXTEND_CREATE:110,SERVICE_CREATE_EXTEND_DONE:111,WORKER_CALL_EXTEND_SHOW:112,SERVICE_SHOW_EXTEND_DONE:113,SERVICE_SHOW_EXTEND_FAIL:114,SERVICE_EXTEND_CLICK:115,SERVICE_GETFLOATBALLS_FAIL:116,SERVICE_INTERCEPT:117},Lt={banner:5,rewardedVideoAd:6,interstitialAd:8,customAd:9,cpsShopAd:11,grid:13,splashAd:14},Bt={click:1,exposure:0},Ft={showed:0,viewable:1,incentiveVideoCard:2},Wt={NO_ADINFOS:2001,NO_AID:2002,MATERIAL_NOT_READY:2003,CHECK_AD_STATUS_ERROR:2004,CRT_ORIENTATION_NOT_SURE:2005,EXPOSURE_TIMES_LIMIT:2006,SHOW_SPLASH_FAIL:2007,MATERIAL_RETRY_FAIL:2008,LOCAL_SELECT_NO_FILE:2009,LOCAL_SELECT_OUTDATE:2010,EXP_NOT_SHOW:2011,PATH_NOT_SHOW:2012},Ut=2001,Vt=2002,Ht=2004,jt=2013,Gt=2014,zt={12:"应用",19:"应用",23:"公众号",25:"商品",29:"活动",30:"商品",31:"活动",36:"优惠",39:"店铺",43:"活动",46:"小游戏",47:"优惠"},$t=["clicfg_miniprogram_open_admb_in_motivating"],Qt=e=>{var t=e,a={},i=JSON.parse(t);for(var r of i)Object.hasOwnProperty.call(r,"exp_para")&&r.exp_para.forEach((e=>{(0,q.hj)(e.value)?a[e.name]=Number(e.value):a[e.name]=e.value}));for(var n of Object.keys(a))xt[n]&&(a[xt[n]]=a[n]);return a},Yt=i(3203),qt="",Zt=v.iw,Kt="",Xt="",Jt="",ea="",ta="",aa="",ia=!0,ra="";f.default.onReady((()=>{var e;e=r.getInitScreenSize(),qt=(e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":f.default.deviceOrientation&&/^landscape/.test(f.default.deviceOrientation)?"landscape":f.default.deviceOrientation||"portrait")||"";var t=r.getStableSystemInfo();Kt=t.system,Xt=t.version,Jt=t.SDKVersion,ta=t.model,aa=t.brand,ia=(0,v.aI)();try{ra=f.default.accountInfo.appId,ea=__libVersionInfo__.updateTime}catch(e){}}));var na,oa,sa,la,da,ua,ca,pa,ha,fa,va,ma,_a,ga,ya,Aa,Ea,Ca,Ta,Ia,ba,wa,ka,Sa,xa,Pa,Da,Oa,Ra,Na,Ma,La,Ba,Fa,Wa,Ua,Va,Ha,ja,Ga,za,$a,Qa,Ya,qa,Za,Ka,Xa,Ja,ei,ti,ai,ii,ri,ni,oi,si,li,di,ui,ci,pi,hi,fi,vi,mi,_i,gi,yi,Ai,Ei,Ci,Ti,Ii,bi,wi,ki,Si,xi,Pi,Di,Oi,Ri,Ni,Mi,Li,Bi,Fi,Wi,Ui=(e,t)=>{var a=t,i=(0,Yt.x)(e);if(i&&0!==i.length)return a=Object.assign({publisher_appid:ra,appid:ra,orig_weapp_id:"",network_type:"",wechat_version:Xt,platform:Zt,system_version:Kt,device_orientation:qt,wxapp_lib_version:Jt,wxapp_lib_time:ea,machine_type:ta,ad_platform:ia?1:0},a),a=Object.assign({DeviceModel:ta,DeviceBrand:aa,OsName:Zt,OsVersion:Kt},a),i=i.map((e=>({type:e.type,value:(a[e.key]||e.value).toString()}))),r.adReportOperateWXDataPromise({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:i}}}).catch((e=>{}))},Vi=(e,t,a)=>{(({key:e,id:t})=>{var a=t,i=e;"object"==typeof i&&(!a&&(a=i.idKeyGroup),i=i.idKey),0===i&&(i="0"),Reporter.reportIDKeyDirectly({id:a||924,key:i,force:!0})})({key:e}),(({key:e,id:t,extInfo:a,reportData:i})=>{var r=e,n=t,o=a,s=i;if("object"==typeof r&&(!n&&(n=r.idKeyGroup),r=r.idKey),0===r&&(r="0"),s=s||{},o&&"string"!=typeof o)try{o=JSON.stringify(o)}catch(e){o=o.toString()}Ui(16295,{id_key:r,id_key_group:n||924,report_time:+new Date,ad_pos_type:s.ad_pos_type||0,source_url:s.source_url||"",expand_feild:s.reportAdData||"",expand_feild2:o,aid:s.aid||0,traceid:s.traceid||"",ad_unit_id:s.ad_unit_id,slotid:s.slotid||0,publisher_appid:s.publisher_appid||""})})({key:e,extInfo:t,reportData:a})},Hi=e=>Ui(19213,e),ji=(e,t=!1)=>{var a=t?"<?xml version='1.0' encoding='utf-8' ?>":"";return a+=`<${e.name}>`,e.children.length>0?a+=(e=>e.children&&e.children.length>0?e.children.map((e=>ji(e))).join(""):"")(e):a+=`<![CDATA[${e.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}]]>`,a+=`</${e.name}>`},Gi=e=>ji(e,!0),zi=i(662),$i=i.n(zi),Qi=(i(5669),(e,t)=>{var a=Array.isArray(t)?t:[t];for(var i of a)if(!(i in e)||"function"!=typeof e[i])throw new Error(`${i} is not the function method of the class`);return a.map((t=>e[t]))}),Yi=(e,t=!1)=>(a,i,r)=>{var n=r.value,o=Qi(a,e);r.value=t?d()((function*(...e){var t=yield n.call(this,...e);for(var a of o)yield a.call(this,t);return t})):function(...e){var t=n.call(this,...e);if(t instanceof Promise)return t.then((e=>{for(var t of o)t.call(this,e);return e}));for(var a of o)a.call(this,t);return t}},qi=(e,t=!1)=>(a,i,r)=>{var n=r.value,o=Qi(a,e);r.value=t?d()((function*(...e){try{return yield n.call(this,...e)}catch(e){for(var t of o)yield t.call(this,e);throw e}})):function(...e){try{var t=n.call(this,...e);return t instanceof Promise&&t.catch((e=>{for(var t of o)t.call(this,e)})),t}catch(e){for(var a of o)a.call(this,e);throw e}}},Zi=Symbol("signExport"),Ki=()=>(e,t)=>{e[Zi]=e[Zi]||new Set,e[Zi].add(t)},Xi=i(9137),{getChannelsLiveInfo:Ji,_getNetworkType:er,invokeMethod:tr,invoke:ar,vibrateShort:ir,vibrateLong:rr}=r,nr=["private_openUrl","navigateToMiniProgram","openADCanvas","openChannelsRewardedVideoAd","openChannelsUserProfile","openChannelsLive","launchApplication","openWeComUserProfileForAd"],or=e=>t=>new Promise(((a,i)=>{e(Object.assign({},t,{success:a,fail:i}))})),sr=(e,t,a)=>{var i;e.errMsg=e.errMsg||`${t}:ok`;var r,n=0===e.errMsg.indexOf(`${t}:ok`),o=0===e.errMsg.indexOf(`${t}:fail`);if(n)null==a||null===(r=a.success)||void 0===r||r.call(a,e);else if(o){var s;null==a||null===(s=a.fail)||void 0===s||s.call(a,e)}null==a||null===(i=a.complete)||void 0===i||i.call(a,e)},lr=({username:e,success:t,fail:a,complete:i})=>{tr("profile",{username:e,scene:75,success:t,fail:a,complete:i})},dr=({username:e,isWaGame:t,success:a,fail:i,complete:r})=>{tr("private_addContact",{username:e,scene:t?146:139,webtype:1,success:a,fail:i,complete:r})},ur=({schemeUrl:e,isIosDirect:t,appInfo:a,extraData:i,skAdItem:r,bizInfo:n,sourceInfo:o,success:s,fail:l,complete:d})=>{var u={};t&&(u.appId=a.app_id,u.installSchemeUrl=a.appinfo_url,null!==r?(u.installAction=1,u.skAdItem=r):u.installAction=0),i&&(u.extraData=i),n&&(u.bizInfo=n),o&&(u.sourceInfo=o),tr("launchApplication",Object.assign(u,{schemeUrl:e,operateDirectly:1,success:s,fail:l,complete:d}))},cr=({schemeUrl:e,messageExt:t,bizInfo:a,sourceInfo:i,success:r,fail:n,complete:o})=>{var s={};t&&(s.messageExt=t),a&&(s.bizInfo=a),i&&(s.sourceInfo=i),tr("launchApplication",Object.assign(s,{schemeUrl:e,operateDirectly:1,success:r,fail:n,complete:o}))},pr=({appUrl:e,extraData:t,skAdItem:a,bizInfo:i,sourceInfo:r,success:n,fail:o,complete:s})=>{tr("downloadAppInternal",{appUrl:e,extraData:t,skAdItem:a,bizInfo:i,sourceInfo:r,operateDirectly:1,success:n,fail:o,complete:s})},hr=({packageName:e,success:t,fail:a,complete:i})=>{tr("getInstallState",{packageName:e,permissionBytes:[1,1,1],success:t,fail:a,complete:i})},fr=({downloadId:e,success:t,fail:a,complete:i})=>{tr("queryDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:a,complete:i})},vr=({downloadId:e,success:t,fail:a,complete:i})=>{tr("pauseDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:a,complete:i})},mr=({downloadId:e,success:t,fail:a,complete:i})=>{tr("resumeDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:a,complete:i})},_r=({downloadId:e,success:t,fail:a,complete:i})=>{tr("installDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:a,complete:i})},gr=({isHide:e,success:t,fail:a,complete:i})=>{tr("setNavigationBarRightButton",{hide:e,success:t,fail:a,complete:i})},yr=({isHide:e,success:t,fail:a,complete:i})=>{tr("private_setNavigationBarRightButton",{hide:e,success:t,fail:a,complete:i})},Ar=({resources:e,success:t,fail:a,complete:i})=>{tr("loadVideoResource",{resources:e,success:t,fail:a,complete:i})},Er=({orientation:e,success:t,fail:a,complete:i})=>{tr("private_setPageOrientation",{orientation:e,success:t,fail:a,complete:i})},Cr=({value:e,success:t,fail:a,complete:i})=>{tr("setDeviceOrientation",{value:e,success:t,fail:a,complete:i})},Tr=({success:e,fail:t,complete:a}={})=>{tr("hideVirtualBottomNavigationBar",{success:e,fail:t,complete:a})},Ir=({success:e,fail:t,complete:a}={})=>{tr("showVirtualBottomNavigationBar",{success:e,fail:t,complete:a})},br=({success:e,fail:t,complete:a}={})=>{tr("showStatusBar",{success:e,fail:t,complete:a})},wr=({success:e,fail:t,complete:a}={})=>{tr("hideStatusBar",{success:e,fail:t,complete:a})},kr=({success:e,fail:t,complete:a,feedId:i,nonceId:r,finderUserName:n,reportExtraInfo:o})=>{ar("openChannelsActivity",{feedId:i,nonceId:r,finderUserName:n,reportExtraInfo:o,permissionBytes:[1,1,1]},(i=>{sr(i,"openChannelsActivity",{success:e,fail:t,complete:a})}))},Sr=({success:e,fail:t,complete:a,feedId:i,nonceId:r,finderUserName:n,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:u,feedbackUrl:c})=>{ar("private_openChannelsLive",{feedId:i,nonceId:r,finderUserName:n,reportExtraInfo:o,permissionBytes:[1,1,1],bizId:332,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:u,feedbackUrl:c},(i=>{sr(i,"private_openChannelsLive",{success:e,fail:t,complete:a})}))},xr=({success:e,fail:t,complete:a,finderUserName:i,reportExtraInfo:r})=>{ar("openChannelsUserProfile",{finderUserName:i,reportExtraInfo:r,permissionBytes:[1,1,1]},(i=>{sr(i,"openChannelsUserProfile",{success:e,fail:t,complete:a})}))},Pr=({success:e,fail:t,complete:a,feedId:i,nonceId:r,finderUserName:n,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:u,clickPosMap:c,feedbackUrl:p,marketingWord:h})=>{tr("openChannelsRewardedVideoAd",{feedId:i,nonceId:r,finderUserName:n,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:u,clickPosMap:c,feedbackUrl:p,marketingWord:h,success:e,fail:t,complete:a})},Dr=({mixWithOther:e=!0,obeyMuteSwitch:t=!0,success:a,fail:i,complete:r})=>{tr("setInnerAudioOption",{mixWithOther:e,obeyMuteSwitch:t,success:a,fail:i,complete:r})},Or=({urlList:e,success:t,fail:a,complete:i})=>{tr("private_onWebPageUrlExposed",{urlList:e,success:t,fail:a,complete:i})},Rr=({data:e,success:t,fail:a,complete:i})=>{tr("setClipboardData",{data:e,success:t,fail:a,complete:i})},Nr=({appid:e,path:t,moduleName:a,preloadCodeScene:i=5,success:r,fail:n,complete:o})=>{tr("predownloadMiniProgramPackage",{appId:e,path:t,moduleName:a,scene:i,success:r,fail:n,complete:o})},Mr=({extra:e,success:t,fail:a,complete:i})=>{tr("predownloadPlayablePackage",{extra:e,success:t,fail:a,complete:i})},Lr=({slotid:e,success:t,fail:a,complete:i})=>{tr("getAdPushMsg",{slotid:e,success:t,fail:a,complete:i})},Br=({appid:e,moduleName:t,versionType:a,parentId:i,viewId:r,position:n,style:o,zIndex:s,fixed:l,success:d,fail:u,complete:c})=>{tr("insertMiniProgramPlayableView",{appId:e,moduleName:t,versionType:a,dest:0,parentId:i,viewId:r,zIndex:s,position:n,style:o,fixed:l,success:d,fail:u,complete:c})},Fr=({mute:e,extra:t,parentId:a,viewId:i,position:r,style:n,zIndex:o,fixed:s,success:l,fail:d,complete:u})=>{tr("insertMiniProgramPlayableViewNew",{mute:e,extra:t,dest:0,parentId:a,viewId:i,zIndex:o,position:r,style:n,fixed:s,success:l,fail:d,complete:u})},Wr=({appid:e,moduleName:t,versionType:a,resume:i,mute:r,customEvent:n,parentId:o,viewId:s,position:l,style:d,zIndex:u,fixed:c,forceEnd:p,success:h,fail:f,complete:v})=>{tr("updateMiniProgramPlayableView",{appId:e,moduleName:t,resume:i,mute:r,customEvent:n,versionType:a,dest:0,parentId:o,viewId:s,zIndex:u,position:l,style:d,fixed:c,forceEnd:p,success:h,fail:f,complete:v})},Ur=({mute:e,extra:t,resume:a,parentId:i,viewId:r,position:n,style:o,zIndex:s,fixed:l,success:d,fail:u,complete:c})=>{tr("updateMiniProgramPlayableViewNew",{mute:e,extra:t,resume:a,dest:0,parentId:i,viewId:r,zIndex:s,position:n,style:o,fixed:l,success:d,fail:u,complete:c})},Vr=({appid:e,moduleName:t,versionType:a,parentId:i,viewId:r,position:n,style:o,zIndex:s,fixed:l,success:d,fail:u,complete:c})=>{tr("removeMiniProgramPlayableView",{appId:e,moduleName:t,versionType:a,dest:0,parentId:i,viewId:r,zIndex:s,position:n,style:o,fixed:l,success:d,fail:u,complete:c})},Hr=({extra:e,parentId:t,viewId:a,position:i,style:r,zIndex:n,fixed:o,success:s,fail:l,complete:d})=>{tr("removeMiniProgramPlayableViewNew",{extra:e,dest:0,parentId:t,viewId:a,zIndex:n,position:i,style:r,fixed:o,success:s,fail:l,complete:d})},jr=({slotid:e,success:t,fail:a,complete:i})=>{tr("clearAdPushMsg",{slotid:e,success:t,fail:a,complete:i})},Gr=({dataUrl:e,bizInfo:t,success:a,fail:i,complete:r})=>{tr("openWeComUserProfileForAd",{dataUrl:e,scene:7,bizInfo:t,success:a,fail:i,complete:r})},zr=({success:e,fail:t,complete:a})=>{tr("getFloatBallStatus",{success:e,fail:t,complete:a})},$r=or((({taskName:e,taskUrl:t,fileMd5:a,extInfo:i,success:r,fail:n,complete:o})=>{tr("addDownloadTaskStraight",{taskName:e,taskUrl:t,fileMd5:a,extInfo:i,permissionBytes:[1,1,1],success:r,fail:n,complete:o})})),Qr=(na=Ki(),oa=Ki(),sa=Ki(),la=Ki(),da=Ki(),ua=Ki(),ca=Ki(),pa=Ki(),ha=Ki(),fa=Ki(),va=Ki(),ma=Ki(),_a=Ki(),ga=Ki(),ya=Ki(),Aa=Ki(),Ea=Ki(),Ca=Ki(),Ta=Ki(),Ia=Ki(),ba=Ki(),wa=Ki(),ka=Ki(),Sa=Ki(),xa=Ki(),Pa=Ki(),Da=Ki(),Oa=Ki(),Ra=Ki(),Na=Ki(),Ma=Ki(),La=Ki(),Ba=Ki(),Fa=Ki(),Wa=Ki(),Ua=Ki(),Va=Ki(),Ha=Ki(),ja=Ki(),Ga=Ki(),za=Ki(),$a=Ki(),Qa=Ki(),Ya=Ki(),qa=class{constructor(){$i()(this,"setNavigationBarRightButton",Za,this),$i()(this,"setMiniProgramNavigationBarRightButton",Ka,this),$i()(this,"hideVirtualBottomNavigationBar",Xa,this),$i()(this,"showVirtualBottomNavigationBar",Ja,this),$i()(this,"showStatusBar",ei,this),$i()(this,"hideStatusBar",ti,this),$i()(this,"openProfile",ai,this),$i()(this,"openWeComUserProfile",ii,this),$i()(this,"addContact",ri,this),$i()(this,"downloadAppInternal",ni,this),$i()(this,"openChannelsActivity",oi,this),$i()(this,"openChannelsRewardedVideoAd",si,this),$i()(this,"openChannelsLive",li,this),$i()(this,"openChannelsUserProfile",di,this),$i()(this,"setClipboardData",ui,this),$i()(this,"getChannelsLiveInfo",ci,this),$i()(this,"getAdPushMsg",pi,this),$i()(this,"clearAdPushMsg",hi,this),$i()(this,"getNetworkType",fi,this),$i()(this,"preloadH5Page",vi,this),this.innerPreloadVideo=or(Ar),$i()(this,"preloadVideo",mi,this),$i()(this,"launchApplicationOrigin",_i,this),this.innerLaunchApplication=or(ur),$i()(this,"isLandingPageApi",gi,this),$i()(this,"launchApplication",yi,this),this.innerGetInstallState=or(hr),$i()(this,"getInstallState",Ai,this),this.innerQueryDownloadTask=or(fr),$i()(this,"queryDownloadTask",Ei,this),this.innerPauseDownloadTask=or(vr),$i()(this,"pauseDownloadTask",Ci,this),this.innerResumeDownloadTask=or(mr),$i()(this,"resumeDownloadTask",Ti,this),this.innerInstallDownloadTask=or(_r),$i()(this,"installDownloadTask",Ii,this),this.innerSetPageOrientation=or(Er),$i()(this,"setPageOrientation",bi,this),this.innerSetDeviceOrientation=or(Cr),$i()(this,"setDeviceOrientation",wi,this),this.innerSetInnerAudioOption=or(Dr),$i()(this,"setInnerAudioOption",ki,this),$i()(this,"vibrateShort",Si,this),this.innerVibrateShort=or(ir),$i()(this,"vibrateLong",xi,this),this.innerVibrateLong=or(rr),$i()(this,"vibrate",Pi,this),$i()(this,"predownloadMiniProgramPackage",Di,this),$i()(this,"predownloadPlayablePackage",Oi,this),$i()(this,"insertPlayableView",Ri,this),$i()(this,"insertPlayableViewNew",Ni,this),$i()(this,"updatePlayableView",Mi,this),$i()(this,"updatePlayableViewNew",Li,this),$i()(this,"removePlayableView",Bi,this),$i()(this,"removePlayableViewNew",Fi,this),$i()(this,"getFloatBallStatus",Wi,this)}},Za=h()(qa.prototype,"setNavigationBarRightButton",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(gr)}}),Ka=h()(qa.prototype,"setMiniProgramNavigationBarRightButton",[oa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(yr)}}),Xa=h()(qa.prototype,"hideVirtualBottomNavigationBar",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Tr)}}),Ja=h()(qa.prototype,"showVirtualBottomNavigationBar",[la],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Ir)}}),ei=h()(qa.prototype,"showStatusBar",[da],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(br)}}),ti=h()(qa.prototype,"hideStatusBar",[ua],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(wr)}}),ai=h()(qa.prototype,"openProfile",[ca],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(lr)}}),ii=h()(qa.prototype,"openWeComUserProfile",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Gr)}}),ri=h()(qa.prototype,"addContact",[ha],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(dr)}}),ni=h()(qa.prototype,"downloadAppInternal",[fa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(pr)}}),oi=h()(qa.prototype,"openChannelsActivity",[va],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(kr)}}),si=h()(qa.prototype,"openChannelsRewardedVideoAd",[ma],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Pr)}}),li=h()(qa.prototype,"openChannelsLive",[_a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Sr)}}),di=h()(qa.prototype,"openChannelsUserProfile",[ga],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(xr)}}),ui=h()(qa.prototype,"setClipboardData",[ya],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Rr)}}),ci=h()(qa.prototype,"getChannelsLiveInfo",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Ji)}}),pi=h()(qa.prototype,"getAdPushMsg",[Ea],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Lr)}}),hi=h()(qa.prototype,"clearAdPushMsg",[Ca],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(jr)}}),fi=h()(qa.prototype,"getNetworkType",[Ta],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(er)}}),vi=h()(qa.prototype,"preloadH5Page",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Or)}}),mi=h()(qa.prototype,"preloadVideo",[ba],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPreloadVideo({resources:e})}}),_i=h()(qa.prototype,"launchApplicationOrigin",[wa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(cr)}}),gi=h()(qa.prototype,"isLandingPageApi",[ka],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>nr.indexOf(e)>-1}}),yi=h()(qa.prototype,"launchApplication",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var a="string"==typeof e?{schemeUrl:e}:e;try{null!=t&&t.uxinfo&&(a.bizInfo=t.uxinfo,a.sourceInfo=JSON.stringify({wxad:{source:1}}))}catch(e){}return!v.cj||null!=a&&a.isIosDirect||null===(null==a?void 0:a.skAdItem)?this.innerLaunchApplication(a):this.downloadAppInternal({appUrl:a.schemeUrl,extraData:null==a?void 0:a.extraData,skAdItem:null==a?void 0:a.skAdItem,bizInfo:(null==a?void 0:a.bizInfo)||"",sourceInfo:(null==a?void 0:a.sourceInfo)||""})}}}),Ai=h()(qa.prototype,"getInstallState",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerGetInstallState({packageName:e})}}),Ei=h()(qa.prototype,"queryDownloadTask",[Pa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerQueryDownloadTask({downloadId:e})}}),Ci=h()(qa.prototype,"pauseDownloadTask",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPauseDownloadTask({downloadId:e})}}),Ti=h()(qa.prototype,"resumeDownloadTask",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerResumeDownloadTask({downloadId:e})}}),Ii=h()(qa.prototype,"installDownloadTask",[Ra],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerInstallDownloadTask({downloadId:e})}}),bi=h()(qa.prototype,"setPageOrientation",[Na],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerSetPageOrientation({orientation:e})}}),wi=h()(qa.prototype,"setDeviceOrientation",[Ma],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerSetDeviceOrientation({value:e})}}),ki=h()(qa.prototype,"setInnerAudioOption",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>this.innerSetInnerAudioOption({mixWithOther:e,obeyMuteSwitch:t})}}),Si=h()(qa.prototype,"vibrateShort",[Ba],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerVibrateShort({type:e})}}),xi=h()(qa.prototype,"vibrateLong",[Fa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.innerVibrateLong()}}),Pi=h()(qa.prototype,"vibrate",[Wa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return d()((function*(t=1,a=200){for(var i=0;i<t;i+=1)yield e.vibrateLong(),i<t-1&&(yield(0,Xi.Vs)(400+a))}))}}),Di=h()(qa.prototype,"predownloadMiniProgramPackage",[Ua],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Nr)}}),Oi=h()(qa.prototype,"predownloadPlayablePackage",[Va],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Mr)}}),Ri=h()(qa.prototype,"insertPlayableView",[Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Br)}}),Ni=h()(qa.prototype,"insertPlayableViewNew",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Fr)}}),Mi=h()(qa.prototype,"updatePlayableView",[Ga],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Wr)}}),Li=h()(qa.prototype,"updatePlayableViewNew",[za],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Ur)}}),Bi=h()(qa.prototype,"removePlayableView",[$a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Vr)}}),Fi=h()(qa.prototype,"removePlayableViewNew",[Qa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(Hr)}}),Wi=h()(qa.prototype,"getFloatBallStatus",[Ya],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return or(zr)}}),qa),Yr=new Qr,{_downloadFileSkipCheckDomain:qr}=r,Zr=Y(),Kr=Zr.writeFile,Xr=Zr.unlink,Jr=Zr.stat,en=Zr.readdir,tn=["interstitialAdExtInfo.txt","/interstitialAdExtInfo.txt","adinfos.txt","/adinfos.txt","/"],an=0,rn=(e="")=>{if(e)return new Promise(((t,a)=>{Xr({filePath:e,success:t,fail:e=>{e&&e.errMsg&&e.errMsg.indexOf("no such file or directory")>-1||a(e)}})}))},nn=(e="")=>e?((e="")=>{if(e)return new Promise(((t,a)=>{Jr({path:e,recursive:!0,success:t,fail:a})}))})(e).then((e=>{var t=0,a=[],i=[],r=e.stats||[],n=+new Date;for(var o of r){t+=o.stats.size||0,tn.includes(o.path)||a.push(o.path),n-1e3*o.stats.lastAccessedTime>=6048e5&&!tn.includes(o.path)&&i.push(o.path)}return{totalSize:t,fileList:a,outedDateFileList:i}})):{totalSize:0,fileList:[],outedDateFileList:[]},on=(e={},t="")=>t?(0,v.er)()?Promise.resolve():v.wZ||v.cj?new Promise(((a,i)=>{Kr({filePath:t,data:JSON.stringify(e),encoding:"utf-8",success:a,fail:i})})):Promise.resolve():Promise.resolve(),sn=e=>e&&0!==e.length?((e="")=>{if(e)return new Promise(((t,a)=>{en({dirPath:e,success:t,fail:a})}))})(Ot).then((t=>{var a=t.files;e&&e.map((e=>{var{url:t,filePath:i,fileName:r}=e;return a.includes(r)?Promise.resolve():((e="",t="")=>{if(e&&t)return new Promise(((a,i)=>{qr({url:e,filePath:t,success:a,fail:i})}))})(t,i)}))})):Promise.reject({errMsg:"无数据"}),ln=e=>{if(e&&"object"==typeof e&&!(an>0)&&(an+=1,!(0,v.er)()&&(v.wZ||v.cj)&&e&&e.widget_gray_unlimit_fetch_tag)){var t=3600*e.widget_gray_unlimit_fetch_tag*1e3;try{Jr({path:Rt,success:e=>{var a;Date.now()-1e3*(null==e||null===(a=e.stats)||void 0===a?void 0:a.lastModifiedTime)>=t?s():(Vi({idKey:Mt.OTHER_GET_ADMSG_BEGIN,idKeyGroup:1288}),Yr.getAdPushMsg({slotid:bt.splashAd}).then((e=>{Vi({idKey:Mt.OTHER_GET_ADMSG_SUCCESS,idKeyGroup:1288}),Array.isArray(e.msgData)&&e.msgData.length>0&&(s(),Yr.clearAdPushMsg({slotid:bt.splashAd}),Vi({idKey:Mt.OTHER_GET_ADMSG_SUCCESS_HAS_MESSAGE,idKeyGroup:1288}))})))},fail:e=>{e.errMsg&&e.errMsg.indexOf("no such file")>-1&&on({},Rt)}})}catch(e){}}},{publish:dn,subscribe:un,invokeOperateWXDataPromise:cn,_onUserCaptureScreen:pn,onAppRoute:hn,onBeforeUnloadPage:fn,addInnerShareCallbacks:vn,getAdUxInfo:mn,adReportOperateWXDataPromise:_n}=r,gn="",yn=0,An="index.html",En=new a,Cn="_onWxAdUserCaptureScreen",Tn={shareAppMessage:0,shareTimeline:3};f.default.onReady((()=>{gn=mn()}));var In={};try{hn((e=>{yn=e.webviewId,In[yn]||(In[yn]=!0,An=e.path,fn(yn,(e=>{wn(e)})))}))}catch(e){}pn((()=>{var e=+new Date;gn&&Hi({eventTimeStamp:e,scene:7,uxinfo:gn,url:An}),yn&&dn(Cn,{eventTimeStamp:e,path:An},[yn]),En.emit(Cn,{eventTimeStamp:e,webviewId:yn,path:An})}));vn(((e,t)=>{if(gn){var a="",i=Tn[e]?Tn[e]:0;"shareAppMessage"===e&&t.shareInfos&&(i=t.shareInfos.length>0?2:1,a=t.shareInfos.length>0&&t.shareInfos[0].shareName||""),0===i&&"shareAppMessage"===e&&t.shareTickets&&(i=t.shareTickets.length>0?2:1),r={eventTimeStamp:+new Date,shareType:i,tousername:a,uxinfo:gn,url:An},Ui(19214,r)}var r}));var bn={};un("wxAdDelayReport",((e,t)=>{bn[t]||(bn[t]={}),e.key&&e.value&&(bn[t][e.key]=e.value)}));var wn=e=>{if(bn[e]){for(var t in bn[e]){var a=bn[e][t];_n({reqData:{report_action:"comm_mmdata_report",report_data_json:a}}).catch((e=>{}))}delete bn[e]}};un("checkWxAdFetchLog",(e=>{ln(e)})),un("weappTouchEvent",(e=>{En.emit("_onWeappTouchEvent",e)}));un("wxAdTakeWelfare",((e={})=>{var{id:t}=e;dn("onWxAdTakeWelfareEvent",{id:t},Object.keys(In))}));var kn=e=>{for(var t=Array.isArray(e)?e[0]:e;t.parent&&t.parent!==Fo&&t.parent.referComponent;)t=t.parent;return t};class Sn{constructor(e){this.state={},this.style={},this.isComponent=!0,this._hasUnmount=!1,this._eventHandler={},this._stateQueue={},this._setStateTimer=null,this._setStyleTimer=null,this._manualStyle={},this._subComponents=[],this._rootElement=void 0,this._elementMap={},this.props=void 0,this.parent=null,this.props=e}setState(e,t){var a=this;this._stateQueue=this._stateQueue||{};var i=!1;for(var r of Object.keys(e)){e[r]!==this.state[r]&&(i=!0)}i?(Object.assign(this._stateQueue,e),this._setStateTimer&&clearTimeout(this._setStateTimer),this._setStateTimer=setTimeout(d()((function*(){a._setStateTimer=null;var e=!1;for(var i of Object.keys(a._stateQueue)){var r=a._stateQueue[i];a.state[i]!==r&&(e=!0)}e&&(ao(a,"updateState",{...a.state,...a._stateQueue}),Object.assign(a.state,a._stateQueue),to(a),Io(kn(a._rootElement)),yield Fo.nextLayout(),null==t||t(a.state,a.props))})),0)):null==t||t(this.state,this.props)}ready(e){}updatedProps(){}render(){return""}_unmountComponent(){if(!this._hasUnmount){if(this._hasUnmount=!0,Array.isArray(this._subComponents))for(var e of this._subComponents)e._unmountComponent();ao(this,"destroy")}}getRootElement(){if(!Array.isArray(this._rootElement))return this._rootElement;throw new Error("You should'nt try getRootElement() in component with virtual root")}getRootElements(){return this._rootElement}getRootComponent(){for(var e=this;e.parent;)e=e.parent;return e}getSubComponents(){return this._subComponents}getElementById(e){return this._elementMap[e]?this._elementMap[e]:null}getEventHandler(e){return this._eventHandler[e]}setStyle(e,t){var a=this;return d()((function*(){var i=a.getElementById(e),r=a._manualStyle;e&&t&&(i&&Object.assign(i.style,t),r[e]=r[e]||{},Object.assign(r[e],t)),yield Promise.resolve();var n=a.getRootComponent();yield n.requestLayout()}))()}requestLayout(){var e=Array.isArray(this._rootElement)?this._rootElement[0]:this._rootElement;return new Promise((t=>{this._setStyleTimer&&clearTimeout(this._setStyleTimer),this._setStyleTimer=setTimeout((()=>{this._setStyleTimer=null,Io(kn(this._rootElement)),Promise.race([null==e?void 0:e.nextUpdate(),(0,Xi.Vs)(200)].filter((e=>e))).then((()=>t()))}),0)}))}_bindEvent(e,t,a){return this._eventHandler[e]=this._eventHandler[e]||{},this._eventHandler[e][t]=this._eventHandler[e][t]||new Set,this._eventHandler[e][t].add(a),a}_unbindEvent(e,t,a){var i,r;return!(null===(i=this._eventHandler[e])||void 0===i||null===(r=i[t])||void 0===r||!r.has(a))&&(this._eventHandler[e][t].delete(a),0===this._eventHandler[e][t].size&&delete this._eventHandler[e][t],0===Object.keys(this._eventHandler[e]).length&&delete this._eventHandler[e],!0)}onClick(e,t){return this._bindEvent(e,"click",t)}offClick(e,t){return this._unbindEvent(e,"click",t)}onReady(e,t){return this._bindEvent(e,"ready",t)}offReady(e,t){return this._unbindEvent(e,"ready",t)}onTouchstart(e,t){return this._bindEvent(e,"touchstart",t)}offTouchstart(e,t){return this._unbindEvent(e,"touchstart",t)}onTouchmove(e,t){return this._bindEvent(e,"touchmove",t)}offTouchmove(e,t){return this._unbindEvent(e,"touchmove",t)}onTouchend(e,t){return this._bindEvent(e,"touchend",t)}offTouchend(e,t){return this._unbindEvent(e,"touchend",t)}onTouchcancel(e,t){return this._bindEvent(e,"touchcancel",t)}offTouchcancel(e,t){return this._unbindEvent(e,"touchcancel",t)}onWaiting(e,t){return this._bindEvent(e,"waiting",t)}offWaiting(e,t){return this._unbindEvent(e,"waiting",t)}onPlay(e,t){return this._bindEvent(e,"play",t)}offPlay(e,t){return this._unbindEvent(e,"play",t)}onPause(e,t){return this._bindEvent(e,"pause",t)}offPause(e,t){return this._unbindEvent(e,"pause",t)}onEnded(e,t){return this._bindEvent(e,"ended",t)}offEnded(e,t){return this._unbindEvent(e,"ended",t)}onTimeUpdate(e,t){return this._bindEvent(e,"timeUpdate",t)}offTimeUpdate(e,t){return this._unbindEvent(e,"timeUpdate",t)}onError(e,t){return this._bindEvent(e,"error",t)}offError(e,t){return this._unbindEvent(e,"error",t)}onProgress(e,t){return this._bindEvent(e,"progress",t)}offProgress(e,t){return this._unbindEvent(e,"progress",t)}onFullScreenChange(e,t){return this._bindEvent(e,"fullScreenChange",t)}offFullScreenChange(e,t){return this._unbindEvent(e,"fullScreenChange",t)}}Sn.isComponent=!0,Sn.subComponents={};var xn=function(e){return e.waiting="waiting",e.play="play",e.pause="pause",e.ended="ended",e.timeUpdate="timeUpdate",e.error="error",e.progress="progress",e.fullscreenChange="fullscreenChange",e.loadedMetaData="loadedMetaData",e}({});class Pn extends Sn{render(){var{props:{children:e}}=this;return e}}Pn.isFragment=!0;var{View:Dn,Text:On,Image:Rn,Video:Nn}=r,Mn="Fragment",Ln={view:Dn,text:On,image:Rn,video:Nn},Bn=e=>e.name[0]>="A"&&e.name[0]<="Z",Fn=e=>Object.keys(e.children).map((t=>e.children[t])),Wn=new WeakMap,Un=(e,t)=>{var{referComponent:a}=t,i={children:t.children},r="getSubComponentProps",n=[];if(e.getProps){var[o,...s]=e.getProps.split(":");r=o,n=s}for(var l of(Object.assign(i,ao(a,r,t.name,...n)||{}),Object.keys(e))){var d=e[l];["getProps","children"].includes(l)||(i[l]=d)}return i.children=t.children,i},Vn=(e,t,a)=>{if(!a.isComponent)throw new Error(`class ${e.name} is not a component, please ensure extend BaseComponent`);return eo(a,Un(t,e),!1,e.referComponent)},Hn=(e,t=jn(e))=>{var{referComponent:a}=e,{id:i}=t,r=(("string"==typeof t.class?t.class:"")||"").split(/\s+/).filter(Boolean),n={...t};i&&(n.name=i),delete n.id,n.style=No({classList:r,name:i,referComponent:a});var o=null!=n.bubbleEvent,s=new(0,Ln[e.name])(n);if(s.isBubbleEventSet=o,Object.assign(s,{classList:r,referComponent:a,key:t.key||null}),i&&a&&a.getEventHandler(i))for(var l of Object.keys(a.getEventHandler(i))){var d=a.getEventHandler(i)[l];if(l in xn){if("video"===e.name)for(var u of d){var c=s[`on${l[0].toUpperCase()}${l.slice(1)}`];null==c||c.call(s,u)}}else for(var p of d)s.on(l,p)}return null!=i&&(a._elementMap[i]=s),s},jn=e=>{var t={};for(var a of Object.keys(e.attributes)){var i=e.attributes[a],r=(0,Xi.um)(a);t[r]=i,/\{\{.+\}\}/.test(i)||("true"===i?t[r]=!0:"false"===i?t[r]=!1:"id"===r?t.id=(0,Xi.um)(i):t[r]=i)}return t},Gn=e=>{var t=e.constructor.subComponents||[];return{..."function"==typeof t?t():t,[Mn]:Pn}},zn=e=>{if(Array.isArray(e)){var t=e.map((e=>zn(e))),a={element:null,subComponents:[]};for(var{element:i,subComponents:r}of t)for(var n of(i&&(null===a.element&&(a.element=[]),Array.isArray(i)?a.element.push(...(0,q.xH)(i)):a.element.push(i)),r))a.subComponents.includes(n)||a.subComponents.push(n);return a}if(!e)return{element:null,subComponents:[]};var o,s=Gn(e.referComponent),l=[],d=jn(e);if(Bn(e)){if(!s[e.name])throw new Error(`component name ${e.name} does not exists`);var u=Vn(e,d,s[e.name]);if(!(o=u.getRootElements()))return{element:null,subComponents:[]};l.push(u)}else{var c=Hn(e,d);e.children.forEach((e=>{var{element:t,subComponents:a}=zn(e);if(t)if(l.push(...a),Array.isArray(t))for(var i of t)c.add(i);else c.add(t)})),o=c}return{element:o,subComponents:l}},$n=(e,t)=>{var a=["autoInsert","autoplay","bubbleEvent","clickState","controls","enablePlayGesture","enableProgressGesture","eventType","height","hide","initialTime","live","loop","muted","obeyMuteSwitch","objectFit","parentId","playbackRate","poster","preLoad","scene","showCenterPlayBtn","src","underGameView","width","x","y","value"],i=!1;for(var r of a)void 0===t[r]&&(t[r]=void 0);for(var n of Object.keys(t)){var o=t[n];a.includes(n)&&e[n]!==o&&(e[n]=o,i=!0)}return i},Qn=(e,t,a=null)=>{var i=a;if(e!==t){if(!i){if(null==e||!e.parent)throw new Error("can not find element tree without parent");i=e.parent}if(e&&i.remove(e),t)if(Array.isArray(t))for(var r of t)i.add(r);else i.add(t)}},Yn=(e,t)=>Ln[t.name]&&e?e.constructor===Ln[t.name]:!(null==e||!e.isRootElementOfComponent||!e.referComponent)&&e.referComponent.constructor.name===t.name,qn=(e,t)=>{var a=jn(t),i=t.referComponent,r=Gn(i),n=e&&Yn(e,t);if(!Bn(t)){if(!t.children||0===t.children.length)return e&&n?($n(e,a),e):Hn(t,a);if(e&&n)return $n(e,a),Kn(Fn(e),t.children),e;var{element:o,subComponents:s}=zn(t);return i.getSubComponents().push(...s),o}var l=null==e?void 0:e.referComponent,d=null==l?void 0:l.constructor;if(l&&d===r[t.name])return Object.assign(l.props,Un(a,t)),to(l);var u=i.getSubComponents().indexOf(l);return u>-1&&i.getSubComponents().splice(u,1),l&&ao(l,"destroy"),null==e||e.remove(),Vn(t,a,r[t.name]).getRootElements()},Zn=e=>e.reduce(((e,t)=>(t.name===Mn?e.push(...Zn(t.children)):e.push(t),e)),[]),Kn=(e,t)=>{var a=[],i={};for(var r of e)r.key?i[r.key]=r:a.push(r);for(var n of Zn(t)){var{key:o}=n,s=null;if(o)i[o]&&(s=i[o],delete i[o]);else for(var l of Object.keys(a)){var d=a[+l];if(d&&Yn(d,n)){s=d,a.splice(Number(l),1);break}}s||(s=a.shift()||null),e.length&&e[0].parent&&Qn(s,qn(s,n),e[0].parent)}var u=Object.keys(i).reduce(((e,t)=>(e.push(i[t]),e)),[]);for(var c of[...a,...u])null==c||c.remove()},Xn=(e,t)=>{Array.isArray(e)?e.forEach((e=>Xn(e,t))):(t(e),e.children.forEach((e=>Xn(e,t))))},Jn=(e,t)=>{Xn(e,(e=>{e.referComponent||(e.referComponent=t)}))},eo=(e,t,a=!0,i=null)=>{var r=new e(t);r.parent=i;var n=r.render(),o="string"==typeof n?c()(n).root:n;Jn(o,r);var{element:s,subComponents:l}=zn(o);return r._subComponents=l,s&&(r._rootElement=s,Array.isArray(s)?s.forEach((e=>{e.isRootElementOfComponent=!0})):s.isRootElementOfComponent=!0),ao(r,"ready",s,l),a&&(s&&(Array.isArray(s)?s.forEach((e=>{Fo.add(e),Io(e)})):(Fo.add(s),Io(s))),Wn.set(e,r)),r},to=(e,t)=>{t&&Object.assign(e.props,t);var a=e.getRootElements(),i=e.render(),r="string"==typeof i?c()(i).root:i;return Jn(r,e),Array.isArray(a)&&Array.isArray(r)?Kn(a,r):Array.isArray(a)&&!Array.isArray(r)?Kn(a,[r]):!Array.isArray(a)&&Array.isArray(r)?Kn([a],r):Array.isArray(a)||Array.isArray(r)||Qn(a,qn(a,r)),ao(e,"updatedProps"),a},ao=(e,t,...a)=>"function"==typeof e[t]?e[t](...a):null,{getInitScreenSize:io,getGameTouchStatus:ro,onGameTouchEnd:no}=r,oo={},{gametext:so,Text:lo}=r,uo=["width","height"],co=(e="column",t)=>["row","column"].indexOf(e)===["width","height"].indexOf(t),po=(e,t)=>Math.max(e,t),ho=(e,t)=>e+t,fo=e=>({width:(e.style.marginLeft||0)+(e.style.marginRight||0),height:(e.style.marginTop||0)+(e.style.marginBottom||0)}),vo=e=>({width:(e.style.paddingLeft||0)+(e.style.paddingRight||0),height:(e.style.paddingTop||0)+(e.style.paddingBottom||0)}),mo=(e,t,a)=>e&&"px"===e.slice(-2)?parseFloat(e.slice(0,-2))+a:parseFloat(e.slice(0,-1))/100*t+a,_o=(e,t,a,i,r,n)=>{var o,s=e.parent,l=i[a],d=vo(e)[a],u=t,c=null,p=!1;if(!r&&n>0&&(null==u||n>u)&&(u=n),i.position&&"absolute"===i.position[1]&&null!=u&&(u+=n),l||null==u)l&&"percent"===l[0]&&null!=u?(c=u*l[1]-d,p=!0):l&&"digit"===l[0]&&(c=l[1]-d,p=!0);else if("auto"!==e.style[a])if("absolute"===(null===(o=i.position)||void 0===o?void 0:o[1])){var h=0,f=!1;for(var v of"width"===a?["left","right"]:["top","bottom"])null!=i[v]?"digit"===i[v][0]?h+=Number(i[v][1])||0:"percent"===i[v][0]&&(h+=(Number(i[v][1])||0)*u):f=!0;c=f?null:u-h}else if(r&&co(s.style.flexDirection,a)&&e.style.flex>0)c=null;else{var m=co(e.style.flexDirection,a);(e=>Vo(e).some((e=>null!=e.style.flex&&e.style.flex>0)))(e)&&m&&(p=!0),c=u-d}return null!=c&&(e.autoFitSize[a].size=c),p},go=(e,t)=>e.parent&&e.parent!==Fo?e.parent.style[t]:"width"===t?oo.screenWidth:oo.screenHeight,yo=e=>{var t=Wo(e),a=vo(e);e.autoFitSize={width:{size:null,margin:0,padding:a.width},height:{size:null,margin:0,padding:a.height}};var i=e.parent;if(t||i.autoFitSize){var r=Lo(No(e)),n={width:!1,height:!1},o={width:null,height:null};for(var s of uo){var l=r[s],d=t?go(e,s):i.autoFitSize[s].size,u=t?0:i.autoFitSize[s].padding;!l&&t&&"height"===s&&(d=null),n[s]=_o(e,d,s,r,!0,u)}Co(e,r);var c=vo(e),p="wrap"===e.style.flexWrap,h=[];for(var f of Vo(e)){yo(f);var v=fo(f);if("absolute"!==f.style.position)for(var m of uo){var _=co(e.style.flexDirection,m);if(p){if(_){var g="width"===m?"height":"width";h.push([(f.autoFitSize[m].size||0)+f.autoFitSize[m].padding+v[m],(f.autoFitSize[g].size||0)+f.autoFitSize[g].padding+v[g]])}}else{var y=_?ho:po;null==f.autoFitSize[m].size&&f.autoFitSize[m].padding<=0&&y===ho&&(n[m]=!0),o[m]=y((f.autoFitSize[m].size||0)+f.autoFitSize[m].padding+v[m],o[m]||0)}}}if(p){var A=0,E=0,C=0,T=0,I=co(e.style.flexDirection,"width")?"width":"height",b="width"===I?"height":"width";for(var[w,k]of(T=n[I]&&null!=e.style[I]?e.style[I]:h.reduce(((e,[t])=>e+t),0),h))C=Math.max(C,k),w+A>T?(E+=C,C=k,A=w):A+=w;E+=C,o[I]=A,o[b]=E}if(e instanceof lo){var S=!1;if("ellipsis"===e.style.textOverflow&&Number(e.style.lineClamp)>=1){var x=Ao(e);null!=!e.autoFitSize.height.size&&n.height||(S=!0,x>1&&e.style.textAlignMultiline&&(e.style.textAlign=e.style.textAlignMultiline),Object.assign(e.autoFitSize.height,{size:(e.style.lineHeight||e.style.fontSize||0)*x,padding:c.height}))}null!=e.autoFitSize.height.size&&(n.height||S)||Object.assign(e.autoFitSize.height,{size:e.style.lineHeight||e.style.fontSize||0,padding:c.height}),null!=e.autoFitSize.width.size&&n.width||Object.assign(e.autoFitSize.width,{size:so.getTextWidth(e.value,e.style.fontSize||14)+3,padding:c.width})}for(var P of uo)n[P]||null===o[P]?c[P]>0&&(e.autoFitSize[P].padding=c[P]):Object.assign(e.autoFitSize[P],{size:null!=o[P]?o[P]:null,padding:c[P]})}},Ao=(e,t)=>{var a,i,r=t||(null==e||null===(a=e.style)||void 0===a?void 0:a.width)||(null==e||null===(i=e.layoutBox)||void 0===i?void 0:i.width)||0;if(!r)return 1;for(var n=Number(e.style.lineClamp),o=Number(e.style.fontSize),s=e.value||"",l=so.getTextWidth("...",o),d=[""],u=0,c=0;u<n&&c<s.length;){var p=u+1===n,h=p?r-l:r;so.getTextWidth(d[u]+s[c],o)+o<=h?d[u]+=s[c]:p?(d[u]+="...",u+=1):(u+=1,d.push(s[c])),c+=1}return e._hasEllipsis||(e._hasEllipsis=!0,e.value=d.join("")),d.length},Eo=e=>{var t=Vo(e);for(var a of uo){var i=co(e.style.flexDirection,a),{size:r}=e.autoFitSize[a],{padding:n}=e.autoFitSize[a];if(null!=r||n){r=r||0;var o=0,s=0;for(var l of t){var{size:d,margin:u,padding:c}=l.autoFitSize[a];"absolute"!==l.style.position&&(null!=d?o+=d+c+u:l.style.flex&&l.style.flex>0&&(s+=Number(l.style.flex)))}for(var p of t){var h,f=Lo(No(p)),v=null;i?v=p.style.flex?(r-o)/po(s,1)*p.style.flex:null:e.style.alignItems&&"stretch"!==e.style.alignItems||(v=r),null==p.autoFitSize[a].size&&v?_o(p,v,a,f,!1,n):"absolute"===(null===(h=f.position)||void 0===h?void 0:h[1])&&_o(p,r,a,f,!1,n)}}}for(var m of t)Eo(m);for(var _ of uo){var{size:g,padding:y}=e.autoFitSize[_];null!=g&&e.style[_]!==g+y&&(e.style[_]=g+y)}e instanceof lo&&null==e.style.lineHeight&&(e.style.lineHeight=e.style.height)},Co=(e,t)=>{var a=e.autoFitSize.width.size,i=e.autoFitSize.height.size;for(var r of Object.keys(t)){var n=t[r];"percent"===n[0]?"horizontal"===bo[r]&&null!=a?e.style[r]=n[1]*a:"vertical"===bo[r]&&null!=i&&(e.style[r]=n[1]*i):"normal"===n[0]&&(e.style[r]=n[1])}t.transform&&"transform"===t.transform[0]&&(e.style.left=mo(t.transform[1][0],a||0,e.style.left||0),e.style.top=mo(t.transform[1][1],i||0,e.style.top||0)),!e.style.lineHeight&&e.parent&&e.parent.style.lineHeight&&(e.style.lineHeight=e.parent.style.lineHeight)},To=e=>{var t=[["width","left"],["height","top"]];for(var a of Vo(e))for(var[i,r]of(To(a),t)){var n;if((a.style.position||null!==(n=a.expandAbsoluteSize)&&void 0!==n&&n.has(i))&&"hidden"!==e.style.overflow){var o=(a.style[i]||0)+(a.style[r]||0);o>(e.style[i]||0)&&(e.style[i]=o,e.expandAbsoluteSize||(e.expandAbsoluteSize=new Set),e.expandAbsoluteSize.add(i))}}},Io=e=>{var t=Wo(e),a=e.parent;(t||null!=a&&a.autoFitSize)&&(yo(e),Eo(e),To(e),(e=>{for(var t=[["width","left"],["height","top"]],a=e;a&&a!==Fo&&a.parent!==Fo;){var i=a.parent;if(a.style.hidden)break;for(var[r,n]of t){var o;if((a.style.position||null!==(o=a.expandAbsoluteSize)&&void 0!==o&&o.has(r))&&"hidden"!==e.style.overflow){var s=(a.style[r]||0)+(a.style[n]||0);s>(i.style[r]||0)&&(i.style[r]=s,i.expandAbsoluteSize||(i.expandAbsoluteSize=new Set),i.expandAbsoluteSize.add(r))}}a=i}})(e))},bo={left:"horizontal",right:"horizontal",marginLeft:"horizontal",marginRight:"horizontal",paddingLeft:"horizontal",paddingRight:"horizontal",marginTop:"horizontal",marginBottom:"horizontal",paddingTop:"horizontal",paddingBottom:"horizontal",borderRadius:"horizontal",top:"vertical",bottom:"vertical"},wo=/^\s*#[0-9a-fA-F]{3}\s*$/,ko=/^\s*#[0-9a-fA-F]{3,6}\s*$/,So=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,xo=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,Po=/px$/,Do=e=>"number"==typeof e?e:Po.test(e)?Number(e.replace(Po,""))||0:(0,q.hj)(e)?parseInt(e,10):e,Oo=e=>{if("string"==typeof e&&wo.test(e)){var[t,a,i]=e.slice(1);return`#${t}${t}${a}${a}${i}${i}`}return e},Ro=(e={})=>{var t={};for(var a of Object.keys(e)){var i=e[a];if(["padding","margin"].includes(a)){var r=Array.isArray(i)?i:(null==i?"":i).toString().split(/\s+/),n=null,o=null,s=null,l=null;switch(r.length){case 0:default:continue;case 1:[n]=r,[o]=r,[s]=r,[l]=r;break;case 2:[n,o]=r,[s,l]=r;break;case 3:[n,o,s]=r,l=o;break;case 4:[n,l,s,o]=r}Object.assign(t,{[`${a}Top`]:Do(n),[`${a}Left`]:Do(o),[`${a}Bottom`]:Do(s),[`${a}Right`]:Do(l)})}else if("border"===a){var d=(i||"").toString().split(/\s+/);switch(d.length){case 0:default:continue;case 1:t.borderColor=Oo(d[0]);continue;case 2:t.borderWidth=Do(d[0]),t.borderColor=Oo(d[1]);continue;case 3:t.borderWidth=Do(d[0]),t.borderColor=Oo(d[2]);continue}}else if("background"===a&&ko.test(e[a]))t.backgroundColor=Oo(e[a]);else if("background"===a&&(So.test(e[a])||xo.test(e[a])))t.backgroundColor=e[a];else if("background"===a&&e[a].includes("linear-gradient"))t.backgroundColor=e[a];else if("color"===a&&"string"==typeof i&&xo.test(i)){var[u,c,p,h]=xo.exec(i).slice(1,5).map((e=>Number(e))),f=e=>e.toString(16);t.color=`#${f(u)}${f(c)}${f(p)}`,null==e.opacity&&(t.opacity=Number(h))}else if("display"===a)t.hidden="none"===e[a];else if("rotate"===a){var v=e[a];t.rotate="string"==typeof v?Number(v.replace("deg",""))||0:v}else t[a]=Oo(Do(e[a]))}return t},No=e=>{if(e._isTemplate)return e._manualStyle||e.style;var t=e.referComponent;if(!t)return Object.assign({},e.style||{});var a={},i=t.style||{};for(var r of e.classList||[])Object.assign(a,Ro(i[r])),Object.assign(a,Ro(i[`.${r}`]));return i[e.name]&&Object.assign(a,Ro(i[e.name])),e.name&&t._manualStyle[e.name]&&Object.assign(a,Ro(t._manualStyle[e.name])),a},Mo={percent:/^-?[1-9]\d*(\.\d+)?%$/,translate:/translate\(\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*,\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*\)/},Lo=e=>{var t={};for(var a of Object.keys(e)){var i=e[a];if(null!=i){var r=i.toString().trim();if((bo[a]||["width","height"].includes(a))&&Mo.percent.test(r)){var n=parseFloat(r.slice(0,-1))/100;t[a]=["percent",n]}else if((0,q.hj)(r))t[a]=["digit",Number(r)];else if("transform"===a&&r.includes("translate")){var o=Mo.translate.exec(r);o&&(t[a]=["transform",o.slice(1,3)])}else t[a]="string"==typeof i?["normal",r]:["normal",i]}}return t},{webviewLayout:Bo}=r,Fo=Bo,Wo=e=>{var t,a;return e.parent===Fo||!(null!==(t=e.parent)&&void 0!==t&&t.referComponent)&&!(null!==(a=e.parent)&&void 0!==a&&a._isTemplate)||e._isTemplateRoot},Uo=e=>Object.keys(e.children).map((t=>e.children[t])),Vo=e=>Uo(e).filter((e=>!0!==(null==e?void 0:e.style.hidden))),Ho=(e,t,a="downward")=>{for(var i of("downward"===a&&t(e),Uo(e)))Ho(i,t,a);"upward"===a&&t(e)},jo=(e,t)=>{for(var{path:a,value:i,condition:r=!0}of t)if(r){var n=i||(a?(0,q.U2)(e,a):"");if(n)return n}return null},Go=63,zo=e=>{var t=e.toString(16).toUpperCase();return t.length<2?`%0${t}`:`%${t}`},$o=e=>{if(!e)return"";var t=String(e),a=[],i=/[ \r\n!*"'();:@&=+$,/?%#[\]<>{}|`^\\\u0080-\uffff]/;for(var r of t)if(r.match(i)){var n=r.codePointAt?r.codePointAt(0):r.charCodeAt(0);n<128?a.push(zo(n)):n<2048?a.push([zo(192+(n>>6)),zo(128+(n&Go))].join("")):n<65536?a.push([zo(224+(n>>12)),zo(128+(n>>6&Go)),zo(128+(n&Go))].join("")):n<2097152&&a.push([zo(240+(n>>18)),zo(128+(n>>12&Go)),zo(128+(n>>6&Go)),zo(128+(n&Go))].join(""))}else a.push(r);return a.join("")},Qo=e=>{if(!e)return"";for(var t=e=>{if(!e)throw new Error("invalid text")},a=e=>String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e),i=e.replace(/%[a-fA-F0-9]{2}/gi,(e=>String.fromCharCode(parseInt(e.replace("%",""),16)))),r=0,n="";r<i.length;){var o=i.charCodeAt(r);if(o<128)n+=a(o),r+=1;else if(o>=192&&o<224){t(r+1<i.length),n+=a((31&o)<<6|i.charCodeAt(r+1)&Go),r+=2}else if(o<240){t(r+2<i.length);var s=i.charCodeAt(r+1),l=i.charCodeAt(r+2);n+=a((15&o)<<12|(s&Go)<<6|l&Go),r+=3}else{t(r+3<i.length);var d=i.charCodeAt(r+1),u=i.charCodeAt(r+2),c=i.charCodeAt(r+3);n+=a([(7&o)<<18,(d&Go)<<12,(u&Go)<<6,c&Go].reduce(((e,t)=>e|t),0)),r+=4}}return n},Yo=e=>{var t={};if(e.indexOf("?")>-1){var a=e.indexOf("?")+1,i=e.substring(a);i.indexOf("#")>-1&&(i=i.substring(0,i.indexOf("#")));var r=i.split("&");for(var n of r){var[o,s]=n.split("=");t[o]=Qo(s)}}return t},qo=Object.keys,Zo=Function.prototype.call.bind(String.prototype.split),Ko=Function.prototype.call.bind(String.prototype.indexOf),Xo=Function.prototype.call.bind(String.prototype.concat),Jo=Function.prototype.call.bind(String.prototype.substring),es=(e,t)=>{if(!e)return"";if(!t)return e;var a=Zo(e,"#"),i=Ko(a[0],"?")>-1?"&":"?",r="",n=qo(t);if(n.length>0){for(var o of n)r=Xo(r,`${o}=${$o(t[o])}&`);return r.length>0&&(r=Jo(r,0,r.length-1)),a[0]+i+r+(a[1]?`#${a[1]}`:"")}return e},ts=e=>e===Us.LIVE,as=(e,t)=>ts(e)&&t===Vs.ROOM,is=(e,t)=>ts(e)&&t===Vs.RESERVATION,rs={1e3:"后端错误调用失败",1001:"参数错误",1002:"广告单元无效",1003:"内部错误",1004:"无适合的广告",1005:"广告组件审核中",1006:"广告组件被驳回",1007:"广告组件被封禁",1008:"广告单元已关闭",5047:"非原生模板广告单元 id (unit-id)",5045:"原生模板信息获取失败",5063:"内部错误",5048:"原生模板配置错误"},ns=1,os=2,ss=3,ls=6,ds=9,us=101,cs=102,ps=103,hs=60013,fs=i(4202),vs=(e,t=1)=>(0,Z.h)(e,Z.O.SPLASHAD,t),ms=vs(0,.01),_s=vs(1),gs=vs(2,.01),ys=vs(3),As=vs(4),Es=(vs(5),vs(6),vs(7),vs(8),vs(9),vs(10),vs(11),vs(12),vs(13),vs(14),vs(15),vs(16),vs(17),vs(18),vs(19),vs(20),vs(21,.01),vs(22),vs(23)),Cs=(vs(24),vs(25),vs(26),vs(27),vs(28),vs(29),vs(30),vs(31),vs(32),vs(33),vs(34),vs(35),vs(36),vs(37),vs(38),vs(39),vs(40)),Ts=vs(41),Is=(vs(52),vs(53),vs(54),vs(55),vs(56),vs(57),vs(58),vs(96,.01)),bs=vs(97,.01),ws=vs(98,.01),ks=(vs(106),vs(107),e=>(0,Z.h)(e,Z.O.CPSSHOPAD)),Ss=(ks(1),ks(2),ks(3),ks(4),ks(5),ks(6),ks(7),ks(8),ks(9),ks(10),(e,t=1)=>(0,Z.h)(e,Z.O.REWARDEDVIDEO,t)),xs=(Ss(0),Ss(1),Ss(2),Ss(3),Ss(4,.01),Ss(5,.01),Ss(6),Ss(7),Ss(8),Ss(9),Ss(10),Ss(11),Ss(12),Ss(13),Ss(14),Ss(15),Ss(16),Ss(17),Ss(18),Ss(19),Ss(20),Ss(21),Ss(22),Ss(23),Ss(24),Ss(25),Ss(26),Ss(27),Ss(28),Ss(29),Ss(30),Ss(31),Ss(32),Ss(33),Ss(34),Ss(35),Ss(36),Ss(37),Ss(38),Ss(39),Ss(40),Ss(41),Ss(42),Ss(43),Ss(44),Ss(45),Ss(46),Ss(47),Ss(48),Ss(49),Ss(50),Ss(51),Ss(52),Ss(53),Ss(54),Ss(55),Ss(56),Ss(57),{CRT_SIZE_WX_APPLICATION:532,APP_VIDEO:538,PIC_TIME5:555,CRT_SIZE_WX_APPLICATION_CARD:556,CRT_SIZE_WX_APPLICATION_X:567,CRT_SIZE_REWARD_VEDIO169:559,CRT_SIZE_REWARD_VEDIO916:560,CRT_SIZE_WX_APPLICATION_NEW:608,CRT_SIZE_PIC_MOMENT:666,CRT_SIZE_TABLE_SCREEN_IMAGE:701,CRT_SIZE_AMS_PIC_169:711,CRT_SIZE_AMS_PIC_916:712,CRT_SIZE_AMS_VIDEO_169:720,CRT_SIZE_VERTICAL_VIDEO_NEW_916:721,CRT_SIZE_IN_TEXT_DESC_CARD:841,CRT_SIZE_VIDEO_TIME6:888,CRT_SIZE_REWARD_LANDINGPAGE:910,CRT_SIZE_INSERT_VIDEO:913,CRT_SIZE_MULTI_POS_BANNER:925,CRT_SIZE_MULTI_POS_NEW_PIC:927,CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT:928,CRT_SIZE_MULTI_POS_VEDIO:929,CRT_SIZE_MULTI_POS_GRID:972,CRT_SIZE_BIG_PIC:998,CRT_SIZE_SPLASH_AD:1003,CRT_SIZE_VERTICAL_VIDEO:1064,CRT_SIZE_VERTICAL_VIDEO_916:1480,VIDEO_TIME15:1515,CRT_SIZE_CARD_COMPT_IMAGE:1707,CRT_SIZE_CARD_COMPT_VIDEO:1708}),Ps={ANDROID:12,IOS:19,WE_CHAT:23,MINI_GAME:46,WE_CHAT_CARD:36,WE_CHAT_SHOP:30,PRODUCTTYPE_WECHAT_PAY_COUPON:47,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31,WE_CHAT_APP:38,LBS:37,LEAD_AD:43,JD_URL:25},Ds={123:["image","brand"],124:["image","store"],127:["image","download"],128:["image","follow"],134:["image","wxgame"],138:["image","brand"],126:["card","follow","normal"],129:["card","follow","large"],132:["card","download","large"],130:["video","download"],131:["video","brand"],133:["video","wxgame"],135:["video","brand"],136:["video","follow"],137:["video","brand"]},Os={1:"store",2:"brand",3:"download",6:"follow",7:"wxgame"},Rs=[xs.CRT_SIZE_WX_APPLICATION,xs.CRT_SIZE_WX_APPLICATION_NEW,xs.CRT_SIZE_WX_APPLICATION_X,xs.CRT_SIZE_WX_APPLICATION_CARD,xs.CRT_SIZE_REWARD_VEDIO169,xs.CRT_SIZE_REWARD_VEDIO916,xs.CRT_SIZE_TABLE_SCREEN_IMAGE,xs.CRT_SIZE_AMS_PIC_169,xs.CRT_SIZE_AMS_PIC_916,xs.CRT_SIZE_AMS_VIDEO_169,xs.CRT_SIZE_REWARD_LANDINGPAGE,xs.CRT_SIZE_INSERT_VIDEO,xs.CRT_SIZE_MULTI_POS_NEW_PIC,xs.CRT_SIZE_MULTI_POS_VEDIO,xs.CRT_SIZE_MULTI_POS_GRID,xs.CRT_SIZE_BIG_PIC,xs.CRT_SIZE_SPLASH_AD,xs.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT,xs.CRT_SIZE_VERTICAL_VIDEO_NEW_916,xs.APP_VIDEO,xs.CRT_SIZE_PIC_MOMENT,xs.CRT_SIZE_VIDEO_TIME6,xs.CRT_SIZE_VERTICAL_VIDEO,xs.CRT_SIZE_VERTICAL_VIDEO_916,xs.CRT_SIZE_CARD_COMPT_IMAGE,xs.CRT_SIZE_CARD_COMPT_VIDEO],Ns=2008,Ms=2009,Ls=2010,Bs=2011,Fs=2012,Ws=2013,Us={DEFAULT:0,VIDEO:1,LIVE:2},Vs={DEFAULT:0,ROOM:1,RESERVATION:2},Hs={NONE:1,ON_AIR:2,ENDED:3,IN_PREPARE:4},js=3,Gs=4,zs={interstitialAd:1003,rewardedVideoAd:1004},$s=e=>!!e&&e===xs.CRT_SIZE_MULTI_POS_GRID,Qs=2,Ys=3,qs=1,Zs=2,Ks=4,Xs=5,Js=10,el=11,tl=12,al=13,il=14,rl=16,nl=17,ol=(e,t)=>!!t&&(e=>{var t={multiImage:[xs.CRT_SIZE_PIC_MOMENT],gauss:[xs.CRT_SIZE_REWARD_VEDIO169,xs.CRT_SIZE_REWARD_VEDIO916],native:[xs.CRT_SIZE_REWARD_VEDIO169,xs.CRT_SIZE_REWARD_VEDIO916,xs.CRT_SIZE_VERTICAL_VIDEO_NEW_916,xs.CRT_SIZE_AMS_VIDEO_169],landpage:[xs.CRT_SIZE_REWARD_LANDINGPAGE],sns:[xs.APP_VIDEO,xs.CRT_SIZE_VIDEO_TIME6,xs.CRT_SIZE_VERTICAL_VIDEO,xs.CRT_SIZE_VERTICAL_VIDEO_916,xs.CRT_SIZE_CARD_COMPT_VIDEO],portrait:[xs.APP_VIDEO,xs.CRT_SIZE_REWARD_VEDIO916,xs.CRT_SIZE_VERTICAL_VIDEO_NEW_916,xs.CRT_SIZE_VERTICAL_VIDEO,xs.CRT_SIZE_VERTICAL_VIDEO_916],landscape:[xs.CRT_SIZE_REWARD_VEDIO169,xs.CRT_SIZE_VIDEO_TIME6,xs.CRT_SIZE_CARD_COMPT_VIDEO,xs.CRT_SIZE_AMS_VIDEO_169]};switch(e){case"multiImage":case"gauss":case"native":case"landpage":case"portrait":case"landscape":case"sns":return t[e];case"video":return[...t.native,...t.sns];default:return[...t.native,...t.landpage,...t.sns]}})(e).includes(Number(t)),sl=i(6551),{deviceInfo:ll}=r,dl=e=>{var t=/(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:\.(\d+))?/.exec(e);return t?t.slice(1).filter((e=>null!=e)).join("."):null},ul=function(e){var t,a,i=cl(e),r="portrait"===ll.deviceOrientation,n=ol("portrait",e.crt_size);if(ll.isAndroid){var o,s,l=dl((null===(o=e.condition)||void 0===o?void 0:o.widget_gray_reward_use_gauss_blur_android_system_version)||""),d=dl((null===(s=e.condition)||void 0===s?void 0:s.widget_gray_reward_use_gauss_blur_android_wechat_version)||""),u=dl(ll.systemVersion),c=dl(ll.wechatVersion);if(l&&u&&(0,sl.yC)(u,l)<0)return!1;if(d&&c&&(0,sl.yC)(c,d)<0)return!1}return Boolean((null==e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_reward_use_gauss_blur)&&(null==e||null===(a=e.gaussVideo)||void 0===a?void 0:a.src)&&r!==n&&ol("gauss",e.crt_size)&&(i||r))},cl=function(e){var{flooringPage:t}=e,a="portrait"===ll.deviceOrientation,i=ol("portrait",e.crt_size);return Boolean(a!==i&&ol("video",e.crt_size)&&!(ol("sns",e.crt_size)&&ol("landscape",e.crt_size))&&!ll.isIPad&&![2,3,4].includes((null==t?void 0:t.landpage_type)||0))};var pl,hl,fl,vl,ml,_l,gl,yl,Al,El,Cl,Tl,Il,bl,wl,kl,Sl,xl,Pl,Dl,Ol,Rl,Nl,Ml,Ll,Bl,Fl,Wl,Ul,Vl,Hl,jl,Gl,zl,$l,Ql,Yl,ql,Zl,Kl,Xl,Jl,ed,td,ad,id,rd,nd,od,sd,ld,dd,ud,cd,pd,hd,fd,vd,md,_d,gd,yd,Ad,Ed,Cd,Td,Id,bd,wd,kd,Sd,xd,Pd=new class{constructor(){this.path=`${Ot}/timePointCache.txt`,this.cacheMap={},this.needUpdate=!1,this.cacheTimeout=null,this.cachePromise=null,this.loadCache()}loadCache(){try{var e;null===(e=r.deviceInfoLoaded)||void 0===e||e.then((()=>{r.readFile({filePath:this.path,encoding:"utf8",success:e=>{try{this.cacheMap=JSON.parse(e.data)}catch{}}})}))}catch{this.cacheMap={}}}writeCache(){var e=this;this.needUpdate&&(this.cacheTimeout&&(clearTimeout(this.cacheTimeout),this.cacheTimeout=null),this.cacheTimeout=setTimeout(d()((function*(){e.cacheTimeout=null,e.cachePromise&&(yield e.cachePromise,e.cachePromise=null),e.cachePromise=new Promise(((t,a)=>{try{var i=JSON.stringify(e.cacheMap);r.writeFile({filePath:e.path,data:i,encoding:"utf8",success:()=>{e.needUpdate=!1,t()},fail:e=>{a(e)}})}catch{a(new Error("write cache failed"))}}))})),100))}setCache(e,t){try{this.cacheMap[e]=JSON.stringify(t),this.needUpdate=!0,this.writeCache()}catch{}}getCache(e){if(!this.cacheMap[e])return null;try{return JSON.parse(this.cacheMap[e])}catch{return null}}getAllCaches(){return Object.keys(this.cacheMap).map((e=>[e,this.getCache(e)]))}clearCache(e){try{delete this.cacheMap[e],this.needUpdate=!0,this.writeCache()}catch{}}},{deviceInfo:Dd,appRouteInfo:Od,adReportOperateWXDataPromise:Rd}=r,Nd=(pl=Ki(),hl=Ki(),fl=Ki(),vl=Ki(),ml=Ki(),_l=Ki(),gl=Ki(),yl=Ki(),Al=Ki(),El=Ki(),Cl=Ki(),Tl=Ki(),Il=Ki(),bl=Ki(),wl=Ki(),kl=Ki(),Sl=Ki(),xl=Ki(),Pl=Ki(),Dl=Ki(),Ol=Ki(),Rl=Ki(),Nl=Ki(),Ml=Ki(),Ll=Ki(),Bl=Ki(),Fl=Ki(),Wl=Ki(),Ul=Ki(),Vl=Ki(),Hl=Ki(),jl=Ki(),Gl=Ki(),zl=Ki(),$l=Ki(),Ql=Ki(),Yl=Ki(),ql=Ki(),Zl=Ki(),Kl=class{constructor(e){this.adProxy=e,this.timePoints={},this.nextTimePoints={},this.analyseBranchInfo=null,this.timePointCallback=new Set,this.detectCacheTimePoints()}get adType(){return this.adProxy.getAdType()}get data(){return this.adProxy.data}get convertedAdData(){return this.adProxy.convertedAdData}get datas(){return this.adProxy.datas}get adUnitId(){return this.adProxy.getAdUnitId()}get pluginAppid(){return this.adProxy.getPluginAppid()}get lastClickTime(){return this.adProxy.getLastClickTime()}getTimePoint(e){return this.timePoints[e]?this.timePoints[e]:0}getTimePoints(){return this.timePoints}onSetTimePoint(e){this.timePointCallback.add(e)}setTimePoint(e,t={}){if("splashAd"!==this.adType){var a=t.prefetch?this.nextTimePoints:this.timePoints;if(["p2","p12"].includes(e)){var i=a.p1||0;for(var r of Object.keys(a))delete a[r];a.p1=i}var{time:n}=t;for(var o of(a[e]=n||Date.now(),this.timePointCallback))o(e,a[e])}else this.timePoints[e]=Date.now()}detectCacheTimePoints(){var e=this,t=Pd.getAllCaches(),a=function(t){Pd.clearCache(i);var a=(0,Yt.x)(19837);if(t&&Array.isArray(t)&&t.length===a.length)try{var r=a.map(((e,a)=>({type:e.type,value:(t[a]||e.value).toString()})));e.operateReportMMData(19837,r)}catch{}};for(var[i,r]of t)a(r)}cacheTimePoints(e){if(this.data){e.extInfo={...e.extInfo,fromCache:!0};var t=this.getTimePointsData(e);t&&Pd.setCache(this.data.traceid,t.map((e=>e.value)))}}clearTimePoints(){if(this.data){var e=this.timePoints.p1||0;this.timePoints=this.nextTimePoints,this.timePoints.p1=e,this.nextTimePoints={},Pd.clearCache(this.data.traceid)}}getTimePointsData({splash_instance_id:e="",scene:t=0,errCode:a=0,extInfo:i={}}){var r,n,o,s,l,d;if(!["customAd","rewardedVideoAd","splashAd","interstitialAd"].includes(this.adType))return null;return this.formatMMData(19837,{slotid:this.adProxy.getPosId(),costtype:null!==(r=this.data)&&void 0!==r&&r.is_cpm?1:2,ext_info:JSON.stringify(Object.assign({},i,{template_compress_type:(null===(n=this.data)||void 0===n||null===(o=n.extBackComm)||void 0===o?void 0:o.template_compress_type)||0,adUnitId:this.adUnitId,is_game:!0})),instance_id:e,scene:t,crt_size:(null===(s=this.data)||void 0===s?void 0:s.crt_size)||0,error_code:a,crt_exp_tid:(null===(l=this.data)||void 0===l?void 0:l.crt_exp_tid)||0,template_id:(null===(d=this.data)||void 0===d?void 0:d.templId)||0,...this.timePoints})}reportTimePoints({splash_instance_id:e="",scene:t=0,errCode:a=0,extInfo:i={}}){var r,n,o,s;null!==(r=this.datas)&&void 0!==r&&null!==(n=r[0])&&void 0!==n&&n.condition&&(i.exp_tids=this.adProxy.getExpTidForReport(null===(o=this.datas)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.condition));var l=this.getTimePointsData({splash_instance_id:e,scene:t,errCode:a,extInfo:i});if(l){this.operateReportMMData(19837,l)}}reportCloseAction(e){return this.reportMMData(16743,e)}reportAdEntranceExposure(e){return this.reportMMData(18988,e)}reportTouchClick(e){var t,a,i,r,n={parent_templ_id:null!==(t=null===(a=this.data)||void 0===a||null===(i=a.extBackComm)||void 0===i?void 0:i.parent_templ_id)&&void 0!==t?t:"0",crt_size:null===(r=this.data)||void 0===r?void 0:r.crt_size};if(Object.assign(e,n),"object"==typeof e)return this.reportMMData(16487,e)}reportCancelRewardPlayablePage(e){return this.reportMMData(20299,e)}formatMMData(e,t){var a,i,r=(0,Yt.x)(e);if(!r||0===r.length)return null;var n=this.data||{aid:0,traceid:"",crt_size:0};return Object.assign(t,{aid:n.aid,traceid:n.traceid,crt_size:n.crt_size,slotid:bt[this.adType],report_time:Date.now(),ad_pos_type:null!==(a=wt[this.adType])&&void 0!==a?a:0,pos_type:null!==(i=wt[this.adType])&&void 0!==i?i:0,publisher_appid:this.pluginAppid?this.pluginAppid:Dd.gameAppId,appid:this.pluginAppid?this.pluginAppid:Dd.gameAppId,orig_weapp_id:this.pluginAppid?Dd.gameAppId:"",network_type:Dd.adNetworkType,wechat_version:Dd.wechatVersion,platform:Dd.platform,system_version:Dd.systemVersion,device_orientation:Dd.deviceOrientation,wxapp_lib_version:Dd.SDKVersion,wxapp_lib_time:Dd.SDKVersionTime,machine_type:Dd.model,machine_brand:Dd.brand,screen_width:Dd.screenWidth,screen_height:Dd.screenHeight,ad_platform:Dd.isWaGame?1:0,ad_unit_id:this.adUnitId,DeviceModel:Dd.model,DeviceBrand:Dd.brand,OsName:Dd.platform,OsVersion:Dd.systemVersion,...t}),r.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()})))}reportMMData(e,t){var a=this.formatMMData(e,t);a&&this.operateReportMMData(e,a)}operateReportMMData(e,t){return(0,Yt.U)(e)?Reporter.reportKeyValue({key:e,value:this.formatMMDataStr(t),number:!0,immediately:!0}):Rd({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:t}}})}formatMMDataStr(e){return e.map((e=>String(e.value).replace(/,/g,";"))).join(",")}reportAbnormalDetect(e){var t,a,i,r,n={adunit_id:this.adUnitId,appid:Dd.gameAppId,parent_templ_id:null!==(t=null===(a=this.data)||void 0===a||null===(i=a.extBackComm)||void 0===i?void 0:i.parent_templ_id)&&void 0!==t?t:"0",crt_size:null===(r=this.data)||void 0===r?void 0:r.crt_size};if(Object.assign(e,n),"object"==typeof e)return e.slotid||(e.slotid=bt[this.adType]),this.reportMMData(16139,e)}reportAdIDKey({key:e,id:t}){var a,i=t,r=e;"object"==typeof r&&(!i&&(i=r.idKeyGroup),r=r.idKey),i||(i=null!==(a=Nt[this.adType])&&void 0!==a?a:924),0===r&&(r="0"),Reporter.reportIDKeyDirectly({id:i,key:r})}processStackMsg(e){var t=(e.stack||"").replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),a=e.toString();return t.indexOf(a)<0&&(t=`${a}@${t}`),t}reportAdIDKeyErrorData({key:e,id:t,extInfo:a=""}){var i,r,n,o,s=e,l=t,d=a,u=1;"object"==typeof s&&(u=s.sample||1,!l&&(l=s.idKeyGroup),s=s.idKey),0===s&&(s="0");var c="",p="";try{var h,f;if(this.data){var v,m,_,g,y,A,E,C,T,I,b,w,k,S,x;p=(null===(v=this.data.crtInfo)||void 0===v||null===(m=v[0])||void 0===m||null===(_=m.short_video)||void 0===_?void 0:_.video_url)||(null===(g=this.data.crtInfo)||void 0===g||null===(y=g[0])||void 0===y?void 0:y.image_url)||"";var P=(null===(A=this.data.crtInfo)||void 0===A||null===(E=A[0])||void 0===E||null===(C=E.short_video)||void 0===C?void 0:C.video_duration_ms)||1e3*((null===(T=this.data.crtInfo)||void 0===T||null===(I=T[0])||void 0===I||null===(b=I.short_video)||void 0===b?void 0:b.video_duration)||0),D=(0,q.pL)({crt_size:this.data.crt_size,product_type:this.data.product_type,dest_type:this.data.dest_type,exp_tids:this.adProxy.getExpTidForReport(null===(w=this.datas)||void 0===w||null===(k=w[0])||void 0===k?void 0:k.condition),uid:null===(S=this.data.extBackComm)||void 0===S?void 0:S.uid,spec_id:null===(x=this.data.extBackComm)||void 0===x?void 0:x.spec_id,video_duration:P||null,is_skit:this.adProxy.isSkitMode(),...this.adProxy.getLandPageInfo(),...this.adProxy.getMonitorDataExtraInfo()});if(this.adProxy.adDataIndex>0&&(D.data_index=this.adProxy.adDataIndex),this.adProxy.datas.length>1&&(D.data_count=this.adProxy.datas.length),ol("native",this.data.crt_size)){var O,R=this.convertedAdData;if(R)D.is_gauss_blur=ul(R),D.is_expand_style=cl(R),p=D.is_gauss_blur?R.gaussVideo.src:(null==R||null===(O=R.shortVideo)||void 0===O?void 0:O.src)||""}else this.adProxy.isBannerAd()&&(p=this.data.image_url);if(this.adProxy.isSplashAd()){var N;if(!D.exp_tids)D.exp_tids=this.adProxy.getExpTidForReport(null===(N=this.adProxy)||void 0===N?void 0:N.splashExpCondition);D.showInfo=this.adProxy.showInfo}c=JSON.stringify(D)}if("cpsShopAd"===this.adType&&null!==(h=this.data)&&void 0!==h&&null!==(f=h.extBackComm)&&void 0!==f&&f.cpsProduct&&(c=JSON.stringify({trace_id:this.data.extBackComm.cpsProduct.trace_id,product_id:this.data.extBackComm.cpsProduct.product_id})),d&&"string"!=typeof d)try{d instanceof Error&&(d=this.processStackMsg(d)),d=JSON.stringify(d)}catch(e){d=d.toString()}}catch(e){var M;e instanceof Error&&(d=this.processStackMsg(e)),p="",c=null===(M=this.data)||void 0===M?void 0:M.crt_size}var L=!0,B={id_key:s,id_key_group:null!==(i=null!==(r=l)&&void 0!==r?r:Nt[this.adType])&&void 0!==i?i:924,report_time:+new Date,source_url:this.limitFieldSize(p),expand_feild:this.limitFieldSize(c),expand_feild2:this.limitFieldSize(d),scene:this.adProxy.scene||0,crt_exp_tid:(null===(n=this.data)||void 0===n?void 0:n.crt_exp_tid)||0,template_id:(null===(o=this.data)||void 0===o?void 0:o.templId)||0};return 1!==u&&(L=Math.random()<=u),L?this.reportMMData(16295,B):wxNativeConsole.info(`[ad][report][16295][${l}-${s}]`,B)}limitFieldSize(e){return"string"!=typeof e?e:e.slice(0,1023)}reportAdMonitorData(e,t){this.reportAdIDKey({key:e}),this.reportAdIDKeyErrorData({key:e,extInfo:t})}reportEndPage({slotid:e,costtype:t,isGame:a=0,posType:i,ace_type:r,exposure_duration:n=0}){return this.reportMMData(19002,{slotid:e,costtype:t,is_game:a,pos_type:i,ace_type:r,exposure_duration:n})}reportAdFeedbackData(e){var t,a,i,r,n,o;return this.reportMMData(17045,{appid:Dd.gameAppId,weapp_path:Od.weappPath,ad_unit_id:this.adUnitId,device_type:Dd.model||"",ad_height:e.adHeight,ad_width:e.adWidth,screen_height:Dd.screenHeight,screen_width:Dd.screenWidth,ad_pos_x:e.adPosX,ad_pos_y:e.adPosY,exp_time:e.expTime,clk_complaint_button:1,slotid:bt[this.adType],service_type:Dd.isWaGame?1:0,first_grade_id:e.firstGradeId,first_grade_desc:e.firstGradeDesc,first_grade_time:e.firstGradeTime,second_grade_id:e.secondGradeId,second_grade_desc:e.secondGradeDesc,second_grade_time:e.secondGradeTime,is_finish_complaint:0,is_click_ad:null!==(t=e.isClickAd)&&void 0!==t?t:0!==this.lastClickTime?1:0,click_ad_time_ms:null!==(a=e.clickAdTimeMs)&&void 0!==a?a:this.lastClickTime,feedback_reason:e.feedbackReason,ext_feedback_comm:JSON.stringify({}),parent_templ_id:null!==(i=null===(r=this.data)||void 0===r||null===(n=r.extBackComm)||void 0===n?void 0:n.parent_templ_id)&&void 0!==i?i:"0",crt_size:null===(o=this.data)||void 0===o?void 0:o.crt_size})}reportBehaviorButton({button:e,playDuration:t,preloadVideo:a,preloadVideoSuccess:i,videoFirstPlay:r,cardFirstShow:n,clickCard:o,pressInterval:s,currentPlayUrl:l,lastFetchUrl:d,isEnded:u,videoDuration:c,isPlayletAutoplay:p,videoStartPlayTsClient:h,videoEndPlayTsClient:f,videoPlayDuration:v,rewardedCondition:m,isRewarded:_}){return this.reportMMData(16e3,{click_button:e,play_duration:t,click_close_ts:+new Date,preload_video:a,preload_video_success:i,video_first_play_ts:r,card_first_show_ts:n,click_card_ts:o,press_interval:s,current_play_url:l,last_fetch_url:d,is_ended:u?1:0,video_duration:c,is_playlet_autoplay:p?1:0,video_start_play_ts_client:h,video_end_play_ts_client:f,video_play_duration:v,rewarded_condition:m,is_rewarded:_?1:0})}reportVideoLoadTime({beginTime:e=0,endTime:t=0,departureTime:a=0,preloadVideo:i=0,preloadVideoSuccess:r=0,reportType:n=0}){var o=t-a-e;return o>0?this.reportMMData(15730,{load_begin_time:e,load_end_time:t,load_departure_time:a,load_cost_time:o,preload_video:i,preload_video_success:r,report_type:n}):Promise.resolve()}reportRepeatClick({slotId:e,costType:t,clkCnt:a,lastClkPeriod:i,retCode:r,costTime:n,pageStayTime:o,jsapiName:s}){return this.reportMMData(15979,{slotid:e,costtype:t,clkcnt:a,currenttime:+new Date,lastclkperiod:i,retcode:r,costtime:n,pagestaytime:o,jsapiname:s})}reportLandingTime({slotId:e,costType:t,openTime:a,closeTime:i,stayTime:r,jsapiName:n,clickTime:o,clkCnt:s,retCode:l,costTime:d,actTypeInt:u,actTypeStr:c}){return this.reportMMData(15980,{slotid:e,costtype:t,currenttime:o,opentime:a,closetime:i,staytime:r,jsapiname:n,clkcnt:s,retcode:l,costtime:d,act_type_int:u,act_type_str:c})}reportVideoLastClick({touchStartX:e,touchStartY:t,touchEndX:a,touchEndY:i,touchDuration:r,screenWidth:n,screenHeight:o,clkTime:s,playTime:l,isShield:d}){return this.reportMMData(17035,{touch_start_x:e,touch_start_y:t,touch_end_x:a,touch_end_y:i,touch_duration:r,screenwidth:n,screenheight:o,clk_timems:s,play_timems:l,is_shield:d})}reportBannerLastClick({lastClickArr:e,top:t,left:a,width:i,height:r,expMs:n,clickMs:o,bannerClkScreenX:s,bannerClkScreenY:l,lastShowTime:d}){var u,c;return this.reportMMData(18072,{last_clicks:e,banner_x:t,banner_y:a,banner_width:i,banner_height:r,exp_ms:n,clk_ms:o,banner_clk_screen_x:s,banner_clk_screen_y:l,last_show_time:d,slotid:bt[this.adType],parent_templ_id:null!==(u=null===(c=this.data.extBackComm)||void 0===c?void 0:c.parent_templ_id)&&void 0!==u?u:"0",crt_size:this.data.crt_size})}reportRelationFetchDuration({startTime:e,showTime:t,endTime:a}){return this.reportMMData(19429,{start_time:e,show_time:t,end_time:a,show_delay_duration:0===t?0:a-t,fetch_duration:a-e})}reportMMClickPos({clickPos:e}){var t;return this.reportMMData(20480,{slotid:bt[this.adType],costtype:null!==(t=this.data)&&void 0!==t&&t.is_cpm?1:2,currenttime:Date.now(),click_pos:e})}reportADFunnelModel({adtype:e,stage:t}){var a=[e,t].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"GameADFunnelModel",value:a,force:!0,immediately:!0})}recordAnalyseBranchInfo({branchId:e,branchDim:t}){this.analyseBranchInfo={branchId:e,branchDim:t}}resetAnalyseBranchInfo(){this.analyseBranchInfo=null}reportAnalyseInfo(e){var t=kt[this.adType]||"viewable";if(Dd.isWaGame&&e===t){var a=this.analyseBranchInfo;a&&("release"!==Dd.envVersion&&this.adProxy.reportAnalyseDebugInfo(a),this.reportMMData(20317,{branch_id:a.branchId,branch_dim:a.branchDim}))}}reportRewardGaussVideo({useGaussVideo:e,useExpandStyle:t,videoUrl:a,gaussVideoUrl:i,expUseGaussVideo:r,expUseExpandStyle:n}){this.reportMMData(21644,{use_gauss_video:e?1:0,video_url:a,gauss_video_url:i,use_expand_style:t?1:0,exp_use_gauss_video:r,exp_use_expand_style:n})}reportPopupClickAction({buttonType:e,buttonTime:t,adClkTime:a,adExpTime:i,adClkX:r,adClkY:n,adWidth:o,adHeight:s,isGame:l,costtype:d}){var u,c,p,h;this.reportMMData(23415,{adunitid:this.adUnitId,button_type:e,button_time:t,ad_clk_time:a,ad_exp_time:i,ad_clk_x:r,ad_clk_y:n,ad_width:o,ad_height:s,is_game:l,costtype:d,parent_templ_id:null!==(u=null===(c=this.data)||void 0===c||null===(p=c.extBackComm)||void 0===p?void 0:p.parent_templ_id)&&void 0!==u?u:"0",crt_size:null===(h=this.data)||void 0===h?void 0:h.crt_size})}reportBannerShowAction({slotid:e,costtype:t,isGame:a,type:i,TimeMs:r,PageX:n,PageY:o,screenX:s,screenY:l,adWidth:d,adHeight:u,ScreenWidth:c,ScreenHeight:p}){var h,f,v,m;this.reportMMData(25534,{slotid:e||bt[this.adType],costtype:t,is_game:a,adunitid:this.adUnitId,weapp_path:Od.weappPath,type:i,time_ms:r,pagex:n,pagey:o,screenx:s,screeny:l,adwidth:d,adheight:u,screenwidth:c,screenheight:p,parent_templ_id:null!==(h=null===(f=this.data)||void 0===f||null===(v=f.extBackComm)||void 0===v?void 0:v.parent_templ_id)&&void 0!==h?h:"0",crt_size:null===(m=this.data)||void 0===m?void 0:m.crt_size})}reportShareBehavior({operation:e,currentShow:t,inviteUser:a,inviteUserAdunit:i,strategy:r,shareValue:n,rewardValue:o,depositAmount:s}){this.reportMMData(26227,{adunitid:this.adUnitId,operation:e,cur_show:t,strategy:r,invite_user_openid:a,invite_user_adunit:i,expand_field:JSON.stringify({shareValue:n,rewardValue:o,depositAmount:s})})}reportDestroyBehavior({costType:e,isGame:t,videoDuration:a,destroyTime:i,playStartTime:r,playDuration:n,isEnded:o,isAdClk:s,adClkTime:l,isAdLandPage:d,adLandpageTime:u,isShowStatus:c,isVisible:p,isOnLandpage:h}){this.reportMMData(26640,{adunitid:this.adUnitId,weapppath:Od.weappPath,costtype:e,is_game:t,video_duration:a,destroy_timems:i,play_start_timems:r,play_duration_ms:n,is_ended:o,is_ad_clk:s,ad_clk_timems:l,is_ad_landpage:d,ad_landpage_timems:u,is_show_status:c,is_visible:p,is_on_landpage:h})}reportGameCenterGift({actionId:e,giftId:t}){this.reportMMData(20267,{SceneID:67,UIArea:6702,PositionID:1,SSID:30,ActionID:e,ExternInfo:JSON.stringify({gifttype:1,giftid:t,advertisetype:1,game_name:this.data.weapp_info.appid})})}reportClickPosition({clickTime:e,expTime:t,impTime:a,adWidth:i,adHeight:r,endPosx:n,endPosy:o,posName:s}){var l,d,u;this.reportMMData(25576,{crt_exp_tid:(null===(l=this.data)||void 0===l?void 0:l.crt_exp_tid)||0,ad_tmpl_id:(null===(d=this.data)||void 0===d?void 0:d.templId)||0,click_time:e,exp_time:t,imp_time:a,ad_w:i,ad_h:r,pos_x:n,pos_y:o,pos_name:s,product_type:(null===(u=this.data)||void 0===u?void 0:u.product_type)||0})}reportFunnelAction(e){var t,a,i=$t.map((e=>f.default.expt[e])).filter(Boolean);return this.reportMMData(31840,{scene:f.default.appLaunchInfo.scene,crt_exp_tid:this.data.crt_exp_tid,template_id:this.data.templId,expt_id_list:this.adProxy.getExpTidForReport(null===(t=this.datas)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.condition),ext_info:JSON.stringify({adunit:this.adProxy.getAdUnitId(),...e.ext_info||{}}),x_expt_id:i.map((e=>e.exptid)).join(","),x_expt_group_id:i.map((e=>e.groupid)).join(","),...(0,q.CE)(e,["ext_info"])})}},h()(Kl.prototype,"getTimePoint",[pl],Object.getOwnPropertyDescriptor(Kl.prototype,"getTimePoint"),Kl.prototype),h()(Kl.prototype,"getTimePoints",[hl],Object.getOwnPropertyDescriptor(Kl.prototype,"getTimePoints"),Kl.prototype),h()(Kl.prototype,"onSetTimePoint",[fl],Object.getOwnPropertyDescriptor(Kl.prototype,"onSetTimePoint"),Kl.prototype),h()(Kl.prototype,"setTimePoint",[vl],Object.getOwnPropertyDescriptor(Kl.prototype,"setTimePoint"),Kl.prototype),h()(Kl.prototype,"cacheTimePoints",[ml],Object.getOwnPropertyDescriptor(Kl.prototype,"cacheTimePoints"),Kl.prototype),h()(Kl.prototype,"clearTimePoints",[_l],Object.getOwnPropertyDescriptor(Kl.prototype,"clearTimePoints"),Kl.prototype),h()(Kl.prototype,"reportTimePoints",[gl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportTimePoints"),Kl.prototype),h()(Kl.prototype,"reportCloseAction",[yl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportCloseAction"),Kl.prototype),h()(Kl.prototype,"reportAdEntranceExposure",[Al],Object.getOwnPropertyDescriptor(Kl.prototype,"reportAdEntranceExposure"),Kl.prototype),h()(Kl.prototype,"reportTouchClick",[El],Object.getOwnPropertyDescriptor(Kl.prototype,"reportTouchClick"),Kl.prototype),h()(Kl.prototype,"reportCancelRewardPlayablePage",[Cl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportCancelRewardPlayablePage"),Kl.prototype),h()(Kl.prototype,"reportMMData",[Tl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportMMData"),Kl.prototype),h()(Kl.prototype,"reportAbnormalDetect",[Il],Object.getOwnPropertyDescriptor(Kl.prototype,"reportAbnormalDetect"),Kl.prototype),h()(Kl.prototype,"reportAdIDKey",[bl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportAdIDKey"),Kl.prototype),h()(Kl.prototype,"processStackMsg",[wl],Object.getOwnPropertyDescriptor(Kl.prototype,"processStackMsg"),Kl.prototype),h()(Kl.prototype,"reportAdIDKeyErrorData",[kl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportAdIDKeyErrorData"),Kl.prototype),h()(Kl.prototype,"reportAdMonitorData",[Sl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportAdMonitorData"),Kl.prototype),h()(Kl.prototype,"reportEndPage",[xl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportEndPage"),Kl.prototype),h()(Kl.prototype,"reportAdFeedbackData",[Pl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportAdFeedbackData"),Kl.prototype),h()(Kl.prototype,"reportBehaviorButton",[Dl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportBehaviorButton"),Kl.prototype),h()(Kl.prototype,"reportVideoLoadTime",[Ol],Object.getOwnPropertyDescriptor(Kl.prototype,"reportVideoLoadTime"),Kl.prototype),h()(Kl.prototype,"reportRepeatClick",[Rl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportRepeatClick"),Kl.prototype),h()(Kl.prototype,"reportLandingTime",[Nl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportLandingTime"),Kl.prototype),h()(Kl.prototype,"reportVideoLastClick",[Ml],Object.getOwnPropertyDescriptor(Kl.prototype,"reportVideoLastClick"),Kl.prototype),h()(Kl.prototype,"reportBannerLastClick",[Ll],Object.getOwnPropertyDescriptor(Kl.prototype,"reportBannerLastClick"),Kl.prototype),h()(Kl.prototype,"reportRelationFetchDuration",[Bl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportRelationFetchDuration"),Kl.prototype),h()(Kl.prototype,"reportMMClickPos",[Fl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportMMClickPos"),Kl.prototype),h()(Kl.prototype,"reportADFunnelModel",[Wl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportADFunnelModel"),Kl.prototype),h()(Kl.prototype,"recordAnalyseBranchInfo",[Ul],Object.getOwnPropertyDescriptor(Kl.prototype,"recordAnalyseBranchInfo"),Kl.prototype),h()(Kl.prototype,"resetAnalyseBranchInfo",[Vl],Object.getOwnPropertyDescriptor(Kl.prototype,"resetAnalyseBranchInfo"),Kl.prototype),h()(Kl.prototype,"reportAnalyseInfo",[Hl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportAnalyseInfo"),Kl.prototype),h()(Kl.prototype,"reportRewardGaussVideo",[jl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportRewardGaussVideo"),Kl.prototype),h()(Kl.prototype,"reportPopupClickAction",[Gl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportPopupClickAction"),Kl.prototype),h()(Kl.prototype,"reportBannerShowAction",[zl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportBannerShowAction"),Kl.prototype),h()(Kl.prototype,"reportShareBehavior",[$l],Object.getOwnPropertyDescriptor(Kl.prototype,"reportShareBehavior"),Kl.prototype),h()(Kl.prototype,"reportDestroyBehavior",[Ql],Object.getOwnPropertyDescriptor(Kl.prototype,"reportDestroyBehavior"),Kl.prototype),h()(Kl.prototype,"reportGameCenterGift",[Yl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportGameCenterGift"),Kl.prototype),h()(Kl.prototype,"reportClickPosition",[ql],Object.getOwnPropertyDescriptor(Kl.prototype,"reportClickPosition"),Kl.prototype),h()(Kl.prototype,"reportFunnelAction",[Zl],Object.getOwnPropertyDescriptor(Kl.prototype,"reportFunnelAction"),Kl.prototype),Kl),{_requestSkipCheckDomain:Md,deviceInfo:Ld,appRouteInfo:Bd,getIndentityInfo:Fd,invokeMethod:Wd,adReportOperateWXDataPromise:Ud}=r,Vd=1,Hd=new Set,jd=(Xl=Ki(),Jl=Ki(),ed=Ki(),td=Ki(),ad=Ki(),id=Ki(),rd=Ki(),nd=Ki(),od=Ki(),sd=Ki(),ld=Ki(),dd=Ki(),ud=Ki(),cd=Ki(),pd=Ki(),hd=Ki(),fd=Ki(),vd=class{constructor(e){this.adProxy=e,this.lastVideoReportTime=0,this.lastExposureTime=0,this.lastClickTime=0,this.lastAdReqTs=0,this.index=void 0,this.index=Vd,Vd+=1,Hd.add(this.adUnitId)}get adType(){return this.adProxy.getAdType()}get adUnitId(){return this.adProxy.getAdUnitId()}get pluginAppid(){return this.adProxy.getPluginAppid()}get data(){return this.adProxy.data}get datas(){return this.adProxy.datas}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}reset(){this.lastVideoReportTime=0}getLastClickTime(){return this.lastClickTime}getLastAdReqTs(){return this.lastAdReqTs}setLastExposureTime(e){this.lastExposureTime=e}setLastClickTime(e){this.lastClickTime=e}setLastAdReqTs(e){this.lastAdReqTs=e}reportFollow({result:e}){var t=5;return this.adProxy.isRewardedVideoAd()?t=6:[xs.CRT_SIZE_TABLE_SCREEN_IMAGE,xs.CRT_SIZE_INSERT_VIDEO].includes(this.data.crt_size)&&(t=8),B({apiName:"webapi_adfollow_report",reqData:{type:{success:140,fail:141,already:142,cancel:143}[e],source:5,scene:75,traceid:this.data.traceid,trace_id:this.data.traceid,aid:this.data.aid,pos_type:t}}).catch((e=>{throw this.reportAdMonitorData(fs.mmD,e),e}))}getExtraExpOrClkData(e){var t,a=[];"exposure"===e.reportType&&e.isMulti&&e.multiList?a=e.multiList.map(((e,t)=>({idx:t,waid:this.datas[e].waid||""}))):this.data.waid&&(a=[{idx:0,waid:this.data.waid}]);var i,n,o,s,l={weapp_path:r.getCurrentShowAdPath()||"",...Fd(),weapp_enter_scene:(null===f.default||void 0===f.default||null===(t=f.default.appLaunchInfo)||void 0===t?void 0:t.scene)||0,extra:JSON.stringify(a)},d={...l},u={...l};if("customAd"===this.adType&&e.isMulti)if("exposure"===e.reportType){var c,p={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(c=e.multiList)||void 0===c||c.forEach((e=>{var t=this.datas[e];t.extBackComm&&p.viewid.push(t.extBackComm.viewid),p.s_pt.push(t.pt),p.s_aid.push(t.aid),p.s_trace_id.push(t.traceid)})),d.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:p.viewid}),s_trace_id:JSON.stringify(p.s_trace_id),s_aid:JSON.stringify(p.s_aid),s_pt:JSON.stringify(p.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var h,v=this.adProxy.adDataIndex;u.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(h=this.data.extBackComm)||void 0===h?void 0:h.viewid,box_index:v}}if("customAd"===this.adType){var m,_=null===(m=this.data.extBackComm)||void 0===m?void 0:m.sub_templ_id;_&&(d.sub_templ_id=_,u.sub_templ_id=_)}if(("rewardedVideoAd"===this.adType&&this.data.isPlayable&&(d.is_playable=1,u.is_playable=1),"splashAd"===this.adType)&&(u.weapp_display_mode=null===(i=this.adProxy.showInfo)||void 0===i?void 0:i.displayMode,d.weapp_display_mode=null===(n=this.adProxy.showInfo)||void 0===n?void 0:n.displayMode,u.client_request_source=null===(o=this.adProxy)||void 0===o?void 0:o.fetchSource,d.client_request_source=null===(s=this.adProxy)||void 0===s?void 0:s.fetchSource,e.isMulti))if("exposure"===e.reportType){var g,y={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(g=e.multiList)||void 0===g||g.forEach((e=>{var t=this.datas[e];t.extBackComm&&y.viewid.push(t.extBackComm.viewid),y.s_pt.push(t.pt),y.s_aid.push(t.aid),y.s_trace_id.push(t.traceid)})),d.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:y.viewid}),s_trace_id:JSON.stringify(y.s_trace_id),s_aid:JSON.stringify(y.s_aid),s_pt:JSON.stringify(y.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var A,E=this.adProxy.adDataIndex;u.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(A=this.data.extBackComm)||void 0===A?void 0:A.viewid,box_index:E}}if(["interstitialAd","rewardedVideoAd","customAd"].includes(this.adType)&&e.videoData){var{currentTime:C,duration:T}=e.videoData;(C||T)&&(u.video_play_time=C,u.video_duration=T)}return"exposure"===e.reportType&&e.extExposureComm&&(d={...d,...e.extExposureComm}),"click"===e.reportType&&e.extClickComm&&(u={...u,...e.extClickComm}),{extExposureComm:d,extClickComm:u}}reportExpOrClk(e){var t=3;if("exposure"===e.reportType?(t={showed:2,viewable:5,incentiveVideoCard:14}[e.exposureType],"showed"===e.exposureType?this.adProxy.setTimePoint("p6"):"viewable"===e.exposureType&&this.adProxy.setTimePoint("p7"),this.adProxy.reportAnalyseInfo(e.exposureType)):"click"===e.reportType&&this.adProxy.setTimePoint("p10"),"exposure"===e.reportType&&e.multiList&&e.isMulti){var a=this.adProxy.adDataIndex;e.multiList.forEach((e=>{this.adProxy.setCurrentData(e),Wd("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t}),noCallback:!0})})),this.adProxy.setCurrentData(a)}else Wd("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t}),noCallback:!0});var{extExposureComm:i,extClickComm:r}=this.getExtraExpOrClkData(e),n=this.getExpOrClkCommonArgs(e),o="click"===(null==e?void 0:e.reportType)&&null!=e&&e.isInteractiveClick?e.clickPos:0,s="click"===e.reportType?{click_point:JSON.stringify({x:e.clickAbsoluteLeft,y:e.clickAbsoluteTop}),press_interval:e.pressInterval,pos_x:e.clickRelativeLeft,pos_y:e.clickRelativeTop,click_pos:o,ext_click_comm:JSON.stringify(r)}:{exposure_type:Ft[e.exposureType],ext_exposure_comm:JSON.stringify(i)},l=Bt[e.reportType];return"click"===e.reportType&&null!=e&&e.isInteractiveClick&&(l=4),Ud({reqData:{...n,...s,report_type:l,weapp_extra_data:JSON.stringify(n.weapp_extra_data),ad_group_id:n.advert_group_id,apurl:this.data.apurl,rl:this.data.rl,weapp_ghid:n.weapp_gh_id}})}getExpOrClkCommonArgs(e){var t;return{advert_group_id:this.data.group_id,trace_id:this.data.traceid,pos_id:bt[this.adType],pos_type:Lt[this.adType],sdk_version:Ld.SDKVersion,ad_w:e.width,ad_h:e.height,aid:this.data.aid,weapp_gh_id:(null===(t=this.data.weapp_info)||void 0===t?void 0:t.original_id)||"",pt:this.data.pt,screen_cnt:1,from_h5:0,from_game:1,wegame_start_ts:Ld.startTime.valueOf(),wegame_enter_ts:Bd.enterForegroundTime.valueOf(),wegame_user_duration:Bd.gameDuration+(Date.now()-Bd.enterForegroundTime.getTime()),wxa_report_detail:this.getWxaReportDetail({left:e.left,top:e.top}),weapp_extra_data:{...this.getWeappExtraData(),...e.weappExtraData||{}}}}reportClick(e){return this.lastClickTime=+new Date,this.reportExpOrClk({reportType:"click",...e}).catch((e=>{throw this.reportAdMonitorData(fs.dNr,e),e}))}reportExposure(e){return"showed"===e.exposureType&&this.adProxy.checkPreloadH5Page(),this.lastExposureTime=+new Date,this.reportExpOrClk({reportType:"exposure",...e}).catch((e=>{throw this.reportAdMonitorData(fs.iTY,e),e}))}reportFlooringPage(e,t){var a={aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:Ld.gameAppId,orig_weapp_id:this.pluginAppid?Ld.gameAppId:""},i=null==t?void 0:t.map((e=>({...a,...e}))),r={};return 1===e?r.rewared_video_ending_page_a=i:2===e&&(r.rewared_video_ending_page_b=i),Ud({reqData:{report_action:"comm_real_report",report_data_json:r}})}reportAntifraud(e){var t={...e,aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:Ld.gameAppId,orig_weapp_id:this.pluginAppid?Ld.gameAppId:"",network_type:Ld.adNetworkType,wechat_version:Ld.wechatVersion,platform:Ld.platform,system_version:Ld.systemVersion,device_orientation:Ld.deviceOrientation,wxapp_lib_version:Ld.SDKVersion,crt_size:this.data.crt_size,product_type:this.data.product_type,adunitid:this.adUnitId,machine_brand:Ld.brand||"",machine_type:Ld.model||"",clientimptime:this.lastAdReqTs},a={};return a.antifraud_table_screen_report=[t],Ud({reqData:{report_action:"comm_real_report",report_data_json:a}})}reportVideo({playType:e,conditionType:t,muted:a,playDuration:i,videoDuration:r,rewardedTime:n,isRewarded:o,index:s=0,isExtend:l=!1,videoStartLoadTime:d,videoStartPlayTime:u,videoStopTime:c,firstFramePlayCnt:p,lastFramePlayCnt:h,startProgressBarPosition:f,stopProgressBarPosition:v,playMode:m,stopType:_}){var g;if(null===(g=this.datas)||void 0===g||!g[s])return Promise.resolve();var y="0",A=decodeURIComponent(this.datas[s].apurl);/viewid=([^&]+)/.test(A)&&(y=/viewid=([^&]+)/.exec(A)[1]);var E={play_type:{unknown:0,complete:1,partial:2,error:3}[e],play_duration:i,video_duration:r,auto_play:!0,muted:a,rewarded_time:n&&Math.min(n,r),is_rewarded:o};l&&Object.assign(E,{video_start_load_time:d,video_start_play_time:u,video_stop_time:c,first_frame_play_cnt:p,last_frame_play_cnt:h,start_progress_bar_position:f,stop_progress_bar_position:v,play_mode:null!=m?m:1,stop_type:null!=_?_:1});var C=B({apiName:"webapi_advideo_report",reqData:{aid:parseInt(this.datas[s].aid,10),traceid:this.datas[s].traceid,trace_id:this.datas[s].traceid,viewid:y,video_play_info:E,report_type:{unknown:0,land:1,end:2,start:3,exit:4,close:5,stop:6}[t]}});return this.lastVideoReportTime=i,C}getWxaReportDetail({top:e=0,left:t=0}){return{page_x:t||0,page_y:e||0,screen_x:t||0,screen_y:e||0,ad_number:Vd-1,ad_unit_number:Hd.size,ad_index:this.index,page_enter_time:Bd.enterForegroundTime.valueOf(),phone_screen_width:Ld.screenWidth,phone_screen_height:Ld.screenHeight}}getWeappExtraData(){var e,t,a,i;return{weixin_version:Ld.wechatVersion,os_version:Ld.systemVersion,machine_brand:Ld.brand||"",machine_type:Ld.model,network_type:Ld.adNetworkType,start_ts:Ld.startTime.valueOf(),enter_ts:Bd.enterForegroundTime.valueOf(),user_duration:Bd.gameDuration+(Date.now()-Bd.enterForegroundTime.getTime()),imp_time:this.lastAdReqTs,exp_time:this.lastExposureTime,clk_time:this.lastClickTime,env:null===(e=f.default.host)||void 0===e?void 0:e.env,app_appid:null===(t=f.default.host)||void 0===t?void 0:t.appId,host_version:null===(a=f.default.host)||void 0===a?void 0:a.version,local_wechat_version:null===(i=f.default.host)||void 0===i?void 0:i.localWeChatVersion,data_index:this.adProxy.adDataIndex,data_count:this.adProxy.datas.length,...this.adProxy.inputWeappExtraData||{}}}composeExposureCommonInfo({top:e=0,left:t=0,width:a=0,height:i=0,adType:r="rewardedVideoAd",inputWeappExtraData:n={}}){var o;try{o=this.data.weapp_info.original_id}catch(e){}var s={...Fd()},l={...this.getWeappExtraData(),...n||{}},d=this.getWxaReportDetail({top:e,left:t}),u={report_type:0,pos_id:bt[this.adType],sdk_version:Ld.SDKVersion,aid:this.data.aid,traceid:this.data.traceid,trace_id:this.data.traceid,ad_group_id:this.data.group_id,weapp_ghid:o,rl:this.data.rl,pt:this.data.pt,screen_cnt:1,ad_w:a,ad_h:i,from_game:1,from_h5:0,wegame_start_ts:Ld.startTime.valueOf(),wegame_enter_ts:Bd.enterForegroundTime.valueOf(),wegame_user_duration:Bd.gameDuration+(Date.now()-Bd.enterForegroundTime.getTime()),pos_type:Lt[r],wxa_report_detail:d,weapp_extra_data:JSON.stringify(l),ext_exposure_comm:JSON.stringify(s)};return JSON.stringify(u)}reportInstallFollow(e){var{condition:t}=this.data;t&&1===t.widget_gray_report_install_follow&&Ud({reqData:{report_action:"comm_real_report",report_data_json:e}})}reportAnalyseDebugInfo(e){var t=St[this.adType];return t||this.reportAdMonitorData(fs.p_g,new Error(`invalid reportType ${this.adType}`)),B({apiName:"webapi_reportbranchanalyticsfordebugtool",reqData:{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:t}]}}).catch((e=>{this.reportAdMonitorData(fs.p_g,e)}))}reportIPV4(){setTimeout((()=>{try{var e,t=this.datas&&this.datas.length>0?this.datas[0]:this.data;null!=t&&null!==(e=t.extBackComm)&&void 0!==e&&e.ip_ping_url&&Md({url:(0,w.Uj)(t.extBackComm.ip_ping_url)})}catch(e){}}),2e3)}},h()(vd.prototype,"getLastClickTime",[Xl],Object.getOwnPropertyDescriptor(vd.prototype,"getLastClickTime"),vd.prototype),h()(vd.prototype,"getLastAdReqTs",[Jl],Object.getOwnPropertyDescriptor(vd.prototype,"getLastAdReqTs"),vd.prototype),h()(vd.prototype,"setLastExposureTime",[ed],Object.getOwnPropertyDescriptor(vd.prototype,"setLastExposureTime"),vd.prototype),h()(vd.prototype,"setLastClickTime",[td],Object.getOwnPropertyDescriptor(vd.prototype,"setLastClickTime"),vd.prototype),h()(vd.prototype,"setLastAdReqTs",[ad],Object.getOwnPropertyDescriptor(vd.prototype,"setLastAdReqTs"),vd.prototype),h()(vd.prototype,"reportFollow",[id],Object.getOwnPropertyDescriptor(vd.prototype,"reportFollow"),vd.prototype),h()(vd.prototype,"getExpOrClkCommonArgs",[rd],Object.getOwnPropertyDescriptor(vd.prototype,"getExpOrClkCommonArgs"),vd.prototype),h()(vd.prototype,"reportClick",[nd],Object.getOwnPropertyDescriptor(vd.prototype,"reportClick"),vd.prototype),h()(vd.prototype,"reportExposure",[od],Object.getOwnPropertyDescriptor(vd.prototype,"reportExposure"),vd.prototype),h()(vd.prototype,"reportFlooringPage",[sd],Object.getOwnPropertyDescriptor(vd.prototype,"reportFlooringPage"),vd.prototype),h()(vd.prototype,"reportAntifraud",[ld],Object.getOwnPropertyDescriptor(vd.prototype,"reportAntifraud"),vd.prototype),h()(vd.prototype,"reportVideo",[dd],Object.getOwnPropertyDescriptor(vd.prototype,"reportVideo"),vd.prototype),h()(vd.prototype,"getWxaReportDetail",[ud],Object.getOwnPropertyDescriptor(vd.prototype,"getWxaReportDetail"),vd.prototype),h()(vd.prototype,"composeExposureCommonInfo",[cd],Object.getOwnPropertyDescriptor(vd.prototype,"composeExposureCommonInfo"),vd.prototype),h()(vd.prototype,"reportInstallFollow",[pd],Object.getOwnPropertyDescriptor(vd.prototype,"reportInstallFollow"),vd.prototype),h()(vd.prototype,"reportAnalyseDebugInfo",[hd],Object.getOwnPropertyDescriptor(vd.prototype,"reportAnalyseDebugInfo"),vd.prototype),h()(vd.prototype,"reportIPV4",[fd],Object.getOwnPropertyDescriptor(vd.prototype,"reportIPV4"),vd.prototype),vd);var{showToast:Gd,deviceInfo:zd,invokeMethod:$d}=r,Qd=(md=Ki(),_d=Ki(),gd=Ki(),yd=Ki(),Ad=Ki(),Ed=Ki(),Cd=Ki(),Td=Ki(),Id=Ki(),bd=Ki(),wd=Ki(),kd=Ki(),Sd=Ki(),xd=class{constructor(e){this.adProxy=e,this.isAppInstalled=!1}get data(){return this.adProxy.data}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}getFullRl(){var{rl:e}=this.data;try{/viewid=([^&]+)/.test(e)||(-1===e.indexOf("?")?e+=`?viewid=${this.data.extBackComm.viewid}`:e+=`&viewid=${this.data.extBackComm.viewid}`)}catch(e){}return e}getFollowPageUrl(e,t){var a={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type,jsapi_scene:zd.isWaGame?147:140};return es(t,a)}getSkAdItem(){var e,t=null,a=this.data;if(null!=a&&null!==(e=a.extBackComm)&&void 0!==e&&e.sk_ad_items)try{[t]=JSON.parse(a.extBackComm.sk_ad_items)}catch(e){}return t}isPrefetch(e){var t,a,i,r,n,o,s,l,d={url:this.data.url,jump_url:this.data.button_action.jump_url,playable_url:null===(t=this.data.crtInfo)||void 0===t||null===(a=t[0])||void 0===a||null===(i=a.wxgame_video_card)||void 0===i||null===(r=i.flooring_page)||void 0===r?void 0:r.page_url}[e],u={url:this.data.dest_type===ns,jump_url:(null===(n=this.data.button_action)||void 0===n?void 0:n.jump_type)===ns,playable_url:!0}[e];return d&&u&&Boolean(null===(o=this.data)||void 0===o||null===(s=o.extBackComm)||void 0===s||null===(l=s.material_handler_info)||void 0===l?void 0:l.h5_preload_info[e])}getTransmissionChainData({logtype:e=3}){var t={traceid:this.data.traceid,trace_id:this.data.traceid,product_type:this.data.pt,jump_url:encodeURIComponent(this.data.url),rl:encodeURIComponent(this.getFullRl()),logtype:e};return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}setAppInstallState(e){this.isAppInstalled=e}land({isButton:e=!1,isAddContact:t=!1,extraUrlParam:a,copyGiftCode:i=!0}={}){var r=this;return d()((function*(){var{dest_type:n,product_type:o,url:s,extInfo:l}=r.data,d={isButton:e,extraUrlParam:a},u=[Ps.GDT_WE_CHAT_ARTICLE,Ps.LEAD_AD,Ps.WE_CHAT_SHOP].includes(o);if(i)try{var c;null!=l&&null!==(c=l.app_gift_pack_code)&&void 0!==c&&c.code&&(yield r.adProxy.setClipboardData({data:l.app_gift_pack_code.code}),Gd({duration:1500,title:"礼包码复制成功",icon:"success",mask:!1}),r.adProxy.reportAdMonitorData(fs.y5M))}catch(e){r.adProxy.reportAdMonitorData(fs.WGO)}if(!e){if(r.isPrefetch("url")&&r.adProxy.reportAdMonitorData(fs.tRL),[12,19].indexOf(o)>-1){var p,h,{app_info:{url_scheme:f}}=r.data;if(zd.isIOS)p=JSON.stringify({aid:r.data.aid,ad_uid:null===(h=r.data.extBackComm)||void 0===h?void 0:h.uid,scene_id:4001});var v=r.getSkAdItem();if(f&&f.trim().length>0){if(zd.isAndroid&&!r.isAppInstalled){try{return yield r.openMachineMarket()}catch(e){}return r.landPage(n,s,d)}return r.adProxy.launchApplication({schemeUrl:f,isIosDirect:zd.isIOS,appInfo:r.data.app_info,extraData:p,skAdItem:v},r.data).catch((e=>(null!==v&&r.reportAdMonitorData(fs.HoH,e),r.landPage(n,s,d))))}try{return yield r.openMachineMarket()}catch(e){}return r.landPage(n,s,d)}if(u){try{return yield r.openShopScheme()}catch(e){}return r.landPage(n,s,d)}return r.landPage(n,s,d)}r.isPrefetch("jump_url")&&r.adProxy.reportAdMonitorData(fs.T8M);var{button_action:{jump_type:m,jump_url:_}}=r.data;if(o===Ps.IOS)return r.openAppStore(m,_,d);if(o!==Ps.WE_CHAT||!t){if(u){try{return yield r.openShopScheme()}catch(e){}return r.landPage(m,_,d)}try{return yield r.openMachineMarket()}catch(e){}return r.landPage(m,_,d)}var g,{biz_info:{user_name:y,is_subscribed:A}}=r.data;if(A)return 10===m?r.landPage(m,s,d):R({url:r.getFollowPageUrl(r.data,_),adInfo:r.getTransmissionChainData({logtype:3}),adUxInfo:null===(g=r.data)||void 0===g?void 0:g.uxinfo});try{var E,C=yield r.adProxy.addContact({username:y,isWaGame:zd.isWaGame}),{ext_info:T,uxinfo:I}=r.data;try{E=JSON.parse(T)}catch(e){}if(/ok|added/.test(C.errMsg)&&E&&E.guide_group_id&&I)try{yield(({guide_group_id:e,uxinfo:t})=>B({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"BindAdFansToGuideGroup",guide_group_id:e,uxinfo:t})}}).then((e=>{if("ok"===e.msg)return e;throw e})))({guide_group_id:E.guide_group_id,uxinfo:I}),r.adProxy.reportAdIDKey({key:fs.kqm})}catch(e){r.reportAdMonitorData(fs.eiL,e)}return C}catch(e){if(/cancel/.test(e.errMsg))return e;throw r.reportAdMonitorData(fs.rh6,e),e}}))()}landPage(e,t,a){var i={},r={};if(a.extraUrlParam)for(var n of Object.keys(a.extraUrlParam)){var o=a.extraUrlParam[n];Array.isArray(o)&&"private"===o[1]&&null!=o[0]?[i[n]]=o:Array.isArray(o)?[r[n]]=o:r[n]=o}var s,l=es(t,a.extraUrlParam);if(e===os&&zd.isIOS){var d,{app_info:{appinfo_url:u}}=this.data,c=JSON.stringify({aid:this.data.aid,ad_uid:null===(d=this.data.extBackComm)||void 0===d?void 0:d.uid,scene_id:4001}),p=this.getSkAdItem();return this.adProxy.launchApplication({schemeUrl:u,extraData:c,skAdItem:p},this.data).catch((e=>{var t;return null!==p&&this.reportAdMonitorData(fs.HoH,e),R({url:u,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(t=this.data)||void 0===t?void 0:t.uxinfo}).catch((e=>{throw this.reportAdMonitorData(fs.O4Y,e),e}))}))}if(e===ss)return R({url:this.getFollowPageUrl(this.data,l),adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(s=this.data)||void 0===s?void 0:s.uxinfo}).catch((e=>{throw this.reportAdMonitorData(fs.O4Y,e),e}));if(e===ls){var{weapp_info:{appid:h},traceid:f,aid:v,uxinfo:m}=this.data;return M({appId:h,path:l,privateExtraData:i,traceid:f,aid:v,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:m}).catch((e=>{throw this.reportAdMonitorData(fs.GqW,e),e}))}if(e===ds){var{canvas_info:_,pos_type:g}=this.data;return N({canvasInfo:_,posType:g}).catch((e=>{throw this.reportAdMonitorData(fs.llv,e),e}))}if(10===e){var{biz_info:{user_name:y}}=this.data;return this.adProxy.openProfile({username:y}).catch((e=>{throw e}))}return e===us?this.jumpChannels("activity",a):e===cs?this.jumpChannels("live",a):e===ps?this.jumpChannels("userProfile",a):e===hs?this.adProxy.openWeComUserProfile({dataUrl:l,bizInfo:JSON.stringify({aid:this.data.aid})}):R({url:l,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:this.data.uxinfo}).catch((e=>{throw this.reportAdMonitorData(fs.O4Y,e),e}))}getChannelsExtraInfo(e){return JSON.stringify({sns_ad:{uxinfo:this.data.uxinfo||"",snsid:"",scene:e}}).replace(/,/g,";")}validateChannelsInfo(e,t){return t?["live","activity"].includes(e)&&!t.id||!t.nonce_id?"channelsInfo.id 或 channelsInfo.nonce_id 不可为空":t.username?null:"channelsInfo.username 不可为空":"channelsInfo 不可为空"}jumpChannels(e,{isButton:t}){var a=this;return d()((function*(){var i,r,n,o,s={activity:fs.zYu,live:fs.cYQ,userProfile:fs.qUK}[e],l={activity:fs.Lko,live:fs.qa9,userProfile:fs.M2X}[e],d=null===(i=a.data)||void 0===i?void 0:i.extBackComm.channels_info,u=a.validateChannelsInfo(e,d);if(u)a.reportAdMonitorData(l,{message:u,channelsInfo:d});else{var{crt_size:c,apurl:p,rl:h,crtInfo:f}=a.data,v=null==f||null===(r=f[0])||void 0===r||null===(n=r.card_info)||void 0===n||null===(o=n.tag_button_info)||void 0===o?void 0:o.tag_desc,m={feedId:d.id,nonceId:d.nonce_id,finderUserName:d.username,reportExtraInfo:a.getChannelsExtraInfo(t?Gs:js)};if("live"===e&&c===xs.CRT_SIZE_REWARD_LANDINGPAGE&&a.adProxy.getChannelsLiveStatusWithRpc().then((e=>{"onlive"!==e&&a.reportAdMonitorData(fs.L6h,{status:e})})),d){if("activity"===e&&c===xs.CRT_SIZE_REWARD_LANDINGPAGE)try{var _=yield a.adProxy.openChannelsRewardedVideoAd({...m,expReportLink:p,clkReportLink:h,reportInfo:a.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:zd.screenWidth,height:zd.screenHeight}),clickPosMap:{follow:Ns,like:Ms,comment:Ls,headimage:Bs,nickname:Fs,forward:Ws},marketingWord:v,feedbackUrl:a.getFeedbackUrl(zd.isWaGame?1003:1005)});return a.reportAdMonitorData(s),_}catch(_){a.reportAdMonitorData(l,_)}else if("live"===e&&c===xs.CRT_SIZE_REWARD_LANDINGPAGE)try{var g=yield a.adProxy.openChannelsLive({...m,expReportLink:p,clkReportLink:h,reportInfo:a.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:zd.screenWidth,height:zd.screenHeight}),feedbackUrl:a.getFeedbackUrl(zd.isWaGame?1003:1005),adJSAPIType:1});return a.reportAdMonitorData(s,{closeType:(null==g?void 0:g.closeType)||0}),g}catch(_){a.reportAdMonitorData(l,_)}try{var y;switch(e){case"activity":y=yield a.adProxy.openChannelsRewardedVideoAd({...m,adJSAPIType:1});break;case"live":y=yield a.adProxy.openChannelsLive(m);break;case"userProfile":y=yield a.adProxy.openChannelsUserProfile(m)}return a.reportAdMonitorData(s),y}catch(e){a.reportAdMonitorData(l,e)}}a.reportAdMonitorData(l,new Error("channelsInfo is empty"))}}))()}openAppStore(e,t,a){var i,{app_info:{appinfo_url:r,url_scheme:n},extBackComm:o}=this.data,s=JSON.stringify({aid:this.data.aid,ad_uid:null===(i=this.data.extBackComm)||void 0===i?void 0:i.uid,scene_id:4001}),l=this.getSkAdItem();return n&&n.trim().length>0?this.adProxy.launchApplication({schemeUrl:n,isIosDirect:!0,appInfo:this.data.app_info,extraData:s,skAdItem:l},this.data).catch((()=>this.adProxy.launchApplication({schemeUrl:r,extraData:s,skAdItem:l},this.data).catch((e=>{var t;return null!==l&&this.reportAdMonitorData(fs.HoH,e),R({url:r,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(t=this.data)||void 0===t?void 0:t.uxinfo}).catch((e=>{throw this.reportAdMonitorData(fs.O4Y,e),e}))})))):o.is_from_snsadinfo?this.landPage(e,t,a):this.adProxy.launchApplication({schemeUrl:r,extraData:s,skAdItem:l},this.data).catch((()=>{var e;return R({url:r,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(e=this.data)||void 0===e?void 0:e.uxinfo}).catch((e=>{throw this.reportAdMonitorData(fs.O4Y,e),e}))}))}preloadLanding(){try{if(6===this.data.dest_type){var e;e=[this.data.weapp_info.appid],[].push({appId:(a=this.data).weapp_info&&a.weapp_info.appid,appType:46==a.product_type?1004:1e3,path:a.url,openRate:a.extBackComm&&a.extBackComm.pctr||0}),$d("batchGetContact",{appIds:e});var t="app";this.data.product_type===Ps.MINI_GAME&&(t="game"),$d("preloadMiniProgramEnv",{type:t,success:e=>{this.reportAdMonitorData(fs.Ay2,e)},fail:e=>{this.reportAdMonitorData(fs.OMo,e)}});$d("predownloadMiniProgramPackage",{username:`${this.data.weapp_info.original_id}@app`,path:this.data.url,scene:5,success:e=>{this.reportAdMonitorData(fs.qkx,e)},fail:e=>{this.reportAdMonitorData(fs.QFQ,e)}})}}catch(e){}var a}checkFollow(e){return d()((function*(){var{data:t}=yield B({apiName:"webapi_checkcontact",reqData:{biz_uin:e}});return 1===t.is_subscribed}))()}getFeedbackUrl(e){var t=this.data.material_id_list||[],a=encodeURIComponent(`[${t.toString()}]`)||"";return es("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",{aid:this.data.aid,traceid:this.data.traceid,source:e,material_id:a||"",machine_type:zd.model,publisher_appid:zd.gameAppId})}openFeedbackUrl(e){var t=this.getFeedbackUrl(e);return R({url:t})}checkPreloadH5Page(){var e=this;return d()((function*(){var t,a,i,r,n,o=new Set,{url:s}=e.data,l=null===(t=e.data.button_action)||void 0===t?void 0:t.jump_url,d=null===(a=e.data.crtInfo)||void 0===a||null===(i=a[0])||void 0===i||null===(r=i.wxgame_video_card)||void 0===r||null===(n=r.flooring_page)||void 0===n?void 0:n.page_url;e.isPrefetch("url")&&("1"!==Yo(s).prefetch&&(s=es(s,{prefetch:1}),e.data.url=s),o.add(s)),e.isPrefetch("jump_url")&&("1"!==Yo(l).prefetch&&(l=es(l,{prefetch:1}),e.data.button_action.jump_url=l),o.add(l)),e.isPrefetch("playable_url")&&("1"!==Yo(d).prefetch&&(d=es(d,{prefetch:1}),e.data.crtInfo[0].wxgame_video_card.flooring_page.page_url=d),o.add(d));var u=[...o].map((e=>({url:e,bizScene:20002})));if(u.length)try{yield e.adProxy.preloadH5Page({urlList:u}),e.reportAdMonitorData(fs.qg0)}catch(t){e.reportAdMonitorData(fs.D7b,t)}}))()}openShopScheme(){var e=this;return d()((function*(){var{app_info:{url_scheme:t}}=e.data;if(!t||!zd.isIOS&&!zd.isAndroid)throw"openShopScheme: fail no need";try{var a={schemeUrl:t};zd.isIOS&&(a.messageExt=t),e.data.uxinfo&&(a.bizInfo=e.data.uxinfo,a.sourceInfo=JSON.stringify({wxad:{source:3}}));var i=yield e.adProxy.launchApplicationOrigin(a);return e.reportAdMonitorData(fs.sEh),i}catch(t){throw e.reportAdMonitorData(fs.n8g,t),t}}))()}shouldOpenMachineMarket(){var e,{product_type:t,extBackComm:a}=this.data;return!this.adProxy.isSplashAd()&&zd.isAndroid&&t===Ps.ANDROID&&!this.isAppInstalled&&(null==a?void 0:a.market_scheme)&&!ol("landpage",null===(e=this.adProxy.data)||void 0===e?void 0:e.crt_size)}openMachineMarket(){var e=this;return d()((function*(){var{extBackComm:t}=e.data;if(!e.shouldOpenMachineMarket())throw"openMachineMarket: fail no need";try{var a={schemeUrl:t.market_scheme};e.data.uxinfo&&(a.bizInfo=e.data.uxinfo,a.sourceInfo=JSON.stringify({wxad:{source:4}}));var i=yield e.adProxy.launchApplicationOrigin(a);return e.reportAdMonitorData(fs.fn9),i}catch(t){throw e.reportAdMonitorData(fs.yKb,t),t}}))()}getLandPageInfo(){var e,t,a,i,r,n,o,s,l,d,u,c,p,h,f,v,m,_,g,y,A,E,C,T,I={};if(this.data.product_type===Ps.ANDROID)Object.assign(I,{apk_name:null===(y=this.data.app_info)||void 0===y?void 0:y.apk_name,app_name:null===(A=this.data.app_info)||void 0===A?void 0:A.app_name,app_rating:null===(E=this.data.app_info)||void 0===E?void 0:E.app_rating,url_scheme:Boolean(null===(C=this.data.app_info)||void 0===C?void 0:C.url_scheme),market_scheme:Boolean(null===(T=this.data.extBackComm)||void 0===T?void 0:T.market_scheme)});else if(this.data.product_type===Ps.IOS){var b,w,k,S,x;Object.assign(I,{appid:null===(b=this.data.app_info)||void 0===b?void 0:b.app_id,app_name:null===(w=this.data.app_info)||void 0===w?void 0:w.app_name,app_rating:null===(k=this.data.app_info)||void 0===k?void 0:k.app_rating,appinfo_url:null===(S=this.data.app_info)||void 0===S?void 0:S.appinfo_url,url_scheme:Boolean(null===(x=this.data.app_info)||void 0===x?void 0:x.url_scheme)})}switch(this.data.dest_type){case ds:Object.assign(I,{canvas_id:null===(e=this.data.canvas_info)||void 0===e?void 0:e.canvas_id});break;case ls:Object.assign(I,{appid:null===(t=this.data.weapp_info)||void 0===t?void 0:t.appid,original_id:null===(a=this.data.weapp_info)||void 0===a?void 0:a.original_id,playable_appid:null===(i=this.data.crtInfo)||void 0===i||null===(r=i[0])||void 0===r||null===(n=r.wxgame_video_card)||void 0===n?void 0:n.playable_appid,playable_path:null===(o=this.data.crtInfo)||void 0===o||null===(s=o[0])||void 0===s||null===(l=s.wxgame_video_card)||void 0===l?void 0:l.playable_path,ranking_type:null===(d=this.data)||void 0===d||null===(u=d.extBackComm)||void 0===u?void 0:u.wegame_ranking_type,ranking_no:null===(c=this.data)||void 0===c||null===(p=c.extBackComm)||void 0===p?void 0:p.wegame_ranking_no});break;case us:case cs:Object.assign(I,{id:null===(h=this.data.extBackComm)||void 0===h||null===(f=h.channels_info)||void 0===f?void 0:f.id,username:null===(v=this.data.extBackComm)||void 0===v||null===(m=v.channels_info)||void 0===m?void 0:m.username});break;case ps:Object.assign(I,{username:null===(_=this.data.extBackComm)||void 0===_||null===(g=_.channels_info)||void 0===g?void 0:g.username})}return(0,q.pL)(I)}},h()(xd.prototype,"isPrefetch",[md],Object.getOwnPropertyDescriptor(xd.prototype,"isPrefetch"),xd.prototype),h()(xd.prototype,"getTransmissionChainData",[_d],Object.getOwnPropertyDescriptor(xd.prototype,"getTransmissionChainData"),xd.prototype),h()(xd.prototype,"setAppInstallState",[gd],Object.getOwnPropertyDescriptor(xd.prototype,"setAppInstallState"),xd.prototype),h()(xd.prototype,"land",[yd],Object.getOwnPropertyDescriptor(xd.prototype,"land"),xd.prototype),h()(xd.prototype,"landPage",[Ad],Object.getOwnPropertyDescriptor(xd.prototype,"landPage"),xd.prototype),h()(xd.prototype,"getChannelsExtraInfo",[Ed],Object.getOwnPropertyDescriptor(xd.prototype,"getChannelsExtraInfo"),xd.prototype),h()(xd.prototype,"openAppStore",[Cd],Object.getOwnPropertyDescriptor(xd.prototype,"openAppStore"),xd.prototype),h()(xd.prototype,"preloadLanding",[Td],Object.getOwnPropertyDescriptor(xd.prototype,"preloadLanding"),xd.prototype),h()(xd.prototype,"checkFollow",[Id],Object.getOwnPropertyDescriptor(xd.prototype,"checkFollow"),xd.prototype),h()(xd.prototype,"getFeedbackUrl",[bd],Object.getOwnPropertyDescriptor(xd.prototype,"getFeedbackUrl"),xd.prototype),h()(xd.prototype,"openFeedbackUrl",[wd],Object.getOwnPropertyDescriptor(xd.prototype,"openFeedbackUrl"),xd.prototype),h()(xd.prototype,"checkPreloadH5Page",[kd],Object.getOwnPropertyDescriptor(xd.prototype,"checkPreloadH5Page"),xd.prototype),h()(xd.prototype,"getLandPageInfo",[Sd],Object.getOwnPropertyDescriptor(xd.prototype,"getLandPageInfo"),xd.prototype),xd),Yd=(e,t)=>!!t&&(e=>{var t={native:[xs.CRT_SIZE_TABLE_SCREEN_IMAGE,xs.CRT_SIZE_INSERT_VIDEO],sns:[xs.APP_VIDEO,xs.CRT_SIZE_PIC_MOMENT,xs.CRT_SIZE_VIDEO_TIME6,xs.CRT_SIZE_CARD_COMPT_IMAGE,xs.CRT_SIZE_CARD_COMPT_VIDEO],image:[xs.CRT_SIZE_TABLE_SCREEN_IMAGE,xs.CRT_SIZE_PIC_MOMENT,xs.CRT_SIZE_CARD_COMPT_IMAGE,xs.CRT_SIZE_AMS_PIC_169,xs.CRT_SIZE_AMS_PIC_916],video:[xs.CRT_SIZE_INSERT_VIDEO,xs.APP_VIDEO,xs.CRT_SIZE_VIDEO_TIME6,xs.CRT_SIZE_CARD_COMPT_VIDEO,xs.CRT_SIZE_AMS_VIDEO_169,xs.CRT_SIZE_VERTICAL_VIDEO_NEW_916]};switch(e){case"native":case"sns":case"video":case"image":return t[e];default:return[...t.image,...t.video]}})(e).includes(Number(t)),qd=Object.create,Zd=Object.defineProperty,Kd=Object.defineProperties,Xd=Object.getOwnPropertyDescriptor,Jd=Object.getOwnPropertyDescriptors,eu=Object.getOwnPropertyNames,tu=Object.getOwnPropertySymbols,au=Object.getPrototypeOf,iu=Object.prototype.hasOwnProperty,ru=Object.prototype.propertyIsEnumerable,nu=(e,t,a)=>t in e?Zd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ou=(e,t)=>{for(var a in t||(t={}))iu.call(t,a)&&nu(e,a,t[a]);if(tu)for(var a of tu(t))ru.call(t,a)&&nu(e,a,t[a]);return e},su=(e,t)=>Kd(e,Jd(t)),lu=(e,t)=>function(){return t||(0,e[eu(e)[0]])((t={exports:{}}).exports,t),t.exports},du=(e,t,a)=>(a=null!=e?qd(au(e)):{},((e,t,a,i)=>{if(t&&"object"==typeof t||"function"==typeof t){var r=function(r){iu.call(e,r)||r===a||Zd(e,r,{get:()=>t[r],enumerable:!(i=Xd(t,r))||i.enumerable})};for(var n of eu(t))r(n)}return e})(!t&&e&&e.__esModule?a:Zd(a,"default",{value:e,enumerable:!0}),e)),uu=(e,t,a,i)=>{for(var r,n=i>1?void 0:i?Xd(t,a):t,o=e.length-1;o>=0;o--)(r=e[o])&&(n=(i?r(t,a,n):r(n))||n);return i&&n&&Zd(t,a,n),n},cu=(e,t,a)=>new Promise(((i,r)=>{var n=e=>{try{s(a.next(e))}catch(e){r(e)}},o=e=>{try{s(a.throw(e))}catch(e){r(e)}},s=e=>e.done?i(e.value):Promise.resolve(e.value).then(n,o);s((a=a.apply(e,t)).next())})),pu=lu({"../../node_modules/.pnpm/object-assign@4.1.1/node_modules/object-assign/index.js"(e,t){var a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var d in n=Object(arguments[l]))i.call(n,d)&&(s[d]=n[d]);if(a){o=a(n);for(var u=0;u<o.length;u++)r.call(n,o[u])&&(s[o[u]]=n[o[u]])}}return s}}}),hu=lu({"../../node_modules/.pnpm/react@17.0.2/node_modules/react/cjs/react.production.min.js"(e){var t=pu(),a=60103,i=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var r=60109,n=60110,o=60112;e.Suspense=60113;var s,l=60115,d=60116;"function"==typeof Symbol&&Symbol.for&&(s=Symbol.for,a=s("react.element"),i=s("react.portal"),e.Fragment=s("react.fragment"),e.StrictMode=s("react.strict_mode"),e.Profiler=s("react.profiler"),r=s("react.provider"),n=s("react.context"),o=s("react.forward_ref"),e.Suspense=s("react.suspense"),l=s("react.memo"),d=s("react.lazy"));var u="function"==typeof Symbol&&Symbol.iterator;function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function f(e,t,a){this.props=e,this.context=t,this.refs=h,this.updater=a||p}function v(){}function m(e,t,a){this.props=e,this.context=t,this.refs=h,this.updater=a||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(c(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=f.prototype;var _=m.prototype=new v;_.constructor=m,t(_,f.prototype),_.isPureReactComponent=!0;var g={current:null},y=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,i){var r,n={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)y.call(t,r)&&!A.hasOwnProperty(r)&&(n[r]=t[r]);var l=arguments.length-2;if(1===l)n.children=i;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];n.children=d}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===n[r]&&(n[r]=l[r]);return{$$typeof:a,type:e,key:o,ref:s,props:n,_owner:g.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function b(e,t,r,n,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case i:l=!0}}if(l)return o=o(l=e),e=""===n?"."+I(l,0):n,Array.isArray(o)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),b(o,t,r,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var d=0;d<e.length;d++){var p=n+I(s=e[d],d);l+=b(s,t,r,p,o)}else if(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e),"function"==typeof p)for(e=p.call(e),d=0;!(s=e.next()).done;)l+=b(s=s.value,t,r,p=n+I(s,d++),o);else if("object"===s)throw t=""+e,Error(c(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function w(e,t,a){if(null==e)return e;var i=[],r=0;return b(e,i,"","",(function(e){return t.call(a,e,r++)})),i}function k(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var S={current:null};function x(){var e=S.current;if(null===e)throw Error(c(321));return e}var P={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:g,IsSomeRendererActing:{current:!1},assign:t};e.Children={map:w,forEach:function(e,t,a){w(e,(function(){t.apply(this,arguments)}),a)},count:function(e){var t=0;return w(e,(function(){t++})),t},toArray:function(e){return w(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(c(143));return e}},e.Component=f,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(e,i,r){if(null==e)throw Error(c(267,e));var n=t({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=i){if(void 0!==i.ref&&(s=i.ref,l=g.current),void 0!==i.key&&(o=""+i.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(u in i)y.call(i,u)&&!A.hasOwnProperty(u)&&(n[u]=void 0===i[u]&&void 0!==d?d[u]:i[u])}var u=arguments.length-2;if(1===u)n.children=r;else if(1<u){d=Array(u);for(var p=0;p<u;p++)d[p]=arguments[p+2];n.children=d}return{$$typeof:a,type:e.type,key:o,ref:s,props:n,_owner:l}},e.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:n,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:r,_context:e},e.Consumer=e},e.createElement=E,e.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:o,render:e}},e.isValidElement=C,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:k}},e.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return x().useCallback(e,t)},e.useContext=function(e,t){return x().useContext(e,t)},e.useDebugValue=function(){},e.useEffect=function(e,t){return x().useEffect(e,t)},e.useImperativeHandle=function(e,t,a){return x().useImperativeHandle(e,t,a)},e.useLayoutEffect=function(e,t){return x().useLayoutEffect(e,t)},e.useMemo=function(e,t){return x().useMemo(e,t)},e.useReducer=function(e,t,a){return x().useReducer(e,t,a)},e.useRef=function(e){return x().useRef(e)},e.useState=function(e){return x().useState(e)},e.version="17.0.2"}}),fu=lu({"../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"(e,t){t.exports=hu()}}),vu=lu({"../../node_modules/.pnpm/scheduler@0.20.2/node_modules/scheduler/cjs/scheduler.production.min.js"(e){var t,a,i,r,n,o,s,l,d,u,c,p,h,f,v,m,_,g,y,A;function E(e,t){var a=e.length;e.push(t);e:for(;;){var i=a-1>>>1,r=e[i];if(!(void 0!==r&&0<I(r,t)))break e;e[i]=t,e[a]=r,a=i}}function C(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var a=e.pop();if(a!==t){e[0]=a;e:for(var i=0,r=e.length;i<r;){var n=2*(i+1)-1,o=e[n],s=n+1,l=e[s];if(void 0!==o&&0>I(o,a))void 0!==l&&0>I(l,o)?(e[i]=l,e[s]=a,i=s):(e[i]=o,e[n]=a,i=n);else{if(!(void 0!==l&&0>I(l,a)))break e;e[i]=l,e[s]=a,i=s}}}return t}return null}function I(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(n=performance,e.unstable_now=function(){return n.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s}),"undefined"==typeof window||"function"!=typeof MessageChannel?(l=null,d=null,u=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(e){throw setTimeout(u,0),e}},t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(u,0))},a=function(e,t){d=setTimeout(e,t)},i=function(){clearTimeout(d)},e.unstable_shouldYield=function(){return!1},r=e.unstable_forceFrameRate=function(){}):(c=window.setTimeout,p=window.clearTimeout,"undefined"!=typeof console&&(h=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),f=!1,v=null,m=-1,_=5,g=0,e.unstable_shouldYield=function(){return e.unstable_now()>=g},r=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},y=new MessageChannel,A=y.port2,y.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();g=t+_;try{v(!0,t)?A.postMessage(null):(f=!1,v=null)}catch(e){throw A.postMessage(null),e}}else f=!1},t=function(e){v=e,f||(f=!0,A.postMessage(null))},a=function(t,a){m=c((function(){t(e.unstable_now())}),a)},i=function(){p(m),m=-1});var b=[],w=[],k=1,S=null,x=3,P=!1,D=!1,O=!1;function R(e){for(var t=C(w);null!==t;){if(null===t.callback)T(w);else{if(!(t.startTime<=e))break;T(w),t.sortIndex=t.expirationTime,E(b,t)}t=C(w)}}function N(e){if(O=!1,R(e),!D)if(null!==C(b))D=!0,t(M);else{var i=C(w);null!==i&&a(N,i.startTime-e)}}function M(t,r){D=!1,O&&(O=!1,i()),P=!0;var n=x;try{for(R(r),S=C(b);null!==S&&(!(S.expirationTime>r)||t&&!e.unstable_shouldYield());){var o=S.callback;if("function"==typeof o){S.callback=null,x=S.priorityLevel;var s=o(S.expirationTime<=r);r=e.unstable_now(),"function"==typeof s?S.callback=s:S===C(b)&&T(b),R(r)}else T(b);S=C(b)}if(null!==S)var l=!0;else{var d=C(w);null!==d&&a(N,d.startTime-r),l=!1}return l}finally{S=null,x=n,P=!1}}var L=r;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){D||P||(D=!0,t(M))},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return C(b)},e.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var a=x;x=t;try{return e()}finally{x=a}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=L,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=x;x=e;try{return t()}finally{x=a}},e.unstable_scheduleCallback=function(r,n,o){var s=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:k++,callback:n,priorityLevel:r,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(r.sortIndex=o,E(w,r),null===C(b)&&r===C(w)&&(O?i():O=!0,a(N,o-s))):(r.sortIndex=l,E(b,r),D||P||(D=!0,t(M))),r},e.unstable_wrapCallback=function(e){var t=x;return function(){var a=x;x=t;try{return e.apply(this,arguments)}finally{x=a}}}}}),mu=lu({"../../node_modules/.pnpm/scheduler@0.20.2/node_modules/scheduler/index.js"(e,t){t.exports=vu()}}),_u=lu({"../../node_modules/.pnpm/react-reconciler@0.26.2_react@17.0.2/node_modules/react-reconciler/cjs/react-reconciler.production.min.js"(e,t){t.exports=function(e){var a={},i=pu(),r=fu(),n=mu();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=60103,d=60106,u=60107,c=60108,p=60114,h=60109,f=60110,v=60112,m=60113,_=60120,g=60115,y=60116,A=60121,E=60129,C=60130,T=60131;if("function"==typeof Symbol&&Symbol.for){var I=Symbol.for;l=I("react.element"),d=I("react.portal"),u=I("react.fragment"),c=I("react.strict_mode"),p=I("react.profiler"),h=I("react.provider"),f=I("react.context"),v=I("react.forward_ref"),m=I("react.suspense"),_=I("react.suspense_list"),g=I("react.memo"),y=I("react.lazy"),A=I("react.block"),I("react.scope"),E=I("react.debug_trace_mode"),C=I("react.offscreen"),T=I("react.legacy_hidden")}var b="function"==typeof Symbol&&Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=b&&e[b]||e["@@iterator"])?e:null}function k(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case u:return"Fragment";case d:return"Portal";case p:return"Profiler";case c:return"StrictMode";case m:return"Suspense";case _:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return k(e.type);case A:return k(e._render);case y:t=e._payload,e=e._init;try{return k(e(t))}catch(e){}}return null}function S(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function x(e){if(S(e)!==e)throw Error(o(188))}function P(e){var t=e.alternate;if(!t){if(null===(t=S(e)))throw Error(o(188));return t!==e?null:e}for(var a=e,i=t;;){var r=a.return;if(null===r)break;var n=r.alternate;if(null===n){if(null!==(i=r.return)){a=i;continue}break}if(r.child===n.child){for(n=r.child;n;){if(n===a)return x(r),e;if(n===i)return x(r),t;n=n.sibling}throw Error(o(188))}if(a.return!==i.return)a=r,i=n;else{for(var s=!1,l=r.child;l;){if(l===a){s=!0,a=r,i=n;break}if(l===i){s=!0,i=r,a=n;break}l=l.sibling}if(!s){for(l=n.child;l;){if(l===a){s=!0,a=n,i=r;break}if(l===i){s=!0,i=n,a=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(a.alternate!==i)throw Error(o(190))}if(3!==a.tag)throw Error(o(188));return a.stateNode.current===a?e:t}function D(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function O(e,t){for(var a=e.alternate;null!==t;){if(t===e||t===a)return!0;t=t.return}return!1}var R,N=e.getPublicInstance,M=e.getRootHostContext,L=e.getChildHostContext,B=e.prepareForCommit,F=e.resetAfterCommit,W=e.createInstance,U=e.appendInitialChild,V=e.finalizeInitialChildren,H=e.prepareUpdate,j=e.shouldSetTextContent,G=e.createTextInstance,z=e.scheduleTimeout,$=e.cancelTimeout,Q=e.noTimeout,Y=e.isPrimaryRenderer,q=e.supportsMutation,Z=e.supportsPersistence,K=e.supportsHydration,X=e.getInstanceFromNode,J=e.makeOpaqueHydratingObject,ee=e.makeClientId,te=e.beforeActiveInstanceBlur,ae=e.afterActiveInstanceBlur,ie=e.preparePortalMount,re=e.supportsTestSelectors,ne=e.findFiberRoot,oe=e.getBoundingRect,se=e.getTextContent,le=e.isHiddenSubtree,de=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,pe=e.appendChild,he=e.appendChildToContainer,fe=e.commitTextUpdate,ve=e.commitMount,me=e.commitUpdate,_e=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,Ae=e.removeChildFromContainer,Ee=e.resetTextContent,Ce=e.hideInstance,Te=e.hideTextInstance,Ie=e.unhideInstance,be=e.unhideTextInstance,we=e.clearContainer,ke=e.cloneInstance,Se=e.createContainerChildSet,xe=e.appendChildToContainerChildSet,Pe=e.finalizeContainerChildren,De=e.replaceContainerChildren,Oe=e.cloneHiddenInstance,Re=e.cloneHiddenTextInstance,Ne=e.canHydrateInstance,Me=e.canHydrateTextInstance,Le=e.isSuspenseInstancePending,Be=e.isSuspenseInstanceFallback,Fe=e.getNextHydratableSibling,We=e.getFirstHydratableChild,Ue=e.hydrateInstance,Ve=e.hydrateTextInstance,He=e.getNextHydratableInstanceAfterSuspenseInstance,je=e.commitHydratedContainer,Ge=e.commitHydratedSuspenseInstance;function ze(e){if(void 0===R)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var $e=!1;function Qe(e,t){if(!e||$e)return"";$e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(e){if(e&&i&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),n=i.stack.split("\n"),o=r.length-1,s=n.length-1;1<=o&&0<=s&&r[o]!==n[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==n[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==n[s])return"\n"+r[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{$e=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?ze(e):""}var Ye=[],qe=-1;function Ze(e){return{current:e}}function Ke(e){0>qe||(e.current=Ye[qe],Ye[qe]=null,qe--)}function Xe(e,t){qe++,Ye[qe]=e.current,e.current=t}var Je={},et=Ze(Je),tt=Ze(!1),at=Je;function it(e,t){var a=e.type.contextTypes;if(!a)return Je;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,n={};for(r in a)n[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function rt(e){return null!=(e=e.childContextTypes)}function nt(){Ke(tt),Ke(et)}function ot(e,t,a){if(et.current!==Je)throw Error(o(168));Xe(et,t),Xe(tt,a)}function st(e,t,a){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return a;for(var n in r=r.getChildContext())if(!(n in e))throw Error(o(108,k(t)||"Unknown",n));return i({},a,r)}function lt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Je,at=et.current,Xe(et,e),Xe(tt,tt.current),!0}function dt(e,t,a){var i=e.stateNode;if(!i)throw Error(o(169));a?(e=st(e,t,at),i.__reactInternalMemoizedMergedChildContext=e,Ke(tt),Ke(et),Xe(et,e)):Ke(tt),Xe(tt,a)}var ut=null,ct=null;(0,n.unstable_now)();var pt=0,ht=8;function ft(e){if(0!=(1&e))return ht=15,1;if(0!=(2&e))return ht=14,2;if(0!=(4&e))return ht=13,4;var t=24&e;return 0!==t?(ht=12,t):0!=(32&e)?(ht=11,32):0!==(t=192&e)?(ht=10,t):0!=(256&e)?(ht=9,256):0!==(t=3584&e)?(ht=8,t):0!=(4096&e)?(ht=7,4096):0!==(t=4186112&e)?(ht=6,t):0!==(t=62914560&e)?(ht=5,t):67108864&e?(ht=4,67108864):0!=(134217728&e)?(ht=3,134217728):0!==(t=805306368&e)?(ht=2,t):0!=(1073741824&e)?(ht=1,1073741824):(ht=8,e)}function vt(e,t){var a=e.pendingLanes;if(0===a)return ht=0;var i=0,r=0,n=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==n)i=n,r=ht=15;else if(0!==(n=134217727&a)){var l=n&~o;0!==l?(i=ft(l),r=ht):0!==(s&=n)&&(i=ft(s),r=ht)}else 0!==(n=a&~o)?(i=ft(n),r=ht):0!==s&&(i=ft(s),r=ht);if(0===i)return 0;if(i=a&((0>(i=31-Et(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0==(t&o)){if(ft(t),r<=ht)return t;ht=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(a=31-Et(t)),i|=e[a],t&=~r;return i}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _t(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=gt(24&~t))?_t(10,t):e;case 10:return 0===(e=gt(192&~t))?_t(8,t):e;case 8:return 0===(e=gt(3584&~t))&&(0===(e=gt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=gt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function gt(e){return e&-e}function yt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function At(e,t,a){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-Et(t)]=a}var Et=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ct(e)/Tt|0)|0},Ct=Math.log,Tt=Math.LN2;var It=n.unstable_runWithPriority,bt=n.unstable_scheduleCallback,wt=n.unstable_cancelCallback,kt=n.unstable_shouldYield,St=n.unstable_requestPaint,xt=n.unstable_now,Pt=n.unstable_getCurrentPriorityLevel,Dt=n.unstable_ImmediatePriority,Ot=n.unstable_UserBlockingPriority,Rt=n.unstable_NormalPriority,Nt=n.unstable_LowPriority,Mt=n.unstable_IdlePriority,Lt={},Bt=void 0!==St?St:function(){},Ft=null,Wt=null,Ut=!1,Vt=xt(),Ht=1e4>Vt?xt:function(){return xt()-Vt};function jt(){switch(Pt()){case Dt:return 99;case Ot:return 98;case Rt:return 97;case Nt:return 96;case Mt:return 95;default:throw Error(o(332))}}function Gt(e){switch(e){case 99:return Dt;case 98:return Ot;case 97:return Rt;case 96:return Nt;case 95:return Mt;default:throw Error(o(332))}}function zt(e,t){return e=Gt(e),It(e,t)}function $t(e,t,a){return e=Gt(e),bt(e,t,a)}function Qt(){if(null!==Wt){var e=Wt;Wt=null,wt(e)}Yt()}function Yt(){if(!Ut&&null!==Ft){Ut=!0;var e=0;try{var t=Ft;zt(99,(function(){for(;e<t.length;e++){var a=t[e];do{a=a(!0)}while(null!==a)}})),Ft=null}catch(t){throw null!==Ft&&(Ft=Ft.slice(e+1)),bt(Dt,Qt),t}finally{Ut=!1}}}var qt=s.ReactCurrentBatchConfig;var Zt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Kt=Object.prototype.hasOwnProperty;function Xt(e,t){if(Zt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++)if(!Kt.call(t,a[i])||!Zt(e[a[i]],t[a[i]]))return!1;return!0}function Jt(e){switch(e.tag){case 5:return ze(e.type);case 16:return ze("Lazy");case 13:return ze("Suspense");case 19:return ze("SuspenseList");case 0:case 2:case 15:return e=Qe(e.type,!1);case 11:return e=Qe(e.type.render,!1);case 22:return e=Qe(e.type._render,!1);case 1:return e=Qe(e.type,!0);default:return""}}function ea(e,t){if(e&&e.defaultProps){for(var a in t=i({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}return t}var ta=Ze(null),aa=null,ia=null,ra=null;function na(){ra=ia=aa=null}function oa(e,t){e=e.type._context,Y?(Xe(ta,e._currentValue),e._currentValue=t):(Xe(ta,e._currentValue2),e._currentValue2=t)}function sa(e){var t=ta.current;Ke(ta),e=e.type._context,Y?e._currentValue=t:e._currentValue2=t}function la(e,t){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)===t){if(null===a||(a.childLanes&t)===t)break;a.childLanes|=t}else e.childLanes|=t,null!==a&&(a.childLanes|=t);e=e.return}}function da(e,t){aa=e,ra=ia=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ui=!0),e.firstContext=null)}function ua(e,t){if(ra!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ra=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ia){if(null===aa)throw Error(o(308));ia=t,aa.dependencies={lanes:0,firstContext:t,responders:null}}else ia=ia.next=t;return Y?e._currentValue:e._currentValue2}var ca=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ha(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function va(e,t){if(null!==(e=e.updateQueue)){var a=(e=e.shared).pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}}function ma(e,t){var a=e.updateQueue,i=e.alternate;if(null!==i&&a===(i=i.updateQueue)){var r=null,n=null;if(null!==(a=a.firstBaseUpdate)){do{var o={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};null===n?r=n=o:n=n.next=o,a=a.next}while(null!==a);null===n?r=n=t:n=n.next=t}else r=n=t;return a={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:n,shared:i.shared,effects:i.effects},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function _a(e,t,a,r){var n=e.updateQueue;ca=!1;var o=n.firstBaseUpdate,s=n.lastBaseUpdate,l=n.shared.pending;if(null!==l){n.shared.pending=null;var d=l,u=d.next;d.next=null,null===s?o=u:s.next=u,s=d;var c=e.alternate;if(null!==c){var p=(c=c.updateQueue).lastBaseUpdate;p!==s&&(null===p?c.firstBaseUpdate=u:p.next=u,c.lastBaseUpdate=d)}}if(null!==o){for(p=n.baseState,s=0,c=u=d=null;;){l=o.lane;var h=o.eventTime;if((r&l)===l){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,v=o;switch(l=t,h=a,v.tag){case 1:if("function"==typeof(f=v.payload)){p=f.call(h,p,l);break e}p=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=v.payload)?f.call(h,p,l):f))break e;p=i({},p,l);break e;case 2:ca=!0}}null!==o.callback&&(e.flags|=32,null===(l=n.effects)?n.effects=[o]:l.push(o))}else h={eventTime:h,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=h,d=p):c=c.next=h,s|=l;if(null===(o=o.next)){if(null===(l=n.shared.pending))break;o=l.next,l.next=null,n.lastBaseUpdate=l,n.shared.pending=null}}null===c&&(d=p),n.baseState=d,n.firstBaseUpdate=u,n.lastBaseUpdate=c,un|=s,e.lanes=s,e.memoizedState=p}}function ga(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=a,"function"!=typeof r)throw Error(o(191,r));r.call(i)}}}var ya=(new r.Component).refs;function Aa(e,t,a,r){a=null==(a=a(r,t=e.memoizedState))?t:i({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var Ea={isMounted:function(e){return!!(e=e._reactInternals)&&S(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Mn(),r=Ln(e),n=fa(i,r);n.payload=t,null!=a&&(n.callback=a),va(e,n),Bn(e,r,i)},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Mn(),r=Ln(e),n=fa(i,r);n.tag=1,n.payload=t,null!=a&&(n.callback=a),va(e,n),Bn(e,r,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Mn(),i=Ln(e),r=fa(a,i);r.tag=2,null!=t&&(r.callback=t),va(e,r),Bn(e,i,a)}};function Ca(e,t,a,i,r,n,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,n,o):!t.prototype||!t.prototype.isPureReactComponent||(!Xt(a,i)||!Xt(r,n))}function Ta(e,t,a){var i=!1,r=Je,n=t.contextType;return"object"==typeof n&&null!==n?n=ua(n):(r=rt(t)?at:et.current,n=(i=null!=(i=t.contextTypes))?it(e,r):Je),t=new t(a,n),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ea,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=n),t}function Ia(e,t,a,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&Ea.enqueueReplaceState(t,t.state,null)}function ba(e,t,a,i){var r=e.stateNode;r.props=a,r.state=e.memoizedState,r.refs=ya,pa(e);var n=t.contextType;"object"==typeof n&&null!==n?r.context=ua(n):(n=rt(t)?at:et.current,r.context=it(e,n)),_a(e,a,r,i),r.state=e.memoizedState,"function"==typeof(n=t.getDerivedStateFromProps)&&(Aa(e,t,n,a),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Ea.enqueueReplaceState(r,r.state,null),_a(e,a,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function ka(e,t,a){if(null!==(e=a.ref)&&"function"!=typeof e&&"object"!=typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(o(309));var i=a.stateNode}if(!i)throw Error(o(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===ya&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(o(284));if(!a._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xa(e){function t(t,a){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=a,t.lastEffect=a):t.firstEffect=t.lastEffect=a,a.nextEffect=null,a.flags=8}}function a(a,i){if(!e)return null;for(;null!==i;)t(a,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=To(e,t)).index=0,e.sibling=null,e}function n(t,a,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<a?(t.flags=2,a):i:(t.flags=2,a):a}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,a,i){return null===t||6!==t.tag?((t=ko(a,e.mode,i)).return=e,t):((t=r(t,a)).return=e,t)}function p(e,t,a,i){return null!==t&&t.elementType===a.type?((i=r(t,a.props)).ref=ka(e,t,a),i.return=e,i):((i=Io(a.type,a.key,a.props,null,e.mode,i)).ref=ka(e,t,a),i.return=e,i)}function h(e,t,a,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=So(a,e.mode,i)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function f(e,t,a,i,n){return null===t||7!==t.tag?((t=bo(a,e.mode,i,n)).return=e,t):((t=r(t,a)).return=e,t)}function v(e,t,a){if("string"==typeof t||"number"==typeof t)return(t=ko(""+t,e.mode,a)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(a=Io(t.type,t.key,t.props,null,e.mode,a)).ref=ka(e,null,t),a.return=e,a;case d:return(t=So(t,e.mode,a)).return=e,t}if(wa(t)||w(t))return(t=bo(t,e.mode,a,null)).return=e,t;Sa(e,t)}return null}function m(e,t,a,i){var r=null!==t?t.key:null;if("string"==typeof a||"number"==typeof a)return null!==r?null:c(e,t,""+a,i);if("object"==typeof a&&null!==a){switch(a.$$typeof){case l:return a.key===r?a.type===u?f(e,t,a.props.children,i,r):p(e,t,a,i):null;case d:return a.key===r?h(e,t,a,i):null}if(wa(a)||w(a))return null!==r?null:f(e,t,a,i,null);Sa(e,a)}return null}function _(e,t,a,i,r){if("string"==typeof i||"number"==typeof i)return c(t,e=e.get(a)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case l:return e=e.get(null===i.key?a:i.key)||null,i.type===u?f(t,e,i.props.children,r,i.key):p(t,e,i,r);case d:return h(t,e=e.get(null===i.key?a:i.key)||null,i,r)}if(wa(i)||w(i))return f(t,e=e.get(a)||null,i,r,null);Sa(t,i)}return null}return function(c,p,h,f){var g="object"==typeof h&&null!==h&&h.type===u&&null===h.key;g&&(h=h.props.children);var y="object"==typeof h&&null!==h;if(y)switch(h.$$typeof){case l:e:{for(y=h.key,g=p;null!==g;){if(g.key===y){if(7===g.tag){if(h.type===u){a(c,g.sibling),(p=r(g,h.props.children)).return=c,c=p;break e}}else if(g.elementType===h.type){a(c,g.sibling),(p=r(g,h.props)).ref=ka(c,g,h),p.return=c,c=p;break e}a(c,g);break}t(c,g),g=g.sibling}h.type===u?((p=bo(h.props.children,c.mode,f,h.key)).return=c,c=p):((f=Io(h.type,h.key,h.props,null,c.mode,f)).ref=ka(c,p,h),f.return=c,c=f)}return s(c);case d:e:{for(g=h.key;null!==p;){if(p.key===g){if(4===p.tag&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){a(c,p.sibling),(p=r(p,h.children||[])).return=c,c=p;break e}a(c,p);break}t(c,p),p=p.sibling}(p=So(h,c.mode,f)).return=c,c=p}return s(c)}if("string"==typeof h||"number"==typeof h)return h=""+h,null!==p&&6===p.tag?(a(c,p.sibling),(p=r(p,h)).return=c,c=p):(a(c,p),(p=ko(h,c.mode,f)).return=c,c=p),s(c);if(wa(h))return function(r,o,s,l){for(var d=null,u=null,c=o,p=o=0,h=null;null!==c&&p<s.length;p++){c.index>p?(h=c,c=null):h=c.sibling;var f=m(r,c,s[p],l);if(null===f){null===c&&(c=h);break}e&&c&&null===f.alternate&&t(r,c),o=n(f,o,p),null===u?d=f:u.sibling=f,u=f,c=h}if(p===s.length)return a(r,c),d;if(null===c){for(;p<s.length;p++)null!==(c=v(r,s[p],l))&&(o=n(c,o,p),null===u?d=c:u.sibling=c,u=c);return d}for(c=i(r,c);p<s.length;p++)null!==(h=_(c,r,p,s[p],l))&&(e&&null!==h.alternate&&c.delete(null===h.key?p:h.key),o=n(h,o,p),null===u?d=h:u.sibling=h,u=h);return e&&c.forEach((function(e){return t(r,e)})),d}(c,p,h,f);if(w(h))return function(r,s,l,d){var u=w(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var c=u=null,p=s,h=s=0,f=null,g=l.next();null!==p&&!g.done;h++,g=l.next()){p.index>h?(f=p,p=null):f=p.sibling;var y=m(r,p,g.value,d);if(null===y){null===p&&(p=f);break}e&&p&&null===y.alternate&&t(r,p),s=n(y,s,h),null===c?u=y:c.sibling=y,c=y,p=f}if(g.done)return a(r,p),u;if(null===p){for(;!g.done;h++,g=l.next())null!==(g=v(r,g.value,d))&&(s=n(g,s,h),null===c?u=g:c.sibling=g,c=g);return u}for(p=i(r,p);!g.done;h++,g=l.next())null!==(g=_(p,r,h,g.value,d))&&(e&&null!==g.alternate&&p.delete(null===g.key?h:g.key),s=n(g,s,h),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(r,e)})),u}(c,p,h,f);if(y&&Sa(c,h),void 0===h&&!g)switch(c.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,k(c.type)||"Component"))}return a(c,p)}}var Pa=xa(!0),Da=xa(!1),Oa={},Ra=Ze(Oa),Na=Ze(Oa),Ma=Ze(Oa);function La(e){if(e===Oa)throw Error(o(174));return e}function Ba(e,t){Xe(Ma,t),Xe(Na,e),Xe(Ra,Oa),e=M(t),Ke(Ra),Xe(Ra,e)}function Fa(){Ke(Ra),Ke(Na),Ke(Ma)}function Wa(e){var t=La(Ma.current),a=La(Ra.current);a!==(t=L(a,e.type,t))&&(Xe(Na,e),Xe(Ra,t))}function Ua(e){Na.current===e&&(Ke(Ra),Ke(Na))}var Va=Ze(0);function Ha(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||Le(a)||Be(a)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Ga=null,za=!1;function $a(e,t){var a=Eo(5,null,null,0);a.elementType="DELETED",a.type="DELETED",a.stateNode=t,a.return=e,a.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=a,e.lastEffect=a):e.firstEffect=e.lastEffect=a}function Qa(e,t){switch(e.tag){case 5:return null!==(t=Ne(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Me(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function Ya(e){if(za){var t=Ga;if(t){var a=t;if(!Qa(e,t)){if(!(t=Fe(a))||!Qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(ja=e);$a(ja,a)}ja=e,Ga=We(t)}else e.flags=-1025&e.flags|2,za=!1,ja=e}}function qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Za(e){if(!K||e!==ja)return!1;if(!za)return qa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!j(t,e.memoizedProps))for(t=Ga;t;)$a(e,t),t=Fe(t);if(qa(e),13===e.tag){if(!K)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Ga=He(e)}else Ga=ja?Fe(e.stateNode):null;return!0}function Ka(){K&&(Ga=ja=null,za=!1)}var Xa=[];function Ja(){for(var e=0;e<Xa.length;e++){var t=Xa[e];Y?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Xa.length=0}var ei=s.ReactCurrentDispatcher,ti=s.ReactCurrentBatchConfig,ai=0,ii=null,ri=null,ni=null,oi=!1,si=!1;function li(){throw Error(o(321))}function di(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Zt(e[a],t[a]))return!1;return!0}function ui(e,t,a,i,r,n){if(ai=n,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ei.current=null===e||null===e.memoizedState?Li:Bi,e=a(i,r),si){n=0;do{if(si=!1,!(25>n))throw Error(o(301));n+=1,ni=ri=null,t.updateQueue=null,ei.current=Fi,e=a(i,r)}while(si)}if(ei.current=Mi,t=null!==ri&&null!==ri.next,ai=0,ni=ri=ii=null,oi=!1,t)throw Error(o(300));return e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ii.memoizedState=ni=e:ni=ni.next=e,ni}function pi(){if(null===ri){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=ri.next;var t=null===ni?ii.memoizedState:ni.next;if(null!==t)ni=t,ri=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ri=e).memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},null===ni?ii.memoizedState=ni=e:ni=ni.next=e}return ni}function hi(e,t){return"function"==typeof t?t(e):t}function fi(e){var t=pi(),a=t.queue;if(null===a)throw Error(o(311));a.lastRenderedReducer=e;var i=ri,r=i.baseQueue,n=a.pending;if(null!==n){if(null!==r){var s=r.next;r.next=n.next,n.next=s}i.baseQueue=r=n,a.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=n=null,d=r;do{var u=d.lane;if((ai&u)===u)null!==l&&(l=l.next={lane:0,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null}),i=d.eagerReducer===e?d.eagerState:e(i,d.action);else{var c={lane:u,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null};null===l?(s=l=c,n=i):l=l.next=c,ii.lanes|=u,un|=u}d=d.next}while(null!==d&&d!==r);null===l?n=i:l.next=s,Zt(i,t.memoizedState)||(Ui=!0),t.memoizedState=i,t.baseState=n,t.baseQueue=l,a.lastRenderedState=i}return[t.memoizedState,a.dispatch]}function vi(e){var t=pi(),a=t.queue;if(null===a)throw Error(o(311));a.lastRenderedReducer=e;var i=a.dispatch,r=a.pending,n=t.memoizedState;if(null!==r){a.pending=null;var s=r=r.next;do{n=e(n,s.action),s=s.next}while(s!==r);Zt(n,t.memoizedState)||(Ui=!0),t.memoizedState=n,null===t.baseQueue&&(t.baseState=n),a.lastRenderedState=n}return[n,i]}function mi(e,t,a){var i=t._getVersion;i=i(t._source);var r=Y?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==r?e=r===i:(e=e.mutableReadLanes,(e=(ai&e)===e)&&(Y?t._workInProgressVersionPrimary=i:t._workInProgressVersionSecondary=i,Xa.push(t))),e)return a(t._source);throw Xa.push(t),Error(o(350))}function _i(e,t,a,i){var r=tn;if(null===r)throw Error(o(349));var n=t._getVersion,s=n(t._source),l=ei.current,d=l.useState((function(){return mi(r,t,a)})),u=d[1],c=d[0];d=ni;var p=e.memoizedState,h=p.refs,f=h.getSnapshot,v=p.source;p=p.subscribe;var m=ii;return e.memoizedState={refs:h,source:t,subscribe:i},l.useEffect((function(){h.getSnapshot=a,h.setSnapshot=u;var e=n(t._source);if(!Zt(s,e)){e=a(t._source),Zt(c,e)||(u(e),e=Ln(m),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var i=r.entanglements,o=e;0<o;){var l=31-Et(o),d=1<<l;i[l]|=e,o&=~d}}}),[a,t,i]),l.useEffect((function(){return i(t._source,(function(){var e=h.getSnapshot,a=h.setSnapshot;try{a(e(t._source));var i=Ln(m);r.mutableReadLanes|=i&r.pendingLanes}catch(e){a((function(){throw e}))}}))}),[t,i]),Zt(f,a)&&Zt(v,t)&&Zt(p,i)||((e={pending:null,dispatch:null,lastRenderedReducer:hi,lastRenderedState:c}).dispatch=u=Ni.bind(null,ii,e),d.queue=e,d.baseQueue=null,c=mi(r,t,a),d.memoizedState=d.baseState=c),c}function gi(e,t,a){return _i(pi(),e,t,a)}function yi(e){var t=ci();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e}).dispatch=Ni.bind(null,ii,e),[t.memoizedState,e]}function Ai(e,t,a,i){return e={tag:e,create:t,destroy:a,deps:i,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(a=t.lastEffect)?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Ei(e){return e={current:e},ci().memoizedState=e}function Ci(){return pi().memoizedState}function Ti(e,t,a,i){var r=ci();ii.flags|=e,r.memoizedState=Ai(1|t,a,void 0,void 0===i?null:i)}function Ii(e,t,a,i){var r=pi();i=void 0===i?null:i;var n=void 0;if(null!==ri){var o=ri.memoizedState;if(n=o.destroy,null!==i&&di(i,o.deps))return void Ai(t,a,n,i)}ii.flags|=e,r.memoizedState=Ai(1|t,a,n,i)}function bi(e,t){return Ti(516,4,e,t)}function wi(e,t){return Ii(516,4,e,t)}function ki(e,t){return Ii(4,2,e,t)}function Si(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xi(e,t,a){return a=null!=a?a.concat([e]):null,Ii(4,2,Si.bind(null,t,e),a)}function Pi(){}function Di(e,t){var a=pi();t=void 0===t?null:t;var i=a.memoizedState;return null!==i&&null!==t&&di(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Oi(e,t){var a=pi();t=void 0===t?null:t;var i=a.memoizedState;return null!==i&&null!==t&&di(t,i[1])?i[0]:(e=e(),a.memoizedState=[e,t],e)}function Ri(e,t){var a=jt();zt(98>a?98:a,(function(){e(!0)})),zt(97<a?97:a,(function(){var a=ti.transition;ti.transition=1;try{e(!1),t()}finally{ti.transition=a}}))}function Ni(e,t,a){var i=Mn(),r=Ln(e),n={lane:r,action:a,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?n.next=n:(n.next=o.next,o.next=n),t.pending=n,o=e.alternate,e===ii||null!==o&&o===ii)si=oi=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,a);if(n.eagerReducer=o,n.eagerState=l,Zt(l,s))return}catch(e){}Bn(e,r,i)}}var Mi={readContext:ua,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useOpaqueIdentifier:li,unstable_isNewReconciler:!1},Li={readContext:ua,useCallback:function(e,t){return ci().memoizedState=[e,void 0===t?null:t],e},useContext:ua,useEffect:bi,useImperativeHandle:function(e,t,a){return a=null!=a?a.concat([e]):null,Ti(4,2,Si.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var a=ci();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var i=ci();return t=void 0!==a?a(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ni.bind(null,ii,e),[i.memoizedState,e]},useRef:Ei,useState:yi,useDebugValue:Pi,useDeferredValue:function(e){var t=yi(e),a=t[0],i=t[1];return bi((function(){var t=ti.transition;ti.transition=1;try{i(e)}finally{ti.transition=t}}),[e]),a},useTransition:function(){var e=yi(!1),t=e[0];return Ei(e=Ri.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,a){var i=ci();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:a},_i(i,e,t,a)},useOpaqueIdentifier:function(){if(za){var e=!1,t=J((function(){throw e||(e=!0,a(ee())),Error(o(355))})),a=yi(t)[1];return 0==(2&ii.mode)&&(ii.flags|=516,Ai(5,(function(){a(ee())}),void 0,null)),t}return yi(t=ee()),t},unstable_isNewReconciler:!1},Bi={readContext:ua,useCallback:Di,useContext:ua,useEffect:wi,useImperativeHandle:xi,useLayoutEffect:ki,useMemo:Oi,useReducer:fi,useRef:Ci,useState:function(){return fi(hi)},useDebugValue:Pi,useDeferredValue:function(e){var t=fi(hi),a=t[0],i=t[1];return wi((function(){var t=ti.transition;ti.transition=1;try{i(e)}finally{ti.transition=t}}),[e]),a},useTransition:function(){var e=fi(hi)[0];return[Ci().current,e]},useMutableSource:gi,useOpaqueIdentifier:function(){return fi(hi)[0]},unstable_isNewReconciler:!1},Fi={readContext:ua,useCallback:Di,useContext:ua,useEffect:wi,useImperativeHandle:xi,useLayoutEffect:ki,useMemo:Oi,useReducer:vi,useRef:Ci,useState:function(){return vi(hi)},useDebugValue:Pi,useDeferredValue:function(e){var t=vi(hi),a=t[0],i=t[1];return wi((function(){var t=ti.transition;ti.transition=1;try{i(e)}finally{ti.transition=t}}),[e]),a},useTransition:function(){var e=vi(hi)[0];return[Ci().current,e]},useMutableSource:gi,useOpaqueIdentifier:function(){return vi(hi)[0]},unstable_isNewReconciler:!1},Wi=s.ReactCurrentOwner,Ui=!1;function Vi(e,t,a,i){t.child=null===e?Da(t,null,a,i):Pa(t,e.child,a,i)}function Hi(e,t,a,i,r){a=a.render;var n=t.ref;return da(t,r),i=ui(e,t,a,i,n,r),null===e||Ui?(t.flags|=1,Vi(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,dr(e,t,r))}function ji(e,t,a,i,r,n){if(null===e){var o=a.type;return"function"!=typeof o||Co(o)||void 0!==o.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=Io(a.type,null,i,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Gi(e,t,o,i,r,n))}return o=e.child,0==(r&n)&&(r=o.memoizedProps,(a=null!==(a=a.compare)?a:Xt)(r,i)&&e.ref===t.ref)?dr(e,t,n):(t.flags|=1,(e=To(o,i)).ref=t.ref,e.return=t,t.child=e)}function Gi(e,t,a,i,r,n){if(null!==e&&Xt(e.memoizedProps,i)&&e.ref===t.ref){if(Ui=!1,0==(n&r))return t.lanes=e.lanes,dr(e,t,n);0!=(16384&e.flags)&&(Ui=!0)}return Qi(e,t,a,i,n)}function zi(e,t,a){var i=t.pendingProps,r=i.children,n=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},zn(t,a);else{if(0==(1073741824&a))return e=null!==n?n.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},zn(t,e),null;t.memoizedState={baseLanes:0},zn(t,null!==n?n.baseLanes:a)}else null!==n?(i=n.baseLanes|a,t.memoizedState=null):i=a,zn(t,i);return Vi(e,t,r,a),t.child}function $i(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.flags|=128)}function Qi(e,t,a,i,r){var n=rt(a)?at:et.current;return n=it(t,n),da(t,r),a=ui(e,t,a,i,n,r),null===e||Ui?(t.flags|=1,Vi(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,dr(e,t,r))}function Yi(e,t,a,i,r){if(rt(a)){var n=!0;lt(t)}else n=!1;if(da(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ta(t,a,i),ba(t,a,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,d=a.contextType;"object"==typeof d&&null!==d?d=ua(d):d=it(t,d=rt(a)?at:et.current);var u=a.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==i||l!==d)&&Ia(t,o,i,d),ca=!1;var p=t.memoizedState;o.state=p,_a(t,i,o,r),l=t.memoizedState,s!==i||p!==l||tt.current||ca?("function"==typeof u&&(Aa(t,a,u,i),l=t.memoizedState),(s=ca||Ca(t,a,s,i,p,l,d))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=d,i=s):("function"==typeof o.componentDidMount&&(t.flags|=4),i=!1)}else{o=t.stateNode,ha(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:ea(t.type,s),o.props=d,c=t.pendingProps,p=o.context,"object"==typeof(l=a.contextType)&&null!==l?l=ua(l):l=it(t,l=rt(a)?at:et.current);var h=a.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==c||p!==l)&&Ia(t,o,i,l),ca=!1,p=t.memoizedState,o.state=p,_a(t,i,o,r);var f=t.memoizedState;s!==c||p!==f||tt.current||ca?("function"==typeof h&&(Aa(t,a,h,i),f=t.memoizedState),(d=ca||Ca(t,a,d,i,p,f,l))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=d):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),i=!1)}return qi(e,t,a,i,n,r)}function qi(e,t,a,i,r,n){$i(e,t);var o=0!=(64&t.flags);if(!i&&!o)return r&&dt(t,a,!1),dr(e,t,n);i=t.stateNode,Wi.current=t;var s=o&&"function"!=typeof a.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Pa(t,e.child,null,n),t.child=Pa(t,null,s,n)):Vi(e,t,s,n),t.memoizedState=i.state,r&&dt(t,a,!0),t.child}function Zi(e){var t=e.stateNode;t.pendingContext?ot(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ot(0,t.context,!1),Ba(e,t.containerInfo)}var Ki,Xi,Ji,er,tr={dehydrated:null,retryLane:0};function ar(e,t,a){var i,r=t.pendingProps,n=Va.current,o=!1;return(i=0!=(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!=(2&n)),i?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(n|=1),Xe(Va,1&n),null===e?(void 0!==r.fallback&&Ya(t),e=r.children,n=r.fallback,o?(e=ir(t,e,n,a),t.child.memoizedState={baseLanes:a},t.memoizedState=tr,e):"number"==typeof r.unstable_expectedLoadTime?(e=ir(t,e,n,a),t.child.memoizedState={baseLanes:a},t.memoizedState=tr,t.lanes=33554432,e):((a=wo({mode:"visible",children:e},t.mode,a,null)).return=t,t.child=a)):(e.memoizedState,o?(r=nr(e,t,r.children,r.fallback,a),o=t.child,n=e.child.memoizedState,o.memoizedState=null===n?{baseLanes:a}:{baseLanes:n.baseLanes|a},o.childLanes=e.childLanes&~a,t.memoizedState=tr,r):(a=rr(e,t,r.children,a),t.memoizedState=null,a))}function ir(e,t,a,i){var r=e.mode,n=e.child;return t={mode:"hidden",children:t},0==(2&r)&&null!==n?(n.childLanes=0,n.pendingProps=t):n=wo(t,r,0,null),a=bo(a,r,i,null),n.return=e,a.return=e,n.sibling=a,e.child=n,a}function rr(e,t,a,i){var r=e.child;return e=r.sibling,a=To(r,{mode:"visible",children:a}),0==(2&t.mode)&&(a.lanes=i),a.return=t,a.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=a}function nr(e,t,a,i,r){var n=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:a};return 0==(2&n)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=s,null!==(o=a.lastEffect)?(t.firstEffect=a.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):a=To(o,s),null!==e?i=To(e,i):(i=bo(i,n,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,i}function or(e,t){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),la(e.return,t)}function sr(e,t,a,i,r,n){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:r,lastEffect:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=a,o.tailMode=r,o.lastEffect=n)}function lr(e,t,a){var i=t.pendingProps,r=i.revealOrder,n=i.tail;if(Vi(e,t,i.children,a),0!=(2&(i=Va.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&or(e,a);else if(19===e.tag)or(e,a);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Xe(Va,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===Ha(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),sr(t,!1,r,a,n,t.lastEffect);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ha(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}sr(t,!0,a,null,n,t.lastEffect);break;case"together":sr(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function dr(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),un|=t.lanes,0!=(a&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(a=To(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=To(e,e.pendingProps)).return=t;a.sibling=null}return t.child}return null}function ur(e){e.flags|=4}if(q)Ki=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)U(e,a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Xi=function(){},Ji=function(e,t,a,i,r){if((e=e.memoizedProps)!==i){var n=t.stateNode,o=La(Ra.current);a=H(n,a,e,i,r,o),(t.updateQueue=a)&&ur(t)}},er=function(e,t,a,i){a!==i&&ur(t)};else if(Z){Ki=function(e,t,a,i){for(var r=t.child;null!==r;){if(5===r.tag){var n=r.stateNode;a&&i&&(n=Oe(n,r.type,r.memoizedProps,r)),U(e,n)}else if(6===r.tag)n=r.stateNode,a&&i&&(n=Re(n,r.memoizedProps,r)),U(e,n);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.flags)&&(n=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Ki(e,o,!0,n)),null!==(n=o.sibling))){n.return=r,r=n;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};var cr=function(e,t,a,i){for(var r=t.child;null!==r;){if(5===r.tag){var n=r.stateNode;a&&i&&(n=Oe(n,r.type,r.memoizedProps,r)),xe(e,n)}else if(6===r.tag)n=r.stateNode,a&&i&&(n=Re(n,r.memoizedProps,r)),xe(e,n);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.flags)&&(n=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,cr(e,o,!0,n)),null!==(n=o.sibling))){n.return=r,r=n;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xi=function(e){var t=e.stateNode;if(null!==e.firstEffect){var a=t.containerInfo,i=Se(a);cr(i,e,!1,!1),t.pendingChildren=i,ur(e),Pe(a,i)}},Ji=function(e,t,a,i,r){var n=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===i)t.stateNode=n;else{var s=t.stateNode,l=La(Ra.current),d=null;o!==i&&(d=H(s,a,o,i,r,l)),e&&null===d?t.stateNode=n:(n=ke(n,d,a,o,i,t,e,s),V(n,a,i,r,l)&&ur(t),t.stateNode=n,e?ur(t):Ki(n,t,!1,!1))}},er=function(e,t,a,i){a!==i?(e=La(Ma.current),a=La(Ra.current),t.stateNode=G(i,e,a,t),ur(t)):t.stateNode=e.stateNode}}else Xi=function(){},Ji=function(){},er=function(){};function pr(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;null!==a;)null!==a.alternate&&(i=a),a=a.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function hr(e,t,a){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return rt(t.type)&&nt(),null;case 3:return Fa(),Ke(tt),Ke(et),Ja(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Za(t)?ur(t):i.hydrate||(t.flags|=256)),Xi(t),null;case 5:Ua(t);var r=La(Ma.current);if(a=t.type,null!==e&&null!=t.stateNode)Ji(e,t,a,i,r),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(o(166));return null}if(e=La(Ra.current),Za(t)){if(!K)throw Error(o(175));e=Ue(t.stateNode,t.type,t.memoizedProps,r,e,t),t.updateQueue=e,null!==e&&ur(t)}else{var n=W(a,i,r,e,t);Ki(n,t,!1,!1),t.stateNode=n,V(n,a,i,r,e)&&ur(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)er(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(o(166));if(e=La(Ma.current),r=La(Ra.current),Za(t)){if(!K)throw Error(o(176));Ve(t.stateNode,t.memoizedProps,t)&&ur(t)}else t.stateNode=G(i,e,r,t)}return null;case 13:return Ke(Va),i=t.memoizedState,0!=(64&t.flags)?(t.lanes=a,t):(i=null!==i,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Za(t):r=null!==e.memoizedState,i&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Va.current)?0===sn&&(sn=3):(0!==sn&&3!==sn||(sn=4),null===tn||0==(134217727&un)&&0==(134217727&cn)||Vn(tn,rn))),Z&&i&&(t.flags|=4),q&&(i||r)&&(t.flags|=4),null);case 4:return Fa(),Xi(t),null===e&&ie(t.stateNode.containerInfo),null;case 10:return sa(t),null;case 19:if(Ke(Va),null===(i=t.memoizedState))return null;if(r=0!=(64&t.flags),null===(n=i.rendering))if(r)pr(i,!1);else{if(0!==sn||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(n=Ha(e))){for(t.flags|=64,pr(i,!1),null!==(e=n.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,e=a,i=t.child;null!==i;)a=e,(r=i).flags&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(n=r.alternate)?(r.childLanes=0,r.lanes=a,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,r.type=n.type,a=n.dependencies,r.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),i=i.sibling;return Xe(Va,1&Va.current|2),t.child}e=e.sibling}null!==i.tail&&Ht()>vn&&(t.flags|=64,r=!0,pr(i,!1),t.lanes=33554432)}else{if(!r)if(null!==(e=Ha(n))){if(t.flags|=64,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),pr(i,!0),null===i.tail&&"hidden"===i.tailMode&&!n.alternate&&!za)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Ht()-i.renderingStartTime>vn&&1073741824!==a&&(t.flags|=64,r=!0,pr(i,!1),t.lanes=33554432);i.isBackwards?(n.sibling=t.child,t.child=n):(null!==(e=i.last)?e.sibling=n:t.child=n,i.last=n)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Ht(),e.sibling=null,t=Va.current,Xe(Va,r?1&t|2:1&t),e):null;case 23:case 24:return $n(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function fr(e){switch(e.tag){case 1:rt(e.type)&&nt();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Fa(),Ke(tt),Ke(et),Ja(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ua(e),null;case 13:return Ke(Va),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Ke(Va),null;case 4:return Fa(),null;case 10:return sa(e),null;case 23:case 24:return $n(),null;default:return null}}function vr(e,t){try{var a="",i=t;do{a+=Jt(i),i=i.return}while(i);var r=a}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}function mr(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var _r="function"==typeof WeakMap?WeakMap:Map;function gr(e,t,a){(a=fa(-1,a)).tag=3,a.payload={element:null};var i=t.value;return a.callback=function(){yn||(yn=!0,An=i),mr(0,t)},a}function yr(e,t,a){(a=fa(-1,a)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;a.payload=function(){return mr(0,t),i(r)}}var n=e.stateNode;return null!==n&&"function"==typeof n.componentDidCatch&&(a.callback=function(){"function"!=typeof i&&(null===En?En=new Set([this]):En.add(this),mr(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),a}var Ar="function"==typeof WeakSet?WeakSet:Set;function Er(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){uo(e,t)}else t.current=null}function Cr(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var a=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?a:ea(t.type,a),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(q&&256&t.flags&&we(t.stateNode.containerInfo))}throw Error(o(163))}function Tr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&i()}a=a.next}while(a!==t)}}function Ir(e,t,a){switch(a.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=a.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=a.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;i=r.next,0!=(4&(r=r.tag))&&0!=(1&r)&&(oo(a,e),no(a,e)),e=i}while(e!==t)}return;case 1:return e=a.stateNode,4&a.flags&&(null===t?e.componentDidMount():(i=a.elementType===a.type?t.memoizedProps:ea(a.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=a.updateQueue)&&ga(a,t,e));case 3:if(null!==(t=a.updateQueue)){if(e=null,null!==a.child)switch(a.child.tag){case 5:e=N(a.child.stateNode);break;case 1:e=a.child.stateNode}ga(a,t,e)}return;case 5:return e=a.stateNode,void(null===t&&4&a.flags&&ve(e,a.type,a.memoizedProps,a));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(K&&null===a.memoizedState&&(a=a.alternate,null!==a&&(a=a.memoizedState,null!==a&&(a=a.dehydrated,null!==a&&Ge(a)))))}throw Error(o(163))}function br(e,t){if(q)for(var a=e;;){if(5===a.tag){var i=a.stateNode;t?Ce(i):Ie(a.stateNode,a.memoizedProps)}else if(6===a.tag)i=a.stateNode,t?Te(i):be(i,a.memoizedProps);else if((23!==a.tag&&24!==a.tag||null===a.memoizedState||a===e)&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function wr(e,t){if(ct&&"function"==typeof ct.onCommitFiberUnmount)try{ct.onCommitFiberUnmount(ut,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var a=e=e.next;do{var i=a,r=i.destroy;if(i=i.tag,void 0!==r)if(0!=(4&i))oo(t,a);else{i=t;try{r()}catch(e){uo(i,e)}}a=a.next}while(a!==e)}break;case 1:if(Er(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){uo(t,e)}break;case 5:Er(t);break;case 4:q?Rr(e,t):Z&&Z&&(t=t.stateNode.containerInfo,e=Se(t),De(t,e))}}function kr(e,t){for(var a=t;;)if(wr(e,a),null===a.child||q&&4===a.tag){if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else a.child.return=a,a=a.child}function Sr(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xr(e){return 5===e.tag||3===e.tag||4===e.tag}function Pr(e){if(q){e:{for(var t=e.return;null!==t;){if(xr(t))break e;t=t.return}throw Error(o(160))}var a=t;switch(t=a.stateNode,a.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(o(161))}16&a.flags&&(Ee(t),a.flags&=-17);e:t:for(a=e;;){for(;null===a.sibling;){if(null===a.return||xr(a.return)){a=null;break e}a=a.return}for(a.sibling.return=a.return,a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(2&a.flags)continue t;if(null===a.child||4===a.tag)continue t;a.child.return=a,a=a.child}if(!(2&a.flags)){a=a.stateNode;break e}}i?Dr(e,a,t):Or(e,a,t)}}function Dr(e,t,a){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?ge(a,e,t):he(a,e);else if(4!==i&&null!==(e=e.child))for(Dr(e,t,a),e=e.sibling;null!==e;)Dr(e,t,a),e=e.sibling}function Or(e,t,a){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?_e(a,e,t):pe(a,e);else if(4!==i&&null!==(e=e.child))for(Or(e,t,a),e=e.sibling;null!==e;)Or(e,t,a),e=e.sibling}function Rr(e,t){for(var a,i,r=t,n=!1;;){if(!n){n=r.return;e:for(;;){if(null===n)throw Error(o(160));switch(a=n.stateNode,n.tag){case 5:i=!1;break e;case 3:case 4:a=a.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===r.tag||6===r.tag)kr(e,r),i?Ae(a,r.stateNode):ye(a,r.stateNode);else if(4===r.tag){if(null!==r.child){a=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(wr(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Nr(e,t){if(q){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Tr(3,t);case 1:case 12:case 17:return;case 5:var a=t.stateNode;if(null!=a){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var r=t.type,n=t.updateQueue;t.updateQueue=null,null!==n&&me(a,n,r,e,i,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return a=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:a,a);case 3:return void(K&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,je(t.containerInfo))));case 13:return Mr(t),void Lr(t);case 19:return void Lr(t);case 23:case 24:return void br(t,null!==t.memoizedState)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Tr(3,t);case 12:case 23:case 24:return;case 13:return Mr(t),void Lr(t);case 19:return void Lr(t);case 3:K&&((a=t.stateNode).hydrate&&(a.hydrate=!1,je(a.containerInfo)))}e:if(Z){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,De(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Mr(e){null!==e.memoizedState&&(fn=Ht(),q&&br(e.child,!0))}function Lr(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new Ar),t.forEach((function(t){var i=po.bind(null,e,t);a.has(t)||(a.add(t),t.then(i,i))}))}}function Br(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Fr=0,Wr=1,Ur=2,Vr=3,Hr=4;if("function"==typeof Symbol&&Symbol.for){var jr=Symbol.for;Fr=jr("selector.component"),Wr=jr("selector.has_pseudo_class"),Ur=jr("selector.role"),Vr=jr("selector.test_id"),Hr=jr("selector.text")}function Gr(e){var t=X(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ne(e)))throw Error(o(362));return e.stateNode.current}function zr(e,t){switch(t.$$typeof){case Fr:if(e.type===t.value)return!0;break;case Wr:e:{t=t.value,e=[e,0];for(var a=0;a<e.length;){var i=e[a++],r=e[a++],n=t[r];if(5!==i.tag||!le(i)){for(;null!=n&&zr(i,n);)n=t[++r];if(r===t.length){t=!0;break e}for(i=i.child;null!==i;)e.push(i,r),i=i.sibling}}t=!1}return t;case Ur:if(5===e.tag&&de(e.stateNode,t.value))return!0;break;case Hr:if((5===e.tag||6===e.tag)&&null!==(e=se(e))&&0<=e.indexOf(t.value))return!0;break;case Vr:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365,t))}return!1}function $r(e){switch(e.$$typeof){case Fr:return"<"+(k(e.value)||"Unknown")+">";case Wr:return":has("+($r(e)||"")+")";case Ur:return'[role="'+e.value+'"]';case Hr:return'"'+e.value+'"';case Vr:return'[data-testname="'+e.value+'"]';default:throw Error(o(365,e))}}function Qr(e,t){var a=[];e=[e,0];for(var i=0;i<e.length;){var r=e[i++],n=e[i++],o=t[n];if(5!==r.tag||!le(r)){for(;null!=o&&zr(r,o);)o=t[++n];if(n===t.length)a.push(r);else for(r=r.child;null!==r;)e.push(r,n),r=r.sibling}}return a}function Yr(e,t){if(!re)throw Error(o(363));e=Qr(e=Gr(e),t),t=[],e=Array.from(e);for(var a=0;a<e.length;){var i=e[a++];if(5===i.tag)le(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}var qr=null;var Zr=Math.ceil,Kr=s.ReactCurrentDispatcher,Xr=s.ReactCurrentOwner,Jr=s.IsSomeRendererActing,en=0,tn=null,an=null,rn=0,nn=0,on=Ze(0),sn=0,ln=null,dn=0,un=0,cn=0,pn=0,hn=null,fn=0,vn=1/0;function mn(){vn=Ht()+500}var _n,gn=null,yn=!1,An=null,En=null,Cn=!1,Tn=null,In=90,bn=[],wn=[],kn=null,Sn=0,xn=null,Pn=-1,Dn=0,On=0,Rn=null,Nn=!1;function Mn(){return 0!=(48&en)?Ht():-1!==Pn?Pn:Pn=Ht()}function Ln(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===jt()?1:2;if(0===Dn&&(Dn=dn),0!==qt.transition){0!==On&&(On=null!==hn?hn.pendingLanes:0),e=Dn;var t=4186112&~On;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=jt(),0!=(4&en)&&98===e?e=_t(12,Dn):e=_t(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Dn),e}function Bn(e,t,a){if(50<Sn)throw Sn=0,xn=null,Error(o(185));if(null===(e=Fn(e,t)))return null;At(e,t,a),e===tn&&(cn|=t,4===sn&&Vn(e,rn));var i=jt();1===t?0!=(8&en)&&0==(48&en)?Hn(e):(Wn(e,a),0===en&&(mn(),Qt())):(0==(4&en)||98!==i&&99!==i||(null===kn?kn=new Set([e]):kn.add(e)),Wn(e,a)),hn=e}function Fn(e,t){e.lanes|=t;var a=e.alternate;for(null!==a&&(a.lanes|=t),a=e,e=e.return;null!==e;)e.childLanes|=t,null!==(a=e.alternate)&&(a.childLanes|=t),a=e,e=e.return;return 3===a.tag?a.stateNode:null}function Wn(e,t){for(var a=e.callbackNode,i=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Et(s),d=1<<l,u=n[l];if(-1===u){if(0==(d&i)||0!=(d&r)){u=t,ft(d);var c=ht;n[l]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=d);s&=~d}if(i=vt(e,e===tn?rn:0),t=ht,0===i)null!==a&&(a!==Lt&&wt(a),e.callbackNode=null,e.callbackPriority=0);else{if(null!==a){if(e.callbackPriority===t)return;a!==Lt&&wt(a)}15===t?(a=Hn.bind(null,e),null===Ft?(Ft=[a],Wt=bt(Dt,Yt)):Ft.push(a),a=Lt):14===t?a=$t(99,Hn.bind(null,e)):(a=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),a=$t(a,Un.bind(null,e))),e.callbackPriority=t,e.callbackNode=a}}function Un(e){if(Pn=-1,On=Dn=0,0!=(48&en))throw Error(o(327));var t=e.callbackNode;if(ro()&&e.callbackNode!==t)return null;var a=vt(e,e===tn?rn:0);if(0===a)return null;var i=a,r=en;en|=16;var n=qn();for(tn===e&&rn===i||(mn(),Qn(e,i));;)try{Xn();break}catch(t){Yn(e,t)}if(na(),Kr.current=n,en=r,null!==an?i=0:(tn=null,rn=0,i=sn),0!=(dn&cn))Qn(e,0);else if(0!==i){if(2===i&&(en|=64,e.hydrate&&(e.hydrate=!1,we(e.containerInfo)),0!==(a=mt(e))&&(i=Zn(e,a))),1===i)throw t=ln,Qn(e,0),Vn(e,a),Wn(e,Ht()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=a,i){case 0:case 1:throw Error(o(345));case 2:case 5:to(e);break;case 3:if(Vn(e,a),(62914560&a)===a&&10<(i=fn+500-Ht())){if(0!==vt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){Mn(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=z(to.bind(null,e),i);break}to(e);break;case 4:if(Vn(e,a),(4186112&a)===a)break;for(i=e.eventTimes,r=-1;0<a;){var s=31-Et(a);n=1<<s,(s=i[s])>r&&(r=s),a&=~n}if(a=r,10<(a=(120>(a=Ht()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Zr(a/1960))-a)){e.timeoutHandle=z(to.bind(null,e),a);break}to(e);break;default:throw Error(o(329))}}return Wn(e,Ht()),e.callbackNode===t?Un.bind(null,e):null}function Vn(e,t){for(t&=~pn,t&=~cn,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-Et(t),i=1<<a;e[a]=-1,t&=~i}}function Hn(e){if(0!=(48&en))throw Error(o(327));if(ro(),e===tn&&0!=(e.expiredLanes&rn)){var t=rn,a=Zn(e,t);0!=(dn&cn)&&(a=Zn(e,t=vt(e,t)))}else a=Zn(e,t=vt(e,0));if(0!==e.tag&&2===a&&(en|=64,e.hydrate&&(e.hydrate=!1,we(e.containerInfo)),0!==(t=mt(e))&&(a=Zn(e,t))),1===a)throw a=ln,Qn(e,0),Vn(e,t),Wn(e,Ht()),a;return e.finishedWork=e.current.alternate,e.finishedLanes=t,to(e),Wn(e,Ht()),null}function jn(e,t){var a=en;en|=1;try{return e(t)}finally{0===(en=a)&&(mn(),Qt())}}function Gn(e,t){var a=en;if(0!=(48&a))return e(t);en|=1;try{if(e)return zt(99,e.bind(null,t))}finally{en=a,Qt()}}function zn(e,t){Xe(on,nn),nn|=t,dn|=t}function $n(){nn=on.current,Ke(on)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==Q&&(e.timeoutHandle=Q,$(a)),null!==an)for(a=an.return;null!==a;){var i=a;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&nt();break;case 3:Fa(),Ke(tt),Ke(et),Ja();break;case 5:Ua(i);break;case 4:Fa();break;case 13:case 19:Ke(Va);break;case 10:sa(i);break;case 23:case 24:$n()}a=a.return}tn=e,an=To(e.current,null),rn=nn=dn=t,sn=0,ln=null,pn=cn=un=0}function Yn(e,t){for(;;){var a=an;try{if(na(),ei.current=Mi,oi){for(var i=ii.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}oi=!1}if(ai=0,ni=ri=ii=null,si=!1,Xr.current=null,null===a||null===a.return){sn=1,ln=t,an=null;break}e:{var n=e,o=a.return,s=a,l=t;if(t=rn,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var d=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var c=0!=(1&Va.current),p=o;do{var h;if(h=13===p.tag){var f=p.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var v=p.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!c)}}if(h){var m=p.updateQueue;if(null===m){var _=new Set;_.add(d),p.updateQueue=_}else m.add(d);if(0==(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=fa(-1,1);g.tag=2,va(s,g)}s.lanes|=1;break e}l=void 0,s=t;var y=n.pingCache;if(null===y?(y=n.pingCache=new _r,l=new Set,y.set(d,l)):void 0===(l=y.get(d))&&(l=new Set,y.set(d,l)),!l.has(s)){l.add(s);var A=co.bind(null,n,d,s);d.then(A,A)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((k(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==sn&&(sn=2),l=vr(l,s),p=o;do{switch(p.tag){case 3:n=l,p.flags|=4096,t&=-t,p.lanes|=t,ma(p,gr(0,n,t));break e;case 1:n=l;var E=p.type,C=p.stateNode;if(0==(64&p.flags)&&("function"==typeof E.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===En||!En.has(C)))){p.flags|=4096,t&=-t,p.lanes|=t,ma(p,yr(p,n,t));break e}}p=p.return}while(null!==p)}eo(a)}catch(e){t=e,an===a&&null!==a&&(an=a=a.return);continue}break}}function qn(){var e=Kr.current;return Kr.current=Mi,null===e?Mi:e}function Zn(e,t){var a=en;en|=16;var i=qn();for(tn===e&&rn===t||Qn(e,t);;)try{Kn();break}catch(t){Yn(e,t)}if(na(),en=a,Kr.current=i,null!==an)throw Error(o(261));return tn=null,rn=0,sn}function Kn(){for(;null!==an;)Jn(an)}function Xn(){for(;null!==an&&!kt();)Jn(an)}function Jn(e){var t=_n(e.alternate,e,nn);e.memoizedProps=e.pendingProps,null===t?eo(e):an=t,Xr.current=null}function eo(e){var t=e;do{var a=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(a=hr(a,t,nn)))return void(an=a);if(24!==(a=t).tag&&23!==a.tag||null===a.memoizedState||0!=(1073741824&nn)||0==(4&a.mode)){for(var i=0,r=a.child;null!==r;)i|=r.lanes|r.childLanes,r=r.sibling;a.childLanes=i}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(a=fr(t)))return a.flags&=2047,void(an=a);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(an=t);an=t=e}while(null!==t);0===sn&&(sn=5)}function to(e){var t=jt();return zt(99,ao.bind(null,e,t)),null}function ao(e,t){do{ro()}while(null!==Tn);if(0!=(48&en))throw Error(o(327));var a=e.finishedWork;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(o(177));e.callbackNode=null;var i=a.lanes|a.childLanes,r=i,n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<n;){var d=31-Et(n),u=1<<d;r[d]=0,s[d]=-1,l[d]=-1,n&=~u}if(null!==kn&&0==(24&i)&&kn.has(e)&&kn.delete(e),e===tn&&(an=tn=null,rn=0),1<a.flags?null!==a.lastEffect?(a.lastEffect.nextEffect=a,i=a.firstEffect):i=a:i=a.firstEffect,null!==i){r=en,en|=32,Xr.current=null,Rn=B(e.containerInfo),Nn=!1,gn=i;do{try{io()}catch(e){if(null===gn)throw Error(o(330));uo(gn,e),gn=gn.nextEffect}}while(null!==gn);Rn=null,gn=i;do{try{for(s=e;null!==gn;){var c=gn.flags;if(16&c&&q&&Ee(gn.stateNode),128&c){var p=gn.alternate;if(null!==p){var h=p.ref;null!==h&&("function"==typeof h?h(null):h.current=null)}}switch(1038&c){case 2:Pr(gn),gn.flags&=-3;break;case 6:Pr(gn),gn.flags&=-3,Nr(gn.alternate,gn);break;case 1024:gn.flags&=-1025;break;case 1028:gn.flags&=-1025,Nr(gn.alternate,gn);break;case 4:Nr(gn.alternate,gn);break;case 8:l=s,n=gn,q?Rr(l,n):kr(l,n);var f=n.alternate;Sr(n),null!==f&&Sr(f)}gn=gn.nextEffect}}catch(e){if(null===gn)throw Error(o(330));uo(gn,e),gn=gn.nextEffect}}while(null!==gn);Nn&&ae(),F(e.containerInfo),e.current=a,gn=i;do{try{for(c=e;null!==gn;){var v=gn.flags;if(36&v&&Ir(c,gn.alternate,gn),128&v){p=void 0;var m=gn.ref;if(null!==m){var _=gn.stateNode;if(5===gn.tag)p=N(_);else p=_;"function"==typeof m?m(p):m.current=p}}gn=gn.nextEffect}}catch(e){if(null===gn)throw Error(o(330));uo(gn,e),gn=gn.nextEffect}}while(null!==gn);gn=null,Bt(),en=r}else e.current=a;if(Cn)Cn=!1,Tn=e,In=t;else for(gn=i;null!==gn;)t=gn.nextEffect,gn.nextEffect=null,8&gn.flags&&((v=gn).sibling=null,v.stateNode=null),gn=t;if(0===(i=e.pendingLanes)&&(En=null),1===i?e===xn?Sn++:(Sn=0,xn=e):Sn=0,a=a.stateNode,ct&&"function"==typeof ct.onCommitFiberRoot)try{ct.onCommitFiberRoot(ut,a,void 0,64==(64&a.current.flags))}catch(e){}if(Wn(e,Ht()),yn)throw yn=!1,e=An,An=null,e;return 0!=(8&en)||Qt(),null}function io(){for(;null!==gn;){var e=gn.alternate;Nn||null===Rn||(0!=(8&gn.flags)?O(gn,Rn)&&(Nn=!0,te()):13===gn.tag&&Br(e,gn)&&O(gn,Rn)&&(Nn=!0,te()));var t=gn.flags;0!=(256&t)&&Cr(e,gn),0==(512&t)||Cn||(Cn=!0,$t(97,(function(){return ro(),null}))),gn=gn.nextEffect}}function ro(){if(90!==In){var e=97<In?97:In;return In=90,zt(e,so)}return!1}function no(e,t){bn.push(t,e),Cn||(Cn=!0,$t(97,(function(){return ro(),null})))}function oo(e,t){wn.push(t,e),Cn||(Cn=!0,$t(97,(function(){return ro(),null})))}function so(){if(null===Tn)return!1;var e=Tn;if(Tn=null,0!=(48&en))throw Error(o(331));var t=en;en|=32;var a=wn;wn=[];for(var i=0;i<a.length;i+=2){var r=a[i],n=a[i+1],s=r.destroy;if(r.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===n)throw Error(o(330));uo(n,e)}}for(a=bn,bn=[],i=0;i<a.length;i+=2){r=a[i],n=a[i+1];try{var l=r.create;r.destroy=l()}catch(e){if(null===n)throw Error(o(330));uo(n,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return en=t,Qt(),!0}function lo(e,t,a){va(e,t=gr(0,t=vr(a,t),1)),t=Mn(),null!==(e=Fn(e,1))&&(At(e,1,t),Wn(e,t))}function uo(e,t){if(3===e.tag)lo(e,e,t);else for(var a=e.return;null!==a;){if(3===a.tag){lo(a,e,t);break}if(1===a.tag){var i=a.stateNode;if("function"==typeof a.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===En||!En.has(i))){var r=yr(a,e=vr(t,e),1);if(va(a,r),r=Mn(),null!==(a=Fn(a,1)))At(a,1,r),Wn(a,r);else if("function"==typeof i.componentDidCatch&&(null===En||!En.has(i)))try{i.componentDidCatch(t,e)}catch(e){}break}}a=a.return}}function co(e,t,a){var i=e.pingCache;null!==i&&i.delete(t),t=Mn(),e.pingedLanes|=e.suspendedLanes&a,tn===e&&(rn&a)===a&&(4===sn||3===sn&&(62914560&rn)===rn&&500>Ht()-fn?Qn(e,0):pn|=a),Wn(e,t)}function po(e,t){var a=e.stateNode;null!==a&&a.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===jt()?1:2:(0===Dn&&(Dn=dn),0===(t=gt(62914560&~Dn))&&(t=4194304))),a=Mn(),null!==(e=Fn(e,t))&&(At(e,t,a),Wn(e,a))}_n=function(e,t,a){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||tt.current)Ui=!0;else{if(0==(a&i)){switch(Ui=!1,t.tag){case 3:Zi(t),Ka();break;case 5:Wa(t);break;case 1:rt(t.type)&&lt(t);break;case 4:Ba(t,t.stateNode.containerInfo);break;case 10:oa(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!=(a&t.child.childLanes)?ar(e,t,a):(Xe(Va,1&Va.current),null!==(t=dr(e,t,a))?t.sibling:null);Xe(Va,1&Va.current);break;case 19:if(i=0!=(a&t.childLanes),0!=(64&e.flags)){if(i)return lr(e,t,a);t.flags|=64}var r=t.memoizedState;if(null!==r&&(r.rendering=null,r.tail=null,r.lastEffect=null),Xe(Va,Va.current),i)break;return null;case 23:case 24:return t.lanes=0,zi(e,t,a)}return dr(e,t,a)}Ui=0!=(16384&e.flags)}else Ui=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=it(t,et.current),da(t,a),r=ui(null,t,i,e,r,a),t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(i)){var n=!0;lt(t)}else n=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,pa(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&Aa(t,i,s,e),r.updater=Ea,t.stateNode=r,r._reactInternals=t,ba(t,i,e,a),t=qi(null,t,i,!0,n,a)}else t.tag=0,Vi(null,t,r,a),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"==typeof e)return Co(e)?1:0;if(null!=e){if((e=e.$$typeof)===v)return 11;if(e===g)return 14}return 2}(r),e=ea(r,e),n){case 0:t=Qi(null,t,r,e,a);break e;case 1:t=Yi(null,t,r,e,a);break e;case 11:t=Hi(null,t,r,e,a);break e;case 14:t=ji(null,t,r,ea(r.type,e),i,a);break e}throw Error(o(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Qi(e,t,i,r=t.elementType===i?r:ea(i,r),a);case 1:return i=t.type,r=t.pendingProps,Yi(e,t,i,r=t.elementType===i?r:ea(i,r),a);case 3:if(Zi(t),i=t.updateQueue,null===e||null===i)throw Error(o(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ha(e,t),_a(t,i,null,a),(i=t.memoizedState.element)===r)Ka(),t=dr(e,t,a);else{if((n=(r=t.stateNode).hydrate)&&(K?(Ga=We(t.stateNode.containerInfo),ja=t,n=za=!0):n=!1),n){if(K&&null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)n=e[r],s=e[r+1],Y?n._workInProgressVersionPrimary=s:n._workInProgressVersionSecondary=s,Xa.push(n);for(a=Da(t,null,i,a),t.child=a;a;)a.flags=-3&a.flags|1024,a=a.sibling}else Vi(e,t,i,a),Ka();t=t.child}return t;case 5:return Wa(t),null===e&&Ya(t),i=t.type,r=t.pendingProps,n=null!==e?e.memoizedProps:null,s=r.children,j(i,r)?s=null:null!==n&&j(i,n)&&(t.flags|=16),$i(e,t),Vi(e,t,s,a),t.child;case 6:return null===e&&Ya(t),null;case 13:return ar(e,t,a);case 4:return Ba(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Pa(t,null,i,a):Vi(e,t,i,a),t.child;case 11:return i=t.type,r=t.pendingProps,Hi(e,t,i,r=t.elementType===i?r:ea(i,r),a);case 7:return Vi(e,t,t.pendingProps,a),t.child;case 8:case 12:return Vi(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,oa(t,n=r.value),null!==s){var l=s.value;if(0===(n=Zt(l,n)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,n):1073741823))){if(s.children===r.children&&!tt.current){t=dr(e,t,a);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var d=l.dependencies;if(null!==d){s=l.child;for(var u=d.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&n)){1===l.tag&&((u=fa(-1,a&-a)).tag=2,va(l,u)),l.lanes|=a,null!==(u=l.alternate)&&(u.lanes|=a),la(l.return,a),d.lanes|=a;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Vi(e,t,r.children,a),t=t.child}return t;case 9:return r=t.type,i=(n=t.pendingProps).children,da(t,a),i=i(r=ua(r,n.unstable_observedBits)),t.flags|=1,Vi(e,t,i,a),t.child;case 14:return n=ea(r=t.type,t.pendingProps),ji(e,t,r,n=ea(r.type,n),i,a);case 15:return Gi(e,t,t.type,t.pendingProps,i,a);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ea(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,rt(i)?(e=!0,lt(t)):e=!1,da(t,a),Ta(t,i,r),ba(t,i,r,a),qi(null,t,i,!0,e,a);case 19:return lr(e,t,a);case 23:case 24:return zi(e,t,a)}throw Error(o(156,t.tag))};var ho={current:!1},fo=n.unstable_flushAllWithoutAsserting,vo="function"==typeof fo;function mo(){if(void 0!==fo)return fo();for(var e=!1;ro();)e=!0;return e}function _o(e){try{mo(),function(e){if(null===qr)try{var a=("require"+Math.random()).slice(0,7);qr=(t&&t[a]).call(t,"timers").setImmediate}catch(e){qr=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}qr(e)}((function(){mo()?_o(e):e()}))}catch(t){e(t)}}var go=0,yo=!1;function Ao(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(e,t,a,i){return new Ao(e,t,a,i)}function Co(e){return!(!(e=e.prototype)||!e.isReactComponent)}function To(e,t){var a=e.alternate;return null===a?((a=Eo(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null),a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Io(e,t,a,i,r,n){var s=2;if(i=e,"function"==typeof e)Co(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case u:return bo(a.children,r,n,t);case E:s=8,r|=16;break;case c:s=8,r|=1;break;case p:return(e=Eo(12,a,t,8|r)).elementType=p,e.type=p,e.lanes=n,e;case m:return(e=Eo(13,a,t,r)).type=m,e.elementType=m,e.lanes=n,e;case _:return(e=Eo(19,a,t,r)).elementType=_,e.lanes=n,e;case C:return wo(a,r,n,t);case T:return(e=Eo(24,a,t,r)).elementType=T,e.lanes=n,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case f:s=9;break e;case v:s=11;break e;case g:s=14;break e;case y:s=16,i=null;break e;case A:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Eo(s,a,t,r)).elementType=e,t.type=i,t.lanes=n,t}function bo(e,t,a,i){return(e=Eo(7,e,i,t)).lanes=a,e}function wo(e,t,a,i){return(e=Eo(23,e,i,t)).elementType=C,e.lanes=a,e}function ko(e,t,a){return(e=Eo(6,e,null,t)).lanes=a,e}function So(e,t,a){return(t=Eo(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xo(e,t,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.pendingContext=this.context=null,this.hydrate=a,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),K&&(this.mutableSourceEagerHydrationData=null)}function Po(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=D(t))?null:e.stateNode}function Do(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function Oo(e,t){Do(e,t),(e=e.alternate)&&Do(e,t)}function Ro(e){return null===(e=D(e))?null:e.stateNode}function No(){return null}return a.IsThisRendererActing=ho,a.act=function(e){function t(){go--,Jr.current=a,ho.current=i}!1===yo&&(yo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),go++;var a=Jr.current,i=ho.current;Jr.current=!0,ho.current=!0;try{var r=jn(e)}catch(e){throw t(),e}if(null!==r&&"object"==typeof r&&"function"==typeof r.then)return{then:function(e,i){r.then((function(){1<go||!0===vo&&!0===a?(t(),e()):_o((function(a){t(),a?i(a):e()}))}),(function(e){t(),i(e)}))}};try{1!==go||!1!==vo&&!1!==a||mo(),t()}catch(e){throw t(),e}return{then:function(e){e()}}},a.attemptContinuousHydration=function(e){13===e.tag&&(Bn(e,67108864,Mn()),Oo(e,67108864))},a.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Mn(),a=Ln(e);Bn(e,a,t),Oo(e,a)}},a.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var a=ft(t.pendingLanes);t.expiredLanes|=a&t.pendingLanes,Wn(t,Ht()),0==(48&en)&&(mn(),Qt())}break;case 13:var i=Mn();Gn((function(){return Bn(e,1,i)})),Oo(e,4)}},a.attemptUserBlockingHydration=function(e){13===e.tag&&(Bn(e,4,Mn()),Oo(e,4))},a.batchedEventUpdates=function(e,t){var a=en;en|=2;try{return e(t)}finally{0===(en=a)&&(mn(),Qt())}},a.batchedUpdates=jn,a.createComponentSelector=function(e){return{$$typeof:Fr,value:e}},a.createContainer=function(e,t,a){return e=new xo(e,t,a),t=Eo(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,pa(t),e},a.createHasPsuedoClassSelector=function(e){return{$$typeof:Wr,value:e}},a.createPortal=function(e,t,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:d,key:null==i?null:""+i,children:e,containerInfo:t,implementation:a}},a.createRoleSelector=function(e){return{$$typeof:Ur,value:e}},a.createTestNameSelector=function(e){return{$$typeof:Vr,value:e}},a.createTextSelector=function(e){return{$$typeof:Hr,value:e}},a.deferredUpdates=function(e){return zt(97,e)},a.discreteUpdates=function(e,t,a,i,r){var n=en;en|=4;try{return zt(98,e.bind(null,t,a,i,r))}finally{0===(en=n)&&(mn(),Qt())}},a.findAllNodes=Yr,a.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Yr(e,t),e=[];for(var a=0;a<t.length;a++)e.push(oe(t[a]));for(t=e.length-1;0<t;t--)for(var i=(a=e[t]).x,r=i+a.width,n=a.y,s=n+a.height,l=t-1;0<=l;l--)if(t!==l){var d=e[l],u=d.x,c=u+d.width,p=d.y,h=p+d.height;if(i>=u&&n>=p&&r<=c&&s<=h){e.splice(t,1);break}if(!(i!==u||a.width!==d.width||h<n||p>s)){p>n&&(d.height+=p-n,d.y=n),h<s&&(d.height=s-p),e.splice(t,1);break}if(!(n!==p||a.height!==d.height||c<i||u>r)){u>i&&(d.width+=u-i,d.x=i),c<r&&(d.width=r-u),e.splice(t,1);break}}return e},a.findHostInstance=Po,a.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},a.findHostInstanceWithWarning=function(e){return Po(e)},a.flushControlled=function(e){var t=en;en|=1;try{zt(99,e)}finally{0===(en=t)&&(mn(),Qt())}},a.flushDiscreteUpdates=function(){0==(49&en)&&(function(){if(null!==kn){var e=kn;kn=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Wn(e,Ht())}))}Qt()}(),ro())},a.flushPassiveEffects=ro,a.flushSync=Gn,a.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Qr(e=Gr(e),t),t=Array.from(t),e=0;e<t.length;){var a=t[e++];if(!le(a)){if(5===a.tag&&ue(a.stateNode))return!0;for(a=a.child;null!==a;)t.push(a),a=a.sibling}}return!1},a.getCurrentUpdateLanePriority=function(){return pt},a.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var a=0,i=[];e=[Gr(e),0];for(var r=0;r<e.length;){var n=e[r++],s=e[r++],l=t[s];if((5!==n.tag||!le(n))&&(zr(n,l)&&(i.push($r(l)),++s>a&&(a=s)),s<t.length))for(n=n.child;null!==n;)e.push(n,s),n=n.sibling}if(a<t.length){for(e=[];a<t.length;a++)e.push($r(t[a]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},a.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?N(e.child.stateNode):e.child.stateNode:null},a.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Ro,findFiberByHostInstance:e.findFiberByHostInstance||No,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ut=t.inject(e),ct=t}catch(e){}e=!0}return e},a.observeVisibleRects=function(e,t,a,i){if(!re)throw Error(o(363));e=Yr(e,t);var r=ce(e,a,i).disconnect;return{disconnect:function(){r()}}},a.registerMutableSourceForHydration=function(e,t){var a=t._getVersion;a=a(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,a]:e.mutableSourceEagerHydrationData.push(t,a)},a.runWithPriority=function(e,t){var a=pt;try{return pt=e,t()}finally{pt=a}},a.shouldSuspend=function(){return!1},a.unbatchedUpdates=function(e,t){var a=en;en&=-2,en|=8;try{return e(t)}finally{0===(en=a)&&(mn(),Qt())}},a.updateContainer=function(e,t,a,i){var r=t.current,n=Mn(),s=Ln(r);e:if(a){t:{if(S(a=a._reactInternals)!==a||1!==a.tag)throw Error(o(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(rt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===a.tag){var d=a.type;if(rt(d)){a=st(a,d,l);break e}}a=l}else a=Je;return null===t.context?t.context=a:t.pendingContext=a,(t=fa(n,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),va(r,t),Bn(r,s,n),s},a}}}),gu=lu({"../../node_modules/.pnpm/react-reconciler@0.26.2_react@17.0.2/node_modules/react-reconciler/index.js"(e,t){t.exports=_u()}}),yu=du(fu()),Au=du(gu()),Eu=/([+-]?\d+(?:\.\d+)?)apx/g,Cu=/^\s*#[0-9a-fA-F]{3}\s*$/,Tu=/^\s*#[0-9a-fA-F]{3,6}\s*$/,Iu=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,bu=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,wu=/px$/,ku=(e,t)=>{return!1===t||"number"==typeof e?e:wu.test(e)?Number(e.replace(wu,""))||0:(a=e,Number(a).toString()===a?parseInt(e,10):e);var a},Su=e=>{if("string"==typeof e&&Cu.test(e)){var[t,a,i]=e.slice(1);return`#${t}${t}${a}${a}${i}${i}`}return e},xu=(e,t,a,i)=>{if("string"!=typeof a||!bu.test(a))return!1;var[r,n,o,s]=bu.exec(a).slice(1,5).map((e=>Number(e))),l=e=>e.toString(16);return e.color=`#${l(r)}${l(n)}${l(o)}`,null==i.opacity&&(e.opacity=Number(s)),!0},Pu=(e,t,a,i,r)=>["padding","margin"].includes(t)?((e,t,a,i)=>{var r=Array.isArray(a)?a:(null==a?"":a).toString().split(/\s+/),n=null,o=null,s=null,l=null;switch(r.length){case 1:[n]=r,[o]=r,[s]=r,[l]=r;break;case 2:[n,o]=r,[s,l]=r;break;case 3:[n,o,s]=r,l=o;break;case 4:[n,l,s,o]=r;break;default:return!0}return Object.assign(e,{[`${t}Top`]:ku(n,i),[`${t}Left`]:ku(o,i),[`${t}Bottom`]:ku(s,i),[`${t}Right`]:ku(l,i)}),!0})(e,t,a,i):"border"===t?((e,t,a,i)=>{var r=(a||"").toString().split(/\s+/);switch(r.length){case 1:return e.borderColor=Su(r[0]),!0;case 2:return e.borderWidth=ku(r[0],i),e.borderColor=Su(r[1]),!0;case 3:return e.borderWidth=ku(r[0],i),e.borderColor=Su(r[2]),!0;default:return!0}})(e,0,a,i):"background"===t&&(Tu.test(r[t])?e.backgroundColor=Su(r[t]):(Iu.test(r[t])||bu.test(r[t])||r[t].includes("linear-gradient"))&&(e.backgroundColor=r[t]),!0),Du=(e={},{removePx:t,splitShorthand:a=!1,convertRgbaColor:i=!1,convertDisplayName:r=!1,convertRotate:n=!0,ignorePositionStatic:o=!1}={})=>{var s={};for(var l of Object.keys(e)){var d=e[l],u=!1;if(i&&"color"===l?u=xu(s,0,d,e):a&&(u=Pu(s,l,d,t,e)),r&&"display"===l)s.hidden="none"===e[l];else if(n&&"rotate"===l){var c=e[l];s.rotate="string"==typeof c?Number(c.replace("deg",""))||0:c}else o&&"position"===l&&"static"===e[l]||u||(s[l]=Su(ku(e[l],t)))}return s};((e,t)=>{for(var a in t)Zd(e,a,{get:t[a],enumerable:!0})})({},{ADELEMENTTYPE:()=>Up,APN:()=>Jp,AccountStatus:()=>Cp,AccountType:()=>Fp,ActionType:()=>Bp,AdFreeType:()=>$p,AdRawType:()=>Yp,AdStrategyType:()=>Jc,AdUnitStatus:()=>Rp,AddrType:()=>fh,AppServiceType:()=>qp,BackgroundColor:()=>dp,Carrier:()=>nh,CarrierType:()=>Xp,CompressJsonEntry:()=>Gp,ConnectionType:()=>rh,ContentTagType:()=>cp,ContentWordColor:()=>pp,CouponTag:()=>hp,CrtSize:()=>ap,DestType:()=>tp,DeviceType:()=>Hp,DymamicAdType:()=>jp,EffectStateType:()=>Op,EntityVersion:()=>uh,FeedJumpVisibleOption:()=>oh,FinderRedPacketCoverStatus:()=>lh,Format:()=>th,GRAYTYPE:()=>Vp,ItemType:()=>Lp,MMFinderJumpConfigPrefix:()=>sh,MaterialContentType:()=>sp,MonetizeMethod:()=>mp,MonetizeMethodOp:()=>_p,MonetizeMethodStatus:()=>gp,MonetizeOperationSrc:()=>yp,NameType:()=>hh,NetType:()=>ih,NetworkType:()=>Kp,NoAdReason:()=>vp,OpenMode:()=>np,OperateType:()=>Wp,OperatorSystem:()=>ah,OsType:()=>Zp,PlayableOrientation:()=>op,PosType:()=>ep,ProductType:()=>rp,PublisherAdSlot:()=>Ap,PublisherAdSlotStatus:()=>Ep,QueryType:()=>ph,QuestSettProgress:()=>bp,QuestSettStatus:()=>Tp,QuestSettStatusInner:()=>Ip,RequestSource:()=>Xc,RequestType:()=>zp,ResourceType:()=>wp,RewriteSenGradeType:()=>ch,SegVersion:()=>dh,ShowType:()=>fp,SlotOpenStateType:()=>Dp,SnsMsgType:()=>Mp,Source:()=>eh,TemplateCompressType:()=>Qp,TitleTagType:()=>lp,TitleWordColor:()=>up,VideoPlayMode:()=>Sp,VideoPlayReportType:()=>Pp,VideoPlayType:()=>kp,VideoStopType:()=>xp,WeappType:()=>Np,enPageType:()=>ip});var Ou,Ru,Nu,Mu,Lu,Bu,Fu,Wu,Uu,Vu,Hu,ju,Gu,zu,$u,Qu,Yu,qu,Zu,Ku,Xu,Ju,ec,tc,ac,ic,rc,nc,oc,sc,lc,dc,uc,cc,pc,hc,fc,vc,mc,_c,gc,yc,Ac,Ec,Cc,Tc,Ic,bc,wc,kc,Sc,xc,Pc,Dc,Oc,Rc,Nc,Mc,Lc,Bc,Fc,Wc,Uc,Vc,Hc,jc,Gc,zc,$c,Qc,Yc,qc,Zc,Kc,Xc=((Ou=Xc||{})[Ou.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",Ou[Ou.SOURCE_MP=1]="SOURCE_MP",Ou[Ou.SOURCE_OSS=2]="SOURCE_OSS",Ou[Ou.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",Ou[Ou.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",Ou[Ou.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",Ou[Ou.SOURCE_WEPAY=6]="SOURCE_WEPAY",Ou[Ou.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",Ou[Ou.SOURCE_WEAPP=8]="SOURCE_WEAPP",Ou[Ou.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS",Ou),Jc=((Ru=Jc||{})[Ru.NORMAL_AD=0]="NORMAL_AD",Ru[Ru.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD",Ru),ep=((Nu=ep||{})[Nu.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",Nu[Nu.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",Nu[Nu.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",Nu[Nu.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",Nu[Nu.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",Nu[Nu.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",Nu[Nu.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",Nu[Nu.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",Nu[Nu.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",Nu[Nu.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",Nu[Nu.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",Nu[Nu.POS_TYPE_BOX=11]="POS_TYPE_BOX",Nu[Nu.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",Nu[Nu.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",Nu[Nu.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",Nu[Nu.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",Nu[Nu.POS_TYPE_FINDER_FREE_TRADE=16]="POS_TYPE_FINDER_FREE_TRADE",Nu[Nu.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",Nu[Nu.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",Nu[Nu.POS_TYPE_CHANNELS=113]="POS_TYPE_CHANNELS",Nu[Nu.POS_TYPE_SEARCH=115]="POS_TYPE_SEARCH",Nu[Nu.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",Nu[Nu.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",Nu[Nu.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED",Nu),tp=((Mu=tp||{})[Mu.DEST_TYPE_AD=0]="DEST_TYPE_AD",Mu[Mu.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",Mu[Mu.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",Mu[Mu.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",Mu[Mu.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",Mu[Mu.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",Mu[Mu.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",Mu[Mu.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",Mu[Mu.DEST_TYPE_CHANNELS=101]="DEST_TYPE_CHANNELS",Mu[Mu.DEST_TYPE_CHANNELS_LIVE=102]="DEST_TYPE_CHANNELS_LIVE",Mu[Mu.DEST_TYPE_CHANNELS_USER_PROFILE=103]="DEST_TYPE_CHANNELS_USER_PROFILE",Mu[Mu.DEST_TYPE_CHANNELS_HALF_CARD=104]="DEST_TYPE_CHANNELS_HALF_CARD",Mu[Mu.DEST_TYPE_ONEKEY_ATTENTION=40024]="DEST_TYPE_ONEKEY_ATTENTION",Mu[Mu.DEST_TYPE_WECOM_CONSULT=60013]="DEST_TYPE_WECOM_CONSULT",Mu),ap=((Lu=ap||{})[Lu.RT_SIZE_WORD=91]="RT_SIZE_WORD",Lu[Lu.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",Lu[Lu.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",Lu[Lu.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",Lu[Lu.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",Lu[Lu.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",Lu[Lu.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",Lu[Lu.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",Lu[Lu.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",Lu[Lu.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",Lu[Lu.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",Lu[Lu.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",Lu[Lu.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",Lu[Lu.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",Lu[Lu.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",Lu[Lu.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",Lu[Lu.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",Lu[Lu.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",Lu[Lu.CRT_SIZE_NORMAL_IMAGE=2106]="CRT_SIZE_NORMAL_IMAGE",Lu[Lu.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",Lu[Lu.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",Lu[Lu.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",Lu[Lu.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",Lu[Lu.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",Lu[Lu.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",Lu[Lu.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",Lu[Lu.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",Lu[Lu.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",Lu[Lu.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",Lu[Lu.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",Lu[Lu.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",Lu[Lu.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",Lu[Lu.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",Lu[Lu.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",Lu[Lu.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",Lu[Lu.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",Lu[Lu.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",Lu[Lu.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",Lu[Lu.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",Lu[Lu.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",Lu[Lu.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",Lu[Lu.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",Lu[Lu.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",Lu[Lu.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",Lu[Lu.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",Lu[Lu.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",Lu[Lu.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",Lu[Lu.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",Lu[Lu.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",Lu[Lu.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",Lu[Lu.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",Lu[Lu.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",Lu[Lu.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",Lu[Lu.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",Lu[Lu.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",Lu[Lu.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",Lu[Lu.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",Lu[Lu.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",Lu[Lu.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",Lu[Lu.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",Lu[Lu.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",Lu[Lu.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",Lu[Lu.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",Lu[Lu.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",Lu[Lu.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",Lu[Lu.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",Lu[Lu.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",Lu[Lu.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",Lu[Lu.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",Lu[Lu.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO",Lu[Lu.CRT_SIZE_CARD_FULL_SHAKE_VIDEO=1814]="CRT_SIZE_CARD_FULL_SHAKE_VIDEO",Lu[Lu.CRT_SIZE_CARD_FULL_BREAK_FRAME=1885]="CRT_SIZE_CARD_FULL_BREAK_FRAME",Lu[Lu.CRT_SIZE_CARD_FULL_OUT_BREAK_FRAME=1945]="CRT_SIZE_CARD_FULL_OUT_BREAK_FRAME",Lu[Lu.CRT_SIZE_IMAGE_711_1280_720=711]="CRT_SIZE_IMAGE_711_1280_720",Lu[Lu.CRT_SIZE_IMAGE_712_720_1280=712]="CRT_SIZE_IMAGE_712_720_1280",Lu[Lu.CRT_SIZE_SNS_VIDEO_1280_720=720]="CRT_SIZE_SNS_VIDEO_1280_720",Lu[Lu.CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280=721]="CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280",Lu[Lu.CRT_SIZE_CARD_FINDER_EVENT_VIDEO=1748]="CRT_SIZE_CARD_FINDER_EVENT_VIDEO",Lu[Lu.CRT_SIZE_SLIDER_CARD_VIDEO=1765]="CRT_SIZE_SLIDER_CARD_VIDEO",Lu[Lu.CRT_SIZE_SLIDER_CARD_IMAGE=1766]="CRT_SIZE_SLIDER_CARD_IMAGE",Lu[Lu.CRT_SIZE_WINDOWS_IMAGE_1_IMAGE_3=2107]="CRT_SIZE_WINDOWS_IMAGE_1_IMAGE_3",Lu[Lu.CRT_SIZE_WINDOWS_VIDEO_1_IMAGE_3=2109]="CRT_SIZE_WINDOWS_VIDEO_1_IMAGE_3",Lu[Lu.CRT_SIZE_FINDER_FREE_TRADE_EMPTY=1009]="CRT_SIZE_FINDER_FREE_TRADE_EMPTY",Lu[Lu.CRT_SIZE_PC_MOUSE_INTERACTION_VIDEO=1846]="CRT_SIZE_PC_MOUSE_INTERACTION_VIDEO",Lu[Lu.CRT_SIZE_SEARCH_BRAND_VIDEO=2013]="CRT_SIZE_SEARCH_BRAND_VIDEO",Lu[Lu.CRT_SIZE_FINDER_IMAGE=2014]="CRT_SIZE_FINDER_IMAGE",Lu[Lu.CRT_SIZE_LOOKBOOK_IMAGE=2174]="CRT_SIZE_LOOKBOOK_IMAGE",Lu[Lu.CRT_SIZE_LOOKBOOK_VIDEO=2177]="CRT_SIZE_LOOKBOOK_VIDEO",Lu),ip=((Bu=ip||{})[Bu.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",Bu[Bu.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",Bu[Bu.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",Bu[Bu.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",Bu[Bu.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",Bu[Bu.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",Bu[Bu.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",Bu[Bu.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",Bu[Bu.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",Bu[Bu.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",Bu[Bu.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",Bu[Bu.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",Bu[Bu.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",Bu[Bu.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",Bu[Bu.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",Bu[Bu.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",Bu[Bu.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",Bu[Bu.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",Bu[Bu.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",Bu[Bu.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",Bu[Bu.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",Bu[Bu.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",Bu[Bu.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",Bu[Bu.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",Bu[Bu.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",Bu[Bu.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",Bu[Bu.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",Bu[Bu.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",Bu[Bu.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",Bu[Bu.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",Bu[Bu.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",Bu[Bu.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",Bu[Bu.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",Bu[Bu.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",Bu[Bu.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",Bu[Bu.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",Bu[Bu.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",Bu[Bu.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",Bu[Bu.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",Bu[Bu.PAGE_TYPE_CHANNELS_USER_PROFILE=60007]="PAGE_TYPE_CHANNELS_USER_PROFILE",Bu[Bu.PAGE_TYPE_CHANNELS_FOLLOW_CARD=60008]="PAGE_TYPE_CHANNELS_FOLLOW_CARD",Bu[Bu.PAGE_TYPE_AD_APPOINTMENT=60009]="PAGE_TYPE_AD_APPOINTMENT",Bu[Bu.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",Bu[Bu.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",Bu[Bu.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",Bu[Bu.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",Bu[Bu.PAGE_TYPE_WECHAT_VIDEO_TOPIC=40032]="PAGE_TYPE_WECHAT_VIDEO_TOPIC",Bu[Bu.PAGE_TYPE_CHANNELS_HALF_CARD=40033]="PAGE_TYPE_CHANNELS_HALF_CARD",Bu[Bu.PAGE_TYPE_QYWX_WECHAT_KEFU=60011]="PAGE_TYPE_QYWX_WECHAT_KEFU",Bu[Bu.PAGE_TYPE_WECHAT_STATUS_FOOTER=60012]="PAGE_TYPE_WECHAT_STATUS_FOOTER",Bu[Bu.PAGE_TYPE_WECOM_CONSULT=60013]="PAGE_TYPE_WECOM_CONSULT",Bu[Bu.PAGE_TYPE_ANDORID_DOWNLOAD=60015]="PAGE_TYPE_ANDORID_DOWNLOAD",Bu[Bu.PAGE_TYPE_VANGOGH=70001]="PAGE_TYPE_VANGOGH",Bu[Bu.PAGE_TYPE_LINGQUE_MINI_PROGRAM=70002]="PAGE_TYPE_LINGQUE_MINI_PROGRAM",Bu[Bu.PAGE_TYPE_NOT_USED=99999]="PAGE_TYPE_NOT_USED",Bu[Bu.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX",Bu),rp=((Fu=rp||{})[Fu.PRODUCTTYPE_UNKNOWN=0]="PRODUCTTYPE_UNKNOWN",Fu[Fu.PRODUCTTYPE_OPEN_PLATFORM_APP_MOB=12]="PRODUCTTYPE_OPEN_PLATFORM_APP_MOB",Fu[Fu.PRODUCTTYPE_APPLE_APP_STORE=19]="PRODUCTTYPE_APPLE_APP_STORE",Fu[Fu.PRODUCTTYPE_WECHAT=23]="PRODUCTTYPE_WECHAT",Fu[Fu.PRODUCTTYPE_JD_URL=25]="PRODUCTTYPE_JD_URL",Fu[Fu.PRODUCTTYPE_DP_SHOP=26]="PRODUCTTYPE_DP_SHOP",Fu[Fu.PRODUCTTYPE_WECHAT_ARTICLE=29]="PRODUCTTYPE_WECHAT_ARTICLE",Fu[Fu.PRODUCTTYPE_WECHAT_SHOP=30]="PRODUCTTYPE_WECHAT_SHOP",Fu[Fu.PRODUCTTYPE_WECHAT_URL=31]="PRODUCTTYPE_WECHAT_URL",Fu[Fu.PRODUCTTYPE_WECHAT_CARD=36]="PRODUCTTYPE_WECHAT_CARD",Fu[Fu.PRODUCTTYPE_WECHAT_LBS=37]="PRODUCTTYPE_WECHAT_LBS",Fu[Fu.PRODUCTTYPE_WECHAT_APP=38]="PRODUCTTYPE_WECHAT_APP",Fu[Fu.GDT_PRODUCTTYPE_WECHAT_LBS=39]="GDT_PRODUCTTYPE_WECHAT_LBS",Fu[Fu.PRODUCTTYPE_LEAD_AD=43]="PRODUCTTYPE_LEAD_AD",Fu[Fu.PRODUCTTYPE_WECHAT_MINI_GAME=46]="PRODUCTTYPE_WECHAT_MINI_GAME",Fu[Fu.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",Fu[Fu.PRODUCTTYPE_APP_PROMOTION=50]="PRODUCTTYPE_APP_PROMOTION",Fu[Fu.PRODUCTTYPE_WECHAT_CHANNELS=51]="PRODUCTTYPE_WECHAT_CHANNELS",Fu[Fu.PRODUCTTYPE_MINI_PROGRAM_WECHAT=52]="PRODUCTTYPE_MINI_PROGRAM_WECHAT",Fu),np=((Wu=np||{})[Wu.OPEN_MODE_HALF=1]="OPEN_MODE_HALF",Wu[Wu.OPEN_MODE_FULL=2]="OPEN_MODE_FULL",Wu),op=((Uu=op||{})[Uu.PORTRAIT=1]="PORTRAIT",Uu[Uu.LANDSCAPE=2]="LANDSCAPE",Uu),sp=((Vu=sp||{})[Vu.ContentTypeImage=2]="ContentTypeImage",Vu[Vu.ContentTypeVideo=3]="ContentTypeVideo",Vu),lp=((Hu=lp||{})[Hu.TITLE_TAG_TYPE_DEFAULT=0]="TITLE_TAG_TYPE_DEFAULT",Hu[Hu.PLATFORM=1]="PLATFORM",Hu[Hu.ACTIVITY=2]="ACTIVITY",Hu[Hu.SOURCE_FROM=3]="SOURCE_FROM",Hu),dp=((ju=dp||{})[ju.BACK_DEFAULT=0]="BACK_DEFAULT",ju[ju.BACK_PRIMARY_15=1]="BACK_PRIMARY_15",ju[ju.BACK_PRIMARY_80=2]="BACK_PRIMARY_80",ju[ju.BACK_SUCCESS_80=3]="BACK_SUCCESS_80",ju[ju.BACK_ALERT_80=4]="BACK_ALERT_80",ju[ju.BACK_INFORMATION_80=5]="BACK_INFORMATION_80",ju[ju.BACK_MINI_PROGRAM_80=6]="BACK_MINI_PROGRAM_80",ju[ju.BACK_BLACK_10=7]="BACK_BLACK_10",ju[ju.BACK_BLACK_30=8]="BACK_BLACK_30",ju[ju.BACK_BLACK_50=9]="BACK_BLACK_50",ju[ju.BACK_BLACK_90=10]="BACK_BLACK_90",ju[ju.BACK_WHITE_10=11]="BACK_WHITE_10",ju[ju.BACK_WHITE_30=12]="BACK_WHITE_30",ju[ju.BACK_WHITE_50=13]="BACK_WHITE_50",ju[ju.BACK_WHITE=14]="BACK_WHITE",ju),up=((Gu=up||{})[Gu.TITLE_WORD_DEFAULT=0]="TITLE_WORD_DEFAULT",Gu[Gu.TITLE_WORD_BLACK_10=1]="TITLE_WORD_BLACK_10",Gu[Gu.TITLE_WORD_BLACK_30=2]="TITLE_WORD_BLACK_30",Gu[Gu.TITLE_WORD_BLACK_50=3]="TITLE_WORD_BLACK_50",Gu[Gu.TITLE_WORD_BLACK_90=4]="TITLE_WORD_BLACK_90",Gu[Gu.TITLE_WORD_WHITE_10=5]="TITLE_WORD_WHITE_10",Gu[Gu.TITLE_WORD_WHITE_30=6]="TITLE_WORD_WHITE_30",Gu[Gu.TITLE_WORD_WHITE_50=7]="TITLE_WORD_WHITE_50",Gu[Gu.TITLE_WORD_WHITE=8]="TITLE_WORD_WHITE",Gu[Gu.TITLE_WORD_PRIMARY=9]="TITLE_WORD_PRIMARY",Gu),cp=((zu=cp||{})[zu.CONTENT_TAG_TYPE_DEFAULT=0]="CONTENT_TAG_TYPE_DEFAULT",zu[zu.DISCOUNT=1]="DISCOUNT",zu[zu.SERVICE=2]="SERVICE",zu),pp=(($u=pp||{})[$u.CONTENT_WORD_DEFAULT=0]="CONTENT_WORD_DEFAULT",$u[$u.BLACK_10=1]="BLACK_10",$u[$u.BLACK_30=2]="BLACK_30",$u[$u.BLACK_50=3]="BLACK_50",$u[$u.BLACK_90=4]="BLACK_90",$u[$u.WHITE_10=5]="WHITE_10",$u[$u.WHITE_30=6]="WHITE_30",$u[$u.WHITE_50=7]="WHITE_50",$u[$u.WHITE=8]="WHITE",$u[$u.RED=9]="RED",$u),hp=((Qu=hp||{})[Qu.COUPON_DEFAULT=0]="COUPON_DEFAULT",Qu[Qu.COUPON_NORMAL=1]="COUPON_NORMAL",Qu[Qu.COUPON_HIGH=10]="COUPON_HIGH",Qu),fp=((Yu=fp||{})[Yu.HIGH_VALUE=1]="HIGH_VALUE",Yu[Yu.LOW_VALUE=2]="LOW_VALUE",Yu),vp=((qu=vp||{})[qu.kRankingResponseAdNotMatch=201012]="kRankingResponseAdNotMatch",qu[qu.kWechatOpenlistMaxError=500999]="kWechatOpenlistMaxError",qu[qu.kWechatRankingMaxError=501999]="kWechatRankingMaxError",qu),mp=((Zu=mp||{})[Zu.MONETIZE_METHOD_INVALID=0]="MONETIZE_METHOD_INVALID",Zu[Zu.MONETIZE_METHOD_ADS=1]="MONETIZE_METHOD_ADS",Zu[Zu.MONETIZE_METHOD_BIZ_ORIGINAL=2]="MONETIZE_METHOD_BIZ_ORIGINAL",Zu[Zu.MONETIZE_METHOD_BIZ_REPRODUCTION=3]="MONETIZE_METHOD_BIZ_REPRODUCTION",Zu[Zu.MONETIZE_METHOD_BIZ_CPS=4]="MONETIZE_METHOD_BIZ_CPS",Zu[Zu.MONETIZE_METHOD_BIZ_KANYIKANPLUS=5]="MONETIZE_METHOD_BIZ_KANYIKANPLUS",Zu[Zu.MONETIZE_METHOD_BIZ_FINDER=6]="MONETIZE_METHOD_BIZ_FINDER",Zu[Zu.MONETIZE_METHOD_BIZ_WENYIWEN=7]="MONETIZE_METHOD_BIZ_WENYIWEN",Zu),_p=((Ku=_p||{})[Ku.OP_UNKNOWN=0]="OP_UNKNOWN",Ku[Ku.OP_OPEN=1]="OP_OPEN",Ku[Ku.OP_CLOSE=2]="OP_CLOSE",Ku),gp=((Xu=gp||{})[Xu.MONETIZE_METHOD_STATUS_NOT_APPLY=0]="MONETIZE_METHOD_STATUS_NOT_APPLY",Xu[Xu.MONETIZE_METHOD_STATUS_OPEN=1]="MONETIZE_METHOD_STATUS_OPEN",Xu[Xu.MONETIZE_METHOD_STATUS_CLOSED=2]="MONETIZE_METHOD_STATUS_CLOSED",Xu),yp=((Ju=yp||{})[Ju.MONETIZE_METHOD_OPERATION_UNKNOWN=0]="MONETIZE_METHOD_OPERATION_UNKNOWN",Ju[Ju.MONETIZE_METHOD_OPERATION_SRC_EDITOR=1]="MONETIZE_METHOD_OPERATION_SRC_EDITOR",Ju[Ju.MONETIZE_METHOD_OPERATION_SRC_QUICK_OPEN=2]="MONETIZE_METHOD_OPERATION_SRC_QUICK_OPEN",Ju[Ju.MONETIZE_METHOD_OPERATION_SRC_SLOT_SET=3]="MONETIZE_METHOD_OPERATION_SRC_SLOT_SET",Ju[Ju.MONETIZE_METHOD_OPERATION_BAN=4]="MONETIZE_METHOD_OPERATION_BAN",Ju[Ju.MONETIZE_METHOD_OPERATION_UNBAN=5]="MONETIZE_METHOD_OPERATION_UNBAN",Ju[Ju.MONETIZE_METHOD_OPERATION_AUDIT=6]="MONETIZE_METHOD_OPERATION_AUDIT",Ju[Ju.MONETIZE_METHOD_OPERATION_OPERATOR=7]="MONETIZE_METHOD_OPERATION_OPERATOR",Ju[Ju.MONETIZE_METHOD_OPERATION_SRC_AGENCY_QUICK_OPEN=8]="MONETIZE_METHOD_OPERATION_SRC_AGENCY_QUICK_OPEN",Ju[Ju.MONETIZE_METHOD_OPERATION_SRC_AGENCY_SLOT_SET=9]="MONETIZE_METHOD_OPERATION_SRC_AGENCY_SLOT_SET",Ju),Ap=((ec=Ap||{})[ec.ADSLOT_BIZ_UNKNOWN=0]="ADSLOT_BIZ_UNKNOWN",ec[ec.ADSLOT_BIZ_BOTTOM=1]="ADSLOT_BIZ_BOTTOM",ec[ec.ADSLOT_BIZ_SPONSOR=2]="ADSLOT_BIZ_SPONSOR",ec[ec.ADSLOT_BIZ_MIDDLE=3]="ADSLOT_BIZ_MIDDLE",ec[ec.ADSLOT_BIZ_WEAPP=4]="ADSLOT_BIZ_WEAPP",ec[ec.ADSLOT_BIZ_WEAPP_REWARDED_VIDEO=5]="ADSLOT_BIZ_WEAPP_REWARDED_VIDEO",ec[ec.ADSLOT_BIZ_ORIG_VIDEO=6]="ADSLOT_BIZ_ORIG_VIDEO",ec[ec.ADSLOT_BIZ_VIDEO_END=7]="ADSLOT_BIZ_VIDEO_END",ec[ec.ADSLOT_BIZ_CPS=8]="ADSLOT_BIZ_CPS",ec[ec.ADSLOT_BIZ_WEAPP_INTERSTITIAL=9]="ADSLOT_BIZ_WEAPP_INTERSTITIAL",ec[ec.ADSLOT_WEAPP_VIDEO=10]="ADSLOT_WEAPP_VIDEO",ec[ec.ADSLOT_WEAPP_VIDEO_BEGIN=11]="ADSLOT_WEAPP_VIDEO_BEGIN",ec[ec.ADSLOT_WEAPP_COVER=12]="ADSLOT_WEAPP_COVER",ec[ec.ADSLOT_WEAPP_TEMPLATE=13]="ADSLOT_WEAPP_TEMPLATE",ec[ec.ADSLOT_WEAPP_CPS=14]="ADSLOT_WEAPP_CPS",ec[ec.ADSLOT_BIZ_KYK=15]="ADSLOT_BIZ_KYK",ec[ec.ADSLOT_BIZ_VIDEO_MID=16]="ADSLOT_BIZ_VIDEO_MID",ec[ec.ADSLOT_WEAPP_WEPAY_BOTTOM=20]="ADSLOT_WEAPP_WEPAY_BOTTOM",ec[ec.ADSLOT_WEAPP_WEPAY_COUPON=21]="ADSLOT_WEAPP_WEPAY_COUPON",ec[ec.ADSLOT_FINDER_COMMENT_AREA=22]="ADSLOT_FINDER_COMMENT_AREA",ec[ec.ADSLOT_WEAPP_FREE_TRADE_BANNER=23]="ADSLOT_WEAPP_FREE_TRADE_BANNER",ec[ec.ADSLOT_BIZ_FINDER_WENYIWEN_COMMENT=24]="ADSLOT_BIZ_FINDER_WENYIWEN_COMMENT",ec),Ep=((tc=Ep||{})[tc.ADSLOT_STATUS_NOT_APPLY=0]="ADSLOT_STATUS_NOT_APPLY",tc[tc.ADSLOT_STATUS_OPEN=1]="ADSLOT_STATUS_OPEN",tc[tc.ADSLOT_STATUS_REVIEWING=2]="ADSLOT_STATUS_REVIEWING",tc[tc.ADSLOT_STATUS_UNPASS=3]="ADSLOT_STATUS_UNPASS",tc[tc.ADSLOT_STATUS_CLOSED=4]="ADSLOT_STATUS_CLOSED",tc),Cp=((ac=Cp||{})[ac.ACCOUNT_STATUS_NOT_APPLY=0]="ACCOUNT_STATUS_NOT_APPLY",ac[ac.ACCOUNT_STATUS_OPEN=1]="ACCOUNT_STATUS_OPEN",ac),Tp=((ic=Tp||{})[ic.QUEST_SETT_STATUS_UNKNOWN=0]="QUEST_SETT_STATUS_UNKNOWN",ic[ic.QUEST_SETT_STATUS_ONLINE=1]="QUEST_SETT_STATUS_ONLINE",ic[ic.QUEST_SETT_STATUS_ENDED=2]="QUEST_SETT_STATUS_ENDED",ic[ic.QUEST_SETT_STATUS_SETTLED=3]="QUEST_SETT_STATUS_SETTLED",ic),Ip=((rc=Ip||{})[rc.QUEST_SETT_STATUS_INNER_UNKNOWN=0]="QUEST_SETT_STATUS_INNER_UNKNOWN",rc[rc.QUEST_SETT_STATUS_INNER_ONLINE=1]="QUEST_SETT_STATUS_INNER_ONLINE",rc[rc.QUEST_SETT_STATUS_INNER_UNSETTABLE=2]="QUEST_SETT_STATUS_INNER_UNSETTABLE",rc[rc.QUEST_SETT_STATUS_INNER_COMPARABLE=3]="QUEST_SETT_STATUS_INNER_COMPARABLE",rc[rc.QUEST_SETT_STATUS_INNER_SETTABLE=4]="QUEST_SETT_STATUS_INNER_SETTABLE",rc[rc.QUEST_SETT_STATUS_INNER_SETTABLE_NOTIFIED=5]="QUEST_SETT_STATUS_INNER_SETTABLE_NOTIFIED",rc[rc.QUEST_SETT_STATUS_INNER_SETTLED=6]="QUEST_SETT_STATUS_INNER_SETTLED",rc),bp=((nc=bp||{})[nc.QUEST_SETT_PROGRESS_UNKNOWN=0]="QUEST_SETT_PROGRESS_UNKNOWN",nc[nc.QUEST_SETT_PROGRESS_BEGIN=1]="QUEST_SETT_PROGRESS_BEGIN",nc[nc.QUEST_SETT_PROGRESS_SETTLED=2]="QUEST_SETT_PROGRESS_SETTLED",nc[nc.QUEST_SETT_PROGRESS_FAILED=3]="QUEST_SETT_PROGRESS_FAILED",nc),wp=((oc=wp||{})[oc.Unknown_type=0]="Unknown_type",oc[oc.Video=1]="Video",oc[oc.Live=2]="Live",oc),kp=((sc=kp||{})[sc.VIDEO_PLAY_UNKNOWN=0]="VIDEO_PLAY_UNKNOWN",sc[sc.VIDEO_PLAY_COMPLETE=1]="VIDEO_PLAY_COMPLETE",sc[sc.VIDEO_PLAY_PARTIAL=2]="VIDEO_PLAY_PARTIAL",sc[sc.VIDEO_PLAY_ERROR=3]="VIDEO_PLAY_ERROR",sc[sc.VIDEO_PLAY_VIEWABLE=4]="VIDEO_PLAY_VIEWABLE",sc),Sp=((lc=Sp||{})[lc.START_TYPE_UNKNOWN=1]="START_TYPE_UNKNOWN",lc[lc.START_TYPE_AUTO=2]="START_TYPE_AUTO",lc[lc.START_TYPE_USER=3]="START_TYPE_USER",lc),xp=((dc=xp||{})[dc.END_TYPE_UNKNOWN=1]="END_TYPE_UNKNOWN",dc[dc.END_TYPE_USER_CLOSE_AD=2]="END_TYPE_USER_CLOSE_AD",dc[dc.END_TYPE_CLOSE_WEAPP=3]="END_TYPE_CLOSE_WEAPP",dc[dc.END_TYPE_AUTO_CLOSE_AD=4]="END_TYPE_AUTO_CLOSE_AD",dc[dc.END_TYPE_ON_EXIT=5]="END_TYPE_ON_EXIT",dc[dc.END_TYPE_ON_WEAPP_EXIT=6]="END_TYPE_ON_WEAPP_EXIT",dc),Pp=((uc=Pp||{})[uc.REPORT_TYPE_UNKNOWN=0]="REPORT_TYPE_UNKNOWN",uc[uc.REPORT_TYPE_ON_EXIT=1]="REPORT_TYPE_ON_EXIT",uc[uc.REPORT_TYPE_ON_FINISH_PLAY=2]="REPORT_TYPE_ON_FINISH_PLAY",uc[uc.REPORT_TYPE_ON_START_PLAY=3]="REPORT_TYPE_ON_START_PLAY",uc[uc.REPORT_TYPE_ON_WEAPP_EXIT=4]="REPORT_TYPE_ON_WEAPP_EXIT",uc[uc.REPORT_TYPE_ON_CLOSE_AD=5]="REPORT_TYPE_ON_CLOSE_AD",uc[uc.REPORT_TYPE_ON_STOP=6]="REPORT_TYPE_ON_STOP",uc),Dp=((cc=Dp||{})[cc.SLOT_OPEN_STATE_NOT_FIRST=0]="SLOT_OPEN_STATE_NOT_FIRST",cc[cc.SLOT_OPEN_STATE_IS_FIRST=1]="SLOT_OPEN_STATE_IS_FIRST",cc),Op=((pc=Op||{})[pc.NOT_EFFECT=0]="NOT_EFFECT",pc[pc.ALREADY_EFFECT=1]="ALREADY_EFFECT",pc),Rp=((hc=Rp||{})[hc.AD_UNIT_STATUS_ON=1]="AD_UNIT_STATUS_ON",hc[hc.AD_UNIT_STATUS_OFF=2]="AD_UNIT_STATUS_OFF",hc),Np=((fc=Np||{})[fc.UNKNOWN=0]="UNKNOWN",fc[fc.SHORT_DRAMA=1]="SHORT_DRAMA",fc),Mp=((vc=Mp||{})[vc.EXPOSURE_MSG_TYPE=0]="EXPOSURE_MSG_TYPE",vc[vc.CLICK_MSG_TYPE=1]="CLICK_MSG_TYPE",vc),Lp=((mc=Lp||{})[mc.kUnknown=0]="kUnknown",mc[mc.kVideo=1]="kVideo",mc[mc.kArticle=2]="kArticle",mc),Bp=((_c=Bp||{})[_c.EXPOSE=1]="EXPOSE",_c[_c.CLICK=2]="CLICK",_c),Fp=((gc=Fp||{})[gc.kUnknown=0]="kUnknown",gc[gc.kBiz=1]="kBiz",gc[gc.kWxa=2]="kWxa",gc[gc.kFinder=3]="kFinder",gc[gc.kWxgame=4]="kWxgame",gc),Wp=((yc=Wp||{})[yc.replace=1]="replace",yc[yc.add=2]="add",yc),Up=((Ac=Up||{})[Ac.TITLE=1]="TITLE",Ac[Ac.DESC=2]="DESC",Ac[Ac.TEXT=3]="TEXT",Ac[Ac.BUTTON=4]="BUTTON",Ac[Ac.CARDBACKGROUD=5]="CARDBACKGROUD",Ac[Ac.CONTRACTPAG=6]="CONTRACTPAG",Ac),Vp=((Ec=Vp||{})[Ec.IS_ALL=1]="IS_ALL",Ec[Ec.EXP_GRAY_TYPE=2]="EXP_GRAY_TYPE",Ec),Hp=((Cc=Hp||{})[Cc.kDeviceUnknow=0]="kDeviceUnknow",Cc[Cc.kDeviceAndroid=1]="kDeviceAndroid",Cc[Cc.kDeviceIphone=2]="kDeviceIphone",Cc[Cc.kDeviceIpad=3]="kDeviceIpad",Cc[Cc.kDeviceTv=4]="kDeviceTv",Cc),jp=((Tc=jp||{})[Tc.NormalAd=0]="NormalAd",Tc[Tc.MdpaAd=1]="MdpaAd",Tc[Tc.AdxAd=2]="AdxAd",Tc),Gp=((Ic=Gp||{})[Ic.EXT_BACK_COMM=1]="EXT_BACK_COMM",Ic[Ic.TMPL_CONTENT=2]="TMPL_CONTENT",Ic[Ic.TMPL_INFO=3]="TMPL_INFO",Ic[Ic.AD_TEMPLATE_INFO=4]="AD_TEMPLATE_INFO",Ic),zp=((bc=zp||{})[bc.WXCOVER_NORMARL_REQUEST=1]="WXCOVER_NORMARL_REQUEST",bc[bc.WXCOVER_CHECK_FETCH_TOGETHER=2]="WXCOVER_CHECK_FETCH_TOGETHER",bc[bc.WXAVIDEO_WELfARE_REQUEST=3]="WXAVIDEO_WELfARE_REQUEST",bc[bc.WELFARE_MYLIST_REQUEST=4]="WELFARE_MYLIST_REQUEST",bc[bc.WELFARE_CHANGE_BATCH=5]="WELFARE_CHANGE_BATCH",bc[bc.WXCOVER_CHECK_AD_IS_ONLINE_REQUEST=6]="WXCOVER_CHECK_AD_IS_ONLINE_REQUEST",bc),$p=((wc=$p||{})[wc.AD_FREE_TYPE_UNKNOWN=0]="AD_FREE_TYPE_UNKNOWN",wc[wc.AD_FREE_TYPE_ALL_EXCEPT_REWARD=1]="AD_FREE_TYPE_ALL_EXCEPT_REWARD",wc),Qp=((kc=Qp||{})[kc.TEMPLATE_COMPRESS_RAW=0]="TEMPLATE_COMPRESS_RAW",kc[kc.TEMPLATE_COMPRESS_JSONPACK=1]="TEMPLATE_COMPRESS_JSONPACK",kc),Yp=((Sc=Yp||{})[Sc.WEGAME_WEAPP_ADSLOT_ID=1]="WEGAME_WEAPP_ADSLOT_ID",Sc[Sc.WEAPP_WEAPP_ADSLOT_ID=2]="WEAPP_WEAPP_ADSLOT_ID",Sc[Sc.WEGAME_WEAPP_VIDEO_ADSLOT_ID=3]="WEGAME_WEAPP_VIDEO_ADSLOT_ID",Sc[Sc.WEAPP_WEAPP_VIDEO_ADSLOT_ID=4]="WEAPP_WEAPP_VIDEO_ADSLOT_ID",Sc),qp=((xc=qp||{})[xc.AppServiceType_NORMAL=1]="AppServiceType_NORMAL",xc[xc.AppServiceType_GAME=2]="AppServiceType_GAME",xc),Zp=((Pc=Zp||{})[Pc.AllOS=0]="AllOS",Pc[Pc.Ios=1]="Ios",Pc[Pc.Android=2]="Android",Pc[Pc.Winphone=3]="Winphone",Pc[Pc.JAVA=4]="JAVA",Pc[Pc.OS_UNKNOWN=5]="OS_UNKNOWN",Pc[Pc.SYMBIAN=6]="SYMBIAN",Pc[Pc.S40asha=7]="S40asha",Pc[Pc.Webwx=8]="Webwx",Pc[Pc.Blackberry=9]="Blackberry",Pc[Pc.Windows=10]="Windows",Pc[Pc.Ipad=11]="Ipad",Pc[Pc.Mac=12]="Mac",Pc[Pc.Linux=13]="Linux",Pc),Kp=((Dc=Kp||{})[Dc.kUnknownNetwork=0]="kUnknownNetwork",Dc[Dc.kWIFI=1]="kWIFI",Dc[Dc.k2G=2]="k2G",Dc[Dc.k3G=3]="k3G",Dc[Dc.k4G=4]="k4G",Dc[Dc.k5G=5]="k5G",Dc[Dc.kAll=10]="kAll",Dc),Xp=((Oc=Xp||{})[Oc.kUnknownCarrier=0]="kUnknownCarrier",Oc[Oc.kCMCC=1]="kCMCC",Oc[Oc.kCUCC=2]="kCUCC",Oc[Oc.kCTCC=3]="kCTCC",Oc),Jp=((Rc=Jp||{})[Rc.UNKNOWN=0]="UNKNOWN",Rc[Rc.CMNET=1]="CMNET",Rc[Rc.CMWAP=2]="CMWAP",Rc[Rc.THREEGNET=3]="THREEGNET",Rc[Rc.THREEGWAP=4]="THREEGWAP",Rc[Rc.UNINET=5]="UNINET",Rc[Rc.UNIWAP=6]="UNIWAP",Rc[Rc.WIFI=7]="WIFI",Rc[Rc.CTWAP=8]="CTWAP",Rc[Rc.CTNET=9]="CTNET",Rc[Rc.THREEGNET_UNINET=10]="THREEGNET_UNINET",Rc[Rc.THREEGWAP_UNIWAP=11]="THREEGWAP_UNIWAP",Rc[Rc.CTNET_CTWAP=12]="CTNET_CTWAP",Rc[Rc.THREEGNET_THREEGWAP_UNINET_UNIWAP=13]="THREEGNET_THREEGWAP_UNINET_UNIWAP",Rc[Rc.WIMAX=14]="WIMAX",Rc),eh=((Nc=eh||{})[Nc.Default_Source=0]="Default_Source",Nc[Nc.MediaPlatform=1]="MediaPlatform",Nc[Nc.WeApp=2]="WeApp",Nc[Nc.Moments=3]="Moments",Nc[Nc.BizTimeLine=4]="BizTimeLine",Nc[Nc.SearchAd=5]="SearchAd",Nc[Nc.BizTopStory=6]="BizTopStory",Nc),th=((Mc=th||{})[Mc.JSON=0]="JSON",Mc[Mc.XML=1]="XML",Mc),ah=((Lc=ah||{})[Lc.Unknown_sys=-1]="Unknown_sys",Lc[Lc.Windows=0]="Windows",Lc[Lc.Ios=1]="Ios",Lc[Lc.Android=2]="Android",Lc),ih=((Bc=ih||{})[Bc.Unknown_type=0]="Unknown_type",Bc[Bc.Wifi=1]="Wifi",Bc[Bc.TwoG=2]="TwoG",Bc[Bc.TreeG=3]="TreeG",Bc[Bc.FourG=4]="FourG",Bc[Bc.FiveG=5]="FiveG",Bc[Bc.Ethernet=6]="Ethernet",Bc),rh=void 0,nh=void 0,oh=((Fc=oh||{})[Fc.FeedJumpVisibleOption_DefaultPublic=0]="FeedJumpVisibleOption_DefaultPublic",Fc),sh=((Wc=sh||{})[Wc.kMMFinderJumpConfigPrefix_Feed=1]="kMMFinderJumpConfigPrefix_Feed",Wc[Wc.kMMFinderJumpConfigPrefix_HotWord=2]="kMMFinderJumpConfigPrefix_HotWord",Wc[Wc.kMMFinderJumpConfigPrefix_Anchor=3]="kMMFinderJumpConfigPrefix_Anchor",Wc[Wc.kMMFinderJumpConfigPrefix_Tag=4]="kMMFinderJumpConfigPrefix_Tag",Wc[Wc.kMMFinderJumpConfigPrefix_Activity=5]="kMMFinderJumpConfigPrefix_Activity",Wc[Wc.kMMFinderJumpConfigPrefix_Finder=6]="kMMFinderJumpConfigPrefix_Finder",Wc),lh=((Uc=lh||{})[Uc.FinderRedPacketCoverStatus_Enable=1]="FinderRedPacketCoverStatus_Enable",Uc[Uc.FinderRedPacketCoverStatus_Unable=2]="FinderRedPacketCoverStatus_Unable",Uc),dh=((Vc=dh||{})[Vc.SEG_VERSION_DEFAULT=0]="SEG_VERSION_DEFAULT",Vc[Vc.SEG_VERSION_119368=1]="SEG_VERSION_119368",Vc[Vc.SEG_VERSION_NEISOU=2]="SEG_VERSION_NEISOU",Vc[Vc.SEG_VERSION_1141=3]="SEG_VERSION_1141",Vc[Vc.SEG_VERSION_BIG=4]="SEG_VERSION_BIG",Vc[Vc.SEG_VERSION_MINOR_LANGUAGE=5]="SEG_VERSION_MINOR_LANGUAGE",Vc[Vc.SEG_VERSION_WSEG_V1=6]="SEG_VERSION_WSEG_V1",Vc),uh=((Hc=uh||{})[Hc.ENTITY_VERSION_DEFAULT=0]="ENTITY_VERSION_DEFAULT",Hc[Hc.ENTITY_VERSION_20=1]="ENTITY_VERSION_20",Hc),ch=((jc=ch||{})[jc.REWRITE_SEN_TYPE_ONE=1]="REWRITE_SEN_TYPE_ONE",jc[jc.REWRITE_SEN_TYPE_RETRY=2]="REWRITE_SEN_TYPE_RETRY",jc[jc.REWRITE_SEN_TYPE_BIG_SEG=101]="REWRITE_SEN_TYPE_BIG_SEG",jc[jc.REWRITE_SEN_TYPE_BIG_SEG_RETRY=102]="REWRITE_SEN_TYPE_BIG_SEG_RETRY",jc[jc.REWRITE_SEN_TYPE_MULTI_WAY_OPT1=200]="REWRITE_SEN_TYPE_MULTI_WAY_OPT1",jc[jc.REWRITE_SEN_TYPE_MULTI_WAY_OPT2=201]="REWRITE_SEN_TYPE_MULTI_WAY_OPT2",jc[jc.REWRITE_SEN_TYPE_MULTI_WAY_OPT3=202]="REWRITE_SEN_TYPE_MULTI_WAY_OPT3",jc[jc.REWRITE_SEN_TYPE_MULTI_WAY_OPT4=203]="REWRITE_SEN_TYPE_MULTI_WAY_OPT4",jc[jc.REWRITE_SEN_TYPE_MULTI_WAY_OPT5=204]="REWRITE_SEN_TYPE_MULTI_WAY_OPT5",jc[jc.REWRITE_SEN_TYPE_VOB_OPT1=300]="REWRITE_SEN_TYPE_VOB_OPT1",jc[jc.REWRITE_SEN_TYPE_VOB_OPT2=301]="REWRITE_SEN_TYPE_VOB_OPT2",jc),ph=((Gc=ph||{})[Gc.RAW_QUERY=0]="RAW_QUERY",Gc[Gc.QC_QUERY=1]="QC_QUERY",Gc[Gc.QR_QUERY=2]="QR_QUERY",Gc[Gc.QR_QUERY_FROM_QC=3]="QR_QUERY_FROM_QC",Gc[Gc.QR_QUERY_FROM_NS=4]="QR_QUERY_FROM_NS",Gc[Gc.REPLACED_RAW_QUERY=5]="REPLACED_RAW_QUERY",Gc[Gc.QR_QUERY_FROM_BOXQRW=6]="QR_QUERY_FROM_BOXQRW",Gc[Gc.QR_QUERY_FROM_BOXQRW_END2END=7]="QR_QUERY_FROM_BOXQRW_END2END",Gc),hh=((zc=hh||{})[zc.INVALID=0]="INVALID",zc[zc.NAME=1]="NAME",zc[zc.NICK_NAME=2]="NICK_NAME",zc[zc.AREA_NAME=3]="AREA_NAME",zc[zc.HOTEL_NAME=4]="HOTEL_NAME",zc[zc.SCENIC_NAME=5]="SCENIC_NAME",zc[zc.CINEMA_NAME=6]="CINEMA_NAME",zc),fh=(($c=fh||{})[$c.ROOT=0]="ROOT",$c[$c.PROVINCE=1]="PROVINCE",$c[$c.CITY=2]="CITY",$c[$c.DISTRICT=3]="DISTRICT",$c[$c.SUBDISTRICT=4]="SUBDISTRICT",$c[$c.SUBDISTRICT_NO=5]="SUBDISTRICT_NO",$c),vh=((Qc=vh||{})[Qc.PIC_DIRECTION_VERTICAL=1]="PIC_DIRECTION_VERTICAL",Qc[Qc.PIC_DIRECTION_HORIZONTAL=2]="PIC_DIRECTION_HORIZONTAL",Qc),mh=(e=>(e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.JD_URL=25]="JD_URL",e[e.CHANNELS=51]="CHANNELS",e))(mh||{}),_h=((Yc=_h||{})[Yc.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",Yc[Yc.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",Yc[Yc.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",Yc[Yc.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",Yc[Yc.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",Yc[Yc.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",Yc[Yc.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",Yc[Yc.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",Yc[Yc.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",Yc[Yc.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY",Yc),gh=((qc=gh||{})[qc.DEFAULT=0]="DEFAULT",qc[qc.VIDEO=1]="VIDEO",qc[qc.LIVE=2]="LIVE",qc),yh=((Zc=yh||{})[Zc.DEFAULT=0]="DEFAULT",Zc[Zc.ROOM=1]="ROOM",Zc[Zc.RESERVATION=2]="RESERVATION",Zc),Ah=((Kc=Ah||{})[Kc.NONE=1]="NONE",Kc[Kc.ON_AIR=2]="ON_AIR",Kc[Kc.ENDED=3]="ENDED",Kc[Kc.IN_PREPARE=4]="IN_PREPARE",Kc),Eh=(e=>(e[e.NONE=0]="NONE",e[e.JSONPACK=1]="JSONPACK",e))(Eh||{}),Ch=(...e)=>e.filter(Boolean).join(" "),Th=(e,t)=>t.reduce(((t,a)=>(a in e&&(t[a]=e[a]),t)),{}),Ih=e=>e&&"object"==typeof e&&!Array.isArray(e);function bh(e,...t){if(!t.length)return e;var a=t.shift();if(Ih(e)&&Ih(a))for(var i of Object.keys(a))Ih(a[i])?(e[i]||Object.assign(e,{[i]:{}}),bh(e[i],a[i])):Object.assign(e,{[i]:a[i]});return bh(e,...t)}var wh=(e,t,a)=>{for(var i="string"==typeof t?t.split("."):t,r=e,n=0;r&&n<i.length;)r=r[i[n]],n+=1;return n<i.length?null:null!=r?r:a};var kh=(e,t)=>{for(var{path:a,value:i,condition:r=!0}of t)if(r){var n=i||(a?wh(e,a):"");if(n)return n}return null},Sh=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),xh=(e,t)=>{for(var a=0,i=0,r=0;r<e.length;r++)(a+=/[\u4e00-\u9fa5]/.test(e[r])?2:1)<t-1&&(i=r);return a>t?`${e.substring(0,i+1)}...`:e},Ph=(Object.keys,Function.prototype.call.bind(String.prototype.split),Function.prototype.call.bind(String.prototype.indexOf),Function.prototype.call.bind(String.prototype.concat),Function.prototype.call.bind(String.prototype.substring),(e,t)=>{if(!(null==e?void 0:e.dataset))return{templateId:"",id:"",preventMask:!1};return["templateId","id","preventMask"].reduce(((a,i)=>{var r=t?Sh(t(i)):i;return e.dataset[r]&&(a[i]=e.dataset[r]),a}),{})});function Dh(e){for(var t,a,i=(t=[],a=[],Oh.forEach((e=>{t.push(e.img),a.push(e.text)})),{nameList:a,imgList:t}),r=/\[.*?\]/g,n=r.exec(e),o=0,s=[];n;){var l=n[0],d=n.index,u=i.nameList.indexOf(l);if(d>o)e.substring(o,d).split("").forEach((e=>{s.push({type:"text",props:{value:e}})}));if(u>-1&&i.imgList[u])s.push({type:"img",props:{src:`https://wxa.wxs.qq.com/wxad-design/emojis/${i.imgList[u]}.png`}});else l.split("").forEach((e=>{s.push({type:"text",props:{value:e}})}));o=d+l.length,n=r.exec(e)}return e.substring(o).split("").forEach((e=>{s.push({type:"text",props:{value:e}})})),s}var Oh=[{img:"smiley_0",text:"[微笑]"},{img:"smiley_1",text:"[撇嘴]"},{img:"smiley_2",text:"[色]"},{img:"smiley_3",text:"[发呆]"},{img:"smiley_5",text:"[流泪]"},{img:"smiley_6",text:"[害羞]"},{img:"smiley_8",text:"[睡]"},{img:"smiley_9",text:"[大哭]"},{img:"smiley_10",text:"[尴尬]"},{img:"smiley_11",text:"[发怒]"},{img:"smiley_12",text:"[调皮]"},{img:"smiley_13",text:"[呲牙]"},{img:"smiley_14",text:"[惊讶]"},{img:"smiley_15",text:"[难过]"},{img:"smiley_17",text:"[冷汗]"},{img:"smiley_18",text:"[抓狂]"},{img:"smiley_20",text:"[偷笑]"},{img:"smiley_21",text:"[愉快]"},{img:"smiley_22",text:"[白眼]"},{img:"smiley_23",text:"[傲慢]"},{img:"smiley_26",text:"[惊恐]"},{img:"smiley_27",text:"[流汗]"},{img:"smiley_28",text:"[憨笑]"},{img:"smiley_30",text:"[奋斗]"},{img:"smiley_32",text:"[疑问]"},{img:"smiley_34",text:"[晕]"},{img:"smiley_36",text:"[衰]"},{img:"smiley_38",text:"[敲打]"},{img:"smiley_39",text:"[再见]"},{img:"smiley_40",text:"[擦汗]"},{img:"smiley_42",text:"[鼓掌]"},{img:"smiley_44",text:"[坏笑]"},{img:"smiley_45",text:"[左哼哼]"},{img:"smiley_46",text:"[右哼哼]"},{img:"smiley_47",text:"[哈欠]"},{img:"smiley_49",text:"[委屈]"},{img:"smiley_50",text:"[快哭了]"},{img:"smiley_51",text:"[阴险]"},{img:"smiley_52",text:"[亲亲]"},{img:"smiley_54",text:"[可怜]"},{img:"smiley_56",text:"[西瓜]"},{img:"smiley_60",text:"[咖啡]"},{img:"smiley_62",text:"[猪头]"},{img:"smiley_63",text:"[玫瑰]"},{img:"smiley_65",text:"[嘴唇]"},{img:"smiley_66",text:"[爱心]"},{img:"smiley_68",text:"[蛋糕]"},{img:"smiley_75",text:"[月亮]"},{img:"smiley_76",text:"[太阳]"},{img:"smiley_78",text:"[拥抱]"},{img:"smiley_79",text:"[强]"},{img:"smiley_81",text:"[握手]"},{img:"smiley_82",text:"[胜利]"},{img:"smiley_83",text:"[抱拳]"},{img:"smiley_84",text:"[勾引]"},{img:"smiley_85",text:"[拳头]"},{img:"smiley_89",text:"[OK]"},{img:"smiley_92",text:"[跳跳]"},{img:"smiley_93",text:"[发抖]"},{img:"smiley_94",text:"[怄火]"},{img:"smiley_95",text:"[转圈]"},{img:"2_04",text:"[嘿哈]"},{img:"2_05",text:"[捂脸]"},{img:"2_02",text:"[奸笑]"},{img:"2_06",text:"[机智]"},{img:"2_12",text:"[皱眉]"},{img:"2_11",text:"[耶]"},{img:"2_20",text:"[加油]"},{img:"2_21",text:"[汗]"},{img:"2_22",text:"[天啊]"},{img:"2_23",text:"[社会社会]"},{img:"2_24",text:"[旺柴]"},{img:"2_25",text:"[好的]"},{img:"2_26",text:"[加油加油]"},{img:"2_27",text:"[哇]"},{img:"2_09",text:"[红包]"},{img:"2_16",text:"[發]"},{img:"2_15",text:"[福]"}],Rh=function(e,t=!1){var a,i,r,n,o,s,l=null==(i=null==(a=null==e?void 0:e.extBackComm)?void 0:a.wegameInfo)?void 0:i.rank;if(!l)return null;var d=[{title:"人气榜",value:null!=(r=l.popularity_rank)?r:0},{title:"畅销榜",value:null!=(n=l.best_selling_rank)?n:0},{title:"畅玩榜",value:null!=(o=l.best_play_rank)?o:0},{title:"新游榜",value:null!=(s=l.new_game_rank)?s:0}].filter((e=>0!==e.value));if(!d.length)return null;t&&d.sort(((e,t)=>e.value-t.value));var u,c=d[0];if(c.value<=20)return u=c.value,`${c.title}第${u}名`;if(c.value>20&&c.value<=50)u=50;else{if(!(c.value>50&&c.value<=100))return null;u=100}return`${c.title}Top${u}`},Nh={1:"最近多人在玩",2:"超过10万人在玩",3:"超过100万人在玩"},Mh={1:"多个玩家分享",2:"超过10万人分享",3:"超过30万人分享"},Lh={1:"多个玩家收藏",2:"超过5000人收藏",3:"超过1万人收藏",4:"超过2万人收藏"},Bh=function(e,t=!1){var a,i=null==(a=null==e?void 0:e.extBackComm)?void 0:a.wegameInfo;if(!i)return null;var r=[{type:"act",text:Nh[i.act_info||1],val:i.act_info},{type:"collect",text:Lh[i.collect_info||1],val:i.collect_info},{type:"share",text:Mh[i.share_info||1],val:i.share_info}];return t&&r.sort(((e,t)=>(t.val&&t.val>1?1:0)-(e.val&&e.val>1?1:0))),r},Fh=function(e){var t,a,i,r,n;if(null==(t=null==e?void 0:e.extBackComm)?void 0:t.wegameInfo){var o=[];return 0!==(null==(a=e.extBackComm.wegameInfo)?void 0:a.category_2_id)&&e.extBackComm.wegameInfo.category_2_name&&o.push(null==(i=e.extBackComm.wegameInfo)?void 0:i.category_2_name),0!==(null==(r=e.extBackComm.wegameInfo)?void 0:r.category_3_id)&&e.extBackComm.wegameInfo.category_3_name&&o.push(null==(n=e.extBackComm.wegameInfo)?void 0:n.category_3_name),o.length?o:null}return null},Wh=function(e,t=!0){var a=Fh(e);return a&&a.find((e=>!t||"其他"!==e))||""},Uh={type:"EOF"},Vh=e=>{for(var t=new class{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",Uh),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{for(var e=0,t=0,a=0,i=this.token.length;a<i;a++){var r=this.token[a];"("===r?e+=1:")"===r&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(Uh)}},a=0,i=e.length;a<i;){var r=e[a];a+=1,t.push(r)}return t.end(),t.tokens},Hh=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,jh=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),Gh=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),zh=e=>{var t;t="string"==typeof e?Vh(e):e;for(var a=[Hh({type:"ROOT"})],i=e=>{for(var t=e.priority;jh(a[a.length-1])&&Gh(a[a.length-2])&&t<=a[a.length-1].priority&&t<=a[a.length-2].priority;){var{children:i}=a[a.length-2];null==i||i.push(a.pop())}},r=e=>{var t=Hh(e),r=a[a.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(jh(r))return;Gh(r)?r.children.push(t):a.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?jh(r)&&(t.priority>r.priority?((e,t)=>{var i=t.children.pop();i&&e.children.push(i),a.push(e)})(t,r):(i(t),(e=>{var t=a.pop();t&&e.children.push(t),a.push(e)})(t))):"ROOT_END"===t.type&&(i(t),a.push(t))},n=0,o=t.length;n<o;n++)r(t[n]);return a},$h=({type:e,children:t,operator:a},i,r={})=>{var n=e=>$h(t[e],i,r);if("COMPARE"===e){var o=a&&{">":()=>n(0)>n(1),"<":()=>n(0)<n(1),">=":()=>n(0)>=n(1),"<=":()=>n(0)<=n(1),"==":()=>n(0)==n(1),"!=":()=>n(0)!=n(1),"===":()=>n(0)===n(1)}[a];return o?o():null}if("LOGIC"===e){var s=a&&{"&&":()=>n(0)&&n(1),"||":()=>n(0)||n(1)}[a];return s?s():null}var l={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{var a=e.split("."),i="";return a.forEach((e=>{""===i?i=t[e]:("string"==typeof i&&(i=JSON.parse(i)),i=i[e])})),i})(t[0],i),QUESTION:()=>n(0)?n(1):n(2),TPLFUNC:()=>((e,t,a)=>{var i=e.indexOf("("),r=e.substring(0,i),n=e.substring(i+1,e.length-1);if(!a[r])return null;for(var o=Vh(n),s=[],l=[],d=0,u=o.length;d<u;d++){var c=o[d];"COMMA"===c.type||"EOF"===c.type?(s.push(l),l=[]):l.push(c)}var p=[];return s.forEach((e=>{p.push(Yh(e,t,a))})),a[r].apply(null,p)})(t[0],i,r)},d=l[e]||null;return d?d():null},Qh=e=>({"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#mod":(e,t)=>e%t,"#toNumber":e=>Number(e),"#toArray":(...e)=>e,"#toString":e=>String(e),"#toRegExp":e=>new RegExp(e),"#test":(e,t)=>new RegExp(e).test(t),"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,a)=>e.substring(t,a),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,a)=>e.replace(t,a),"#replaceAll":(e,t,a)=>e.replaceAll(t,a),"#toLowerCase":e=>e.toLowerCase(),"#len":e=>e.length,"#hansLen":e=>{var t=0;for(var a of e)t+=/[\u4e00-\u9fa5]/.test(a)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{var a="",i=0;for(var r of e){if((i+=/[\u4e00-\u9fa5]/.test(r)?2:1)>t){a+="...";break}a+=r}return a},"#concat":(...e)=>e.join(""),"#split":(e,t,a)=>null==e?void 0:e.split(t,a),"#join":(e,t)=>null==e?void 0:e.join(t),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{var t=e.toString().split(".");if(t.length<2)return e;for(var a=t.slice(-1)[0];"0"===a[a.length-1];)a=a.slice(0,-1);return t.slice(0,-1).concat(a?[a]:[]).join(".")},"#append":(e,t,a=!1)=>(a&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#indexedArray":e=>{if(e<=0)return[];for(var t=[],a=0;a<e;a+=1)t.push(a);return t},"#get":wh,"#slice":(e,t,a)=>e.slice(t,a),"#map":(t,a)=>t.map((t=>e.run(a,{$item:t}))),"#reduce":(t,a,i)=>t.reduce(((t,i)=>e.run(a,{$item1:t,$item2:i})),i),"#rand":()=>Math.random(),"#compareVersion":(e,t)=>function(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var a=e.split("."),i=t.split("."),r=Math.max(a.length,i.length);a.length<r;)a.push("0");for(;i.length<r;)i.push("0");for(var n=0;n<r;n++){var o=parseInt(a[n],10),s=parseInt(i[n],10);if(o>s)return 1;if(o<s)return-1}return 0}(e,t),"#fn":(e,...t)=>e(...t),"#hexToRgb":(e,t)=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,a,i)=>`${t}${t}${a}${a}${i}${i}`));var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?Number.isNaN(t)?`rgb(${parseInt(a[1],16)}, ${parseInt(a[2],16)}, ${parseInt(a[3],16)})`:`rgba(${parseInt(a[1],16)}, ${parseInt(a[2],16)}, ${parseInt(a[3],16)}, ${t})`:""},"#parseInt":(e,t=10)=>parseInt(e,t),"#min":(...e)=>Math.min(...e),"#max":(...e)=>Math.max(...e),"#splice":(e,t,a,...i)=>(e.splice(t,a,...i),e),"#arrConcat":(e,t)=>e.concat(t),"#case":(...e)=>{for(;e.length;){var t=e.shift(),a=e.shift();if(t)return a}},"#getWegameRankingInfo":Rh,"#getWegameActInfo":Bh,"#getWegameCategoryInfos":Fh,"#getWegameCategoryName":Wh}),Yh=(e,t,a)=>{try{var i=zh(e);return $h(i[1],t,ou(ou({},Qh({run:(e,i={})=>Yh(e,ou(ou({},t),i),a)})),a))}catch(e){}return null},qh=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},Zh=10;function Kh(){this._events={},this._conf&&Xh.call(this,this._conf)}function Xh(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._events.maxListeners=void 0!==e.maxListeners?e.maxListeners:Zh,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=Zh}function Jh(e,t){var a="(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak?(a+=" Event name: %s.",console.error(a,e,t)):console.error(a,e),console.trace&&console.trace()}function ef(e,t,a,i){if(!a)return[];var r,n,o,s,l,d,u,c=[],p=t.length,h=t[i],f=t[i+1];if(i===p&&a._listeners){if("function"==typeof a._listeners)return null==e||e.push(a._listeners),[a];for(r=0,n=a._listeners.length;r<n;r++)null==e||e.push(a._listeners[r]);return[a]}if("*"===h||"**"===h||a[h]){if("*"===h){for(o in a)"_listeners"!==o&&a.hasOwnProperty(o)&&(c=c.concat(ef(e,t,a[o],i+1)));return c}if("**"===h){for(o in(u=i+1===p||i+2===p&&"*"===f)&&a._listeners&&(c=c.concat(ef(e,t,a,p))),a)"_listeners"!==o&&a.hasOwnProperty(o)&&("*"===o||"**"===o?(a[o]._listeners&&!u&&(c=c.concat(ef(e,t,a[o],p))),c=c.concat(ef(e,t,a[o],i))):c=o===f?c.concat(ef(e,t,a[o],i+2)):c.concat(ef(e,t,a[o],i)));return c}c=c.concat(ef(e,t,a[h],i+1))}if((s=a["*"])&&ef(e,t,s,i+1),l=a["**"])if(i<p)for(o in l._listeners&&ef(e,t,l,p),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===f?ef(e,t,l[o],i+2):o===h?ef(e,t,l[o],i+1):((d={})[o]=l[o],ef(e,t,{"**":d},i+1)));else l._listeners?ef(e,t,l,p):l["*"]&&l["*"]._listeners&&ef(e,t,l["*"],p);return c}function tf(e,t){for(var a=0,i=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;a+1<i;a++)if("**"===e[a]&&"**"===e[a+1])return;for(var r=this.listenerTree,n=e.shift();void 0!==n;){if(r[n]||(r[n]={}),r=r[n],0===e.length)return r._listeners?("function"==typeof r._listeners&&(r._listeners=[r._listeners]),r._listeners.push(t),!r._listeners.warned&&this._events.maxListeners>0&&r._listeners.length>this._events.maxListeners&&(r._listeners.warned=!0,Jh.call(this,r._listeners.length,n))):r._listeners=t,!0;n=e.shift()}return!0}function af(e){var t=[19,12].includes(e.product_type),a=[51].includes(e.product_type),i=972===e.crt_size,r=[30,25].includes(e.product_type),n=[46].includes(e.product_type),o=[559,560,721].includes(e.crt_size);return kh(e,[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:i},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:o},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["app_info","icon_url"],condition:t},{path:["crtInfo","0","card_info","thumb"],condition:a},{path:["crtInfo","card_info","thumb"],condition:a},{path:["game_info","head_img"],condition:n},{path:["biz_info","head_img"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{path:["crtInfo","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:r},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}])}function rf(e){var t=[19,12].includes(null==e?void 0:e.product_type),a=[51].includes(null==e?void 0:e.product_type),i=972===e.crt_size,r=[29,31].includes(null==e?void 0:e.product_type),n=[30,25].includes(null==e?void 0:e.product_type),o=[46].includes(null==e?void 0:e.product_type),s=[559,560,721,929].includes(null==e?void 0:e.crt_size);return kh(e,[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:i},{path:["crtInfo","0","wxgame_video_card","title"],condition:s},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["game_info","nick_name"],condition:o},{path:["app_info","app_name"],condition:t},{path:["crtInfo","0","card_info","title"],condition:a},{path:["crtInfo","card_info","title"],condition:a},{path:["biz_info","nick_name"]},{path:["crtInfo","0","card_info","title"]},{path:["crtInfo","card_info","title"]},{value:"品牌推广",condition:r},{value:"电商推广",condition:n},{value:"活动推广"}])}var nf,of,sf,lf,df,uf,cf,pf,hf,ff,vf,mf,_f,gf,yf,Af,Ef,Cf,Tf,If,bf,wf,kf,Sf,xf,Pf,Df,Of,Rf,Nf,Mf,Lf,Bf,Ff,Wf,Uf,Vf,Hf,jf,Gf=du(fu()),zf=du(fu()),$f=du(fu()),Qf=(du(fu()),(nf=Qf||{}).opacity="opacity",nf.left="left",nf.top="top",nf),Yf=((of=Yf||{}).rotate="rotate",of.scaleX="scaleX",of.scaleY="scaleY",of),qf=((sf=qf||{}).HIDEAD="hideAd",sf.SETSTYLE="setStyle",sf.REPORTIDKEY="reportIdKey",sf.TRIGGEREVENT="triggerEvent",sf.SETEXPRVARS="setExprVar",sf.BATCHSETEXPRVARS="batchSetExprVar",sf.VIDEOTOGGLEMUTED="videoToggleMuted",sf.VIDEOPLAY="videoPlay",sf.VIDEOPAUSE="videoPause",sf.VIDEOSTOP="videoStop",sf.BUTTONSETTEXT="buttonSetText",sf.RELOADAD="reloadAd",sf.REPORTMMDATA="reportMMData",sf.ENDPAGEHIDE="endPageHide",sf.IMAGESETSRC="imageSetSrc",sf.TEXTSETTEXT="textSetText",sf.ANIMATE="animate",sf.TRIGGERBTNCLICK="triggerBtnClick",sf.CHANGEMULTISHOW="changeMultiShow",sf.LANDAD="landAd",sf.EMITCUSTOMMESSAGE="emitCustomMessage",sf.SPLASHSKIPAD="splashSkipAd",sf.ADDCHILDREN="addChildren",sf.REPORTADMONITORDATA="reportAdMonitorData",sf.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",sf.REPORTENDPAGE="reportEndPage",sf.SHOWANIMATEDONE="showAnimateDone",sf.HIDEANIMATEDONE="hideAnimateDone",sf.FORCEREBUILD="forceRebuild",sf.CHANGEIFRAMESIZE="changeIframeSize",sf.CHANGEADAREASTYLE="changeAdAreaStyle",sf.TRIGGERCOMPONENTEVENT="triggerComponentEvent",sf.ADDCLASS="addClass",sf.REMOVECLASS="removeClass",sf.SHOWPOPUP="showPopup",sf.HIDEPOPUP="hidePopup",sf.GETBOUNDINGCLIENTRECT="getBoundingClientRect",sf.CHANGECOUNTDOWNVALUE="changeCountdownValue",sf),Zf=((lf=Zf||{}).TAP="tap",lf.TOUCHSTART="touchstart",lf.TOUCHEND="touchend",lf.TOUCHCANCEL="touchcancel",lf.SLIDE="slide",lf.LONGTAP="longTap",lf.ANIMATIONEND="animationend",lf.HOSTMESSAGE="hostMessage",lf.TEMPLATEWILLUPDATE="templateWillUpdate",lf),Kf=((df=Kf||{}).APPENTERFOREGROUND="appEnterForeground",df.APPENTERBACKGROUND="appEnterBackground",df.CONTAINERTAP="containerTap",df.ADBUTTONTAP="adButtonTap",df.VIEWABLEEXPOSURE="viewableExposure",df.EXPOSURE="exposure",df.SHOWEDGE="showEdge",df.HIDEEDGE="hideEdge",df.SHOWHALF="showhalf",df.HIDEHALF="hidehalf",df.SHOWENTIRE="showEntire",df.HIDEENTIRE="hideEntire",df.SHOWANIMATE="showAnimate",df.HIDEANIMATE="hideAnimate",df.SPLASHADFIRSTRENDER="splashAdFirstRender",df.SPLASHADMENUVIEW="splashAdMenuView",df.INITIALTEMPLATE="initialTemplate",df),Xf=((uf=Xf||{}).BUTTONTAP="buttonTap",uf),Jf=((cf=Jf||{}).RELATIONFETCHED="relationFetched",cf.RELATIONTEXTCHANGED="relationTextChanged",cf),ev=((pf=ev||{}).VIDEOLOADSTART="videoLoadStart",pf.VIDEOENDED="videoEnded",pf.VIDEOPAUSE="videoPause",pf.VIDEOPLAY="videoPlay",pf.VIDEOTIMEUPDATE="videoTimeUpdate",pf.MUTEDCHANGE="mutedChange",pf.VIDEOLOADEDMETADATA="videoLoadedMetaData",pf),tv=((hf=tv||{}).FEEDBACKBTNTAP="feedbackBtnTap",hf.TAGTAP="tagTap",hf.DISLIKETAP="dislikeTap",hf.DISLIKEREASONTAP="dislikeReasonTap",hf),av=((ff=av||{}).REPLAY="replay",ff.SHOW="show",ff.HIDE="hide",ff.VIDEODISLIKE="videodislike",ff),iv=((vf=iv||{}).SHOWCHANGE="showChange",vf.UNITTAP="unitTap",vf),rv=((mf=rv||{}).REWARDEDVIDEOPLAY="rewardedVideoPlay",mf.REWARDEDVIDEOEND="rewardedVideoEnd",mf.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",mf.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",mf.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone",mf),nv=((_f=nv||{}).IMGERROR="imgError",_f.IMGLOAD="imgLoad",_f),ov=((gf=ov||{}).IMGERROR="imgError",gf.IMGLOAD="imgLoad",gf),sv=((yf=sv||{}).FEEDBACKBTNTAP="feedbackBtnTap",yf.FEEDBACKREPORT="feedbackReport",yf.FEEDBACKSINGLETAGTAP="feedbackSingleTagTap",yf.SHOWFEEDBACK="showFeedback",yf.FEEDBACKFAVTAP="feedbackFavTap",yf.CONTAINERTAP="containerTap",yf.CHECKEXPOSURE="checkExposure",yf.HIDEANIMATIONDONE="hideAnimationDone",yf.APPENTERBACKGROUND="appEnterBackground",yf.APPENTERFOREGROUND="appEnterForeground",yf.CHANGEIFRAMESIZE="changeIframeSize",yf.CHANGEADAREASTYLE="changeAdAreaStyle",yf.ALLMATERIALLOADED="allMaterialLoaded",yf.MATERIALLOADERROR="materialLoadError",yf.STOPPROPAGATIONTAP="stopPropagationTap",yf.BTNTAP="btnTap",yf.REPORTVIDEOPLAY="reportVideoPlay",yf.ADVIDEOPAUSE="adVideoPause",yf.ADVIDEOPLAY="adVideoPlay",yf.ADVIDEOMUTECHANGE="adVideoMuteChange",yf.ADVIDEOLOADFAILED="adVideoLoadFailed",yf.ADVIDEOLOADEDMETADATA="adVideoLoadedMetaData",yf.ADVIDEORESUMEBTNCLICK="adVideoResumeBtnClick",yf.ADVIDEOTIMEUPDATE="adVideoTimeUpdate",yf.ADVIDEOENDED="adVideoEnded",yf.ADVIDEOLOADSTART="adVideoLoadStart",yf.ALLOWADVIDEOLOAD="allowAdVideoLoad",yf.FETCHRELATIONTEXT="fetchRelationText",yf.RELATIONTEXTCHANGED="relationTextChanged",yf.FETCHHOSTTEXT="fetchHostText",yf.ENDPAGEINIT="endPageInit",yf.ENDPAGEHIDE="endPageHide",yf.ENDPAGESHOW="endPageShow",yf.SHOWENDPAGE="showEndPage",yf.REPORTENDPAGE="reportEndPage",yf.IMGSTARTLOAD="imgStartLoad",yf.IMGLOAD="imgLoad",yf.MULTIMGLOAD="multImgLoad",yf.IMGERROR="imgError",yf.HOSTTAGMOUNTED="hostTagMounted",yf.POITAP="poiTap",yf.ITEMTAP="itemTap",yf.HIDEAD="hideAd",yf.REPORTTIMEPOINT="reportTimePoint",yf.FEEDBACKHIDE="feedbackHide",yf.PREDOWNLOADMATERIAL="predownloadMaterial",yf.TRIGGEREVENT="triggerEvent",yf.LANDAD="landAd",yf.CHANGEMULTISHOW="changeMultiShow",yf.REPORTMMDATA="reportMMData",yf.REPORTADMONITORDATA="reportAdMonitorData",yf.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",yf.TEMPLATEMESSAGE="templateMessage",yf.REPORTIDKEY="reportIdKey",yf.SHOWPOPUP="showPopup",yf.HIDEPOPUP="hidePopup",yf.CHANGEADBTNTEXT="changedAdBtnText",yf.CHANGERELATIONTEXT="changeRelationText",yf.CHANGEHOSTTEXT="changeHostText",yf.ADSHOWEDGE="adShowEdge",yf.ADHIDEEDGE="adHideEdge",yf.ADSHOWHALF="adShowHalf",yf.ADHIDEHALF="adHideHalf",yf.ADSHOWENTIRE="adShowEntire",yf.ADHIDEENTIRE="adHideEntire",yf.SETSTYLE="setStyle",yf.ORIENTATIONCHANGE="orientationChange",yf.SETDARKMODE="setDarkMode",yf.OPERATEADVIDEO="operateAdVideo",yf.CHANGECOUNTDOWN="changeCountdown",yf.SPLASHSKIPAD="splashSkipAd",yf.EXPOSURE="exposure",yf.VIEWABLEEXPOSURE="viewableExposure",yf.HOSTMESSAGE="hostMessage",yf.UPDATECHANNELSTATUS="updateChannelStatus",yf.PREDOWNLOADMATERIALDONE="predownloadMaterialDone",yf.CHANGEVIDEOMUTE="changeVideoMute",yf),lv=((Af=lv||{})[Af.COMMON=1]="COMMON",Af[Af.FULLSCREEN=2]="FULLSCREEN",Af),dv=((Ef=dv||{})[Ef.COMMON=1]="COMMON",Ef[Ef.ROW=2]="ROW",Ef[Ef.COLUMN=3]="COLUMN",Ef[Ef.PROPORTION=4]="PROPORTION",Ef),uv=((Cf=uv||{})[Cf.COMMON=1]="COMMON",Cf[Cf.ICON=2]="ICON",Cf[Cf.AD=3]="AD",Cf),cv=((Tf=cv||{})[Tf.DEFAULT=0]="DEFAULT",Tf[Tf.AVIF=1]="AVIF",Tf[Tf.WEBP=2]="WEBP",Tf),pv=((If=pv||{})[If.COMMON=1]="COMMON",If[If.AD=2]="AD",If),hv=((bf=hv||{})[bf.COMMON=1]="COMMON",bf[bf.NICKNAME=2]="NICKNAME",bf[bf.DESC=3]="DESC",bf[bf.RELATION=4]="RELATION",bf[bf.HOST=5]="HOST",bf),fv=((wf=fv||{})[wf.COMMON=1]="COMMON",wf[wf.LOGICCOMMON=2]="LOGICCOMMON",wf),vv=((kf=vv||{})[kf.COMMON=1]="COMMON",kf[kf.AD=2]="AD",kf),mv=((Sf=mv||{})[Sf.COMMON=1]="COMMON",Sf[Sf.SIMPLE=2]="SIMPLE",Sf[Sf.SINGLETAG=3]="SINGLETAG",Sf),_v=((xf=_v||{})[xf.COMMON=1]="COMMON",xf),gv=((Pf=gv||{})[Pf.COMMON=1]="COMMON",Pf),yv=((Df=yv||{})[Df.NONE=0]="NONE",Df[Df.COMMON=1]="COMMON",Df[Df.ADS=2]="ADS",Df),Av=((Of=Av||{})[Of.NONE=0]="NONE",Of[Of.ROWLOOP=1]="ROWLOOP",Of[Of.COLUMNLOOP=2]="COLUMNLOOP",Of),Ev=((Rf=Ev||{})[Rf.NONE=0]="NONE",Rf[Rf.COMMOM=1]="COMMOM",Rf),Cv=((Nf=Cv||{})[Nf.NONE=0]="NONE",Nf[Nf.COMMON=1]="COMMON",Nf),Tv=((Mf=Tv||{})[Mf.NONE=0]="NONE",Mf[Mf.COMMON=1]="COMMON",Mf),Iv=((Lf=Iv||{})[Lf.NONE=0]="NONE",Lf[Lf.COMMOM=1]="COMMOM",Lf),bv=((Bf=bv||{})[Bf.NONE=0]="NONE",Bf[Bf.COMMOM=1]="COMMOM",Bf),wv=((Ff=wv||{})[Ff.NONE=0]="NONE",Ff[Ff.COMMON=1]="COMMON",Ff),kv=((Wf=kv||{})[Wf.NONE=0]="NONE",Wf[Wf.COMMON=1]="COMMON",Wf[Wf.AD=2]="AD",Wf),Sv=((Uf=Sv||{}).BASE="base",Uf.COMPONENT="component",Uf.HOC="hoc",Uf),xv=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"],Pv=((Vf=Pv||{}).INNERSTYLE="innerStyle",Vf.STYLE="style",Vf),Dv={},Ov=(e,t,a)=>`${e?`${e}-`:""}${a?`${a}_`:""}${t}`,Rv=class extends $f.Component{constructor(e,t){super(e),this.style={},this.darkModeStyle={},this.templateStyle={},this.dynamicStyle={},this.adCustomListeners=new Set,this.mounted=!1,this.classListMap={},this.handleStyleType=["innerStyle"],this.componentBehavior="component",this.state={},this.handleAdCustomAction=e=>{var t,a;e.targetidReg?(null==(a=(t=e.targetidReg).test)?void 0:a.call(t,this.id))&&this.doCommonAction(e):e.targetid&&e.targetid===this.id&&this.doCommonAction(e)},this.registeMaterialLoadPromise=()=>{var{resolve:e,reject:t}=this.props.materialLoader.registeMaterialLoadPromise();this.materialLoadResolve=e,this.materialLoadReject=t},this.bindStyle=e=>{[this.templateStyle,this.dynamicStyle].forEach((t=>{e.forEach((({originId:e,originKey:a,destRules:i})=>{t[e]||(t[e]={}),Object.defineProperty(t[e],a,{configurable:!0,enumerable:!0,get:()=>t[e][`_${a}`],set(r){r!==t[e][`_${a}`]&&(t[e][`_${a}`]=r,i.forEach((i=>{var n,{destClassName:o,handleFn:s}=i,{destKey:l}=i;l||(l=a);var d=s?s(r,t[e]):r;t[n=`.bind-${o}`]||(t[n]={}),t[`.bind-${o}`][l]=d})))}})}))}))},this.adCustomId=e.adCustomId,this.adData=e.adData,this.adDatas=e.adDatas,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||0,this.forItem=e.forItem,this.forIndex=e.forIndex,this.hostContext=e.hostContext,this.renderContext=e.renderContext,(null==t?void 0:t.componentBehavior)&&(this.componentBehavior=t.componentBehavior);var a=e.template||{};this.template=a,this.id=Ov(this.adCustomId,this.template.id,this.idPrefix);var i=a.options||{};this.options=i,this.data=i.data||{},this.events=i.events||{},this.lifecycle=i.lifecycle||{},this.innerStyles=i.innerStyles||{},this.innerClassStyles=i.innerClassStyles||{},this.animations=i.animations||{},this.bubbleEvent=void 0===i.bubbleEvent||i.bubbleEvent,this.classStyles=e.classStyles||{},this.classListMap=this.getClassList(i.classList||{}),this.classNames=this.getDataValue("_classNames")||{};var r=this.getDataValue("_bubbleEvent");void 0!==r&&(this.bubbleEvent=r),this.bindCommonEvents()}componentDidMount(){this.mounted=!0,["component"].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onInit")}componentWillUnmount(){["component"].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onDestroy"),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){["component","base"].includes(this.componentBehavior)&&this.emitter.on("adCustomAction",this.handleAdCustomAction),"component"===this.componentBehavior&&this.addAdCustomListener((e=>{if("setStyle"===e.action){var{id:t,targetid:a,style:i}=e.value||{};a===this.id&&this.setStyle(t,i,{isDynamic:!0,force:!0})}else"hostMessage"===e.action&&this.emitComponentEvent("hostMessage",e.value)}))}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adData:this.adData,adDatas:this.adDatas,systemInfo:this.props.systemInfo,isMulti:this.props.isMulti,darkMode:this.props.darkMode,hostContext:this.props.hostContext,renderContext:this.renderContext,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,extraScope:this.props.extraScope,innerFunctions:this.props.innerFunctions,classStyles:this.classStyles,materialLoader:this.props.materialLoader}}getDataValue(e,t,a){var i=t||this.data,r=i[`${e}Expr`];return r?this.run(r,null==a?void 0:a.args):i[e]}getDataValueWithDefault(e,t,a,i){var r=a?this.getDataValue(e,a,i):this.getDataValue(e);return void 0===r?t:r}getAdData(){return 2===this.forType&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){var t=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))};this.adCustomListeners.add(t),this.emitter.on("adCustomEvent",t)}removeAdCustomListener(){for(var e of this.adCustomListeners)this.emitter.off("adCustomEvent",e),this.adCustomListeners.delete(e)}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var a=this.events[e];(null==a?void 0:a.length)&&this.doActions(a,t||{})}emitComponentLifeCycle(e,t){var a=this.lifecycle[e];(null==a?void 0:a.length)&&this.doActions(a,t)}doActions(e=[],t={}){for(var a of e)if(a.force&&!a.targetid)this.doCommonAction({args:t,payload:a});else{var i=this.getDataValue("targetid",a),r=this.getDataValue("targetidReg",a),n=null;try{r&&(n=new RegExp(r))}catch(e){n=null}this.emitter.emit("adCustomAction",{fromid:this.id,targetid:i?`${this.adCustomId}-${i}`:this.id,targetidReg:n,args:t,payload:a})}}doCommonAction(e){var{payload:t,args:a}=e,{delay:i=null,expr:r}=t,n=()=>{var i,n,o,s;if(!r||this.run(r,a))if("base"!==this.componentBehavior)switch(t.action){case"setStyle":var{value:l}=t;if(l.style||(l.style={}),l.styleExpr)for(var d of Object.keys(l.styleExpr))l.style[d]=this.run(l.styleExpr[d],a);var u=null==(i=l.force)||i;l.forceExpr&&(u=null==(n=this.run(l.forceExpr,a))||n),this.setStyle(l.id,l.style,{isDynamic:!0,force:u});break;case"setExprVar":var{key:c}=t.value,p=this.getDataValue("value",t.value,{args:a});this.getExprInnerVars()[c]=p;break;case"reportIdKey":var{id:h,key:f}=t.value;this.emitAdCustomEvent("reportIdKey",{id:h,key:f});break;case"batchSetExprVar":var{list:v}=t.value;for(var m of v){var{key:_}=m,g=this.getDataValue("value",m);this.getExprInnerVars()[_]=g}break;case"triggerEvent":var{detail:y={},eventName:A}=t.value;try{if((null==a?void 0:a.event)&&(y.rawDetail=JSON.stringify(a.event)),t.value.detailExpr)for(var E of Object.keys(t.value.detailExpr)){var C=t.value.detailExpr[E];y[E]=this.run(C,a)}}catch(e){}this.emitAdCustomEvent("triggerEvent",{eventName:A,detail:y});break;case"reportMMData":var{data:T,dataExpr:I,id:b}=t.value;if(I)for(var w of Object.keys(I)){var k=I[w];T[w]=this.run(k,a)}this.emitAdCustomEvent("reportMMData",{id:b,data:T});break;case"animate":var S=this.getDataValue("id",t.value,{args:a}),x=this.getDataValue("animation",t.value,{args:a});this.doAnimation({id:S,animationName:x});break;case"triggerBtnClick":var P=null==a?void 0:a.event;P&&this.emitAdCustomEvent("btnTap",{event:P});break;case"landAd":var D=null==a?void 0:a.event;D&&this.emitAdCustomEvent("landAd",{index:this.getDataValueWithDefault("index",0,t.value,{args:a}),event:D,extInfo:this.getObjExpr(null==(o=t.value)?void 0:o.extInfo,{args:a})});break;case"splashSkipAd":var O=null==a?void 0:a.event;O&&this.emitAdCustomEvent("splashSkipAd",{event:O});break;case"reportAdMonitorData":var{id:R,key:N,extInfo:M}=t.value;this.emitAdCustomEvent("reportAdMonitorData",{id:R,key:N,extInfo:this.getObjExpr(M,{args:a})});break;case"rewardedVideoDynamic":var{list:L}=t.value;this.emitAdCustomEvent("rewardedVideoDynamic",{list:L});break;case"emitCustomMessage":var{message:B,args:F}=t.value;B&&this.emitAdCustomEvent("templateMessage",{message:B,args:this.getObjExpr(F,{args:a}),actionArgs:a});break;case"reportEndPage":var{data:W}=t.value;this.emitAdCustomEvent("reportEndPage",{data:W});break;case"changeIframeSize":"value"in t?this.emitAdCustomEvent("changeIframeSize",{data:null==(s=t.value)?void 0:s.data}):this.emitAdCustomEvent("changeIframeSize");break;case"changeAdAreaStyle":var{data:U}=t.value;if(t.value.dataExpr)for(var V of Object.keys(t.value.dataExpr)){var H=t.value.dataExpr[V];U[V]=this.run(H,a)}this.emitAdCustomEvent("changeAdAreaStyle",{data:U});break;case"triggerComponentEvent":var{eventName:j,args:G}=t.value;this.emitComponentEvent(j,ou(ou({},a),G));break;case"addClass":var{id:z,className:$}=t.value;if(Object.keys(this.classListMap).includes(z))this.classListMap[z].includes($)||(this.classListMap[z]=this.classListMap[z].concat($),this.forceUpdate());else this.classListMap[z]=[$],this.forceUpdate();break;case"removeClass":var{id:Q,className:Y}=t.value;if(Object.keys(this.classListMap).includes(Q)){var q=this.classListMap[Q];if(q.includes(Y)){var Z=q.indexOf(Y);q.splice(Z,1),this.classListMap[Q]=q,this.forceUpdate()}}break;case"getBoundingClientRect":var{id:K,eventName:X}=t.value,{getBoundingClientRect:J}=this.hostContext,ee=this.getElementById(K),te=e=>{this.emitComponentEvent(X,su(ou({},a),{rect:e}))};if(ee){var ae=J(ee);ae instanceof Promise?ae.then(te):te(ae)}break;default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}else"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)};null!=i?setTimeout(n,i):n()}getObjExpr(e,t){if(!e||"object"!=typeof e)return e;var a={};for(var i of Object.keys(e)){var r="Expr";if(i.indexOf(r)>-1&&i.indexOf(r)===i.length-4){var n=i.slice(0,-4);a[n]=this.getDataValue(n,e,t)}else Ih(e[i])?a[i]=this.getObjExpr(e[i],t):a[i]=e[i]}return a}run(e,t){var a=ou(ou({},this.getInnerFunction()),this.props.innerFunctions||{}),i=ou(ou({},this.getScope()),a);return Yh(e,t?ou({$args:t},i):i,a)}getElementById(e){var t,{renderContext:{hostContainer:a,getRootElement:i,isFlattenLayer:r},hostContext:{getPropertyOfElement:n}}=this,o=i(this);if(!o)return null;if("$$"===e||!e&&r())return o;if(!e){var s=null!=(t=n(o,"parent"))?t:null;return s===a?o:s}return this.travelAndFindElementById(e,o)}isTextNode(e){return!1}travelAndFindElementById(e,t){var{getPropertyOfElement:a,getDatasetPrefix:i}=this.hostContext;if(this.isTextNode(t))return null;var r=Ph(t,i);if(r.templateId!==this.id)return null;if(r.id===e)return t;var n=a(t,"children");for(var o of n){var s=this.travelAndFindElementById(e,o);if(s)return s}return null}travelAndFindElementByIdDeeply(e,t,a){if(!a||this.isTextNode(a))return null;var{getPropertyOfElement:i,getDatasetPrefix:r}=this.hostContext,n=Ph(a,r);if(Ov(this.adCustomId,e,this.idPrefix)===n.templateId&&(!t||n.id===t))return a;var o=i(a,"children");for(var s of o){var l=this.travelAndFindElementByIdDeeply(e,t,s);if(l)return l}return null}doAnimation(e){return cu(this,arguments,(function*({id:e,emitEvent:t=!0,animationName:a,animation:i}){var{animate:r}=this.hostContext,n=!i&&a?this.animations[a]:i,o=this.getElementById(e);if(n&&o){var{keys:s,duration:l,easing:d}=n;if(!(((null==s?void 0:s.length)||0)<2)){var u=0;for(var c of Object.keys(s)){var p=s[+c],h=this.getDataValue("offset",p),f=this.getDataValue("opacity",p),v=this.getDataValue("left",p),m=this.getDataValue("top",p),_=this.getDataValue("rotate",p),g=this.getDataValue("scaleX",p),y=this.getDataValue("scaleY",p),A=this.getDataValue("translateX",p),E=this.getDataValue("translateY",p),C=this.getDataValue("background",p),T=this.getDataValue("color",p),I=this.getDataValue("width",p),b=this.getDataValue("height",p),w=l*h,k=this.convertAnimationTransform({opacity:f,left:v,top:m,rotate:_,scaleWidth:g,scaleHeight:y,background:C,color:T,width:I,height:b,translateX:A,translateY:E});if(w<=0)this.setStyle(e,k,{isDynamic:!0,force:!0});else{var S=su(ou({},k),{easing:d,duration:w-u});S.left=k.left,S.top=k.top,yield null==r?void 0:r(o,S),u=w,this.setStyle(e,k,{isDynamic:!0,force:!0})}}a&&t&&(yield this.emitComponentEvent("animationend",{animation:a,id:Ov(void 0,this.template.id,this.idPrefix)}))}}}))}convertAnimationTransform(e){var t=[null!=e.rotate?`rotate(${e.rotate}deg)`:"",null!=e.scaleWidth?`scaleX(${e.scaleWidth})`:"",null!=e.scaleHeight?`scaleY(${e.scaleHeight})`:"",null!=e.translateX?`translateX(${e.translateX})`:"",null!=e.translateY?`translateY(${e.translateY})`:""].filter(Boolean).join(" ");return t&&(e.transform=t),e}isDarkMode(){var e;return null!=(e=this.state.darkMode)?e:this.props.darkMode}updateInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];if(!t.expr||this.run(t.expr)){var a=ou({},t.style||{});this.isDarkMode()&&Object.assign(a,t.darkModeStyle||{}),this.updateStyle(a,e)}}}updateInnerClassStyle(){var e;if(this.innerClassStyles)for(var t of Object.keys(this.innerClassStyles)){var a=this.innerClassStyles[t];if(!a.expr||this.run(a.expr)){var i=ou({},a.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(i,a.darkModeStyle||{}),this.updateStyle(i,`.${t}`)}}}updateOuterStyle(){var e=ou({},this.template.style||{});this.isDarkMode()&&Object.assign(e,this.template.darkModeStyle||{}),this.updateStyle(e,"container")}updateClassStyle(){var{classStyles:e}=this;if(e)for(var t of Object.keys(e)){var a=e[t];if(!a.expr||this.run(a.expr)){var i=ou({},a.style||{});this.isDarkMode()&&Object.assign(i,a.darkModeStyle||{}),this.updateStyle(i,`.${t}`)}}}getClassList(e){var t={};return Object.keys(e).forEach((a=>{var i=e[a];Object.keys(i).forEach((e=>{t[a]=e.includes("Expr")?this.run(i.listExpr):i.list}))})),t}setStyle(e,t,{isDynamic:a,force:i}={isDynamic:!1,force:!1}){var r=a?this.dynamicStyle:this.templateStyle,n=this.getDataValue("_useApx")?this.convertToApxRatio(t):t,{getRootElement:o}=this.renderContext,s=e,l=!1;if("$$"===s){var d=o(this);if(!d)return;s=Ph(d,this.hostContext.getDatasetPrefix).id}if(n){for(var u of Object.keys(n))n[u]=this.convertApxStyle(n[u]);if(s)for(var c of(r[s]||(r[s]={}),Object.keys(n)))null!=n[c]?(n[c]!==r[s][c]&&(l=!0),r[s][c]=n[c]):delete r[s][c]}this.mounted&&l&&a&&i&&this.forceUpdate()}convertApxStyle(e){var{renderContext:{ratio:t}}=this;return((e,t)=>(null==e?void 0:e.replace)?e.replace(Eu,((e,a)=>`${Number(a*t)}px`)):e)(e,t)}updateStyle(e,t){if(e)for(var a of Object.keys(e)){var i=a,r=e[a];if(a.includes("Expr")){var n=a.split("Expr");2===n.length&&([i]=n,r=this.run(r))}this.setStyle(t,{[i]:r})}}getScope(){var e,t,{ratio:a}=this.renderContext;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$id:this.id,$customId:this.adCustomId,$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null==(e=this.props)?void 0:e.systemInfo)||{},darkMode:(null==(t=this.props)?void 0:t.darkMode)||!1,ua:"",ratio:a,time:Date.now(),undefined:void 0},$for:{index:this.forIndex,item:this.forItem},$scope:this.props.extraScope||{}}}getExprInnerVars(){return void 0===Dv[this.adCustomId]&&(Dv[this.adCustomId]={}),Dv[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars(),{hostContext:t}=this;return{"#getVar":t=>e[t],"#measureText":(e,a)=>"function"==typeof t.getTextWidth?t.getTextWidth(e,a):0,"#getIconSrc":af,"#getNickName":rf}}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var t,{ratio:a}=this.renderContext,i=/(\d+)px/g,r={};for(var n of Object.keys(e))if(null==(t=xv)?void 0:t.includes(n)){var o=e[n],s=o;"number"==typeof o?s=o*a:"string"==typeof o?s=o.replace(i,((e,t)=>{var i=Number(t);return Number.isNaN(i)?e:i*a+"px"})):Array.isArray(o)&&(null==o?void 0:o.every((e=>"number"==typeof e)))&&(s=o.map((e=>e*a))),r[n]=s}else r[n]=e[n];return r}predownloadMaterial(e,t,a){this.emitAdCustomEvent("predownloadMaterial",{targetid:this.id,url:e,md5:t,key:a})}getTemplateStyle(e){return this.templateStyle[e]}},Nv=du(fu()),Mv=(e,t,a)=>{var i,r,n,o,s,l,d,u;if(!t)return t;var c={},p=null;if(null==(i=null==t?void 0:t.props)?void 0:i.className){var h=t.props.className.split(/\s+/).filter(Boolean);for(var f of h)e[`.bind-${f}`]&&Object.assign(c,e[`.bind-${f}`]),e[`.${f}`]&&Object.assign(c,e[`.${f}`])}if(Object.keys(a.classListMap).forEach((i=>{var r,n;i===((null==(r=null==t?void 0:t.props)?void 0:r.id)&&Sh(null==(n=null==t?void 0:t.props)?void 0:n.id))&&a.classListMap[i].forEach((t=>{Object.assign(c,e[`.${t}`])}))})),null==(r=null==t?void 0:t.props)?void 0:r.className){var v=t.props.className.split(/\s+/).filter(Boolean);for(var m of v){var _=Sh(m);e[`.${_}`]&&Object.assign(c,e[`.${_}`])}}if((null==(n=null==t?void 0:t.props)?void 0:n.style)&&Object.assign(c,t.props.style),null==(o=null==t?void 0:t.props)?void 0:o.id){var g=Sh(t.props.id);p=g,e[g]&&Object.assign(c,e[g])}var y=null!=(l=null==(s=t.props)?void 0:s.children)?l:null;null!=y&&"string"!=typeof y&&(y=Nv.default.Children.map(y,(t=>Mv(e,t,a))));var A,E=ou({style:Du(c,a.styleOptions)},p?{id:p,uniqueId:`${a.templateInfo.templateId}${a.isItem?"__item":""}-${p}`}:{}),C=su(ou({},a.templateInfo),{preventMask:String(null!=(u=null==(d=t.props)?void 0:d.preventMask)&&u),id:p||""});for(var T of Object.keys(C)){var I=(null==a?void 0:a.getDatasetPrefix)?null==a?void 0:a.getDatasetPrefix(T):T;E[`data-${A=I,A.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}`]=C[T]}a.useTextTag||"text"!==t.type||null==t.props.value||null!==y||(y=t.props.value),!1===a.useAttrId&&(E.id=null),!1===a.useAttrClass&&(E.className=null),a.classNames&&Object.keys(a.classNames).forEach((e=>{var i,r;e===((null==(i=null==t?void 0:t.props)?void 0:i.id)&&Sh(null==(r=null==t?void 0:t.props)?void 0:r.id))&&(E.className=a.classNames[e])}));var b=Array.isArray(y)?y:[y];return null==y?Nv.default.cloneElement(t,E):Nv.default.cloneElement(t,E,b)},Lv=()=>e=>{if(e.prototype.render){var t=e.prototype.render;e.prototype.render=function(){this.emitComponentEvent("templateWillUpdate");var e=t.call(this);this.updateClassStyle(),this.updateInnerClassStyle(),this.handleStyleType.includes("style")&&this.updateOuterStyle(),this.handleStyleType.includes("innerStyle")&&this.updateInnerStyle();var{style:a,darkModeStyle:i,templateStyle:r,dynamicStyle:n,classNames:o,renderContext:{styleOptions:s,useTextTag:l,useAttrId:d,useAttrClass:u},hostContext:{getDatasetPrefix:c}}=this,p=Mv((e=>{var t={};for(var a of e)for(var i of Object.keys(a))t[i]||(t[i]={}),Object.assign(t[i],a[i]||{});return t})([a,this.isDarkMode()?i:{},r,n]),e,{styleOptions:s,isItem:"base"===this.componentBehavior,useTextTag:l,useAttrId:d,useAttrClass:u,templateInfo:{templateId:this.id},classListMap:this.classListMap,classNames:o,getDatasetPrefix:c});return p}}return e},Bv=du(fu()),Fv=(e,t)=>(...a)=>{null==e||e(...a),null==t||t(...a)},Wv=()=>e=>{if(e.prototype.render){var t=e.prototype.render;e.prototype.render=function(){var e,a,i,r;this.emitComponentEvent("templateWillUpdate");var n=t.call(this);if(null==n)return null;var o,{props:{handleCommonClick:s,handleCommonTouchStart:l,handleCommonTouchEnd:d,handleCommonTouchCancel:u}}=this;return Bv.default.cloneElement(n,(o={onClick:Fv(null==(e=n.props)?void 0:e.onClick,s),onTouchStart:Fv(null==(a=n.props)?void 0:a.onTouchStart,l),onTouchEnd:Fv(null==(i=n.props)?void 0:i.onTouchEnd,d),onTouchCancel:Fv(null==(r=n.props)?void 0:r.onTouchCancel,u)},Object.keys(o).reduce(((e,t)=>ou(ou({},e),null==o[t]?{}:{[t]:o[t]})),{})))}}return e},Uv=class extends Rv{constructor(e){var t;if(super(e,{componentBehavior:"base"}),this.style={blank:{width:0,height:0},container:{position:"relative",WebkitTapHighlightColor:"transparent"},mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.handleStyleType=["style"],this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.longTapThreshold=null,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.state={showMask:!1,randomKey:"",darkMode:null!=(Hf=this.props.darkMode)&&Hf,prePropsDarkMode:null!=(jf=this.props.darkMode)&&jf},this.handleCommonClick=e=>{!1===this.bubbleEvent&&(this.emitAdCustomEvent("stopPropagationTap",{event:e}),null==e||e.stopPropagation()),this.doActions(this.events.tap,{event:e}),this.clickInfo&&this.emitAdCustomEvent("itemTap",{clickInfo:this.clickInfo})},this.isTouching=!1,this.longTapTimer=null,this.touchPos=null,this.handleCommonTouchStart=e=>{var t,a,i,r,n,o;if(this.isTouching=!0,!1===this.bubbleEvent&&(null==e||e.stopPropagation()),this.slideProperty.direction.length>0){var s=null!=(i=null==(a=(t=this.hostContext).toWebEvent)?void 0:a.call(t,e,"touchstart"))?i:e;(null==(r=null==s?void 0:s.touches)?void 0:r[0])&&(this.touchPos={x:null!=(n=s.touches[0].clientX)?n:0,y:null!=(o=s.touches[0].clientY)?o:0})}this.longTapThreshold&&(this.longTapTimer=setTimeout((()=>{this.isTouching&&this.doActions(this.events.longTap,{event:e})}),this.longTapThreshold)),this.doActions(this.events.touchstart,{event:e})},this.handleCommonTouchEnd=e=>{var t,a,i,r,n,o;if(this.isTouching=!1,!1===this.bubbleEvent&&(null==e||e.stopPropagation()),this.touchPos){var s=null!=(i=null==(a=(t=this.hostContext).toWebEvent)?void 0:a.call(t,e,"touchend"))?i:e;if(null==(r=null==s?void 0:s.touches)?void 0:r[0]){var l={x:null!=(n=s.touches[0].clientX)?n:0,y:null!=(o=s.touches[0].clientY)?o:0};this.handleSlide(this.touchPos,l)}}this.clearLongTapTimer(),this.doActions(this.events.touchend,{event:e})},this.handleCommonTouchCancel=e=>{this.isTouching=!1,!1===this.bubbleEvent&&(null==e||e.stopPropagation()),this.clearLongTapTimer(),this.doActions(this.events.touchcancel,{event:e})},this.clickInfo=this.getDataValueWithDefault("_clickInfo",null),this.isShow=this.getDataValueWithDefault("_isShow",!0),this.longTapThreshold=this.getDataValueWithDefault("_longTapThreshold",null),this.slideProperty=this.getDataValueWithDefault("_slideProperty",{direction:[],offset:0}),this.state.randomKey=Math.random().toString(16).slice(2,10),this.isShow&&(null==(t=this.template.style)?void 0:t.background)){var a=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(a){var[i,r]=a.slice(1);this.isLinearGradient=!0,Number(i)>Number(r)&&(this.isLinearGradientReverse=!0)}}this.bindEvents()}static getDerivedStateFromProps(e,t){return e.darkMode!==t.prePropsDarkMode?{darkMode:e.darkMode,prePropsDarkMode:e.darkMode}:null}bindEvents(){this.addAdCustomListener((e=>{if("setStyle"===e.action){var{id:t,targetid:a,style:i}=e.value||{};a!==this.id||t||this.setStyle("container",i,{isDynamic:!0,force:!0})}else if("setDarkMode"===e.action&&this.props.isRootItem){var{darkMode:r}=e.value;this.state.darkMode!==r&&this.setState({darkMode:r})}}))}getRandomKey(){return Math.random().toString(16).slice(2,10)}doAction(e){"forceRebuild"===e.payload.action&&this.setState({randomKey:this.getRandomKey()})}handleSlide(e,t){var a;if(this.slideProperty){var i={x:t.x-e.x,y:t.y-e.y},r=Math.abs(i.x)>=Math.abs(i.y),n=!1!==this.slideProperty.useStrictDirection,o=null!=(a=this.slideProperty.offset)?a:0,s={left:i.x<=-o&&(!n||r),right:i.x>=o&&(!n||r),up:i.y<=-o&&(!n||!r),down:i.y>=o&&(!n||!r)};for(var l of this.slideProperty.direction)s[l]&&this.doActions(this.events.slide,{direction:l})}}clearLongTapTimer(){this.longTapTimer&&(clearTimeout(this.longTapTimer),this.longTapTimer=null)}render(){var{renderContext:{isFlattenLayer:e}}=this,{template:t}=this.props,{randomKey:a,darkMode:i}=this.state,r=su(ou({},this.getCommonSubComponentProps()),{darkMode:i});if(r.randomKey=a,"for"===t.type)return zf.default.createElement(Cm,ou({},r));var n={layout:zf.default.createElement(Qv,ou({},r)),image:zf.default.createElement(nm,ou({},r)),text:zf.default.createElement(Zv,ou({},r)),feedback:zf.default.createElement(fm,ou({},r)),button:zf.default.createElement(lm,ou({},r)),video:zf.default.createElement(cm,ou({},r)),end:zf.default.createElement(Am,ou({},r)),carousel:zf.default.createElement(Qm,ou({},r)),countdown:zf.default.createElement(gm,ou({},r)),livetag:zf.default.createElement(a_,ou({},r)),popup:zf.default.createElement(r_,ou({},r)),feedbackDialog:zf.default.createElement(l_,ou({},r)),multimage:zf.default.createElement(c_,ou({},r)),score:zf.default.createElement(__,ou({},r)),rank:zf.default.createElement(E_,ou({},r)),hosttag:zf.default.createElement(I_,ou({},r)),poi:zf.default.createElement(S_,ou({},r))}[t.type]||null;if(!this.isShow||null===n)return zf.default.createElement("div",{id:"blank"});var o=this.isLinearGradient?zf.default.createElement("img",{id:"linear-gradient",className:this.isLinearGradientReverse?"reverse":"",src:this.linearGradientSrc}):null;if(n&&e()){var s=Array.isArray(n.props.children)?n.props.children:[n.props.children];return(0,zf.cloneElement)(n,{handleCommonClick:this.handleCommonClick,handleCommonTouchStart:this.handleCommonTouchStart,handleCommonTouchEnd:this.handleCommonTouchEnd,handleCommonTouchCancel:this.handleCommonTouchCancel},...s)}return zf.default.createElement("div",{id:"container",onClick:this.handleCommonClick,onTouchStart:this.handleCommonTouchStart,onTouchEnd:this.handleCommonTouchEnd,onTouchCancel:this.handleCommonTouchCancel},o,n)}};Uv=uu([Lv()],Uv);var Vv=du(fu());function Hv(e){class t extends Rv{constructor(e){var t,a;super(e,{componentBehavior:"hoc"}),this.style={mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},this.state={showMask:!1},this.handleStyleType=[],this.containerRef=(0,Vv.createRef)(),this.handleTouchStart=e=>{var{getPropertyOfElement:t,getDatasetPrefix:a}=this.hostContext;if(!e._isHandleMaskClick&&this.useMask&&this.containerRef.current){this.hideMaskOnSlide&&e.touches&&(this.isTouching=!0,this.touchStartX=e.touches[0].pageX||e.touches[0].clientX,this.touchStartY=e.touches[0].pageY||e.touches[0].clientY);for(var i=e.target,r=this.containerRef.current;i&&i!==r;){var{preventMask:n}=Ph(i,a);if("true"===n)return;i=t(i,"parent")}this.setState({showMask:!0}),e._isHandleMaskClick=!0}},this.handleTouchMove=e=>{if(this.isTouching&&this.useMask&&this.containerRef.current){var t=Math.abs(e.touches[0].pageX||e.touches[0].clientX-this.touchStartX),a=Math.abs(e.touches[0].pageY||e.touches[0].clientY-this.touchStartY);(t>this.minSlideDistance||a>this.minSlideDistance)&&this.setState({showMask:!1})}},this.handleTouchEnd=()=>{this.useMask&&this.containerRef.current&&(this.setState({showMask:!1}),this.isTouching=!1)},this.eventDelegator=this.renderContext.globalEventDelegator,this.hideMaskOnSlide=null!=(t=this.renderContext.hideMaskOnSlide)&&t,this.minSlideDistance=null!=(a=this.renderContext.minSlideDistance)?a:1,this.touchStartX=0,this.touchStartY=0,this.isTouching=!1,this.useMask=this.getDataValueWithDefault("_useMask",!1),this.bindEvents()}componentWillUnmount(){this.unbindEvents(),super.componentWillUnmount()}bindEvents(){this.addAdCustomListener((e=>{if("setStyle"===e.action){var{id:t,targetid:a,style:i}=e.value||{};a!==this.id||t||this.setStyle("container",i,{isDynamic:!0,force:!0})}})),this.eventDelegator.on("touchstart",`${this.id}-container`,this.handleTouchStart),this.hideMaskOnSlide&&this.useMask&&this.eventDelegator.on("touchmove",`${this.id}-container`,this.handleTouchMove),this.eventDelegator.onGlobal("touchend",this.handleTouchEnd),this.eventDelegator.onGlobal("touchcancel",this.handleTouchEnd)}unbindEvents(){this.eventDelegator.off("touchstart",`${this.id}-container`,this.handleTouchStart),this.eventDelegator.off("touchmove",`${this.id}-container`,this.handleTouchMove),this.eventDelegator.offGlobal("touchend",this.handleTouchEnd),this.eventDelegator.offGlobal("touchcancel",this.handleTouchEnd)}getMaskStyle(){var{showMask:e}=this.state,{darkMode:t}=this.props,{getMaskStyle:a}=this.hostContext,{maskStyle:i,darkModeMaskStyle:r}=(null==a?void 0:a())||{},n=ou({},this.getDataValueWithDefault("_maskStyle",{})),o=i||{};return t&&(n=Object.assign(n,this.getDataValueWithDefault("_darkModeMaskStyle",{})),o=Object.assign(o,r)),Object.assign(Object.keys(o).length?o:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.05)"},n,{display:this.useMask&&e?"":"none"})}render(){var{props:t}=this,{forwardedRef:a}=t,i={};return this.useMask&&Object.assign(i,{maskContainerRef:this.containerRef,renderMask:()=>Vv.default.createElement("div",{id:"mask",style:this.getMaskStyle()})}),Vv.default.createElement(e,su(ou(ou({},t),i),{ref:a}))}}return(0,Vv.forwardRef)(((e,a)=>Vv.default.createElement(t,su(ou({},e),{forwardedRef:a}))))}var jv=class extends Rv{constructor(e){var t,a,i,r,n;super(e),this.style={body:{zIndex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:"48px",width:"122px",lineHeight:"48px",backgroundColor:"#4C4C4C",borderRadius:"12px",fontSize:"17px",color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:"12px",minHeight:"50px"},".full-card-container":{zIndex:1000100,display:"flex",background:"#ffffff",borderRadius:"7px"},".full-card-container-row":{flexDirection:"row"},".full-card-container-column":{flexDirection:"column"},".no-interest-logo":{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='96' height='91' xmlns='http://www.w3.org/2000/svg'%3E %3Cg fill='none' fill-rule='evenodd'%3E %3Cpath d='M-327-540h750V666h-750z'/%3E %3Cpath d='M0-2h96v96H0z'/%3E %3Cpath d='M20 59v5l-8.89 5.927A2 2 0 0 1 8 68.263V18a6 6 0 0 1 6-6h56a6 6 0 0 1 6 6v2h-4v-2a2 2 0 0 0-2-2H14a2 2 0 0 0-2 2v46l8-5zm4 0h2.298v5H24v-5zm48-35h4v2.62h-4V24z' fill='%2307C160'/%3E %3Cpath d='M30 24h54a6 6 0 0 1 6 6v48.263a2 2 0 0 1-3.11 1.664L78 74H30a6 6 0 0 1-6-6V30a6 6 0 0 1 6-6zm0 4a2 2 0 0 0-2 2v38a2 2 0 0 0 2 2h50l6 4V30a2 2 0 0 0-2-2H30z' fill='%2307C160'/%3E %3Cpath d='M53.172 54.485l14.142-14.142 2.828 2.829L56 57.314l-2.828 2.828-11.314-11.314L44.686 46l8.486 8.485z' fill='%2307C160' fill-rule='nonzero'/%3E %3C/g%3E %3C/svg%3E\")",backgroundSize:"cover",width:"48px",height:"45.5px"},".no-interest-logo-row":{marginRight:"8px"},".no-interest-logo-column":{marginBottom:"24px"},".full-card-feedback-container-column":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},".full-card-feedback-title":{fontSize:"17px",lineHeight:"17px",color:"#2e2e2e"},".full-card-feedback-title-row":{marginBottom:"5px"},".full-card-feedback-title-column":{marginBottom:"14px"},".full-card-feedback-tips":{color:"#acacac",lineHeight:"12px",fontSize:"12px"}},this.state={hidden:!1,showFeedback:!1,darkMode:!1},this.handleStyleType=["style","innerStyle"],this.handleAdCustomEvent=e=>{switch(e.action){case"setDarkMode":var{darkMode:t}=e.value;this.state.darkMode!==t&&this.setState({darkMode:t});break;case"hideAd":this.hide();break;case"adShowHalf":this.emitComponentEvent("showhalf");break;case"adHideHalf":this.emitComponentEvent("hidehalf");break;case"adShowEntire":this.emitComponentEvent("showEntire");break;case"adHideEntire":this.emitComponentEvent("hideEntire");break;case"adShowEdge":this.emitComponentEvent("showEdge");break;case"adHideEdge":this.emitComponentEvent("hideEdge");break;case"btnTap":this.emitComponentEvent("adButtonTap");break;case"exposure":"value"in e?this.emitComponentEvent("exposure",e.value):this.emitComponentEvent("exposure");break;case"viewableExposure":"value"in e?this.emitComponentEvent("viewableExposure",e.value):this.emitComponentEvent("viewableExposure");break;case"showFeedback":this.showFeedback()}},this.show=e=>new Promise((t=>{this.useAnimate&&!e?this.setState({hidden:!1},(()=>{this.emitComponentEvent("showAnimate"),t()})):this.useAnimate&&e?(this.emitAdCustomEvent("checkExposure"),t()):this.setState({hidden:!1},(()=>{this.emitAdCustomEvent("checkExposure"),t()}))})),this.hide=e=>new Promise((t=>{this.useAnimate&&!e?(this.emitComponentEvent("hideAnimate"),t()):this.setState({hidden:!0},(()=>{this.emitAdCustomEvent("checkExposure"),t()}))})),this.showFeedback=()=>{var{useDefaultFeedback:e,useFullAreaFeedBack:t}=this;e&&(this.setState({showFeedback:!0}),setTimeout((()=>{this.setState({showFeedback:!1})}),3e3)),t&&this.setState({showFeedback:!0})},this.handleEnterForeground=()=>{this.emitComponentEvent("appEnterForeground"),this.emitAdCustomEvent("appEnterForeground")},this.handleEnterBackground=()=>{this.emitComponentEvent("appEnterBackground"),this.emitAdCustomEvent("appEnterBackground")},this.handleContainerClick=e=>{this.props.isMulti||this.disableContainerTap||(null==e||e.stopPropagation(),this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitComponentEvent("containerTap"),this.emitAdCustomEvent("containerTap",{event:e,clickInfo:this.clickInfo}))},this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.isMulti=null!=(a=null==(t=this.template.tplConfig)?void 0:t.isMulti)&&a,this.useAnimate=this.getDataValueWithDefault("useAnimate",!1),this.disableContainerTap=this.getDataValueWithDefault("disableContainerTap",!1),this.state.hidden=!this.getDataValueWithDefault("_isShow",!0),this.state.darkMode=null!=(i=this.props.darkMode)&&i,this.useFullAreaFeedBack=this.getDataValueWithDefault("useFullAreaFeedBack",!1),this.fullAreaFeedBackType=this.getDataValueWithDefault("fullAreaFeedBackType","column"),this.classStyles=(null==(n=null==(r=this.template)?void 0:r.options)?void 0:n.classStyles)||{},this.bindEvents(),this.emitComponentEvent("initialTemplate"),this.clickInfo=this.getDataValueWithDefault("_clickInfo",null)}componentWillUnmount(){super.componentWillUnmount(),this.unbindEvents()}bindEvents(){var{hostContext:e}=this.props;e.onAppEnterForeground(this.handleEnterForeground),e.onAppEnterBackground(this.handleEnterBackground),this.addAdCustomListener(this.handleAdCustomEvent)}unbindEvents(){var{hostContext:e}=this.props;e.offAppEnterForeground(this.handleEnterForeground),e.offAppEnterBackground(this.handleEnterBackground)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1);case"flattenLayer":return this.getDataValueWithDefault("flattenLayer",!1);case"exportAid":return this.getDataValueWithDefault("exportAid",!1);case"enableTimer":return this.getDataValueWithDefault("enableTimer",!0);case"exposureUntilVideoPlay":return this.getDataValueWithDefault("exposureUntilVideoPlay",!1);case"hideAfterLanding":return this.getDataValueWithDefault("hideAfterLanding",!1);case"multiShowList":return this.getDataValueWithDefault("multiShowList",[]);case"hasVideoElement":return this.getDataValueWithDefault("hasVideoElement",!1)}return null}doAction({payload:e,args:t}){var a,i;"hideAd"===e.action?(this.hide(),"value"in e&&e.value.preventClose):"changeMultiShow"===e.action?(null==(a=e.value)?void 0:a.listExpr)?this.emitAdCustomEvent("changeMultiShow",{list:this.run(e.value.listExpr,t)}):(null==(i=e.value)?void 0:i.list)?this.emitAdCustomEvent("changeMultiShow",{list:e.value.list}):(null==t?void 0:t.list)&&this.emitAdCustomEvent("changeMultiShow",{list:t.list}):"showAnimateDone"===e.action?this.show(!0):"hideAnimateDone"===e.action&&this.hide(!0)}isShow(){return!this.state.hidden}render(){var{props:{template:e,adPosition:t,systemInfo:a,renderMask:i,maskContainerRef:r},state:{hidden:n,showFeedback:o,darkMode:s}}=this,l={display:n?"none":""},d=["left","top"];return"miniprogram"===this.props.systemInfo.hostEnv&&d.push("fixed"),this.isWidthRequired&&d.push("width"),this.isFullScreen?Object.assign(l,{width:a.screenWidth,height:a.screenHeight}):Object.assign(l,Th(t||{},d)),n&&!this.useStyleHidden?Gf.default.createElement("div",null):Gf.default.createElement("div",{id:"body",style:l,className:this.isFullScreen?"full-size":""},e&&Gf.default.createElement("div",{id:"container",className:"wx-ad-custom "+(this.isFullScreen?"full full-size":""),onClick:this.handleContainerClick,ref:r},e.children.map((e=>Gf.default.createElement(Uv,su(ou({key:e.id},this.getCommonSubComponentProps()),{template:e,darkMode:s}))))),this.useFullAreaFeedBack&&o&&Gf.default.createElement("div",{id:"full-card-container",className:"tip-container full-card-container "+("row"===this.fullAreaFeedBackType?"full-card-container-row":"full-card-container-column")},Gf.default.createElement("div",{className:"no-interest-logo "+("row"===this.fullAreaFeedBackType?"no-interest-logo-row":"no-interest-logo-column")}),Gf.default.createElement("div",{id:"full-card-feedback-container",className:""+("row"===this.fullAreaFeedBackType?"":"full-card-feedback-container-column")},Gf.default.createElement("div",{id:"full-card-feedback-title",className:"full-card-feedback-title "+("row"===this.fullAreaFeedBackType?"full-card-feedback-title-row":"full-card-feedback-title-column")},"感谢你的反馈"),Gf.default.createElement("div",{id:"full-card-feedback-tips",className:"full-card-feedback-tips"},"我们会努力为你推荐更优质的广告"))),this.useDefaultFeedback&&o&&Gf.default.createElement("div",{id:"tip-container",className:"tip-container"},Gf.default.createElement("text",{id:"close-tip",className:"video-close-tip",value:"感谢反馈"})),null==i?void 0:i())}},Gv=Hv(jv=uu([Lv()],jv)),zv=du(fu()),$v=class extends Rv{constructor(e){super(e),this.style={".layout-row":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{display:"flex",position:"absolute",width:"100%",height:"100%"}},this.state={children:[]},this.classRow=!1,this.classColumn=!1,this.containerStyle={},this.baseType=this.options.baseType||1,2===this.baseType?this.classRow=!0:3===this.baseType?this.classColumn=!0:this.baseType,this.state.children=this.template.children||[]}doAction({payload:e}){if("addChildren"===e.action){var{value:t}=e,a=Array.isArray(t)?t:[t],i=[...this.state.children,...a];this.setState({children:i})}}render(){var{children:e}=this.state,{renderMask:t,maskContainerRef:a,randomKey:i}=this.props,r=["layout"];return this.classRow&&r.push("layout-row"),this.classColumn&&r.push("layout-column"),zv.default.createElement("div",{id:"container",className:r.join(" "),ref:a,style:this.containerStyle,key:i||""},e.map((e=>zv.default.createElement(Uv,su(ou({key:e.id},this.getCommonSubComponentProps()),{template:e})))),null==t?void 0:t())}},Qv=Hv($v=uu([Lv(),Wv()],$v)),Yv=du(fu()),qv=class extends Rv{constructor(e){var t;super(e),this.style={".text":{color:"#000",fontSize:"14px",wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"},".emoji-container":{position:"relative",width:"100%",overflow:"hidden",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start"},".emoji-text":{display:"flex"}},this.state={text:"",renderType:"text",renderText:""},this.classEllipsis=!1,this.emojiContainerRef=Yv.default.createRef(),this.emojiStyleStatus=!1,this.useTextAriaLabel=!1,this.searchReplaceNode=()=>cu(this,null,(function*(){var e,t=this.emojiContainerRef.current,a=t.childNodes,i=yield this.getBoundingClientRect(t),r=parseInt(null==(e=this.getTemplateStyle("text"))?void 0:e.fontSize,10),n=yield this.upperBound(a,i);if(n<a.length-1)for(var o=n;o>0;o--){var s=yield this.getBoundingClientRect(a[n]);if(!(i.width-(s.left-i.left)<r))break;n-=1}else n=-1;return n})),this.upperBound=(e,t)=>cu(this,null,(function*(){for(var a=0,i=e.length;a<i;){var r=a+Math.floor((i-a)/2);(yield this.isHidden(e[r],t))?i=r:a=r+1}return a-1})),this.isHidden=(e,t)=>cu(this,null,(function*(){var a=yield this.getBoundingClientRect(e),{top:i,left:r,width:n}=a,{top:o,height:s,left:l,width:d}=t;return!(!(Math.round(i-o)>=Math.round(s))&&!(r-l+n>=d+.1))}));var a=this.options.baseType||2;1===a?this.initCommonComponent():2===a?this.initNickNameComponent():3===a?this.initDescComponent():4===a?this.initRelationComponent():5===a&&this.initHostComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.useTextAriaLabel=(null==(t=this.hostContext)?void 0:t.useTextAriaLabel)||!1,this.setText(this.state.text)}componentDidMount(){super.componentDidMount(),4===this.options.baseType?this.emitAdCustomEvent("fetchRelationText",{targetid:this.id}):5===this.options.baseType&&this.emitAdCustomEvent("fetchHostText",{targetid:this.id,args:this.getDataValueWithDefault("hostArgs",{})}),this.calcEmojiOverflow()}componentDidUpdate(e,t){super.componentDidUpdate&&super.componentDidUpdate(e,t),"emoji"===this.state.renderType&&t.text!==this.state.text&&this.calcEmojiOverflow()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initRelationComponent(){this.state.text="",this.addAdCustomListener((e=>{if("changeRelationText"===e.action){var{targetid:t,text:a}=e.value;t===this.id&&(this.setText(a),this.emitComponentEvent("relationTextChanged",{text:a}),this.emitAdCustomEvent("relationTextChanged",{text:a}))}}))}initHostComponent(){this.state.text=this.getDataValueWithDefault("text",""),this.addAdCustomListener((e=>{if("changeHostText"===e.action){var{targetid:t,text:a}=e.value;t===this.id&&this.setText(a)}}))}initNickNameComponent(){var e=this.getAdData();this.state.text=rf(e)}initDescComponent(){var e=this.getAdData(),t=[19,12].includes(e.product_type),a=[559,560,721,929].includes(e.crt_size),i=46===e.product_type,r=23===e.product_type,n=[29,31].includes(e.product_type),o=[30,25].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:a},{path:["wording"],condition:[927,841].includes(e.crt_size)},{path:["crtInfo","0","card_info","description"]}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:n},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:r},{value:"今日小游戏推荐",condition:i},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=kh(e,s)}doAction({payload:e,args:t}){if("textSetText"===e.action){var a=this.getDataValue("text",e.value,{args:t});this.setText(a)}}setText(e){var{text:t,renderText:a,renderType:i}=this.prepareRenderText(e);this.mounted?this.setState({text:t,renderText:a,renderType:i}):(this.state.text=t,this.state.renderType=i,this.state.renderText=a)}hasEmoji(e){return/\[.*?\]/g.test(e)}prepareRenderText(e){var{renderContext:{transformLinefeed:t}}=this,a=this.hasEmoji(e),i=e,r=a?"emoji":"text";return t&&(i=this.transformLinefeed(e)),a&&(!this.emojiStyleStatus&&this.initEmojiTextStyle(),i=this.getEmojiTextJsx(i)),{text:e,renderType:r,renderText:i}}transformLinefeed(e){return null==e?void 0:e.replace("\n"," ")}getEmojiTextJsx(e){var t=Dh(e)||[];return t.length?Yv.default.createElement(Yv.default.Fragment,null,t.map(((e,t)=>{var a,i,r;return!e.props&&(e.props={}),"img"===e.type?((null==(a=e.props)?void 0:a.className)?e.props.className+=" emoji-img":e.props.className="emoji-img",r={type:"div",props:{className:"emoji-img-wrap",key:`img_${t}`},children:Yv.default.createElement(e.type,e.props,null)}):((null==(i=(r=Object.assign({},e)).props)?void 0:i.className)?r.props.className+=" emoji-text":r.props.className="emoji-text",r.props.key=`text_${t}`),Yv.default.createElement(r.type,r.props,r.children)}))):""}initEmojiTextStyle(){var e,t,a;(null==(a=null==(t=null==(e=this.template)?void 0:e.options)?void 0:t.innerStyles)?void 0:a.text)&&(this.bindStyle([{originId:"text",originKey:"maxHeight",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"maxWidth",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"width",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"textAlign",destRules:[{destClassName:"emoji-container",handleFn:e=>"left"===e?"flex-start":"right"===e?"flex-end":e,destKey:"justifyContent"}]},{originId:"text",originKey:"height",destRules:[{destClassName:"emoji-container"},{destClassName:"emoji-text",handleFn:(e,t)=>t.lineHeight||e}]},{originId:"text",originKey:"WebkitBoxOrient",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"marginTop",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"color",destRules:[{destClassName:"emoji-text"}]},{originId:"text",originKey:"fontSize",destRules:[{destClassName:"emoji-text"},{destClassName:"emoji-img",destKey:"width"},{destClassName:"emoji-img",destKey:"height"},{destClassName:"emoji-img-wrap",destKey:"width"},{destClassName:"emoji-img-wrap",destKey:"height"},{destClassName:"emoji-overflow",destKey:"width"}]},{originId:"text",originKey:"lineHeight",destRules:[{destClassName:"emoji-text"},{destClassName:"emoji-img"},{destClassName:"emoji-text",destKey:"height",handleFn:(e,t)=>e||t.height}]},{originId:"text",originKey:"fontWeight",destRules:[{destClassName:"emoji-text"}]},{originId:"text",originKey:"fontFamily",destRules:[{destClassName:"emoji-text"}]}]),this.emojiStyleStatus=!0)}getBoundingClientRect(e){var{getBoundingClientRect:t}=this.hostContext;return t?t(e):{}}calcEmojiOverflow(){return cu(this,null,(function*(){var{renderType:e,renderText:t}=this.state;if("text"!==e&&t){var a=t,i=[...a.props.children],r=yield this.searchReplaceNode();-1!==r&&("div"===i[r].type?i.splice(r,1,Yv.default.createElement("text",{className:"emoji-text emoji-overflow",value:"..."})):(i[r].props.className+=" emoji-overflow",i[r].props.value="..."),i=i.slice(0,r+1),a.props.children=i,this.setState({renderText:Object.assign({},a)}))}}))}render(){var{classEllipsis:e,emojiContainerRef:t,useTextAriaLabel:a}=this,{renderMask:i,maskContainerRef:r,randomKey:n}=this.props,{text:o,renderType:s}=this.state,{renderText:l}=this.state;return"text"===s&&this.classEllipsis&&null!==this.maxLen&&l&&(l=xh(l,2*this.maxLen)),Yv.default.createElement("div",{id:"container",ref:r,key:n||""},"emoji"===s?Yv.default.createElement("div",su(ou({ref:t},a?{role:"option","aria-label":o}:{}),{id:"emoji-container",className:"emoji-container"}),l):Yv.default.createElement("text",{id:"text",className:"text "+(e?"text-ellipsis":""),value:l}),null==i?void 0:i())}},Zv=Hv(qv=uu([Lv(),Wv()],qv)),Kv=du(fu()),Xv=(e,t)=>{if(!e)return"";if(!t)return e;var a=e.split("#"),i=a[0].indexOf("?")>-1?"&":"?",r="",n=Object.keys(t);if(n.length>0){for(var o of n)r=r.concat(`${o}=${t[o]}&`);return r.length>0&&(r=r.substring(0,r.length-1)),a[0]+i+r+(a[1]?`#${a[1]}`:"")}return e},Jv="svp_use_avif_flag=1",em="imageView2/format/webp",tm=e=>/^(https?:\/\/wxsnsdythumb\.wxs\.qq\.com)/.test(e)||/^(https?:\/\/wximg\.wxs\.qq\.com)/.test(e),am=(e,t)=>{if(!t)return!1;var a=tm(t);return!(1!==e||!a||!t.includes(Jv))},im=(e,t)=>{if(!t)return!1;var a=tm(t);return!(2!==e||!a||!t.includes(em))},rm=class extends Rv{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:"5px"},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:"",localImgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.usePredownload=!1,this.retry=0,this.exposureLoadRetry=0,this.loadError=!1,this.orginImgUrl="",this.currentImgUrl="",this.handleAdCustomEvent=e=>{if("adShowEdge"===e.action){if(this.loadError){var t=Number(this.getDataValueWithDefault("attachRetryTimes",5));if(this.exposureLoadRetry<t){this.exposureLoadRetry+=1;var a=Xv(this.state.imgUrl,{exposureLoadRetry:this.exposureLoadRetry});this.usePredownload?this.setState({localImgUrl:a}):this.setState({imgUrl:a})}}}else"predownloadMaterialDone"===e.action&&e.value.targetid===this.id&&this.usePredownload&&e.value.url===this.currentImgUrl&&this.setState({localImgUrl:e.value.cachedUrl})},this.handleImgLoad=()=>{var e;this.loadError=!1;var t=this.getRenderUrl();this.emitComponentEvent("imgLoad"),this.emitAdCustomEvent("imgLoad",{baseType:this.baseType,src:t,extInfo:{timeStamp:+new Date,imageFormat:this.getImageFormat(t)}}),null==(e=this.materialLoadResolve)||e.call(this,{id:this.template.id,type:this.template.type,src:this.getRenderUrl()})},this.handleImgError=e=>{var t,a,i,r=this.getAdData(),n=null==(t=null==r?void 0:r.extBackComm)?void 0:t.upgrade_type,o=this.getRenderUrl(),s=am(n,o),l=im(n,o);if(s||l){var d=((e,t)=>{if("string"!=typeof t)return t;var a=t.split("#")[0].indexOf("&")>-1?"&":"?",i=t;return 1===e&&(i=i.replace(`${a}${Jv}`,"")),2===e&&(i=i.replace(`${a}${em}`,"")),i})(n,o);return this.emitAdCustomEvent("imgError",{baseType:this.baseType,src:o,extInfo:{innerErrorType:"imageTypeError",upgradeType:n,imageFormat:this.getImageFormat(o)},error:e}),void this.setState({imgUrl:d})}this.loadError=!0;var u=Number(this.getDataValue("retryTimes"));if(u)if(this.orginImgUrl||(this.orginImgUrl=this.state.imgUrl),this.retry<u){this.retry+=1;var c=Xv(this.orginImgUrl,{retry:this.retry});this.setState({imgUrl:c})}else null==(a=this.materialLoadReject)||a.call(this,{id:this.template.id,type:this.template.type,src:this.getRenderUrl()}),this.emitComponentEvent("imgError"),this.emitAdCustomEvent("imgError",{baseType:this.baseType,src:this.getRenderUrl(),error:e});else null==(i=this.materialLoadReject)||i.call(this,{id:this.template.id,type:this.template.type,src:this.getRenderUrl()}),this.emitComponentEvent("imgError"),this.emitAdCustomEvent("imgError",{baseType:this.baseType,src:this.getRenderUrl(),error:e})},this.useBgMode=this.getDataValueWithDefault("useBgMode",!1),this.usePredownload=this.getDataValueWithDefault("usePredownload",!1);var t=this.options.baseType||2;switch(this.registeMaterialLoadPromise(),this.baseType=t,t){case 1:this.initCommonComponent();break;case 3:this.initADComponent();break;case 2:this.initIconComponent()}this.addAdCustomListener(this.handleAdCustomEvent),this.useBgMode}initCommonComponent(){this.setImageUrl(this.getDataValueWithDefault("imgUrl",""))}initIconComponent(){var e=this.getAdData();[19,12].includes(e.product_type)?this.classAppIcon=!0:this.classIcon=!0,this.setImageUrl(af(e))}initADComponent(){var e=this.getAdData(),t=e.image_url;t.startsWith("http")||(t=kh(e,[{path:["crtInfo","0","image_url"]},{path:["crtInfo","image_url"]}])||t);var a=kh(e,[{path:["crtInfo","0","card_info","image_md5"]},{path:["crtInfo","card_info","image_md5"]}]),i=this.getDataValue("imgUrl")||t;this.setImageUrl(i,a),this.emitAdCustomEvent("imgStartLoad",{baseType:this.baseType,src:i,extInfo:{timeStamp:+new Date,imageFormat:this.getImageFormat(i)}})}setImageUrl(e,t){this.currentImgUrl=e,this.mounted?this.setState({imgUrl:e}):this.state.imgUrl=e,this.usePredownload&&this.predownloadMaterial(e,t)}doAction({payload:e}){"imageSetSrc"===e.action&&this.setImageUrl(this.getDataValue("imgUrl",e.value))}getRenderUrl(){var{imgUrl:e,localImgUrl:t=""}=this.state;return this.usePredownload?t:e}getImageFormat(e){var t,a=this.getAdData(),i=null==(t=null==a?void 0:a.extBackComm)?void 0:t.upgrade_type,r=0;return am(i,e)&&(r=1),im(i,e)&&(r=2),r}render(){var{classAppIcon:e,classIcon:t}=this,{renderMask:a,maskContainerRef:i,randomKey:r}=this.props,n=3===this.baseType,o=["image-img"];return e&&o.push("image-img-appicon"),t&&o.push("image-img-icon"),Kv.default.createElement("div",{id:"container",className:"image",ref:i,key:r||""},Kv.default.createElement("img",su(ou({id:"img"},n?{"bubble-event":!1}:{}),{className:o.join(" "),src:this.getRenderUrl(),onLoad:this.handleImgLoad,onError:this.handleImgError})),null==a?void 0:a())}},nm=Hv(rm=uu([Lv(),Wv()],rm)),om=du(fu()),sm=class extends Rv{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:"3px",overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:"16px"},".button-icon":{width:"12px",height:"11px",marginRight:6,backgroundSize:"100% 100%",backgroundPosition:"0 0"}},this.state={buttonText:""},this.isShowIcon=!1,this.handleAdCustomEvent=e=>{"changedAdBtnText"===e.action&&e.value.text&&this.setState({buttonText:e.value.text})},this.handleButtonClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitAdCustomEvent("btnTap",{event:e}),this.emitComponentEvent("buttonTap",{event:e})};var t=this.options.baseType||2;this.isShowIcon=this.getDataValueWithDefault("isShowIcon",!1),1===t?this.initCommonComponent():2===t&&this.initLogicCommonComponent()}componentWillUnmount(){super.componentWillUnmount()}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e,t,a,i=this.getAdData(),r=this.getDataValue("buttonText"),n=(null==(e=i.buttonAction)?void 0:e.button_text)||(null==(t=i.button_action)?void 0:t.button_text)||"查看";r?this.state.buttonText=r:23===i.product_type?this.state.buttonText=(null==(a=null==i?void 0:i.biz_info)?void 0:a.is_subscribed)?"查看":n:this.state.buttonText=n,this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){var t=this.getDataValue("value",e);"buttonSetText"===e.action&&this.setText(t)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{renderMask:e,maskContainerRef:t,randomKey:a}=this.props;return om.default.createElement("div",{id:"container",className:"button",ref:t,onClick:this.handleButtonClick,key:a||""},this.isShowIcon&&om.default.createElement("div",{id:"button-icon",className:"button-icon"}),om.default.createElement("text",{id:"button-text",className:"button-text",value:this.state.buttonText}),null==e?void 0:e())}},lm=Hv(sm=uu([Lv()],sm)),dm=du(fu()),um=class extends Rv{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".video-block":{display:"block",width:"100%",height:"100%"},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:"6px",width:"100%",height:"100%"},".video-poster":{display:"flex",position:"absolute",zIndex:1000008,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:"24px",height:"24px"},".video-voice-box-topleft":{top:"10px",left:"10px"},".video-voice-box-topright":{top:"10px",right:"10px"},".video-voice-box-bottomleft":{bottom:"10px",left:"10px"},".video-voice-box-bottomright":{bottom:"10px",right:"10px"},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:"12px",width:"32px",height:"16px",lineHeight:"16px"},".video-count-down-topleft":{top:"10px",left:"10px"},".video-count-down-topright":{top:"10px",right:"10px"},".video-count-down-bottomleft":{bottom:"10px",left:"10px"},".video-count-down-bottomright":{bottom:"10px",right:"10px"},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:"3px",backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:"3px",backgroundColor:"#07c160"},".video-resume-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",alignItems:"center",background:"rgba(0,0,0,0.5)",borderRadius:"8px 8px 0px 0px"},".video-resume-btn":{position:"absolute",left:"50%",top:"50%",zIndex:10,MsTransform:"translate(-50%, -50%)",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",textAlign:"center",borderRadius:0,MozBorderRadius:0,WebkitBorderRadius:0,color:"#fff",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",zoom:"0.8"},".video-resume-icon":{display:"inline-block",fontSize:0,width:0,height:0,marginTop:"25px",marginLeft:"25px",marginBottom:"25px",borderWidth:"14px 25px",overflow:"hidden",borderColor:"transparent transparent transparent #fff",borderStyle:" dotted dotted dotted solid"},".hidden":{display:"none"}},this.state={src:"",poster:"",muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1,isShowResumeBtn:!1,isPosterShow:!0,videoCanLoad:!0},this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.lastPositionTime=0,this.videoRef=dm.default.createRef(),this.videoDuration=0,this.objectFit="contain",this.playsInline=!1,this.useResumeBtn=!1,this.preload="auto",this.usePredownload=!1,this.useImagePoster=!1,this.videoStartLoadTime=Date.now(),this.videoStartPlayTime=0,this.videoStopTime=0,this.firstFramePlayCnt=0,this.lastFramePlayCnt=0,this.isFirstFrame=!1,this.toggleMuted=e=>{null==e||e.stopPropagation();var t=!this.state.muted;this.setState({muted:t}),e&&this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitComponentEvent("mutedChange",{muted:t}),this.emitAdCustomEvent("adVideoMuteChange",{muted:t})},this.handleAdCustomEvent=e=>{var t;switch(e.action){case"appEnterBackground":var a=Math.min(this.currentTime,this.videoDuration);"value"in e&&(null==(t=e.value)?void 0:t.inAdDetail)?this.reportVideoPlay("partial","app_exit",a):this.reportVideoPlay("partial","exit",a);break;case"endPageInit":this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case"endPageHide":this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case"endPageShow":this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case"btnTap":this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration);break;case"operateAdVideo":var{type:i}=e.value;["play","pause","stop"].includes(i)&&this.operateVideoPlay(i);break;case"allowAdVideoLoad":this.setState({videoCanLoad:!0});break;case"predownloadMaterialDone":if(e.value.targetid===this.id&&this.usePredownload){for(var r of["src","poster"])e.value.url===this.state[r]&&this.setState({[r]:e.value.cachedUrl});e.value.url===this.state.src?this.setState({src:e.value.cachedUrl}):e.value.url===this.state.poster&&this.setState({poster:e.value.cachedUrl})}break;case"changeVideoMute":var{muted:n}=e.value;this.setState({muted:n}),this.emitComponentEvent("mutedChange",{muted:n})}},this.handleError=e=>{this.useResumeBtn&&this.setState({isShowResumeBtn:!0}),this.emitAdCustomEvent("adVideoLoadFailed",e)},this.handleTimeUpdate=e=>{var t,a,{loop:i}=this.state,r=e.duration||(null==(t=e.currentTarget)?void 0:t.duration),n=e.position||(null==(a=e.currentTarget)?void 0:a.currentTime);if(this.setState({isPosterShow:!1}),null!=r&&null!=n){var o=Math.min(1,n/r);this.setStyle("videoProgressPlayed",{width:100*o+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(r-n)}s`}),this.emitComponentEvent("videoTimeUpdate",{event:e,rate:o}),this.emitAdCustomEvent("adVideoTimeUpdate",{duration:r,position:n}),this.isFirstFrame||(this.isFirstFrame=!0,this.firstFramePlayCnt+=1),i&&this.currentTime>1e3*n&&(this.firstFramePlayCnt+=1,this.reportVideoPlay("complete","end",this.videoDuration),this.reportVideoPlay("partial","start",0)),this.currentTime=1e3*n,this.videoDuration=1e3*r}},this.handleEnded=e=>{this.emitComponentEvent("videoEnded",{event:e}),this.emitAdCustomEvent("triggerEvent",{eventName:"videoended",detail:{baseType:this.baseType}}),this.emitAdCustomEvent("adVideoEnded"),this.videoStopTime=Date.now(),this.lastFramePlayCnt+=1,this.reportVideoPlay("complete","end",this.videoDuration),this.lastPositionTime=this.currentTime,this.currentTime=0,this.isFirstFrame=!1,this.isShowEndPage&&this.emitAdCustomEvent("showEndPage",{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent("videoPlay",{event:e}),this.emitAdCustomEvent("adVideoPlay",{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.videoStartPlayTime=Date.now(),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent("videoPause",{event:e}),this.emitAdCustomEvent("adVideoPause",{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.videoStopTime=Date.now(),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration)),this.lastPositionTime=this.currentTime},this.handleLoadedMetaData=e=>{this.emitAdCustomEvent("adVideoLoadedMetaData",{event:e,src:this.state.src,time:Date.now()}),this.emitComponentEvent("videoLoadedMetaData",{event:e,time:Date.now()})},this.handleResume=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitAdCustomEvent("adVideoResumeBtnClick")},this.handleImagePosterLoad=()=>{var e;null==(e=this.materialLoadResolve)||e.call(this,{id:this.template.id,type:this.template.type,subType:"poster",src:this.state.poster})},this.handleImagePosterError=()=>{var e;null==(e=this.materialLoadReject)||e.call(this,{id:this.template.id,type:this.template.type,subType:"poster",src:this.state.poster})},this.baseType=this.options.baseType||2,1===this.baseType?this.initCommonComponent():2===this.baseType&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.state.autoplay=this.getDataValueWithDefault("autoplay",!1),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.playsInline=this.getDataValueWithDefault("playsInline",!1),this.useResumeBtn=this.getDataValueWithDefault("useResumeBtn",!1),this.useClickMask=this.getDataValueWithDefault("useClickMask",!1),this.preload=this.getDataValueWithDefault("preload","auto"),this.usePredownload=this.getDataValueWithDefault("usePredownload",!1),this.useImagePoster=this.getDataValueWithDefault("useImagePoster",!1),this.useImagePoster&&this.state.poster&&this.registeMaterialLoadPromise(),setTimeout((()=>{this.emitComponentEvent("mutedChange",{muted:this.state.muted})}),0)}initCommonComponent(){this.state.src=this.getDataValueWithDefault("src",""),this.state.poster=this.getDataValueWithDefault("poster",""),this.usePredownload&&this.predownloadMaterial(this.state.src),this.usePredownload&&this.predownloadMaterial(this.state.poster),this.emitAdCustomEvent("adVideoLoadStart",{src:this.state.src,time:Date.now()})}initADComponent(){var e,t=this.getAdData();this.state.videoCanLoad=!(null!=(e=this.hostContext.useVideoLazyLoad)&&e),this.state.src=this.getDataValue("src")||kh(t,[{path:["video_info","videoUrl"]},{path:["video_info","video_url"]}]),this.state.poster=this.getDataValue("poster")||kh(t,[{path:["video_info","thumbUrl"]},{path:["video_info","thumb_url"]}]),this.videoDuration=1e3*kh(t,[{path:["wx_game_video","short_video","video_duration"]},{path:["crtInfo","short_video","video_duration"]},{path:["crtInfo","0","short_video","video_duration"]}]);var a=this.getDataValue("src")?void 0:kh(t,[{path:["video_info","video_md5"]},{path:["wx_game_video","short_video","video_md5"]},{path:["crtInfo","short_video","video_md5"]},{path:["crtInfo","0","short_video","video_md5"]}]),i=this.getDataValue("poster")?void 0:kh(t,[{path:["video_info","thumb_md5"]},{path:["wx_game_video","short_video","thumb_md5"]},{path:["crtInfo","short_video","thumb_md5"]},{path:["crtInfo","0","short_video","thumb_md5"]}]);this.addAdCustomListener(this.handleAdCustomEvent),this.usePredownload&&this.predownloadMaterial(this.state.src,a),this.usePredownload&&this.predownloadMaterial(this.state.poster,i),this.emitAdCustomEvent("reportTimePoint",{key:"p8"}),this.emitAdCustomEvent("adVideoLoadStart",{src:this.state.src,time:Date.now()})}doAction({payload:e}){switch(e.action){case"videoToggleMuted":this.toggleMuted();break;case"videoPlay":this.operateVideoPlay("play");break;case"videoPause":this.operateVideoPlay("pause");break;case"videoStop":this.operateVideoPlay("stop")}}operateVideoPlay(e){var{hostContext:{operateVideo:t}}=this;["play","pause","stop","seek"].includes(e)&&(this.setState({isShowResumeBtn:"pause"===e}),this.videoRef.current&&(null==t||t(this.videoRef.current,e)))}reportVideoPlay(e,t,a=0){2===this.baseType&&this.emitAdCustomEvent("reportVideoPlay",{playType:e,conditionType:t,videoInfo:{playDuration:a,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay,videoStartLoadTime:this.videoStartLoadTime,videoStartPlayTime:this.videoStartPlayTime,videoStopTime:this.videoStopTime,firstFramePlayCnt:this.firstFramePlayCnt,lastFramePlayCnt:this.lastFramePlayCnt,startProgressBarPosition:this.lastPositionTime,stopProgressBarPosition:this.currentTime}})}render(){var{isShowVoice:e,mutedIconSrc:t,voiceIconSrc:a,voicePlacement:i,countDownPlacement:r,isShowProgress:n,isShowCountDown:o,objectFit:s,playsInline:l,useResumeBtn:d,useClickMask:u,useImagePoster:c,preload:p}=this,{muted:h,loop:f,autoplay:v,countDownNumber:m,isEndPageShowing:_,isShowResumeBtn:g,src:y,poster:A,isPosterShow:E,videoCanLoad:C}=this.state,{renderMask:T,maskContainerRef:I,randomKey:b}=this.props,{renderContext:{videoUseBlock:w}}=this,k=["video-voice-box"],S=["video-count-down"];return k.push(`video-voice-box-${i}`),S.push(`video-count-down-${r}`),dm.default.createElement("div",{id:"container",className:"video",ref:I,key:b||""},dm.default.createElement("video",su(ou({id:"video",className:Ch("video-context",w&&"video-block"),ref:this.videoRef},C?{src:y}:{}),{poster:this.useImagePoster?void 0:A,controls:!1,muted:h,loop:f,autoPlay:v,autoplay:v,autoInsert:!1,playsInline:l,underGameView:!1,showProgress:!1,showPlayBtn:!1,showCenterPlayBtn:!1,showFullscreenBtn:!1,enableProgressGesture:!1,objectFit:s,preload:p,onTimeUpdate:this.handleTimeUpdate,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetaData}),u&&dm.default.createElement("div",{className:"video-click-mask",id:"video-click-mask"})),c&&A&&dm.default.createElement("img",{id:"video-poster",className:Ch("video-poster",!E&&"hidden"),src:A,onLoad:this.handleImagePosterLoad,onError:this.handleImagePosterError}),d&&g&&dm.default.createElement("div",{className:"video-resume-container",id:"video-resume-container"},dm.default.createElement("a",{className:"video-resume-btn",id:"video-resume-btn",onClick:this.handleResume},dm.default.createElement("i",{id:"video-resume-icon",className:"video-resume-icon"}," "))),!_&&e&&dm.default.createElement("div",{id:"videovoicebox",className:k.join(" "),onClick:this.toggleMuted,preventMask:!0},dm.default.createElement("img",{src:t,id:"video-muted-img",className:Ch("video-voice-icon",!h&&"hidden")}),dm.default.createElement("img",{src:a,id:"video-voice-img",className:Ch("video-voice-icon",h&&"hidden")})),n&&dm.default.createElement("div",{id:"video-progress",className:"video-progress"},dm.default.createElement("div",{id:"video-progress-played",className:"video-progress-played"})),!_&&o&&m&&dm.default.createElement("text",{id:"video-count-down",className:S.join(" "),value:m}),null==T?void 0:T())}},cm=Hv(um=uu([Lv(),Wv()],um)),pm=du(fu()),hm=class extends Rv{constructor(e){super(e),this.style={".feedback-icon":{width:"6px",height:"4px",marginLeft:"2px",position:"relative"},".close-icon":{width:"6px",height:"6px",marginLeft:"2px",position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".show":{display:""},".hide":{display:"none"},".feedback-hot-click":{display:"none"},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"2px"},".feedback-tag-text":{fontSize:"10px",height:"12px",lineHeight:"12px",color:"#fff"},".feedback-list":{position:"absolute",width:"134px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:"1px",borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:"4px",zIndex:1000011},".feedback-list-bottomleft":{top:"26px",left:"6px"},".feedback-list-bottomright":{top:"26px",right:"6px"},".feedback-list-topleft":{bottom:"26px",left:"6px"},".feedback-list-topright":{bottom:"26px",right:"6px"},".feedback-btn":{position:"relative",width:"132px",height:"32px",lineHeight:"32px",color:"#566a97",fontSize:"12px",opacity:.9,textAlign:"center",zIndex:1000012},".feedback-title":{color:"#000",zIndex:1000012},".feedback-line":{width:"100px",height:"1px",opacity:.03,backgroundColor:"#000",zIndex:1000012}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.handleCloseClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),this.emitComponentEvent("tagTap",{event:e}),this.emitAdCustomEvent("hideAd",{animation:this.getDataValueWithDefault("hideWithAnimation",!1)})},this.handleTagClick=e=>{if(2===this.baseType)return this.handleSimpleTagClick(e);if(3===this.baseType)return this.handleSingleTagClick(e);null==e||e.stopPropagation();var{isShowFeedback:t,isShowFeedbackMenu:a}=this.state;t||a?(this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitAdCustomEvent("feedbackHide")):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"广告角标",event:e}),this.emitComponentEvent("tagTap",{event:e}))},this.handleDislikeClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent("dislikeTap",{event:e}),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"不感兴趣",event:e})},this.handleFeedbackBtnClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent("feedbackBtnTap",{event:e}),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"投诉",event:e}),this.emitAdCustomEvent("feedbackBtnTap")},this.handleAdCustomEvent=e=>{"feedbackHide"===e.action&&this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1})},this.handleIconLoad=()=>{var e,t=this.getDataValue("feedbackIcon")||(2===this.baseType?this.closeIconSrc:this.feedbackIconSrc);null==(e=this.materialLoadResolve)||e.call(this,{id:this.template.id,type:this.template.type,subType:"feedbackIcon",src:t})},this.handleIconError=()=>{var e,t=this.getDataValue("feedbackIcon")||(2===this.baseType?this.closeIconSrc:this.feedbackIconSrc);null==(e=this.materialLoadReject)||e.call(this,{id:this.template.id,type:this.template.type,subType:"feedbackIcon",src:t})},this.checkUseApx(),this.baseType=this.options.baseType||1,this.isShowFeedbackTitle=this.getDataValueWithDefault("isShowFeedbackTitle",!0),this.isShowCloseTag=this.getDataValueWithDefault("isShowCloseTag",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.tagContainerPreventMask=this.getDataValueWithDefault("tagContainerPreventMask",!0),this.addAdCustomListener(this.handleAdCustomEvent),this.registeMaterialLoadPromise()}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){null==e||e.stopPropagation(),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),this.getDataValue("preventHide")||this.emitAdCustomEvent("hideAd",{animation:this.getDataValueWithDefault("hideWithAnimation",!1)}),this.emitComponentEvent("tagTap",{event:e})}handleSingleTagClick(e){null==e||e.stopPropagation(),this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitAdCustomEvent("feedbackSingleTagTap",{event:e,tagElement:this.getElementById("feedbackTagContainer"),feedbackMenuStyle:this.options.feedbackMenuStyle}),this.emitComponentEvent("tagTap",{event:e})}handleDislikeReasonClick(e,t){null==t||t.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent("dislikeReasonTap",{event:t}),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e,event:t});var a=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===a?this.emitAdCustomEvent("showFeedback"):"hide"===a&&this.emitAdCustomEvent("hideAd",{animation:this.getDataValueWithDefault("hideWithAnimation",!1)})}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:a}=this.state,{useStyleHidden:i,tagContainerPreventMask:r}=this,{renderMask:n,maskContainerRef:o,randomKey:s}=this.props,l=["feedback-list"],d=["feedback-list"];a&&(l.push(`feedback-list-${a.toLowerCase()}`),d.push(`feedback-list-${a.toLowerCase()}`)),i&&(l.push(e?"show":"hide"),d.push(t?"show":"hide"));var u=this.getDataValue("feedbackIcon")||(2===this.baseType?this.closeIconSrc:this.feedbackIconSrc),c=2===this.baseType?"close-icon":"feedback-icon",p=this.getDataValueWithDefault("feedbackTagText","广告");return pm.default.createElement("div",{id:"container",className:"feedback","bubble-event":"false",ref:o,key:s||""},pm.default.createElement("div",{id:"feedback-tag-container",className:"feedback-tag-container",onClick:this.handleTagClick,preventMask:r},pm.default.createElement("div",{id:"feedback-hot-click",className:"feedback-hot-click"}),pm.default.createElement("text",{id:"feedback-tag",className:"feedback-tag-text",value:p}),pm.default.createElement("img",{id:"feedback-icon",className:c,src:u,onLoad:this.handleIconLoad,onError:this.handleIconError})),(e||i)&&pm.default.createElement("div",{id:"menu1",key:"menu1",className:l.join(" ")},this.isShowFeedbackTitle&&pm.default.createElement("text",{className:"feedback-btn feedback-title",value:"由赞助商提供的内容"}),this.isShowCloseTag&&pm.default.createElement(pm.default.Fragment,null,pm.default.createElement("div",{className:"feedback-line"}),pm.default.createElement("text",{id:"close-btn",className:"feedback-btn",onClick:this.handleCloseClick,value:"关闭此广告",preventMask:!0})),pm.default.createElement("div",{className:"feedback-line"}),pm.default.createElement("text",{id:"dislike",className:"feedback-btn",onClick:this.handleDislikeClick,value:"不感兴趣",preventMask:!0}),pm.default.createElement("div",{className:"feedback-line"}),pm.default.createElement("text",{id:"feedback-btn",className:"feedback-btn",onClick:this.handleFeedbackBtnClick,value:"投诉",preventMask:!0})),(t||i)&&pm.default.createElement("div",{id:"menu2",key:"menu2",className:d.join(" ")},pm.default.createElement("text",{id:"isdismatch",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,1),value:"与我无关",preventMask:!0}),pm.default.createElement("div",{className:"feedback-line"}),pm.default.createElement("text",{id:"isduplicate",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,5),value:"重复收到多次",preventMask:!0}),pm.default.createElement("div",{className:"feedback-line"}),pm.default.createElement("text",{id:"isbadad",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,4),value:"内容太差",preventMask:!0})),null==n?void 0:n())}},fm=Hv(hm=uu([Lv(),Wv()],hm)),vm=du(fu()),mm=["SPLITLINE","COUNTDOWN"],_m=class extends Rv{constructor(e){super(e),this.style={".countdown":{position:"relative"},".backgroundContainer":{display:"flex",position:"relative",flexDirection:"row",height:"32px",alignItems:"center",paddingLeft:"12px",paddingRight:"12px",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:"0.5px",borderRadius:"16px"},".countdown-container":{height:"20px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:"14px",height:"20px",lineHeight:"20px",width:"14px",color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:"14px",height:"20px",lineHeight:"20px",width:"11px",color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:"0.5px",height:"18.5px",marginRight:"9px",position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)",marginLeft:"50px"}},this.state={countdownValue:"5"},this.children=[],this.useCountdownText=!0,this.useFeedback=!0,this.useCountdownEvent=!0,this.startNumber=5,this.componentOrders=mm,this.feedback={type:"feedback",id:"Countdown-Feedback",options:{innerStyles:{container:{style:{position:"absolute",height:"32px",display:"flex",zIndex:1111999,left:"12px",padding:"0px"}},feedbackTag:{style:{fontSize:"14px",width:"28px",height:"20px",lineHeight:"20px"}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:"0px",padding:"0px",height:"32px",top:"0px",left:"0px",display:"flex"}},feedbackIcon:{style:{marginLeft:"4.5px",width:"9px",height:"6px",marginTop:"4px"}},menu1:{style:{top:"40px",left:"0px"}},menu2:{style:{top:"40px",left:"0px"}}},data:{}}},this.defaultChildren={},this.handleAdCustomEvent=e=>{if("changeCountdown"===e.action&&this.useCountdownEvent){var t=2===e.value.value.toString().length?18:11;this.setStyle("countdownvalue",{width:t}),this.setState({countdownValue:e.value.value})}},this.defaultChildren.feedback=this.feedback,this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent),this.startNumber=this.getDataValueWithDefault("startNumber",5),this.state.countdownValue=String(this.startNumber),this.useCountdownText=this.getDataValueWithDefault("useCountdownText",!0),this.useCountdownEvent=this.getDataValueWithDefault("useCountdownEvent",!0),this.useFeedback=this.getDataValueWithDefault("useFeedback",!0),this.componentOrders=this.getDataValueWithDefault("componentOrders",mm)}doAction({payload:e,args:t}){if("changeCountdownValue"===e.action){var a=this.getDataValue("text",e.value,{args:t});this.setState({countdownValue:a})}}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getDataValue("childrenConf");if(t)for(var a of Object.keys(t))this.defaultChildren[a]&&bh(this.defaultChildren[a],t[a]);var i=[];return i=[this.defaultChildren.feedBack],3===e?i.concat(this.template.children||[]):i}render(){var{children:e,state:{countdownValue:t},useCountdownText:a,componentOrders:i,useFeedback:r}=this,{renderMask:n,maskContainerRef:o,randomKey:s}=this.props,l=e=>vm.default.createElement("div",{id:"countdown-container",className:"countdown-container",key:e},vm.default.createElement("text",{className:"countdown-value",id:"countdownvalue",value:t}),a&&vm.default.createElement("text",{className:"countdown-text",value:"秒"})),d=e=>vm.default.createElement("div",{id:"split-line",className:"split-line",key:e}),u=t=>e.map((e=>vm.default.createElement(Uv,su(ou({},this.getCommonSubComponentProps()),{template:e,key:t}))));return vm.default.createElement("div",{id:"container",className:"countdown",ref:o,key:s||""},r&&(()=>vm.default.createElement(Uv,su(ou({},this.getCommonSubComponentProps()),{template:this.feedback})))(),vm.default.createElement("div",{className:"backgroundContainer"},i.map((e=>{return{CHILDREN:u(t=e),SPLITLINE:d(t),COUNTDOWN:l(t)}[t];var t}))),null==n?void 0:n())}},gm=Hv(_m=uu([Lv(),Wv()],_m)),ym=du(fu()),Am=class extends Rv{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5},".refresh-play":{fontSize:"14px",height:"18px",lineHeight:"18px",display:"none",color:"#d8d8d8"}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.useEndDefaultFeedback=!0,this.handleAdCustomListener=e=>cu(this,[e],(function*({action:e}){switch(e){case"showEndPage":yield this.setState({isShowEndPage:!0}),this.emitAdCustomEvent("endPageShow"),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent("show");break;case"appEnterBackground":this.state.isShowEndPage&&this.reportEndPageDuration();break;case"appEnterForeground":this.state.isShowEndPage&&(this.showTime=Date.now());break;case"adShowHalf":this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case"adHideHalf":this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}})),this.handleReplay=e=>{null==e||e.stopPropagation(),this.setState({isShowEndPage:!1}),this.emitAdCustomEvent("endPageHide"),this.emitComponentEvent("hide"),this.reportEndPage({act_type:1003}),this.emitComponentEvent("replay")},this.handleContainerClick=()=>{this.reportEndPage({act_type:1002})};var t=this.getAdData();this.cardInfo=wh(t,["crtInfo",0,"card_info"],"")||wh(t,["crtInfo","card_info"],"")||{},this.showFreshIcon=this.getDataValueWithDefault("showFreshIcon",!0);var{end_page_type:a}=this.cardInfo;(a||this.getDataValueWithDefault("forceEnabled",!1))&&(this.backgroundImage=this.cardInfo.head_bg_img,this.refreshIconSrc=this.getDataValueWithDefault("refreshIconSrc","https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png"),this.useEndDefaultFeedback=this.getDataValueWithDefault("useEndDefaultFeedback",!0),this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),setTimeout((()=>{this.emitAdCustomEvent("endPageInit")}),0))}bindEvent(){this.addAdCustomListener(this.handleAdCustomListener)}componentWillUnmount(){super.componentWillUnmount(),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent("reportEndPage",{data:e})}doAction({payload:e}){"endPageHide"===e.action&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent("endPageHide"),this.emitComponentEvent("hide"))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),a={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},i={},r=this.template.id,{renderContext:{isFlattenLayer:n}}=this;i.feedBack={type:"feedback",id:`${r}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:"reportMMData",value:{id:"19002",data:Object.assign({act_type:1004},a)}}],dislikeReasonTap:[{action:"triggerEvent",value:{eventName:"videodislike"}}]}}},i.iconBig={type:"image",id:`${r}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},i.nickBig={type:"text",id:`${r}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},i.descSmall={type:"text",id:`${r}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},i.button={type:"button",id:`${r}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:'#like($const.systemInfo.osVersion, "Android") ? "1px" : "0"'}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:"reportEndPage",value:{data:{act_type:1001}}}]}}},i.iconSmall={type:"image",id:`${r}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},i.nickSmall={type:"text",id:`${r}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},i.layoutSmall={type:"layout",id:`${r}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},i.layoutSmall.children.push(i.iconSmall),i.layoutSmall.children.push(i.nickSmall),i.descBig={type:"text",id:`${r}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var o=this.getDataValue("childrenConf");if(o)for(var s of Object.keys(o))i[s]&&bh(i[s],o[s]);var l=[];if(this.useEndDefaultFeedback&&l.push(i.feedBack),l=2===this.cardInfo.end_page_type?l.concat([i.layoutSmall,i.descBig,i.button]):l.concat([i.iconBig,i.nickBig,i.descSmall,i.button]),3===e)return l.concat(this.template.children||[]);if(n()&&l){var d=e=>{e.forEach((e=>{var t;e.style&&((e,t,a)=>{for(var i="string"==typeof t?t.split("."):t,r=e,n=0;r&&n<i.length-1;)r[i[n]]||(r[i[n]]={}),r=r[i[n]],n+=1;r[i[n]]=a})(e,"options.innerStyles.container.style",bh({},e.style,wh(e,"options.innerStyles.container.style",{}))),(null==(t=null==e?void 0:e.children)?void 0:t.length)&&d(e.children)}))};d(l)}return l}render(){var{backgroundImage:e,children:t,refreshIconSrc:a,showFreshIcon:i,state:{isShowEndPage:r}}=this,{renderMask:n,maskContainerRef:o,randomKey:s}=this.props;return ym.default.createElement("div",{id:"container",className:"end",onClick:this.handleContainerClick,ref:o,key:s||"",style:{display:r?"flex":"none"}},e&&ym.default.createElement("img",{id:"backgroundImage",src:e}),t.map((e=>ym.default.createElement(Uv,su(ou({key:e.id},this.getCommonSubComponentProps()),{template:e})))),i&&ym.default.createElement("div",{id:"refresh",className:"end-refresh",onClick:this.handleReplay},ym.default.createElement("img",{id:"refresh-icon",className:"end-refresh-icon",src:a}),ym.default.createElement("div",{id:"refresh-play",className:"refresh-play"},"重播")),null==n?void 0:n())}};Am=uu([Lv(),Wv()],Am);var Em=du(fu()),Cm=class extends Rv{constructor(e){super(e),this.forType=this.options.baseType||1,this.forArr=this.getDataValueWithDefault("forArr",[]),2===this.forType&&(this.forArr=this.getAdDatas())}render(){var{template:e}=this.props,t=this.forArr.map(((t,a)=>e.children.map((i=>Em.default.createElement(Uv,su(ou({},this.getCommonSubComponentProps()),{key:`${i.id}-${a}`,idPrefix:Ov(void 0,e.id,this.idPrefix)+a.toString(),forType:this.forType,forItem:t,template:i,forIndex:a})))))).reduce(((e,t)=>[...e,...t]),[]);return Em.default.createElement(Em.default.Fragment,null,t)}};Cm=uu([Lv()],Cm);var Tm,Im,bm,wm,km,Sm,xm,Pm,Dm,Om,Rm,Nm,Mm,Lm,Bm,Fm,Wm,Um,Vm,Hm,jm,Gm,zm=du(fu()),$m=class extends Rv{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.handleMaskClick=e=>{null==e||e.stopPropagation();var t,a=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+a:-a;var i=(this.isCol?e.pageY:e.pageX)-t,r=Math.floor(i/this.size);this.emitComponentEvent("unitTap",{index:r,event:e})},this.handleAdCustomEvent=({action:e})=>{["adShowHalf"].includes(e)?(this.isViewable=!0,this.autoplay()):["adHideHalf"].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||1,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=Number(this.convertApxStyle(this.getDataValueWithDefault("size","0px")).replace("px",""))||0,this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=2===this.baseType,1===this.baseType?this.initCarousel("width"):2===this.baseType&&this.initCarousel("height")}componentWillUnmount(){super.componentWillUnmount(),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){return cu(this,null,(function*(){var e=this;if(this.isViewable&&!this.isPlaying){var t=1===this.baseType?"left":"top";if(this.disabled)this.emitComponentEvent("showChange",{list:this.allIndexList.slice(0,this.showCount)||[]}),this.isPlaying=!1;else if(this.animateCount<=0)this.emitComponentEvent("showChange",{list:this.allIndexList||[]}),this.isPlaying=!1;else{this.isPlaying=!0;for(var a=function*(t){var{animated:a}=e,i=setTimeout((()=>{e.timerSet.delete(i);var r=a?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent("showChange",{list:r})}),t*e.duration);e.timerSet.add(i)},i=0;i<this.animateCount;i+=1)yield*a(i);this.moveTime=Date.now();try{yield this.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:this.animated?-1*this.animateCount*this.size:0},{offset:1,[t]:this.animated?0:-1*this.animateCount*this.size}],duration:this.duration*this.animateCount,easing:"linear"}})}catch(e){}this.animated=!this.animated,this.isPlaying=!1,this.moveTime=null;var r=setTimeout((()=>{this.timerSet.delete(r),this.autoplay()}),this.duration/4);this.timerSet.add(r)}}}))}render(){var{template:{children:e}}=this.props,{renderMask:t,maskContainerRef:a,randomKey:i}=this.props,{baseType:r,allCount:n,showCount:o}=this;if(!(e&&e.length&&n&&o))return zm.default.createElement("div",{id:"blank"});var s=["carousel-list",1===r?"carousel-row":"carousel-col"];return zm.default.createElement("div",{id:"container",className:"carousel",ref:a,key:i||""},zm.default.createElement("div",{id:"mask",className:"carousel-mask",onClick:this.handleMaskClick}),zm.default.createElement("div",{id:"list",className:s.join(" ")},e.map((e=>zm.default.createElement(Uv,su(ou({key:e.id},this.getCommonSubComponentProps()),{template:e}))))),null==t?void 0:t())}},Qm=Hv($m=uu([Lv(),Wv()],$m)),Ym=du(fu()),qm=()=>Ym.default.createElement("div",null),Zm=du(fu()),Km="none",Xm="onlive",Jm="end",e_="reserve",t_=class extends Rv{constructor(e){super(e),this.style={".livetag":{position:"relative",zIndex:1000010},".livetag-hidden":{display:"none"},".ad-channels-live":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-live-icon":{width:"10px",height:"10px",marginRight:"3px"},".ad-channels-live-text":{height:"14px",color:"#ffffff",fontSize:"10px",lineHeight:"15px"},".ad-channels-end":{display:"flex",backgroundColor:"#959FC1",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-reserve":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 6px"}},this.state={status:Km},this.handleAdCustomEvent=e=>{"updateChannelStatus"===e.action&&this.setState({status:e.value.status},(()=>{this.updateInnerStyle()}))},this.addAdCustomListener(this.handleAdCustomEvent)}render(){var{renderMask:e,maskContainerRef:t,randomKey:a}=this.props,{status:i}=this.state;return i===Km&&["livetag"].push("livetag-hidden"),Zm.default.createElement("div",{id:"container",className:"livetag",ref:t,key:a||""},i===Xm&&Zm.default.createElement("div",{id:"ad-channels-live",className:"ad-channels-live"},Zm.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),Zm.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播中"})),i===Jm&&Zm.default.createElement("div",{id:"ad-channels-end",className:"ad-channels-end"},Zm.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),Zm.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播结束"})),i===e_&&Zm.default.createElement("div",{id:"ad-channels-reserve",className:"ad-channels-reserve"},Zm.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播预约"})),null==e?void 0:e())}},a_=Hv(t_=uu([Lv(),Wv()],t_)),i_=class extends Rv{constructor(e){super(e),this.style={".popup-blank":{display:"none"}},this.hidePopupFn=null,this.handleAdCustomEvent=e=>{var t=this.options.data;if("showPopup"===e.action&&e.value.popupName===t.popupName?this.showPopup():"hidePopup"===e.action&&e.value.popupName===t.popupName&&this.hidePopup(),"orientationChange"===e.action){var{hideOnOrientationChange:a}=this.getPopupData();a&&this.hidePopup()}},this.addAdCustomListener(this.handleAdCustomEvent)}componentWillUnmount(){super.componentWillUnmount(),this.hidePopup()}doAction(e){"showPopup"===e.payload.action?this.showPopup():"hidePopup"===e.payload.action&&this.hidePopup()}getPopupData(){return{hideOnOrientationChange:this.getDataValueWithDefault("hideOnOrientationChange",!1),mask:this.getDataValue("mask"),maskColor:this.getDataValue("maskColor"),maskOpacity:this.getDataValue("maskOpacity"),popupName:this.getDataValue("popupName"),popupWidth:this.getDataValue("popupWidth"),popupHeight:this.getDataValue("popupHeight"),popupLeft:this.getDataValue("popupLeft"),popupTop:this.getDataValue("popupTop")}}showPopup(){return cu(this,null,(function*(){var{hostContext:e,template:t,systemInfo:a,adData:i,adDatas:r,renderContext:n,adCustomId:o,extraScope:s,darkMode:l,isMulti:d,emitter:u}=this.props;if(e.showPopup){var c=su(ou({},this.getPopupData()),{template:t.children[0]}),p=yield e.showPopup({popupOptions:c,renderOptions:{systemInfo:a,adData:i,adDatas:r,darkMode:l,adCustomId:o,isMulti:d,styleOptions:n.styleOptions,flattenLayer:n.isFlattenLayer(),extraScope:s},hostContext:{hidePopupInner:()=>this.hidePopup()},renderContext:n,emitter:u});this.hidePopupFn=p.hidePopup}}))}hidePopup(){return cu(this,null,(function*(){this.hidePopupFn&&(yield this.hidePopupFn(),this.hidePopupFn=null)}))}render(){return null}},r_=i_=uu([Lv()],i_),n_=du(fu()),o_={1:"与我无关",5:"重复收到多次",4:"内容太差"},s_=class extends Rv{constructor(e){super(e),this.style={".feedback-container":{display:"block",width:"100%",height:"100%"},".feedback-content-warp":{display:"block",width:"100%",paddingTop:5},".feedback":{display:"flex",width:"300px",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",paddingTop:"4px",backgroundColor:"#fff",borderRadius:"8px"},".feedback-spot":{display:"block",position:"absolute",left:18,top:0,width:14,height:7,backgroundImage:"url(resources/angle.png)",backgroundSize:"100% 100%",backgroundPosition:"0 0"},".submit-button":{display:"flex",position:"absolute",top:0,right:16,height:32,backgroundColor:"#07C160",boxSizing:"border-box",borderRadius:3,alignItems:"center",paddingTop:6,paddingBottom:6,paddingLeft:12,paddingRight:12},".submit-button-text":{display:"block",color:"#fff",height:20,lineHeight:20,fontSize:14,fontWeight:600},".disable-btn":{display:"block",backgroundColor:"#f2f2f2"},".disable-btn-text":{display:"block",color:"#c6c6c6"},".feedback-content":{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",paddingLeft:16,paddingRight:16,paddingBottom:12,marginTop:12},".feedback-split-line":{height:1,backgroundColor:"rgba(0, 0, 0, 0.05)",marginLeft:16,marginRight:16,alignSelf:"stretch"},".feedback-bottom":{display:"flex",flexDirection:"row",alignSelf:"stretch",height:52,boxSizing:"border-box",paddingTop:16,paddingBottom:16,paddingLeft:16,paddingRight:16,alignItems:"center",justifyContent:"space-between"},".feedback-bottom:active":{display:"block",backgroundColor:"rgba(0, 0, 0, 0.05)",borderLeftBottomRadius:8,borderRightBottomRadius:8},".feedback-bottom-text":{display:"block",color:"rgba(0, 0, 0, 0.5)",fontSize:14,height:20,lineHeight:20},".feedback-bottom-entry-icon":{display:"block",width:5,height:10,backgroundImage:"url(resources/arrow_right.png)",backgroundSize:"100% 100%",backgroundPosition:"0 0",backgroundRepeat:"no-repeat"},".sponsor-text":{display:"block",color:"rgba(0, 0, 0, 0.5)",fontSize:14,height:20},".question-text":{display:"block",color:"rgba(0, 0, 0, 0.9)",fontSize:14,marginTop:8,height:20,lineHeight:20},".feedback-reason":{display:"flex",flexDirection:"row",marginTop:16},".feedback-option":{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,marginRight:8,backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:4},".feedback-option:active":{display:"block",backgroundColor:"rgba(0, 0, 0, 0.1)"},".feedback-option-icon":{display:"block",width:15,height:15,marginRight:4,flex:"0 0 auto",backgroundSize:"100% 100%",backgroundPosition:"0 0"},".feedback-option-icon-like":{display:"block",backgroundImage:"url(resources/like.png)"},".feedback-option-icon-dontlike":{display:"block",backgroundImage:"url(resources/dontlike.png)"},".feedback-option-text":{display:"block",fontSize:14,height:20,lineHeight:20},".feedback-option-text:active":{},".no-interest-reason":{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:4,flexWrap:"wrap"},".no-interest-option":{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,marginRight:8,marginTop:12,backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:4},".no-interest-option:active":{display:"block",backgroundColor:"rgba(0, 0, 0, 0.1)"},".chosen-option":{backgroundColor:"rgba(7, 193, 96, 0.1)"},".chosen-option-text":{color:"#07C160"},".no-interest-option-icon":{display:"block",width:15,height:15,marginRight:4,flex:"0 0 auto",backgroundSize:"100% 100%",backgroundPosition:"0 0"},".no-interest-option-text":{display:"block",fontSize:14,height:20,lineHeight:20},".hidden":{display:"none"}},this.darkModeStyle={".feedback":{backgroundColor:"#232323"},".feedback-spot":{backgroundImage:"url(resources/angle_dark.png)"},".feedback-split-line":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".feedback-bottom:active":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".feedback-bottom-text":{color:"rgba(255, 255, 255, 0.6)"},".feedback-bottom-entry-icon":{backgroundImage:"url(resources/arrow_right_dark.png)"},".sponsor-text":{color:"rgba(255, 255, 255, 0.5)"},".question-text":{color:"rgba(255, 255, 255, 0.8)"},".feedback-option":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".feedback-option:active":{backgroundColor:"rgba(255, 255, 255, 0.1)"},".feedback-option-icon-like":{backgroundImage:"url(resources/like_dark.png)"},".feedback-option-icon-dontlike":{backgroundImage:"url(resources/dontlike_dark.png)"},".feedback-option-text":{color:"rgba(255, 255, 255, 0.8)"},".disable-btn":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".disable-btn-text":{color:"rgba(255, 255, 255, 0.3)"},".no-interest-option":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".no-interest-option:active":{backgroundColor:"rgba(255, 255, 255, 0.1)"},".no-interest-option-text":{color:"rgba(255, 255, 255, 0.8)"},".chosen-option":{backgroundColor:"rgba(7, 193, 96, 0.1)"},".chosen-option-text":{color:"#07C160"}},this.state={chosenNoInterestOptions:[],isShowFeedbackMenu:!1,dislikeReason:null},this.containerRef=n_.default.createRef(),this.dislikeOrders=[1,5,4],this.handleFavClick=e=>{var t;null==(t=e.stopPropagation)||t.call(e),this.closePopup(),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"还不错",event:e}),this.emitAdCustomEvent("feedbackFavTap")},this.handleDislikeClick=e=>{var t;null==(t=e.stopPropagation)||t.call(e),this.setState({isShowFeedbackMenu:!0}),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"不感兴趣",event:e})},this.handleFeedbackBtnClick=e=>{var t;null==(t=e.stopPropagation)||t.call(e),this.setState({isShowFeedbackMenu:!1}),this.emitComponentEvent("feedbackBtnTap",{event:e}),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"投诉",event:e}),this.closePopup().then((()=>{this.emitAdCustomEvent("feedbackBtnTap")}))},this.handleFeedbackContainerClick=e=>{e.target===this.containerRef.current&&this.closePopup()},this.handleSubmit=e=>{this.state.dislikeReason&&(this.emitComponentEvent("dislikeReasonTap",{event:e}),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:this.state.dislikeReason,event:e}),this.closePopup())},this.baseType=this.options.baseType||1,this.avoidAdText=this.getDataValueWithDefault("avoidAdText",!1)}closePopup(){return cu(this,null,(function*(){var e,t;yield null==(t=(e=this.props.hostContext).hidePopupInner)?void 0:t.call(e)}))}handleDislikeReasonClick(e,t){var a;null==(a=t.stopPropagation)||a.call(t),this.setState({dislikeReason:e})}render(){var{avoidAdText:e,dislikeOrders:t}=this,{isShowFeedbackMenu:a,dislikeReason:i}=this.state,r=e=>Ch("no-interest-option",e===i&&"chosen-option"),n=e=>Ch("no-interest-option-text",e===i&&"chosen-option-text");return n_.default.createElement("div",{id:"container",className:"feedback-container",ref:this.containerRef,onClick:this.handleFeedbackContainerClick},n_.default.createElement("div",{id:"contentWarp",className:"feedback-content-warp"},n_.default.createElement("div",{id:"feedbackSpot",className:"feedback-spot"}),n_.default.createElement("div",{id:"feedback",className:"feedback"},n_.default.createElement("div",{id:"feedbackContent",className:"feedback-content"},n_.default.createElement("div",{id:"submitButton",className:Ch("submit-button",!i&&"disable-btn",!a&&"hidden")},n_.default.createElement("text",{id:"submitText",className:Ch("submit-button-text",!i&&"disable-btn-text"),value:"确定",onClick:this.handleSubmit})),n_.default.createElement("text",{id:"sponsorText",className:"sponsor-text",value:"由赞助商提供的内容"}),n_.default.createElement("text",{id:"questionText",className:"question-text",value:e?"你觉得这条内容":"你觉得这条广告怎么样"}),n_.default.createElement("div",{id:"feedbackReason",className:Ch("feedback-reason",a&&"hidden")},n_.default.createElement("div",{id:"feedbackFav",className:"feedback-option",onClick:this.handleFavClick},n_.default.createElement("div",{id:"feedbackFavIcon",className:"feedback-option-icon feedback-option-icon-like"}),n_.default.createElement("text",{id:"feedbackFavText",className:"feedback-option-text",value:"还不错"})),n_.default.createElement("div",{id:"feedbackDislike",className:"feedback-option",onClick:this.handleDislikeClick},n_.default.createElement("div",{id:"feedbackDislikeIcon",className:"feedback-option-icon feedback-option-icon-dontlike"}),n_.default.createElement("text",{id:"feedbackDislikeText",className:"feedback-option-text",value:"不感兴趣"}))),n_.default.createElement("div",{className:Ch("no-interest-reason",!a&&"hidden")},t.map((e=>n_.default.createElement("div",{key:e,className:r(e),onClick:this.handleDislikeReasonClick.bind(this,e)},n_.default.createElement("text",{className:n(e),value:o_[e]})))))),n_.default.createElement("div",{className:"feedback-split-line"}),n_.default.createElement("div",{className:"feedback-bottom",onClick:this.handleFeedbackBtnClick},n_.default.createElement("text",{className:"feedback-bottom-text",value:e?"投诉":"投诉广告"}),n_.default.createElement("div",{className:"feedback-bottom-entry-icon"})))))}},l_=s_=uu([Lv(),Wv()],s_),d_=du(fu()),u_=class extends Rv{constructor(e){super(e),this.style={".mult-image":{display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"},".img-row-container":{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",overflow:"hidden",flex:"1 1 auto",alignItems:"stretch"},".img-container":{display:"flex",flex:"1",overflow:"hidden"},".img-item":{width:"100%",height:"100%",borderRadius:"4px"},".img-container-column-space-right":{marginRight:"2px"},".img-container-column-space-left":{marginLeft:"2px"},".img-container-row-space-bottom":{marginBottom:"2px"},".img-container-row-space-top":{marginTop:"2px"}},this.state={imgUrlArr:[],imgUrlPlacement:[],row:0,column:0},this.retry=[],this.exposureLoadRetry=[],this.loadError=[],this.initADComponent=()=>{var e=this.getAdData(),t=[];Array.isArray(e.crtInfo)&&e.crtInfo.length>1?t=e.crtInfo:Array.isArray(e.crtInfos)&&e.crtInfos.length>1&&(t=e.crtInfos),t=null==t?void 0:t.map((e=>e.image_url)),this.setImgUrlPlacement(t)},this.initCommonComponent=()=>{var e=this.getDataValueWithDefault("imgUrlArr",[]);this.setImgUrlPlacement(e)},this.setImgUrlPlacement=e=>{this.state.imgUrlArr=e,this.state.imgUrlPlacement=this.getImgUrlPlacement(e)},this.getImgUrlPlacement=e=>{for(var{row:t,column:a}=this.state,i=[],r=0;r<e.length;r++){var n=Math.floor(r/a),o=e[r];i[n]?i[n].push(o):i[n]=[o]}return i.splice(t,i.length-t),i},this.handleAdCustomEvent=e=>{if("adShowEdge"===e.action&&-1!==this.loadError.indexOf(!0)){var{imgUrlArr:t}=this.state,a=Number(this.getDataValueWithDefault("attachRetryTimes",5));this.loadError.forEach(((e,i)=>{var r;if((r=this.exposureLoadRetry)[i]||(r[i]=0),e&&this.exposureLoadRetry[i]<a){this.exposureLoadRetry[i]+=1;var n=t[i],o=Xv(n,{exposureLoadRetry:this.exposureLoadRetry[i]});t.splice(i,1,o)}})),this.setState({imgUrlArr:t,imgUrlPlacement:this.getImgUrlPlacement(t)})}},this.handleImgLoad=e=>()=>{this.loadError[e]=!1,this.emitComponentEvent("imgLoad",{index:e}),this.emitAdCustomEvent("multImgLoad",{index:e})},this.handleImgError=e=>()=>{var t;this.loadError[e]=!0;var a=Number(this.getDataValue("retryTimes"));if(a)if((t=this.retry)[e]||(t[e]=0),this.retry[e]<=a){var{imgUrlArr:i}=this.state,r=i[e];this.retry[e]+=1;var n=Xv(r,{retry:this.retry[e]});i.splice(e,1,n),this.setState({imgUrlArr:i,imgUrlPlacement:this.getImgUrlPlacement(i)})}else this.emitComponentEvent("imgError",{index:e})};var t=this.options.baseType||2,a=this.getDataValueWithDefault("row",0),i=this.getDataValueWithDefault("column",0);switch(this.baseType=t,this.state.row=+a,this.state.column=+i,t){case 1:this.initCommonComponent();break;case 2:this.initADComponent()}this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){if("imageSetSrc"===e.action){var t=this.getDataValue("imgUrlArr",e.value);this.setState({imgUrlArr:t,imgUrlPlacement:this.getImgUrlPlacement(t)})}}render(){var{renderMask:e,randomKey:t,maskContainerRef:a}=this.props,i=2===this.baseType,{row:r,column:n,imgUrlPlacement:o}=this.state;return d_.default.createElement("div",{id:"container",className:"mult-image",ref:a,key:t||""},o.map(((e,t)=>d_.default.createElement("div",{className:Ch("img-row-container",`img-row-container-${t}`,t<r-1&&"img-container-row-space-bottom",t>0&&"img-container-row-space-top"),key:`row_${t}`},null==e?void 0:e.map(((e,a)=>d_.default.createElement("div",{className:Ch("img-container",a<n-1&&"img-container-column-space-right",a>0&&"img-container-column-space-left"),id:`img-container-${t}-${a}`,key:`column_${a}`},this.loadError[t*n+a]?d_.default.createElement("div",{className:"img-item img-item-placeholder"}):d_.default.createElement("img",su(ou({},i?{"bubble-event":!1}:{}),{className:"img-item",src:e,onLoad:this.handleImgLoad(t*r+a),onError:this.handleImgError(t*r+a)})))))))),null==e?void 0:e())}},c_=Hv(u_=uu([Lv(),Wv()],u_)),p_=du(fu()),h_=["https://wxa.wxs.qq.com/images/factory/star_full_lm.png","https://wxa.wxs.qq.com/images/factory/star_half_lm.png","https://wxa.wxs.qq.com/images/factory/star_empty_lm.png"],f_=["https://wxa.wxs.qq.com/images/factory/star_full_dm.png","https://wxa.wxs.qq.com/images/factory/star_half_dm.png","https://wxa.wxs.qq.com/images/factory/star_empty_dm.png"],v_=["TEXT","STARS","SCORE"],m_=class extends Rv{constructor(e){super(e),this.isNormal=!1,this.textStyle={fontWeight:600,fontSize:"14px",lineHeight:"24px",height:"24px"},this.style={".score":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},".score-title":ou({color:"#10AEFF"},this.textStyle),".score-img-wrapper":{marginLeft:"12px",display:"flex",flexDirection:"row",alignItems:"center",height:this.textStyle.height},".score-img":{height:"13px",width:"13px",marginLeft:"1px"},".score-num":ou({marginLeft:"8px",color:"#10AEFF"},this.textStyle),".split-line":{width:"1px",height:"10px",background:"rgba(0, 0, 0, 0.1)"},".split-line-left":{marginRight:"8px"},".split-line-right":{marginLeft:"8px"}},this.state={buttonText:""},this.useScoreText=!0,this.componentOrders=v_,this.starIcons=h_,this.starIconsDark=f_,this.useLeftSplitLine=!1,this.useRightSplitLine=!1,this.getScoreInfo=()=>{var e,t=this.getAdData();return[19,12].includes(t.product_type)&&(null==(e=null==t?void 0:t.app_info)?void 0:e.app_rating)&&!isNaN(t.app_info.app_rating)&&t.app_info.app_rating>=3?Number(t.app_info.app_rating.toFixed(1)):0},this.scoreInfo=()=>{var e=this.getAdData(),[t,a,i]=this.props.darkMode?this.starIconsDark:this.starIcons,r=this.getScoreInfo.call(this),n=`${r}`,o=e.product_type;if(r){var s,l=new Array(5).fill(null).map((()=>t));return 19===o?s="App Store评分":12===o&&(s="应用宝评分"),3===r?(l[3]=i,l[4]=i):r<=3.5?(l[3]=a,l[4]=i):r<=4?l[4]=i:r<=4.5&&(l[4]=a),/\./.test(n)||(n=`${r}.0`),{scoreTitle:s,scoreImage:l,score:`${n}${this.useScoreText?"分":""}`}}return null},this.useScoreText=!!this.getDataValueWithDefault("useScoreText",!0),this.componentOrders=this.getDataValueWithDefault("componentOrders",v_),this.starIcons=this.getDataValueWithDefault("starIcons",h_),this.starIconsDark=this.getDataValueWithDefault("starIconsDark",f_)||this.starIcons,this.useLeftSplitLine=this.getDataValueWithDefault("useLeftSplitLine",!1),this.useRightSplitLine=this.getDataValueWithDefault("useRightSplitLine",!1)}render(){var e=this.scoreInfo();if(!e)return null;var{scoreTitle:t,scoreImage:a,score:i}=e,{renderMask:r,maskContainerRef:n,randomKey:o}=this.props,{componentOrders:s,useLeftSplitLine:l,useRightSplitLine:d}=this,u=e=>p_.default.createElement("text",{key:e,id:"scoreTitle",className:"score-title score-text",value:t}),c=e=>p_.default.createElement("text",{key:e,id:"scoreNum",className:"score-num score-text",value:i}),p=e=>p_.default.createElement("div",{id:"scoreImgWrapper",className:"score-img-wrapper",key:e},a.map(((e,t)=>p_.default.createElement("img",{key:t,id:`scoreImg${t+1}`,className:"score-img",src:e}))));return p_.default.createElement("div",{id:"container",className:"score",ref:n,key:o||""},l&&p_.default.createElement("div",{className:"split-line split-line-left"}),s.map((e=>{return{TEXT:u(t=e),SCORE:c(t),STARS:p(t)}[t];var t})),d&&p_.default.createElement("div",{className:"split-line split-line-right"}),null==r?void 0:r())}},__=Hv(m_=uu([Lv(),Wv()],m_)),g_=du(fu()),y_="https://wxa.wxs.qq.com/images/factory/rankIcon.png",A_=class extends Rv{constructor(e){super(e),this.style={".ranking":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},".ranking-img":{width:"16px",height:"16px"},".ranking-info":{marginLeft:"8px",color:"#FA9D3B",fontWeight:600,fontSize:"12px",lineHeight:"16px",height:"16px"},".split-line":{width:"1px",height:"10px",background:"rgba(0, 0, 0, 0.1)"},".split-line-left":{marginRight:"8px"},".split-line-right":{marginLeft:"8px"}},this.state={buttonText:""},this.iconUrl=y_,this.useIcon=!1,this.useLeftSplitLine=!1,this.useRightSplitLine=!1,this.useRankSpace=!1,this.getRankingType=()=>{var e,t=this.getAdData();switch(null==(e=null==t?void 0:t.extBackComm)?void 0:e.wegame_ranking_type){case 2:return"人气榜";case 3:return"畅销榜";case 4:return"新游榜"}return""},this.getRankingInfo=()=>{var e,t=this.getAdData(),a=null==(e=null==t?void 0:t.extBackComm)?void 0:e.wegame_ranking_no;if(!isNaN(a)){var i=+a+1;return i<=5?i:i<=30?i-i%5+5:50}return 0},this.getValue=()=>{var e=this.getRankingType.call(this);if(e){var t=this.getRankingInfo.call(this);return`小游戏${e} TOP${this.useRankSpace?" ":""}${t}`}return null},this.iconUrl=this.getDataValueWithDefault("iconUrl",y_),this.useIcon=this.getDataValueWithDefault("useIcon",!0),this.useLeftSplitLine=this.getDataValueWithDefault("useLeftSplitLine",!1),this.useRightSplitLine=this.getDataValueWithDefault("useRightSplitLine",!1),this.useRankSpace=this.getDataValueWithDefault("useRankSpace",!1)}render(){var{renderMask:e,maskContainerRef:t,randomKey:a}=this.props,i=this.getValue();if(!i)return null;var{useIcon:r,iconUrl:n,useLeftSplitLine:o,useRightSplitLine:s}=this;return g_.default.createElement("div",{id:"container",className:"ranking",ref:t,key:a||""},o&&g_.default.createElement("div",{className:"split-line split-line-left"}),r&&g_.default.createElement("img",{id:"rankingImg",className:"ranking-img",src:n}),g_.default.createElement("text",{id:"rankingInfo",className:"ranking-info",value:i}),s&&g_.default.createElement("div",{className:"split-line split-line-right"}),null==e?void 0:e())}},E_=Hv(A_=uu([Lv(),Wv()],A_)),C_=du(fu()),T_=class extends Rv{constructor(e){super(e),this.state={children:[]},this.tag="",this.tagOptions={};var{tag:t,options:a}=this.getComputedData();this.tag=t,this.tagOptions=a,this.state.children=this.template.children||[]}getComputedData(){var e=this.getDataValue("hostStyles"),t={};if(e)for(var a of Object.keys(e)){var i=e[a];if(t[a]={},!i.expr||this.run(i.expr)){var r=ou({},i.style||{});for(var n of(this.props.darkMode&&Object.assign(r,i.darkModeStyle||{}),Object.keys(r))){var o=n,s=r[n];if(n.includes("Expr")){var l=n.split("Expr");2===l.length&&([o]=l,s=this.run(s))}t[a][o]=s}}}var d=this.getDataValue("tagConf"),u={};if(d)for(var c of Object.keys(d)){var p=c,h=d[c];if(c.includes("Expr")){var f=c.split("Expr");2===f.length&&([p]=f,h=this.run(h))}u[p]=h}return{tag:this.getDataValueWithDefault("tag",null),options:{computedStyles:t,computedConf:u,computedClassName:this.getDataValueWithDefault("tagClassName",null)}}}componentDidMount(){super.componentDidMount()}render(){var{children:e}=this.state,{randomKey:t,renderMask:a,maskContainerRef:i}=this.props;return C_.default.createElement("div",{id:"container",className:"hosttag",key:t||"",ref:i},C_.default.createElement("hostTag",{tagName:this.tag,tagOptions:this.tagOptions},e.map((e=>C_.default.createElement(Uv,su(ou({key:e.id},this.getCommonSubComponentProps()),{template:e}))))),null==a?void 0:a())}},I_=Hv(T_=uu([Lv(),Wv()],T_)),b_=du(fu()),w_="https://wxa.wxs.qq.com/images/factory/poi_blue.png",k_=class extends Rv{constructor(e){super(e),this.baseType=2,this.style={".poi":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},".poi-icon":{width:"16px",height:"16px",marginRight:"4px"},".poi-text":{fontSize:"12px",lineHeight:"17px",lineBreak:"ellipsis",overflow:"hidden",wordBreak:"break-all",color:"#576B95"}},this.state={hasPoi:!1,icon:w_,text:""},this.initCommonComponent=()=>{var e=this.getDataValueWithDefault("icon",w_),t=this.getDataValueWithDefault("text","");this.state.hasPoi=!(!e||!t),this.state.icon=e,this.state.text=t},this.initAdComponent=()=>{var e=this.getAdData().poi||{};this.state.hasPoi=!(!e.poi_name||!e.poi_link),this.state.icon=this.getDataValueWithDefault("icon",w_),this.state.text=this.getDataValueWithDefault("text",e.poi_name)},this.handlePoiClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent("poiTap",{event:e,baseType:this.baseType})},this.baseType=this.options.baseType||2,1===this.baseType?this.initCommonComponent():2===this.baseType&&this.initAdComponent()}render(){var{renderMask:e,maskContainerRef:t,randomKey:a}=this.props,{hasPoi:i,text:r,icon:n}=this.state;if(!i)return b_.default.createElement(b_.default.Fragment,null);var o=this.getDataValueWithDefault("maxTextLen",null),s=r;return o&&(s=xh(r,2*o)),b_.default.createElement("div",{id:"container",className:"poi",ref:t,key:a||"",onClick:this.handlePoiClick},b_.default.createElement("img",{id:"poi-icon",className:"poi-icon",src:n}),b_.default.createElement("text",{id:"poi-text",className:"poi-text",value:s}),null==e?void 0:e())}},S_=Hv(k_=uu([Lv(),Wv()],k_)),x_=(Tm=function(e){return"string"!=typeof e?e:e.replace(/[+ |^%]/g,(e=>({" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25"}[e])))},Im=function(e){return"string"!=typeof e?e:e.replace(/\+|%2B|%7C|%5E|%25/g,(e=>({"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[e])))},bm=function(e){return Number.prototype.toString.call(e,36).toUpperCase()},wm=function(e){return parseInt(e,36)},km=Array.prototype.indexOf||function(e,t){for(var a=t||0,i=this.length;a<i;a++)if(this[a]===e)return a;return-1},{JSON:JSON,pack:function(e,t={}){var a=t.verbose||!1;a&&console.log("Normalize the JSON Object"),e="string"==typeof e?JSON.parse(e):e,a&&console.log("Creating a empty dictionary");var i={strings:[],integers:[],floats:[]};a&&console.log("Creating the AST");var r=function e(t){if(a&&console.log(`Calling recursiveAstBuilder with ${JSON.stringify(t)}`),null===t)return{type:"null",index:-3};if(void 0===t)return{type:"undefined",index:-5};if(t instanceof Array){var r=["@"];for(var n of t)r.push(e(n));return r}if("object"==typeof t){var o=["$"];for(var s of Object.keys(t))o.push(e(s)),o.push(e(t[s]));return o}if(""===t)return{type:"empty",index:-4};if("string"==typeof t){var l=km.call(i.strings,t);return-1===l&&(i.strings.push(Tm(t)),l=i.strings.length-1),{type:"strings",index:l}}if("number"==typeof t&&t%1==0){var d=km.call(i.integers,t);return-1===d&&(i.integers.push(bm(t)),d=i.integers.length-1),{type:"integers",index:d}}if("number"==typeof t){var u=km.call(i.floats,t);return-1===u&&(i.floats.push(t),u=i.floats.length-1),{type:"floats",index:u}}if("boolean"==typeof t)return{type:"boolean",index:t?-1:-2};throw new Error("Unexpected argument of type "+typeof t)}(e),n=i.strings.length,o=i.integers.length;a&&console.log("Parsing the dictionary");var s=i.strings.join("|");return s+=`^${i.integers.join("|")}`,s+=`^${i.floats.join("|")}`,a&&console.log("Parsing the structure"),s+=`^${function e(t){if(a&&console.log(`Calling a recursiveParser with ${JSON.stringify(t)}`),t instanceof Array){var i=t.shift();for(var r of t)i+=`${e(r)}|`;return`${"|"===i[i.length-1]?i.slice(0,-1):i}]`}var{type:s}=t,{index:l}=t;if("strings"===s)return bm(l);if("integers"===s)return bm(n+l);if("floats"===s)return bm(n+o+l);if("boolean"===s)return t.index;if("null"===s)return-3;if("undefined"===s)return-5;if("empty"===s)return-4;throw new TypeError("The item is alien!")}(r)}`,a&&console.log("Ending parser"),t.debug?{dictionary:i,ast:r,packed:s}:s},unpack:function(e,t={}){t=t||{};var a=e.split("^");t.verbose&&console.log("Building dictionary");var i=[],r=a[0];if(""!==r){r=r.split("|"),t.verbose&&console.log("Parse the strings dictionary");for(var n=0,o=r.length;n<o;n++)i.push(Im(r[n]))}if(""!==(r=a[1])){r=r.split("|"),t.verbose&&console.log("Parse the integers dictionary");for(var s=0,l=r.length;s<l;s++)i.push(wm(r[s]))}if(""!==(r=a[2])){r=r.split("|"),t.verbose&&console.log("Parse the floats dictionary");for(var d=0,u=r.length;d<u;d++)i.push(parseFloat(r[d]))}r=null,t.verbose&&console.log("Tokenizing the structure");for(var c="",p=[],h=a[3].length,f=0;f<h;f++){var v=a[3].charAt(f);"|"===v||"$"===v||"@"===v||"]"===v?(c&&(p.push(wm(c)),c=""),"|"!==v&&p.push(v)):c+=v}var m=p.length,_=0;return t.verbose&&console.log("Starting recursive parser"),function e(){var a=p[_];if(_+=1,t.verbose&&console.log("Reading collection type "+("$"===a?"object":"Array")),"@"===a){for(var r=[];_<m;_++){var n=p[_];if(t.verbose&&console.log(`Read ${n} symbol`),"]"===n)return r;if("@"===n||"$"===n)r.push(e());else switch(n){case-1:r.push(!0);break;case-2:r.push(!1);break;case-3:r.push(null);break;case-5:r.push(void 0);break;case-4:r.push("");break;default:r.push(i[n])}}return t.verbose&&console.log(`Parsed ${JSON.stringify(r)}`),r}if("$"===a){for(var o={};_<m;_++){var s=p[_];if("]"===s)return o;s=-4===s?"":i[s];var l=p[_+=1];if("@"===l||"$"===l)o[s]=e();else switch(l){case-1:o[s]=!0;break;case-2:o[s]=!1;break;case-3:o[s]=null;break;case-5:o[s]=void 0;break;case-4:o[s]="";break;default:o[s]=i[l]}}return t.verbose&&console.log(`Parsed ${JSON.stringify(o)}`),o}throw new TypeError(`Bad token ${a} isn't a type`)}()}}),{unpack:P_,pack:D_}=x_,O_=i(1527),{GameGlobal:R_,deviceInfo:N_,deviceInfoLoaded:M_,appRouteInfo:L_,getDeviceOrientation:B_,proxyReady:F_,getIndentityInfo:W_,loadDeviceInfoByManual:U_,getPreloadIntersititialAd:V_,getPreloadIntersititialAdStatus:H_,getPreloadingPromise:j_,preloadAiInterstitialAiAd:G_}=r,z_=!1,$_=function(e){return e[e.NONE=0]="NONE",e[e.JSONPACK=1]="JSONPACK",e}({}),Q_=(Sm=Yi("handleAdDataDone"),xm=qi("handleAdDataError"),Pm=Yi("handleAdDataDone"),Dm=qi("handleAdDataError"),Om=Yi("handleAdDataDone"),Rm=qi("handleAdDataError"),Nm=Yi("handleAdDataDone"),Mm=qi("handleAdDataError"),Lm=Yi("handleAdDataDone"),Bm=qi("handleAdDataError"),Fm=Yi("handleAdDataDone"),Wm=qi("handleAdDataError"),Um=Yi("handleAdDataDone"),Vm=qi("handleAdDataError"),Hm=(e,t,a)=>{var i=a.value;a.value=function(...e){var t=e=>{Gm&&Gm in this&&"function"==typeof this[Gm]&&this[Gm](e)};try{var a=i.call(this,...e);return a instanceof Promise?a.catch((e=>t(e))):a}catch(e){t(e)}}},jm=class{constructor({adUnitId:e,adType:t,pluginAppid:a="",aiadPlatformId:i,isSkitAd:r=!1,slotContext:n={}}){var o;this.adUnitId=void 0,this.adType=void 0,this.pluginAppid=void 0,this.isSkitAd=void 0,this.cacheCount=0,this.cacheRawDatas=[],this.cacheRawDatasMap={},this.isUsedCacheData=!1,this.cacheConditionInfo={},this.lastAdRetCode=0,this.lastAdRespone="fetch",this.limitAdReqTime=3e4,this.fetchPromise=null,this.checkStatusPromise=null,this.additionFetchPromise=null,this.webviewId=L_.currentWebviewId,this.fetchRetryCount=0,this.additionFetchRetryCount=0,this.isCanvasXmlHook=!1,this.rawAdInfoXml="",this.inputWeappExtraData={},this.handledInNewFetch=!1,this.nativeMethodInvoker=Yr,this.mmReporter=void 0,this.cgiReporter=void 0,this.lander=void 0,this.isCustomerAcquisition=null,this.rawAdDatas=[],this.datas=[],this.data={},this.convertedAdData=null,this.convertedAdDatas=[],this.isMulti=!1,this.isViewable=!1,this.adDataIndex=0,this.scene=0,this.isDuplicateRecommendedAds=!1,this.instanceId="",this.splashExpCondition={},this.showInfo={},this.fetchSource=0,this.aiadPlatformId=0,this.slotContext={},"splashAd"!==t&&F_(),this.adUnitId=e,this.adType=t,this.isSkitAd=r,this.slotContext=n,i&&(this.aiadPlatformId=i),this.pluginAppid=N_.isWaGame?"":a,this.mmReporter=new Nd(this),this.cgiReporter=new jd(this),this.lander=new Qd(this),this.bindProxyMethods(),this.setTimePoint("p1"),"function"==typeof(o=e=>{if(e.webviewId===L_.currentWebviewId&&this.data&&this.isViewable){var{uxinfo:t}=this.data;Hi({eventTimeStamp:e.eventTimeStamp?e.eventTimeStamp:+new Date,scene:4,uxinfo:t,url:e.path?e.path:"index.html"})}})&&En.on("_onWxAdUserCaptureScreen",o)}bindProxyMethods(){var e=this,t=[this.nativeMethodInvoker,this.mmReporter,this.cgiReporter,this.lander],a=function(t){var a=(0,q.Zw)(t),i=function(a){var i,r,n;r=a,(null===(n=(i=t)&&i[Zi])||void 0===n?void 0:n.has(r))&&(e[a]=(...e)=>t[a](...e))};for(var r of a)i(r)};for(var i of t)a(i)}isLimitRequest(){return!this.isSplashAd()&&(0!==this.lastAdRetCode&&+new Date-this.getLastAdReqTs()<this.limitAdReqTime)}convertTestAdData(e){try{var t,a=(0,q.Xh)(e),i=JSON.parse(a.crt_exp_info);if(a.crtExpInfo=i,1002===i.exp_type){if(null!==(t=a.wx_game_video)&&void 0!==t&&t.wxgame_video_card){var r=JSON.parse(i.exp_data);a.wx_game_video.wxgame_video_card.flooring_page=r}}else if(1001===i.exp_type){a.profile_exp=!0;var n=i.exp_data&&"string"==typeof i.exp_data?JSON.parse(i.exp_data):i.exp_data;a.dest_type=n.dest_type;var o={};if(a.button_action)try{o=JSON.parse(e.button_action)}catch(e){}o.jump_type=n.jump_type,a.button_action=JSON.stringify(o)}else if(105===i.exp_type)a.ad_style_data=i.exp_data;else if(106===i.exp_type){var s=i.exp_data&&"string"==typeof i.exp_data?JSON.parse(i.exp_data):i.exp_data;(0,q.Ee)(a,s),a.common_exp=!0}else if(i.exp_type&&[108,109,2001].includes(i.exp_type))a.ad_dynamic_list=i.exp_data;else if(i.crt_size&&[xs.CRT_SIZE_WX_APPLICATION_NEW,xs.CRT_SIZE_WX_APPLICATION_X].includes(i.crt_size)){if(a.crt_size=i.crt_size,a.ad_width=i.width,a.material_width=i.width,a.ad_height=i.height,a.material_height=i.height,a.image_url=i.image_url,i.dest_url&&a.url&&[1,3,6].includes(a.dest_type)){var l=Yo(a.url),d={};l.weixinadkey&&(d.weixinadkey=l.weixinadkey),l.ticket&&(d.ticket=l.ticket),l.gdt_vid&&(d.gdt_vid=l.gdt_vid),l.weixinadinfo&&(d.weixinadinfo=l.weixinadinfo),a.url=es(i.dest_url,d)}a.watermark_text=i.watermark||""}else if(i.landpage_type){var u;null!==(u=a.wx_game_video)&&void 0!==u&&u.wxgame_video_card&&(a.wx_game_video.wxgame_video_card.flooring_page=i)}return a}catch(t){return e}}getPosId(){return bt[this.adType]}getFetchArgs({isAdInterval:e},t){var a,i,r,n,o,s,l,d={scene_type:L_.currentScene,ad_unit_id:this.aiadPlatformId?"ffffffff3x":this.adUnitId,appid:this.pluginAppid?this.pluginAppid:N_.gameAppId,orig_weapp_id:this.pluginAppid?N_.gameAppId:"",weapp_path:L_.weappPath,pos_id:"",network_type:N_.adNetworkType,orientation:{landscape:1,portrait:2}[N_.deviceOrientation],sdk_version:N_.SDKVersion,ext_slot_custom_comm:"",weapp_extra_data:JSON.stringify({wxa_start_ts:N_.startTime.valueOf(),wxa_enter_ts:L_.enterForegroundTime.valueOf(),weixin_version:N_.wechatVersion,os_version:N_.systemVersion,machine_type:N_.model,is_ad_interval:!!e,env:null===(a=f.default.host)||void 0===a?void 0:a.env,app_appid:null===(i=f.default.host)||void 0===i?void 0:i.appId,host_version:null===(r=f.default.host)||void 0===r?void 0:r.version,local_wechat_version:null===(n=f.default.host)||void 0===n?void 0:n.localWeChatVersion,wxa_fetch_ads_ts:Date.now()})};d.pos_id=this.getPosId();var u,c,p={};if("splashAd"===this.adType){p.weapp_enter_scene=(null==t?void 0:t.weappEnterScene)||0,p.request_type=(null==t?void 0:t.requestType)||1,p.check_ad_is_online_ads=(null==t?void 0:t.preloadAds)||[],p.support_template_compress_type=[$_.NONE,$_.JSONPACK];var h=2===(null==t?void 0:t.requestType)?1:5;p.splash_ad={count:String(h)},delete d.appid}else"customAd"===this.adType?p={is_adunit_tmpl:!0}:"rewardedVideoAd"===this.adType?null!=t&&t.requestType&&(p.request_type=t.requestType):"cpsShopAd"===this.adType?(p.cps_shop_req_info=t.cpsShopReqInfo||{},p.is_adunit_tmpl=t.isAdunitTmpl||!1):"interstitialAd"===this.adType&&null!=t&&t.requestType&&(p.request_type=t.requestType,p.check_ad_is_online_ads=(null==t?void 0:t.preloadAds)||[]);(null!=t&&t.weappExptCtx&&null!=t&&null!==(o=t.weappExptCtx)&&void 0!==o&&o.length&&(p.weapp_expt_ctx=t.weappExptCtx),(0,v.er)()&&(p.in_3rd_app=1),null!=t&&t.adRawType&&(p.ad_raw_type=t.adRawType),this.aiadPlatformId&&(p.path_slot_index=this.aiadPlatformId),this.isSkitAd&&zs[this.adType]&&(p.is_skit=1,p.skit_ad_type=zs[this.adType]),p.machine_brand=N_.brand||(null===f.default||void 0===f.default?void 0:f.default.brand),null!==(s=f.default.host)&&void 0!==s&&null!==(l=s.passThroughInfo)&&void 0!==l&&l.ad_type)&&(p.wmpf_ad_request_rule=null===(u=f.default.host)||void 0===u||null===(c=u.passThroughInfo)||void 0===c?void 0:c.ad_type);if(Object.assign(p,W_()),N_.isWaGame)try{var{query:m}=R_;m.ad_free_param&&(p.ad_free_param=Qo(m.ad_free_param))}catch(e){}return d.ext_slot_custom_comm=JSON.stringify(p),d}validateFetchEnv(){if((0,v.er)()&&this.reportAdMonitorData(fs.uks),"splashAd"!==this.adType&&!this.adUnitId&&!this.aiadPlatformId)throw{errMsg:"no ad unit id"};if(this.isLimitRequest())throw{errMsg:"no advertisement",errCode:this.lastAdRetCode}}validateFetchRes(e){if("-12001"===e.err_code)throw this.lastAdRetCode=e.err_code,{errMsg:"no permission",errCode:-12001};if(this.lastAdRetCode=e.ret,this.lastAdRespone="fetch",!this.isCheckAdIsOnlineRequest(e)){if(!e.advertisement_num||e.advertisement_num<=0)throw{errMsg:"no advertisement",errDetail:((e,t,a)=>{if(e&&"string"==typeof e){if(/\s/.test(e))return"广告单元（unit-id）不正确，存在空格，请检查对应广告组件。";if(23!==e.length)return"广告单元（unit-id）不正确，广告单元长度异常，请检查对应广告组件。";if(!/^adunit-[0-9a-fA-F]{16}$/.test(e))return"广告单元（unit-id）不正确，请检查对应的广告单元id（unit-id）是否与流量主后台中一致。"}return rs[t]?`${rs[t]}，${a||"解决方案参考'https://developers.weixin.qq.com/miniprogram/dev/component/ad.html'"}`:""})(this.getAdUnitId(),e.ret),errCode:e.ret};if(!e.advertisement_info)throw e}}validateCrtSize(e){var{crt_size:t}=e;if(!Rs.includes(t)&&!this.isCpsShopAd()&&!this.isCustomAd())throw this.reportAdMonitorData(fs.mZk),{errMsg:`unexpected advertisement crt_size ${t}`}}handleAdDataDone(){this.reportAdMonitorData(fs._2d),this.reportIPV4()}handleAdDataError(e){this.reportAdMonitorData(fs.mLi,e)}handleWaidForList(e=[]){var t={};if(e.length<1)return Promise.resolve(t);var a=[];return null==e||e.forEach((e=>{a.push(m(e.apkName).then((t=>({...t,aid:e.aid}))))})),Promise.race([Promise.all(a).then((e=>(e.forEach((({waid:e,aid:a=""})=>{e&&a&&(t[a]=e)})),t))).catch((e=>(this.reportAdMonitorData(fs.z$c,e),t))),b(2e3).then((()=>t))])}handleBulkSaveMaterials(e){var t=[];return this.isSplashAd()&&this.data&&(t=this.getSplashAdMaterialList(e)),t.length>0?sn(t):Promise.resolve()}getSplashAdMaterialList(e){var t,a,i,r,n=[],o=(null==e?void 0:e.crtInfo[0])||{},s=e.rerankingExtInfo.material_hash||"",l=(null==o?void 0:o.image_url)||"",d=(null==o||null===(t=o.card_info)||void 0===t?void 0:t.pure_color_url)||"",u=(null==o||null===(a=o.card_info)||void 0===a?void 0:a.material_blur_url)||"",c=`${Ot}/${e.aid}_${s}.png`;s&&l&&n.push({url:l,fileName:`${e.aid}_${s}.png`,filePath:c});var p=(null==o||null===(i=o.short_video)||void 0===i?void 0:i.video_url)||"",h=(null==o||null===(r=o.short_video)||void 0===r?void 0:r.thumb_url)||"";if(p){var f=`${Ot}/${e.aid}_${s}.mp4`;n.push({url:p,fileName:`${e.aid}_${s}.mp4`,filePath:f})}if(h){var v=`${Ot}/${e.aid}_${s}_thumb.png`;n.push({url:h,fileName:`${e.aid}_${s}_thumb.png`,filePath:v})}if(Array.isArray(null==e?void 0:e.crtInfo)&&(null==e?void 0:e.crtInfo.length)>1&&e.crtInfo.forEach(((t,a)=>{var i=(null==t?void 0:t.image_url)||"",r=`${e.aid}_${s}_${a}.png`,o=`${Ot}/${r}`;s&&n.push({url:i,fileName:r,filePath:o})})),d){var m=`${Ot}/${e.aid}_${s}_pure_color.png`;s&&n.push({url:d,fileName:`${e.aid}_${s}_pure_color.png`,filePath:m})}if(u){var _=`${Ot}/${e.aid}_${s}_blur.png`;s&&n.push({url:u,fileName:`${e.aid}_${s}_blur.png`,filePath:_})}if(null!=e&&e.adDynamicList||null!=e&&e.template)try{var g=null==e?void 0:e.adDynamicList;null!=e&&e.template&&(g=e.template);var{tplConfig:y}=g,A=null==y?void 0:y.cacheFile;if(A&&Object.keys(A).length>0)for(var E of Object.keys(A)){var C=`${Ot}/${e.aid}_${s}_${E}.png`;n.push({url:A[E],fileName:`${e.aid}_${s}_${E}.png`,filePath:C})}}catch(e){this.reportAdMonitorData({idKey:34,idKeyGroup:1646},e)}return n}handleAdInfosIndexCache(e,t,a){var i=this;return d()((function*(){var r;try{r=yield i.handleWaidForList(e)}catch{}t.deviceInfo=W_(),t.waidMap=r,i.reportAdMonitorData(fs.kgB,{adInfos:t}),t.lastSaveTime=Date.now();try{return yield on(t,a),i.reportAdMonitorData(Cs,{adInfos:t})}catch(e){var n=e instanceof Error?i.processStackMsg(e):e;return i.reportAdMonitorData(Ts,{adInfos:t,errMsg:n})}}))()}handleAppidCoverSceneCache(e,t){var a=this;return d()((function*(){var i={},r=`${Ot}/adSceneCache.txt`;try{var n=z(r,"utf-8");i=JSON.parse(n),a.reportAdMonitorData(Is,{adScene:i})}catch(e){a.reportAdMonitorData(bs,{error:e})}i[e]={scene:t,lastSaveTime:Date.now()},Object.keys(i).length>20&&function(e){var t="",a=1/0;for(var i of Object.keys(e)){var r=e[i];r.lastSaveTime<a&&(t=i,a=r.lastSaveTime)}delete e[t]}(i);try{return yield on(i,r),a.reportAdMonitorData(ws,{adScene:i})}catch(e){var o=e instanceof Error?a.processStackMsg(e):e;return a.reportAdMonitorData(Mt.SCENE_CACHE_WRITE_FAIL,{errMsg:o})}}))()}isCheckAdIsOnlineRequest(e){return this.isSplashAd()&&1010===e.ret&&e.advertisement_extra_info}isCheckAdIsOnlineResp(e){return!("traceid"in e)}handleCheckAdIsOnlineResp(e){var t,a=null===(t=JSON.parse(e.advertisement_extra_info))||void 0===t?void 0:t.check_ad_resp;return this.lastAdRespone=this.isCheckAdIsOnlineResp(a)?"checkAd":"fetch",a}handleSplashAd(e,t){var a=this;return d()((function*(){if(a.isCheckAdIsOnlineRequest(e))return a.handleCheckAdIsOnlineResp(e);var i=2===t.requestType;a.reportAdMonitorData(ms);var r=0,n=[],o=[],s=[],l=`${C()}_exposure_times`,d=`${Ot}/adinfos.txt`,u={slot_id:bt[a.adType],ads:[],crtSizeMap:{},crtSize:{},materialHashMap:{},total_exposure_times:0,[l]:0,requestInQueue:"true",totalSizeUsed:0,localBlacklistExtBackComm:[],expCondition:{},appidCoverScene:{}},c=yield nn(Ot);u.totalSizeUsed=c.totalSize;var p=c.outedDateFileList||[];p=p.length<21&&c.totalSize>20971520?c.fileList:p;try{yield((e="",t=[])=>{if(!e||0===t.length)return Promise.resolve();var a=[];for(var i of t){var r=`${e}/${i}`;a.push(rn(r))}return Promise.all(a)})(Ot,p)}catch(e){a.reportAdMonitorData(Es,e)}var h=!1;try{var f=e.advertisement_info.length>0&&e.advertisement_info.map(((e,t)=>{var d,c,p,f,v,m,_,g,y,A,E,C,T,I,b,w,k,S=a.handleAdData(e);try{h||(h=$s(S.crt_size))}catch(e){}var x=S.rerankingExtInfo.material_hash||"",P={material_hash:S.rerankingExtInfo.material_hash||"",tid:S.rerankingExtInfo.tid.toString()||"",aid:S.aid,trace_id:S.traceid};u.ads.push(P),u.total_exposure_times=S.rerankingExtInfo.total_exposure_times||0,u[l]=S.rerankingExtInfo[l]||0;var D=null===(d=S.condition)||void 0===d?void 0:d.widget_gray_splash_data_channel_parallel;u.requestInQueue=D?"false":"true",u.isCheckAndFetch=(null===(c=S.condition)||void 0===c?void 0:c.widget_gray_splash_check_and_fetch)||0,u.outedDateIntervals=(null===(p=S.condition)||void 0===p?void 0:p.widget_gray_splash_outed_date_setting)||7,u.useLocalSelect=(null===(f=S.condition)||void 0===f?void 0:f.widget_gray_splash_use_local)||0,u.localBlackList=(null===(v=S.condition)||void 0===v?void 0:v.widget_gray_splash_local_black)||"",u.localSelectExpire=null!==(m=null===(_=S.condition)||void 0===_?void 0:_.widget_gray_splash_local_outed_date_setting)&&void 0!==m?m:1,u.isWaittingFetch=(null===(g=S.condition)||void 0===g?void 0:g.widget_gray_splash_wait_fetch)||0,u.materialHashMap[S.aid]=x,u.checkAndFetchUseCatch=(null==S||null===(y=S.condition)||void 0===y?void 0:y.widget_gray_check_fetch_catch)||0,u.onlineFetchTimeout=(null==S||null===(A=S.condition)||void 0===A?void 0:A.widget_gray_splash_timeout)||0,u.newTimeout=(null==S||null===(E=S.condition)||void 0===E?void 0:E.widget_gray_splash_new_timeout)||0,u.newCheckAd=(null==S||null===(C=S.condition)||void 0===C?void 0:C.widget_gray_splash_new_checkad)||0,u.expCondition=null==S?void 0:S.condition,u.optimizationV1=(null==S||null===(T=S.condition)||void 0===T?void 0:T.widget_gray_splash_optimizationV1)||0,u.optimizationV1Timeout=(null==S||null===(I=S.condition)||void 0===I?void 0:I.widget_gray_splash_optimizationV1_timeout)||0,u.optimizationV1JSAPI=(null==S||null===(b=S.condition)||void 0===b?void 0:b.widget_gray_splash_optimizationV1_jsapi)||0,u.optimizationV1IOSTimeout=(null==S||null===(w=S.condition)||void 0===w?void 0:w.widget_gray_splash_optimizationV1_ios_timeout)||850;var O=S.crtInfo[0]||{};if(S.crtInfo){u.crtSizeMap[S.aid]=O.width>=O.height?"landscape":"portrait",u.crtSize[S.aid]=S.crt_size;var{extBackComm:R}=S,{card_info:N}=O;R.is_from_snsadinfo&&S.ad_desc&&!N.description&&(N.description=S.ad_desc),u.localBlacklistExtBackComm=null==R?void 0:R.splash_localselect_blacklist,a.handleAppidCoverSceneCache(N_.gameAppId,(null==R?void 0:R.appid_cover_scene_list)||[])}var M=a.getSplashAdMaterialList(S);o=o.concat(M),r+=0===t?M.length:0;var L=!(null==S||null===(k=S.condition)||void 0===k||!k.widget_gray_splash_online_optimization)&&i,B=`${Ot}/${S.aid}.txt`;if(!L&&n.push(on(S,B)),S.product_type===Ps.ANDROID){var F,W=null===(F=S.appInfo)||void 0===F?void 0:F.apkName;s.push({apkName:W,aid:S.aid})}return S}));a.datas=f}catch(e){throw a.reportAdMonitorData(As,e),e}if(i||h)return a.datas[0];var v=o.slice(0,r);return yield sn(v),n.push(sn(o)),n.push(a.handleAdInfosIndexCache(s,u,d)),Promise.all(n).then((()=>a.reportAdMonitorData(gs))).catch((e=>{throw a.reportAdMonitorData(ys,e),e})),a.datas[0]}))()}handleCustomAd(e){var t=e.advertisement_info.map(((e,t)=>{var a,i,r,n,o=e=>{if(0===t)throw e},s=null,l=this.handleAdData(e),{crtInfo:d,button_action:u,product_type:c,dest_type:p,crt_size:h}=l;if(l.reranking_ext_info&&l.reranking_ext_info.refresh_time)n=l.reranking_ext_info.refresh_time;else if(l.reranking_ext_info&&"string"==typeof l.reranking_ext_info)try{var f=JSON.parse(l.reranking_ext_info);f.refresh_time&&(n=f.refresh_time)}catch{}if(null!=l&&null!==(a=l.extBackComm)&&void 0!==a&&a.tmpl_info)try{var v,m=JSON.parse(l.extBackComm.tmpl_info);s=JSON.parse(m.tmpl_content),i=Number(l.extBackComm.sub_templ_id),r=Number(null===(v=l.extBackComm)||void 0===v?void 0:v.templ_id)||0}catch{this.reportAdMonitorData(J),o({errMsg:"custom template error",errCode:ne})}else 0===t&&this.reportAdMonitorData(ee),o({errMsg:"no custom template",errCode:re});var{antifraud_popup:_}=(null==l?void 0:l.extBackComm)||{};return void 0===_&&(_=!1),{...e,crtInfo:d,button_action:u,product_type:c,dest_type:p,crt_size:h,condition:l.condition,template:s,subTemplId:i,templId:r,refreshTime:n,aid:l.aid,app:l.app,appInfo:l.appInfo,extBackComm:l.extBackComm,wording:l.hint_txt,card_info:l.card_info,video_info:l.video_info,image_url:l.image_url,weapp_info:l.weapp_info,wx_game_video:l.wx_game_video,antifraudPopup:_}}));return this.reportAdMonitorData(ie),t.length>1?this.isMulti=!0:this.isMulti=!1,this.datas=t,this.setCurrentData(0),t[0]}handleCpsShopAd(e){var t=e.advertisement_info.map((e=>{var t=this.handleAdData(e);return{...t,extBackComm:{...t.extBackComm,cpsProduct:t.extBackComm.cps_weapp_shop_ad_info}}}));return this.datas||(this.datas=[]),this.datas=this.datas.concat(t),this.setCurrentData(0),t}handleInterstitialAd(e){var t,a,{crtInfo:i,extBackComm:r}=e;if(!i[0])throw{errMsg:"unexpected addata"};(t=i[0]).card_info||(t.card_info={});var n={...i[0],...(0,q.ei)(e,["crtInfo","product_type","dest_type","crt_size","button_action","condition","app","appInfo","extBackComm","template","poi","rerankingExtInfo"]),useTemplate:!!e.template},o=i[0].card_info;if(r.is_from_snsadinfo){if(!o)throw this.reportAdMonitorData(fs.Hx8),{errMsg:"unexpected adData"};o.head_bg_img&&(o.bg_img=o.head_bg_img)}e.ad_desc&&!o.description&&(o.description=e.ad_desc),null!=o&&o.desc&&null!=o&&o.description&&(o.description="");var s=`${Ot}/interstitialAdExtInfo.txt`,l=(null==e||null===(a=e.condition)||void 0===a?void 0:a.widget_gray_interstitial_preload)||0;return l&&this.reportAdMonitorData(fs.w86),on({isPreloadAd:l},s).then((e=>this.reportAdMonitorData(fs.CQ_,e))).catch((e=>this.reportAdMonitorData(fs.$3i,e))),n}getCacheConditionInfo(){var e,t;if("interstitialAd"===this.adType&&(t=`${Ot}/interstitialAdExtInfo.txt`),t&&(null===(e=Object.keys(this.cacheConditionInfo))||void 0===e||!e.length))try{var a=z(t,"utf-8");this.cacheConditionInfo=JSON.parse(a),this.reportAdMonitorData(fs.nDn)}catch(e){this.reportAdMonitorData(fs.LNF),this.cacheConditionInfo={}}return this.cacheConditionInfo}handleMultiRewardedVideoAd(e){return this.datas=[],this.convertedAdDatas=[],e.advertisement_info.forEach((e=>{var t=this.handleAdData(e);this.data=t,this.datas.push(t);var a=this.handleRewardedVideoAd(t);this.convertedAdDatas.push(a)})),this.setCurrentData(0),this.convertedAdDatas}getRewardedSnsCardInfo(e,t){var a,i,{ad_desc:r}=e,n=null==t||null===(a=t[0])||void 0===a?void 0:a.card_info,o=null==t||null===(i=t[0])||void 0===i?void 0:i.short_video;if(o&&o.video_duration<1e3&&(o.video_duration*=1e3),!n)return this.reportAdMonitorData(fs.fvN),{};var{head_bg_img:s,thumb:l="",title:d=""}=n||{};return(0,q.pL)({headBgImg:s,mpTagType:0,gaussVideo:null,shortVideo:o,showTime:0,icon:l,name:d,wording:r.replace(/\n/g," "),flooringPage:null})}getRewardedMpCardInfo(e,t){var[{short_video:a,wxgame_video_card:{head_bg_img:i,mp_tag_type:r,show_time:n,thumb:o,title:s,desc:l,flooring_page:d},wxgame_gauss_video:u}]=t;return{headBgImg:i,mpTagType:r,gaussVideo:u,shortVideo:a,showTime:n,icon:o,name:s,wording:l,flooringPage:d}}getRewardedVideoData(e){var t,a=e.crtInfo&&Array.isArray(e.crtInfo)?e.crtInfo:[];0===a.length?a.push({wxgame_video_card:{}}):null!==(t=a[0])&&void 0!==t&&t.wxgame_video_card||(a[0].wxgame_video_card={});var{extBackComm:i,canvas_info:r}=e,{antifraud_popup:n}=i,o=this.getRewardedMpCardInfo(e,a);i.is_from_snsadinfo&&Object.assign(o,this.getRewardedSnsCardInfo(e,a));var[{wxgame_video_card:{playable_appid:s,playable_path:l,endpage_cover:d}}]=a;return{...o,crtInfo:a,canvasInfo:r,playableAppid:s,playablePath:l,endpageCover:d,playableInfo:{appid:s,moduleName:l,orientation:"portrait",coverUrl:null==d?void 0:d.image_url},antifraudPopup:n||!1}}handleRewardedVideoAd(e){var t,a,i,r;e.crt_size===xs.CRT_SIZE_REWARD_LANDINGPAGE&&this.handleRewardedLandingPage(e);var{crtInfo:n,headBgImg:o,mpTagType:s,gaussVideo:l,canvasInfo:d,shortVideo:u,showTime:c,icon:p,name:h,wording:f,playableInfo:v,flooringPage:m,antifraudPopup:_}=this.getRewardedVideoData(e),g=30;if(e.reranking_ext_info&&e.reranking_ext_info.rewarded_time)g=e.reranking_ext_info.rewarded_time;else if(e.reranking_ext_info&&"string"==typeof e.reranking_ext_info)try{var y=JSON.parse(e.reranking_ext_info);y.rewarded_time&&(g=y.rewarded_time)}catch{}g=Math.floor(1e3*g),m&&[3,4].indexOf(m.landpage_type)>-1&&(e.isPlayable=!0);var A={crtInfo:n[0],crtInfos:n,canvas_info:d,type:Ds[e.pt],shortVideo:u?this.mapRewardVideoFields(u):null,gaussVideo:l?this.mapRewardVideoFields({...l,video_duration:l.video_duration_ms}):null,rewardedTime:1e9,card:{icon:p,name:h,wording:f,headBgImg:o,mpTagType:s,showTime:c},playableInfo:v,flooringPage:m,...(0,q.ei)(e,["crt_size","product_type","dest_type","button_action","condition","styleParams","app","appInfo","extBackComm","template"]),useTemplate:!!e.template&&!e.styleParams.widget_gray_rewarded_video_disable_template,antifraudPopup:_},E=new O_.ValueProtector(g);Object.defineProperty(A,"rewardedTime",{set:e=>{E.val=e},get:()=>E.val}),A.rewardedTime=g;var C=ul(A),T=cl(A);return this.reportRewardGaussVideo({useGaussVideo:C,useExpandStyle:T,expUseGaussVideo:null!==(t=null===(a=e.condition)||void 0===a?void 0:a.widget_gray_reward_use_gauss_blur)&&void 0!==t?t:0,expUseExpandStyle:1,videoUrl:null!==(i=null==u?void 0:u.video_url)&&void 0!==i?i:"",gaussVideoUrl:null!==(r=null==l?void 0:l.video_url)&&void 0!==r?r:""}),null!=l&&l.video_url&&this.reportAdMonitorData(fs.Lh3),C&&T?this.reportAdMonitorData(fs.xIe):C?this.reportAdMonitorData(fs.LEp):T&&this.reportAdMonitorData(fs.i_3),A}mapRewardVideoFields(e){var{thumb_url:t,video_url:a,video_duration:i,video_duration_ms:r,thumb_width:n,thumb_height:o}=e;return{poster:t,src:a,duration:r||1e3*i,width:n,height:o}}handleRewardedLandingPage(e){var t,a=N_.isAndroid&&f.default.clientVersion>=654315008||N_.isIOS&&f.default.clientVersion>=385879552;if((null===(t=e.condition)||void 0===t?void 0:t.widget_gray_rewardedpage_exposure_v2)&&a)try{var{canvas_info:i}=e,{root:r}=c()(i.ad_info_xml),n=T(e),o=this.composeExposureCommonInfo({top:0,left:0,width:N_.screenWidth,height:N_.screenHeight});r.children.push({name:"viewid",children:[],attributes:{},content:n},{name:"commInfo",children:[],attributes:{},content:o});var s=Gi(r);this.rawAdInfoXml=e.canvas_info.ad_info_xml,e.canvas_info.ad_info_xml=s,this.isCanvasXmlHook=!0}catch(e){this.isCanvasXmlHook=!1}}UpdateRewardedLandingPageData(e){try{if(this.checkCanvasXmlState()&&this.rawAdInfoXml){var{root:t}=c()(this.rawAdInfoXml),a=T(this.data),i=this.composeExposureCommonInfo({top:0,left:0,width:N_.screenWidth,height:N_.screenHeight,inputWeappExtraData:e.weappExtraData||{}});t.children.push({name:"viewid",children:[],attributes:{},content:a},{name:"commInfo",children:[],attributes:{},content:i});var r=Gi(t);this.data.canvas_info.ad_info_xml=r}this.inputWeappExtraData=e.weappExtraData||{}}catch(e){this.reportAdMonitorData(fs.FIb,e)}}handleBannerAd(e){var t,{extBackComm:a,crtInfo:i,pt:r,crt_size:n,image_url:o,material_width:s,material_height:l,ad_width:d,ad_height:u,use_style_data:c,hint_txt:p,watermark_type:h}=e,{antifraud_popup:f}=a;void 0===f&&(f=!1);var v,m,_=Ds[r];c?(v=d,m=u):[xs.CRT_SIZE_WX_APPLICATION,xs.CRT_SIZE_WX_APPLICATION_NEW,xs.CRT_SIZE_WX_APPLICATION_X].includes(n)?(v=(d||s)/2,m=(u||l)/2):n===xs.CRT_SIZE_WX_APPLICATION_CARD&&(v=d,m=u);var g={antifraudPopup:f,type:_,crt_size:n,useStyleData:c,watermark:Os[h],width:v,height:m,image:{src:o,width:s,height:l},wording:p,...(0,q.ei)(e,["ad_style_data","product_type","dest_type","button_action","watermark_text","condition","app","appInfo","crtInfo","template"]),useTemplate:!!e.template||e.crt_size===xs.CRT_SIZE_CARD_COMPT_IMAGE},y=(null==i||null===(t=i[0])||void 0===t?void 0:t.card_info)||{};if(a.is_from_snsadinfo&&!y)throw{errMsg:"unexpected adData"};return a.is_from_snsadinfo&&e.ad_desc&&!y.description&&(y.description=e.ad_desc),null!=y&&y.desc&&null!=y&&y.description&&(y.description=""),this.convertedAdData=g,g}extractJson(e,t,a,i){var r=null!=a?a:t;if(e[r]&&"string"==typeof e[r])try{e[t]=JSON.parse(e[r])}catch{e[t]=null!=i?i:{}}else null!=i&&(e[t]=i)}buildWechatInfo(e){if(e.product_type===Ps.WE_CHAT){var{biz_appid:t,biz_info:{nick_name:a,is_subscribed:i,head_img:r,biz_uin:n}}=e;return{icon:r,nickname:a,uin:n,isFollowed:i,biz_appid:t}}return{}}buildAppInfo(e){var t=e.product_type;if([Ps.ANDROID,Ps.IOS].includes(t)){var{app_info:{app_name:a,apk_name:i,apk_url:r,app_md5:n,app_rating:o,icon_url:s,url_scheme:l,version_code:d,channel_id:u,desc:c}}=e;return{appName:a,apkName:i,apkUrl:r,appMd5:n,appRating:o,iconUrl:s,urlScheme:l,versionCode:d,channelId:u,desc:c}}return{}}handleAdData(e){var t,a,i,r,n,o,s,l;if(0===Object.keys(e).length)throw{errMsg:"unexpected adData"};var d,u,c,p=e.crt_exp_tid&&e.crt_exp_info?this.convertTestAdData(e):(0,q.Xh)(e),h=p;(p.crt_size&&(h.crt_size=Number(p.crt_size)),this.extractJson(h,"crtInfo","crt_info"),this.extractJson(h,"extBackComm","ext_back_comm"),this.extractJson(h,"button_action","button_action",{}),this.extractJson(h,"adStyleData","ad_style_data",""),this.extractJson(h,"rerankingExtInfo","reranking_ext_info",""),this.extractJson(h,"extInfo","ext_info"),this.extractJson(h,"adDynamicList","ad_dynamic_list"),null!==(t=h.crtInfo)&&void 0!==t&&null!==(a=t[0])&&void 0!==a&&null!==(i=a.card_info)&&void 0!==i&&i.sns_to_mp_supplementary)&&Object.assign(h.crtInfo[0].card_info,null===(d=h.crtInfo)||void 0===d||null===(u=d[0])||void 0===u||null===(c=u.card_info)||void 0===c?void 0:c.sns_to_mp_supplementary);if(p.flow_exp_info){try{h.condition=Qt(p.flow_exp_info)}catch(e){h.condition={},this.reportAdMonitorData(fs.t7p,e)}this.isSplashAd()||this.handleSplashAdFetchLog(h.condition)}if(null!==(r=h.extBackComm)&&void 0!==r&&r.style_params)try{h.styleParams=(e=>{var t={},a=JSON.parse(e);for(var{key_enum:i,value:r}of a)i&&Pt[i]&&(t[Pt[i]]=r);return t})(h.extBackComm.style_params)}catch(e){h.styleParams={},this.reportAdMonitorData(fs.mjq,e)}else h.styleParams={};if(null!==(n=h.extBackComm)&&void 0!==n&&n.we_game_info)try{var f;h.extBackComm.wegameInfo=JSON.parse(null===(f=h.extBackComm)||void 0===f?void 0:f.we_game_info)}catch(e){h.extBackComm.wegameInfo={},this.reportAdMonitorData(fs.lQd,e)}else h.extBackComm.wegameInfo={};if(h.adStyleData&&ol("native",h.crt_size)){h.use_style_data=!0;var{adStyleData:v}=h;p.ad_width=v.width,p.ad_height=v.height,v.widgets.forEach((e=>{var t=p.button_action;4===e.type&&(t.button_text=e.title,t.jump_type=e.dest_type||t.jump_type,t.jump_url=e.dest_url||t.jump_url)}))}else this.validateCrtSize(h);var _,g=p.button_action;if(g.button_text=g.button_text||"查看",p.watermark_text=p.watermark_text||"去逛逛",18001===(null==h||null===(o=h.extInfo)||void 0===o?void 0:o.page_type)){var y={gdt_vid:p.traceid||"",uxinfo:p.uxinfo||"",ad_token:p.ad_token||"",rl:p.rl||""};p.url=es(p.url,y)}if(null!=h&&null!==(s=h.extBackComm)&&void 0!==s&&s.ad_template_info)if(this.isSplashAd()&&(null==h||null===(_=h.extBackComm)||void 0===_?void 0:_.template_compress_type)===$_.JSONPACK)try{var A,E=Date.now();h.template=P_(null==h||null===(A=h.extBackComm)||void 0===A?void 0:A.ad_template_info);var C=Date.now()-E;this.reportAdMonitorData(fs.UyV,C)}catch(e){h.template=null,this.reportAdMonitorData(fs.M3c,e)}else try{h.template=JSON.parse(h.extBackComm.ad_template_info)}catch{h.template=null}null!=h&&null!==(l=h.extBackComm)&&void 0!==l&&l.templ_id&&(h.templId=Number(h.extBackComm.templ_id)||0);var T=this.buildWechatInfo(h),I=this.buildAppInfo(h);return p.product_type===Ps.ANDROID&&m(I.apkName).then((({waid:e})=>{h.waid=e,this.reportAdMonitorData(fs.Myp)})).catch((e=>{this.reportAdMonitorData(fs.e75,e)})),{...h,app:T,appInfo:I}}handleSplashAdFetchLog(e){this.handledInNewFetch||(this.handledInNewFetch=!0,ln(e))}handleOperateWXData(e){var t={apiName:"webapi_getadvert",reqData:e};return this.isSplashAd()?L(t):B(t)}handleFetch(e,t,a,i={}){var r=this;return d()((function*(){if(r.validateFetchEnv(),Object.keys(t).length>0)U_(t);else{N_.deviceOrientation=B_();try{var{networkType:n}=yield r.getNetworkType();N_.adNetworkType=n}catch(e){if(!r.isSplashAd()||!N_.adNetworkType)throw e}}if(!r.isSplashAd()){r.setTimePoint("p34",{prefetch:i.prefetch});var o=r.isRewardedVideoAd()?200:100;yield Promise.race([b(o),M_,b(o)]),r.setTimePoint("p35",{prefetch:i.prefetch})}var s=r.getFetchArgs({isAdInterval:e},a);r.setLastAdReqTs(+new Date),r.setLastExposureTime(0),r.setLastClickTime(0),r.setTimePoint("p2",{prefetch:i.prefetch});var l=yield r.handleOperateWXData(s);return r.fetchRetryCount=0,r.handledInNewFetch=!1,r.setTimePoint("p3",{prefetch:i.prefetch}),l}))()}handleFetchWithCache(e,t,a){var i=this;return d()((function*(){return i.isRewardedVideoAd()&&i.cacheCount>0&&i.cacheRawDatas.length>0?(i.reportAdMonitorData(fs.vos),i.cacheRawDatas.shift()):yield i.handleFetch(e,t,a)}))()}prefetchAdData(e=!1,t={},a={}){var i=this;return d()((function*(){if(i.cacheRawDatas.length<i.cacheCount)try{var r=yield i.handleFetch(e,t,a,{prefetch:!0});i.cacheRawDatas.length<i.cacheCount?(i.cacheRawDatas.push(r),i.reportAdMonitorData(fs.kIM)):i.reportAdMonitorData(fs.AaN,"cache data limit exceed")}catch(e){i.reportAdMonitorData(fs.AaN,e)}}))()}getPreloadAdsForCheckStatus(){try{var e=this.cacheRawDatas.length>0?this.cacheRawDatas:[],t=V_(!1)||[];(null==t?void 0:t.length)>0&&(e=e.concat(t));var a=[];for(var i of e)if("object"==typeof i){var{data:r}=i,n="string"==typeof r?JSON.parse(r):r,o=n.advertisement_info[0],s=JSON.parse(null==o?void 0:o.reranking_ext_info);a.push({material_hash:"",aid:o.aid,trace_id:o.traceid,tid:(null==s?void 0:s.tid)||0}),this.cacheRawDatasMap[o.aid]={data:n,errMsg:null==i?void 0:i.errMsg}}return this.reportAdMonitorData(fs.zt4),a}catch(e){return this.reportAdMonitorData(fs.IS8,e),[]}}getAiAdPreloadData(){var e=this;return d()((function*(){if(1===H_()){var t=j_();t&&(yield t)}var a=V_(!0)||[];if(!a||!a.length)throw{errCode:Ut,errMsg:"checkStatus no preload ads return"};for(var i of a)if("object"==typeof i){var{data:r}=i,n="string"==typeof r?JSON.parse(r):r;e.cacheRawDatasMap[10086]={data:n,errMsg:null==i?void 0:i.errMsg}}var{data:o}=e.cacheRawDatasMap[10086],s=e.handleAdData(o.advertisement_info[0]);return e.data=s,e.datas=[s],e.setCurrentData(0),delete e.cacheRawDatasMap[10086],e.isInterstitialAd(s)&&(e.convertedAdData=e.handleInterstitialAd(s)),e.convertedAdDatas=[e.convertedAdData],e.isUsedCacheData=!0,e.reportAdMonitorData(fs.QLb),G_(!0),wxNativeConsole.warn("[aiad intersitital info] get intersitial aiad from preload"),e.convertedAdData}))()}processCheckCacheDataStatus(e){var t=this;return d()((function*(){try{var a,i=t.getPreloadAdsForCheckStatus();if(!i||(null==i?void 0:i.length)<=0)throw{errCode:Ut,errMsg:"checkStatus no preload ads return"};var r=Object.assign({},e,{preloadAds:i,requestType:6}),n=t.getFetchArgs({isAdInterval:!1},r);t.reportAdMonitorData(fs.HdU);var{data:o}=yield t.handleOperateWXData(n),s=(null==o?void 0:o.advertisement_extra_info)||null;if(null!=o&&o.advertisement_extra_info&&"string"==typeof o.advertisement_extra_info)try{s=JSON.parse(o.advertisement_extra_info)}catch(e){throw{errCode:Ht,errMsg:"Parse advertisement_extra_info fail",preloadAds:i}}if(null===(a=s)||void 0===a||!a.check_ad_resp)throw{errCode:jt,errMsg:"checkStatus no result return",preloadAds:i};var l=s.check_ad_resp;if(null==l||!l.aid||!Number(null==l?void 0:l.aid))throw{errCode:Vt,errMsg:"checkStatus no aid return",preloadAds:i};if(!Object.keys(t.cacheRawDatasMap).includes(null==l?void 0:l.aid))throw{errCode:Gt,errMsg:"checkStatus no local data return",preloadAds:i};var{data:d}=t.cacheRawDatasMap[l.aid],u=t.handleAdData(d.advertisement_info[0]);return t.data=u,t.datas=[u],t.setCurrentData(0),delete t.cacheRawDatasMap[l.aid],t.checkDuplicateRecommendedAds(u.product_type,u.app,u.appInfo),t.isInterstitialAd(u)&&(t.convertedAdData=t.handleInterstitialAd(u)),t.convertedAdDatas=[t.convertedAdData],t.isUsedCacheData=!0,t.reportAdMonitorData(fs.QLb),t.convertedAdData}catch(e){throw t.reportAdMonitorData(fs.d9v,e),e}}))()}processFetch(e,t,a){var i=this;return d()((function*(){try{var{data:r,errMsg:n}=yield i.handleFetchWithCache(e,t,a);if(i.validateFetchRes(r),i.isInterstitialAd()&&i.isUsedCacheData&&i.convertedAdData)return i.isUsedCacheData=!1,i.cacheRawDatas.push({data:r,errMsg:n}),i.reportAdMonitorData(fs.I7p),i.convertedAdData;if(i.isSplashAd())return i.handleSplashAd(r,a);if(i.isCustomAd())return i.handleCustomAd(r);if(i.isCpsShopAd())return i.handleCpsShopAd(r);if(i.isRewardedVideoAd())return i.rawAdDatas=r.advertisement_info,i.handleMultiRewardedVideoAd(r);var o=i.handleAdData(r.advertisement_info[0]);return i.data=o,i.datas=[o],i.setCurrentData(0),i.checkDuplicateRecommendedAds(o.product_type,o.app,o.appInfo),i.isInterstitialAd(o)?i.convertedAdData=i.handleInterstitialAd(o):i.isBannerAd(o)&&(i.convertedAdData=i.handleBannerAd(o)),i.convertedAdDatas=[i.convertedAdData],i.convertedAdData}catch(t){var s="";try{"string"==typeof t&&(s=JSON.parse(t).errMsg)}catch(e){}if(0===s.indexOf("getAdData:fail")&&i.fetchRetryCount<1)return i.fetchRetryCount+=1,i.fetch(e);throw i.isBannerAd()?i.reportAdMonitorData(fs.g0o,t):i.isRewardedVideoAd()?i.reportAdMonitorData(fs.$7v,t):i.isInterstitialAd()?i.reportAdMonitorData(fs.tts,t):i.isCustomAd()?i.reportAdMonitorData(X,t):i.isSplashAd()&&i.reportAdMonitorData(_s,t),i.isUsedCacheData&&(i.isUsedCacheData=!1),t}}))()}processAdditionFetch(e,t,a){var i=this;return d()((function*(){if(i.validateFetchEnv(),Object.keys(t).length>0)U_(t);else{N_.deviceOrientation=B_();var{networkType:r}=yield i.getNetworkType();N_.adNetworkType=r}var n=i.getFetchArgs({isAdInterval:e},a);i.setLastAdReqTs(+new Date);try{var o=yield i.handleOperateWXData(n);i.additionFetchRetryCount=0,i.handledInNewFetch=!1,o=o.data,i.validateFetchRes(o);var s=i.handleAdData(o.advertisement_info[0]);i.checkDuplicateRecommendedAds(s.product_type,s.app,s.appInfo),i.datas.push(s);var l=null;return i.isInterstitialAd(s)?l=i.handleInterstitialAd(s):i.isBannerAd(s)&&(l=i.handleBannerAd(s)),l&&i.convertedAdDatas.push(l),l}catch(t){var d="";try{"string"==typeof t&&(d=JSON.parse(t).errMsg)}catch(e){}if(0===d.indexOf("getAdData:fail")&&i.additionFetchRetryCount<1)return i.additionFetchRetryCount+=1,i.additionFetch(e);throw i.isBannerAd()?i.reportAdMonitorData(fs.g0o,t):i.isRewardedVideoAd()?i.reportAdMonitorData(fs.$7v,t):i.isInterstitialAd()?i.reportAdMonitorData(fs.tts,t):i.isCustomAd()?i.reportAdMonitorData(X,t):i.isSplashAd()&&i.reportAdMonitorData(_s,t),t}}))()}checkDuplicateRecommendedAds(e,t,a){var i=this;return d()((function*(){var r=[],n="0",o=decodeURIComponent(i.data.apurl);/viewid=([^&]+)/.test(o)&&(n=RegExp.$1);var s={conv_status:r},l={},{imei:d,idfa:u}=yield M_,c={viewid:n,app_status:0,follow_status:0,imei:d,idfa:u};if(i.isDuplicateRecommendedAds=!1,e===Ps.WE_CHAT){if(l.ad_type=1,l.ad_id=t.biz_appid,c.follow_status=t.isFollowed?2:1,t.isFollowed)return i.isDuplicateRecommendedAds=!0,i.reportAdMonitorData(fs.$7M,{adInfo:l})}else if(e===Ps.ANDROID){var{apkName:p,versionCode:h}=a;try{var f=yield i.getInstallState(p),v=f.isInstalled&&(void 0===f.versionCode||f.versionCode>=h);l.ad_type=2,l.ad_id=p,c.app_status=v?2:1,i.isDuplicateRecommendedAds=Boolean(v),v&&i.reportAdMonitorData(fs.oG6,{adInfo:l})}catch{c.app_status=0,Reporter.reportIDKey({key:"adGetInstallState_fail",force:!0})}}r.push(c),i.reportInstallFollow(s)}))()}getAdType(){return this.adType}getAdUnitId(){return this.adUnitId}getPluginAppid(){return this.pluginAppid}getDeviceInfo(){return N_}isBannerAd(e){return"banner"===this.adType}isRewardedVideoAd(e){return"rewardedVideoAd"===this.adType&&(!e||ol("all",e.crt_size))}isInterstitialAd(e){return"interstitialAd"===this.adType&&(!e||Yd("all",e.crt_size))}isCustomAd(){return"customAd"===this.adType}isSplashAd(){return"splashAd"===this.adType}isCpsShopAd(){return"cpsShopAd"===this.adType}isSkitMode(){return!!this.isSkitAd}isRewardedCustomerAcquisition(){var e,t,a;if(!this.data)return!1;if(null!=this.isCustomerAcquisition)return this.isCustomerAcquisition;if((null===(e=this.data)||void 0===e?void 0:e.dest_type)===ds&&null!==(t=this.data)&&void 0!==t&&null!==(a=t.canvas_info)&&void 0!==a&&a.canvas_dynamic_info)try{var i,r,n=JSON.parse(null===(i=this.data)||void 0===i||null===(r=i.canvas_info)||void 0===r?void 0:r.canvas_dynamic_info);if((null==n?void 0:n.vangogh_id)>0)return this.isCustomerAcquisition=!0,!0}catch{}return this.isCustomerAcquisition=!1,!1}getProgramStartTime(){return N_.startTime}getWebviewInfo(){return{createWebviewId:this.webviewId,lastWebviewId:L_.lastWebviewId,currentWebviewId:L_.currentWebviewId,openType:L_.currentOpenType}}getExpTidForReport(e){if(!e)return"";var t=[];for(var a of Object.keys(e))xt[Number(a)]&&t.push(`${a}:${e[a]}`);return t.join(";").slice(0,500)}reset(){this.adDataIndex=0,this.datas=[],this.convertedAdDatas=[],this.cgiReporter.reset(),this.rawAdInfoXml="",this.isCustomerAcquisition=null,this.inputWeappExtraData={}}fetch(e=!1,t={},a={}){if(!this.fetchPromise||this.isSplashAd()){this.fetchPromise=this.processFetch(e,t,a);var i=()=>{this.fetchPromise=null};this.fetchPromise.then(i,i)}return this.fetchPromise}checkCacheDataStatus(e={}){return this.checkStatusPromise||(this.checkStatusPromise=this.processCheckCacheDataStatus(e)),this.checkStatusPromise}checkAndFetch(e=!1,t={},a={},i=!1){return i?this.getAiAdPreloadData().catch((i=>(wxNativeConsole.warn(`[aiad intersitital error] getAiAdPreloadData error: ${null==i?void 0:i.errMsg}`),this.fetch(e,t,a)))):(this.reportAdMonitorData(fs.TVC),this.handleFetchPromiseQueueWithCache([this.checkCacheDataStatus(a),this.fetch(e,t,a)]).catch((e=>{throw this.reportAdMonitorData(fs.Cz2),e})))}handleFetchPromiseQueueWithCache(e){return d()((function*(){e=e.map((e=>e.then((e=>[null,e])).catch((e=>[e]))));var t=[];for(var a of e)try{var[i,r]=yield a;if(i)throw i;return r}catch(e){t.push(e)}if(2===t.length)throw t[1]}))()}additionFetch(e=!1,t={},a={}){if(!this.additionFetchPromise){this.additionFetchPromise=this.processAdditionFetch(e,t,a);var i=()=>{this.additionFetchPromise=null};this.additionFetchPromise.then(i,i)}return this.additionFetchPromise}setRightButtonHide(e){var t=()=>N_.isWaGame?this.setNavigationBarRightButton({isHide:e}):this.setMiniProgramNavigationBarRightButton({isHide:e});return t().catch((a=>(this.reportAdMonitorData(fs.OZH,{retryCount:0,isHide:e,message:this.processStackMsg(a)}),t().catch((t=>{throw this.reportAdMonitorData(fs.OZH,{retryCount:1,isHide:e,message:this.processStackMsg(t)}),t})))))}addDownloadTaskStraight(e,t,a,i){return $r({taskName:e,taskUrl:t,fileMd5:a,extInfo:i}).catch((e=>(this.reportAdMonitorData(fs.Psu,e),Promise.reject(e))))}operateFullscreen(e){if(!e)return Promise.reject();var t=[this.setRightButtonHide("hide"===e)];return N_.isWaGame||t.push("hide"===e?this.hideStatusBar():this.showStatusBar()),!N_.isWaGame&&N_.isAndroid&&t.push("hide"===e?this.hideVirtualBottomNavigationBar():this.showVirtualBottomNavigationBar()),Promise.all(t)}isTriggerClick(e){var t=e.absoluteX,a=e.absoluteY,i=e.absoluteEndX,r=e.absoluteEndY,n=e.pressInterval,o=!1;return Math.abs(r-a)<30&&Math.abs(i-t)<30&&n<300&&(o=!0),o}isValidCondition(e){return!!(e&&this.data&&this.data.condition)&&(this.data.condition[e]||void 0===this.data.condition[e])}setCurrentData(e){var t,a;this.adDataIndex=e,null!==(t=this.datas)&&void 0!==t&&t[e]&&(this.data=this.datas[e]),null!==(a=this.convertedAdDatas)&&void 0!==a&&a[e]&&(this.convertedAdData=this.convertedAdDatas[e])}checkCanvasXmlState(){return this.isCanvasXmlHook}handleRewardedVideoPlayableLand(e,t){var a,i,r,n=null==this||null===(a=this.data)||void 0===a||null===(i=a.extBackComm)||void 0===i?void 0:i.uid,o={};4===t?o.xj_scene=6:(o.gdt_vid=this.data.traceid||"",o.uxinfo=this.data.uxinfo||"",o.reward=1),o.rl=this.data.rl||"",o.ad_token=this.data.ad_token||"",N_.isIOS&&(o.uid=n||"");var s=es(e,o);return this.isPrefetch("playable_url")&&this.reportAdMonitorData(fs.T8M),R({url:s,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(r=this.data)||void 0===r?void 0:r.uxinfo})}setDeviceInfo(e){Object.assign(N_,e)}setSplashAdShowStatus(){z_=!0}getSplashAdShowStatus(){return z_}getChannelsLiveStatusWithRpc(){var e=this;return d()((function*(){var{dest_type:t,extBackComm:{channels_info:a,live_video_mode:i,live_video_sub_mode:r}}=e.data;if(!a||null==i||null==r)return"none";if(as(i,r)&&t===cs){var{id:n,username:o}=a;if(!n||!o)return"none";try{var{data:s}=yield B({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_finder_live_info",live_id:n})}}),{result:l}=s||"",{live_status:d}=JSON.parse(l);if([Hs.NONE,Hs.IN_PREPARE].includes(d))return"none";if(d===Hs.ON_AIR)return"onlive";if(d===Hs.ENDED)return"end";e.reportAdIDKey({key:fs.mlb})}catch(t){e.reportAdMonitorData(fs.W1Y,{id:n,username:o,errMsg:t})}}else if(is(i,r)&&t===ds)return"reserve";return"none"}))()}getChannelsLiveStatus(){var e=this;return d()((function*(){var{dest_type:t,extBackComm:{channels_info:a,live_video_mode:i,live_video_sub_mode:r}}=e.data;if(!a||null==i||null==r)return"none";if(as(i,r)&&t===cs){var{id:n,username:o}=a;if(!n||!o)return"none";try{var{status:s}=yield e.getChannelsLiveInfo({feedId:n,finderUserName:o});if([Hs.NONE,Hs.IN_PREPARE].includes(s))return"none";if(s===Hs.ON_AIR)return"onlive";if(s===Hs.ENDED)return"end";e.reportAdIDKey({key:fs.mlb})}catch(t){e.reportAdMonitorData(fs.W1Y,{id:n,username:o,errMsg:t})}}else if(is(i,r)&&t===ds)return"reserve";return"none"}))()}handleAdTemplateEvent(e){switch(e.action){case sv.FEEDBACKBTNTAP:return this.openFeedbackUrl(N_.isWaGame?1003:1005),!0;case sv.REPORTTIMEPOINT:return e.value.key&&this.setTimePoint(e.value.key),!0;case sv.REPORTMMDATA:return e.value.id&&e.value.data&&this.reportMMData(parseInt(e.value.id,10),e.value.data),!0;case sv.REPORTADMONITORDATA:var{id:t,key:a,extInfo:i}=e.value,r=t?{idKeyGroup:t,idKey:a}:a;return this.reportAdMonitorData(r,i),!0}return!1}isOriginExposureArea(e){if(!e)return!1;var{left:t,top:a,width:i,height:r}=e;return a+r>=1&&a<=N_.screenHeight-1&&t+i>=1&&t<=N_.screenWidth-1}isViewableExposureArea(e){if(!e)return!1;var{left:t,top:a,width:i,height:r}=e,n=t+i<=N_.screenWidth?t+i:N_.screenWidth-t,o=a+r<=N_.screenHeight?a+r:N_.screenHeight-a;return(n=n>i?i:n)*(o=o>r?r:o)/(i*r)>=.5}getMonitorDataExtraInfo(){return this.slotContext.getMonitorDataExtraInfo?this.slotContext.getMonitorDataExtraInfo():{}}},h()(jm.prototype,"handleCheckAdIsOnlineResp",[Sm,xm],Object.getOwnPropertyDescriptor(jm.prototype,"handleCheckAdIsOnlineResp"),jm.prototype),h()(jm.prototype,"handleSplashAd",[Pm,Dm],Object.getOwnPropertyDescriptor(jm.prototype,"handleSplashAd"),jm.prototype),h()(jm.prototype,"handleCustomAd",[Om,Rm],Object.getOwnPropertyDescriptor(jm.prototype,"handleCustomAd"),jm.prototype),h()(jm.prototype,"handleCpsShopAd",[Nm,Mm],Object.getOwnPropertyDescriptor(jm.prototype,"handleCpsShopAd"),jm.prototype),h()(jm.prototype,"handleInterstitialAd",[Lm,Bm],Object.getOwnPropertyDescriptor(jm.prototype,"handleInterstitialAd"),jm.prototype),h()(jm.prototype,"handleMultiRewardedVideoAd",[Fm,Wm],Object.getOwnPropertyDescriptor(jm.prototype,"handleMultiRewardedVideoAd"),jm.prototype),h()(jm.prototype,"handleBannerAd",[Um,Vm],Object.getOwnPropertyDescriptor(jm.prototype,"handleBannerAd"),jm.prototype),h()(jm.prototype,"checkDuplicateRecommendedAds",[Hm],Object.getOwnPropertyDescriptor(jm.prototype,"checkDuplicateRecommendedAds"),jm.prototype),jm),{initComponent:Y_}=r,q_=function(e,t,a){return Y_.call(this,e,(e=>{var t={};for(var a of Object.keys(e||{}))e[a]&&(t[a]=Object.assign({},e[a]),e[a].landscape&&!e[a].landscapeLeft&&(t[a].landscapeLeft=Object.assign({},e[a].landscape)),e[a].landscape&&!e[a].landscapeRight&&(t[a].landscapeRight=Object.assign({},e[a].landscape)));return t})(t),a)},Z_={type:"EOF"};class K_{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",Z_),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{for(var e=0,t=0,a=0,i=this.token.length;a<i;a++){var r=this.token[a];"("===r?e+=1:")"===r&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(Z_)}}var X_=e=>{for(var t=new K_,a=0,i=e.length;a<i;){var r=e[a];a+=1,t.push(r)}return t.end(),t.tokens},J_=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,eg=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),tg=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),ag=e=>{var t;t="string"==typeof e?X_(e):e;for(var a=[J_({type:"ROOT"})],i=e=>{for(var t=e.priority;eg(a[a.length-1])&&tg(a[a.length-2])&&t<=a[a.length-1].priority&&t<=a[a.length-2].priority;){var{children:i}=a[a.length-2];null==i||i.push(a.pop())}},r=e=>{var t=J_(e),r=a[a.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(eg(r))return;tg(r)?r.children.push(t):a.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?eg(r)&&(t.priority>r.priority?((e,t)=>{var i=t.children.pop();i&&e.children.push(i),a.push(e)})(t,r):(i(t),(e=>{var t=a.pop();t&&e.children.push(t),a.push(e)})(t))):"ROOT_END"===t.type&&(i(t),a.push(t))},n=0,o=t.length;n<o;n++)r(t[n]);return a},ig=({type:e,children:t,operator:a},i,r={})=>{var n=e=>ig(t[e],i,r);if("COMPARE"===e){var o=a&&{">":()=>n(0)>n(1),"<":()=>n(0)<n(1),">=":()=>n(0)>=n(1),"<=":()=>n(0)<=n(1),"==":()=>n(0)==n(1),"!=":()=>n(0)!=n(1),"===":()=>n(0)===n(1)}[a];return o?o():null}if("LOGIC"===e){var s=a&&{"&&":()=>n(0)&&n(1),"||":()=>n(0)||n(1)}[a];return s?s():null}var l={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{var a=e.split("."),i="";return a.forEach((e=>{""===i?i=t[e]:("string"==typeof i&&(i=JSON.parse(i)),i=i[e])})),i})(t[0],i),QUESTION:()=>n(0)?n(1):n(2),TPLFUNC:()=>((e,t,a)=>{var i=e.indexOf("("),r=e.substring(0,i),n=e.substring(i+1,e.length-1);if(!a[r])return null;for(var o=X_(n),s=[],l=[],d=0,u=o.length;d<u;d++){var c=o[d];"COMMA"===c.type||"EOF"===c.type?(s.push(l),l=[]):l.push(c)}var p=[];return s.forEach((e=>{p.push(ng(e,t,a))})),a[r].apply(null,p)})(t[0],i,r)},d=l[e]||null;return d?d():null},rg={"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#mod":(e,t)=>e%t,"#toNumber":e=>Number(e),"#toString":e=>String(e),"#toArray":(...e)=>e,"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,a)=>e.substring(t,a),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,a)=>e.replace(t,a),"#replaceAll":(e,t,a)=>e.replaceAll(t,a),"#toLowerCase":e=>e.toLowerCase(),"#toUpperCase":e=>e.toUpperCase(),"#len":e=>e.length,"#hansLen":e=>{var t=0;for(var a of e)t+=/[\u4e00-\u9fa5]/.test(a)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{var a="",i=0;for(var r of e){if((i+=/[\u4e00-\u9fa5]/.test(r)?2:1)>t){a+="...";break}a+=r}return a},"#concat":(...e)=>e.join(""),"#split":(e,t,a)=>null==e?void 0:e.split(t,a),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{var t=e.toString().split(".");if(t.length<2)return e;for(var a=t.slice(-1)[0];"0"===a[a.length-1];)a=a.slice(0,-1);return t.slice(0,-1).concat(a?[a]:[]).join(".")},"#append":(e,t,a=!1)=>(a&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#indexedArray":e=>{if(e<=0)return[];for(var t=[],a=0;a<e;a+=1)t.push(a);return t},"#get":q.U2,"#slice":(e,t,a)=>e.slice(t,a),"#compareVersion":(e,t)=>(0,sl.yC)(e,t)},ng=(e,t,a)=>{try{var i=ag(e);return ig(i[1],t,Object.assign({},rg,a))}catch(e){}return null},{deviceInfo:og,invokeMethod:sg,gametext:lg}=r,dg={},ug=v.iw;class cg extends Sn{constructor(e,{autoRegister:t=!0}={}){super(e),this.adCustomId=void 0,this.adProxy=void 0,this.adData=void 0,this.adDatas=void 0,this.template=void 0,this.manager=void 0,this.reporter=void 0,this.emitter=void 0,this.id=void 0,this.options=void 0,this.data=void 0,this.events=void 0,this.lifecycle=void 0,this.innerStyles=void 0,this.animations=void 0,this.idPrefix=void 0,this.forType=void 0,this.forItem=void 0,this.forIndex=void 0,this.ratio=1,this.tplConfig=null,this.bubbleEvent=void 0,this.adCustomListener=null,this.clickCallbackMap=new WeakMap,this.handleCommonClick=e=>{this.doActions(this.events.tap,{event:e})},this.touchInfo=null,this.handleCommonTouchStart=e=>{this.touchInfo=e},this.handleCommonTouchEnd=e=>{if(this.touchInfo){var t=Math.abs(e.x-this.touchInfo.x),a=Math.abs(e.y-this.touchInfo.y),i="none";(t>=20||a>=20)&&(t>=a&&e.x>this.touchInfo.x?i="right":t>=a&&e.x<this.touchInfo.x?i="left":a>=t&&e.y>this.touchInfo.y?i="bottom":a>=t&&e.y<this.touchInfo.y&&(i="top")),this.emitComponentEvent(De,{direction:i,startEvent:this.touchInfo,endEvent:e})}this.touchInfo=null},this.handleAdCustomAction=e=>{e.targetid===this.id&&this.doCommonAction(e)},this.adCustomId=e.adCustomId,this.adProxy=e.adProxy,this.adData=e.adData,this.adDatas=e.adDatas,this.manager=e.manager,this.reporter=e.reporter,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||yt,this.forItem=e.forItem,this.forIndex=e.forIndex,this.checkSize(),e.ratio&&(this.ratio=e.ratio);var a=e.template||{};this.template=a,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;var i=a.options||{};this.options=i,this.data=i.data||{},this.events=i.events||{},this.lifecycle=i.lifecycle||{},this.innerStyles=i.innerStyles||{},this.animations=i.animations||{},this.bubbleEvent=void 0===i.bubbleEvent||i.bubbleEvent;var r=this.getDataValue("_bubbleEvent");void 0!==r&&(this.bubbleEvent=r),t&&this.bindCommonEvents()}ready(e){this.emitComponentLifeCycle("onInit"),e&&(e.adId=this.id)}updatedProps(){this.updateBubbleEvent()}destroy(){this.emitComponentLifeCycle("onDestroy"),this.offClick("container",this.handleCommonClick),this.offTouchstart("container",this.handleCommonTouchStart),this.offTouchend("container",this.handleCommonTouchEnd),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){this.onClick("container",this.handleCommonClick),this.onTouchstart("container",this.handleCommonTouchStart),this.onTouchend("container",this.handleCommonTouchEnd),this.emitter.on("adCustomAction",this.handleAdCustomAction)}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adProxy:this.adProxy,reporter:this.reporter,adData:this.adData,adDatas:this.adDatas,adPosition:this.props.adPosition,systemInfo:this.props.systemInfo,manager:this.manager,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,ratio:this.ratio,scope:this.props.scope,innerFunctions:this.props.innerFunctions}}getDataValue(e,t,a){var i=t||this.data,r=i[`${e}Expr`];return r?this.run(r,null==a?void 0:a.args):i[e]}getDataValueWithDefault(e,t,a,i){var r=a?this.getDataValue(e,a,i):this.getDataValue(e);return void 0===r?t:r}getAdData(){return this.forType===Et&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){this.removeAdCustomListener(),this.adCustomListener=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))},this.emitter.on("adCustomEvent",this.adCustomListener)}removeAdCustomListener(){this.adCustomListener&&this.emitter.off("adCustomEvent",this.adCustomListener)}setRatio(e){this.ratio=e}checkSize(){var e,t,{template:a}=this;if(!a||"root"===a.type){this.tplConfig=(null==a?void 0:a.tplConfig)||{};var i=this.props.adPosition||{};if(this.tplConfig){var r,n,{tplConfig:o}=this,{width:s}=this.props.adPosition||{};if(null==s)s=(null===(r=this.props)||void 0===r||null===(n=r.systemInfo)||void 0===n?void 0:n.screenWidth)||og.screenWidth;s=Number(s);var l=o.minWidth||0,d=o.maxWidth||0,u=o.baseWidth||375,c=Math.min((null===(e=this.props)||void 0===e||null===(t=e.systemInfo)||void 0===t?void 0:t.screenWidth)||og.screenWidth,Math.max(l,s));d&&(c=Math.min(c,d)),0===c&&this.setRatio(u/u),i.width=c,this.setRatio(c/u)}}}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var a=this.events[e];null!=a&&a.length&&this.doActions(a,t||{})}emitComponentLifeCycle(e,t){var a=this.lifecycle[e];null!=a&&a.length&&this.doActions(a,t)}doActions(e=[],t={}){for(var a of e)a.force&&!a.targetid?this.doCommonAction({args:t,payload:a}):this.emitter.emit("adCustomAction",{fromid:this.id,targetid:a.targetid?`${this.adCustomId}-${a.targetid}`:this.id,args:t,payload:a})}doCommonAction(e){var{payload:t,args:a}=e,{delay:i=0,expr:r}=t,n=()=>{if(!r||this.run(r,a))switch(t.action){case se:var{value:i}=t;if(i.styleExpr)for(var n of Object.keys(i.styleExpr))i.style[n]=this.run(i.styleExpr[n],a);this.setStyle(i.id,i.style);break;case ue:var{key:o}=t.value,s=this.getDataValue("value",t.value);this.getExprInnerVars()[o]=s;break;case le:break;case de:var{detail:l={},eventName:d}=t.value;try{if(null!=a&&a.event&&(l.rawDetail=JSON.stringify(a.event)),t.value.detailExpr)for(var u of Object.keys(t.value.detailExpr)){var c=t.value.detailExpr[u];l[u]=this.run(c,a)}}catch(e){}this.emitAdCustomEvent(at.TRIGGEREVENT,{eventName:d,detail:l});break;case _e:var{data:p,dataExpr:h,id:f}=t.value;if(h)for(var v of Object.keys(h)){var m=h[v];p[v]=this.run(m,a)}this.emitAdCustomEvent(at.REPORTMMDATA,{id:f,data:p});break;case Ee:var{id:_,animation:g}=t.value;this.doAnimation({id:_,animationName:g});break;case Ce:var y,A=null==a?void 0:a.event;if(A)this.emitAdCustomEvent(at.BTNTAP,{event:A,isHandleDownload:(null===(y=t.value)||void 0===y?void 0:y.isHandleDownload)||!1});break;case Ie:var E=null==a?void 0:a.event,{isButton:C}=(null==t?void 0:t.value)||{};"value"in t&&(E=this.getDataValue("event",t.value,{args:a||{}})||E),this.emitAdCustomEvent(at.LANDAD,{index:"value"in t?this.getDataValueWithDefault("index",0,t.value,{args:a}):0,event:E,isButton:C});break;case be:var T=null==a?void 0:a.event;T&&this.emitAdCustomEvent(at.SPLASHSKIPAD,{event:T});break;case ke:var{id:I,key:b}=t.value,w=this.getDataValue("extInfo",t.value,{args:a});this.emitAdCustomEvent(at.REPORTADMONITORDATA,{id:I,key:b,extInfo:w});break;case Se:var{list:k}=t.value;this.emitAdCustomEvent(at.REWARDEDVIDEODYNAMIC,{list:k});break;case xe:var{expr:S}=t.value;S&&this.run(S);break;default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}};i?setTimeout(n,i):n()}run(e,t){var a=this.getInnerFunction(),i={...this.getScope(),...a};return ng(e,t?{$args:t,...i}:i,a)}getElementById(e){if(!e){var t,a,i=null!==(t=null===(a=this.getRootElement())||void 0===a?void 0:a.parent)&&void 0!==t?t:null;return i===Fo?this.getRootElement():i}return"$$"===e?this.getRootElement():super.getElementById(e)}static animate(e,t){var{left:a,top:i,scaleWidth:r,scaleHeight:n,opacity:o,rotate:s=0,easing:l="ease-in",duration:d=500}=t,u=new Promise(((t,u)=>{sg("animateCoverView",{dest:e.dest,viewId:e.id,easing:l,duration:d,finalStyle:{left:a,top:i,opacity:o,rotate:s,scaleX:r,scaleY:n},success:t,fail:u})}));return"devtools"===ug&&(u=Promise.all([u,(0,Xi.Vs)(d)])),u}doAnimation({id:e,emitEvent:t=!0,animationName:a,animation:i}){var r=this;return d()((function*(){var n=!i&&a?r.animations[a]:i,o=r.getElementById(e);if(n&&o){var{keys:s,duration:l,easing:d,setInitialStyle:u=!0}=n;if(!(((null==s?void 0:s.length)||0)<2)){var c=0;for(var p of Object.keys(s)){var h=s[+p],f=r.getDataValue("offset",h),v=r.getDataValue("opacity",h),m=r.getDataValue("left",h),_=r.getDataValue("top",h),g=r.getDataValue("rotate",h),y=r.getDataValue("scaleX",h),A=r.getDataValue("scaleY",h),E=l*f,C=Ro({opacity:v,left:m,top:_,rotate:g,scaleWidth:y,scaleHeight:A});if(E<=0)u&&(yield r.setStyle(e,C));else{var T={...C,easing:d,duration:E-c};T.left=C.left,T.top=C.top,yield cg.animate(o,T),c=E}}a&&t&&(yield r.emitComponentEvent(Oe,{animation:a}))}}}))()}updateInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];t.expr&&!this.run(t.expr)||this.updateStyle(t.style,e)}}setStyle(e,t){var a=()=>super.setStyle,i=this;return d()((function*(){var r,n=i.getDataValue("_useApx")?i.convertToApxRatio(t):t,o=e;"$$"===o&&(o=null===(r=i.getRootElement())||void 0===r?void 0:r.name);if(n){for(var s of Object.keys(n))n[s]=i.convertApxStyle(n[s]);var l;if(o)yield a().call(i,o,n);else null===(l=i.parent)||void 0===l||l.setStyle("container",n)}}))()}convertApxStyle(e){return e&&"string"==typeof e?e.replace(/([+-]?\d+(?:\.\d+)?)apx/g,((e,t)=>`${Number(t*this.ratio)}px`)):e}updateStyle(e,t){if(e)for(var a of Object.keys(e)){var i=a,r=e[a];if(a.includes("Expr")){var n=a.split("Expr");2===n.length&&([i]=n,r=this.run(r))}this.setStyle(t,{[i]:r})}}removeInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];this.removeStyle(t.style,e)}}removeStyle(e,t){if(e)for(var a of Object.keys(e))this.setStyle(t,{[a]:null})}getScope(){var e,t;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null===(e=this.props)||void 0===e?void 0:e.systemInfo)||{},ua:"",ratio:this.ratio,time:Date.now()},$for:{index:this.forIndex,item:this.forItem},$scope:(null===(t=this.props)||void 0===t?void 0:t.scope)||{}}}getExprInnerVars(){return void 0===dg[this.adCustomId]&&(dg[this.adCustomId]={}),dg[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars();return{"#getVar":t=>e[t],"#measureText":(e,t)=>lg.getTextWidth(e,t),...this.props.innerFunctions||{}}}updateBubbleEvent(){var e=this.getRootElement();e&&Ho(e,(e=>{if(!e.isBubbleEventSet)if(e.isRootElementOfComponent){var t=e.referComponent;e.bubbleEvent=!t||t.bubbleEvent}else e.bubbleEvent=!0}))}onClick(e,t,{handleTriggerClick:a=!0,handleClickLimit:i=!0,isReport:r=!1,clickType:n=0}={}){var o=e=>{null!==this.reporter&&(a&&!this.reporter.judgeTriggerClick(e,r)||i&&this.reporter.isClickLimit(e,n))||t(e)};return this.clickCallbackMap.set(t,o),super.onClick(e,o)}offClick(e,t){return this.clickCallbackMap.has(t)?super.offClick(e,this.clickCallbackMap.get(t)):super.offClick(e,t)}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var{ratio:t}=this,a=/(\d+)px/g,i={};for(var r of Object.keys(e))if(null!=It&&It.includes(r)){var n=e[r],o=n;"number"==typeof n?o=n*t:"string"==typeof n?o=n.replace(a,((e,a)=>{var i=Number(a);return Number.isNaN(i)?e:i*t+"px"})):Array.isArray(n)&&null!=n&&n.every((e=>"number"==typeof e))&&(o=n.map((e=>e*t))),i[r]=o}else i[r]=e[r];return i}}class pg extends cg{getSubComponentProps(){return this.getCommonSubComponentProps()}constructor(e){var t;if((super(e,{autoRegister:!1}),this.style={blank:{width:0,height:0},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.isShow=void 0,this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.isShow=this.getDataValueWithDefault("_isShow",!0),this.isShow)&&("feedback"===this.template.type?this.setStyle("container",{display:"inline-block"}):"end"===this.template.type&&this.setStyle("container",{display:"none"}),this.updateStyle(this.template.style||{},"container"),null!==(t=this.template.style)&&void 0!==t&&t.background)){var a=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(a){var[i,r]=a.slice(1);this.isLinearGradient=!0,Number(i)>Number(r)&&(this.isLinearGradientReverse=!0)}}}render(){var{template:e}=this.props,t=null;return"for"===e.type?"<CustomFor></CustomFor>":(["layout","image","text","button","video","feedback","end","carousel","countdown"].includes(e.type)&&(t=`Custom${e.type[0].toUpperCase()}${e.type.slice(1)}`),this.isShow&&t?`\n      <view id="container">\n        ${this.isLinearGradient?`\n          <image id="linear-gradient" class="${this.isLinearGradientReverse?"reverse":""}" src="${this.linearGradientSrc}"></image>\n        `:""}\n        <${t}></${t}>\n      </view>\n    `:'<view id="blank"></view>')}}pg.subComponents=()=>({CustomLayout:yg,CustomText:Ag,CustomImage:Eg,CustomButton:Cg,CustomVideo:bg,CustomFeedback:wg,CustomEnd:kg,CustomFor:Sg,CustomCarousel:Rg,CustomCountdown:Ng});var{_onShow:hg,_onHide:fg,_offShow:vg,_offHide:mg,deviceInfo:_g}=r;class gg extends cg{constructor(e){var t,a,i;super(e),this.style={body:{zIndex:1,position:"absolute",hidden:!0,opacity:0,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:48,width:122,lineHeight:48,backgroundColor:"#4C4C4C",borderRadius:12,fontSize:17,color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:12,minHeight:50}},this.state={hidden:!0},this.isFullScreen=void 0,this.useDefaultFeedback=void 0,this.exposureUntilVideoPlay=void 0,this.exportAid=void 0,this.enableTimer=void 0,this.enableResize=void 0,this.hideAfterLanding=void 0,this.isMulti=void 0,this.isWidthRequired=void 0,this.multiShowList=void 0,this.show=()=>{this.showBody(),this.emitAdCustomEvent(at.CHECKEXPOSURE)},this.showBody=()=>{this.setStyle("body",{hidden:!1,opacity:1})},this.hide=()=>{this.hideBody(),this.emitAdCustomEvent(at.CHECKEXPOSURE)},this.hideBody=()=>{this.setStyle("body",{hidden:!0,opacity:0})},this.showFeedback=()=>{var{useDefaultFeedback:e}=this;e&&(this.setStyle("tipContainer",{hidden:!1}),setTimeout((()=>{this.setStyle("tipContainer",{hidden:!0})}),3e3))},this.handleEnterForeground=()=>{this.emitComponentEvent(Re),this.emitAdCustomEvent(at.APPENTERFOREGROUND)},this.handleEnterBackground=()=>{this.emitComponentEvent(Ne),this.emitAdCustomEvent(at.APPENTERBACKGROUND)},this.handleContainerClick=e=>{var t,a;null!==(t=this.manager)&&void 0!==t&&t.isMulti||(this.emitComponentEvent(Me),null===(a=this.reporter)||void 0===a||a.handleClick(e,2))},this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.enableTimer=this.getDataValueWithDefault("enableTimer",!0),this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.exposureUntilVideoPlay=this.getDataValueWithDefault("exposureUntilVideoPlay",!1),this.hideAfterLanding=this.getDataValueWithDefault("hideAfterLanding",!1),this.exportAid=this.getDataValueWithDefault("exportAid",!1),this.isMulti=null!==(t=null===(a=this.template)||void 0===a||null===(i=a.tplConfig)||void 0===i?void 0:i.isMulti)&&void 0!==t&&t,this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.multiShowList=this.getDataValue("multiShowList"),this.enableResize=this.getDataValueWithDefault("enableResize",!1),this.bindEvent(),this.updateInnerStyle(),this.updateStyle(this.template.style||{},"container");var r=["left","top"];!_g.isWaGame&&r.push("fixed"),this.isWidthRequired&&r.push("width"),!this.isFullScreen&&e.adPosition&&this.setStyle("body",I(e.adPosition,r))}updatePosition(e){!this.isFullScreen&&e&&this.setStyle("body",I(e,["top","left"]))}destroy(){super.destroy(),this.unbindEvent()}ready(e){super.ready(e),this.isFullScreen&&(e.fullscreen=!0),this.updateBubbleEvent()}getCustomItemProps(e,t){return{...this.getCommonSubComponentProps(),template:this.props.template.children[parseInt(t,10)]}}bindEvent(){hg(this.handleEnterForeground),fg(this.handleEnterBackground),this.onClick("container",this.handleContainerClick)}unbindEvent(){vg(this.handleEnterForeground),mg(this.handleEnterBackground),this.offClick("container",this.handleContainerClick)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1)}}doAction({payload:e,args:t}){var a,i;if(e.action===oe)"value"in e&&e.value.preventClose?null===(a=this.manager)||void 0===a||a.hide(!0):null===(i=this.manager)||void 0===i||i.hide();else if(e.action===me){var r;null===(r=this.manager)||void 0===r||r.reload()}else if(e.action===Te)e.value.listExpr?this.emitAdCustomEvent(at.CHANGEMULTISHOW,{list:this.run(e.value.listExpr,t)}):e.value.list?this.emitAdCustomEvent(at.CHANGEMULTISHOW,{list:e.value.list}):null!=t&&t.list&&this.emitAdCustomEvent(at.CHANGEMULTISHOW,{list:t.list});else if(e.action===Pe){var n=this.getDataValue("reload",e.value,{args:t});this.checkLiveStatus(n)}}isShow(){var e,t=this.getElementById("body");return null!==(e=!(null!=t&&t.style.hidden))&&void 0!==e&&e}checkLiveStatus(e){var t=this;return d()((function*(){var a;if(t.isShow()){var i,r=yield null===(a=t.manager)||void 0===a?void 0:a.adProxy.getChannelsLiveStatusWithRpc();if(t.emitComponentEvent(Fe,{status:r||""}),"end"===r&&e)null===(i=t.manager)||void 0===i||i.refetch()}}))()}render(){if(this.props.isEmpty)return'\n        <view id="body">\n          <view id="empty-container" class="empty">\n            <text id="empty-container-text" class="empty-info" value="暂无广告，具体指引查看小程序流量主功能"></text>\n          </view>\n        </view>\n      ';var{template:e}=this.props,{isFullScreen:t}=this,{useDefaultFeedback:a}=this;return`\n      <view id="body" class="${t?"full-size":""}">\n        ${e?`\n          <view id="container" class="wx-ad-custom ${t?"full full-size":""}">\n            ${e.children.map(((e,t)=>`\n              <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n            `)).join("\n")}\n          </view>\n          ${a?'\n            <view id="tip-container" class="tip-container">\n              <text id="close-tip" class="video-close-tip" value="感谢反馈"></text>\n            </view>\n          ':""}\n        `:""}\n      </view>\n    `}}gg.subComponents={CustomItem:pg};class yg extends cg{constructor(e){super(e),this.state={children:[]},this.style={".layout-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{position:"absolute",width:"100%",height:"100%"}},this.baseType=void 0,this.classRow=!1,this.classColumn=!1,this.baseType=this.options.baseType||it,this.baseType===rt?this.classRow=!0:this.baseType===nt?this.classColumn=!0:this.baseType,this.state.children=this.template.children||[],this.updateInnerStyle()}doAction({payload:e}){if(e.action===we){var{value:t}=e,a=Array.isArray(t)?t:[t],i=[...this.state.children,...a];this.setState({children:i})}}ready(e){super.ready(e),this.initProportionComponent()}initProportionComponent(){var e=this.getDataValue("mProportion");if(e){var t=this.getRootElement().layoutBox;if(t.width/t.height>e){var a=Math.round(t.height*e);this.setStyle("container",{width:a,left:(t.width-a)/2,top:0})}else{var i=Math.round(t.width/e);this.setStyle("container",{height:i,top:(t.height-i)/2,left:0})}}}getSubComponentProps(e,t){return{...this.getCommonSubComponentProps(),template:this.state.children[parseInt(t,10)]}}render(){var{children:e}=this.state,t=["layout"];return this.classRow&&t.push("layout-row"),this.classColumn&&t.push("layout-column"),`\n      <view\n        id="container"\n        class="${t.join(" ")}"\n      >\n      ${e.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n      `)).join("\n")}\n      </view>\n    `}}yg.subComponents=()=>({CustomItem:pg});class Ag extends cg{constructor(e){super(e),this.style={".text":{color:"#000",fontSize:14,wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},this.state={text:""},this.baseType=void 0,this.classEllipsis=!1,this.maxLen=void 0;var t=this.options.baseType||ut;this.baseType=t,t===dt?this.initCommonComponent():t===ut?this.initNickNameComponent():t===ct&&this.initDescComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.updateInnerStyle()}ready(e){super.ready(e),this.baseType===pt&&this.initRelationComponent()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initNickNameComponent(){var e=this.getAdData(),t=[Dt.APPLE_APP_STORE,Dt.OPEN_PLATFORM_APP_MOB].includes(e.product_type),a=ol("video",e.crt_size),i=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:e.crt_size===xs.CRT_SIZE_MULTI_POS_GRID},{path:["crtInfo","0","wxgame_video_card","title"],condition:a},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["crtInfo","0","card_info","title"]},{value:"品牌推广",condition:[Dt.WE_CHAT_ARTICLE,Dt.GDT_WE_CHAT_ARTICLE].includes(e.product_type)},{value:"电商推广",condition:[Dt.WE_CHAT_SHOP,Dt.JD_URL].includes(e.product_type)},{value:"活动推广"}];this.state.text=jo(e,i)}initDescComponent(){var e=this.getAdData(),t=[Dt.APPLE_APP_STORE,Dt.OPEN_PLATFORM_APP_MOB].includes(e.product_type),a=ol("video",e.crt_size),i=e.product_type===Dt.MINI_GAME,r=e.product_type===Dt.WECHAT,n=[Dt.WE_CHAT_ARTICLE,Dt.GDT_WE_CHAT_ARTICLE].includes(e.product_type),o=[Dt.WE_CHAT_SHOP,Dt.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:a},{path:["wording"],condition:[xs.CRT_SIZE_MULTI_POS_NEW_PIC,xs.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)},{path:["crtInfo","0","card_info","description"]}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:n},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:r},{value:"今日小游戏推荐",condition:i},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=jo(e,s)}initRelationComponent(){var e=this;return d()((function*(){var t=e.getAdData();if(8===(0,q.U2)(t,["crtInfo","0","card_info","mp_tag_type"])){var{aid:a,uxinfo:i}=t,r=Date.now(),n=(0,q.U2)(t,["button_action","button_text"],"");try{var o,s=yield(({aid:e,buttonText:t="",uxinfo:a=""})=>B({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_ad_metric",aid:e.toString(),button_text:t,uxinfo:a})}}).then((e=>{if(!e.data)throw new Error("get_ad_metric no result");try{var{data:t}=e,a=JSON.parse(t.result),{ad_metric_count:i,desc_text:r}=a||{};return null==i||null==r||i<50?null:{count:(n=i,n<1e4?n.toString():`${(n/1e4).toFixed(1)}万`),descText:r}}catch(e){throw new Error("get_ad_metric invalid result")}var n})).catch((()=>{throw new Error("get_ad_metric request failed")})))({aid:a,buttonText:n,uxinfo:i}),l=Date.now();e.adProxy.reportRelationFetchDuration({startTime:r,endTime:l,showTime:(null===(o=e.manager)||void 0===o?void 0:o.showDetailTime)||0});var d="";if(s){var{count:u,descText:c}=s;d=e.getDataValueWithDefault("text","",void 0,{args:{count:u,descText:c}}),e.emitComponentEvent(Ue,{count:u,descText:c})}e.setState({text:d})}catch(t){e.setState({text:""}),e.adProxy.reportAdMonitorData(te,t)}}}))()}doAction({payload:e}){e.action===Ae&&this.setState({text:this.getDataValue("text",e.value)})}render(){var{classEllipsis:e}=this,{text:t}=this.state;return this.classEllipsis&&null!==this.maxLen&&t&&(t=((e,t)=>{for(var a=0,i=0,r=0;r<e.length;r++)(a+=/[\u4e00-\u9fa5]/.test(e[r])?2:1)<t-1&&(i=r);return a>t?`${e.substring(0,i+1)}...`:e})(t,2*this.maxLen)),`\n      <view id="container">\n        <text\n          id="text"\n          class="text ${e?"text-ellipsis":""}"\n          value="${t}"\n        ></text>\n      </view>\n    `}}class Eg extends cg{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:5},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.baseType=void 0,this.useBgMode=this.getDataValueWithDefault("useBgMode",!1);var t=this.options.baseType||st;switch(this.baseType=t,t){case ot:this.initCommonComponent();break;case lt:this.initADComponent();break;case st:this.initIconComponent()}this.useBgMode,this.updateInnerStyle()}initCommonComponent(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}initIconComponent(){var e=this.getAdData(),t=[Dt.APPLE_APP_STORE,Dt.OPEN_PLATFORM_APP_MOB].includes(e.product_type),a=e.crt_size===xs.CRT_SIZE_MULTI_POS_GRID,i=[Dt.WE_CHAT_SHOP,Dt.JD_URL].includes(e.product_type),r=ol("video",e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;var n=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:a},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:r},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:i},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=jo(e,n)}initADComponent(){var e=this.getAdData(),t=e.image_url;if(!t.startsWith("http"))try{t=e.crtInfo[0].image_url||t}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||t}doAction({payload:e}){e.action===ye&&this.setState({imgUrl:this.getDataValue("imgUrl",e.value)})}render(){var{classAppIcon:e,classIcon:t}=this,{imgUrl:a}=this.state,i=["image-img"];return e&&i.push("image-img-appicon"),t&&i.push("image-img-icon"),`\n      <view id="container" class="image">\n        <image\n          id="img"\n          class="${i.join(" ")}"\n          src="${a}"\n        >\n      </view>\n    `}}class Cg extends cg{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:3,overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:16},".button-download-progress":{position:"absolute",left:0,top:0,width:0,height:"100%",overflow:"hidden"},".download-text-container":{position:"absolute",top:0,left:0,width:0,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"}},this.state={buttonText:""},this.downloadProgress=0,this.isHandleDownload=!1,this.handleAdCustomEvent=({action:e,value:t={}})=>{e===at.CHANGEADBTNTEXT&&t.text&&(this.setState({buttonText:t.text}),t.progress&&(this.downloadProgress=t.progress))},this.handleButtonClick=e=>{this.emitAdCustomEvent(at.BTNTAP,{event:e,isHandleDownload:this.isHandleDownload}),this.emitComponentEvent(We,{event:e})};var t=this.options.baseType||ft;t===ht?this.initCommonComponent():t===ft&&this.initLogicCommonComponent(),this.updateInnerStyle(),this.setStyle("downloadProgressBar",{width:`${this.downloadProgress}%`}),this.setStyle("downloadTextContainer",{width:1e4/this.downloadProgress+"%"}),this.onClick("container",this.handleButtonClick,{isReport:!0,clickType:1})}destroy(){super.destroy(),this.offClick("container",this.handleButtonClick)}getButtonText(){return this.state.buttonText}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e=this.getAdData(),t=this.getDataValue("buttonText");t?this.state.buttonText=t:e.product_type===Ps.WE_CHAT?this.state.buttonText=e.app.isFollowed?"查看":e.button_action.button_text:this.state.buttonText=e.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent),this.isHandleDownload=this.getDataValueWithDefault("isHandleDownload",!1)}doAction({payload:e}){e.action===ve&&this.setText(e.value)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{isHandleDownload:e}=this,{buttonText:t}=this.state;return`\n      <view id="container" class="button" bubbleEvent="false">\n        <text id="button-text" class="button-text" value="${t}"></text>\n        ${e?`\n          <view\n            id="download-progress-bar"\n            class="button-download-progress"\n          >\n            <view id="download-text-container" class="download-text-container"\n              <text id="download-text" class="button-text" value="${t}"></text>\n            </view>\n          </view>\n        `:""}\n      </view>\n    `}}var Tg={videoDataMap:{}},Ig=(e,t={})=>{e&&(Tg.videoDataMap[e]=t)};class bg extends cg{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:6,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:24,height:24},".video-voice-box-topleft":{top:10,left:10},".video-voice-box-topright":{top:10,right:10},".video-voice-box-bottomleft":{bottom:10,left:10},".video-voice-box-bottomright":{bottom:10,right:10},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:12,width:32,height:16,lineHeight:16},".video-count-down-topleft":{top:10,left:10},".video-count-down-topright":{top:10,right:10},".video-count-down-bottomleft":{bottom:10,left:10},".video-count-down-bottomright":{bottom:10,right:10},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:3,backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:3,backgroundColor:"#07c160"},".video-click-mask":{}},this.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1},this.src="",this.poster="",this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.useClickMask=!1,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoDuration=0,this.objectFit="contain",this.baseType=void 0,this.toggleMuted=()=>{this.setState({muted:!this.state.muted}),this.emitComponentEvent(ze,{muted:this.state.muted})},this.handleCustomEvent=({action:e,value:t={}})=>{switch(e){case at.ADSHOWHALF:this.state.isEndPageShowing||this.operateVideoPlay("play");break;case at.ADHIDEHALF:this.state.isEndPageShowing||this.operateVideoPlay("pause");break;case at.APPENTERBACKGROUND:var a=Math.min(this.currentTime,this.videoDuration);t.inAdDetail?this.reportVideoPlay("partial","exit",a):this.reportVideoPlay("partial","app_exit",a);break;case at.ENDPAGEINIT:this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case at.ENDPAGEHIDE:this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case at.ENDPAGESHOW:this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case at.BTNTAP:this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration)}},this.handleError=e=>{this.adProxy.reportAdMonitorData(ae,e)},this.handleTimeUpdate=e=>{var t,{duration:a,position:i}=e;if(null!=a&&null!=i){var r=Math.min(1,i/a);this.setStyle("videoProgressPlayed",{width:100*r+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(a-i)}s`}),this.emitComponentEvent(Ge,{event:e,rate:r}),this.currentTime=1e3*i,this.videoDuration||(this.videoDuration=1e3*a);var n={currentTime:this.currentTime,duration:this.videoDuration},o=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;Ig(o,n)}},this.handleEnded=e=>{var t;this.emitComponentEvent(Ve,{event:e}),this.emitAdCustomEvent(at.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.reportVideoPlay("viewable","end",this.videoDuration),v.cj&&this.reportVideoPlay("partial","start");var a={currentTime:this.videoDuration,duration:this.videoDuration},i=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;Ig(i,a),this.currentTime=0,this.isShowEndPage&&this.emitAdCustomEvent(at.SHOWENDPAGE,{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent(je,{event:e}),this.emitAdCustomEvent(at.ADVIDEOPLAY),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent(He,{event:e}),this.emitAdCustomEvent(at.ADVIDEOPAUSE),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration))},this.baseType=this.options.baseType||mt,this.baseType===vt?this.initCommonComponent():this.baseType===mt&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.useClickMask=this.getDataValueWithDefault("useClickMask",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.updateInnerStyle(),this.bindEvent(),setTimeout((()=>{this.emitComponentEvent(ze,{muted:this.state.muted})}),0)}destroy(){super.destroy(),this.unbindEvent(),this.removeAdCustomListener()}bindEvent(){this.onTimeUpdate("video",this.handleTimeUpdate),this.onEnded("video",this.handleEnded),this.onPlay("video",this.handlePlay),this.onPause("video",this.handlePause),this.onError("video",this.handleError),this.onClick("videovoicebox",this.toggleMuted,{clickType:1})}unbindEvent(){this.offTimeUpdate("video",this.handleTimeUpdate),this.offEnded("video",this.handleEnded),this.offPlay("video",this.handlePlay),this.offPause("video",this.handlePause),this.offError("video",this.handleError),this.offClick("videovoicebox",this.toggleMuted)}initCommonComponent(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}initADComponent(){var e,t=this.getAdData();this.src=this.getDataValue("src")||(0,q.U2)(t,["video_info","videoUrl"])||(0,q.U2)(t,["short_video","video_url"]),this.poster=this.getDataValue("poster")||(0,q.U2)(t,["video_info","thumbUrl"])||(0,q.U2)(t,["short_video","trumb_url"]),this.addAdCustomListener(this.handleCustomEvent),this.videoDuration=(0,q.U2)(t,["wx_game_video","short_video","video_duration"])||(0,q.U2)(t,["crtInfo","0","short_video","video_duration"],0),this.videoDuration=1e3*this.videoDuration;var a={currentTime:0,duration:this.videoDuration},i=(null===(e=this.manager)||void 0===e?void 0:e.adCustomId)||this.adCustomId;Ig(i,a),this.emitAdCustomEvent(at.REPORTTIMEPOINT,{key:"p8"})}doAction({payload:e}){switch(e.action){case ce:this.toggleMuted();break;case pe:this.operateVideoPlay("play");break;case he:this.operateVideoPlay("pause");break;case fe:this.operateVideoPlay("stop")}}operateVideoPlay(e){if(["play","pause","stop","seek"].includes(e)){this.setState({autoplay:"play"===e});var t=this.getElementById("video");null!=t&&t[e]&&t[e]()}}reportVideoPlay(e,t,a=0){this.baseType===mt&&this.emitAdCustomEvent(at.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:a,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){var{src:e,poster:t,isShowVoice:a,mutedIconSrc:i,voiceIconSrc:r,voicePlacement:n,countDownPlacement:o,isShowProgress:s,isShowCountDown:l,objectFit:d,useClickMask:u}=this,{muted:c,loop:p,autoplay:h,countDownNumber:f,isEndPageShowing:v}=this.state,m=["video-voice-box"],_=["video-count-down"];return m.push(`video-voice-box-${n}`),_.push(`video-count-down-${o}`),`\n      <view id="container" class="video">\n        <video\n          id="video"\n          class="video-context"\n          src="${e}"\n          poster="${t}"\n          controls="false"\n          muted="${c}"\n          loop="${p}"\n          autoplay="${h}"\n          auto-insert="false"\n          under-game-view="false"\n          show-progress="false"\n          show-play-btn="false"\n          show-center-play-btn="false"\n          show-fullscreen-btn="false"\n          enable-progress-gesture="false"\n          object-fit="${d}"\n        >\n        ${u&&'<view className="video-click-mask" id="video-click-mask"></view>'}\n          ${!v&&a?`\n            <view id="videovoicebox" bubble-event="false" class="${m.join(" ")}">\n              <image\n                src="${c?i:r}"\n                id="videovoiceimg"\n                class="video-voice-icon"\n              ></image>\n            </view>\n          `:""}\n          ${s?'\n            <view id="video-progress" class="video-progress">\n              <view id="video-progress-played" class="video-progress-played"></view>\n            </view>\n          ':""}\n          ${!v&&l&&f?`\n            <text id="video-count-down" class="${_.join(" ")}" value="${f}"></text>\n          `:""}\n        </video>\n      </view>\n    `}}class wg extends cg{constructor(e){super(e),this.style={".feedback-icon":{width:6,height:4,marginLeft:2,position:"relative"},".close-icon":{width:6,height:6,marginLeft:2,position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2},".feedback-hot-click":{position:"absolute",top:-10,left:-10,right:-10,bottom:-10},".feedback-tag-text":{fontSize:10,height:12,lineHeight:12,color:"#fff"},".feedback-list":{position:"absolute",width:134,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:4,zIndex:1000011},".feedback-list-bottomleft":{top:26,left:6},".feedback-list-bottomright":{top:26,right:6},".feedback-list-topleft":{bottom:26,left:6},".feedback-list-topright":{bottom:26,right:6},".feedback-btn":{position:"relative",width:132,height:32,lineHeight:32,color:"#566a97",fontSize:12,opacity:.9,textAlign:"center",zIndex:1000011},".feedback-title":{color:"#000",zIndex:1000011},".feedback-line":{width:100,height:1,opacity:.03,backgroundColor:"#000",zIndex:1000011}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.dislikeReasonHandlers={},this.baseType=void 0,this.handleTagClick=e=>{if(this.baseType===gt)return this.handleSimpleTagClick(e);var{isShowFeedback:t,isShowFeedbackMenu:a}=this.state;t||a?this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent(at.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"}),this.emitComponentEvent(Qe,{event:e}))},this.handleDislikeClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent(Ye,{event:e})},this.handleFeedbackBtnClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent($e,{event:e}),this.emitAdCustomEvent(at.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉"}),this.emitAdCustomEvent(at.FEEDBACKBTNTAP)},this.checkUseApx(),this.baseType=this.options.baseType||_t,this.bindEvent(),this.updateInnerStyle()}destroy(){super.destroy(),this.unbindEvent()}bindEvent(){this.onClick("feedbackTagContainer",this.handleTagClick),this.onClick("feedbackBtn",this.handleFeedbackBtnClick),this.onClick("dislike",this.handleDislikeClick),this.dislikeReasonHandlers={isdismatch:this.onClick("isdismatch",this.handleDislikeReasonClick.bind(this,1)),isduplicate:this.onClick("isduplicate",this.handleDislikeReasonClick.bind(this,5)),isbadad:this.onClick("isbadad",this.handleDislikeReasonClick.bind(this,4))}}unbindEvent(){for(var e of(this.offClick("feedbackTagContainer",this.handleTagClick),this.offClick("feedbackBtn",this.handleFeedbackBtnClick),this.offClick("dislike",this.handleDislikeClick),Object.keys(this.dislikeReasonHandlers))){var t=this.dislikeReasonHandlers[e];this.offClick(e,t)}}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){this.emitAdCustomEvent(at.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this.emitAdCustomEvent(at.HIDEAD),this.emitComponentEvent(Qe,{event:e})}handleDislikeReasonClick(e,t){this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(qe,{event:t}),this.emitAdCustomEvent(at.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e});var a=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===a?this.emitAdCustomEvent(at.SHOWFEEDBACK):"hide"===a&&this.emitAdCustomEvent(at.HIDEAD)}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:a}=this.state,i=["feedback-list"],r=["feedback-list"];a&&(i.push(`feedback-list-${a.toLowerCase()}`),r.push(`feedback-list-${a.toLowerCase()}`));var n=this.baseType===gt?this.closeIconSrc:this.feedbackIconSrc;return`\n      <view id="container" class="feedback" bubble-event="false">\n        <view id="feedback-tag-container" class="feedback-tag-container">\n          <text id="feedback-tag" class="feedback-tag-text" value="广告"></text>\n          <image id="feedback-icon" class="${this.baseType===gt?"close-icon":"feedback-icon"}" src="${n}"></image>\n        </view>\n        ${e?`\n          <view id="menu1" key="menu1" class="${i.join(" ")}">\n            <text class="feedback-btn feedback-title" value="由赞助商提供的内容"></text>\n            <view class="feedback-line"></view>\n            <text id="dislike" class="feedback-btn" value="不感兴趣"></text>\n            <view class="feedback-line"></view>\n            <text id="feedback-btn" class="feedback-btn" value="投诉"></text>\n          </view>\n        `:""}\n        ${t?`\n          <view id="menu2" key="menu2" class="${r.join(" ")}">\n            <text id="isdismatch" class="feedback-btn" value="与我无关"></text>\n            <view class="feedback-line"></view>\n            <text id="isduplicate" class="feedback-btn" value="重复收到多次"></text>\n            <view class="feedback-line"></view>\n            <text id="isbadad" class="feedback-btn" value="内容太差"></text>\n          </view>\n        `:""}\n      </view>\n    `}}class kg extends cg{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.cardInfo=void 0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.handleAdCustomListener=({action:e})=>{switch(e){case at.SHOWENDPAGE:this.setState({isShowEndPage:!0}),this.emitAdCustomEvent(at.ENDPAGESHOW),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent(Ke);break;case at.APPENTERBACKGROUND:this.state.isShowEndPage&&this.reportEndPageDuration();break;case at.APPENTERFOREGROUND:this.state.isShowEndPage&&(this.showTime=Date.now());break;case at.ADSHOWHALF:this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case at.ADHIDEHALF:this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}},this.handleReplay=()=>{this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(at.ENDPAGEHIDE),this.emitComponentEvent(Xe),this.reportEndPage({act_type:1003}),this.emitComponentEvent(Ze)},this.handleContainerClick=e=>{var t;this.reportEndPage({act_type:1002}),null===(t=this.reporter)||void 0===t||t.handleClick(e,2)};var t=this.getAdData();this.cardInfo=((e,t,a)=>{"string"==typeof t&&(t=t.split("."));for(var i=e,r=0;i&&r<t.length;)i=i[t[r]],r+=1;return i||a})(t,["crtInfo",0,"card_info"],{});var{end_page_type:a}=this.cardInfo;a&&(this.backgroundImage=this.cardInfo.head_bg_img,this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),this.updateInnerStyle(),setTimeout((()=>{this.emitAdCustomEvent(at.ENDPAGEINIT)}),0))}updateState(e){this.state.isShowEndPage!==e.isShowEndPage&&this.setStyle("container",{hidden:!e.isShowEndPage})}getSubComponentProps(e,t){return{...this.getCommonSubComponentProps(),template:this.children[parseInt(t,10)]}}bindEvent(){this.onClick("contiainer",this.handleContainerClick),this.onClick("refresh",this.handleReplay),this.addAdCustomListener(this.handleAdCustomListener)}destroy(){super.destroy(),this.offClick("contiainer",this.handleContainerClick),this.offClick("refresh",this.handleReplay),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent(at.REPORTENDPAGE,{data:e})}doAction({payload:e}){e.action===ge&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(at.ENDPAGEHIDE),this.emitComponentEvent(Xe))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),a={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},i={},r=this.template.id;i.feedBack={type:"feedback",id:`${r}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:_e,value:{id:"19002",data:Object.assign({act_type:1004},a)}}],dislikeReasonTap:[{action:de,value:{eventName:Je}}]}}},i.iconBig={type:"image",id:`${r}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},i.nickBig={type:"text",id:`${r}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},i.descSmall={type:"text",id:`${r}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},i.button={type:"button",id:`${r}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:_e,value:{id:"19002",data:Object.assign({act_type:1001},a)}}]}}},i.iconSmall={type:"image",id:`${r}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},i.nickSmall={type:"text",id:`${r}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},i.layoutSmall={type:"layout",id:`${r}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},i.layoutSmall.children.push(i.iconSmall),i.layoutSmall.children.push(i.nickSmall),i.descBig={type:"text",id:`${r}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var n=this.getDataValue("childrenConf");if(n)for(var o of Object.keys(n))i[o]&&E(i[o],n[o]);var s=[];return s=2===this.cardInfo.end_page_type?[i.feedBack,i.layoutSmall,i.descBig,i.button]:[i.feedBack,i.iconBig,i.nickBig,i.descSmall,i.button],3===e?s.concat(this.template.children||[]):s}render(){var{backgroundImage:e,children:t,refreshIconSrc:a}=this;return`\n      <view\n        id="container"\n        class="end"\n        bubble-event="false"\n      >\n        ${e?`<image src="${e}"></image>`:""}\n        ${t.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view id="refresh" class="end-refresh">\n          <image id="refresh-icon" class="end-refresh-icon" src=${a}></image>\n        </view>\n      </view>\n    `}}kg.subComponents=()=>({CustomItem:pg});class Sg extends cg{constructor(e){super(e,{autoRegister:!1}),this.forArr=void 0,this.forType=this.options.baseType||At,this.forArr=this.getDataValueWithDefault("forArr",[]),this.forType===At?this.forArr=this.getDataValueWithDefault("forArr",[]):this.forType===Et&&(this.forArr=this.getAdDatas())}getSubComponentProps(e,t,a){var{template:i,forArr:r}=this;return{...this.getCommonSubComponentProps(),idPrefix:this.idPrefix+(i.id||"")+t,forType:this.forType,forItem:r[Number(t)],template:i.children[Number(a)],forIndex:Number(t)}}render(){var{template:e}=this.props;return`<Fragment>${this.forArr.map(((t,a)=>e.children.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${a}:${t}"></CustomItem>\n      `)).join("\n"))).join("\n")}</Fragment>`}}Sg.subComponents=()=>({CustomItem:pg});var xg=1,Pg=/([+-]?\d+(?:\.\d+)?)apx/g,Dg=/([+-]?\d+(?:\.\d+)?)rpx/g,Og=e=>null!=e&&e.replace?e.replace(Dg,((e,t)=>`${(e=>{if(0===e)return 0;var{screenWidth:t}=oo,a=e/750*t;return a<0&&(a=-a),a=Math.floor(a+1e-4),e<0?-a:a})(Number(t))}px`)):e;class Rg extends cg{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.baseType=void 0,this.showCount=void 0,this.allCount=void 0,this.animateCount=void 0,this.allIndexList=void 0,this.size=void 0,this.duration=void 0,this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.disabled=void 0,this.isCol=void 0,this.handleMaskClick=e=>{var t,a=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+a:-a;var i,r=(this.isCol?e.relativeY:e.relativeX)-t,n=Math.floor(r/this.size);(n<0||n>=20)&&(null===(i=this.manager)||void 0===i||i.adProxy.reportAdMonitorData(fs.xJ3,{currentTime:Date.now(),moveTime:this.moveTime,duration:this.duration,size:this.size,animated:this.animated,animateCount:this.animateCount,posX:e.relativeX,posY:e.relativeY,offset:a,relativeOffset:r}),n=0);this.emitComponentEvent(tt,{index:n,event:e})},this.handleAdCustomEvent=({action:e})=>{[at.ADSHOWHALF].includes(e)?(this.isViewable=!0,this.autoplay()):[at.ADHIDEHALF].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||Ct,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=((e,t=!0)=>{var a=t?Og(e):e;return a&&"string"==typeof a?a.replace(Pg,((e,t)=>`${Number(t*xg)}px`)):a})(this.getDataValueWithDefault("size","0px")).replace("px",""),this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=this.baseType===Tt,this.onClick("mask",this.handleMaskClick),this.baseType===Ct?this.initCarousel("width"):this.baseType===Tt&&this.initCarousel("height"),this.updateInnerStyle()}destroy(){super.destroy(),this.offClick("mask",this.handleMaskClick),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){var e=this;return d()((function*(){if(e.isViewable&&!e.isPlaying){var t=e.baseType===Ct?"left":"top";if(e.disabled)e.emitComponentEvent(et,{list:e.allIndexList.slice(0,e.showCount)||[]}),e.isPlaying=!1;else if(e.animateCount<=0)e.emitComponentEvent(et,{list:e.allIndexList||[]}),e.isPlaying=!1;else{e.isPlaying=!0;for(var a=function*(t){var{animated:a}=e,i=setTimeout((()=>{e.timerSet.delete(i);var r=a?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent(et,{list:r})}),t*e.duration);e.timerSet.add(i)},i=0;i<e.animateCount;i+=1)yield*a(i);e.moveTime=Date.now();try{yield e.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:e.animated?-1*e.animateCount*e.size:0},{offset:1,[t]:e.animated?0:-1*e.animateCount*e.size}],duration:e.duration*e.animateCount,easing:"linear"}})}catch(e){}e.animated=!e.animated,e.isPlaying=!1,e.moveTime=null;var r=setTimeout((()=>{e.timerSet.delete(r),e.autoplay()}),e.duration/4);e.timerSet.add(r)}}}))()}getCustomItemProps(e,t){return{...this.getCommonSubComponentProps(),template:this.props.template.children[parseInt(t,10)]}}render(){var{template:{children:e}}=this.props,{baseType:t,allCount:a,showCount:i}=this;return null!=e&&e.length&&a&&i?`\n      <view id="container" class="carousel">\n        <view id="mask" class="carousel-mask"></view>\n        <view id="list" class="${["carousel-list",t===Ct?"carousel-row":"carousel-col"].join(" ")}">\n          ${e.map(((e,t)=>`\n            <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n          `)).join("\n")}\n        </view>\n      </view>\n    `:"<view></view>"}}Rg.subComponents=()=>({CustomItem:pg});class Ng extends cg{constructor(e){super(e),this.style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},this.state={countdownValue:""},this.children=[],this.handleAdCustomEvent=({action:e,value:t={}})=>{if(e===at.CHANGECOUNTDOWN){var a=this.getElementById("countdownvalue"),i=2===t.value.toString().length?18:11;this.setStyle("countdownvalue",{width:i}),a&&(a.value=t.value)}},this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent)}destroy(){super.destroy()}getSubComponentProps(e,t){return{...this.getCommonSubComponentProps(),template:this.children[parseInt(t,10)]}}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),a={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},i={};i.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:_e,value:{id:"19002",data:Object.assign({act_type:1004},a)}}],dislikeReasonTap:[{action:de,value:{eventName:Je}}]},data:{}}};var r=this.getDataValue("childrenConf");if(r)for(var n of Object.keys(r))i[n]&&E(i[n],r[n]);var o=[];return o=[i.feedBack],3===e?o.concat(this.template.children||[]):o}render(){var{children:e}=this;return`\n      <view id="container" class="countdown" bubble-event="false">\n        ${e.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view class="countdown-right">\n          <view id="split-line" class="split-line"></view>\n          <view id="countdown-container" class="countdown-container">\n            <text class="countdown-value" id="countdownvalue" value="5"></text>\n            <text class="countdown-text" value="秒"></text>\n          </view>\n        </view>\n      </view>\n    `}}Ng.subComponents=()=>({CustomItem:pg});var Mg=(e,t)=>{var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var r of a)if("render"!==r){if("children"!==r&&e[r]!==t[r]){if("object"==typeof e[r]&&"object"==typeof t[r]&&Mg(e[r],t[r]))continue;return!1}if("children"===r&&("string"==typeof e[r]||"string"==typeof t[r]))return e[r]===t[r]}else if(!e[r]!=!t[r])return!1;return!0};var{View:Lg,Text:Bg,Image:Fg,Video:Wg}=r,Ug={view:"view",div:"view",span:"view",text:"text",image:"image",img:"image",video:"video"},Vg={view:Lg,text:Bg,image:Fg,video:Wg},Hg={text:["value"],image:["src"],view:[],video:["src","poster","referrerPolicy","referrer","initialTime","playbackRate","live","objectFit","controls","showProgress","showProgressInControlMode","autoplay","muted","loop","enableProgressGesture","enablePlayGesture","showCenterPlayBtn","autoInsert","scene","preLoad","obeyMuteSwitch","underGameView","playerHint","autoPauseIfOpenNative","autoPauseIfNavigate","customCache","showPoster"],common:["autoInsert","eventType","bubbleEvent","clickState","independent"]},jg={eventType:"touch",clickState:!1,bubbleEvent:!1,autoInsert:!1},Gg=["click","touchstart","touchmove","touchend"],zg=e=>[...Hg[e]||[],...Hg.common],$g=e=>({touchStart:"touchstart",touchEnd:"touchend",touchMove:"touchmove",touchCancel:"touchcancel"}[e]||e),Qg=e=>{var t=[];for(var a of Object.keys(e))e[a]&&0===a.indexOf("on")&&t.push(a);return t},Yg=(e,t,a)=>{var i=Ug[e]||"view",r=Vg[i],n=(0,q.ei)({...jg,...t},zg(i));t.id&&(n.name=t.id),t.style&&(n.style=t.style);var o=new r(n);for(var s of(o._sourceHandlers=new Map,o._handlers=new Map,o._type=i,o._isTemplate=!0,o.dataset={},Qg(t))){var l,d=s[2].toLowerCase()+s.slice(3);if(d in xn){if("video"===i)null===(l=o[s])||void 0===l||l.call(o,t[s])}else o._handlers.set($g(d),t[s])}for(var u of Gg){var c=qg(o,u,a.eventCallback);o._sourceHandlers.has(u)||(o._sourceHandlers.set(u,c),o.on(u,c))}for(var p of(t.uniqueId&&(o.adId=t.uniqueId),o._manualStyle=t.style,Object.keys(t)))if(0===p.indexOf("data-")){var h=(0,Xi.um)(p.slice(5));o.dataset[h]=t[p]}return o},qg=function(e,t,a){return i=>{var r=!1,n={...i,target:e,currentTarget:e,stopPropagation:()=>{r=!0}};a&&"function"==typeof a&&a(e,n,t);for(var o=e;!r&&o&&o!==Fo;){var s,l=null===(s=o._handlers)||void 0===s?void 0:s.get(t);null==l||l.call(e,n),o=o.parent}}},Zg=(e,t)=>{var a=!1;for(var i of Object.keys(t))t[i]!==e[i]&&(e[i]=t[i],a=!0);return a},Kg=e=>{for(var[t,a]of(e._handlers.clear(),e._sourceHandlers))e.off(t,a);e._sourceHandlers.clear()},Xg=({getExtraProps:e,eventCallback:t}={})=>({createInstance:(a,i)=>Yg(a,{...i,...null==e?void 0:e(a)},{eventCallback:t}),createTextInstance:e=>Yg("text",{value:e},{eventCallback:t}),appendInitialChild(e,t){e.add(t)},finalizeInitialChildren:(e,t,a,i)=>(e._rootContainer=i,!0),prepareUpdate:(t,a,i,r)=>!Mg({...i,...null==e?void 0:e(a)},{...r,...null==e?void 0:e(a)}),appendChild(e,t){e.add(t),Jg(e)},appendChildToContainer(e,t){e.add(t),Jg(e)},insertBefore(e,t,a){e.add(t),Jg(e)},insertInContainerBefore(e,t,a){e.add(t),Jg(e)},removeChild(e,t){e.remove(t),Kg(t),Jg(e)},removeChildFromContainer(e,t){e.remove(t),Kg(t),Jg(e)},resetTextContent(e){e.value=""},commitTextUpdate(e,t,a){e.value=a},commitMount(e){},commitUpdate(t,a,i,r,n){((e,t,a)=>{var i=(0,q.ei)({...jg,...a},zg(e._type)),r=(0,q.ei)({...jg,...t},zg(e._type)),n=a.style,o=t.style,s=Qg(a),l=Qg(t),d=!1;for(var u of Object.keys(o))u in n||(n[u]=null);var c=Zg(e.style,n);for(var p of(d||(d=c),e._manualStyle=n,Object.keys(r)))p in i||(e[p]=null);for(var h of(c=Zg(e,i),d||(d=c),l)){var f;h[2].toLowerCase()+h.slice(3)in xn?"video"===e._type&&(null===(f=e[h.replace(/^on/,"off")])||void 0===f||f.call(e,t[h])):e._handlers.delete(h)}for(var v of s){var m;v[2].toLowerCase()+v.slice(3)in xn?"video"===e._type&&(null===(m=e[v])||void 0===m||m.call(e,a[v]),d=!0):(e._handlers.has(v)&&e._handlers.delete(v),e._handlers.set($g(v),a[v]),d=!0)}n.fontSize===o.fontSize&&i.value===r.value||(e._hasEllipsis=!1),d&&Jg(e)})(t,{...r,...null==e?void 0:e(i)},{...n,...null==e?void 0:e(i)})},hideInstance(e){e.style.hidden=!0},hideTextInstance(e){e.style.hidden=!0},unhideInstance(e){e.style.hidden=!1},unhideTextInstance(e){e.style.hidden=!1},clearContainer(e){Object.keys(e.children).forEach((t=>{var a=e.children[t];e.remove(a)}))}}),Jg=(()=>{var e=new Set,t=null;return a=>{e.add(a),t&&clearTimeout(t),t=setTimeout((()=>{var t=[];for(var a of e){for(var i=a.parent,r=!0;i;)e.has(i)&&(r=!1),i=i.parent;r&&t.push(a)}for(var n of t)Io(n);e.clear()}),0)}})(),ey=i(1141);class ty extends ey.Z{}var ay,iy={container:{zIndex:1000005,top:0,left:0,overflow:"hidden"}},ry={container:{zIndex:1000005,top:0,left:0,overflow:"hidden",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column"},adMaterialBg:{position:"absolute",hidden:!1,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"}},ny=Object.assign({},{container:{zIndex:1000005,top:0,left:0,position:"absolute",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",overflow:"hidden",backgroundColor:"#ffffff"},navigator:{hidden:!0,height:72,width:"100%",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column",overflow:"hidden"},adMaterialBg:{position:"absolute",hidden:!0,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"},adMaterialContainer:{hidden:!0,position:"absolute",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%"},adMaterialLandscape:{width:311,height:175,marginLeft:32,marginRight:32,borderRadius:8},adCardInfo:{flexDirection:"column",marginTop:32,width:311,height:150},adHeadInfo:{width:311,height:28,flexDirection:"row",alignItems:"center"},adHeadIcon:{width:16,height:16,marginRight:6,borderRadius:8},adversName:{width:88,height:28,lineHeight:28,fontSize:14,lineBreak:"ellipsis",color:"#ffffff",opacity:.6},adTitle:{marginTop:18,height:28,width:216,fontSize:24,color:"#ffffff"},appInfo:{flexDirection:"column",alignItems:"center",width:"100%",height:160,backgroundColor:"#ffffff"},appIcon:{borderRadius:24,marginTop:16,marginBottom:8,width:48,height:48},appName:{width:"100%",height:24,textAlign:"center",lineHeight:24,fontSize:17,color:"#000000"}},{adFeedbackList:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}},{topBar:{position:"absolute",justifyContent:"flex-start",flexDirection:"row",alignItems:"flex-start",left:0,top:40},adFeedback:{hidden:!1,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,color:"#ffffff",textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:8.4,height:4.9,marginTop:2,marginLeft:2.5},splitLineLeft:{width:1,height:18.5,marginLeft:8.5,marginRight:8.5,backgroundColor:"rgba(255, 255, 255, 0.25)"},count:{marginLeft:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:9,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppend:{width:15,height:32,lineHeight:32,color:"#ffffff",fontSize:14}},{card:{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:84,width:"100%"},adIcon:{borderRadius:20,opacity:.95,width:40,height:40,marginRight:8,marginBottom:12,marginLeft:16},adInformation:{marginBottom:12,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},adName:{height:24,lineHeight:24,fontSize:17,lineBreak:"ellipsis",color:"#000000",marginBottom:2},adWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:14},buttonContainer:{marginBottom:12,flex:1,flexDirection:"row",justifyContent:"flex-end",marginRight:16,marginLeft:12,overflow:"hidden"},button:{height:32,lineHeight:32,width:88,textAlign:"center",lineBreak:"ellipsis",fontSize:16,color:"#ffffff",backgroundColor:"#07c160",borderWidth:1,borderColor:"#07c160",borderRadius:3,marginRight:10,marginLeft:10}},{closeContainer:{flexDirection:"column",justifyContent:"flex-end",alignSelf:"flex-end",marginBottom:16,height:54},close:{height:32,lineHeight:32,width:60,marginLeft:12,marginRight:12,textAlign:"center",lineBreak:"ellipsis",fontSize:14,color:"#ffffff",borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"}},{tipsContainer:{marginTop:12,flex:1,height:32,width:"100%",flexDirection:"column",justifyContent:"center",overflow:"hidden"},tipsLineOne:{height:16,textAlign:"center",lineHeight:16,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11},tipsLineTwo:{height:16,lineHeight:16,textAlign:"center",lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11}},{adCloseTips:{hidden:!0,position:"absolute",overflow:"hidden",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0},adCloseTipsWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipsContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{mediaBottom:{backgroundColor:"#ffffff",borderRadius:8,height:24,width:"100%",alignSelf:"flex-end"}},{adButtonContainer:{width:375,height:64,overflow:"hidden",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.15)",borderRadius:2},adButton:{marginLeft:32,flex:1,height:28,lineHeight:28,lineBreak:"ellipsis",fontSize:17,color:"#ffffff",opacity:.9,borderRadius:3},actionIconContainer:{marginRight:32,flexDirection:"row",justifyContent:"center",alignItems:"center",width:12,height:14},actionIconWrap1:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},actionIconWrap2:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},iconArrow1:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow2:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5},iconArrow3:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow4:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5}}),oy=new Proxy({card:()=>'\n  <view id="card">\n    <image id="ad-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/raphael/icon.png"></image>\n    <view id="ad-information" bubble-event="true">\n      <text id="ad-name" bubble-event="true" value="微信广告"></text>\n      <text id="ad-wording" bubble-event="true" value="本次封面广告赞助"></text>\n    </view>\n    <view id="button-container">\n      <text id="button" click-state="true" bubble-event="true" value="查看详情"></text>\n    </view>\n  </view>\n',appInfo:()=>'\n  <view id="app-info">\n    <image id="app-icon"></image>\n    <text id="app-name"></text>\n  </view>\n',feedbackContent:()=>'\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n',feedbackMenu:()=>'\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n',topBar:()=>'\n  <view id="top-bar">\n    <view id="count">\n      <view id="ad-feedback">\n        <text id="ad-text" value="广告" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" bubble-event="true"></image>\n        <view id="split-line-left" bubble-event="true"></view>\n      </view>\n      <text id="count-down" value="5"></text>\n      <text id="count-down-append" value="秒"></text>\n    </view>\n  </view>\n',close:()=>'\n  <view id="close-container">\n    <text id="close" click-state="true" bubble-event="true" value="跳过"></text>\n  </view>\n',gameTips:()=>'\n  <view id="tips-container">\n    <text id="tips-line-one" value="抵制不良游戏，拒绝盗版游戏。 注意自我保护，谨慎受骗上当。"></text>\n    <text id="tips-line-two" value="适度游戏益脑，沉迷游戏伤身。 合理安排时间，享受健康生活。"></text>\n  </view>\n',closeTips:()=>'\n  <view id="ad-close-tips">\n    <view id="ad-close-tips-wrap">\n      <text id="ad-close-tips-content" bubble-event="true" value="感谢你的反馈"></text>\n    </view>\n  </view>\n',mediaBottom:()=>'\n  <view id="media-bottom">\n  </view>\n',adHeadInfo:()=>'\n  <view id="ad-head-info" bubble-event="true">\n    <image id="ad-head-icon" bubble-event="true" src=""></image>\n    <text id="advers-name" value="" bubble-event="true"></text>\n  </view>\n',adTitle:()=>'\n  <text id="ad-title" value="" bubble-event="true"></text>\n',adButtonContainer:()=>'\n  <view id="ad-button-container">\n    <text id="ad-button" bubble-event="true" value=""></text>\n    <view id="action-icon-container">\n      <view id="action-icon-wrap-1">\n        <view id="icon-arrow-1"></view>\n        <view id="icon-arrow-2"></view>\n      </view>\n      <view id="action-icon-wrap-2">\n        <view id="icon-arrow-3"></view>\n        <view id="icon-arrow-4"></view>\n      </view>\n    </view>\n  </view>\n'},{get:(e,t)=>e[t]()}),{SDKVersion:sy}=f.default,{getSystemInfoSync:ly,Component:dy,getPrivateThis:uy,createComponent:cy,getExptInfoSync:py,nativeviewLayout:hy,webviewLayout:fy,_getABTestConfig:vy,gametext:my,_onShow:_y,_onHide:gy,_offShow:yy,_offHide:Ay}=r,Ey=(...e)=>(0,Xi._u)(...e),Cy=0,Ty=0,Iy=0,by=0,wy=0,ky=0,Sy=0,xy=0,Py=!1,Dy=!1,Oy=!1,Ry="",Ny="",My="",Ly="",By="",Fy="",Wy={},Uy=[],Vy=!0,Hy="wx_wxapp_expt_launad",jy=`${Ot}/adinfos.txt`,Gy=v.wZ?200:400,zy=2e3,$y="CHECK_AD",Qy="ONLINE",Yy="LOCAL_SELECT",qy=[Yy],Zy={[$y]:Mt.SHOW_AD_BY_CHECK_AD,[Qy]:Mt.SHOW_AD_BY_ONLINE,[Yy]:Mt.SHOW_AD_BY_LOCAL_SELECT},Ky={[$y]:7e4,[Qy]:8e4,[Yy]:9e4},Xy={[$y]:2,[Qy]:1,[Yy]:3},Jy=2027,eA=2028,tA=2029,aA=[720,721],iA="NO_ADINFOS",rA="ADINFOS",nA=function(e,t=!0){var a=uy(this).adProxy.isTriggerClick(e),i=a?0:1;return t&&sA.call(this,e,i),a},oA=function(){var e=uy(this);return v.cj&&f.default.clientVersion<402660384||v.wZ&&f.default.clientVersion<671095808?[]:e.adProxy.getAdPushMsg({slotid:bt.splashAd}).then((t=>(f.default.onReady((()=>{e.adProxy.reportAdMonitorData(Mt.GET_ADMSG_SUCCESS,t)})),Array.isArray(t.msgData)?t.msgData.map((e=>e.aid)):[]))).catch((t=>{throw f.default.onReady((()=>{e.adProxy.reportAdMonitorData(Mt.GET_ADMSG_FAIL,t)})),t}))},sA=function(e,t=0){var a,i,r=uy(this);if(null!==(a=r.container)&&void 0!==a&&a.layoutBox){var{width:n,height:o}=r.container.layoutBox,s=0;[0,2,3].includes(t)&&(r.clickCount+=1,s=r.clickCount);var l={slotid:bt[r.adType],costtype:null!==(i=r.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,click_time:Date.now(),click_cnt:s,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:parseInt(n,10)||0,ad_height:parseInt(o,10)||0,press_interval:e.pressInterval,block_click:t};return r.adProxy.reportTouchClick(l)}},lA=function(){var e=uy(this),t=!1;return(0===e.startExposureTime||+new Date-e.startExposureTime<1e3)&&(t=!0),t},dA=function(e,t){var a,i=uy(this),{width:r,height:n}=i.container.style,o={click_button:e,cost_type:null!==(a=i.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,slotid:bt[i.adType],is_game:Py?1:0,pageentertime:+new Date(i.adProxy.getProgramStartTime()),ad_width:parseInt(r,10)||0,ad_height:parseInt(n,10)||0,clientexptime:i.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:parseInt(t.absoluteX,10)||0,pos_y:parseInt(t.absoluteY,10)||0,screen_width:Cy,screen_height:Ty};return i.adProxy.reportAntifraud(o)},uA=function(e){var t,a=uy(this),i=+new Date;a.closeType=e;var r={slotid:bt[a.adType],is_game:Py?1:0,costtype:null!==(t=a.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,close_type:e,exposure_duration:i-a.startExposureTime-a.hideDuration,start_time:a.startExposureTime,close_time:i};return a.adProxy.reportCloseAction(r)},cA=function(e){var t,a=uy(this),i={slotid:bt[a.adType],is_game:Py?1:0,costtype:null!==(t=a.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,button_type:e};return a.adProxy.reportAdEntranceExposure(i)},pA=function(e,t,a){var i;if("click"===a){var r=null==e||null===(i=e.dataset)||void 0===i?void 0:i.templateId;return hA.call(this,r,t)}},hA=function(e="",t={}){var a=uy(this),i=ly(),r=i.screenWidth,n=i.screenHeight;return a.adProxy.reportClickPosition({impTime:0,adWidth:Math.round(r)||0,adHeight:Math.round(n)||0,expTime:a.startExposureTime,clickTime:+new Date,endPosx:Math.round(t.absoluteX)||0,endPosy:Math.round(t.absoluteY)||0,posName:e})},fA=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:a=0,secondGradeDesc:i="",feedbackReason:r=0}){var n=uy(this);e&&!a&&(n.clickFirstGradeTime=+new Date),n.adProxy.reportAdFeedbackData({adWidth:Cy,adHeight:Ty,adPosX:0,adPosY:0,expTime:n.startExposureTime,slotId:bt[n.adType],firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?n.clickFirstGradeTime:0,secondGradeId:a,secondGradeDesc:i,secondGradeTime:a?+new Date:0,feedbackReason:r})},vA=function(e=!1){var t,a,i,r=uy(this);if(!r.isShowed)return Promise.resolve();if(!r.data||!r.container.layoutBox)return(0,Xi.Vs)(100).then((()=>vA.call(this,e)));var{left:n,top:o,width:s,height:l}=r.container.layoutBox,d=(null===(t=r.adProxy)||void 0===t||null===(a=t.datas)||void 0===a?void 0:a.length)>1&&$s(null===(i=r.data)||void 0===i?void 0:i.crt_size);if(r.isMulti=d,!r.isShowedExposureReported){var u;if(r.isShowedExposureReported=!0,r.startExposureTime=+new Date,r.adProxy.setTimePoint("p6"),v.wZ&&f.default.clientVersion>=671092224&&f.default.clientVersion<=671092533){u=r.adProxy.reportExposure({left:n,top:o,width:s,height:l,exposureType:"showed",source:r.source,displayMode:r.showInfo.displayMode});var c="launch"===r.source?Mt.firstShowSuccess:Mt.secondShowSuccess;r.adProxy.reportAdMonitorData(c,{fetchSource:r.fetchSource,fetchType:r.fetchType,newTimeout:r.adInfos.newTimeout,localSelect:r.localSelectSuccess}),r.adProxy.setSplashAdShowStatus()}else u=f.default.onReady((()=>{d?r.adProxy.reportExposure({left:n,top:o,width:s,height:l,exposureType:"showed",isMulti:d,multiList:Object.keys(r.adProxy.datas).map((e=>+e)),source:r.source,displayMode:r.showInfo.displayMode}):r.adProxy.reportExposure({left:n,top:o,width:s,height:l,exposureType:"showed",source:r.source,displayMode:r.showInfo.displayMode});var e="launch"===r.source?Mt.firstShowSuccess:Mt.secondShowSuccess;r.adProxy.reportAdMonitorData(e,{fetchSource:r.fetchSource,fetchType:r.fetchType,newTimeout:r.adInfos.newTimeout,localSelect:r.localSelectSuccess}),r.adProxy.setSplashAdShowStatus()}));try{var p=Mt.EXPOSURE_SHOWAD_UNKNOWN;"success"===r.showSplashAdStatus?p=Mt.EXPOSURE_SHOWAD_SUCCESS:"fail"===r.showSplashAdStatus&&(p=Mt.EXPOSURE_SHOWAD_FAIL),"launch"===r.source&&r.adProxy.reportAdMonitorData(p)}catch(e){}Ey(u,"splashAd","原始")}if(!r.isViewableExposureReported){if(!e)return(0,Xi.Vs)(1e3).then((()=>vA.call(this,!0)));var h;r.adProxy.setTimePoint("p7"),r.isViewableExposureReported=!0,r.adProxy.isViewable=!0,h=d?r.adProxy.reportExposure({left:n,top:o,width:s,height:l,exposureType:"viewable",source:r.source,displayMode:r.showInfo.displayMode,multiList:Object.keys(r.adProxy.datas).map((e=>+e)),isMulti:d}):r.adProxy.reportExposure({left:n,top:o,width:s,height:l,exposureType:"viewable",source:r.source,displayMode:r.showInfo.displayMode}),Ey(h,"splashAd","可视"),"launch"!==r.source||r.countTimer||SA.call(this)}return Promise.resolve()},mA=function(e,t=!1,a=0){var i,r=uy(this);if(null!==(i=r.container)&&void 0!==i&&i.layoutBox){var{left:n,top:o,width:s,height:l}=r.container.layoutBox,d=r.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-n,clickRelativeTop:e.absoluteY-o,pressInterval:e.pressInterval,isMulti:r.isMulti,left:n,top:o,width:s,height:l,source:r.source,displayMode:r.showInfo.displayMode,isInteractiveClick:t,clickPos:a});return Ey(d,"splashAd","点击"),d}},_A=function(e,t,a=!1){var i=uy(this),{appInfo:{apkName:r,channelId:n,urlScheme:o},product_type:s,dest_type:l}=i.data;if(12===s&&v.wZ&&4===i.androidAppState&&o&&o.trim().length>0)mA.call(this,e),dA.call(this,t,e),i.adProxy.launchApplication(o,i.adProxy.data).catch((()=>{})),i.lastJsapiName="launchApplication",i.isLandingPage=!0;else if(12===s&&v.wZ&&i.isYYBInstalled){mA.call(this,e),dA.call(this,t,e);var{aid:d,traceid:u,apurl:c}=i.adProxy.data,p=["ANDROIDWX.YYB.WX.ADVERTISE",u,d,r.replace(/\./g,"_"),"0",15,c.indexOf("ad.wx.com")>-1?1:0].join("."),h=`tmast://download?oplist=1,2&pname=${r}&channelid=${n}&via=${p}`;i.adProxy.launchApplication(h).catch((()=>{gA.call(this,{isButton:a})})),i.lastJsapiName="launchApplication",i.isLandingPage=!0}else v.cj&&46===s&&6===l?Promise.race([mA.call(this,e),(0,Xi.Vs)(500)]).then((()=>{dA.call(this,t,e),gA.call(this,{isButton:a})})).catch((()=>{dA.call(this,t,e),gA.call(this,{isButton:a})})):(mA.call(this,e),dA.call(this,t,e),gA.call(this,{isButton:a}))},gA=function(e={}){var t=uy(this),a=t.adProxy.land(e);try{t.countTimer||t.adProxy.reportAdMonitorData(Mt.LANDING_COUNTDOWN_FAIL)}catch(e){}return a.then((e=>{e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===t.lastJsapiName||"navigateToMiniProgram"===t.lastJsapiName||"openADCanvas"===t.lastJsapiName||"launchApplication"===t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((e=>{t.lastJsapiStatus=1,t.adProxy.reportAdMonitorData(Mt.landingPageFail,{source:t.source,msg:e})})),a},yA=function(e){var t=uy(this);for(var a of e)t[a]&&clearTimeout(t[a])},AA=function(){var e=!1;return v.cj&&f.default.clientVersion>=402666021&&(e=!0),v.wZ&&f.default.clientVersion>=671101488&&(e=!0),e},EA=function(){var e,t=uy(this);t.eventsMap={},null!==(e=t.appInfo)&&void 0!==e&&e.style&&(t.appInfo.style.top=16),t.componentsRenderred=!1,t.firstInserted=!1,t.adFeedbackInserted=!1,t.isDynamic=!1,t.isShowedExposureReported=!1,t.startExposureTime=0,t.isViewableExposureReported=!1,t.isShowed=!1,t.adProxy.isViewable=!1,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.showSplashAdStatus="unknown",t.localSelectSuccess=!1,t.fetchType="",t.isClosing=!1,t.isClosed=!1,t.isShowCloseTip=!1,t.clickFirstGradeTime=0,t.videoStopType=qs,t.source="",t.fetchSource="",t.adFileCheckResult={},yA.call(this,["countTimer"]),t.countTimer=null,f.default.onReady((()=>{var e,a,i;t.adProxy.reportTimePoints({slotid:bt[t.adType],costtype:null!==(e=t.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,splash_instance_id:null===(a=t.showInfo)||void 0===a?void 0:a.instanceId,scene:null===(i=t.showInfo)||void 0===i?void 0:i.scene,extInfo:{}})}))},CA=function(e){var t=uy(this);switch(e){case Js:case el:case il:case nl:t.videoStopType=Zs;break;case tl:t.videoStopType=Ks;break;case al:case rl:t.videoStopType=Xs;break;default:t.videoStopType=qs}},TA=function(e={},t){var a;t&&(uA.call(this,t),CA.call(this,t));var i,r,n,o,s,l=uy(this);if(l.container&&l.showExtend&&l.adTemplateRef)return null==l||null===(i=l.adTemplateRef)||void 0===i||i.offEvent(FA.bind(this)),null==l||null===(r=l.adTemplateRef)||void 0===r||r.hide(),null==l||null===(n=l.adTemplate)||void 0===n||n.unmount({hostContainer:l.container}),l.adTemplate=null,void fy.remove(l.container);l.container&&l.adTemplateRef&&((s=null===(a=l.data)||void 0===a?void 0:a.crt_size)&&[xs.CRT_SIZE_WX_APPLICATION,xs.APP_VIDEO,xs.PIC_TIME5,xs.CRT_SIZE_REWARD_VEDIO169,xs.CRT_SIZE_REWARD_VEDIO916,xs.CRT_SIZE_AMS_VIDEO_169,xs.CRT_SIZE_VERTICAL_VIDEO_NEW_916,xs.CRT_SIZE_VIDEO_TIME6,xs.CRT_SIZE_INSERT_VIDEO,xs.CRT_SIZE_MULTI_POS_VEDIO,xs.CRT_SIZE_VERTICAL_VIDEO,xs.CRT_SIZE_VERTICAL_VIDEO_916,xs.VIDEO_TIME15,xs.CRT_SIZE_CARD_COMPT_VIDEO].includes(Number(s)))&&(null===(o=l.adTemplateRef)||void 0===o||o.emitEvent(sv.OPERATEADVIDEO,{type:"pause"}));l.isClosed=!0,function(e){D("closeSplashAd",e)}(e)},IA=function(){var e=uy(this);if(e.container){if(e.isDynamic)if(e.tplComponent)(e=>{if(!e.isComponent)throw new Error("variable is not a component instance");var t=e.getRootElements();Array.isArray(t)?t.forEach((e=>Fo.remove(e))):Fo.remove(t),e._unmountComponent(),Wn.delete(e.constructor)})(e.tplComponent),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null;else if(e.adTemplateRef){var t,a,i;null==e||null===(t=e.adTemplateRef)||void 0===t||t.offEvent(FA.bind(this)),null==e||null===(a=e.adTemplateRef)||void 0===a||a.hide(),null==e||null===(i=e.adTemplate)||void 0===i||i.unmount({hostContainer:e.container}),e.adTemplate=null}hy.remove(e.container)}EA.call(this)},bA=function(e={},t={}){return uy(this).adProxy.fetch(!1,e,t)},wA=function(){var e=uy(this);if((v.wZ||v.cj)&&!Oy)try{e.adFetchResult=bA.call(this).catch((()=>{})),e.adProxy.reportAdMonitorData(Mt.OTHER_ADS_EMIT_FETCH)}catch(e){}},kA=function(){var e,t=uy(this).data||{},a={};if(null!==(e=t.crtInfo)&&void 0!==e&&e.card_info)a=t.crtInfo.card_info;else if(t.crtInfo&&t.crtInfo.length>0){var i=t.crtInfo?t.crtInfo[0]:{};a=null!=i&&i.card_info?i.card_info:{}}return a},SA=function(){var e,t,a,i,r,n,o,s,l,d,u=uy(this),c=+new Date-u.startExposureTime-u.hideDuration,p=6e3,h=null==u||null===(e=u.data)||void 0===e?void 0:e.adDynamicList;(null!=u&&null!==(t=u.data)&&void 0!==t&&t.template&&(h=u.data.template),null!==(a=h)&&void 0!==a&&null!==(i=a.options)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.countdown)&&(p=Number(null===(s=h)||void 0===s||null===(l=s.options)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.countdown)||6e3);(null==u||null===(n=u.data)||void 0===n||null===(o=n.condition)||void 0===o?void 0:o.widget_gray_splashad_show_duration)>=p&&(p=u.data.condition.widget_gray_splashad_show_duration);var f,v=Math.min(p-c,p);if(v>=0){var m,_,g=Math.ceil(v/1e3).toString();if(u.countDown&&(u.countDown.value=g),u.adTemplateRef)u.adTemplateRef.emitEvent(sv.CHANGECOUNTDOWN,{value:g}),null===(m=u.adTemplateRef)||void 0===m||null===(_=m.emitEvent)||void 0===_||_.call(m,sv.HOSTMESSAGE,{message:"updateCountdownValue",args:{value:g}});u.tplComponent&&u.tplComponent.emitAdCustomEvent(sv.CHANGECOUNTDOWN,{value:g}),u.countTimer&&clearTimeout(u.countTimer),u.countTimer=setTimeout((()=>{SA.call(this)}),1e3)}else if("launch"===u.source&&u.isShowedExposureReported){var y,A;if(u.isDynamic)if(u.tplComponent)null===(A=u.tplComponent)||void 0===A||A.hide();else if(u.adTemplateRef){var E;null===(E=u.adTemplateRef)||void 0===E||E.hide()}var C=AA.call(this),T=$s(null===(y=u.data)||void 0===y?void 0:y.crt_size);if(u.isSplashadExtendShow&&C&&!T){var I=(f=u.data.crt_size)&&[xs.CRT_SIZE_REWARD_VEDIO916,xs.CRT_SIZE_AMS_PIC_916,xs.CRT_SIZE_VERTICAL_VIDEO_NEW_916,xs.CRT_SIZE_SPLASH_AD,xs.CRT_SIZE_VERTICAL_VIDEO,xs.CRT_SIZE_VERTICAL_VIDEO_916].includes(Number(f))?"portrait":"landscape",b="portrait"===I?88:88/.5625,w="portrait"===I?88/.5625:88,{screenWidth:k,screenHeight:S,screenTop:x}=ly(),P=S/2-x-w,D=k-b-10;worker.postMessage({type:"splashAdShowExtend"}),TA.call(this,{source:u.source,animated:!0,animConfig:{animEndX:D,animEndY:P,animEndHeight:w}},12)}else TA.call(this,{source:u.source,animated:!0},12)}},xA=function(){var e=uy(this);if("launch"===e.source)e.topBar&&by&&(e.topBar.style.top=by,e.adFeedbackMenu.style.top=by+34,e.adFeedbackList.style.top=by+34),e.closeContainer&&(e.closeContainer.style.marginTop=wy-68),e.appInfo&&(e.appInfo.style.height=ky,e.appInfo.style.width=Cy,e.isDarkMode&&(e.appInfo.style.backgroundColor="#191919",e.container.style.backgroundColor="#191919")),e.appIcon&&(e.appIcon.src=e.showInfo.appIcon,e.appIcon.style.marginTop=Py?16:28),e.appName&&(e.appName.value=e.showInfo.appName,e.appName.style.width=Cy,e.appName.style.color=e.isDarkMode?"#ffffff":"#000000"),e.tipsContainer&&(e.tipsContainer.style.height=32,e.tipsContainer.style.width=Cy,e.tipsLineOne.style.width=Cy,e.tipsLineOne.style.color=e.isDarkMode?"#ffffff":"#000000",e.tipsLineTwo.style.color=e.isDarkMode?"#ffffff":"#000000"),e.adCloseTips&&(e.adCloseTips.style.height=Ty-ky,e.adCloseTips.style.width=Cy);else if("menu"===e.source){var t;if(!e.data)return;var{data:a}=e,i=kA.call(this),r=ly();e.adIcon.src=i.thumb,e.adName.value=i.title,null!==(t=a.button_action)&&void 0!==t&&t.button_text&&(e.button.value=a.button_action.button_text),r.screenTop&&r.screenTop>0?Iy=r.screenTop:Iy&&0!==Iy||(Iy=88*Ty/812),e.navigator.style.height=Iy,e.navigator.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.width=Cy,e.card.style.height=ky-Iy,e.adName.style.color=e.isDarkMode?"#ffffff":"#000000",e.adWording.style.color=e.isDarkMode?"#ffffff":"#000000",e.mediaBottom&&(e.mediaBottom.style.marginTop=wy-12,e.mediaBottom.style.width=Cy,e.mediaBottom.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff")}if("landscape"===e.crtOrientation){var n=e.data||{},o=kA.call(this);if(o&&e.adHeadInfo&&(e.adHeadIcon.src=o.thumb||"",e.adversName.value=o.title||"",e.adHeadInfo.style.width=Cy/375*311,e.adversName.style.width=Cy/375*311),n.hint_txt&&e.adTitle&&n.crt_size!==xs.CRT_SIZE_BIG_PIC?(e.adTitle.value=n.hint_txt,e.adTitle.style.width=Cy/375*311):o.description&&e.adTitle?(e.adTitle.value=o.description,e.adTitle.style.width=Cy/375*311):e.adTitle&&n.product_type&&zt[n.product_type]&&(e.adTitle.value=`今日${zt[n.product_type]}推荐`,e.adTitle.style.width=Cy/375*311),n.button_action&&e.adButtonContainer){e.adButton.value=n.button_action.button_text,e.adButtonContainer.style.width=Cy,e.closeContainer&&(e.closeContainer.style.marginTop=wy-132);var s=(e=>{var t=0,a=Object.assign({},{fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},e);try{g("measureText",Object.assign({},a,{complete(e){t=e.width||0}}))}catch(e){}return t})({text:n.button_action.button_text,fontSize:17})||80;e.adButton.style.width=s+8,e.adButton.style.width+12>100&&(e.adButton.style.width=e.adButton.style.width+12)}}},PA=function(){var e=uy(this);e.adTemplate||(e.adTemplate=new class{constructor(e){var t,a,i,r,n;this.adCustomIdInc=0,this.containerMap=new WeakMap,"renderer"in e?(((e,t)=>{if(!e)throw new Error("options.renderer achieved uncompletely")})(((e,t)=>{for(var a of t)if(null==(null==e?void 0:e[a]))return!1;return!0})(e.renderer,["render","unmount","findDOMNode"])),this.renderer=e.renderer):this.renderer=new class{constructor(e){this.presetHostConfig={shouldSetTextContent:()=>!1,getRootHostContext:()=>null,getChildHostContext:e=>e,getPublicInstance:e=>e,prepareForCommit:()=>null,resetAfterCommit:()=>{},preparePortalMount:()=>{},supportsMutation:!0,now:Date.now,scheduleTimeout:(e,t)=>setTimeout(e,t),cancelTimeout:e=>clearTimeout(e),noTimeout:-1,isPrimaryRenderer:!1,commitMount:()=>{}},this.renderer=(0,Au.default)(ou(ou({},this.presetHostConfig),e))}render(e,t){return new Promise(((a,i)=>{try{t._rootContainer||(t._rootContainer=this.renderer.createContainer(t,!1,!1)),this.renderer.updateContainer(e,t._rootContainer,null,(()=>a()))}catch(e){i(e)}}))}unmount(e){return new Promise(((t,a)=>{if(e._rootContainer){try{this.renderer.updateContainer(null,e._rootContainer,null,(()=>t()))}catch(e){a(e)}delete e._rootContainer}}))}findDOMNode(e){return null==e?null:this.renderer.findHostInstance(e)}}(e.hostConfig),this.hostContext=e.hostContext,this.useTextTag=null==(t=e.useTextTag)||t,this.useAttrId=null==(a=e.useAttrId)||a,this.useAttrClass=null==(i=e.useAttrClass)||i,this.hideMaskOnSlide=null!=(r=e.hideMaskOnSlide)&&r,this.minSlideDistance=null!=(n=e.minSlideDistance)?n:1,this.globalEventDelegator=new class{constructor(e){this.options=e,this.handlers={},this.sep="<^.^>",this.handleEvent=e=>t=>{if(t.target&&this.options.getPropertyOfElement){for(var a=!1,i=!1,r=su(ou({},t),{touches:null==t?void 0:t.touches,stopPropagation:()=>{a=!0},stopImmediatePropagation:()=>{i=!0}}),n=t.target;n&&!a;){var{templateId:o,id:s}=Ph(n,this.options.getDatasetPrefix),l=`${e}${this.sep}${o}-${s}`;if(this.handlers[l])for(var d of this.handlers[l])i||d(r);n=this.options.getPropertyOfElement(n,"parent")}var u=`${e}${this.sep}__global`;if(this.handlers[u]&&!a)for(var c of this.handlers[u])i||c(r)}},this.handleTouchStart=this.handleEvent("touchstart"),this.handleTouchMove=this.handleEvent("touchmove"),this.handleTouchEnd=this.handleEvent("touchend"),this.handleTouchCancel=this.handleEvent("touchcancel"),this.handleClick=this.handleEvent("click"),e.onGlobalEvent&&e.getPropertyOfElement&&(e.onGlobalEvent("touchstart",this.handleTouchStart),e.onGlobalEvent("touchmove",this.handleTouchMove),e.onGlobalEvent("touchend",this.handleTouchEnd),e.onGlobalEvent("touchcancel",this.handleTouchCancel),e.onGlobalEvent("click",this.handleClick))}on(e,t,a){var i,r=`${e}${this.sep}${t}`;(i=this.handlers)[r]||(i[r]=new Set),this.handlers[r].add(a)}onGlobal(e,t){var a,i=`${e}${this.sep}__global`;(a=this.handlers)[i]||(a[i]=new Set),this.handlers[i].add(t)}off(e,t,a){var i=`${e}${this.sep}${t}`;this.handlers[i]&&this.handlers[i].delete(a)}offGlobal(e,t){var a=`${e}${this.sep}__global`;this.handlers[a]&&this.handlers[a].delete(t)}destroy(){this.options.offGlobalEvent&&(this.options.offGlobalEvent("touchstart",this.handleTouchStart),this.options.offGlobalEvent("touchmove",this.handleTouchMove),this.options.offGlobalEvent("touchend",this.handleTouchEnd),this.options.offGlobalEvent("touchcancel",this.handleTouchCancel),this.options.offGlobalEvent("click",this.handleClick)),this.handlers={}}}({onGlobalEvent:e.hostContext.onGlobalEvent,offGlobalEvent:e.hostContext.offGlobalEvent,getPropertyOfElement:e.hostContext.getPropertyOfElement,getDatasetPrefix:e.hostContext.getDatasetPrefix})}generateCustomId(){return this.adCustomIdInc+=1,`AD_CUSTOM_${this.adCustomIdInc}`}getConvertRatio(e,t=0,a){var{width:i}=a||{};null==i&&(i=t),i=Number(i);var r=e.minWidth||0,n=e.maxWidth||0,o=e.baseWidth||375,s=Math.min(t,Math.max(r,i));return n&&(s=Math.min(s,n)),0===s?{ratio:1,width:null}:{ratio:s/o,width:s}}createTemplateRef(e,{emitter:t,adCustomId:a,rootRef:i,itemRef:r}){var{hostContainer:n}=e,o=t=>!e.isPartial;return{emitEvent:(e,i)=>{t.emit("adCustomEvent",ou({adCustomId:a,action:e},i?{value:i}:{}))},onEvent:e=>(t.on("adCustomEvent",e),e),offEvent:e=>{t.off("adCustomEvent",e)},getCustomId:()=>a,getElementById:(e,t)=>i.current&&i.current.travelAndFindElementByIdDeeply(e,t,this.renderer.findDOMNode(i.current))||null,getRelativeTemplateInfo:(e,t)=>{if(!e||!t||!this.hostContext.getPropertyOfElement)return null;for(var a=e;a;){var i=Ph(a,this.hostContext.getDatasetPrefix);if(t(i))return i;a=this.hostContext.getPropertyOfElement(a,"parent")}return null},update:e=>cu(this,null,(function*(){var t,a=(t=e,["adData","adDatas","position","systemInfo","isMulti","darkMode","extraScope"].reduce(((e,a)=>(null!=t[a]&&(e[a]=t[a]),e)),{}));r.current&&e.isPartial?yield this.renderer.render(yu.default.createElement(Uv,ou({},ou(ou(su(ou({},r.current.props),{ref:r}),a),e.template?{template:e.template}:{}))),n):i.current&&!e.isPartial&&(yield this.renderer.render(yu.default.createElement(Gv,ou({},ou(ou(su(ou({},i.current.props),{ref:i}),a),e.template?{template:e.template}:{}))),n))})),getRootElement:()=>i.current?this.renderer.findDOMNode(i.current):r.current?this.renderer.findDOMNode(r.current):null,getRootData:e=>{var t;return o()&&(null==(t=i.current)?void 0:t.getRootData(e))},show:()=>cu(this,null,(function*(){var e;o()&&(yield null==(e=i.current)?void 0:e.show())})),hide:()=>cu(this,null,(function*(){var e;o()&&(yield null==(e=i.current)?void 0:e.hide())})),isShow:()=>{var e;return o()&&(null==(e=i.current)?void 0:e.isShow())||!1}}}render(e){return cu(this,null,(function*(){var t;if("isEmpty"in e&&e.isEmpty)return this.renderer.render(yu.default.createElement(qm,null),e.hostContainer);var{hostContainer:a,adData:i,template:r,position:n,systemInfo:o,isMulti:s,darkMode:l,adCustomId:d,styleOptions:u,flattenLayer:c,videoUseBlock:p,transformLinefeed:h,ref:f,extraScope:v,innerFunctions:m}=e,{adDatas:_}=e,{hostContext:g}=this,y=d||this.generateCustomId(),A=null!=(t=e.emitter)?t:new class{constructor(){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,this.delimiter=".",this.event=""}setMaxListeners(e){void 0!==e&&(this._events||Kh.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)}once(e,t){return this.many(e,1,t),this}many(e,t,a){var i=this;if("function"!=typeof a)throw new Error("many only accepts instances of Function");function r(){0==--t&&i.off(e,r),a.apply(this,arguments)}return r._origin=a,this.on(e,r),i}emit(...e){this._events||Kh.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var a,i,r,n,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];for(r=0,i=o.length;r<i;r++)switch(this.event=t,s){case 1:o[r].call(this,t);break;case 2:o[r].call(this,t,arguments[1]);break;case 3:o[r].call(this,t,arguments[1],arguments[2]);break;default:o[r].apply(this,a)}}if(this.wildcard){o=[];var l="string"==typeof t?t.split(this.delimiter):t.slice();ef.call(this,o,l,this.listenerTree,0)}else{if("function"==typeof(o=this._events[t])){switch(this.event=t,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(a=new Array(s-1),n=1;n<s;n++)a[n-1]=arguments[n];o.apply(this,a)}return!0}o&&(o=o.slice())}if(o&&o.length){if(s>3)for(a=new Array(s-1),n=1;n<s;n++)a[n-1]=arguments[n];for(r=0,i=o.length;r<i;r++)switch(this.event=t,s){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,a)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all}emitAsync(){this._events||Kh.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,a,i,r,n,o=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),r=1;r<s;r++)t[r]=arguments[r];for(i=0,a=this._all.length;i<a;i++)switch(this.event=e,s){case 1:o.push(this._all[i].call(this,e));break;case 2:o.push(this._all[i].call(this,e,arguments[1]));break;case 3:o.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:o.push(this._all[i].apply(this,t))}}if(this.wildcard){n=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();ef.call(this,n,l,this.listenerTree,0)}else n=this._events[e];if("function"==typeof n)switch(this.event=e,s){case 1:o.push(n.call(this));break;case 2:o.push(n.call(this,arguments[1]));break;case 3:o.push(n.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),r=1;r<s;r++)t[r-1]=arguments[r];o.push(n.apply(this,t))}else if(n&&n.length){if(s>3)for(t=new Array(s-1),r=1;r<s;r++)t[r-1]=arguments[r];for(i=0,a=n.length;i<a;i++)switch(this.event=e,s){case 1:o.push(n[i].call(this));break;case 2:o.push(n[i].call(this,arguments[1]));break;case 3:o.push(n[i].call(this,arguments[1],arguments[2]));break;default:o.push(n[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)}on(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||Kh.call(this),this.emit("newListener",e,t),this.wildcard?(tf.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),this._events[e].push(t),!this._events[e].warned&&this._events.maxListeners>0&&this._events[e].length>this._events.maxListeners&&(this._events[e].warned=!0,Jh.call(this,this._events[e].length,e))):this._events[e]=t,this)}onAny(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this}off(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var a,i=[];if(this.wildcard){var r="string"==typeof e?e.split(this.delimiter):e.slice();i=ef.call(this,null,r,this.listenerTree,0)}else{if(!this._events[e])return this;a=this._events[e],i.push({_listeners:a})}for(var n=0;n<i.length;n++){var o=i[n];if(a=o._listeners,qh(a)){for(var s=-1,l=0,d=a.length;l<d;l++)if(a[l]===t||a[l].listener&&a[l].listener===t||a[l]._origin&&a[l]._origin===t){s=l;break}if(s<0)continue;return this.wildcard?o._listeners.splice(s,1):this._events[e].splice(s,1),0===a.length&&(this.wildcard?delete o._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(a===t||a.listener&&a.listener===t||a._origin&&a._origin===t)&&(this.wildcard?delete o._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var a=Object.keys(t);for(var i in a){var r=a[i],n=t[r];n instanceof Function||"object"!=typeof n||null===n||(Object.keys(n).length>0&&e(t[r]),0===Object.keys(n).length&&delete t[r])}}}(this.listenerTree),this}offAny(e){var t,a=0,i=0;if(e&&this._all&&this._all.length>0){for(a=0,i=(t=this._all).length;a<i;a++)if(e===t[a])return t.splice(a,1),this.emit("removeListenerAny",e),this}else{for(a=0,i=(t=this._all).length;a<i;a++)this.emit("removeListenerAny",t[a]);this._all=[]}return this}removeAllListeners(e){if(0===arguments.length)return!this._events||Kh.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),a=ef.call(this,null,t,this.listenerTree,0),i=0;i<a.length;i++)a[i]._listeners=null;else this._events&&(this._events[e]=null);return this}listeners(e){if(this.wildcard){var t=[],a="string"==typeof e?e.split(this.delimiter):e.slice();return ef.call(this,t,a,this.listenerTree,0),t}return this._events||Kh.call(this),this._events[e]||(this._events[e]=[]),qh(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}listenerCount(e){return this.listeners(e).length}listenersAny(){return this._all?this._all:[]}}({maxListeners:1e3}),E=yu.default.createRef(),C=yu.default.createRef(),T=this.getConvertRatio(e.isPartial?{}:e.template.tplConfig||{},o.screenWidth,n),{width:I}=T,{ratio:b}=T;_||(_=[i]),(null==u?void 0:u.ratio)&&(b=u.ratio),null!=I&&null!=(null==n?void 0:n.width)&&(n.width=I);var w=this.createTemplateRef(e,{emitter:A,adCustomId:y,rootRef:E,itemRef:C});null==f||f(w),this.containerMap.set(a,{emitter:A,options:e});var k={hostContainer:a,ratio:b,useTextTag:this.useTextTag,useAttrId:this.useAttrId,useAttrClass:this.useAttrClass,hideMaskOnSlide:this.hideMaskOnSlide,minSlideDistance:this.minSlideDistance,isFlattenLayer:()=>{var e,t;return null!=c?c:"root"===r.type&&null!=(null==(t=null==(e=null==r?void 0:r.options)?void 0:e.data)?void 0:t.flattenLayer)&&r.options.data.flattenLayer},videoUseBlock:p,transformLinefeed:h,styleOptions:u||{},getRootElement:e=>this.renderer.findDOMNode(e),globalEventDelegator:this.globalEventDelegator},S=new class{constructor(){this.loadPromiseList=[],this.registeMaterialLoadPromise=()=>{var e,t,a=new Promise(((a,i)=>{e=a,t=i}));return this.loadPromiseList.push(a),{resolve:e,reject:t}}}statAllMaterialLoad(){return Promise.all(this.loadPromiseList)}},x={adData:i,adDatas:_,isMulti:s||!1,systemInfo:o,adCustomId:y,darkMode:l,emitter:A,hostContext:g,extraScope:v,innerFunctions:m,renderContext:k,materialLoader:S};e.isPartial?yield this.renderer.render(yu.default.createElement(Uv,ou({},su(ou({},x),{ref:C,isRootItem:!0,template:e.template}))),a):yield this.renderer.render(yu.default.createElement(Gv,ou({},su(ou({},x),{ref:E,template:e.template}))),a),this.statAllMaterialLoad(w,S)}))}statAllMaterialLoad(e,t){t.statAllMaterialLoad().then((t=>{e.emitEvent("allMaterialLoaded",{materialList:t})})).catch((t=>{e.emitEvent("materialLoadError",{material:t})}))}unmount(e){var{hostContainer:t}=e;if(this.containerMap.has(t)){var{emitter:a,options:i}=this.containerMap.get(t);return!i.isEmpty&&i.emitter||a.removeAllListeners(),this.containerMap.delete(t),this.renderer.unmount(t)}}destroy(){this.globalEventDelegator.destroy()}}({hostConfig:Xg({getExtraProps:iE.bind(this),eventCallback:pA.bind(this)}),hostContext:{onAppEnterForeground:_y,offAppEnterForeground:yy,onAppEnterBackground:gy,offAppEnterBackground:Ay,getPropertyOfElement:(e,t)=>"parent"===t?e.parent:Fn(e),getBoundingClientRect:e=>e.layoutBox,operateVideo:(e,t)=>{["play","pause","stop"].includes(t)&&e[t]()},animate:(e,t)=>Promise.all([e.animate(t),(0,Xi.Vs)(t.duration)]),getTextWidth:(e,t)=>my.getTextWidth(e,t),onGlobalEvent:()=>{},offGlobalEvent:()=>{}}}))},DA=function(e){var t,a,i,r,n,o,s,l=uy(this),d=null==l||null===(t=l.data)||void 0===t?void 0:t.adDynamicList;if(null!=l&&null!==(a=l.data)&&void 0!==a&&a.template&&(d=l.data.template),null!==(i=d)&&void 0!==i&&null!==(r=i.options)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.flattenLayer)NA.call(this,e,d);else if(l.dynamicElems||(l.dynamicElems={}),l.dynamicEmitter||WA.call(this),!l.dynamicElems.root){Wy=null===(o=d)||void 0===o||null===(s=o.tplConfig)||void 0===s?void 0:s.cacheFile;var u={};if(Wy&&Object.keys(Wy).length>0){var c,p,h,f=(null==l||null===(c=l.data)||void 0===c||null===(p=c.rerankingExtInfo)||void 0===p?void 0:p.material_hash)||"",v=(null===(h=l.data)||void 0===h?void 0:h.aid)||"";Object.keys(Wy).forEach((e=>{try{var t=`${Ot}/${v}_${f}_${e}.png`;Q(t),u={...u,[e]:t}}catch(e){l.adProxy.reportAdMonitorData({idKey:33,idKeyGroup:1646},e)}}))}var m=MA.call(this,{tpl:d,source:e,cacheLocalFile:u}),_=m.getRootElement();l.dynamicElems.root=_,l.container.add(l.dynamicElems.root),m.show(),l.tplComponent=m,l.tplComponent.emitComponentEvent(Le)}},OA=function(){var e="",t=uy(this).adProxy.data,a=kA.call(this);return t.hint_txt&&t.crt_size!==xs.CRT_SIZE_BIG_PIC?e=t.hint_txt:a.description?e=a.description:t.product_type&&zt[t.product_type]&&(e=`今日${zt[t.product_type]}推荐`),e},RA=function(){var e="",t=uy(this).adProxy.data;return t.product_type&&zt[t.product_type]&&(e=`今日${zt[t.product_type]}推荐`),e},NA=function(e,t){var a=uy(this),i=OA.call(this),r=kA.call(this),n=RA.call(this);a.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:Cy,screenHeight:Ty},hostContainer:a.container,template:t,adData:a.adProxy.data,adDatas:a.adProxy.datas,adCustomId:"SPLASHAD",styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0,ratio:Ty>Cy?Cy/375:Ty/375},extraScope:{private:a,rightButtonTop:by||40,source:e,screenTop:Iy||88*Ty/812,isDarkMode:a.isDarkMode,adTitle:i||"",adSubTitle:n||"",cardInfo:r,materialFile:Ry,materialVideo:Ny,materialVideoThumb:My,materialList:Uy,materialBgFile:By,materialBlurFile:Fy,appIcon:a.showInfo.appIcon,appName:a.showInfo.appName,showExtend:Boolean(a.showExtend)},ref:e=>{a.adTemplateRef=e,e.onEvent(FA.bind(this))}}).then((()=>{var e;null===(e=a.adTemplateRef)||void 0===e||e.show()}))},MA=function({tpl:e,source:t,cacheLocalFile:a}){var i=uy(this),r=i.adProxy.data,n=OA.call(this),o=kA.call(this),s=RA.call(this);return eo(gg,{manager:null,reporter:null,emitter:i.dynamicEmitter,adProxy:i.adProxy,template:e,systemInfo:{screenWidth:Cy,screenHeight:Ty},adData:r,adCustomId:"dynamic",isEmpty:!1,scope:{rightButtonTop:by||40,source:t,screenTop:Iy||88*Ty/812,isDarkMode:i.isDarkMode,adTitle:n||"",adSubTitle:s||"",cardInfo:o,materialFile:Ry,materialBgFile:By,materialBlurFile:Fy,private:i,appIcon:i.showInfo.appIcon,appName:i.showInfo.appName,cacheLocalFile:a}},!1)},LA=function(){var e=d()((function*(e){e=e.map((e=>e.then((e=>[null,e])).catch((e=>[e]))));var t=[];for(var a of e)try{var[i,r]=yield a;if(i)throw i;if(qy.includes(null==r?void 0:r.source)&&(2!==t.length||!t.every((e=>e===q.fm))))throw"NOT_USE_LOCAL";if(null==r||!r.aid)throw`${null==r?void 0:r.source}_NO_AID`;return r}catch(e){t.push(e)}throw t}));return function(t){return e.apply(this,arguments)}}(),BA=function(e){var t=uy(this);nA.call(this,e,!1)&&(t.showExtend?TA.call(this,{source:t.source,animated:!0},15):lA.call(this)||"launch"===t.source&&(TA.call(this,{source:t.source,animated:!0},11),mA.call(this,e,!0,eA)))},FA=function(e){var t=uy(this);switch(e.action){case sv.LANDAD:var a,i,r,n,{event:o,index:s,isButton:l}=e.value,d=s,u=(null===(a=t.adProxy)||void 0===a||null===(i=a.datas)||void 0===i?void 0:i.length)>1&&$s(null===(r=t.data)||void 0===r?void 0:r.crt_size);if(t.isMulti=u,u&&(t.adProxy.setCurrentData(s),t.data=t.adProxy.data,d=16),!nA.call(this,o,13===d))return;if(13===d&&_A.call(this,o,d,l),TA.call(this,{source:t.source,animated:!1},d),16===d)t.isLandingPage=!0,(null===(n=t.data.condition)||void 0===n?void 0:n.widget_gray_splashad_jump_optimization)?_A.call(this,o,d,l):(0,Xi.Vs)(Gy).then((()=>_A.call(this,o,d,l)));break;case sv.CHECKEXPOSURE:if(t.dynamicRendered=!0,t.isShowed=!0,t.showExtend)return;t.isShowedExposureReported||vA.call(this),"launch"!==t.source||t.countTimer||t.isClosed||SA.call(this);break;case sv.FEEDBACKREPORT:fA.call(this,e.value);break;case sv.FEEDBACKBTNTAP:"launch"===t.source&&TA.call(this,{source:t.source,animated:!0},17),t.data&&t.adProxy.openFeedbackUrl(1014),mA.call(this,{},!0,tA);break;case sv.REPORTMMDATA:e.value.id&&e.value.data&&t.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case sv.SPLASHSKIPAD:var{event:c}=e.value;BA.call(this,c);break;case sv.REPORTADMONITORDATA:var p=null==e?void 0:e.value,{id:h,key:f,extInfo:v}=p,m=h?{idKeyGroup:h,idKey:f}:f;t.adProxy.reportAdMonitorData(m,v);break;case sv.ADVIDEOLOADFAILED:t.adProxy.reportAdMonitorData(Mt.VIDEO_LOAD_ERROR,e.value);break;case sv.REPORTVIDEOPLAY:var _,g,{playType:y,conditionType:A,videoInfo:{isAutoPlay:E,playDuration:C,videoDuration:T,isMuted:I,videoStartLoadTime:b,videoStartPlayTime:w,videoStopTime:k,firstFramePlayCnt:S,lastFramePlayCnt:x,startProgressBarPosition:P,stopProgressBarPosition:D}}=e.value,O=E?Qs:Ys,R={playType:y,conditionType:A,playDuration:C,videoDuration:T,muted:I};null!==(_=t.data)&&void 0!==_&&null!==(g=_.condition)&&void 0!==g&&g.widget_gray_splashad_video_report&&(Object.assign(R,{isExtend:!0,videoStartLoadTime:b,videoStartPlayTime:w,videoStopTime:k,firstFramePlayCnt:S,lastFramePlayCnt:x,startProgressBarPosition:P,stopProgressBarPosition:D,playMode:O,stopType:t.videoStopType}),R.playDuration=k&&w?k-w:0,["start","unknown"].includes(A)||(R.conditionType="stop")),t.adProxy.reportVideo(R);break;case sv.TEMPLATEMESSAGE:var N,M;if("getElementPosition"===e.value.message)if(null!=e&&null!==(N=e.value)&&void 0!==N&&null!==(M=N.args)&&void 0!==M&&M.id){var L,B,F,W,U,V,H=t.adTemplateRef.getElementById(null==e||null===(L=e.value)||void 0===L||null===(B=L.args)||void 0===B?void 0:B.id,"container"),{height:j,width:G}=H.layoutBox,{top:z,left:$}=H.getAbsolutePosition();null===(F=t.adTemplateRef)||void 0===F||null===(W=F.emitEvent)||void 0===W||W.call(F,sv.HOSTMESSAGE,{message:"updateElementPosition",args:{id:null==e||null===(U=e.value)||void 0===U||null===(V=U.args)||void 0===V?void 0:V.id,position:{top:z,left:$},size:{height:j,width:G}}})}if("stopCountdown"===e.value.message&&yA.call(this,["countTimer"]),"setContainer"===e.value.message){var Q,{height:Y,fixed:q,top:Z}=null==e||null===(Q=e.value)||void 0===Q?void 0:Q.args;t.container.style.height=Y,t.container.style.fixed=q,t.container.style.top=Z}}},WA=function(){var e=uy(this);e.dynamicEmitter=new ty,e.dynamicEmitter.on("adCustomEvent",(e=>{FA.call(this,e)}))},UA=function(e,t=!1){var a=uy(this);e.forEach((e=>{var{root:t}=c()(oy[e.name]),i=cy.call(this,t);a[e.parent].add(i)})),a.componentsRenderred=!0,xA.call(this),t&&VA.call(this)},VA=function(){var e=uy(this);e.adFeedback&&!e.eventsMap.adFeedback&&e.adFeedback.on("click",(t=>{nA.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||fA.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),e.adFeedbackBtn&&!e.eventsMap.adFeedbackBtn&&e.adFeedbackBtn.on("click",(t=>{nA.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,fA.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}),"launch"===e.source&&TA.call(this,{source:e.source,animated:!0},17),e.data&&e.adProxy.openFeedbackUrl(1014),mA.call(this,t,!0,2029))})),e.adDislikeBtn&&!e.eventsMap.adDislikeBtn&&e.adDislikeBtn.on("click",(t=>{nA.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,fA.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"}))})),e.adQualityBtn&&!e.eventsMap.adQualityBtn&&e.adQualityBtn.on("click",(t=>{nA.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,fA.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),"launch"===e.source&&TA.call(this,{source:e.source,animated:!0},17))})),e.adDuplicateBtn&&!e.eventsMap.adDuplicateBtn&&e.adDuplicateBtn.on("click",(t=>{nA.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,fA.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),"launch"===e.source&&TA.call(this,{source:e.source,animated:!0},17))})),e.adDismatchBtn&&!e.eventsMap.adDismatchBtn&&e.adDismatchBtn.on("click",(t=>{nA.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,fA.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),"launch"===e.source&&TA.call(this,{source:e.source,animated:!0},17))})),e.closeContainer&&!e.eventsMap.closeContainer&&e.closeContainer.on("click",(t=>{nA.call(this,t,!1)&&(lA.call(this)||"launch"===e.source&&TA.call(this,{source:e.source,animated:!0},11))})),e.adMedia&&!e.eventsMap.adMedia&&e.adMedia.on("click",(e=>{HA.call(this,e,"adMedia")})),e.adButtonContainer&&!e.eventsMap.adButtonContainer&&e.adButtonContainer.on("click",(e=>{HA.call(this,e,"button")})),e.buttonContainer&&!e.eventsMap.buttonContainer&&e.buttonContainer.on("click",(t=>{var a;if(nA.call(this,t,!1)&&e.data)return TA.call(this,{source:e.source,animated:!1},16),e.isLandingPage=!0,(null===(a=e.data.condition)||void 0===a?void 0:a.widget_gray_splashad_jump_optimization)?_A.call(this,t,clickType,isButton):(0,Xi.Vs)(Gy).then((()=>_A.call(this,t,clickType,isButton)))}));for(var t of["adFeedback","adFeedbackBtn","adDislikeBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn","closeContainer","adMedia","buttonContainer","adButtonContainer"])e[t]&&!e.eventsMap[t]&&(e.eventsMap[t]=!0)},HA=function(e,t=""){var a,i,r=uy(this);if((!((null==r||null===(a=r.data)||void 0===a||null===(i=a.condition)||void 0===i?void 0:i.widget_gray_splash_click_area_switch)||0)||"button"===t)&&nA.call(this,e,!1))return r.data&&"launch"===r.source?!Py||v.wZ?(_A.call(this,e,13),(0,Xi.Vs)(200).then((()=>TA.call(this,{source:r.source,animated:!1},13)))):(TA.call(this,{source:r.source,animated:!1},13),_A.call(this,e,13)):void 0},jA=function(){var e,t=uy(this);if(t.data){var a=kA.call(this);a&&"launch"===t.source&&(e={showMenu:!0,title:a.title,icon:a.thumb,success:()=>{t.adProxy.reportAdMonitorData(Mt.showSplashAdMenuSuccess)},fail:e=>{t.adProxy.reportAdMonitorData(Mt.showSplashAdMenuFail,{msg:e})}},D("showSplashAdMenu",e))}},GA=function(){var e,t,a,i,r,n,o,s=uy(this);if(null!==(e=s.showInfo)&&void 0!==e&&e.hotStartABTestInfo&&0!==(null===(t=s.showInfo)||void 0===t||null===(a=t.hotStartABTestInfo)||void 0===a?void 0:a.value)){var l=(null===(i=s.showInfo)||void 0===i||null===(r=i.hotStartABTestInfo)||void 0===r?void 0:r.value)||3e4;null!==(n=s.data)&&void 0!==n&&null!==(o=n.extBackComm)&&void 0!==o&&o.dynamic_hot_start_duration&&(l=1e3*s.data.extBackComm.dynamic_hot_start_duration),s.adProxy.reportAdMonitorData(Mt.HOT_START_START,l),D("enableSplashAdHotStart",{isShow:!0,intervalThreshold:l,success:e=>{s.adProxy.reportAdMonitorData(Mt.HOT_START_SUCCESS,e)},fail:e=>{s.adProxy.reportAdMonitorData(Mt.HOT_START_FAIL,e)}})}},zA=function(){var e=uy(this);try{var t,a=(null===(t=e.data)||void 0===t?void 0:t.aid)||"";e.adProxy.data&&e.adInfos&&e.adInfos.waidMap&&(e.adProxy.data.waid=e.adInfos.waidMap[a])}catch(e){}},$A=function(){var e=uy(this);if(!e.data||""===e.data||"object"!=typeof e.data){var t=z(Ly,"utf-8");try{var a=JSON.parse(t);e.data=a,e.adProxy.data=a}catch(t){f.default.onReady((()=>{e.adProxy.reportAdMonitorData(Mt.readFileDataFail,{source:e.source,msg:t})}))}}},QA=function(){var e=uy(this);if("launch"===e.source){UA.call(this,[{parent:"adMedia",name:"topBar"}],!0),e.adFeedbackInserted=!0}},YA=function(){var e=uy(this);if("launch"===e.source){var t=[{parent:"container",name:"appInfo"},{parent:"adMedia",name:"feedbackContent"},{parent:"adMedia",name:"feedbackMenu"},{parent:"adMedia",name:"close"},{parent:"container",name:"closeTips"}];"landscape"===e.crtOrientation&&(t=t.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"},{parent:"adMedia",name:"adButtonContainer"}])),(v.wZ||by>0)&&(t.push({parent:"adMedia",name:"topBar"}),e.adFeedbackInserted=!0),e.showInfo.isGame&&t.push({parent:"appInfo",name:"gameTips"}),UA.call(this,t,!0),U({state:0}),hy.layout().then((()=>{U({state:1}),hy.auto=!0})).catch((t=>{f.default.onReady((()=>{e.adProxy.reportAdMonitorData(Mt.secondInsertFail,{source:e.source,msg:t})}))}))}},qA=function(){var e=uy(this);ky=Math.max(160,160*Ty/812),wy=Ty-ky,e.adMaterial||e.adProxy.reportAdMonitorData(Mt.INIT_MATERIAL_ERROR),e.adMaterialBg||e.adProxy.reportAdMonitorData(Mt.INIT_MATERIAL_BG_ERROR),e.adMedia.style.width=Cy,e.adMedia.style.height=wy;var t=9*Ty/16;e.adMaterial.style.width=t,e.adMaterial.style.height=Ty,e.adMaterial.style.left=t>Cy?(Cy-t)/2:0,"portrait"===e.crtOrientation?e.adMaterial.src=Ry:"landscape"===e.crtOrientation&&(e.adMaterialBg.style.hidden=!1,e.adMaterialContainer.style.hidden=!1,e.adMaterial.style.width=Cy,e.adMaterial.style.height=wy,e.adMaterial.style.left=0,e.adMaterialContainer.style.width=Cy,e.adMaterialContainer.style.height=wy,e.adMaterialBg.style.width=.45*Ty*16/9,e.adMaterialBg.style.height=.45*Ty,e.adMaterialBg.style.left=-(.45*Ty*16/9-Cy)/2,e.adMaterialLandscape.style.width=Cy/375*311,e.adMaterialLandscape.style.height=Cy/375*175,e.adMaterialBg.src=Ry,e.adMaterialLandscape.src=Ry,e.adCardInfo.style.width=Cy/375*311,e.adCardInfo.style.marginLeft=8),e.adMaterial.scale=Ty/1920},ZA=function(e){var t,a,i=uy(this);i.showInfo=e,i.source=e.source,i.isDarkMode=e.isDarkMode||!1,e.isGame&&(Py=e.isGame),v.wZ&&(by=(null==e?void 0:e.rightButtonTop)||0);var r=ly();Cy=e.screenWidth,Ty=v.DD?e.screenHeight:Math.max(r.screenHeight,e.screenHeight),$A.call(this);try{i.adProxy.preloadLanding(),i.adProxy.reportAdMonitorData(Mt.MINIPROGRAM_PRELOAD_SUCCESS)}catch(e){i.adProxy.reportAdMonitorData(Mt.MINIPROGRAM_PRELOAD_FAIL,{source:i.source,msg:e})}try{var n,o,s;i.isMulti=(null===(n=i.adProxy)||void 0===n||null===(o=n.datas)||void 0===o?void 0:o.length)>1&&$s(null===(s=i.data)||void 0===s?void 0:s.crt_size)}catch(e){}if(null!=i&&null!==(t=i.data)&&void 0!==t&&t.adDynamicList||null!=i&&null!==(a=i.data)&&void 0!==a&&a.template){var{root:l}=c()(i.showExtend?'\n  <view id="container" independent="true">\n  </view>\n':'\n  <view id="container">\n  </view>\n');q_.call(this,l,i.showExtend?iy:ry),i.isDynamic=!0,hy.auto=!0,DA.call(this,e.source)}else q_.call(this,(()=>{if(!ay){var{root:e}=c()('\n  <view id="container">\n    <view id="navigator"></view>\n    <view id="ad-media">\n      <image id="ad-material-bg"></image>\n      <image id="ad-material" bubble-event="true"></image>\n      <view id="ad-material-container" bubble-event="true">\n        <image id="ad-material-landscape" bubble-event="true"></image>\n        <view id="ad-card-info" bubble-event="true"></view>\n      </view>\n    </view>\n  </view>\n');ay=e}return ay})(),ny),qA.call(this);if(i.container.style.width=Cy,i.container.style.height=Ty,i.showExtend||(i.container.style.backgroundColor=i.isDarkMode?"#191919":"#ffffff"),i.showExtend?fy.add(i.container):hy.add(i.container),!i.isDynamic)try{$({path:Fy,success:()=>{i.adMaterialBg.src=Fy}}),$({path:By,success:()=>{i.adMaterial.src=By},fail:()=>{i.adMaterial.style.backgroundColor="#333333"}})}catch(e){}var d=[];"menu"!==i.source||i.isDynamic||($A.call(this),d=[{parent:"container",name:"card"},{parent:"adMedia",name:"mediaBottom"}],"landscape"===i.crtOrientation&&(d=d.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"}])),i.navigator.style.hidden=!1,UA.call(this,d,!0)),W({state:0}),hy.layout().then((()=>{if(i.firstInserted=!0,i.isShowed=!0,W({state:1}),"launch"!==i.source||i.isDynamic)hy.auto=!0,i.container.requestLayout();else try{YA.call(this)}catch(e){f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.secondRenderFail,{source:i.source,msg:e})}))}})).catch((e=>{f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.firstInsertFail,{source:i.source,msg:e})}))}))},KA=function(e,t={},a,i){var r=uy(this),n=xy+Wt[i],o=Mt[i];return f.default.onReady((()=>{var a;r.adProxy.reportAdMonitorData(o,t),r.adProxy.reportTimePoints({slotid:bt[r.adType],costtype:null!==(a=r.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,splash_instance_id:e.instanceId,errCode:n,scene:e.scene,extInfo:t})})),r.adInfos.newTimeout&&(f.default.onReady((()=>{r.adProxy.reportAdMonitorData(Mt.NEW_TIMEOUT_CLOSE_AD,i)})),TA.call(this,{source:e.source,animated:!1},50)),F({adCallTime:Date.now(),errCode:n,show:!1,eventReceivedTime:a.startInit,cgiFetchStart:a.startFetchTime||0,cgiFetchCallBack:a.fetchCallbackTime||0})},XA=function(e){var t,a,i=uy(this),r={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:sy,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:v.cj,isAndroid:v.wZ,adNetworkType:e.networkType},n={weappEnterScene:e.scene,requestType:6,preloadAds:i.adInfos.ads||[]};null!==(t=i.showInfo)&&void 0!==t&&t.hotStartABTestInfo&&(n.weappExptCtx=[null===(a=i.showInfo)||void 0===a?void 0:a.hotStartABTestInfo]);return i.adProxy.setTimePoint("p15"),i.adProxy.setTimePoint("p20"),f.default.onReady((()=>{setTimeout((()=>{i.adProxy.reportAdMonitorData(Mt.CHECK_AD_BEGIN,{requestType:6,fetchType:i.fetchType,localSelect:i.localSelectSuccess})}),zy)})),bA.call(this,r,n).then((e=>(f.default.onReady((()=>{setTimeout((()=>{i.adProxy.reportAdMonitorData(Mt.CHECK_AD_SUCCESS,{requestType:6,fetchType:i.fetchType,localSelect:i.localSelectSuccess,...e}),null!=e&&e.aid&&i.adProxy.reportAdMonitorData(Mt.CHECK_AD_STATUS_SUCCESS,{requestType:6,fetchType:i.fetchType,localSelect:i.localSelectSuccess})}),zy)})),i.adProxy.setTimePoint("p16"),i.adProxy.setTimePoint("p21"),null!=e&&e.aid?{aid:e.aid,source:$y}:{aid:0,isRealtime:!1,source:$y}))).catch((e=>{throw i.adProxy.reportAdMonitorData(Mt.CHECK_AD_FAIL,{...e,requestType:6}),i.adProxy.setTimePoint("p16"),i.adProxy.setTimePoint("p21"),e}))},JA=function(e,t,a=[]){var i,r,n=uy(this),o={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:sy,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:v.cj,isAndroid:v.wZ,adNetworkType:e.networkType},s={weappEnterScene:e.scene,requestType:2,preloadAds:a};null!==(i=n.showInfo)&&void 0!==i&&i.hotStartABTestInfo&&(s.weappExptCtx=[null===(r=n.showInfo)||void 0===r?void 0:r.hotStartABTestInfo]);return n.adProxy.setTimePoint("p15"),n.adProxy.setTimePoint("p22"),f.default.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(Mt.ONLINE_AD_BEGIN,{fetchType:n.fetchType,localSelect:n.localSelectSuccess}),n.adProxy.reportAdMonitorData(Mt.START_CHECK_AD_STATUS)}),zy)})),bA.call(this,o,s).then((e=>{if(f.default.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(Mt.ONLINE_AD_SUCCESS,{fetchType:n.fetchType,localSelect:n.localSelectSuccess}),n.adProxy.reportAdMonitorData(Mt.CHECK_AD_STATUS_SUCCESS),null!=e&&e.aid&&n.adProxy.reportAdMonitorData(Mt.ONLINE_AD_RESULT_SUCCESS,{fetchType:n.fetchType,localSelect:n.localSelectSuccess})}),zy)})),n.adProxy.setTimePoint("p23"),n.adProxy.setTimePoint("p16"),"fetch"!==n.adProxy.lastAdRespone||null==e||!e.aid)return{aid:0,isRealtime:!1,source:Qy};return n.fetchSource||(n.data=e,n.adProxy.data=e),{aid:e.aid,isRealtime:!0,source:Qy}})).catch((e=>{throw n.adProxy.reportAdMonitorData(Mt.ONLINE_AD_FAIL,e),n.adProxy.setTimePoint("p23"),n.adProxy.setTimePoint("p16"),e}))},eE=function(){var e=d()((function*(e){var t,a,i,r,n=uy(this);f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.LOCAL_SELECT_BEGIN)}));var o=null===(t=n.adInfos)||void 0===t?void 0:t.localBlacklistExtBackComm,s=`${Ot}/adSceneCache.txt`,l={};try{var d=z(s,"utf-8");l=JSON.parse(d),f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.SCENE_CACHE_READ_SUCCESS,l)}))}catch(e){f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.SCENE_CACHE_READ_FAIL,e)}))}var u=l[n.showInfo.appId];if(u&&Date.now()-u.lastSaveTime<6048e5&&!u.scene.includes(n.showInfo.scene))throw f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.SCENE_CACHE_NOT_SHOW)})),"SCENE_NOT_ALLOW";if(Array.isArray(o)&&o.includes(n.showInfo.appId))throw f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.LOCAL_SELECT_BLACK_LIST)})),"BLACK_LIST";var c=null===(a=n.adInfos)||void 0===a?void 0:a.localBlackList;if(""!==c&&c.includes(n.showInfo.appId))throw f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.LOCAL_SELECT_BLACK_LIST)})),"BLACK_LIST";var p=yield oA.call(this);p.length>0&&n.adInfos.ads.some((e=>p.includes(Number(null==e?void 0:e.aid))))&&(n.adInfos.ads=n.adInfos.ads.filter((e=>!p.includes(Number(e.aid)))),f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.OFFLINE_AD)})));var h=this.getLocalSelectAid.call(this),v=null!==(i=null===(r=n.adInfos)||void 0===r?void 0:r.localSelectExpire)&&void 0!==i?i:1;if(h&&!aE.call(this,v)){try{this.checkLocalAdFile(h)}catch(e){throw f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.LOCAL_SELECT_NO_FILE,e)})),e}if(f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.LOCAL_SELECT_SUCCESS)})),n.adInfos.newTimeout){xy=6e4;var m={startInit:n.adProxy.getTimePoint("p14")};n.adProxy.setTimePoint("p17"),F({showMenu:!0,show:!0,errCode:Sy+xy,adCallTime:n.adProxy.getTimePoint("p17"),eventReceivedTime:m.startInit,success:()=>{n.showSplashAdStatus="success",f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.launchShowSplashAdSuccess),n.adProxy.reportAdMonitorData(Mt.SHOW_AD_BY_PRELOAD)}))},fail:e=>{n.showSplashAdStatus="fail",f.default.onReady((()=>{n.adProxy.reportAdMonitorData(Mt.SHOW_AD_BY_PRELOAD_FAIL,{adInfos:n.adInfos,msg:e})}))}})}return n.localSelectSuccess=!0,{aid:h,source:Yy}}throw f.default.onReady((()=>{n.adProxy.reportAdMonitorData(h?Mt.LOCAL_SELECT_NO_AID:Mt.LOCAL_SELECT_OUTDATE)})),"NO_AID"}));return function(t){return e.apply(this,arguments)}}(),tE=function(e){var t=uy(this);for(var a of(t.adDatas={},e))try{var i=`${Ot}/${a.aid}.txt`,r=z(i,"utf-8"),n=JSON.parse(r);t.adDatas[a.aid]=n}catch{}},aE=function(e){var t,a=24*e*3600*1e3,i=(null===(t=uy(this).adInfos)||void 0===t?void 0:t.lastSaveTime)||0;return!!i&&Date.now()-i>=a},iE=function(e){var t=uy(this),a={dest:1};return"video"===e&&(a.showPoster=!0),t.showExtend&&(a.independent=!0),a};class rE extends dy{constructor(){super(),this.twoTimeoutRejectPromise=(e,t,a)=>{var i=uy(this);return Promise.race([e,new Promise(((e,r)=>{setTimeout((()=>{i.localSelectSuccess||r(q.fm)}),t),setTimeout((()=>{i.localSelectSuccess&&r(q.fm)}),a)}))])};var e=uy(this);e.canShowed=!1,e.today=C(),e.countTimer=null,e.componentsRenderred=!1,e.isShowed=!1,e.firstInserted=!1,e.adFeedbackInserted=!1,e.isDynamic=!1,e.isShowedExposureReported=!1,e.startExposureTime=0,e.isViewableExposureReported=!1,e.clickCount=0,e.lastLandingTime=0,e.lastJsapiName="",e.lastJsapiStatus=0,e.lastJsapiCostTime=0,e.isLandingPage=!1,e.landingPageCostTime=0,e.hideTime=0,e.hideDuration=0,e.showSplashAdStatus="unknown",e.localSelectSuccess=!1,e.fetchType="",e.isClosing=!1,e.isClosed=!1,e.isShowCloseTip=!1,e.clickFirstGradeTime=0,e.videoStopType=qs,e.eventsMap={},e.source="",e.fetchSource="",e.crtOrientation="portrait",e.adType="splashAd",e.adProxy=new Q_({adUnitId:"",adType:e.adType}),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null,e.adFileCheckResult={},e.isSplashadExtendShow=!1,e.isMulti=!1,n("onSplashAdButtonClicked",(t=>{"close"===t.buttonType&&"launch"===t.source?(uA.call(this,10),yA.call(this,["countTimer"]),mA.call(this,{},!0,Jy)):"close"===t.buttonType&&"menu"===t.source?uA.call(this,14):"back"!==t.buttonType||"menu"!==t.source||e.isLandingPage?"menu"===t.buttonType&&cA.call(this,1):uA.call(this,15)})),function(e){n("onSplashAdWillLayout",e)}((t=>{if(t.menuViewFrame&&("launch"===t.source?(by=t.menuViewFrame.y||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&by&&e.tplComponent.emitComponentEvent(Be,{countdownTop:by})):"menu"===t.source&&(Iy=t.menuViewFrame.height||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&Iy&&e.tplComponent.emitComponentEvent(Be,{navHeight:Iy,menuHeight:172-Iy})),v.cj&&e.firstInserted&&!e.adFeedbackInserted))try{QA.call(this)}catch(t){f.default.onReady((()=>{e.adProxy.reportAdMonitorData(Mt.iosThirdInsertFail,{source:e.source,msg:t})}))}})),function(e){n("onSplashAdShow",e)}((()=>{e.adProxy.setTimePoint("p5"),"launch"!==e.source||e.isDynamic||($A.call(this),xA.call(this)),jA.call(this),zA.call(this),e.hideTime>0&&(e.hideDuration=+new Date-e.hideTime),e.isShowedExposureReported||vA.call(this),"launch"!==e.source||e.countTimer||e.showExtend||SA.call(this),e.isLandingPage&&(e.isLandingPage=!1)})),function(e){n("onSplashAdHide",e)}((()=>{e.hideTime=+new Date,yA.call(this,["countTimer"]),e.countTimer=null})),function(e){n("onSplashAdClose",e)}((()=>{var t,a,i,r,n;Dy||(Dy=!0),v.cj&&e.startExposureTime>0&&+new Date-e.startExposureTime>1e3&&vA.call(this,!0);try{e.countTimer||e.adProxy.reportAdMonitorData(Mt.CLOSE_COUNTDOWN_FAIL);var o=Mt.CLOSE_SHOWAD_UNKNOWN;"success"===e.showSplashAdStatus?o=Mt.CLOSE_SHOWAD_SUCCESS:"fail"===e.showSplashAdStatus&&(o=Mt.CLOSE_SHOWAD_FAIL),"launch"===e.source&&e.adProxy.reportAdMonitorData(o)}catch(e){}IA.call(this);var{showInfo:s}=e,l=null==e||null===(t=e.data)||void 0===t?void 0:t.adDynamicList;null!=e&&null!==(a=e.data)&&void 0!==a&&a.template&&(l=e.data.template);var d=null===(i=l)||void 0===i||null===(r=i.options)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.useExtendShow;if(!e.showExtend&&12===e.closeType&&d&&v.cj)return e.showExtend=!0,PA.call(this),this.showDetailV2(s)}))}otherAdsEmitFetch(){wA.call(this)}show(e){var t=this;return d()((function*(){var a;Oy=!0;var i=uy(t);if("false"===(null==e?void 0:e.isShowSplashAd))return f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.PATH_NOT_SHOW,null==e?void 0:e.isShowSplashAd)})),KA.call(t,e,{},{},"PATH_NOT_SHOW");if(i.adProxy.instanceId=e.instanceId,i.adProxy.showInfo=e,i.showInfo=e,!v.DD&&(v.wZ&&(f.default.clientVersion>=671095864&&f.default.clientVersion<=671095903||f.default.clientVersion>=671096064)||v.cj&&f.default.clientVersion>=402660898))try{vy({experimentType:"opConfig",success:e=>{var t,a,r;null==e||null===(t=e.opConfig)||void 0===t||null===(a=t.expt_info)||void 0===a||null===(r=a.expt_param_list)||void 0===r||r.forEach((e=>{var t,a;((null==e?void 0:e.param_name)===Hy||null!=e&&null!==(t=e.param_name)&&void 0!==t&&t.startsWith("wx_wxapp_expt")||null!=e&&null!==(a=e.param_name)&&void 0!==a&&a.startsWith("wx_wxapp_expt_ad"))&&(f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.GET_WETEST_CONFIG_SUCCESS,{key:null==e?void 0:e.param_name,value:null==e?void 0:e.param_value})})),"1"===(null==e?void 0:e.param_value)&&(Vy=!0),"0"===(null==e?void 0:e.param_value)&&(Vy=!1))}))},fail:e=>{i.adProxy.reportAdMonitorData(Mt.GET_WETEST_CONFIG_FAIL,e)}})}catch(e){i.adProxy.reportAdMonitorData(Mt.GET_WETEST_CONFIG_FAIL,e)}i.adProxy.scene=e.scene,i.adProxy.setTimePoint("p14");var r=i.adProxy.getTimePoint("p14");if(f.default.onReady((()=>{setTimeout((()=>{var t="launch"===e.source?Mt.launchAcceptShouldShow:Mt.menuAcceptShouldShow;i.adProxy.reportAdMonitorData(t)}),zy);var t=py([Hy]);"0"===t[Hy]&&(Vy=!1),"1"===t[Hy]&&i.adProxy.reportAdMonitorData(Mt.EXP_SHOW)})),"launch"!==e.source)return PA.call(t),t.showDetailV2(e);if(v.wZ&&f.default.clientVersion>=671092224&&f.default.clientVersion<=671092533)setTimeout((()=>{i.adFetchResult=bA.call(t).catch((()=>{}))}),3e3);else{var n,o,s={weappEnterScene:e.scene},l={};if(null!==(n=i.showInfo)&&void 0!==n&&n.hotStartABTestInfo)s.weappExptCtx=[null===(o=i.showInfo)||void 0===o?void 0:o.hotStartABTestInfo];f.default.onReady((()=>{setTimeout((()=>{i.adFetchResult=bA.call(t,l,s).then((()=>GA.call(t))).catch((()=>{}))}),3e3)}))}var d={};try{if(v.DD)throw new Error("not support");var u=z(jy,"utf-8");d.adInfos=u||{},i.adInfos=JSON.parse(u)}catch(e){i.adInfos={},d.errMsg=i.adProxy.processStackMsg(e),d.fileName=jy}var c=()=>{var e;if(v.cj)return i.adInfos.optimizationV1IOSTimeout||850;var{envPreloadType:t}=f.default,a=1500;0===t&&v.wZ&&(a=3e3);var{instanceId:r}=i.showInfo,n=null==r||null===(e=r.split("_"))||void 0===e?void 0:e[1];return n?a-(Date.now()-n)-120:a-300},p=(null===(a=i.adInfos)||void 0===a?void 0:a.outedDateIntervals)||7;if(0===Object.keys(i.adInfos).length||aE.call(t,p)||v.DD)xy=1e4,Sy=Wt.NO_ADINFOS,i.fetchType=iA,i.fetchSource=Qy,i.adProxy.fetchSource=Xy[Qy],f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.FETCH_BEGIN,{fetchType:i.fetchType})})),t.showAdByRealtimeFetch(e,r),PA.call(t);else{i.adProxy.splashExpCondition=i.adInfos.expCondition,i.fetchType=rA;var h=i.adInfos.ads||[];2===i.showInfo.displayMode?tE.call(t,h):setTimeout((()=>tE.call(t,h)),50),xy=5e4;var m=v.wZ?1500:1e3,_=v.wZ?1200:900,g=m-(Date.now()-r)-150;i.adInfos.onlineFetchTimeout&&(_=g=m-(Date.now()-r)-i.adInfos.onlineFetchTimeout);var y,A,E=!1,C=c.call(t);g=C,_=C,C<400&&(E=!0),2===i.showInfo.displayMode&&(E=!0),E||(y=JA.call(t,e,r)),E||(A=XA.call(t,e)),f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.FETCH_BEGIN,{fetchType:i.fetchType})}));var T=(0,q.YB)(A,g).catch((e=>{throw e===q.fm&&f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.CHECK_AD_TIMEOUT,{localSelect:i.localSelectSuccess})})),e})),I=(0,q.YB)(y,_).catch((e=>{throw e===q.fm&&f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.ONLINE_AD_TIMEOUT,{localSelect:i.localSelectSuccess})})),e}));if(i.adInfos.newTimeout){var b=c.call(t);T=t.twoTimeoutRejectPromise(A,g,b).catch((e=>{throw e===q.fm&&f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.CHECK_AD_TIMEOUT)})),e})),I=t.twoTimeoutRejectPromise(y,g,b).catch((e=>{throw e===q.fm&&f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.ONLINE_AD_TIMEOUT)})),e}))}var w=[];w.push(I),w.push(T);var k,S="none"!==e.networkType;(S||E)&&(k=eE.call(t,r),w.push(k));var x=LA(w);S&&E&&(x=k),PA.call(t),i.adInfos.ads.forEach((e=>{var{aid:a}=e;try{t.checkLocalAdFile(a,!1),i.adFileCheckResult[a]=!0}catch(e){i.adFileCheckResult[a]=!1}})),yield x.then((a=>{f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.FETCH_SUCCESS,{...a,localSelect:i.localSelectSuccess})})),i.fetchSource=a.source,i.adProxy.fetchSource=Xy[a.source],xy=Ky[a.source],t.showDetailV2(e,a,a.source)})).catch((a=>{var r={startInit:i.adProxy.getTimePoint("p14"),startFetchTime:i.adProxy.getTimePoint("p15"),fetchCallbackTime:i.adProxy.getTimePoint("p16")};return KA.call(t,e,{adInfos:i.adInfos,checkAdStatus:a},r,"NO_AID")}))}try{var P,D=(null===(P=i.adInfos)||void 0===P?void 0:P.deviceInfo)||{};i.adProxy.setDeviceInfo(D)}catch(e){}}))()}showAdByRealtimeFetch(e,t,a=[]){var i,r,n=uy(this),o={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:sy,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:v.cj,isAndroid:v.wZ,adNetworkType:e.networkType},s={weappEnterScene:e.scene,requestType:2,preloadAds:a};null!==(i=n.showInfo)&&void 0!==i&&i.hotStartABTestInfo&&(s.weappExptCtx=[null===(r=n.showInfo)||void 0===r?void 0:r.hotStartABTestInfo]);return n.adProxy.setTimePoint("p15"),f.default.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(Mt.ONLINE_AD_BEGIN,{fetchType:n.fetchType}),n.adProxy.reportAdMonitorData(Mt.START_CHECK_AD_STATUS)}),zy)})),bA.call(this,o,s).then((t=>{f.default.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(Mt.ONLINE_AD_SUCCESS,{fetchType:n.fetchType}),n.adProxy.reportAdMonitorData(Mt.CHECK_AD_STATUS_SUCCESS),null!=t&&t.aid&&n.adProxy.reportAdMonitorData(Mt.ONLINE_AD_RESULT_SUCCESS,{fetchType:n.fetchType})}),zy)})),n.adProxy.setTimePoint("p16"),"fetch"===n.adProxy.lastAdRespone&&(n.isCheckAdRequest=!1,n.data=t,n.adProxy.data=t,xy=1e4===xy?1e4:3e4),f.default.onReady((()=>{var e=Number(t.aid);0!==e&&n.adProxy.reportAdMonitorData(Mt.FETCH_SUCCESS,{aid:e,source:Qy})})),this.showDetailV2(e,{aid:Number(t.aid)},Qy)})).catch((a=>(n.adProxy.setTimePoint("p16"),n.adProxy.reportAdMonitorData(Mt.ONLINE_AD_FAIL),KA.call(this,e,{msg:a},{startInit:t},"CHECK_AD_STATUS_ERROR"))))}getLocalSelectAid(){var e,t,a,i=null===(e=uy(this).adInfos)||void 0===e||null===(t=e.ads)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.aid;return!(!i||0===Number(i))&&Number(i)}checkLocalAdFile(e,t=!0){var a,i,r,n=uy(this),o=[],s=e?null==n||null===(a=n.adInfos)||void 0===a?void 0:a.materialHashMap[e]:"",l=`${Ot}/${e}.txt`;if(o.push(l),t)if(aA.includes(null==n||null===(i=n.adInfos)||void 0===i||null===(r=i.crtSize)||void 0===r?void 0:r[e]))Ny=`${Ot}/${e}_${s}.mp4`,My=`${Ot}/${e}_${s}_thumb.png`,o.push(Ny),o.push(My);else{var d=`${Ot}/${e}_${s}.png`;o.push(d)}o.forEach((e=>{Q(e)}))}callShowSplashAd({aid:e,reportTimer:t,source:a}){var i=uy(this);"pending"!==i.showSplashAdStatus&&(i.showSplashAdStatus="pending",F({showMenu:!0,show:!0,errCode:Sy+xy,adCallTime:i.adProxy.getTimePoint("p17"),eventReceivedTime:t.startInit,cgiFetchStart:t.startFetchTime,cgiFetchCallBack:t.fetchCallbackTime,success:()=>{i.showSplashAdStatus="success",i.adProxy.setTimePoint("p18"),f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.launchShowSplashAdSuccess),i.adProxy.reportAdMonitorData(Zy[a],{fetchType:i.fetchType})}))},fail:t=>{i.showSplashAdStatus="fail",i.adProxy.setTimePoint("p18"),f.default.onReady((()=>{i.adProxy.reportAdMonitorData(Mt.showSplashAdFail,{adInfos:i.adInfos,checkAdStatus:e,msg:t})})),IA.call(this)}}))}setMaterialSouce({source:e,aid:t}){var a,i,r,n,o,s,l,d,u,c,p,h,f,v,m=uy(this),_=t?null==m||null===(a=m.adInfos)||void 0===a||null===(i=a.materialHashMap)||void 0===i?void 0:i[t]:"",g=kA.call(this),y=(null===(r=m.data.crtInfo)||void 0===r?void 0:r.length)||1;switch(e){case $y:case Yy:Ly=`${Ot}/${t}.txt`,Ry=`${Ot}/${t}_${_}.png`,Uy=Array.from({length:y},((e,a)=>`${Ot}/${t}_${_}_${a}.png`)),Ny=`${Ot}/${t}_${_}.mp4`,My=`${Ot}/${t}_${_}_thumb.png`,By=`${Ot}/${t}_${_}_pure_color.png`,Fy=`${Ot}/${t}_${_}_blur.png`;break;case Qy:Ry=null===(n=m.data)||void 0===n||null===(o=n.crtInfo)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.image_url,Uy=Array.from({length:y},((e,t)=>{var a,i,r;return null===(a=m.data)||void 0===a||null===(i=a.crtInfo)||void 0===i||null===(r=i[t])||void 0===r?void 0:r.image_url})),By=g.pure_color_url,Ny=null===(l=m.data)||void 0===l||null===(d=l.crtInfo)||void 0===d||null===(u=d[0])||void 0===u||null===(c=u.short_video)||void 0===c?void 0:c.video_url,My=null===(p=m.data)||void 0===p||null===(h=p.crtInfo)||void 0===h||null===(f=h[0])||void 0===f||null===(v=f.short_video)||void 0===v?void 0:v.thumb_url,Fy=g.material_blur_url;break;default:Ly=`${Ot}/${t}.txt`,Ry=`${Ot}/${t}_${_}.png`,Uy=Array.from({length:y},((e,a)=>`${Ot}/${t}_${_}_${a}.png`)),By=`${Ot}/${t}_${_}_pure_color.png`,Fy=`${Ot}/${t}_${_}_blur.png`}}showDetailV2(e,t={aid:0},a){var i,r,n,o=uy(this),s={startInit:o.adProxy.getTimePoint("p14"),startFetchTime:o.adProxy.getTimePoint("p15"),fetchCallbackTime:o.adProxy.getTimePoint("p16")};if(!Vy)return KA.call(this,e,{adInfos:o.adInfos,checkAdStatus:t},s,"EXP_NOT_SHOW");var{aid:l}=t;if(!("launch"!==e.source||l&&0!==Number(l)||o.showExtend))return KA.call(this,e,{adInfos:o.adInfos,checkAdStatus:t},s,"NO_AID");switch("success"===o.showSplashAdStatus||"menu"===e.source||o.showExtend||this.callShowSplashAd({aid:null==t?void 0:t.aid,reportTimer:s,source:a}),"menu"===e.source&&cA.call(this,2),a){case Yy:if(!l||null==o||null===(i=o.adDatas)||void 0===i||!i[l])return KA.call(this,e,{adInfos:o.adInfos,checkAdStatus:t},s,"MATERIAL_NOT_READY");o.data=o.adDatas[l],o.adProxy.data=o.adDatas[l],this.setMaterialSouce({source:a,aid:l});break;case $y:if(!(l&&null!=o&&null!==(r=o.adDatas)&&void 0!==r&&r[l]&&null!==(n=o.adFileCheckResult)&&void 0!==n&&n[l]))return KA.call(this,e,{adInfos:o.adInfos,checkAdStatus:t},s,"MATERIAL_NOT_READY");o.data=o.adDatas[l],o.adProxy.data=o.adDatas[l],this.setMaterialSouce({source:a,aid:l});break;case Qy:this.setMaterialSouce({source:a,aid:l})}o.adProxy.setTimePoint("p17");try{var d,u,c;o.adProxy.setTimePoint("p4"),ZA.call(this,e),1===(null==o||null===(d=o.data)||void 0===d||null===(u=d.condition)||void 0===u?void 0:u.widget_gray_splashad_extend_show)&&(o.isSplashadExtendShow=!0);var p=AA.call(this),h=$s(null===(c=o.data)||void 0===c?void 0:c.crt_size);o.isSplashadExtendShow&&p&&!h&&(worker.postMessage({type:"splashAdCreateExtend",adData:o.data}),o.adProxy.reportAdMonitorData(Mt.WORKER_CALL_EXTEND_CREATE))}catch(t){TA.call(this,{source:e.source,animated:!1},19),EA.call(this),f.default.onReady((()=>{o.adProxy.reportAdMonitorData(Mt.firstRenderFail,{adInfos:o.adInfos,source:e.source,msg:t})}))}}}var nE,oE=i(1190),sE=_WebAssembly,lE=()=>{var e,t=3584,a=4096,i=16,r={L:{C:"t",M:"O",s:"a",P:"b",Q:"q"},H:{C:"v",M:"x",s:"D",P:"b",Q:"q"}},n=new sE.Memory({initial:1}),o=new Uint8Array(n.buffer),s=new Promise((t=>sE.instantiate((0,oE.RG)("AGFzbQEAAAAAEAhkeWxpbmsuMAEFkAQEAAABDwNgA39/fwBgAn9/AGAAAAI7AwNlbnYPX19zdGFja19wb2ludGVyA38BA2Vudg1fX21lbW9yeV9iYXNlA38AA2VudgZtZW1vcnkCAAEDERACAQEAAQEBAAEBAAAAAAAAB0EMEV9fd2FzbV9jYWxsX2N0b3JzAAABcAABAWUAAwFoAAQBdAAFAXYACAFPAAoBeAALAWEADAFEAA0BYgAOAXEADwqKKBADAAELCAAgACABEAILjAMBCX8gACABLQAAOgAAIAAgAS0AAToAASAAIAEtAAI6AAIgACABLQADOgADIAAgAS0ABDoABCAAIAEtAAU6AAUgACABLQAGOgAGIAAgAS0ABzoAByAAIAEtAAg6AAggACABLQAJOgAJIAAgAS0ACjoACiAAIAEtAAs6AAsgACABLQAMOgAMIAAgAS0ADToADSAAIAEtAA46AA4gACABLQAPOgAPQQQhAwNAIANBAnQiBSAAaiICQQFrLQAAIQQgAkECay0AACEHIAJBA2stAAAhBiACQQRrLQAAIQgCfyADQQNxBEAgBCEJIAghCiAHDAELIwEiAUGAAmogA0ECdmotAAAgASAGai0AAHMhCiABIAhqLQAAIQkgASAHai0AACEGIAEgBGotAAALIQQgAiACQRBrLQAAIApzOgAAIAAgBUEBcmogAkEPay0AACAGczoAACAAIAVBAnJqIAJBDmstAAAgBHM6AAAgACAFQQNyaiACQQ1rLQAAIAlzOgAAIANBAWoiA0EsRw0ACwseACAAIAEQAiAAIAIpAAg3ALgBIAAgAikAADcAsAELGAAgACABKQAANwCwASAAIAEpAAg3ALgBCwgAIAEgABAGC70JARt/QQAgACABEAdBASEWA0AgACMBIgIgAC0AAGotAAAiEToAACAAIAIgAC0ABGotAAAiEjoABCAAIAIgAC0ACGotAAAiEzoACCAAIAIgAC0ADGotAAAiFDoADCAALQABIQMgACACIAAtAAVqLQAAIhU6AAEgAC0AAyEQIAAtAAchBCAALQAPIQYgAC0ACyEFIAAtAA4hCSAALQAGIQogAC0ACiELIAAtAAIhDCAALQAJIQ0gAC0ADSEOIAAgAiADai0AACIPOgANIAAgAiAOai0AACIOOgAJIAAgAiANai0AACINOgAFIAAgAiAMai0AACIMOgAKIAAgAiALai0AACILOgACIAAgAiAKai0AACIKOgAOIAAgAiAJai0AACIJOgAGIAAgAiAFai0AACIDOgAPIAAgAiAGai0AACIGOgADIAAgAiAEai0AACIEOgALIAAgAiAQai0AACICOgAHIBZB/wFxIhhBCkZFBEAgACAKIA8gFHMiEHMiGSADIBRzIgVBAXRzIAVBGHRBGHVBB3ZBG3FzOgAPIAAgAyAQcyADIApzIgVBAXRzIAVBGHRBGHVBB3ZBG3FzOgAOIAAgDCAOIBNzIgVzIhogBCATcyIHQQF0cyAHQRh0QRh1QQd2QRtxczoACyAAIAQgBXMgBCAMcyIHQQF0cyAHQRh0QRh1QQd2QRtxczoACiAAIAkgDSAScyIHcyIbIAIgEnMiCEEBdHMgCEEYdEEYdUEHdkEbcXM6AAcgACACIAdzIAIgCXMiCEEBdHMgCEEYdEEYdUEHdkEbcXM6AAYgACALIBEgFXMiCHMiHCAGIBFzIhdBAXRzIBdBGHRBGHVBB3ZBG3FzOgADIAAgBiAIcyAGIAtzIhdBAXRzIBdBGHRBGHVBB3ZBG3FzOgACIAAgAyAZcyIDIA8gCiAPcyIPQQF0cyAPQRh0QRh1QQd2QRtxc3M6AA0gACAQQRh0QRh1QQd2QRtxIBBBAXQgFHNzIANzOgAMIAAgBCAacyIDIAwgDnMiBEEBdCAOcyAEQRh0QRh1QQd2QRtxc3M6AAkgACAFQRh0QRh1QQd2QRtxIAVBAXQgE3NzIANzOgAIIAAgAiAbcyICIAkgDXMiA0EBdCANcyADQRh0QRh1QQd2QRtxc3M6AAUgACAHQRh0QRh1QQd2QRtxIAdBAXQgEnNzIAJzOgAEIAAgBiAccyICIAsgFXMiA0EBdCAVcyADQRh0QRh1QQd2QRtxc3M6AAEgACAIQRh0QRh1QQd2QRtxIAhBAXQgEXNzIAJzOgAAIBggACABEAcgFkEBaiEWDAELCyAAIAEtAKABIBFzOgAAIAAgAS0AoQEgFXM6AAEgACABLQCiASALczoAAiAAIAEtAKMBIAZzOgADIAAgAS0ApAEgEnM6AAQgACABLQClASANczoABSAAIAEtAKYBIAlzOgAGIAAgAS0ApwEgAnM6AAcgACABLQCoASATczoACCAAIAEtAKkBIA5zOgAJIAAgAS0AqgEgDHM6AAogACABLQCrASAEczoACyAAIAEtAKwBIBRzOgAMIAAgAS0ArQEgD3M6AA0gACABLQCuASAKczoADiAAIAEtAK8BIANzOgAPC4oCACABIAEtAAAgAiAAQQR0aiIALQAAczoAACABIAEtAAEgAC0AAXM6AAEgASABLQACIAAtAAJzOgACIAEgAS0AAyAALQADczoAAyABIAEtAAQgAC0ABHM6AAQgASABLQAFIAAtAAVzOgAFIAEgAS0ABiAALQAGczoABiABIAEtAAcgAC0AB3M6AAcgASABLQAIIAAtAAhzOgAIIAEgAS0ACSAALQAJczoACSABIAEtAAogAC0ACnM6AAogASABLQALIAAtAAtzOgALIAEgAS0ADCAALQAMczoADCABIAEtAA0gAC0ADXM6AA0gASABLQAOIAAtAA5zOgAOIAEgAS0ADyAALQAPczoADwsIACABIAAQCQv8BQETf0EKIAAgARAHQQkhDwNAIAAjAUGQAmoiAiAALQAAai0AADoAACAAIAIgAC0ABGotAAA6AAQgACACIAAtAAhqLQAAOgAIIAAtAAchBCAALQALIQUgAC0ADyEGIAAtAAMhByAALQAKIQggAC0ADiEJIAAtAAIhCiAALQAGIQsgAC0ADSEMIAAtAAEhDSAALQAFIQ4gAC0ACSEDIAAgAiAALQAMai0AADoADCAAIAIgA2otAAA6AA0gACACIA5qLQAAOgAJIAAgAiANai0AADoABSAAIAIgDGotAAA6AAEgACACIAtqLQAAOgAOIAAgAiAKai0AADoACiAAIAIgCWotAAA6AAYgACACIAhqLQAAOgACIAAgAiAHai0AADoADyAAIAIgBmotAAA6AAsgACACIAVqLQAAOgAHIAAgAiAEai0AADoAAyAPQf8BcSICIAAgARAHQQAhCCACBEADQCAAIAhBAnRqIgIgAiwAAiIEQQd2QRtxIARBAXRzIgkgAiwAAyIFQQd2QRtxIAVBAXRzIgMgAiwAASIGIAIsAAAiB3NzIhQgBXNzIAdBGXRBGHVBB3ZBG3EgB0EHdkEbcSAHQQF0cyIKQQF0cyIQcyAEQRl0QRh1QQd2QRtxIAlBAXRzIhFzIApBGXRBGHVBB3ZBG3EgEEEBdHMiC3MgBkEHdkEbcSAGQQF0cyIMQRl0QRh1QQd2QRtxIAZBGXRBGHVBB3ZBG3EgDEEBdHMiEkEBdHMiDXMgCUEZdEEYdUEHdkEbcSARQQF0cyIOcyADQRl0QRh1QQd2QRtxIAVBGXRBGHVBB3ZBG3EgA0EBdHMiE0EBdHMiA3M6AAIgAiAFIAQgBnMgCnNzIAxzIBBzIBFzIAtzIA1zIA5zIANzOgAAIAIgBCAUcyAKcyAScyALcyATcyANcyAOcyADczoAAyACIAUgBCAHc3MgDHMgCXMgEnMgC3MgE3MgDXMgDnMgA3M6AAEgCEEBaiIIQQRHDQALIA9BAWshDwwBCwsLzQIBBH8gAEGwAWoiBSEDIAIEQCAFIQQDQCABIgMgAy0AACAELQAAczoAACADIAMtAAEgBC0AAXM6AAEgAyADLQACIAQtAAJzOgACIAMgAy0AAyAELQADczoAAyADIAMtAAQgBC0ABHM6AAQgAyADLQAFIAQtAAVzOgAFIAMgAy0ABiAELQAGczoABiADIAMtAAcgBC0AB3M6AAcgAyADLQAIIAQtAAhzOgAIIAMgAy0ACSAELQAJczoACSADIAMtAAogBC0ACnM6AAogAyADLQALIAQtAAtzOgALIAMgAy0ADCAELQAMczoADCADIAMtAA0gBC0ADXM6AA0gAyADLQAOIAQtAA5zOgAOIAMgAy0ADyAELQAPczoADyADIAAQBiADQRBqIQEgAyEEIAZBEGoiBiACSQ0ACwsgBSADKQAANwAAIAUgAykACDcACAvyAgECfyMAQRBrIgMkACACBEADQCADIAEpAAA3AwAgAyABQQhqKQAANwMIIAEgABAJIAEgAS0AACAALQCwAXM6AAAgASABLQABIAAtALEBczoAASABIAEtAAIgAC0AsgFzOgACIAEgAS0AAyAALQCzAXM6AAMgASABLQAEIAAtALQBczoABCABIAEtAAUgAC0AtQFzOgAFIAEgAS0ABiAALQC2AXM6AAYgASABLQAHIAAtALcBczoAByABIAEtAAggAC0AuAFzOgAIIAEgAS0ACSAALQC5AXM6AAkgASABLQAKIAAtALoBczoACiABIAEtAAsgAC0AuwFzOgALIAEgAS0ADCAALQC8AXM6AAwgASABLQANIAAtAL0BczoADSABIAEtAA4gAC0AvgFzOgAOIAEgAS0ADyAALQC/AXM6AA8gACADKQMINwC4ASAAIAMpAwA3ALABIAFBEGohASAEQRBqIgQgAkkNAAsLIANBEGokAAvUAgECfyACBEAgAEGwAWohAwNAIAMgABAGIAEgAS0AACAALQCwAXM6AAAgASABLQABIAAtALEBczoAASABIAEtAAIgAC0AsgFzOgACIAEgAS0AAyAALQCzAXM6AAMgASABLQAEIAAtALQBczoABCABIAEtAAUgAC0AtQFzOgAFIAEgAS0ABiAALQC2AXM6AAYgASABLQAHIAAtALcBczoAByABQQhqIAEtAAggAC0AuAFzOgAAIAEgAS0ACSAALQC5AXM6AAkgASABLQAKIAAtALoBczoACiABIAEtAAsgAC0AuwFzOgALIAEgAS0ADCAALQC8AXM6AAwgASABLQANIAAtAL0BczoADSABIAEtAA4gAC0AvgFzOgAOIAEgAS0ADyAALQC/AXM6AA8gAyABKQAINwAIIAMgASkAADcAACABQRBqIQEgBEEQaiIEIAJJDQALCwv4AgEDfyMAQRBrIgMkACACBEAgAEGwAWohBANAIAMgASkAADcDACADIAFBCGopAAA3AwggBCAAEAYgASABLQAAIAAtALABczoAACABIAEtAAEgAC0AsQFzOgABIAEgAS0AAiAALQCyAXM6AAIgASABLQADIAAtALMBczoAAyABIAEtAAQgAC0AtAFzOgAEIAEgAS0ABSAALQC1AXM6AAUgASABLQAGIAAtALYBczoABiABIAEtAAcgAC0AtwFzOgAHIAEgAS0ACCAALQC4AXM6AAggASABLQAJIAAtALkBczoACSABIAEtAAogAC0AugFzOgAKIAEgAS0ACyAALQC7AXM6AAsgASABLQAMIAAtALwBczoADCABIAEtAA0gAC0AvQFzOgANIAEgAS0ADiAALQC+AXM6AA4gASABLQAPIAAtAL8BczoADyAEIAMpAwg3AAggBCADKQMANwAAIAFBEGohASAFQRBqIgUgAkkNAAsLIANBEGokAAu9AgECfyACBEAgAEGwAWohBANAIAQgABAGIAEgAS0AACAALQCwAXM6AAAgASABLQABIAAtALEBczoAASABIAEtAAIgAC0AsgFzOgACIAEgAS0AAyAALQCzAXM6AAMgASABLQAEIAAtALQBczoABCABIAEtAAUgAC0AtQFzOgAFIAEgAS0ABiAALQC2AXM6AAYgASABLQAHIAAtALcBczoAByABIAEtAAggAC0AuAFzOgAIIAEgAS0ACSAALQC5AXM6AAkgASABLQAKIAAtALoBczoACiABIAEtAAsgAC0AuwFzOgALIAEgAS0ADCAALQC8AXM6AAwgASABLQANIAAtAL0BczoADSABIAEtAA4gAC0AvgFzOgAOIAEgAS0ADyAALQC/AXM6AA8gAUEQaiEBIANBEGoiAyACSQ0ACwsLhwUBFH8jAEEQayIFJAAgAgRAIABBsQFqIQcgAEGyAWohCCAAQbMBaiEJIABBtAFqIQogAEG1AWohCyAAQbYBaiEMIABBtwFqIQ0gAEG4AWohDiAAQbkBaiEPIABBugFqIRAgAEG7AWohESAAQbwBaiESIABBvQFqIRMgAEG+AWohFCAAQb8BaiEWIABBsAFqIQZBECEDA0ACQCADQRBHDQAgBSAGKQAANwMAIAUgBikACDcDCCAFIAAQBiAWIQQCQCAALQC/ASIDQf8BRw0AIBZBADoAACAUIQQgFC0AACIDQf8BRw0AIBRBADoAACATIQQgEy0AACIDQf8BRw0AIBNBADoAACASIQQgEi0AACIDQf8BRw0AIBJBADoAACARIQQgES0AACIDQf8BRw0AIBFBADoAACAQIQQgEC0AACIDQf8BRw0AIBBBADoAACAPIQQgDy0AACIDQf8BRw0AIA9BADoAACAOIQQgDi0AACIDQf8BRw0AIA5BADoAACANIQQgDS0AACIDQf8BRw0AIA1BADoAACAMIQQgDC0AACIDQf8BRw0AIAxBADoAACALIQQgCy0AACIDQf8BRw0AIAtBADoAACAKIQQgCi0AACIDQf8BRw0AIApBADoAACAJIQQgCS0AACIDQf8BRw0AIAlBADoAACAIIQQgCC0AACIDQf8BRw0AIAhBADoAACAHIQQgBy0AACIDQf8BRw0AIAdBADoAACAGIQQgBi0AACIDQf8BRw0AQQAhAyAGQQA6AAAMAQsgBCADQQFqOgAAQQAhAwsgASAVaiIEIAMgBWotAAAgBC0AAHM6AAAgA0EBaiEDIBVBAWoiFSACRw0ACwsgBUEQaiQACwuXBAEAIwELkARjfHd78mtvxTABZyv+16t2yoLJffpZR/Ct1KKvnKRywLf9kyY2P/fMNKXl8XHYMRUExyPDGJYFmgcSgOLrJ7J1CYMsGhtuWqBSO9azKeMvhFPRAO0g/LFbasu+OUpMWM/Q76r7Q00zhUX5An9QPJ+oUaNAj5KdOPW8ttohEP/z0s0ME+xfl0QXxKd+PWRdGXNggU/cIiqQiEbuuBTeXgvb4DI6CkkGJFzC06xikZXkeefIN22N1U6pbFb06mV6rgi6eCUuHKa0xujddB9LvYuKcD61ZkgD9g5hNVe5hsEdnuH4mBFp2Y6Umx6H6c5VKN+MoYkNv+ZCaEGZLQ+wVLsWjQECBAgQIECAGzYAAAAAAFIJatUwNqU4v0CjnoHz1/t84zmCmy//hzSOQ0TE3unLVHuUMqbCIz3uTJULQvrDTgguoWYo2SSydluiSW2L0SVy+PZkhmiYFtSkXMxdZbaSbHBIUP3tudpeFUZXp42dhJDYqwCMvNMK9+RYBbizRQbQLB6Pyj8PAsGvvQMBE4prOpERQU9n3OqX8s/O8LTmc5asdCLnrTWF4vk36Bx1325H8RpxHSnFiW+3Yg6qGL4b/FY+S8bSeSCa28D+eM1a9B/dqDOIB8cxsRIQWSeA7F9gUX+pGbVKDS3lep+TyZzvoOA7Ta4q9bDI67s8g1OZYRcrBH66d9Ym4WkUY1UhDH0="),{env:{memory:n,__memory_base:0,__stack_pointer:new sE.Global({mutable:!0,value:"i32"},3584)}}).then((a=>{e=a.instance.exports,t()}))));class l{constructor(e=null,t=null){this._key=e,this._iv=t}crypt(n,s,l,d=this._key,u=this._iv){if(("C"===s||"M"===s)&&l.length%i)throw new Error("Buffer length must be evenly divisible by 16 in ECB/CBC mode");if(!(s in r[n]))throw new Error("Invalid mode");if(16!==d.length)throw new Error("Key length must be 16");if("C"!==s&&u.length!==i)throw new Error("IV length must be 16");var c=e[r[n][s]];((e,a,i)=>{o.set(a,3776),i&&o.set(i,3760),e(t,3776,3760)})(e["C"===s?"p":"e"],d,u);for(var p=new Uint8Array(l.length),h=0;h<l.length;){var f="C"===s?i:Math.min(l.length-h,61440);o.set(l.subarray(h,h+f),a),c(t,a,f),p.set(o.subarray(a,a+f),h),h+=f}return p}encrypt(e,t,a,i){return this.crypt("L",e,t,a,i)}decrypt(e,t,a,i){return this.crypt("H",e,t,a,i)}}return l.MODE_ECB="C",l.MODE_CBC="M",l.MODE_CFB="s",l.MODE_OFB="P",l.MODE_CTR="Q",s.then((()=>l))},dE=()=>(nE||(nE=lE()),nE);function uE(e,t,a){return e=(e=>{var t=17+~(15&e.length),a=e.length+t,i=new Uint8Array(a);i.set(e,0);for(var r=e.length;r<a;r++)i[r]=t;return i})(e),dE().then((i=>(new i).encrypt(i.MODE_CBC,e,t,a)))}var cE=function(e,t){var a=e+"",i=a.length,r=t?+t:0;if(r!=r&&(r=0),!(0>r||r>=i)){var n,o=a.charCodeAt(r);return 55296<=o&&56319>=o&&i>r+1&&(56320<=(n=a.charCodeAt(r+1))&&57343>=n)?1024*(o-55296)+n-56320+65536:o}},pE=function(){var e,t,a,i=[],r=-1,n=arguments.length;if(!n)return"";for(var o="";++r<n;){if(a=+arguments[r],!isFinite(a)||0>a||1114111<a||Math.floor(a)!=a)throw RangeError("Invalid code point: "+a);65535>=a?i.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,i.push(e,t)),(r+1==n||i.length>16384)&&(o+=String.fromCharCode.apply(null,i),i.length=0)}return o};function hE(e,t=0){var a,i=0,r=t,n=e.length?(e=>{if("string"!=typeof e||0===e.length)return 0;for(var t,a=0,i=0;i<e.length;i++)if(!((t=e.codePointAt(i))>55295&&t<57344))if(t<128)a++;else if(t<2048)a+=2;else if(t<65536)a+=3;else{if(!(t<1114112))throw new Error("Invalid char code");a+=4}return a})(e):0,o=t+n,s=new Uint8Array(o>=0?o:0);if(0===n||-1!==n&&0===s.length)return s;for(;i<e.length;i++)if(!((a=cE(e,i))>55295&&a<57344||r<0))if(a<128)s[r++]=a;else if(a<2048)s[r++]=a>>6|192,s[r++]=63&a|128;else if(a<65536)s[r++]=a>>12|224,s[r++]=a>>6&63|128,s[r++]=63&a|128;else{if(!(a<1114112))throw new Error("Invalid char code");s[r++]=a>>18|240,s[r++]=a>>12&63|128,s[r++]=a>>6&63|128,s[r++]=63&a|128}return s}var fE=i(6142),vE=new Map,mE=(e,t,a)=>{worker.postMessage({cmd:"callback",callbackId:e,data:{result:t,errMsg:a}})};worker.onMessage((e=>{var t,{data:a,callbackId:i,cmd:r}=e;try{var n=vE.get(r);"function"==typeof n&&(t=n(a))}catch(e){mE(i,void 0,e.message)}(0,fE.tI)(t)?t.then((e=>{mE(i,e)})).catch((e=>{mE(i,void 0,e.message)})):mE(i,t)}));var _E=(e,t)=>{vE.set(e,t)},gE=e=>e.key?e.key+"."+e.val:"STR_"+e.val,yE=e=>{var t=e.rules.map((e=>(e=>{var t=gE(e);return{key:"userCustom:"+t,type:"Pat",url:e.url,test:{test:e.key,flag:e.flag||""},withRely:[{key:"userCustomWR:"+t+"_val",type:"Pat",test:{test:e.val,flag:e.flag||""}}]}})(e))),a=e.strRules.map((e=>(e=>{var t;return{key:"userCustom:"+("string"!=typeof e?gE(e):"STR_"+e),type:"Pat",url:null==e?void 0:e.url,test:{test:"string"==typeof e?e:e.val,flag:"string"==typeof e?"i":null!==(t=e.flag)&&void 0!==t?t:"i"}}})(e))),i={};return Object.keys(e.priority).forEach((t=>{i["userCustom:"+t]=e.priority[t]})),{object:{conditions:t},string:{conditions:a},priorities:i,schemaVersion:"9.9.99"}},AE=.0329,EE="__return_true",CE=e=>`__return_resolve_${e}`,TE=e=>{if("string"==typeof e){if(e.startsWith("[")||e.startsWith("{"))try{e=JSON.parse(e)}catch(e){}return e}return e},IE=e=>{try{return e.map((e=>e.join(".")))}catch(e){return[]}};const bE=class{constructor(e,t){this.prunePointKV=e=>e.map((e=>this.pruneOriginData(e).data)),"string"==typeof e&&(e=JSON.parse(e)),"[object Object]"!==Object.prototype.toString.call(e)&&(e={object:{},string:{}}),this.objectSchema=e.object,this.stringSchema=e.string,this.schema=e,this.preHandleSchema({appId:t}),this.priorities=e.priorities||{}}getSchema(){return this.schema}getSchemaVersion(){return this.schema.schemaVersion}preHandleSchema(e={}){var{appId:t}=e,a=e=>{Array.isArray(e)&&e.forEach(((i,r)=>{if((e=>e.if||e.test)(i)){if(i.specific)if("include"===i.specific.type){if(Array.isArray(i.specific.data)&&!i.specific.data.includes(t))return void delete e[r]}else if("exclude"===i.specific.type&&Array.isArray(i.specific.data)&&i.specific.data.includes(t))return void delete e[r];[i.with,i.withRely,i.someWith,i.someWithRely].forEach((e=>{a(e)}))}}))};a(this.schema.object.conditions),a(this.schema.string.conditions)}_pruneOriginData(e,t,a={}){try{if("number"==typeof e&&(e=String(e)),"string"==typeof e)return"replace"===t.type?t.replace.reduce(((e,t)=>{var i=new RegExp(t.test,t.flag);return e.replace(i,(e=>(Array.isArray(a.point)&&a.point.push(t.tag),"$&"===t.modify?e:t.modify)))}),e):e;if("object"==typeof e&&null!==e)return Object.keys(e).forEach((i=>{if("match"===t.type)return new RegExp(t.test.test,t.test.flag).test(i)?void(t.rely?e[i]=this._pruneOriginData(e[i],t.rely,a):null!=t.replace&&(e[i]=t.replace)):void(t.deep&&(e[i]=this._pruneOriginData(e[i],t,a)));t.deep&&(e[i]=this._pruneOriginData(e[i],t,a))})),e}catch(e){return null}return null}pruneOriginData(e){var t="string"==typeof e?this.stringSchema.prunes:this.objectSchema.prunes,a={point:[]};return t&&t.length&&t.forEach((t=>{"string"==typeof e?e=this._pruneOriginData(e,t,a):this._pruneOriginData(e,t,a)})),{data:e,infos:a}}_resolvePendingCondition(e,t,a,i=[]){if(!a)return!1;if("pending"!==a.status)return"resolve"===a.status;if(i.includes(a.key))return!1;var r=!0,n=!1;for(var o of(i.push(a.key),a.peers)){var s;if(!i.includes(o.key))if("pending"===(null===(s=t[o.key])||void 0===s?void 0:s.status)){var l={...t[o.key],key:o.key},d=this._resolvePendingCondition(e,t,l,i.concat(o.key));o.not&&(d=!d),d||(r=!1)}else{var u,c,p;if(o.not)"resolve"===(null===(u=t[o.key])||void 0===u?void 0:u.status)&&(r=!1);else null!==(c=t[o.key])&&void 0!==c&&c.status&&"reject"!==(null===(p=t[o.key])||void 0===p?void 0:p.status)||(r=!1);o.resolve&&(e.push(a.push.concat(`p_${o.key}`)),n=!0)}}return i.splice(i.findIndex((e=>e===a.key)),1),t[a.key].status=n||r?"resolve":"reject",!(n||!r)&&(e.push(a.push.concat("p_a")),!0)}resolvePendingCondition(e,t){Object.entries(t).forEach((([a,i])=>{i.key=a,this._resolvePendingCondition(e,t,i,[])}))}judgeData(e,t={},a={}){var{exceptionPriorirtyThreshold:i=0}=a;t={...t};var r=[],n=[],o={};try{if((0,fE.Kn)(e)){var{conditions:s}=this.objectSchema||{};if(!s)return{error:"noObjectCondition",result:!1};Object.keys(e).forEach((a=>{var i=e[a];s.forEach((e=>{var s=e.key,l=[];t.__pointCondition=l,t.__kv=n;var d=this.resolveCondition(e,a,i,t);if(e.not&&(d=!d,s="-"+s),e.resolve){var u=!0;if("reverse"===e.resolve?d=!d:"reverse-true"===e.resolve?d?d=!d:u=!1:"reverse-false"===e.resolve?d?u=!1:d=!d:"true"!==e.resolve||d?"false"===e.resolve&&d&&(u=!1):u=!1,u)throw r.push([s].concat(l)),CE(d?"true":"false")}if(d){if(!o[s]){if(e.peers)return void(o[s]={status:"pending",peers:e.peers,push:[s].concat(l)});o[s]={status:"resolve"}}e.onlyAsRely||r.push([s].concat(l))}}))}))}else if("string"==typeof e){var{conditions:l}=this.stringSchema||{};if(!l)return{error:"noStringCondition",result:!1};l.forEach((t=>{if("Pat"===t.type){var a=!1;if(new RegExp(t.test.test,t.test.flag).test(e)&&(a=!0,t.not&&(a=!a),t.resolve)){var i=!0;if("reverse"===t.resolve?a=!a:"reverse-true"===t.resolve?a?a=!a:i=!1:"reverse-false"===t.resolve?a?i=!1:a=!a:"true"!==t.resolve||a?"false"===t.resolve&&a&&(i=!1):i=!1,i)throw r.push([t.key]),CE(a?"true":"false")}a&&r.push([t.key])}}))}}catch(e){if("string"==typeof e){var d=e.match(/__return_resolve_(.*)/);if(d)return(d="false"!==d[1])?{result:!0,point:IE(r),priority:"resolve",kvResult:this.prunePointKV(n)}:{result:!1,priority:"resolve",point:IE(r)}}}this.resolvePendingCondition(r,o);var u,c,p,h,f=(u=r,c=this.priorities,p=!1,h=IE(u).reduce(((e,t)=>{var a,i,r,n=c[(e=>{try{return e.split(".")[0]+".*"}catch(e){return""}})(t)];return(r=void 0!==n?n:"-"===t[0]?null!==(a=c[t])&&void 0!==a?a:-.5:null!==(i=c[t])&&void 0!==i?i:.5)===AE&&(p=!0),e+r}),0),h>0&&p?AE:h);return f>i?{result:!0,point:IE(r),priority:f,kvResult:this.prunePointKV(n)}:{result:!1,priority:f,point:IE(r)}}matchCondition(e,t,a={}){var{url:i}=a;if(!e||void 0===t)return null;if(i&&e.url&&!new RegExp(e.url,"i").test(i))return null;if("Pat"===e.type&&e.test)return new RegExp(e.test.test,e.test.flag).test(t);if("If"!==e.type||!e.if)return null;var r=e.if;if(r.pre)switch(r.pre){case"number":t=Number.isNaN(Number(t))&&null!==t?t:Number(t);break;case"string":t=String(t);break;case"boolean":t=!!t}switch(r.compare){case"not":return!t;case"eq":return t==r.right;case"stricteq":return t===r.right;case"gt":return t>r.right;case"gte":return t>=r.right;case"lt":return t<r.right;case"lte":return t<=r.right;case"Type":return Object.prototype.toString.call(t)===`[object ${r.right}]`;default:return!1}}resolveCondition(e,t,a,i={},{deep:r=!1,judgeWith:n=!1,prefix:o=""}={}){var s=i.url,l=i.__pointCondition||[],d=i.__kv;if(i.__pointCondition=[],void 0===t)return!1;try{if((0,fE.Kn)(t)&&(n||r)){var u=t;return Object.keys(u).forEach((t=>{if(r&&(i.__pointCondition=l),this.resolveCondition(e,t,u[t],i,{deep:r,prefix:o}))throw r||l.push(e.key),EE})),!1}var c=null;if(c=this.matchCondition(e,t,{url:s}),Array.isArray(e.withRelyResponse)&&c&&(e.withRelyResponse.every((e=>this.matchCondition(e.condition,i[e.responseKey])))||(c=!1)),e.not&&null!==c&&(c=!c),c){var p,{with:h,withRely:f,someWith:v,someWithRely:m}=e,_=!(h||f||v||m);return h?(p=h.every((e=>this.resolveCondition(e,t,a,i,{deep:!1,judgeWith:!0}))),p&&l.push("a")&&d.push({[o+`${o?".":""}${t}`]:a})):f?(p=f.every((e=>this.resolveCondition(e,a,null,i))),p&&l.push("b")&&d.push({[o+`${o?".":""}${t}`]:a})):v?p=v.some((e=>{var r=this.resolveCondition(e,t,a,i,{deep:!1,judgeWith:!0});return r&&l.push("c_"+e.key)&&d.push({[o+`${o?".":""}${t}`]:a}),r})):m&&(p=m.some((e=>{var r=this.resolveCondition(e,a,null,i);return r&&l.push("d_"+e.key)&&d.push({[o+`${o?".":""}${t}`]:a}),r}))),p||_?!0:(a=TE(a),!(!e.deep||!(0,fE.Kn)(a))&&(i.__pointCondition=l,this.resolveCondition(e,a,null,i,{deep:!0,prefix:o+`${o?".":""}${t}`})))}if((e.deep||e.thisDeep)&&(a=TE(e.deep?a:t),(0,fE.Kn)(a)))return i.__pointCondition=l,this.resolveCondition(e,a,null,i,{deep:!0,prefix:o+`${o?".":""}${e.deep?t:""}`})}catch(e){return e===EE}}};var wE,kE,SE,xE=[],PE=[],DE=[],OE=e=>{PE.push(e)},RE=e=>{DE.push(e)},NE=(e,t)=>{SE=!!e&&new bE(e,t),xE.forEach((e=>e(SE)))},ME=(e,t,a=!1)=>{a?(kE=new bE(e,t),DE.forEach((e=>e(kE)))):(wE=new bE(e,t),PE.forEach((e=>e(wE))))},LE=e=>Array.isArray(e)?[...new Set(e)]:e,BE=e=>!!SE&&(!!e.data&&SE.judgeData(e.data,e)),FE=(e,t=!1,a=null,i={})=>{var{exceptionPriorirtyThreshold:r=0,delay:n}=i,o=a||(t?kE:wE);return o?!!e.data&&o.judgeData(e.data,e,{exceptionPriorirtyThreshold:r}):!!n&&new Promise((a=>{(t?RE:OE)((()=>{a((t?kE:wE).judgeData(e.data,e,{exceptionPriorirtyThreshold:r}))}))}))},WE=(e,t=!1)=>{var a=t?kE:wE;return!!a&&a.pruneOriginData(e)},UE=(e=!1,t)=>{var a,i=t?SE:e?kE:wE;return i?null!==(a=i.getSchemaVersion())&&void 0!==a?a:-2:-1},VE=(e,t,a=1,i=0)=>e+=t?a+",":i+",",HE=(e,t=!1,a=0)=>{var i,r=1!==a&&(2===a||(null===(i=wE)||void 0===i?void 0:i.keyPriority)<=e),n=e===AE,o="";return o=VE(o,!0,String(e)),o=VE(o,t),o=VE(o,!0,a?a+1:r?1:0),(o=VE(o,!0,n?1:a?2:0)).endsWith(",")&&(o=o.slice(0,o.length-1)),o},jE=(e,t)=>({key:t,type:"Pat",test:{test:".*",flag:"i"},someWithRely:e.map((e=>{var t;return{type:"Pat",test:{test:e.pure,flag:null!==(t=e.flag)&&void 0!==t?t:""},key:e.key,deep:e.deep}}))}),GE=(e,t)=>e.map((e=>{var a,i;return{type:"Pat",key:t+e.key,test:{test:e.matchKey,flag:null!==(a=e.flag)&&void 0!==a?a:""},deep:e.deep,withRely:[{type:"Pat",key:"",test:{test:e.pure,flag:null!==(i=e.flag)&&void 0!==i?i:""}}]}})),zE=(e,t)=>({key:t,type:"replace",replace:e.map((e=>{var t;return{tag:e.key,test:(e.prefix||"")+e.pure+(e.suffix||""),flag:null!==(t=e.flag)&&void 0!==t?t:"",modify:e.modify||""}}))}),$E=e=>{var{importantKeyInfo:t=[],sensitiveInfo:a=[],safeSensitiveInfo:i=[]}=e,r=[],n=[],o=[],s=[];a.forEach((e=>{e.matchKey?r.push(e):n.push(e)})),i.forEach((e=>{e.matchKey?o.push(e):s.push(e)}));var l=jE(n,"4000"),d=GE(r,"4000.d_"),u=jE(s,"2000"),c=GE(o,"2000.d_"),p=((e,t)=>e.map((e=>{var a;return{type:"Pat",key:t,test:{test:e.pure,flag:null!==(a=e.flag)&&void 0!==a?a:""},deep:e.deep}})))(t,"3000"),h=((e,t)=>e.map((e=>{var a;return{key:t,type:"match",test:{test:e.pure,flag:null!==(a=e.flag)&&void 0!==a?a:""},replace:"",deep:e.deep}})))(t,"502"),f=((e,t,a)=>({key:a,type:"match",test:{test:".*",flag:""},rely:{type:"replace",replace:[...e,...t].map((e=>{var t;return{tag:e.key,test:e.pure,flag:null!==(t=e.flag)&&void 0!==t?t:"",modify:e.modify||""}}))}}))(s,n,"501");return{prunes:[...h,f],prefixPrunes:[zE([...i,...a],"500")],conditions:[l,...d,u,...c,...p]}},QE=e=>{try{var t,a,i,r=e.common;if(!r)return;var{conditions:n,prunes:o,prefixPrunes:s}=$E(r);Array.isArray(null==e||null===(t=e.object)||void 0===t?void 0:t.conditions)&&e.object.conditions.unshift(...n),Array.isArray(null==e||null===(a=e.object)||void 0===a?void 0:a.prunes)&&e.object.prunes.push(...o),Array.isArray(null==e||null===(i=e.string)||void 0===i?void 0:i.prunes)&&e.string.prunes.push(...s)}catch(e){}},YE=e=>e&&e.filter((e=>e.startsWith("2000"))),qE=(e,t,a)=>{var i,r,n=!1;try{try{e.data=JSON.parse(e.data)}catch(e){}if(t.data)try{t.data=JSON.parse(t.data)}catch(e){}var o=FE(e,!0);null!=o&&o.result&&(n=!0,r=o.point)}catch(e){}if(i=n,a)try{if(t.errMsg||t.statusCode>=400)return{hasError:!0,reportBody:t.data,isImportantRequest:i,isWxClientError:!0};var s,l,d,u,c;t.url=e.url,c=BE(t),delete t.url,!c||!c.result&&(null===(s=c.point)||void 0===s||!s.length)||!c.result&&null!==(l=c.point)&&void 0!==l&&l.length&&c.priority>-15?c=FE(t,!1,null,{delay:!0,exceptionPriorirtyThreshold:-(null!==(d=null===(u=c)||void 0===u?void 0:u.priority)&&void 0!==d?d:0)}):c.result&&(c.priority<15?c.hitUserLowPriortyCustom=!0:c.hitUserHighPriorityCustom=!0);var p=a=>{var n,o,s,l,d=(o=null==a?void 0:a.point)&&o.filter((e=>e.startsWith("4000")||e.startsWith("3000")||e.startsWith("2000")));return i=!!(i||null!==(n=d)&&void 0!==n&&n.length),r=LE(YE(r)),d=LE(YE(d)),null!=a&&a.result?{type:"checkResponse",hasError:!0,reportBody:null===(s=WE(t.data))||void 0===s?void 0:s.data,reportArgs:null===(l=WE(e.data))||void 0===l?void 0:l.data,isImportantRequest:i,key:HE(a.priority,i,a.hitUserLowPriortyCustom?1:a.hitUserHighPriorityCustom?2:0),point:LE(a.point),priority:a.priority,schemaVersion:UE(),kvResult:a.kvResult,...i?{sensitiveRequestPoint:r,sensitveResponsePoint:d}:{}}:{type:"checkResponse",isImportantRequest:i,hasError:!1,sensitiveRequestPoint:r,...i?{sensitiveRequestPoint:r,sensitveResponsePoint:d}:{}}};return(0,fE.tI)(c)?new Promise((e=>{c.then((t=>{e(p(t))}))})):p(c)}catch(e){wxNativeConsole.error("interprete 24247 error:",e)}return{type:"checkRequest",point:r,isImportantRequest:i}},ZE={req:null,res:null},KE={};_E("initAesWasm",dE),_E("aesEncrypt",(e=>{var t,{data:a,tokenInfo:i,useBinary:r,isArrayData:n}=e;return n?t=new Uint8Array(a):ArrayBuffer.isView(a)||(t=hE(a)),uE(t,new Uint8Array(i.encryptKeyBytes),new Uint8Array(i.ivBytes)).then((e=>r?e.buffer:(0,oE.sM)(e)))})),_E("aesDecrypt",(e=>{var t,{tokenInfo:a,data:i}=e;return t="string"==typeof i?(0,oE.RG)(i):new ArrayBuffer(0),function(e,t,a){return dE().then((i=>{var r=(new i).decrypt(i.MODE_CBC,e,t,a);return r=(e=>e.slice(0,e.length-e[e.length-1]))(r),r}))}(new Uint8Array(t),new Uint8Array(a.encryptKeyBytes),new Uint8Array(a.ivBytes)).then((e=>function(e){for(var t=[],a=0,i=0,r=0;r<e.length;r++)if(a)i|=(63&e[r])<<6*--a,0===a&&t.push(pE(i));else{if(240==(240&e[r]))a=3;else if(224==(224&e[r]))a=2;else if(192==(192&e[r]))a=1;else if(0==(128&e[r])){t.push(String.fromCharCode(e[r]));continue}i=(e[r]&255>>a+2)<<6*a}return t.join("")}(e)))})),_E("createWeAppRequestInterpreter",(e=>{var{rules:t,appid:a,userRules:i}=e;try{t=JSON.parse(t)}catch(e){}if(t.exclusive){var{req:r,res:n}=t;return r&&(ZE.req={priorities:{},keyPriority:0,schemaVersion:t.schemaVersion,object:{conditions:r,prunes:null},string:{conditions:[],prunes:null}}),void(n&&(ZE.res={priorities:{},keyPriority:0,schemaVersion:t.schemaVersion,object:{conditions:n,prunes:null},string:{conditions:[],prunes:null}}))}if(ZE.req)ME(ZE.req,a,!0);else{var o=(e=>{if(null!=e&&e.common){var{conditions:t}=$E(e.common);return{priorities:{},keyPriority:0,schemaVersion:e.schemaVersion,object:{conditions:t,prunes:null},string:{conditions:[],prunes:null}}}})(t);ME(o,a,!0)}ZE.res?(ZE.res.object.prunes=t.object.prunes,ZE.res.string.prunes=t.string.prunes,ZE.res.common=t.common,QE(ZE.res)):QE(t),ME(ZE.res||t,a),(i||""===i)&&(e=>{var{userRules:t,appid:a}=e;try{var i;t&&(t=JSON.parse(t),i=yE(t)),NE(i,a)}catch(e){wxNativeConsole.warn("createUserCustomInterpreter occur error:",e)}})({userRules:i,appid:a})})),_E("checkRequest",((e={})=>{var{requestData:t,response:a,checkResponse:i=!0,delay:r}=e;return r&&!((e=!1)=>e?kE:wE)()?new Promise((e=>{var r=0,n=()=>{e(qE(t,a,i))};OE((()=>{2===++r&&n()})),(e=>{xE.push(e)})((()=>{2===++r&&n()}))})):qE(t,a,i)})),_E("resolveInteractiveApiContent",((e={})=>{var t,a,i,{content:r}=e,n={data:r};return!(i=BE(n))||!i.result&&(null===(t=i.point)||void 0===t||!t.length)||!i.result&&null!==(a=i.point)&&void 0!==a&&a.length&&i.priority>-15?i=FE(n,!1,null):i.result&&(i.priority<15?i.hitUserLowPriortyCustom=!0:i.hitUserHighPriorityCustom=!0),i})),_E("resolveApiFullRule",((e={})=>{var t=((e={})=>{var{name:t,rules:a,data:i}=e,r=KE[t];return r||(r=KE[t]=new bE(a,e.appid)),FE({data:i},!1,r)})({data:e.data,rules:e.rules,name:"api",appid:e.appid});return t}));try{var XE=new rE;(0,e.jQ)("shouldShowSplashAd",(e=>{XE.show(e)}))}catch(e){}})()})()}(this);var __WASplashadWorkerEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;