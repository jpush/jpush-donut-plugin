this.__wxLibrary={fileName:"WAWorker.js",envType:"Worker",contextType:"others",execStart:Date.now(),mayHaveSnapshot:!1};var __WAWorkerStartTime__=this.__wxLibrary.execStart;!function(e){var t={updateTime:"2024.11.29 17:05:12",version:"3.6.5",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,supportAudits:!0,wkFeatureVersion:5,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,earlyDispatchSubPkgReady:!0,glassEasel:1,supportListenTaskStateChange:!0,supportListenNewPerformanceMetric:!0,collectInvokeCost:!0,expt:["clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_allow_worker_binding_message","clicfg_appbrand_ios_arkit2wevision_usevertialplane","clicfg_appbrand_ios_enable_async_create_request_task","clicfg_appbrand_ios_use_jsapi_args_binding","clicfg_appbrand_webview_slow_frame","clicfg_appbrand_webview_native_intersection_observer","clicfg_appbrand_ios_control_close_condom_white","clicfg_appbrand_android_control_close_condom_white","clicfg_appbrand_android_use_game_delay_codecache","clicfg_appbrand_ios_game_shangcheng_kefu","clicfg_android_wagame_frontend_set_file_space_statistics_status","clicfg_appbrand_ios_force_enable_aiad","clicfg_appbrand_android_force_enable_aiad","clicfg_handle_reqresp_in_worker_android","clicfg_appbrand_enable_batch_load_sub_pkg","clicfg_appbrand_ios_enable_aiad_debug_button","clicfg_appbrand_android_enable_aiad_debug_button","clicfg_appbrand_ios_enable_aiad_tag","clicfg_appbrand_android_enable_aiad_tag","clicfg_appbrand_ios_force_use_audio_dynamic_new","clicfg_appbrand_android_force_use_audio_dynamic_new","clicfg_appbrand_ios_operatewxdata_quic_group_control","clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1","clicfg_appbrand_android_operatewxdata_quic_group_control","clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1","clicfg_wxa_report_ssid","clicfg_miniprogram_global_translate_android","clicfg_miniprogram_global_translate_ios","clicfg_appbrand_android_ad_operatewxdata_batch","clicfg_appbrand_ios_ad_operatewxdata_batch","clicfg_appbrand_ios_operatewxdata_batch","clicfg_appbrand_android_operatewxdata_batch","clicfg_appbrand_ios_enable_jsopdata_mock","clicfg_appbrand_ios_android_aiad_interstitial_cache_time","clicfg_appbrand_ios_android_report_without_batch","clicfg_appbrand_ios_jsapi_nocallback","clicfg_appbrand_android_jsapi_nocallback","clicfg_appbrand_ios_operatewxdata_priority","clicfg_appbrand_android_operatewxdata_priority","clicfg_appbrand_ios_operatewxdata_priority_group_control","clicfg_appbrand_android_operatewxdata_priority_group_control","clicfg_enable_appbrand_downloadfile_enablequic_newcronet","clicfg_appbrand_android_operatewxdata_ipc_optimization","clicfg_appbrand_android_eventcallback_after_listen"],exptNeedParams:["clicfg_miniprogram_adreport_use_kv"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]},mayHaveSnapshot:["WAServiceMainContext.js","WASubContext.js","WARenderContext.js","WAGame.js","WAGameSubContext.js"],pcSnapshotConfig:{minigame:{iframeDomain:{mainContext:["WAGame.js"],gameContext:["WAGameSubContext.js"]},workerDomain:{}},miniprogram:{iframeDomain:{},workerDomain:{main_context:["WAServiceMainContext.js"],sub_context:["WASubContext.js"]}}},privacyApiVersion:3},debugOptions:{}},r=e.Function,a=r,n={};(()=>{var e={5803:(e,t,r)=>{var a={"./applyDecoratedDescriptor":7386,"./asyncToGenerator":8921,"./initializerDefineProperty":8704,"./initializerWarningHelper":9651,"./objectSpread2":8680};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=o,e.exports=n,n.id=5803},7386:(e,t,r)=>{"use strict";function a(e,t,r,a,n){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,a){return a(e,t,r)||r}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}r.r(t),r.d(t,{default:()=>a})},8921:(e,t,r)=>{"use strict";function a(e,t,r,a,n,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>n})},8704:(e,t,r)=>{"use strict";function a(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}r.r(t),r.d(t,{default:()=>a})},9651:(e,t,r)=>{"use strict";function a(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>a})},8680:(e,t,r)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function o(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},9762:(e,t,r)=>{"use strict";var a=r(1551),n=r(4288),o=r(6124),i=r(5517),s=o.data,c=o.normalize,l="USE_FUNCTION_CONSTRUCTOR",u="AsyncIteratorPrototype",p=function(e,t){if(n(e))for(var r=0;r<e.length;r++)s[c(e[r])]=t};e.exports=function(e){"object"==typeof e&&(p(e.useNative,o.NATIVE),p(e.usePolyfill,o.POLYFILL),p(e.useFeatureDetection,null),a(e,l)&&(i[l]=!!e[l]),a(e,u)&&(i[u]=e[u]))}},8117:(e,t,r)=>{"use strict";var a=r(8173),n=r(7420),o=TypeError;e.exports=function(e){if(a(e))return e;throw new o(n(e)+" is not a function")}},6270:(e,t,r)=>{"use strict";var a=r(4524),n=r(7420),o=TypeError;e.exports=function(e){if(a(e))return e;throw new o(n(e)+" is not a constructor")}},8924:(e,t,r)=>{"use strict";var a=r(4977),n=String,o=TypeError;e.exports=function(e){if(a(e))return e;throw new o("Can't set "+n(e)+" as a prototype")}},6016:(e,t,r)=>{"use strict";var a=r(3840).has;e.exports=function(e){return a(e),e}},7591:(e,t,r)=>{"use strict";var a=r(7609),n=r(3062),o=r(2038),i=r(6469),s=r(8117),c=r(1636),l=r(3743),u=r(6387),p=u("asyncDispose"),d=u("dispose"),f=n([].push),h=function(e,t,r){return arguments.length<3&&!c(e)&&(r=s(function(e,t){if("async-dispose"===t){var r=l(e,p);return void 0!==r||void 0===(r=l(e,d))?r:function(){a(r,this)}}return l(e,d)}(i(e),t))),void 0===r?function(){}:o(r,e)};e.exports=function(e,t,r,a){var n;if(arguments.length<4){if(c(t)&&"sync-dispose"===r)return;n=h(t,r)}else n=h(void 0,r,a);f(e.stack,n)}},2890:(e,t,r)=>{"use strict";var a=r(6387),n=r(9543),o=r(615).f,i=a("unscopables"),s=Array.prototype;void 0===s[i]&&o(s,i,{configurable:!0,value:n(null)}),e.exports=function(e){s[i][e]=!0}},1747:(e,t,r)=>{"use strict";var a=r(6730),n=TypeError;e.exports=function(e,t){if(a(t,e))return e;throw new n("Incorrect invocation")}},6469:(e,t,r)=>{"use strict";var a=r(9693),n=String,o=TypeError;e.exports=function(e){if(a(e))return e;throw new o(n(e)+" is not an object")}},5392:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1759:(e,t,r)=>{"use strict";var n,o,i,s=r(5392),c=r(1923),l=r(1848),u=r(8173),p=r(9693),d=r(1551),f=r(1465),h=r(7420),v=r(1384),g=r(5953),y=r(6248),_=r(6730),m=r(4483),b=r(5273),w=r(6387),k=r(4229),S=r(2417),I=S.enforce,T=S.get,C=l.Int8Array,x=C&&C.prototype,A=l.Uint8ClampedArray,P=A&&A.prototype,E=C&&m(C),O=x&&m(x),M=Object.prototype,R=l.TypeError,D=w("toStringTag"),L=k("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",j=s&&!!b&&"Opera"!==f(l.opera),W=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$={BigInt64Array:8,BigUint64Array:8},U=function(e){var t=m(e);if(p(t)){var r=T(t);return r&&d(r,N)?r[N]:U(t)}},B=function(e){if(!p(e))return!1;var t=f(e);return d(F,t)||d($,t)};for(n in F)(i=(o=l[n])&&o.prototype)?I(i)[N]=o:j=!1;for(n in $)(i=(o=l[n])&&o.prototype)&&(I(i)[N]=o);if((!j||!u(E)||E===a.prototype)&&(E=function(){throw new R("Incorrect invocation")},j))for(n in F)l[n]&&b(l[n],E);if((!j||!O||O===M)&&(O=E.prototype,j))for(n in F)l[n]&&b(l[n].prototype,O);if(j&&m(P)!==O&&b(P,O),c&&!d(O,D))for(n in W=!0,y(O,D,{configurable:!0,get:function(){return p(this)?this[L]:void 0}}),F)l[n]&&v(l[n],L,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:W&&L,aTypedArray:function(e){if(B(e))return e;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!b||_(E,e)))return e;throw new R(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,a){if(c){if(r)for(var n in F){var o=l[n];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(r){try{o.prototype[e]=t}catch(e){}}}O[e]&&!r||g(O,e,r?t:j&&x[e]||t,a)}},exportTypedArrayStaticMethod:function(e,t,r){var a,n;if(c){if(b){if(r)for(a in F)if((n=l[a])&&d(n,e))try{delete n[e]}catch(e){}if(E[e]&&!r)return;try{return g(E,e,r?t:j&&E[e]||t)}catch(e){}}for(a in F)!(n=l[a])||n[e]&&!r||g(n,e,t)}},getTypedArrayConstructor:U,isView:function(e){if(!p(e))return!1;var t=f(e);return"DataView"===t||d(F,t)||d($,t)},isTypedArray:B,TypedArray:E,TypedArrayPrototype:O}},1180:(e,t,r)=>{"use strict";var a=r(3659),n=r(3663),o=r(9110);e.exports=function(e){for(var t=a(this),r=o(t),i=arguments.length,s=n(i>1?arguments[1]:void 0,r),c=i>2?arguments[2]:void 0,l=void 0===c?r:n(c,r);l>s;)t[s++]=e;return t}},4744:(e,t,r)=>{"use strict";var a=r(2038),n=r(3062),o=r(3659),i=r(4524),s=r(2330),c=r(9072),l=r(8986),u=r(2100),p=r(3743),d=r(9406),f=r(8168),h=r(6387),v=r(147),g=r(7163).toArray,y=h("asyncIterator"),_=n(f("Array","values")),m=n(_([]).next),b=function(){return new w(this)},w=function(e){this.iterator=_(e)};w.prototype.next=function(){return m(this.iterator)},e.exports=function(e){var t=this,r=arguments.length,n=r>1?arguments[1]:void 0,f=r>2?arguments[2]:void 0;return new(d("Promise"))((function(r){var d=o(e);void 0!==n&&(n=a(n,f));var h=p(d,y),_=h?void 0:u(d)||b,m=i(t)?new t:[],w=h?s(d,h):new v(l(c(d,_)));r(g(w,n,m))}))}},2239:(e,t,r)=>{"use strict";var a=r(9110);e.exports=function(e,t,r){for(var n=0,o=arguments.length>2?r:a(t),i=new e(o);o>n;)i[n]=t[n++];return i}},3077:(e,t,r)=>{"use strict";var a=r(2038),n=r(3062),o=r(2832),i=r(3659),s=r(9110),c=r(7741),l=c.Map,u=c.get,p=c.has,d=c.set,f=n([].push);e.exports=function(e){for(var t,r,n=i(this),c=o(n),h=a(e,arguments.length>1?arguments[1]:void 0),v=new l,g=s(c),y=0;g>y;y++)t=h(r=c[y],y,n),p(v,t)?f(u(v,t),r):d(v,t,[r]);return v}},6747:(e,t,r)=>{"use strict";var a=r(2038),n=r(3062),o=r(2832),i=r(3659),s=r(7445),c=r(9110),l=r(9543),u=r(2239),p=Array,d=n([].push);e.exports=function(e,t,r,n){for(var f,h,v,g=i(e),y=o(g),_=a(t,r),m=l(null),b=c(y),w=0;b>w;w++)v=y[w],(h=s(_(v,w,g)))in m?d(m[h],v):m[h]=[v];if(n&&(f=n(g))!==p)for(h in m)m[h]=u(f,m[h]);return m}},4158:(e,t,r)=>{"use strict";var a=r(8632),n=r(3663),o=r(9110),i=function(e){return function(t,r,i){var s=a(t),c=o(s);if(0===c)return!e&&-1;var l,u=n(i,c);if(e&&r!=r){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},2008:(e,t,r)=>{"use strict";var a=r(2038),n=r(2832),o=r(3659),i=r(9110),s=function(e){var t=1===e;return function(r,s,c){for(var l,u=o(r),p=n(u),d=i(p),f=a(s,c);d-- >0;)if(f(l=p[d],d,u))switch(e){case 0:return l;case 1:return d}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},7816:(e,t,r)=>{"use strict";var a=r(8462);e.exports=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){return 1},1)}))}},7826:(e,t,r)=>{"use strict";var a=r(1923),n=r(4288),o=TypeError,i=Object.getOwnPropertyDescriptor,s=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(n(e)&&!i(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7706:(e,t,r)=>{"use strict";var a=r(3062);e.exports=a([].slice)},9070:(e,t,r)=>{"use strict";var a=r(7706),n=Math.floor,o=function(e,t){var r=e.length;if(r<8)for(var i,s,c=1;c<r;){for(s=c,i=e[c];s&&t(e[s-1],i)>0;)e[s]=e[--s];s!==c++&&(e[s]=i)}else for(var l=n(r/2),u=o(a(e,0,l),t),p=o(a(e,l),t),d=u.length,f=p.length,h=0,v=0;h<d||v<f;)e[h+v]=h<d&&v<f?t(u[h],p[v])<=0?u[h++]:p[v++]:h<d?u[h++]:p[v++];return e};e.exports=o},459:(e,t,r)=>{"use strict";var a=r(9110);e.exports=function(e,t){for(var r=a(e),n=new t(r),o=0;o<r;o++)n[o]=e[r-o-1];return n}},1403:(e,t,r)=>{"use strict";var a=r(9110),n=r(6521),o=RangeError;e.exports=function(e,t,r,i){var s=a(e),c=n(r),l=c<0?s+c:c;if(l>=s||l<0)throw new o("Incorrect index");for(var u=new t(s),p=0;p<s;p++)u[p]=p===l?i:e[p];return u}},147:(e,t,r)=>{"use strict";var a=r(7609),n=r(6469),o=r(9543),i=r(3743),s=r(8881),c=r(2417),l=r(9406),u=r(2179),p=r(9462),d=l("Promise"),f="AsyncFromSyncIterator",h=c.set,v=c.getterFor(f),g=function(e,t,r){var a=e.done;d.resolve(e.value).then((function(e){t(p(e,a))}),r)},y=function(e){e.type=f,h(this,e)};y.prototype=s(o(u),{next:function(){var e=v(this);return new d((function(t,r){var o=n(a(e.next,e.iterator));g(o,t,r)}))},return:function(){var e=v(this).iterator;return new d((function(t,r){var o=i(e,"return");if(void 0===o)return t(p(void 0,!0));var s=n(a(o,e));g(s,t,r)}))}}),e.exports=y},7897:(e,t,r)=>{"use strict";var a=r(7609),n=r(9406),o=r(3743);e.exports=function(e,t,r,i){try{var s=o(e,"return");if(s)return n("Promise").resolve(a(s,e)).then((function(){t(r)}),(function(e){i(e)}))}catch(e){return i(e)}t(r)}},9296:(e,t,r)=>{"use strict";var a=r(7609),n=r(1689),o=r(6469),i=r(9543),s=r(1384),c=r(8881),l=r(6387),u=r(2417),p=r(9406),d=r(3743),f=r(2179),h=r(9462),v=r(9273),g=p("Promise"),y=l("toStringTag"),_="AsyncIteratorHelper",m="WrapForValidAsyncIterator",b=u.set,w=function(e){var t=!e,r=u.getterFor(e?m:_),s=function(e){var a=n((function(){return r(e)})),o=a.error,i=a.value;return o||t&&i.done?{exit:!0,value:o?g.reject(i):g.resolve(h(void 0,!0))}:{exit:!1,value:i}};return c(i(f),{next:function(){var e=s(this),t=e.value;if(e.exit)return t;var r=n((function(){return o(t.nextHandler(g))})),a=r.error,i=r.value;return a&&(t.done=!0),a?g.reject(i):g.resolve(i)},return:function(){var t=s(this),r=t.value;if(t.exit)return r;r.done=!0;var i,c,l=r.iterator,u=n((function(){if(r.inner)try{v(r.inner.iterator,"normal")}catch(e){return v(l,"throw",e)}return d(l,"return")}));return i=c=u.value,u.error?g.reject(c):void 0===i?g.resolve(h(void 0,!0)):(c=(u=n((function(){return a(i,l)}))).value,u.error?g.reject(c):e?g.resolve(c):g.resolve(c).then((function(e){return o(e),h(void 0,!0)})))}})},k=w(!0),S=w(!1);s(S,y,"Async Iterator Helper"),e.exports=function(e,t){var r=function(r,a){a?(a.iterator=r.iterator,a.next=r.next):a=r,a.type=t?m:_,a.nextHandler=e,a.counter=0,a.done=!1,b(this,a)};return r.prototype=t?k:S,r}},7163:(e,t,r)=>{"use strict";var a=r(7609),n=r(8117),o=r(6469),i=r(9693),s=r(8475),c=r(9406),l=r(8986),u=r(7897),p=function(e){var t=0===e,r=1===e,p=2===e,d=3===e;return function(e,f,h){o(e);var v=void 0!==f;!v&&t||n(f);var g=l(e),y=c("Promise"),_=g.iterator,m=g.next,b=0;return new y((function(e,n){var c=function(e){u(_,n,e,n)},l=function(){try{if(v)try{s(b)}catch(e){c(e)}y.resolve(o(a(m,_))).then((function(a){try{if(o(a).done)t?(h.length=b,e(h)):e(!d&&(p||void 0));else{var s=a.value;try{if(v){var g=f(s,b),m=function(a){if(r)l();else if(p)a?l():u(_,e,!1,n);else if(t)try{h[b++]=a,l()}catch(e){c(e)}else a?u(_,e,d||s,n):l()};i(g)?y.resolve(g).then(m,c):m(g)}else h[b++]=s,l()}catch(e){c(e)}}}catch(e){n(e)}}),n)}catch(e){n(e)}};l()}))}};e.exports={toArray:p(0),forEach:p(1),every:p(2),some:p(3),find:p(4)}},7073:(e,t,r)=>{"use strict";var a=r(7609),n=r(8117),o=r(6469),i=r(9693),s=r(8986),c=r(9296),l=r(9462),u=r(7897),p=c((function(e){var t=this,r=t.iterator,n=t.mapper;return new e((function(s,c){var p=function(e){t.done=!0,c(e)},d=function(e){u(r,p,e,p)};e.resolve(o(a(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,s(l(void 0,!0));else{var a=r.value;try{var c=n(a,t.counter++),u=function(e){s(l(e,!1))};i(c)?e.resolve(c).then(u,d):u(c)}catch(e){d(e)}}}catch(e){p(e)}}),p)}))}));e.exports=function(e){return o(this),n(e),new p(s(this),{mapper:e})}},2179:(e,t,r)=>{"use strict";var n,o,i=r(1848),s=r(5517),c=r(8173),l=r(9543),u=r(4483),p=r(5953),d=r(6387),f=r(4151),h="USE_FUNCTION_CONSTRUCTOR",v=d("asyncIterator"),g=i.AsyncIterator,y=s.AsyncIteratorPrototype;if(y)n=y;else if(c(g))n=g.prototype;else if(s[h]||i[h])try{o=u(u(u(a("return async function*(){}()")()))),u(o)===Object.prototype&&(n=o)}catch(e){}n?f&&(n=l(n)):n={},c(n[v])||p(n,v,(function(){return this})),e.exports=n},3525:(e,t,r)=>{"use strict";var a=r(7609),n=r(9296);e.exports=n((function(){return a(this.next,this.iterator)}),!0)},9832:(e,t,r)=>{"use strict";var a=r(6469),n=r(9273);e.exports=function(e,t,r,o){try{return o?t(a(r)[0],r[1]):t(r)}catch(t){n(e,"throw",t)}}},4912:(e,t,r)=>{"use strict";var a=r(6387)("iterator"),n=!1;try{var o=0,i={next:function(){return{done:!!o++}},return:function(){n=!0}};i[a]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!n)return!1}catch(e){return!1}var r=!1;try{var o={};o[a]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},6892:(e,t,r)=>{"use strict";var a=r(3062),n=a({}.toString),o=a("".slice);e.exports=function(e){return o(n(e),8,-1)}},1465:(e,t,r)=>{"use strict";var a=r(1326),n=r(8173),o=r(6892),i=r(6387)("toStringTag"),s=Object,c="Arguments"===o(function(){return arguments}());e.exports=a?o:function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),i))?r:c?o(t):"Object"===(a=o(t))&&n(t.callee)?"Arguments":a}},744:(e,t,r)=>{"use strict";var a=r(1551),n=r(3349),o=r(5983),i=r(615);e.exports=function(e,t,r){for(var s=n(t),c=i.f,l=o.f,u=0;u<s.length;u++){var p=s[u];a(e,p)||r&&a(r,p)||c(e,p,l(t,p))}}},7712:(e,t,r)=>{"use strict";var a=r(8462);e.exports=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},9462:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},1384:(e,t,r)=>{"use strict";var a=r(1923),n=r(615),o=r(4127);e.exports=a?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},4127:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4676:(e,t,r)=>{"use strict";var a=r(1923),n=r(615),o=r(4127);e.exports=function(e,t,r){a?n.f(e,t,o(0,r)):e[t]=r}},6248:(e,t,r)=>{"use strict";var a=r(1704),n=r(615);e.exports=function(e,t,r){return r.get&&a(r.get,t,{getter:!0}),r.set&&a(r.set,t,{setter:!0}),n.f(e,t,r)}},5953:(e,t,r)=>{"use strict";var a=r(8173),n=r(615),o=r(1704),i=r(3958);e.exports=function(e,t,r,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(a(r)&&o(r,l,s),s.global)c?e[t]=r:i(t,r);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:n.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},8881:(e,t,r)=>{"use strict";var a=r(5953);e.exports=function(e,t,r){for(var n in t)a(e,n,t[n],r);return e}},3958:(e,t,r)=>{"use strict";var a=r(1848),n=Object.defineProperty;e.exports=function(e,t){try{n(a,e,{value:t,configurable:!0,writable:!0})}catch(r){a[e]=t}return t}},5588:(e,t,r)=>{"use strict";var a=r(7420),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw new n("Cannot delete property "+a(t)+" of "+a(e))}},1923:(e,t,r)=>{"use strict";var a=r(8462);e.exports=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4446:(e,t,r)=>{"use strict";var a=r(1848),n=r(9693),o=a.document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},8475:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7094:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9257:(e,t,r)=>{"use strict";var a=r(8722).match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},1466:(e,t,r)=>{"use strict";var a=r(8722);e.exports=/MSIE|Trident/.test(a)},9788:(e,t,r)=>{"use strict";var a=r(8722);e.exports=/ipad|iphone|ipod/i.test(a)&&"undefined"!=typeof Pebble},9823:(e,t,r)=>{"use strict";var a=r(8722);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},2409:(e,t,r)=>{"use strict";var a=r(1558);e.exports="NODE"===a},2027:(e,t,r)=>{"use strict";var a=r(8722);e.exports=/web0s(?!.*chrome)/i.test(a)},8722:(e,t,r)=>{"use strict";var a=r(1848).navigator,n=a&&a.userAgent;e.exports=n?String(n):""},9255:(e,t,r)=>{"use strict";var a,n,o=r(1848),i=r(8722),s=o.process,c=o.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(n=(a=u.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!n&&i&&(!(a=i.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=i.match(/Chrome\/(\d+)/))&&(n=+a[1]),e.exports=n},8560:(e,t,r)=>{"use strict";var a=r(8722).match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},1558:(e,t,r)=>{"use strict";var a=r(1848),n=r(8722),o=r(6892),i=function(e){return n.slice(0,e.length)===e};e.exports=i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":a.Bun&&"string"==typeof Bun.version?"BUN":a.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(a.process)?"NODE":a.window&&a.document?"BROWSER":"REST"},5290:(e,t,r)=>{"use strict";var a=r(3062),n=Error,o=a("".replace),i=String(new n("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);e.exports=function(e,t){if(c&&"string"==typeof e&&!n.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},2519:(e,t,r)=>{"use strict";var a=r(1384),n=r(5290),o=r(692),i=Error.captureStackTrace;e.exports=function(e,t,r,s){o&&(i?i(e,t):a(e,"stack",n(r,s)))}},692:(e,t,r)=>{"use strict";var a=r(8462),n=r(4127);e.exports=!a((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},4395:(e,t,r)=>{"use strict";var a=r(1848),n=r(5983).f,o=r(1384),i=r(5953),s=r(3958),c=r(744),l=r(6124);e.exports=function(e,t){var r,u,p,d,f,h=e.target,v=e.global,g=e.stat;if(r=v?a:g?a[h]||s(h,{}):a[h]&&a[h].prototype)for(u in t){if(d=t[u],p=e.dontCallGetSet?(f=n(r,u))&&f.value:r[u],!l(v?u:h+(g?".":"#")+u,e.forced)&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(e.sham||p&&p.sham)&&o(d,"sham",!0),i(r,u,d,e)}}},8462:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3178:(e,t,r)=>{"use strict";var n=r(5020),o=a.prototype,i=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments)})},2038:(e,t,r)=>{"use strict";var a=r(1992),n=r(8117),o=r(5020),i=a(a.bind);e.exports=function(e,t){return n(e),void 0===t?e:o?i(e,t):function(){return e.apply(t,arguments)}}},5020:(e,t,r)=>{"use strict";var a=r(8462);e.exports=!a((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7609:(e,t,r)=>{"use strict";var n=r(5020),o=a.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},63:(e,t,r)=>{"use strict";var n=r(1923),o=r(1551),i=a.prototype,s=n&&Object.getOwnPropertyDescriptor,c=o(i,"name"),l=c&&"something"===function(){}.name,u=c&&(!n||n&&s(i,"name").configurable);e.exports={EXISTS:c,PROPER:l,CONFIGURABLE:u}},252:(e,t,r)=>{"use strict";var a=r(3062),n=r(8117);e.exports=function(e,t,r){try{return a(n(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},1992:(e,t,r)=>{"use strict";var a=r(6892),n=r(3062);e.exports=function(e){if("Function"===a(e))return n(e)}},3062:(e,t,r)=>{"use strict";var n=r(5020),o=a.prototype,i=o.call,s=n&&o.bind.bind(i,i);e.exports=n?s:function(e){return function(){return i.apply(e,arguments)}}},1401:(e,t,r)=>{"use strict";var a=r(7609),n=r(8173),o=r(6469),i=r(8986),s=r(2100),c=r(3743),l=r(6387),u=r(147),p=l("asyncIterator");e.exports=function(e){var t,r=o(e),l=!0,d=c(r,p);return n(d)||(d=s(r),l=!1),void 0!==d?t=a(d,r):(t=r,l=!0),o(t),i(l?t:new u(i(t)))}},2330:(e,t,r)=>{"use strict";var a=r(7609),n=r(147),o=r(6469),i=r(9072),s=r(8986),c=r(3743),l=r(6387)("asyncIterator");e.exports=function(e,t){var r=arguments.length<2?c(e,l):t;return r?o(a(r,e)):new n(s(i(e)))}},8168:(e,t,r)=>{"use strict";var a=r(1848);e.exports=function(e,t){var r=a[e],n=r&&r.prototype;return n&&n[t]}},9406:(e,t,r)=>{"use strict";var a=r(1848),n=r(8173);e.exports=function(e,t){return arguments.length<2?(r=a[e],n(r)?r:void 0):a[e]&&a[e][t];var r}},8986:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},8304:(e,t,r)=>{"use strict";var a=r(7609),n=r(6469),o=r(8986),i=r(2100);e.exports=function(e,t){t&&"string"==typeof e||n(e);var r=i(e);return o(n(void 0!==r?a(r,e):e))}},2100:(e,t,r)=>{"use strict";var a=r(1465),n=r(3743),o=r(1636),i=r(7343),s=r(6387)("iterator");e.exports=function(e){if(!o(e))return n(e,s)||n(e,"@@iterator")||i[a(e)]}},9072:(e,t,r)=>{"use strict";var a=r(7609),n=r(8117),o=r(6469),i=r(7420),s=r(2100),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(n(r))return o(a(r,e));throw new c(i(e)+" is not iterable")}},3743:(e,t,r)=>{"use strict";var a=r(8117),n=r(1636);e.exports=function(e,t){var r=e[t];return n(r)?void 0:a(r)}},1998:(e,t,r)=>{"use strict";var a=r(8117),n=r(6469),o=r(7609),i=r(6521),s=r(8986),c="Invalid size",l=RangeError,u=TypeError,p=Math.max,d=function(e,t){this.set=e,this.size=p(t,0),this.has=a(e.has),this.keys=a(e.keys)};d.prototype={getIterator:function(){return s(n(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){n(e);var t=+e.size;if(t!=t)throw new u(c);var r=i(t);if(r<0)throw new l(c);return new d(e,r)}},1848:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||a("return this")()},1551:(e,t,r)=>{"use strict";var a=r(3062),n=r(3659),o=a({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(n(e),t)}},7051:e=>{"use strict";e.exports={}},2157:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2241:(e,t,r)=>{"use strict";var a=r(9406);e.exports=a("document","documentElement")},1881:(e,t,r)=>{"use strict";var a=r(1923),n=r(8462),o=r(4446);e.exports=!a&&!n((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},2832:(e,t,r)=>{"use strict";var a=r(3062),n=r(8462),o=r(6892),i=Object,s=a("".split);e.exports=n((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):i(e)}:i},6339:(e,t,r)=>{"use strict";var a=r(8173),n=r(9693),o=r(5273);e.exports=function(e,t,r){var i,s;return o&&a(i=t.constructor)&&i!==r&&n(s=i.prototype)&&s!==r.prototype&&o(e,s),e}},5239:(e,t,r)=>{"use strict";var n=r(3062),o=r(8173),i=r(5517),s=n(a.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},6001:(e,t,r)=>{"use strict";var a=r(9693),n=r(1384);e.exports=function(e,t){a(t)&&"cause"in t&&n(e,"cause",t.cause)}},2417:(e,t,r)=>{"use strict";var a,n,o,i=r(3721),s=r(1848),c=r(9693),l=r(1384),u=r(1551),p=r(5517),d=r(5612),f=r(7051),h="Object already initialized",v=s.TypeError,g=s.WeakMap;if(i||p.state){var y=p.state||(p.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,a=function(e,t){if(y.has(e))throw new v(h);return t.facade=e,y.set(e,t),t},n=function(e){return y.get(e)||{}},o=function(e){return y.has(e)}}else{var _=d("state");f[_]=!0,a=function(e,t){if(u(e,_))throw new v(h);return t.facade=e,l(e,_,t),t},n=function(e){return u(e,_)?e[_]:{}},o=function(e){return u(e,_)}}e.exports={set:a,get:n,has:o,enforce:function(e){return o(e)?n(e):a(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=n(t)).type!==e)throw new v("Incompatible receiver, "+e+" required");return r}}}},9345:(e,t,r)=>{"use strict";var a=r(6387),n=r(7343),o=a("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},4288:(e,t,r)=>{"use strict";var a=r(6892);e.exports=Array.isArray||function(e){return"Array"===a(e)}},4107:(e,t,r)=>{"use strict";var a=r(1465);e.exports=function(e){var t=a(e);return"BigInt64Array"===t||"BigUint64Array"===t}},8173:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4524:(e,t,r)=>{"use strict";var a=r(3062),n=r(8462),o=r(8173),i=r(1465),s=r(9406),c=r(5239),l=function(){},u=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=a(p.exec),f=!p.test(l),h=function(e){if(!o(e))return!1;try{return u(l,[],e),!0}catch(e){return!1}},v=function(e){if(!o(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(p,c(e))}catch(e){return!0}};v.sham=!0,e.exports=!u||n((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?v:h},6124:(e,t,r)=>{"use strict";var a=r(8462),n=r(8173),o=/#|\.prototype\./,i=function(e,t){var r=c[s(e)];return r===u||r!==l&&(n(t)?a(t):!!t)},s=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},1636:e=>{"use strict";e.exports=function(e){return null==e}},9693:(e,t,r)=>{"use strict";var a=r(8173);e.exports=function(e){return"object"==typeof e?null!==e:a(e)}},4977:(e,t,r)=>{"use strict";var a=r(9693);e.exports=function(e){return a(e)||null===e}},4151:e=>{"use strict";e.exports=!1},9525:(e,t,r)=>{"use strict";var a=r(9406),n=r(8173),o=r(6730),i=r(5363),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=a("Symbol");return n(t)&&o(t.prototype,s(e))}},9806:(e,t,r)=>{"use strict";var a=r(7609);e.exports=function(e,t,r){for(var n,o,i=r?e:e.iterator,s=e.next;!(n=a(s,i)).done;)if(void 0!==(o=t(n.value)))return o}},2201:(e,t,r)=>{"use strict";var a=r(2038),n=r(7609),o=r(6469),i=r(7420),s=r(9345),c=r(9110),l=r(6730),u=r(9072),p=r(2100),d=r(9273),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},v=h.prototype;e.exports=function(e,t,r){var g,y,_,m,b,w,k,S=r&&r.that,I=!(!r||!r.AS_ENTRIES),T=!(!r||!r.IS_RECORD),C=!(!r||!r.IS_ITERATOR),x=!(!r||!r.INTERRUPTED),A=a(t,S),P=function(e){return g&&d(g,"normal",e),new h(!0,e)},E=function(e){return I?(o(e),x?A(e[0],e[1],P):A(e[0],e[1])):x?A(e,P):A(e)};if(T)g=e.iterator;else if(C)g=e;else{if(!(y=p(e)))throw new f(i(e)+" is not iterable");if(s(y)){for(_=0,m=c(e);m>_;_++)if((b=E(e[_]))&&l(v,b))return b;return new h(!1)}g=u(e,y)}for(w=T?e.next:g.next;!(k=n(w,g)).done;){try{b=E(k.value)}catch(e){d(g,"throw",e)}if("object"==typeof b&&b&&l(v,b))return b}return new h(!1)}},9273:(e,t,r)=>{"use strict";var a=r(7609),n=r(6469),o=r(3743);e.exports=function(e,t,r){var i,s;n(e);try{if(!(i=o(e,"return"))){if("throw"===t)throw r;return r}i=a(i,e)}catch(e){s=!0,i=e}if("throw"===t)throw r;if(s)throw i;return n(i),r}},2160:(e,t,r)=>{"use strict";var a=r(7609),n=r(9543),o=r(1384),i=r(8881),s=r(6387),c=r(2417),l=r(3743),u=r(7092).IteratorPrototype,p=r(9462),d=r(9273),f=s("toStringTag"),h="IteratorHelper",v="WrapForValidIterator",g=c.set,y=function(e){var t=c.getterFor(e?v:h);return i(n(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var a=r.done?void 0:r.nextHandler();return p(a,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var o=l(n,"return");return o?a(o,n):p(void 0,!0)}if(r.inner)try{d(r.inner.iterator,"normal")}catch(e){return d(n,"throw",e)}return d(n,"normal"),p(void 0,!0)}})},_=y(!0),m=y(!1);o(m,f,"Iterator Helper"),e.exports=function(e,t){var r=function(r,a){a?(a.iterator=r.iterator,a.next=r.next):a=r,a.type=t?v:h,a.nextHandler=e,a.counter=0,a.done=!1,g(this,a)};return r.prototype=t?_:m,r}},2563:(e,t,r)=>{"use strict";var a=r(7609),n=r(8117),o=r(6469),i=r(8986),s=r(2160),c=r(9832),l=s((function(){var e=this.iterator,t=o(a(this.next,e));if(!(this.done=!!t.done))return c(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return o(this),n(e),new l(i(this),{mapper:e})}},7092:(e,t,r)=>{"use strict";var a,n,o,i=r(8462),s=r(8173),c=r(9693),l=r(9543),u=r(4483),p=r(5953),d=r(6387),f=r(4151),h=d("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(n=u(u(o)))!==Object.prototype&&(a=n):v=!0),!c(a)||i((function(){var e={};return a[h].call(e)!==e}))?a={}:f&&(a=l(a)),s(a[h])||p(a,h,(function(){return this})),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:v}},7343:e=>{"use strict";e.exports={}},9110:(e,t,r)=>{"use strict";var a=r(4233);e.exports=function(e){return a(e.length)}},1704:(e,t,r)=>{"use strict";var n=r(3062),o=r(8462),i=r(8173),s=r(1551),c=r(1923),l=r(63).CONFIGURABLE,u=r(5239),p=r(2417),d=p.enforce,f=p.get,h=String,v=Object.defineProperty,g=n("".slice),y=n("".replace),_=n([].join),m=c&&!o((function(){return 8!==v((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===g(h(t),0,7)&&(t="["+y(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(c?v(e,"name",{value:t,configurable:!0}):e.name=t),m&&r&&s(r,"arity")&&e.length!==r.arity&&v(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?c&&v(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var a=d(e);return s(a,"source")||(a.source=_(b,"string"==typeof t?t:"")),e};a.prototype.toString=w((function(){return i(this)&&f(this).source||u(this)}),"toString")},7741:(e,t,r)=>{"use strict";var a=r(3062),n=Map.prototype;e.exports={Map:Map,set:a(n.set),get:a(n.get),has:a(n.has),remove:a(n.delete),proto:n}},9344:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var a=+e;return(a>0?r:t)(a)}},5684:(e,t,r)=>{"use strict";var a,n,o,i,s,c=r(1848),l=r(5512),u=r(2038),p=r(4320).set,d=r(5141),f=r(9823),h=r(9788),v=r(2027),g=r(2409),y=c.MutationObserver||c.WebKitMutationObserver,_=c.document,m=c.process,b=c.Promise,w=l("queueMicrotask");if(!w){var k=new d,S=function(){var e,t;for(g&&(e=m.domain)&&e.exit();t=k.get();)try{t()}catch(e){throw k.head&&a(),e}e&&e.enter()};f||g||v||!y||!_?!h&&b&&b.resolve?((i=b.resolve(void 0)).constructor=b,s=u(i.then,i),a=function(){s(S)}):g?a=function(){m.nextTick(S)}:(p=u(p,c),a=function(){p(S)}):(n=!0,o=_.createTextNode(""),new y(S).observe(o,{characterData:!0}),a=function(){o.data=n=!n}),w=function(e){k.head||a(),k.add(e)}}e.exports=w},8326:(e,t,r)=>{"use strict";var a=r(8117),n=TypeError,o=function(e){var t,r;this.promise=new e((function(e,a){if(void 0!==t||void 0!==r)throw new n("Bad Promise constructor");t=e,r=a})),this.resolve=a(t),this.reject=a(r)};e.exports.f=function(e){return new o(e)}},9766:(e,t,r)=>{"use strict";var a=r(5774);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:a(e)}},8428:e=>{"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},9543:(e,t,r)=>{"use strict";var a,n=r(6469),o=r(1981),i=r(7094),s=r(7051),c=r(2241),l=r(4446),u=r(5612),p="prototype",d="script",f=u("IE_PROTO"),h=function(){},v=function(e){return"<"+d+">"+e+"</"+d+">"},g=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{a=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;y="undefined"!=typeof document?document.domain&&a?g(a):(t=l("iframe"),r="java"+d+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F):g(a);for(var n=i.length;n--;)delete y[p][i[n]];return y()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[p]=n(e),r=new h,h[p]=null,r[f]=e):r=y(),void 0===t?r:o.f(r,t)}},1981:(e,t,r)=>{"use strict";var a=r(1923),n=r(2552),o=r(615),i=r(6469),s=r(8632),c=r(5923);t.f=a&&!n?Object.defineProperties:function(e,t){i(e);for(var r,a=s(t),n=c(t),l=n.length,u=0;l>u;)o.f(e,r=n[u++],a[r]);return e}},615:(e,t,r)=>{"use strict";var a=r(1923),n=r(1881),o=r(2552),i=r(6469),s=r(7445),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",f="writable";t.f=a?o?function(e,t,r){if(i(e),t=s(t),i(r),"function"==typeof e&&"prototype"===t&&"value"in r&&f in r&&!r[f]){var a=u(e,t);a&&a[f]&&(e[t]=r.value,r={configurable:d in r?r[d]:a[d],enumerable:p in r?r[p]:a[p],writable:!1})}return l(e,t,r)}:l:function(e,t,r){if(i(e),t=s(t),i(r),n)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5983:(e,t,r)=>{"use strict";var a=r(1923),n=r(7609),o=r(6146),i=r(4127),s=r(8632),c=r(7445),l=r(1551),u=r(1881),p=Object.getOwnPropertyDescriptor;t.f=a?p:function(e,t){if(e=s(e),t=c(t),u)try{return p(e,t)}catch(e){}if(l(e,t))return i(!n(o.f,e,t),e[t])}},1010:(e,t,r)=>{"use strict";var a=r(6866),n=r(7094).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},436:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},4483:(e,t,r)=>{"use strict";var a=r(1551),n=r(8173),o=r(3659),i=r(5612),s=r(7712),c=i("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(a(t,c))return t[c];var r=t.constructor;return n(r)&&t instanceof r?r.prototype:t instanceof l?u:null}},6730:(e,t,r)=>{"use strict";var a=r(3062);e.exports=a({}.isPrototypeOf)},6866:(e,t,r)=>{"use strict";var a=r(3062),n=r(1551),o=r(8632),i=r(4158).indexOf,s=r(7051),c=a([].push);e.exports=function(e,t){var r,a=o(e),l=0,u=[];for(r in a)!n(s,r)&&n(a,r)&&c(u,r);for(;t.length>l;)n(a,r=t[l++])&&(~i(u,r)||c(u,r));return u}},5923:(e,t,r)=>{"use strict";var a=r(6866),n=r(7094);e.exports=Object.keys||function(e){return a(e,n)}},6146:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,n=a&&!r.call({1:2},1);t.f=n?function(e){var t=a(this,e);return!!t&&t.enumerable}:r},5273:(e,t,r)=>{"use strict";var a=r(252),n=r(9693),o=r(170),i=r(8924);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=a(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,a){return o(r),i(a),n(r)?(t?e(r,a):r.__proto__=a,r):r}}():void 0)},3613:(e,t,r)=>{"use strict";var a=r(7609),n=r(8173),o=r(9693),i=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&n(r=e.toString)&&!o(s=a(r,e)))return s;if(n(r=e.valueOf)&&!o(s=a(r,e)))return s;if("string"!==t&&n(r=e.toString)&&!o(s=a(r,e)))return s;throw new i("Can't convert object to primitive value")}},3349:(e,t,r)=>{"use strict";var a=r(9406),n=r(3062),o=r(1010),i=r(436),s=r(6469),c=n([].concat);e.exports=a("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=i.f;return r?c(t,r(e)):t}},3448:(e,t,r)=>{"use strict";var a=r(1848);e.exports=a},1689:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1495:(e,t,r)=>{"use strict";var a=r(1848),n=r(4243),o=r(8173),i=r(6124),s=r(5239),c=r(6387),l=r(1558),u=r(4151),p=r(9255),d=n&&n.prototype,f=c("species"),h=!1,v=o(a.PromiseRejectionEvent),g=i("Promise",(function(){var e=s(n),t=e!==String(n);if(!t&&66===p)return!0;if(u&&(!d.catch||!d.finally))return!0;if(!p||p<51||!/native code/.test(e)){var r=new n((function(e){e(1)})),a=function(e){e((function(){}),(function(){}))};if((r.constructor={})[f]=a,!(h=r.then((function(){}))instanceof a))return!0}return!(t||"BROWSER"!==l&&"DENO"!==l||v)}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:h}},4243:(e,t,r)=>{"use strict";var a=r(1848);e.exports=a.Promise},1128:(e,t,r)=>{"use strict";var a=r(6469),n=r(9693),o=r(8326);e.exports=function(e,t){if(a(e),n(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},7019:(e,t,r)=>{"use strict";var a=r(4243),n=r(4912),o=r(1495).CONSTRUCTOR;e.exports=o||!n((function(e){a.all(e).then(void 0,(function(){}))}))},4279:(e,t,r)=>{"use strict";var a=r(615).f;e.exports=function(e,t,r){r in e||a(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},5141:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},7834:(e,t,r)=>{"use strict";var a=r(6469);e.exports=function(){var e=a(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},170:(e,t,r)=>{"use strict";var a=r(1636),n=TypeError;e.exports=function(e){if(a(e))throw new n("Can't call method on "+e);return e}},5512:(e,t,r)=>{"use strict";var a=r(1848),n=r(1923),o=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!n)return a[e];var t=o(a,e);return t&&t.value}},929:(e,t,r)=>{"use strict";var a=r(3840),n=r(2745),o=a.Set,i=a.add;e.exports=function(e){var t=new o;return n(e,(function(e){i(t,e)})),t}},9864:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840),o=r(929),i=r(5179),s=r(1998),c=r(2745),l=r(9806),u=n.has,p=n.remove;e.exports=function(e){var t=a(this),r=s(e),n=o(t);return i(t)<=r.size?c(t,(function(e){r.includes(e)&&p(n,e)})):l(r.getIterator(),(function(e){u(t,e)&&p(n,e)})),n}},3840:(e,t,r)=>{"use strict";var a=r(3062),n=Set.prototype;e.exports={Set:Set,add:a(n.add),has:a(n.has),remove:a(n.delete),proto:n}},374:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840),o=r(5179),i=r(1998),s=r(2745),c=r(9806),l=n.Set,u=n.add,p=n.has;e.exports=function(e){var t=a(this),r=i(e),n=new l;return o(t)>r.size?c(r.getIterator(),(function(e){p(t,e)&&u(n,e)})):s(t,(function(e){r.includes(e)&&u(n,e)})),n}},7735:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840).has,o=r(5179),i=r(1998),s=r(2745),c=r(9806),l=r(9273);e.exports=function(e){var t=a(this),r=i(e);if(o(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==c(u,(function(e){if(n(t,e))return l(u,"normal",!1)}))}},6274:(e,t,r)=>{"use strict";var a=r(6016),n=r(5179),o=r(2745),i=r(1998);e.exports=function(e){var t=a(this),r=i(e);return!(n(t)>r.size)&&!1!==o(t,(function(e){if(!r.includes(e))return!1}),!0)}},9749:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840).has,o=r(5179),i=r(1998),s=r(9806),c=r(9273);e.exports=function(e){var t=a(this),r=i(e);if(o(t)<r.size)return!1;var l=r.getIterator();return!1!==s(l,(function(e){if(!n(t,e))return c(l,"normal",!1)}))}},2745:(e,t,r)=>{"use strict";var a=r(3062),n=r(9806),o=r(3840),i=o.Set,s=o.proto,c=a(s.forEach),l=a(s.keys),u=l(new i).next;e.exports=function(e,t,r){return r?n({iterator:l(e),next:u},t):c(e,t)}},4435:(e,t,r)=>{"use strict";var a=r(9406),n=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=a("Set");try{(new t)[e](n(0));try{return(new t)[e](n(-1)),!1}catch(e){return!0}}catch(e){return!1}}},5179:(e,t,r)=>{"use strict";var a=r(252),n=r(3840);e.exports=a(n.proto,"size","get")||function(e){return e.size}},5539:(e,t,r)=>{"use strict";var a=r(9406),n=r(6248),o=r(6387),i=r(1923),s=o("species");e.exports=function(e){var t=a(e);i&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},3285:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840),o=r(929),i=r(1998),s=r(9806),c=n.add,l=n.has,u=n.remove;e.exports=function(e){var t=a(this),r=i(e).getIterator(),n=o(t);return s(r,(function(e){l(t,e)?u(n,e):c(n,e)})),n}},6988:(e,t,r)=>{"use strict";var a=r(615).f,n=r(1551),o=r(6387)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!n(e,o)&&a(e,o,{configurable:!0,value:t})}},2394:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840).add,o=r(929),i=r(1998),s=r(9806);e.exports=function(e){var t=a(this),r=i(e).getIterator(),c=o(t);return s(r,(function(e){n(c,e)})),c}},5612:(e,t,r)=>{"use strict";var a=r(6231),n=r(4229),o=a("keys");e.exports=function(e){return o[e]||(o[e]=n(e))}},5517:(e,t,r)=>{"use strict";var a=r(4151),n=r(1848),o=r(3958),i="__core-js_shared__",s=e.exports=n[i]||o(i,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:a?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6231:(e,t,r)=>{"use strict";var a=r(5517);e.exports=function(e,t){return a[e]||(a[e]=t||{})}},9675:(e,t,r)=>{"use strict";var a=r(6469),n=r(6270),o=r(1636),i=r(6387)("species");e.exports=function(e,t){var r,s=a(e).constructor;return void 0===s||o(r=a(s)[i])?t:n(r)}},444:(e,t,r)=>{"use strict";var a=r(9255),n=r(8462),o=r(1848).String;e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},4320:(e,t,r)=>{"use strict";var a,n,o,i,s=r(1848),c=r(3178),l=r(2038),u=r(8173),p=r(1551),d=r(8462),f=r(2241),h=r(7706),v=r(4446),g=r(4315),y=r(9823),_=r(2409),m=s.setImmediate,b=s.clearImmediate,w=s.process,k=s.Dispatch,S=s.Function,I=s.MessageChannel,T=s.String,C=0,x={},A="onreadystatechange";d((function(){a=s.location}));var P=function(e){if(p(x,e)){var t=x[e];delete x[e],t()}},E=function(e){return function(){P(e)}},O=function(e){P(e.data)},M=function(e){s.postMessage(T(e),a.protocol+"//"+a.host)};m&&b||(m=function(e){g(arguments.length,1);var t=u(e)?e:S(e),r=h(arguments,1);return x[++C]=function(){c(t,void 0,r)},n(C),C},b=function(e){delete x[e]},_?n=function(e){w.nextTick(E(e))}:k&&k.now?n=function(e){k.now(E(e))}:I&&!y?(i=(o=new I).port2,o.port1.onmessage=O,n=l(i.postMessage,i)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&a&&"file:"!==a.protocol&&!d(M)?(n=M,s.addEventListener("message",O,!1)):n=A in v("script")?function(e){f.appendChild(v("script"))[A]=function(){f.removeChild(this),P(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:m,clear:b}},3663:(e,t,r)=>{"use strict";var a=r(6521),n=Math.max,o=Math.min;e.exports=function(e,t){var r=a(e);return r<0?n(r+t,0):o(r,t)}},3442:(e,t,r)=>{"use strict";var a=r(5124),n=TypeError;e.exports=function(e){var t=a(e,"number");if("number"==typeof t)throw new n("Can't convert number to bigint");return BigInt(t)}},8632:(e,t,r)=>{"use strict";var a=r(2832),n=r(170);e.exports=function(e){return a(n(e))}},6521:(e,t,r)=>{"use strict";var a=r(9344);e.exports=function(e){var t=+e;return t!=t||0===t?0:a(t)}},4233:(e,t,r)=>{"use strict";var a=r(6521),n=Math.min;e.exports=function(e){var t=a(e);return t>0?n(t,9007199254740991):0}},3659:(e,t,r)=>{"use strict";var a=r(170),n=Object;e.exports=function(e){return n(a(e))}},815:(e,t,r)=>{"use strict";var a=r(3657),n=RangeError;e.exports=function(e,t){var r=a(e);if(r%t)throw new n("Wrong offset");return r}},3657:(e,t,r)=>{"use strict";var a=r(6521),n=RangeError;e.exports=function(e){var t=a(e);if(t<0)throw new n("The argument can't be less than 0");return t}},5124:(e,t,r)=>{"use strict";var a=r(7609),n=r(9693),o=r(9525),i=r(3743),s=r(3613),c=r(6387),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!n(e)||o(e))return e;var r,c=i(e,u);if(c){if(void 0===t&&(t="default"),r=a(c,e,t),!n(r)||o(r))return r;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},7445:(e,t,r)=>{"use strict";var a=r(5124),n=r(9525);e.exports=function(e){var t=a(e,"string");return n(t)?t:t+""}},1326:(e,t,r)=>{"use strict";var a={};a[r(6387)("toStringTag")]="z",e.exports="[object z]"===String(a)},5774:(e,t,r)=>{"use strict";var a=r(1465),n=String;e.exports=function(e){if("Symbol"===a(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}},7420:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4229:(e,t,r)=>{"use strict";var a=r(3062),n=0,o=Math.random(),i=a(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++n+o,36)}},5363:(e,t,r)=>{"use strict";var a=r(444);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2552:(e,t,r)=>{"use strict";var a=r(1923),n=r(8462);e.exports=a&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4315:e=>{"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},3721:(e,t,r)=>{"use strict";var a=r(1848),n=r(8173),o=a.WeakMap;e.exports=n(o)&&/native code/.test(String(o))},6220:(e,t,r)=>{"use strict";var a=r(3448),n=r(1551),o=r(294),i=r(615).f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});n(t,e)||i(t,e,{value:o.f(e)})}},294:(e,t,r)=>{"use strict";var a=r(6387);t.f=a},6387:(e,t,r)=>{"use strict";var a=r(1848),n=r(6231),o=r(1551),i=r(4229),s=r(444),c=r(5363),l=a.Symbol,u=n("wks"),p=c?l.for||l:l&&l.withoutSetter||i;e.exports=function(e){return o(u,e)||(u[e]=s&&o(l,e)?l[e]:p("Symbol."+e)),u[e]}},3649:(e,t,r)=>{"use strict";var a=r(9406),n=r(1551),o=r(1384),i=r(6730),s=r(5273),c=r(744),l=r(4279),u=r(6339),p=r(9766),d=r(6001),f=r(2519),h=r(1923),v=r(4151);e.exports=function(e,t,r,g){var y="stackTraceLimit",_=g?2:1,m=e.split("."),b=m[m.length-1],w=a.apply(null,m);if(w){var k=w.prototype;if(!v&&n(k,"cause")&&delete k.cause,!r)return w;var S=a("Error"),I=t((function(e,t){var r=p(g?t:e,void 0),a=g?new w(e):new w;return void 0!==r&&o(a,"message",r),f(a,I,a.stack,2),this&&i(k,this)&&u(a,this,I),arguments.length>_&&d(a,arguments[_]),a}));if(I.prototype=k,"Error"!==b?s?s(I,S):c(I,S,{name:!0}):h&&y in w&&(l(I,w,y),l(I,w,"prepareStackTrace")),c(I,w),!v)try{k.name!==b&&o(k,"name",b),k.constructor=I}catch(e){}return I}}},7311:(e,t,r)=>{"use strict";var a=r(4395),n=r(9406),o=r(3178),i=r(8462),s=r(3649),c="AggregateError",l=n(c),u=!i((function(){return 1!==l([1]).errors[0]}))&&i((function(){return 7!==l([1],c,{cause:7}).cause}));a({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:s(c,(function(e){return function(t,r){return o(e,this,arguments)}}),u,!0)})},4240:(e,t,r)=>{"use strict";var a=r(4395),n=r(3659),o=r(9110),i=r(6521),s=r(2890);a({target:"Array",proto:!0},{at:function(e){var t=n(this),r=o(t),a=i(e),s=a>=0?a:r+a;return s<0||s>=r?void 0:t[s]}}),s("at")},3509:(e,t,r)=>{"use strict";var a=r(4395),n=r(2008).findLastIndex,o=r(2890);a({target:"Array",proto:!0},{findLastIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLastIndex")},7119:(e,t,r)=>{"use strict";var a=r(4395),n=r(2008).findLast,o=r(2890);a({target:"Array",proto:!0},{findLast:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLast")},2004:(e,t,r)=>{"use strict";var a=r(4395),n=r(3659),o=r(9110),i=r(7826),s=r(8475);a({target:"Array",proto:!0,arity:1,forced:r(8462)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=n(this),r=o(t),a=arguments.length;s(r+a);for(var c=0;c<a;c++)t[r]=arguments[c],r++;return i(t,r),r}})},7855:(e,t,r)=>{"use strict";var a=r(4395),n=r(459),o=r(8632),i=r(2890),s=Array;a({target:"Array",proto:!0},{toReversed:function(){return n(o(this),s)}}),i("toReversed")},2665:(e,t,r)=>{"use strict";var a=r(4395),n=r(3062),o=r(8117),i=r(8632),s=r(2239),c=r(8168),l=r(2890),u=Array,p=n(c("Array","sort"));a({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&o(e);var t=i(this),r=s(u,t);return p(r,e)}}),l("toSorted")},9772:(e,t,r)=>{"use strict";var a=r(4395),n=r(2890),o=r(8475),i=r(9110),s=r(3663),c=r(8632),l=r(6521),u=Array,p=Math.max,d=Math.min;a({target:"Array",proto:!0},{toSpliced:function(e,t){var r,a,n,f,h=c(this),v=i(h),g=s(e,v),y=arguments.length,_=0;for(0===y?r=a=0:1===y?(r=0,a=v-g):(r=y-2,a=d(p(l(t),0),v-g)),n=o(v+r-a),f=u(n);_<g;_++)f[_]=h[_];for(;_<g+r;_++)f[_]=arguments[_-g+2];for(;_<n;_++)f[_]=h[_+a-r];return f}}),n("toSpliced")},8971:(e,t,r)=>{"use strict";var a=r(4395),n=r(3659),o=r(9110),i=r(7826),s=r(5588),c=r(8475);a({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=n(this),r=o(t),a=arguments.length;if(a){c(r+a);for(var l=r;l--;){var u=l+a;l in t?t[u]=t[l]:s(t,u)}for(var p=0;p<a;p++)t[p]=arguments[p]}return i(t,r+a)}})},8135:(e,t,r)=>{"use strict";var a=r(4395),n=r(1403),o=r(8632),i=Array;a({target:"Array",proto:!0},{with:function(e,t){return n(o(this),i,e,t)}})},1474:(e,t,r)=>{"use strict";var a=r(4395),n=r(1848),o=r(3178),i=r(3649),s="WebAssembly",c=n[s],l=7!==new Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=i(e,t,l),a({global:!0,constructor:!0,arity:1,forced:l},r)},p=function(e,t){if(c&&c[e]){var r={};r[e]=i(s+"."+e,t,l),a({target:s,stat:!0,constructor:!0,arity:1,forced:l},r)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),p("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),p("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),p("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},8140:(e,t,r)=>{"use strict";r(4395)({target:"Object",stat:!0},{hasOwn:r(1551)})},5164:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(8117),i=r(8326),s=r(1689),c=r(2201);a({target:"Promise",stat:!0,forced:r(7019)},{allSettled:function(e){var t=this,r=i.f(t),a=r.resolve,l=r.reject,u=s((function(){var r=o(t.resolve),i=[],s=0,l=1;c(e,(function(e){var o=s++,c=!1;l++,n(r,t,e).then((function(e){c||(c=!0,i[o]={status:"fulfilled",value:e},--l||a(i))}),(function(e){c||(c=!0,i[o]={status:"rejected",reason:e},--l||a(i))}))})),--l||a(i)}));return u.error&&l(u.value),r.promise}})},4125:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(8117),i=r(8326),s=r(1689),c=r(2201);a({target:"Promise",stat:!0,forced:r(7019)},{all:function(e){var t=this,r=i.f(t),a=r.resolve,l=r.reject,u=s((function(){var r=o(t.resolve),i=[],s=0,u=1;c(e,(function(e){var o=s++,c=!1;u++,n(r,t,e).then((function(e){c||(c=!0,i[o]=e,--u||a(i))}),l)})),--u||a(i)}));return u.error&&l(u.value),r.promise}})},6406:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(8117),i=r(9406),s=r(8326),c=r(1689),l=r(2201),u=r(7019),p="No one promise resolved";a({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,r=i("AggregateError"),a=s.f(t),u=a.resolve,d=a.reject,f=c((function(){var a=o(t.resolve),i=[],s=0,c=1,f=!1;l(e,(function(e){var o=s++,l=!1;c++,n(a,t,e).then((function(e){l||f||(f=!0,u(e))}),(function(e){l||f||(l=!0,i[o]=e,--c||d(new r(i,p)))}))})),--c||d(new r(i,p))}));return f.error&&d(f.value),a.promise}})},8525:(e,t,r)=>{"use strict";var a=r(4395),n=r(4151),o=r(1495).CONSTRUCTOR,i=r(4243),s=r(9406),c=r(8173),l=r(5953),u=i&&i.prototype;if(a({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!n&&c(i)){var p=s("Promise").prototype.catch;u.catch!==p&&l(u,"catch",p,{unsafe:!0})}},1382:(e,t,r)=>{"use strict";var a,n,o,i=r(4395),s=r(4151),c=r(2409),l=r(1848),u=r(7609),p=r(5953),d=r(5273),f=r(6988),h=r(5539),v=r(8117),g=r(8173),y=r(9693),_=r(1747),m=r(9675),b=r(4320).set,w=r(5684),k=r(2157),S=r(1689),I=r(5141),T=r(2417),C=r(4243),x=r(1495),A=r(8326),P="Promise",E=x.CONSTRUCTOR,O=x.REJECTION_EVENT,M=x.SUBCLASSING,R=T.getterFor(P),D=T.set,L=C&&C.prototype,N=C,j=L,W=l.TypeError,F=l.document,$=l.process,U=A.f,B=U,H=!!(F&&F.createEvent&&l.dispatchEvent),q="unhandledrejection",G=function(e){var t;return!(!y(e)||!g(t=e.then))&&t},V=function(e,t){var r,a,n,o=t.value,i=1===t.state,s=i?e.ok:e.fail,c=e.resolve,l=e.reject,p=e.domain;try{s?(i||(2===t.rejection&&X(t),t.rejection=1),!0===s?r=o:(p&&p.enter(),r=s(o),p&&(p.exit(),n=!0)),r===e.promise?l(new W("Promise-chain cycle")):(a=G(r))?u(a,r,c,l):c(r)):l(o)}catch(e){p&&!n&&p.exit(),l(e)}},J=function(e,t){e.notified||(e.notified=!0,w((function(){for(var r,a=e.reactions;r=a.get();)V(r,e);e.notified=!1,t&&!e.rejection&&z(e)})))},K=function(e,t,r){var a,n;H?((a=F.createEvent("Event")).promise=t,a.reason=r,a.initEvent(e,!1,!0),l.dispatchEvent(a)):a={promise:t,reason:r},!O&&(n=l["on"+e])?n(a):e===q&&k("Unhandled promise rejection",r)},z=function(e){u(b,l,(function(){var t,r=e.facade,a=e.value;if(Q(e)&&(t=S((function(){c?$.emit("unhandledRejection",a,r):K(q,r,a)})),e.rejection=c||Q(e)?2:1,t.error))throw t.value}))},Q=function(e){return 1!==e.rejection&&!e.parent},X=function(e){u(b,l,(function(){var t=e.facade;c?$.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},Z=function(e,t,r){return function(a){e(t,a,r)}},Y=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,J(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new W("Promise can't be resolved itself");var a=G(t);a?w((function(){var r={done:!1};try{u(a,t,Z(ee,r,e),Z(Y,r,e))}catch(t){Y(r,t,e)}})):(e.value=t,e.state=1,J(e,!1))}catch(t){Y({done:!1},t,e)}}};if(E&&(j=(N=function(e){_(this,j),v(e),u(a,this);var t=R(this);try{e(Z(ee,t),Z(Y,t))}catch(e){Y(t,e)}}).prototype,(a=function(e){D(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:null})}).prototype=p(j,"then",(function(e,t){var r=R(this),a=U(m(this,N));return r.parent=!0,a.ok=!g(e)||e,a.fail=g(t)&&t,a.domain=c?$.domain:void 0,0===r.state?r.reactions.add(a):w((function(){V(a,r)})),a.promise})),n=function(){var e=new a,t=R(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(Y,t)},A.f=U=function(e){return e===N||undefined===e?new n(e):B(e)},!s&&g(C)&&L!==Object.prototype)){o=L.then,M||p(L,"then",(function(e,t){var r=this;return new N((function(e,t){u(o,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}d&&d(L,j)}i({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:N}),f(N,P,!1,!0),h(P)},1410:(e,t,r)=>{"use strict";var a=r(4395),n=r(4151),o=r(4243),i=r(8462),s=r(9406),c=r(8173),l=r(9675),u=r(1128),p=r(5953),d=o&&o.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!o&&i((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),r=c(e);return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!n&&c(o)){var f=s("Promise").prototype.finally;d.finally!==f&&p(d,"finally",f,{unsafe:!0})}},7788:(e,t,r)=>{"use strict";r(1382),r(4125),r(8525),r(4832),r(1050),r(2529)},4832:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(8117),i=r(8326),s=r(1689),c=r(2201);a({target:"Promise",stat:!0,forced:r(7019)},{race:function(e){var t=this,r=i.f(t),a=r.reject,l=s((function(){var i=o(t.resolve);c(e,(function(e){n(i,t,e).then(r.resolve,a)}))}));return l.error&&a(l.value),r.promise}})},1050:(e,t,r)=>{"use strict";var a=r(4395),n=r(8326);a({target:"Promise",stat:!0,forced:r(1495).CONSTRUCTOR},{reject:function(e){var t=n.f(this);return(0,t.reject)(e),t.promise}})},2529:(e,t,r)=>{"use strict";var a=r(4395),n=r(9406),o=r(4151),i=r(4243),s=r(1495).CONSTRUCTOR,c=r(1128),l=n("Promise"),u=o&&!s;a({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return c(u&&this===l?i:this,e)}})},7638:(e,t,r)=>{"use strict";var a=r(1848),n=r(1923),o=r(6248),i=r(7834),s=r(8462),c=a.RegExp,l=c.prototype;n&&s((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",a=e?"dgimsy":"gimsy",n=function(e,a){Object.defineProperty(t,e,{get:function(){return r+=a,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(o.hasIndices="d"),o)n(i,o[i]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(t)!==a||r!==a}))&&o(l,"flags",{configurable:!0,get:i})},9983:(e,t,r)=>{"use strict";var a=r(4395),n=r(9864);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("difference")},{difference:n})},6276:(e,t,r)=>{"use strict";var a=r(4395),n=r(8462),o=r(374);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("intersection")||n((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:o})},9297:(e,t,r)=>{"use strict";var a=r(4395),n=r(7735);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("isDisjointFrom")},{isDisjointFrom:n})},6816:(e,t,r)=>{"use strict";var a=r(4395),n=r(6274);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSubsetOf")},{isSubsetOf:n})},6756:(e,t,r)=>{"use strict";var a=r(4395),n=r(9749);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSupersetOf")},{isSupersetOf:n})},960:(e,t,r)=>{"use strict";var a=r(4395),n=r(3285);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("symmetricDifference")},{symmetricDifference:n})},9301:(e,t,r)=>{"use strict";var a=r(4395),n=r(2394);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("union")},{union:n})},6303:(e,t,r)=>{"use strict";var a=r(4395),n=r(3062),o=r(170),i=r(6521),s=r(5774),c=r(8462),l=n("".charAt);a({target:"String",proto:!0,forced:c((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(o(this)),r=t.length,a=i(e),n=a>=0?a:r+a;return n<0||n>=r?void 0:l(t,n)}})},1516:(e,t,r)=>{"use strict";var a=r(4395),n=r(3062),o=r(170),i=r(5774),s=n("".charCodeAt);a({target:"String",proto:!0},{isWellFormed:function(){for(var e=i(o(this)),t=e.length,r=0;r<t;r++){var a=s(e,r);if(55296==(63488&a)&&(a>=56320||++r>=t||56320!=(64512&s(e,r))))return!1}return!0}})},705:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(3062),i=r(170),s=r(5774),c=r(8462),l=Array,u=o("".charAt),p=o("".charCodeAt),d=o([].join),f="".toWellFormed,h=f&&c((function(){return"1"!==n(f,1)}));a({target:"String",proto:!0,forced:h},{toWellFormed:function(){var e=s(i(this));if(h)return n(f,e);for(var t=e.length,r=l(t),a=0;a<t;a++){var o=p(e,a);55296!=(63488&o)?r[a]=u(e,a):o>=56320||a+1>=t||56320!=(64512&p(e,a+1))?r[a]="�":(r[a]=u(e,a),r[++a]=u(e,a))}return d(r,"")}})},1825:(e,t,r)=>{"use strict";var a=r(1759),n=r(9110),o=r(6521),i=a.aTypedArray;(0,a.exportTypedArrayMethod)("at",(function(e){var t=i(this),r=n(t),a=o(e),s=a>=0?a:r+a;return s<0||s>=r?void 0:t[s]}))},2220:(e,t,r)=>{"use strict";var a=r(1759),n=r(1180),o=r(3442),i=r(1465),s=r(7609),c=r(3062),l=r(8462),u=a.aTypedArray,p=a.exportTypedArrayMethod,d=c("".slice);p("fill",(function(e){var t=arguments.length;u(this);var r="Big"===d(i(this),0,3)?o(e):+e;return s(n,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),l((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},4774:(e,t,r)=>{"use strict";var a=r(1759),n=r(2008).findLastIndex,o=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLastIndex",(function(e){return n(o(this),e,arguments.length>1?arguments[1]:void 0)}))},1519:(e,t,r)=>{"use strict";var a=r(1759),n=r(2008).findLast,o=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLast",(function(e){return n(o(this),e,arguments.length>1?arguments[1]:void 0)}))},1520:(e,t,r)=>{"use strict";var a=r(1848),n=r(7609),o=r(1759),i=r(9110),s=r(815),c=r(3659),l=r(8462),u=a.RangeError,p=a.Int8Array,d=p&&p.prototype,f=d&&d.set,h=o.aTypedArray,v=o.exportTypedArrayMethod,g=!l((function(){var e=new Uint8ClampedArray(2);return n(f,e,{length:1,0:3},1),3!==e[1]})),y=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var e=new p(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));v("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(g)return n(f,this,r,t);var a=this.length,o=i(r),l=0;if(o+t>a)throw new u("Wrong length");for(;l<o;)this[t+l]=r[l++]}),!g||y)},2663:(e,t,r)=>{"use strict";var a=r(1848),n=r(1992),o=r(8462),i=r(8117),s=r(9070),c=r(1759),l=r(9257),u=r(1466),p=r(9255),d=r(8560),f=c.aTypedArray,h=c.exportTypedArrayMethod,v=a.Uint16Array,g=v&&n(v.prototype.sort),y=!(!g||o((function(){g(new v(2),null)}))&&o((function(){g(new v(2),{})}))),_=!!g&&!o((function(){if(p)return p<74;if(l)return l<67;if(u)return!0;if(d)return d<602;var e,t,r=new v(516),a=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,a[e]=e-2*t+3;for(g(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==a[e])return!0}));h("sort",(function(e){return void 0!==e&&i(e),_?g(this,e):s(f(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!_||y)},8348:(e,t,r)=>{"use strict";var a=r(459),n=r(1759),o=n.aTypedArray,i=n.exportTypedArrayMethod,s=n.getTypedArrayConstructor;i("toReversed",(function(){return a(o(this),s(this))}))},3457:(e,t,r)=>{"use strict";var a=r(1759),n=r(3062),o=r(8117),i=r(2239),s=a.aTypedArray,c=a.getTypedArrayConstructor,l=a.exportTypedArrayMethod,u=n(a.TypedArrayPrototype.sort);l("toSorted",(function(e){void 0!==e&&o(e);var t=s(this),r=i(c(t),t);return u(r,e)}))},6939:(e,t,r)=>{"use strict";var a=r(1403),n=r(1759),o=r(4107),i=r(6521),s=r(3442),c=n.aTypedArray,l=n.getTypedArrayConstructor,u=n.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=c(this),n=i(e),u=o(r)?s(t):+t;return a(r,l(r),n,u)}}.with,!p)},5388:(e,t,r)=>{"use strict";r(4240)},1034:(e,t,r)=>{"use strict";r(3509)},5601:(e,t,r)=>{"use strict";r(7119)},5794:(e,t,r)=>{"use strict";var a=r(4395),n=r(4744),o=r(8462),i=Array.fromAsync;a({target:"Array",stat:!0,forced:!i||o((function(){var e=0;return i.call((function(){return e++,[]}),{length:0}),1!==e}))},{fromAsync:n})},1772:(e,t,r)=>{"use strict";var a=r(4395),n=r(7816),o=r(2890),i=r(3077);a({target:"Array",proto:!0,name:"groupToMap",forced:r(4151)||!n("groupByToMap")},{groupByToMap:i}),o("groupByToMap")},6384:(e,t,r)=>{"use strict";var a=r(4395),n=r(6747),o=r(7816),i=r(2890);a({target:"Array",proto:!0,forced:!o("groupBy")},{groupBy:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("groupBy")},2802:(e,t,r)=>{"use strict";var a=r(4395),n=r(2890),o=r(3077);a({target:"Array",proto:!0,forced:r(4151)},{groupToMap:o}),n("groupToMap")},2985:(e,t,r)=>{"use strict";var a=r(4395),n=r(6747),o=r(2890);a({target:"Array",proto:!0},{group:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o("group")},69:(e,t,r)=>{"use strict";r(7855)},6750:(e,t,r)=>{"use strict";r(2665)},6062:(e,t,r)=>{"use strict";r(9772)},3131:(e,t,r)=>{"use strict";r(8135)},4752:(e,t,r)=>{"use strict";var a=r(4395),n=r(1747),o=r(4483),i=r(1384),s=r(1551),c=r(6387),l=r(2179),u=r(4151),p=c("toStringTag"),d=TypeError,f=function(){if(n(this,l),o(this)===l)throw new d("Abstract class AsyncIterator not directly constructable")};f.prototype=l,s(l,p)||i(l,p,"AsyncIterator"),!u&&s(l,"constructor")&&l.constructor!==Object||i(l,"constructor",f),a({global:!0,constructor:!0,forced:u},{AsyncIterator:f})},9435:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(6469),i=r(8986),s=r(8428),c=r(3657),l=r(9296),u=r(9462),p=r(4151),d=l((function(e){var t=this;return new e((function(r,a){var i=function(e){t.done=!0,a(e)},s=function(){try{e.resolve(o(n(t.next,t.iterator))).then((function(e){try{o(e).done?(t.done=!0,r(u(void 0,!0))):t.remaining?(t.remaining--,s()):r(u(e.value,!1))}catch(e){i(e)}}),i)}catch(e){i(e)}};s()}))}));a({target:"AsyncIterator",proto:!0,real:!0,forced:p},{drop:function(e){o(this);var t=c(s(+e));return new d(i(this),{remaining:t})}})},2886:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).every;a({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return n(this,e)}})},1139:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(8117),i=r(6469),s=r(9693),c=r(8986),l=r(9296),u=r(9462),p=r(7897),d=r(4151),f=l((function(e){var t=this,r=t.iterator,a=t.predicate;return new e((function(o,c){var l=function(e){t.done=!0,c(e)},d=function(e){p(r,l,e,l)},f=function(){try{e.resolve(i(n(t.next,r))).then((function(r){try{if(i(r).done)t.done=!0,o(u(void 0,!0));else{var n=r.value;try{var c=a(n,t.counter++),p=function(e){e?o(u(n,!1)):f()};s(c)?e.resolve(c).then(p,d):p(c)}catch(e){d(e)}}}catch(e){l(e)}}),l)}catch(e){l(e)}};f()}))}));a({target:"AsyncIterator",proto:!0,real:!0,forced:d},{filter:function(e){return i(this),o(e),new f(c(this),{predicate:e})}})},6108:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).find;a({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return n(this,e)}})},3115:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(8117),i=r(6469),s=r(9693),c=r(8986),l=r(9296),u=r(9462),p=r(1401),d=r(7897),f=r(4151),h=l((function(e){var t=this,r=t.iterator,a=t.mapper;return new e((function(o,c){var l=function(e){t.done=!0,c(e)},f=function(e){d(r,l,e,l)},h=function(){try{e.resolve(i(n(t.next,r))).then((function(r){try{if(i(r).done)t.done=!0,o(u(void 0,!0));else{var n=r.value;try{var c=a(n,t.counter++),d=function(e){try{t.inner=p(e),v()}catch(e){f(e)}};s(c)?e.resolve(c).then(d,f):d(c)}catch(e){f(e)}}}catch(e){l(e)}}),l)}catch(e){l(e)}},v=function(){var r=t.inner;if(r)try{e.resolve(i(n(r.next,r.iterator))).then((function(e){try{i(e).done?(t.inner=null,h()):o(u(e.value,!1))}catch(e){f(e)}}),f)}catch(e){f(e)}else h()};v()}))}));a({target:"AsyncIterator",proto:!0,real:!0,forced:f},{flatMap:function(e){return i(this),o(e),new h(c(this),{mapper:e,inner:null})}})},7389:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).forEach;a({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return n(this,e)}})},4085:(e,t,r)=>{"use strict";var a=r(4395),n=r(3659),o=r(6730),i=r(1401),s=r(2179),c=r(3525);a({target:"AsyncIterator",stat:!0,forced:r(4151)},{from:function(e){var t=i("string"==typeof e?n(e):e);return o(s,t.iterator)?t.iterator:new c(t)}})},2392:(e,t,r)=>{"use strict";var a=r(4395),n=r(7073);a({target:"AsyncIterator",proto:!0,real:!0,forced:r(4151)},{map:n})},2625:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(8117),i=r(6469),s=r(9693),c=r(9406),l=r(8986),u=r(7897),p=c("Promise"),d=TypeError;a({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){i(this),o(e);var t=l(this),r=t.iterator,a=t.next,c=arguments.length<2,f=c?void 0:arguments[1],h=0;return new p((function(t,o){var l=function(e){u(r,o,e,o)},v=function(){try{p.resolve(i(n(a,r))).then((function(r){try{if(i(r).done)c?o(new d("Reduce of empty iterator with no initial value")):t(f);else{var a=r.value;if(c)c=!1,f=a,v();else try{var n=e(f,a,h),u=function(e){f=e,v()};s(n)?p.resolve(n).then(u,l):u(n)}catch(e){l(e)}}h++}catch(e){o(e)}}),o)}catch(e){o(e)}};v()}))}})},7740:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).some;a({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return n(this,e)}})},4342:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(6469),i=r(8986),s=r(8428),c=r(3657),l=r(9296),u=r(9462),p=r(4151),d=l((function(e){var t,r=this,a=r.iterator;if(!r.remaining--){var i=u(void 0,!0);return r.done=!0,void 0!==(t=a.return)?e.resolve(n(t,a,void 0)).then((function(){return i})):i}return e.resolve(n(r.next,a)).then((function(e){return o(e).done?(r.done=!0,u(void 0,!0)):u(e.value,!1)})).then(null,(function(e){throw r.done=!0,e}))}));a({target:"AsyncIterator",proto:!0,real:!0,forced:p},{take:function(e){o(this);var t=c(s(+e));return new d(i(this),{remaining:t})}})},2767:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).toArray;a({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return n(this,void 0,[])}})},585:(e,t,r)=>{"use strict";var a=r(4395),n=r(1923),o=r(9406),i=r(8117),s=r(1747),c=r(5953),l=r(8881),u=r(6248),p=r(6387),d=r(2417),f=r(7591),h=o("SuppressedError"),v=ReferenceError,g=p("dispose"),y=p("toStringTag"),_="DisposableStack",m=d.set,b=d.getterFor(_),w="sync-dispose",k="disposed",S=function(e){var t=b(e);if(t.state===k)throw new v(_+" already disposed");return t},I=function(){m(s(this,T),{type:_,state:"pending",stack:[]}),n||(this.disposed=!1)},T=I.prototype;l(T,{dispose:function(){var e=b(this);if(e.state!==k){e.state=k,n||(this.disposed=!0);for(var t,r=e.stack,a=r.length,o=!1;a;){var i=r[--a];r[a]=null;try{i()}catch(e){o?t=new h(e,t):(o=!0,t=e)}}if(e.stack=null,o)throw t}},use:function(e){return f(S(this),e,w),e},adopt:function(e,t){var r=S(this);return i(t),f(r,void 0,w,(function(){t(e)})),e},defer:function(e){var t=S(this);i(e),f(t,void 0,w,e)},move:function(){var e=S(this),t=new I;return b(t).stack=e.stack,e.stack=[],e.state=k,n||(this.disposed=!0),t}}),n&&u(T,"disposed",{configurable:!0,get:function(){return b(this).state===k}}),c(T,g,T.dispose,{name:"dispose"}),c(T,y,_,{nonWritable:!0}),a({global:!0,constructor:!0},{DisposableStack:I})},6508:(e,t,r)=>{"use strict";var a=r(4395),n=r(1848),o=r(1747),i=r(6469),s=r(8173),c=r(4483),l=r(6248),u=r(4676),p=r(8462),d=r(1551),f=r(6387),h=r(7092).IteratorPrototype,v=r(1923),g=r(4151),y="constructor",_="Iterator",m=f("toStringTag"),b=TypeError,w=n[_],k=g||!s(w)||w.prototype!==h||!p((function(){w({})})),S=function(){if(o(this,h),c(this)===h)throw new b("Abstract class Iterator not directly constructable")},I=function(e,t){v?l(h,e,{configurable:!0,get:function(){return t},set:function(t){if(i(this),this===h)throw new b("You can't redefine this property");d(this,e)?this[e]=t:u(this,e,t)}}):h[e]=t};d(h,m)||I(m,_),!k&&d(h,y)&&h[y]!==Object||I(y,S),S.prototype=h,a({global:!0,constructor:!0,forced:k},{Iterator:S})},7255:(e,t,r)=>{"use strict";var a=r(7609),n=r(5953),o=r(3743),i=r(1551),s=r(6387),c=r(7092).IteratorPrototype,l=s("dispose");i(c,l)||n(c,l,(function(){var e=o(this,"return");e&&a(e,this)}))},3086:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(6469),i=r(8986),s=r(8428),c=r(3657),l=r(2160),u=r(4151),p=l((function(){for(var e,t=this.iterator,r=this.next;this.remaining;)if(this.remaining--,e=o(n(r,t)),this.done=!!e.done)return;if(e=o(n(r,t)),!(this.done=!!e.done))return e.value}));a({target:"Iterator",proto:!0,real:!0,forced:u},{drop:function(e){o(this);var t=c(s(+e));return new p(i(this),{remaining:t})}})},7439:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),o=r(8117),i=r(6469),s=r(8986);a({target:"Iterator",proto:!0,real:!0},{every:function(e){i(this),o(e);var t=s(this),r=0;return!n(t,(function(t,a){if(!e(t,r++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1408:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(8117),i=r(6469),s=r(8986),c=r(2160),l=r(9832),u=r(4151),p=c((function(){for(var e,t,r=this.iterator,a=this.predicate,o=this.next;;){if(e=i(n(o,r)),this.done=!!e.done)return;if(t=e.value,l(r,a,[t,this.counter++],!0))return t}}));a({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return i(this),o(e),new p(s(this),{predicate:e})}})},674:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),o=r(8117),i=r(6469),s=r(8986);a({target:"Iterator",proto:!0,real:!0},{find:function(e){i(this),o(e);var t=s(this),r=0;return n(t,(function(t,a){if(e(t,r++))return a(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7471:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(8117),i=r(6469),s=r(8986),c=r(8304),l=r(2160),u=r(9273),p=r(4151),d=l((function(){for(var e,t,r=this.iterator,a=this.mapper;;){if(t=this.inner)try{if(!(e=i(n(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){u(r,"throw",e)}if(e=i(n(this.next,r)),this.done=!!e.done)return;try{this.inner=c(a(e.value,this.counter++),!1)}catch(e){u(r,"throw",e)}}}));a({target:"Iterator",proto:!0,real:!0,forced:p},{flatMap:function(e){return i(this),o(e),new d(s(this),{mapper:e,inner:null})}})},9397:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),o=r(8117),i=r(6469),s=r(8986);a({target:"Iterator",proto:!0,real:!0},{forEach:function(e){i(this),o(e);var t=s(this),r=0;n(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},2426:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(3659),i=r(6730),s=r(7092).IteratorPrototype,c=r(2160),l=r(8304),u=r(4151),p=c((function(){return n(this.next,this.iterator)}),!0);a({target:"Iterator",stat:!0,forced:u},{from:function(e){var t=l("string"==typeof e?o(e):e,!0);return i(s,t.iterator)?t.iterator:new p(t)}})},6806:(e,t,r)=>{"use strict";var a=r(4395),n=r(2563);a({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{map:n})},1978:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),o=r(8117),i=r(6469),s=r(8986),c=TypeError;a({target:"Iterator",proto:!0,real:!0},{reduce:function(e){i(this),o(e);var t=s(this),r=arguments.length<2,a=r?void 0:arguments[1],l=0;if(n(t,(function(t){r?(r=!1,a=t):a=e(a,t,l),l++}),{IS_RECORD:!0}),r)throw new c("Reduce of empty iterator with no initial value");return a}})},8245:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),o=r(8117),i=r(6469),s=r(8986);a({target:"Iterator",proto:!0,real:!0},{some:function(e){i(this),o(e);var t=s(this),r=0;return n(t,(function(t,a){if(e(t,r++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7331:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),o=r(6469),i=r(8986),s=r(8428),c=r(3657),l=r(2160),u=r(9273),p=r(4151),d=l((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,u(e,"normal",void 0);var t=o(n(this.next,e));return(this.done=!!t.done)?void 0:t.value}));a({target:"Iterator",proto:!0,real:!0,forced:p},{take:function(e){o(this);var t=c(s(+e));return new d(i(this),{remaining:t})}})},6496:(e,t,r)=>{"use strict";var a=r(4395),n=r(6469),o=r(2201),i=r(8986),s=[].push;a({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return o(i(n(this)),s,{that:e,IS_RECORD:!0}),e}})},1166:(e,t,r)=>{"use strict";var a=r(4395),n=r(6469),o=r(147),i=r(3525),s=r(8986);a({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{toAsync:function(){return new i(s(new o(s(n(this)))))}})},2359:(e,t,r)=>{"use strict";r(8140)},7472:(e,t,r)=>{"use strict";r(9983)},7322:(e,t,r)=>{"use strict";r(6276)},6539:(e,t,r)=>{"use strict";r(9297)},8866:(e,t,r)=>{"use strict";r(6816)},9701:(e,t,r)=>{"use strict";r(6756)},5102:(e,t,r)=>{"use strict";r(960)},2373:(e,t,r)=>{"use strict";r(9301)},1853:(e,t,r)=>{"use strict";r(1516)},5030:(e,t,r)=>{"use strict";r(705)},8855:(e,t,r)=>{"use strict";var a=r(4395),n=r(1848),o=r(6730),i=r(4483),s=r(5273),c=r(744),l=r(9543),u=r(1384),p=r(4127),d=r(2519),f=r(9766),h=r(6387),v=r(8462),g=r(4151),y=n.SuppressedError,_=h("toStringTag"),m=Error,b=!!y&&3!==y.length,w=!!y&&v((function(){return 4===new y(1,2,3,{cause:4}).cause})),k=b||w,S=function(e,t,r){var a,n=o(I,this);return s?a=!k||n&&i(this)!==I?s(new m,n?i(this):I):new y:(a=n?this:l(I),u(a,_,"Error")),void 0!==r&&u(a,"message",f(r)),d(a,S,a.stack,1),u(a,"error",e),u(a,"suppressed",t),a};s?s(S,m):c(S,m,{name:!0});var I=S.prototype=k?y.prototype:l(m.prototype,{constructor:p(1,S),message:p(1,""),name:p(1,"SuppressedError")});k&&!g&&(I.constructor=S),a({global:!0,constructor:!0,arity:3,forced:k},{SuppressedError:S})},6845:(e,t,r)=>{"use strict";var a=r(1848),n=r(6220),o=r(615).f,i=r(5983).f,s=a.Symbol;if(n("dispose"),s){var c=i(s,"dispose");c.enumerable&&c.configurable&&c.writable&&o(s,"dispose",{value:c.value,enumerable:!1,configurable:!1,writable:!1})}},1085:(e,t,r)=>{"use strict";r(1825)},7594:(e,t,r)=>{"use strict";r(4774)},1374:(e,t,r)=>{"use strict";r(1519)},8471:(e,t,r)=>{"use strict";r(8348)},2539:(e,t,r)=>{"use strict";r(3457)},9235:(e,t,r)=>{"use strict";var a=r(1759),n=r(9110),o=r(4107),i=r(3663),s=r(3442),c=r(6521),l=r(8462),u=a.aTypedArray,p=a.getTypedArrayConstructor,d=a.exportTypedArrayMethod,f=Math.max,h=Math.min;d("toSpliced",(function(e,t){var r,a,l,d,v,g,y,_=u(this),m=p(_),b=n(_),w=i(e,b),k=arguments.length,S=0;if(0===k)r=a=0;else if(1===k)r=0,a=b-w;else if(a=h(f(c(t),0),b-w),r=k-2){d=new m(r),l=o(d);for(var I=2;I<k;I++)v=arguments[I],d[I-2]=l?s(v):+v}for(y=new m(g=b+r-a);S<w;S++)y[S]=_[S];for(;S<w+r;S++)y[S]=d[S-w];for(;S<g;S++)y[S]=_[S+a-r];return y}),!!l((function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return 2!==t[0]||3!==t[1]})))},7209:(e,t,r)=>{"use strict";r(6939)},4844:(e,t,r)=>{var a=r(5803);a.keys().forEach((e=>{n[e.substr(2)]=a(e)}))},8071:(e,t,r)=>{"use strict";r.r(t);r(1474),r(7311),r(4240),r(7119),r(3509),r(2004),r(8971),r(8140),r(7788),r(5164),r(6406),r(1410),r(7638),r(6303),r(1825),r(2220),r(1519),r(4774),r(1520),r(2663),r(5388),r(5601),r(1034),r(2359),r(1085),r(1374),r(7594),r(8855),r(5794),r(2985),r(6384),r(1772),r(2802),r(69),r(6750),r(6062),r(3131),r(4752),r(9435),r(2886),r(1139),r(6108),r(3115),r(7389),r(4085),r(2392),r(2625),r(7740),r(4342),r(2767),r(585),r(6508),r(7255),r(3086),r(7439),r(1408),r(674),r(7471),r(9397),r(2426),r(6806),r(1978),r(8245),r(7331),r(6496),r(1166),r(7472),r(7322),r(6539),r(8866),r(9701),r(5102),r(2373),r(1853),r(5030),r(6845),r(8471),r(2539),r(9235),r(7209);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var e=!1,t=null;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform){if("ios"===r.g.__wxConfig.platform.toLowerCase()){e=!0;var a=r.g.__wxConfig.system||"";t=a.startsWith("iOS ")?a.substr(4):null}}else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var n=navigator.userAgent.toLowerCase();if(n.indexOf("iphone")>=0||n.indexOf("ipad")>=0){e=!0;var o=/iphone os ([\d_]+)/.exec(n);t=o?o[1].replace(/_/g,"."):null}}var i,s=[];e&&(null!==t&&(i=t.split(".")[0],parseInt(i,10)>=16)||(r.g.Promise=void 0),s.push("Promise")),r(9762)({usePolyfill:s,useNative:["WeakMap"]}),r(8071),r(4844),delete r.g.__polyfill_injecting})()})();var o,i,s=function(e){e()};(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{e.d(n,{default:()=>nt});var i={};e.r(i),e.d(i,{convertToErrorObj:()=>X,emitFrameworkError:()=>te,emitUnhandledError:()=>re,emitUnhandledRejection:()=>Z,onFrameworkError:()=>ne,onUnhandledError:()=>oe,onUnhandledRejection:()=>ae});var s=e.g.__wxLibrary,u=e.g.__wxConfig,p=s.envType,d=s.contextType,f="Service"===p,h="WebView"===p,v="Worker"===p,g=h||f&&0===d.indexOf("App:"),y=f&&0===d.indexOf("Game:"),_=0===d.indexOf("MagicBrush:"),m=!!u.isIsolateContext,b=m&&f&&d.indexOf("MainContext")>=0,k=m&&f&&d.indexOf("SubContext")>=0,S=k&&d.indexOf("Safe")>=0,I=b||k,T="wxlib"===u.workerContentType,C=h||b||S||T,x=function(e){var t=u.platform;if(!t&&"object"==typeof window&&"string"==typeof(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)){var r=window.navigator.userAgent.toLowerCase();r.indexOf("devtools")>=0?t="devtools":r.indexOf("miniprogramenv/windows")>=0?t="windows":r.indexOf("miniprogramenv/mac")>=0?t="mac":r.indexOf("miniprogramenv/mina")>=0?t="mina":r.indexOf("iphone")>=0||r.indexOf("ipad")>=0?t="ios":r.indexOf("android")>=0&&(t="android")}return(t||"unknown").toLowerCase()}(),A=void 0===t||"develop"===t.version?"9.9.9":t.version,P=!!s.mayHaveSnapshot,E=(()=>"object"==typeof e.g&&e.g&&e.g.__wkrenderer_h5)();const O={platform:x,SDKVersion:A,isIsolateContext:I,isGame:y,isApp:g,isMainContext:b,isSubContext:k,isSafeEnv:C,isService:f,isWebView:h,isWorker:v,isWidget:!1,typeStr:k?"SubContext":p,fileName:s.fileName,isWXLibWorker:T,workerType:"user",contextName:"",mayHaveSnapShot:P,isWKGame:!!E,isMagicBrushFrameEnv:_};var M=()=>{},R="devtools"===O.platform;"undefined"!=typeof performance&&performance.now;function D(e,t=(()=>M)){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function L(){var t=o||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var N=()=>{},j=["log","info","warn","error","debug"];const W=D(j);var F=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],$=(()=>{var e=D(F);return e})();const U=$;var B=Symbol("error"),H=Symbol("slow");class q{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(B,e),this}onSlow(e){return this.onInternalEvent(H,e),this}_privEmit(e,t,...r){var a=this.$[e];if(a&&a.length>0){var n,o=!1;for(var i of a){if(0!==i.count)try{var s=Date.now();n=i.cb(...r);var c=Date.now();c-s>q.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(H,e,s,c,i.cb)}catch(t){if(!this.emitPrivate(B,e,t))throw t}if(i.count>0&&i.count--,0===i.count&&(o=!0),!1===n&&t.cancelable)break}return o&&(this.$[e]=a.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,a={}){if(!t)return this;var n={count:r,cb:t},o=this.$[e];return o?a.prepend?o.unshift(n):o.push(n):this.$[e]=[n],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var a=r.findIndex((e=>e.cb===t));return!(a<0)&&(r.splice(a,1),!0)}}q.SLOW_CALLBACK_THRESHOLD=50;var G=new q,V="unhandlederror",J="unhandledrejection",K="frameworkerror",z=new WeakMap;var Q=Object.prototype.hasOwnProperty;function X(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function Z(e,t){e=X(e),$e.onLoad((()=>{G.emit(J,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}))}var Y=!1,ee=!1;function te(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=X(e),o.isSnapshoting)throw e;$e.onLoad((()=>{if(Y)console.error("[ErrorHandler] recursive framework error detected.",e);else{Y=!0;try{G.emit(K,e)||re(e)}catch(e){console.error("Framework",e)}Y=!1}}))}function re(e){if(e=X(e),o.isSnapshoting)throw e;$e.onLoad((()=>{if(ee)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{ee=!0;try{G.emit(V,e)||("windows"!==o.platform&&"mac"!==o.platform||4!==o.appType)&&console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}ee=!1}}))}function ae(e){G.on(J,e)}function ne(e){G.on(K,e)}function oe(e){G.on(V,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener&&"ios"!==O.platform?(e.addEventListener("unhandledrejection",(e=>{Z(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,a;re(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(a=r.userAgent)||void 0===a?void 0:a.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;Q.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(z.has(r)||setTimeout((()=>{var e=z.get(r);0===(null==e?void 0:e.type)&&Z(e.reason,e.promise),z.delete(r)}),0),z.set(r,t))):Z(e.reason,e.promise)}})}(e.g);var ie,se=JSON.parse,ce=JSON.stringify,le=9782784e5;function ue(e){return se(ce(e))}function pe(e){e.platform=O.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=O.SDKVersion,e.isReady=!1,e.onReady=$e.onStart}function de(e){var r;pe(e),O.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var a=null===(r=t.debugOptions)||void 0===r?void 0:r.overwriteExpt;e.expt=a?Object.assign(e.expt||{},a):e.expt||{}}function fe(e){if(de(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=function(e){if(!e)return 0;var t=(new Date).getTimezoneOffset()/60;return e+le-3600*t*1e3}(e.appLaunchInfo.clickTimestampInMs),r=Number.MAX_SAFE_INTEGER,a=e.instanceId;if(a)try{var n=a.split("&").filter((e=>0===e.indexOf("ts=")));n.length>0&&(r=parseInt(n[0].slice(3),10))}catch(e){te(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0}var he=!(null===(ie=t.features)||void 0===ie||!ie.pruneWxConfigByPage),ve=Object.defineProperty,ge=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function ye(e,t,r,a){ve(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{return"function"!=typeof a?a:a()}catch(e){return void te(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var _e=Array.isArray,me=Reflect.set,be=Reflect.get;var we=O.isSafeEnv,ke=Object.create(null),Se=O.isService?function(e){return new Proxy(e,{set(e,t,r,a){if("__siblings__"===t)return me(e,t,r,a);var n=be(e,"__siblings__",a);if(_e(n)){n.length>1&&W.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`);for(var o=0;o<n.length;o++){var i=n[o];me(i,t,r)}return!0}return me(e,t,r,a)}})}(ke):ke,Ie=e=>{},Te="wxConfig:updatePage";function Ce(t,r=!1){return Ie(!1),ke.currentPhase="onStart",void 0===t||(r?(Object.assign(ke,t),Object.defineProperty(ke,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(ke,we?t:ue(t)),fe(ke),function(t,r){var a;Array.isArray(null==t||null===(a=t.tabBar)||void 0===a?void 0:a.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var n=t.subPackages||t.subpackages;Array.isArray(n)&&n.length>0&&(n.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=n),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),he&&(O.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(ke,((e,t)=>{$e.emit(Te,{key:e,value:t})})),Object.defineProperty(ke,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(ke.__siblings__)&&ke.__siblings__.push(ke),ke.onPageUpdate((({key:e,value:t})=>{ke.page=ke.page||{},ke.page[e]=ke.page[e+".html"]=t,a&&(a[e+".html"]=ue(t))})),we||(a=function(){var t=e.g.__wxConfig,r={},a={},n=he?{}:t.page||{};try{ye(a,r,"deprecated",!0),ge.forEach((e=>{if(e in t){var o=t[e];switch(e){case"page":ye(a,r,e,n);break;case"env":ye(a,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:o.USER_DATA_PATH})));break;case"accountInfo":ye(a,r,e,{appId:o.appId,icon:o.icon,nickname:o.nickname});break;case"appLaunchInfo":ye(a,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),wx&&"function"==typeof wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():{})));break;case"wxAppInfo":ye(a,r,e,{maxRequestConcurrent:o.maxRequestConcurrent,maxUploadConcurrent:o.maxUploadConcurrent,maxDownloadConcurrent:o.maxDownloadConcurrent,maxWorkerConcurrent:o.maxWorkerConcurrent,maxWebsocketConnect:o.maxWebsocketConnect});break;default:ye(a,r,e,o)}}})),e.g.__wxConfig=a}catch(r){te(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return n}())),Se;var a}var xe=new q,Ae=new q,Pe={},Ee="WeixinJSBridgeReady",Oe="libraryEnd",Me="load",Re="postLoad",De="start",Le="postStart";function Ne(e,t){var r=void 0!==c,a=()=>{try{r&&c.traceBegin("Framework",`LibLifeCycle.${e} @ ${O.fileName}`),t(Pe[e])}catch(t){te(t,"LifeCycle."+e)}finally{r&&c.traceEnd()}};e in Pe?a():Ae.once(e,a)}function je(e,t){var r,a;if(e in Pe)return!1;Pe[e]=t,null===(r=w)||void 0===r||r.info(`[LifeCycle] emit ${e} for ${O.fileName}`);var n=Ae.emit(e,t);return null===(a=w)||void 0===a||a.info(`[LifeCycle] finish ${e} for ${O.fileName}`),n}var We,Fe=e=>{O.mayHaveSnapShot?Ne(Me,e):e()},$e={EventEmitter:q,on:xe.on.bind(xe),emit:xe.emit.bind(xe),once:xe.once.bind(xe),off:xe.off.bind(xe),getIsLoaded:()=>Me in Pe,getIsStarted:()=>De in Pe,onBridgeReady(e){Ne(Ee,e)},setWeixinJSBridge(e){je(Ee,e)},onLibraryEnd:Ne.bind(null,Oe),onCreate(e){e()},onLoadInstant:Fe,onLoad:Fe,_onPostLoad:Ne.bind(null,Re),onStart:Ne.bind(null,De),onPostStart:Ne.bind(null,Le)};Ae.onError(((e,t)=>{W.error(`[LifeCycle/${O.typeStr}] ${e.toString()} failed: `,t),te(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,a)=>{U.warn(`[LifeCycle/${O.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${a+""}`)})),e.g.__wxLibrary.onEnd=function(){je(Oe),O.mayHaveSnapShot||He()},We=e.g.__wxConfig,ke.currentPhase="onCreate",void 0===We||(Ie(!1),Object.assign(ke,we?We:ue(We)),pe(ke),Ie(!0));var Ue=!1,Be=!1;function He(){Ue||Be?te(new Error(`LifeCycle error: undesired onLoad(${Ue}/${Be})`)):(Ue=!0,o=function(e){return ke.currentPhase="onLoad",void 0===e||(Ie(!1),Object.assign(ke,we?e:ue(e)),ke.onPageUpdate=$e.on.bind(null,Te),de(ke),Ie(!0)),Se}(e.g.__wxConfig),je(Me,o),O.isSubContext?o.__readyHandler=e=>{qe(e,!0)}:!0===o.preload?$e.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{qe(e.g.__wxConfig)}))})):$e.onLibraryEnd((()=>{qe(e.g.__wxConfig)})),je(Re,o))}function qe(e,t=!1){if(Ue&&!Be){Be=!0;var r=Date.now();"onReadyStart"in(o=Ce(e,t))||(o.onReadyStart=r),je(De,o),o.onReadyEnd=Date.now(),je(Le,o)}else te(new Error(`LifeCycle error: undesired onStart(${Ue}/${Be})`))}(o=Se).isSnapshoting?(O.mayHaveSnapShot,e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,o.isSnapshoting=!1,He()}}):O.mayHaveSnapShot&&$e.onLibraryEnd(He);class Ge{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:N}}var Ve={ALL:new Ge(Number.MIN_VALUE,"ALL"),DEBUG:new Ge(5e3,"DEBUG",console.debug),LOG:new Ge(1e4,"LOG",console.log),INFO:new Ge(2e4,"INFO",console.info),WARN:new Ge(3e4,"WARN",console.warn),ERROR:new Ge(4e4,"ERROR",console.error),OFF:new Ge(Number.MAX_VALUE,"OFF")},Je=(e,t)=>({debug:e(Ve.DEBUG,t),log:e(Ve.LOG,t),info:e(Ve.INFO,t),warn:e(Ve.WARN,t),error:e(Ve.ERROR,t)}),Ke=Ve.INFO,ze=(()=>{if(O.isWorker||O.isWidget||O.isMagicBrushFrameEnv){return Object.assign({createLogger:function(){return W}},W)}return O.isSubContext&&O.isIsolateContext?(e=[],t=(t,r)=>(...a)=>{e.push({level:t,logs:a,category:r})},r=()=>{setTimeout((()=>{var t=w.__isFromMainContext?w.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},$e.onStart(r),{...Je(t),createLogger:e=>Je(t,"string"==typeof e?e:"default"),__isFromMainContext:!1}):(()=>{var e=O.platform,t="android"!==e,r=[],a=function(t){"android"!==e?l.invoke("systemLog",{dataArray:t.map((t=>{return{message:`\n${r=t.date,a=("0"+(r.getMonth()+1)).slice(-2),n=("0"+r.getDate()).slice(-2),o=("0"+r.getHours()).slice(-2),i=("0"+r.getMinutes()).slice(-2),s=("0"+r.getSeconds()).slice(-2),c=("00"+r.getMilliseconds()).slice(-3),l=r.getFullYear()+"-"+a+"-"+n,u=o+":"+i+":"+s+"."+c,"ios"===e?l+" "+u+"000"+(r.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):l+" "+(r.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+u} [${t.level.type[0].toUpperCase()}][wxapplib]] ${t.content}`};var r,a,n,o,i,s,c,l,u})),noCallback:!0}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},n=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},o=function(e,o){return function(...i){var s;if(o&&Array.prototype.unshift.call(i,"["+o+"]"),(L()||e.num>=Ve.WARN.num)&&(null===(s=W[e.type.toLowerCase()])||void 0===s||s.call(W,...i)),e.num>=Ke.num){var c=Array.prototype.slice.call(i).map(n).join(" ");if(t){var l=new Date;r&&r.length>1024&&r.shift(),r.push({date:l,level:e,content:c})}else a([{level:e,content:c}])}}};return $e.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(a(r),r=[])}),4e3)})),{...Je(o),createLogger:function(e){return Je(o,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:a}=e;o(t,a)(...r)}))},__isFromMainContext:!0}})();var e,t,r})();$e.onLoad((()=>{ze.info(`[BaseLibVersion] ${O.fileName}: ${t.version} (${t.updateTime})}`)}));const Qe=ze;const Xe=D(["log","info","warn","error"],(e=>function(...t){(R||L())&&console[e]("[system]",...t)}));var Ze;function Ye(){return Ze||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}$e.onLoad((()=>{Ze=Ye()}));var et=Object.create(null);Object.defineProperty(et,"WebAssembly",{enumerable:!0,get:Ye});const tt=et;var rt=e.g,at={env:O,global:rt,get isConfigReady(){return $e.getIsStarted()},get isStarted(){return $e.getIsStarted()},get isLoaded(){return $e.getIsLoaded()},...$e,...i,wxConsole:W,wxPerfConsole:U,wxNativeConsole:Qe,libConsole:Xe,libGlobal:tt,globalShare:{},callbackReporter:{}};void 0!==r&&(a=function(){return"return this"===arguments[arguments.length-1]?function(){return rt}:new r(...arguments)},a.prototype=r.prototype);const nt=at})(),i=n.default})();var c,l,u,p,d,f,h,v,g,y,_,m=i.wxConsole,b=i.wxPerfConsole,w=i.wxNativeConsole;i.libConsole,i.libGlobal;(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{e.d(t,{default:()=>a});var r={traceBegin(){},traceEnd(){},traceInstant(){}};i.onLoad((()=>{"undefined"!=typeof TraceGlobal?(r.traceBegin=TraceGlobal.traceBegin,r.traceEnd=TraceGlobal.traceEnd,r.traceInstant=TraceGlobal.traceInstant):w.warn("[Trace] TraceGlobal not found")}));const a=r})(),c=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>Z});class r{constructor(e=1){this.id=e,this.$={}}add(e){var t=this.id++;return this.$[t]="function"==typeof e?e:1,t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t,e)}}}class n{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];if("function"==typeof r)r(...t);else if(Math.random()<.01){var a="";try{a=JSON.stringify(t[0]||{}).replace(/,/g,";")}catch(e){a=e.message}l.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-3: "+e+" "+a,i.env.SDKVersion,o.appType].join(",")}],noCallback:!0})}}}var s=!1,c=!1,u=!1,d=!1,f=!1,h=!1,v=!1,g=.01,y=!1,_=!1,m=!1,b=new Map,w={},k={},S={};function I(e,t,r){var a;i.env.isService?a=1:i.env.isWebView?a=2:i.env.isWorker&&(a=3);var n=[i.env.SDKVersion,o.appType,1,a,0,e,t.replace(/,/g,";"),r,s?2:1].join(",");l.invoke("reportKeyValue",{dataArray:[{key:32334,value:n}],noCallback:!0})}function T(){if(!c&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(c=!0,y=Math.random()<g)){var e=e=>{var t=Object.values(w).map((t=>{var r=t.name,{count:a,totalJsHandleCost:n,totalClientToJsCost:o,syncReturn:i}=w[r],s=+(n/a).toFixed(2),c=+(o/a).toFixed(2);if(e){var l=e[r];return{n:r,c:a,t:c,j:s,s:i?1:0,i:null==l?void 0:l[0],a:null==l?void 0:l[1]}}return{n:r,c:a,t:c,j:s,s:i?1:0}}));return w={},JSON.stringify(t)};setTimeout((()=>{"android"===o.platform&&(i.env.isService||i.env.isWebView)?l.invoke("getInvokeCost",{},(t=>{var r=t.data||{};I(1,e(r),1e4)})):I(1,e(),1e4)}),1e4),setTimeout((()=>{(f=!0,b.clear(),"android"===o.platform)?(l.invoke("getInvokeCost",{},(t=>{var r=t.data||{};I(1,e(r),2e4)})),l.invoke("stopCollectInvokeCost",{noCallback:!0})):I(1,e(),2e4)}),2e4)}}function C(){if(!d&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(d=!0,_=Math.random()<g)){var e=()=>{var e=Object.values(S).map((e=>{var t=e.name,{count:r,totalJsHandleCost:a,totalClientToJsCost:n}=S[t],o=+(a/r).toFixed(2);return{n:t,c:r,t:+(n/r).toFixed(2),j:o}}));return S={},JSON.stringify(e)};setTimeout((()=>{I(2,e(),1e4)}),1e4),setTimeout((()=>{v=!0,I(2,e(),2e4)}),2e4)}}function x(e,t,r,a){if(y&&!f&&(i.env.isService||i.env.isWebView||i.env.isWorker)){var n=Date.now(),o=0;return null!=a&&a.nativeTime&&(o=n-a.nativeTime),r||(r=b.get(e),b.delete(e)),{jsapiName:r,jsHandleBegin:n,clientToJsCost:o}}}function A(e,t,r,a=!1,n){if(y&&!f&&(i.env.isService||i.env.isWebView||i.env.isWorker)){var s=Date.now()-t;if(w[e]?(w[e].count++,w[e].totalJsHandleCost+=s,w[e].totalClientToJsCost+=r):w[e]={count:1,totalJsHandleCost:s,totalClientToJsCost:r,syncReturn:a,name:e},!e&&Math.random()<.01){var c="";try{c=JSON.stringify(n).replace(/,/g,";")}catch(e){c=e.message}l.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-1: "+c,i.env.SDKVersion,o.appType].join(",")}],noCallback:!0})}}}function P(e,t){if(_){var r=0,a=0;return!v&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(a=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:a}}}function E(e,t,r){if(_&&!v&&(i.env.isService||i.env.isWebView||i.env.isWorker)){var a=Date.now()-t.jsHandleBegin;if("onAppEnterBackground"===e&&(s=!0),S[e]?(S[e].count++,S[e].totalJsHandleCost+=a,S[e].totalClientToJsCost+=t.clientToJsCost):S[e]={count:1,totalJsHandleCost:a,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e},!e&&Math.random()<.01){var n="";try{n=JSON.stringify(r).replace(/,/g,";")}catch(e){n=e.message}l.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-2: "+n,i.env.SDKVersion,o.appType].join(",")}],noCallback:!0})}}}var O=()=>f,M=()=>{var e,t=!1;if("android"===o.platform)t="1"===(null===(e=o)||void 0===e?void 0:e.expt.clicfg_appbrand_android_jsapi_nocallback);else if("ios"===o.platform){var r;t="1"===(null===(r=o)||void 0===r?void 0:r.expt.clicfg_appbrand_ios_jsapi_nocallback)}return t};i.callbackReporter={initJsapiCallbackReport:T,initEventCallbackReport:C,jsapiCallbackBegin:x,jsapiCallbackEnd:A,eventCallbackBegin:P,eventCallbackEnd:E};var R=()=>{},D=JSON.parse,L=JSON.stringify,N="custom_event_",j=0,W=function(){return"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function F(t){var a=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),s=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=R),i.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:R,invokeThirdHandler:R},j=1<<25),e.g.WeixinJSCore={invokeHandler:R,publishHandler:R,setTimerHandler:R,clearTimerHandler:R,readLibSync:R,readLibXWebScriptSync:R},t}(),c=new r(j),l=new n,d=new n;function f(e,t,r){if(void 0!==e&&c.has(t)&&""!==e&&null!==e){if(T(),"string"==typeof e)try{e=D(e),e=p.unpack(e)}catch(t){e={}}var a=x(t,0,void 0,r);c.callAndRemove(t,e),a&&A(a.jsapiName,a.jsHandleBegin,a.clientToJsCost,!0,e)}}var v={},y={},_=0;function w(e,t,r){var a,n=++_;v[n]=r;try{a=s.invokeThirdHandler(e,t,n)}catch(e){console.error("Third SDK Error: unexpected error:",e)}if(void 0!==a&&"function"==typeof v[n]&&""!==a&&null!==a){if("string"==typeof a)try{a=D(a)}catch(e){a={}}var o=v[n];delete v[n],"function"==typeof o&&o(a)}}var S=function(e,t){y[e]=t},F=(e,t)=>{var r=y[e];r&&r(t)},$=(e,t)=>{var r=v[e];delete v[e],"function"==typeof r&&r(t)};function U(e,r,n,c={}){if(s){var l,u,p;if("splashad"===i.env.workerType||o.supportInvokeWithAppId)l=null===(u=s.invokeHandler)||void 0===u?void 0:u.call(s,e,r,n,c);else l=null===(p=s.invokeHandler)||void 0===p?void 0:p.call(s,e,r,n);f(l,n,void 0)}else{var d={event:e,paramsString:r,callbackId:n,privateArgs:L(c)};if(t.isWebMiniGame){f(prompt("webgame_invoke",L(d)),n,void 0)}else{var h=null==a?void 0:a.messageHandlers.invokeHandler.postMessage(d);null!=h&&h.catch&&h.catch((t=>{var a=console.error.bind(console);a("webkit.messageHandlers.invokeHandler.postMessage fail"),a(`event=${e}`),a("params=",r),a("err=",t),a("err.code=",t.code),a("err.message=",t.message),a("err.name=",t.name)}))}}}return{invoke(e,r,a,n={}){var i,s,l=r;n.keepOriginalParams||t.directInvokeJS||(n.notPack?delete n.notPack:r=p.pack(r),("ios"!==o.platform||W||"1"!==(null===(s=o)||void 0===s?void 0:s.expt.clicfg_appbrand_ios_use_jsapi_args_binding))&&(l=L(r||{})));if(delete n.keepOriginalParams,null!==(i=r)&&void 0!==i&&i.noCallback&&M())return U(e,l,0,n),0;var u=c.add(a);return O()||b.set(u,e),n.highPerformance&&(n.highPerformance[u]=r,delete n.highPerformance),U(e,l,u,n),u},on(e,t){l.set(e,t)},subscribe(e,t){d.set(N+e,t)},publish(e,r,n){e=N+e;var o=n,i=r;t.directInvokeJS||(i=L(r),o=L(n)),function(e,t,r){if(s){var n;null===(n=s.publishHandler)||void 0===n||n.call(s,e,t,r)}else{var o=null==a?void 0:a.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:r});null!=o&&o.catch&&o.catch((r=>{var a=console.error.bind(console);a("webkit.messageHandlers.publishHandler.postMessage fail"),a(`event=${e}`),a("params=",t),a("err=",r),a("err.code=",r.code),a("err.message=",r.message),a("err.name=",r.name)}))}}(e,i,o)},invokeCallbackHandler:function(e,t,r){T();var a=x(e,0,void 0,r);t=p.unpack(t),c.callAndRemove(e,t),a&&A(a.jsapiName,a.jsHandleBegin,a.clientToJsCost,!1,t)},subscribeHandler:function(e,t,r,a){if(-1!==e.indexOf(N)){!function(){if(!u&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(u=!0,m=Math.random()<g)){var e=()=>{var e=Object.values(k).map((e=>{var t=e.name,{count:r,totalJsHandleCost:a,totalClientToJsCost:n}=k[t],o=+(a/r).toFixed(2);return{n:t,c:r,t:+(n/r).toFixed(2),j:o}}));return k={},JSON.stringify(e)};setTimeout((()=>{I(3,e(),1e4)}),1e4),setTimeout((()=>{h=!0,I(3,e(),2e4)}),2e4)}}();var n=function(e,t){if(m){var r=0,a=0;return!h&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(a=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:a}}}(0,a);t=p.unpack(t),d.emit(e,t,r,a||{}),(null==n?void 0:n.jsHandleBegin)&&function(e,t){if(m&&!h&&(i.env.isService||i.env.isWebView||i.env.isWorker)){var r=Date.now()-t.jsHandleBegin;k[e]?(k[e].count++,k[e].totalJsHandleCost+=r,k[e].totalClientToJsCost+=t.clientToJsCost):k[e]={count:1,totalJsHandleCost:r,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e}}}(e,n)}else{C();var o=P(0,a);t=p.unpack(t),l.emit(e,t,r,a||{}),(null==o?void 0:o.jsHandleBegin)&&E(e,o,t)}},get invokeThird(){return w},get onThird(){return S},get subscribeThirdHandler(){return F},get invokeThirdCallbackHandler(){return $},readLibSync:e=>{if(s.readLibSync)return s.readLibSync(e);throw new Error("readLibSync not exist")},readLibXWebScriptSync:e=>s.readLibXWebScriptSync(e)}}var $=!0,U={},B={},H=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);i.onPostStart((()=>{$=!1,U={},B={}}));var q=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var G=null;var V=new class{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}},J=V.ready.bind(V),K=new class{constructor(e){this.onNewEvent=e,this.$={},this.$e=new i.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}(((e,t)=>{q.has(e)?J((r=>{r.on(e,t.emitCancelable.bind(t,e))})):J((r=>{r.on(e,t.emit.bind(t,e))}))})),z=()=>{},Q=[],X={on(e,t){q.has(e)?K.add(e,t):K.setSingle(e,t)},addEventListener(e,t,r){K.add(e,t,r)},removeEventListener(e,t){K.remove(e,t)},invoke(e,t,r,a={}){var n=!0,o=!1,i=[],s=e=>{for(var t of(o||(n=!1),i))t(e,n);null==r||r(e)};if(G){var c=e=>{i.push(e)};for(var l of Q){var u=l(e,t,c);if(u)return u instanceof Promise?(u.then((e=>{s(e)})),!0):(s(u),!1)}G.invoke(e,t,s,a)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`,new Error("jsbridge not ready").stack),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return o=!0,n},pureInvoke:(e,t,r,a={})=>G.invoke(e,t,r,a),get invokeCallbackHandler(){var e;return null===(e=G)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=G)||void 0===e?void 0:e.subscribeHandler},publish:z,subscribe:z,addSubscribeListener:z,removeSubscribeListener:z,addInvokeInterceptor(e){return Q.push(e),this},get invokeThird(){var e;return null===(e=G)||void 0===e?void 0:e.invokeThird},get onThird(){var e;return null===(e=G)||void 0===e?void 0:e.onThird},get invokeThirdCallbackHandler(){return null},get subscribeThirdHandler(){return null},get readLibSync(){var e;return null===(e=G)||void 0===e?void 0:e.readLibSync},get readLibXWebScriptSync(){return G.readLibXWebScriptSync}};i.onLoad((()=>{!function(t){if(!("devtools"===i.env.platform&&!i.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){if(i.env.isMagicBrushFrameEnv){var r,a=(null===(r=e.g.mb)||void 0===r?void 0:r.JSBridge)||e.g.JSBridge,n=a.invoke,s=Object.assign({},a,{invoke:function(...e){var t=n.apply(a,e),r=e[1];if(t&&Object.prototype.hasOwnProperty.call(t,"errCode")&&r){var o=t.errno||t.errCode,{success:i,fail:s,complete:c}=r;o?("function"==typeof s&&s(t),"function"==typeof c&&c(t)):("function"==typeof i&&i(t),"function"==typeof c&&c(t))}return t}});return e.g.WeixinJSBridge=s,t(s,!1)}var c=F({directInvokeJS:!!o.wmpfDirectInvokeJs,isWebMiniGame:!!o.isWK}),l={get invokeCallbackHandler(){return c.invokeCallbackHandler},get subscribeHandler(){return c.subscribeHandler},get subscribeThirdHandler(){return c.subscribeThirdHandler},get invokeThirdCallbackHandler(){return c.invokeThirdCallbackHandler}};return o.clientDebug&&i.onLibraryEnd((()=>{Object.assign(l,{on:X.on,publish:X.publish,invoke:X.invoke,subscribe:X.subscribe}),e.g.WeixinJSBridge=l})),e.g.WeixinJSBridge=l,t(c,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{G=t,r&&e.g.WeixinJSBridge===l&&Object.keys(t).forEach((e=>{e in X||(X[e]=(...r)=>t[e](...r))})),V.done(G)}))})),X.addInvokeInterceptor((e=>{if(!i.isStarted&&"splashad"!==i.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`,new Error("invoke too eayly").stack),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(("getSystemInfo"!==e||"string"!=typeof(null==t?void 0:t.type))&&$&&H.has(e)){if(e in U)return U[e];if(e in B)return B[e];if(H.has(e)){var a=new Promise((t=>{r(((r,a)=>{a?t(r):(delete B[e],U[e]=r)}))}));B[e]=a}}}));new Map;i.setWeixinJSBridge(X);const Z=X;l=t.default})(),(()=>{var e={26:e=>{var t=function(e){"use strict";var t,r=Object.prototype,a=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var n=t&&t.prototype instanceof g?t:g,o=Object.create(n.prototype),i=new A(a||[]);return o._invoke=function(e,t,r){var a=p;return function(n,o){if(a===f)throw new Error("Generator is already running");if(a===h){if("throw"===n)throw o;return E()}for(r.method=n,r.arg=o;;){var i=r.delegate;if(i){var s=T(i,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=f;var c=u(e,t,r);if("normal"===c.type){if(a=r.done?h:d,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=h,r.method="throw",r.arg=c.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p="suspendedStart",d="suspendedYield",f="executing",h="completed",v={};function g(){}function y(){}function _(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==r&&a.call(w,o)&&(m=w);var k=_.prototype=g.prototype=Object.create(m);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(n,o,i,s){var c=u(e[n],e,o);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==typeof p&&a.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(p).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var n;this._invoke=function(e,a){function o(){return new t((function(t,n){r(e,a,t,n)}))}return n=n?n.then(o,o):o()}}function T(e,r){var a=e.iterator[r.method];if(a===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=u(a,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,v;var o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(a.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:E}}function E(){return{value:t,done:!0}}return y.prototype=k.constructor=_,_.constructor=y,y.displayName=c(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(I.prototype),I.prototype[i]=function(){return this},e.AsyncIterator=I,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var i=new I(l(t,r,a,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(k),c(k,s,"Generator"),k[o]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(a,n){return s.type="throw",s.arg=e,r.next=a,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;x(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,a){return this.delegate={iterator:P(e),resultName:r,nextLoc:a},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{u=t}catch(e){a("r","regeneratorRuntime = r")(t)}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}(()=>{r(26);var e=()=>{var e={};Object.keys(u).forEach((t=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>u[t],set(r){delete e[t],e[t]=r}})})),globalThis.regeneratorRuntime=e};"function"==typeof o.onReady?o.onReady((t=>{"devtools"===t.platform||["develop","trial"].includes(t.envVersion)||e()})):e()})()})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>b});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a(e){for(var t="",a=new Uint8Array(e),n=a.byteLength,o=0;o<n;o++)t+=String.fromCharCode(a[o]);return function(e){if("function"==typeof btoa)return btoa(e);for(var t,a,n=String(e),o="",i=0,s=r;n.charAt(0|i)||(s="=",i%1);o+=s.charAt(63&t>>8-i%1*8)){if((a=n.charCodeAt(i+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|a}return o}(t)}function n(e){for(var t=function(e){if("function"==typeof atob)return atob(e);var t=String(e).replace(/=+$/,""),a="";if(t.length%4==1)throw new Error('"atob" failed');for(var n,o,i=0,s=0;o=t.charAt(s++);~o&&(n=i%4?64*n+o:o,i++%4)?a+=String.fromCharCode(255&n>>(-2*i&6)):0)o=r.indexOf(o);return a}(e),a=t.length,n=new Uint8Array(a),o=0;o<a;o++)n[o]=t.charCodeAt(o);return n.buffer}var s,c=o.platform,l="ios"===c,u="android"===c||"windows"===c||"mac"===c||"mina"===c;l&&(s=e.g.WeixinNativeBuffer);var p=null;function d(e,t=!1){var r={};if(p&&!t){var n=!1,o=Object.getPrototypeOf(e);o!==ArrayBuffer.prototype&&(n=!0,Object.setPrototypeOf(e,ArrayBuffer.prototype)),r.id=p.create(e),n&&Object.setPrototypeOf(e,o)}else r.base64=a(e);return r}function f(e){if(null!=e)return p&&void 0!==e.id?p.get(e.id):void 0!==e.base64?n(e.base64):void 0}i.onLoad((()=>{p=function(e){var t=s,r=e.getNativeBufferId,a=e.setNativeBuffer,n=e.getNativeBuffer;delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer;var i=null;return u&&"function"==typeof r&&"function"==typeof a&&"function"==typeof n&&o.nativeBufferEnabled?i={create(e){var t=r();return a(t,e),t},get:e=>n(e),useCompatibleMode(){}}:l&&t&&(i={create:e=>t.new(e),get:e=>t.get(e),useCompatibleMode(e){t.useCompatibleMode(e)}}),i}(e.g)}));var h=Object.prototype.toString;function v(e){return"[object Array]"===h.call(e)}function g(e){return"[object ArrayBuffer]"===h.call(e)}function y(e,t){if(!t)return null;var r=t.split(".");if(!r.length)return null;for(var a=r[r.length-1],n=e,o=0;o<r.length-1;o++){if(!n)return null;n=n[r[o]]}return[n,a]}function _(e,t=!1,r=!1){if(null==e)return e;var a;if(t)a=function(e,t=!1){var r=[],a=new WeakMap,n=function(e,r,o=[]){var i,s=a.get(e);if(s){if(s>50)throw console.error("[SDK ERROR] worker postMessage object occur circular reference. please check your postMessage argument:",e),new Error("worker postMessage object occur circular reference");a.set(e,s+1)}else a.set(e,1);for(var c in e){var l=e[c];if(i=l,"[object Object]"===h.call(i)||v(l)){var u=[...o];u.push(c),n(l,r,u)}else if(g(l)){if(e._sabId)continue;var p=d(l,t),f=Array.prototype.concat.call(o,c).join(".");p.key=f,delete e[c],r.push(p)}}};return n(e,r),r}(e,r);else{for(var n in a=[],e){var o=e[n];if(g(o)){var i=d(o,r);i.key=n,a.push(i)}}if(a.length>0)for(var s of a)delete e[s.key]}return a.length>0&&(e.__nativeBuffers__=a),e}function m(e,t=!1,r=!1){if(null==e||null==e.__nativeBuffers__)return e;var a=e.__nativeBuffers__;delete e.__nativeBuffers__;var n=[];for(var o of a)if(null!=o){var i=f(o);if(g(i)){if(t){var s=y(e,o.key);if(!s)return;var[c,l]=s;c[l]=i}else e[o.key]=i;n.push(o.key)}}return r&&(e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=n),e}const b={new:d,get:f,useCompatibleMode:function(e){var t;null===(t=p)||void 0===t||t.useCompatibleMode(e)},pack:_,unpack:m,packPostMessage:(e,t=!1)=>_(e,!0,t),unpackPostMessage:e=>m(e,!0,!0)}})(),p=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>k});var r,n,s=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","readCompressedFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey","getPermissionBytes"],c=o.supportWorkerMultiContext||o.supoortWorkerMultiContext,l=[],u=[],f=[],h=function(e){return e?r:n},v=function(e){e=p.unpackPostMessage(e),u.forEach((t=>{"function"==typeof t&&t(e)}))},g=function(e,t){t=p.unpackPostMessage(t),l.forEach((r=>{"function"==typeof r&&r(e,t)}))},y=function(e,t){f.forEach((r=>{"function"==typeof r&&r(e,t)}))},_=(e,t)=>{n.sendMsgToAppService({__cmd__:"workerUncaughtError",__data__:e,__contextId__:t})},m=function(e,t){c?_(e,t):i.emitUnhandledError(e)},b={get appServiceMsgHandler(){return v},get workerMsgHandler(){return g},get workerCreatedHandler(){return y},get errorHandler(){return m},get __workerId__(){return n.__workerId__}},w={create:function(e,t){var a,o,i=!(!(t=t||{}).useExperimentalWorker||!r);return i?(o=r,a=JSON.stringify(t)):(o=n,a={APIList:s,pluginId:t.PluginId}),"function"==typeof o.create?{workerId:o.create.call(o,e,a),useWKWorker:i}:{workerId:-1,useWKWorker:i}},createWXLibWorker:function(e,t){var r={APIList:s};t.APIList&&(r.APIList=s.concat(t.APIList)),t.type&&(r.type=t.type);var a=n;return"function"==typeof a.createWXLibWorker?{workerId:a.createWXLibWorker.call(a,e,JSON.stringify(r))}:{workerId:-1}},terminate:function(e,t){var r=h(t);if("function"==typeof(null==r?void 0:r.terminate)&&"number"==typeof e)return r.terminate.call(r,e)},postMsgToAppService:function(e,t){if(i.env.isWKGame)n.sendMsgToAppService(e);else if("ios"===i.env.platform&&1===Number(o.expt.clicfg_appbrand_ios_allow_worker_binding_message))e=p.packPostMessage(e,!1),n.sendMsgToAppService(e);else try{!1!==t&&(e=p.packPostMessage(e),e=JSON.stringify(e)),n.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t,r,a){var n=h(a);if(i.env.isWKGame)null==n||n.sendMsgToWorker(e,t);else if("ios"!==i.env.platform||1!==Number(o.expt.clicfg_appbrand_ios_allow_worker_binding_message)||a)try{!1!==r&&(t=p.packPostMessage(t,a),t=JSON.stringify(t)),null==n||n.postMsgToWorker(e,t)}catch(e){console.error(e)}else t=p.packPostMessage(t,!1),null==n||n.sendMsgToWorker(e,t)},onWorkerMsg:function(e){l.push(e)},onWorkerCreated:function(e){f.push(e)},onAppServiceMsg:function(e){u.push(e)},get WebAssembly(){return n.WebAssembly},isSupportWXLibWorker:function(){return"function"==typeof n.createWXLibWorker}};i.onLoadInstant((()=>{r=e.g.WeAppWorker,n=e.g.WeixinWorker,e.g.WeixinWorker=b,e.g.WeAppWorker=b,("devtools"===o.platform||c)&&(w.appServiceMsgHandler=b.appServiceMsgHandler,w.workerMsgHandler=b.workerMsgHandler,w.errorHandler=b.errorHandler,w.__workerId__=b.__workerId__)}));const k=w;d=t.default})(),(()=>{var e={342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EnvPreloadType:()=>a,default:()=>s,updateConfig:()=>n});var a={None:0,BeforeLaunch:1,AfterLaunch:2},n=()=>{i!==o&&void 0!==i&&Object.assign(i,o)},i=(()=>(o.onReady(n),o))();const s=i},476:(e,r,a)=>{"use strict";a.r(r),a.d(r,{reportDeprecatedAPI:()=>s});var n=a(342),o=void 0!==t&&t?t.version:"unknown",i=void 0!==t&&t?t.updateTime:"unknown";"string"==typeof o&&(o=o.replace(" ","")),"string"==typeof i&&(i=i.replace(" ","-"));var s=(e="")=>{e=e.replace(/,/g,";");var t=o+" "+i,r=n.default.appType;v.reportKeyValue({key:"DeprecatedAPI",value:[e,t,r].join(",")})}},996:(e,t,r)=>{var{reportDeprecatedAPI:a}=r(476),{default:n}=r(342);function o(e=globalThis){function t(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e}}"function"==typeof globalThis.Function&&(t.prototype=globalThis.Function.prototype,t.prototype.constructor=t,globalThis.Function=t)}e.exports={hijack:function(e=!0,t=globalThis){o(t),"undefined"!=typeof eval&&("ios"===n.platform&&r.g.__isAppServiceRemoteDebugMode__||n.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var a=h.surroundThirdByTryCatch(t,"at setTimeout callback function"),n=[].slice.call(arguments,2);return e((()=>{a.apply(globalThis,n)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var a=h.surroundThirdByTryCatch(e,"at setInterval callback function"),n=[].slice.call(arguments,2);return t((()=>{a.apply(globalThis,n)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(a("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))},hijackFunction:o}},585:()=>{if("undefined"==typeof navigator){try{new a('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new a('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new a('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},r={};function n(t){var a=r[t];if(void 0!==a)return a.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";n.r(i),n.d(i,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>V,deepFreezeObj:()=>M,deepFreezeObjProperty:()=>O,doNotWriteGlobalObjs:()=>G,doNotWriteObj:()=>N,doNotWriteObjProperty:()=>R,globalEsHiddenObjs:()=>t,globalEsObjs:()=>r,hijack:()=>J.hijack,hijackFunction:()=>J.hijackFunction,overwriteSetPrototypeOf:()=>q});n(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),r=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],a=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],o=globalThis,s=n(342),c=(()=>s.default.platform)(),l=(()=>"ios"===c)();var u=/^\s*at .*(\S+:\d+|\(native\))/m,p=/^(eval@)?(\[native code\])?$/;function d(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return l?function(e,t){for(var r=[],a=e.split("\n"),n=0,o=0;n<a.length&&o<t;++n){var i=a[n];if(!p.test(i)){++o;var s=i.indexOf("@");if(-1===s){var c=f(i);r.push({fileName:c.URI,lineNumber:c.line,columnNumber:c.column,source:i})}else{var l=i.substring(0,s),u=f(i.substr(s+1));r.push({functionName:l,fileName:u.URI,lineNumber:u.line,columnNumber:u.column,source:i})}}}return r}(r,t):function(e,t){for(var r=[],a=e.split("\n"),n=0,o=0;n<a.length&&o<t;++n){var i=a[n];u.test(i)&&(r.push(i),++o)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),a=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),n=f(r?r[1]:a.pop());return{functionName:a.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0],lineNumber:n[1],columnNumber:n[2],source:e}}))}(r,t)}function f(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var h=Object.freeze,v=Object.setPrototypeOf,g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,w=Object.preventExtensions;var k=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function S(){var e,t,r=Date.now(),a=d(new Error,3),n=a[1],o=a[2],i=!(n.fileName&&o.fileName&&o.fileName!==n.fileName&&(e=o.fileName,t=n.fileName,!k.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,i}function I(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=y(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&g(e,"__proto__",{get(){return b(this)},set(r){if(this===e)t&&S()&&v(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;v(this,r)}},enumerable:!1,configurable:!1})}}var T=new Map,C=(e,t,r)=>{T.has(e)||T.set(e,new Map);var a=T.get(e);a.has(t)?Object.assign(a.get(t),r):a.set(t,r)};function x(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var a=y(e,t);return!!a&&(a.configurable&&(g(e,t,{get:a.get||(()=>a.value),set(n){if(this===e)r&&S()&&(a.set?a.set.call(this,n):a.writable&&(a.value=n));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?v(e,r):g(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,n)}},enumerable:a.enumerable,configurable:!1}),r&&C(e,t,a)),!a.get&&("function"==typeof a.value||"object"==typeof a.value&&null!==a.value))}catch(e){throw e.message,e}}var A=new WeakSet;function P(e){A.add(e)}function E(e){return A.has(e)}function O(e,t,r){x(e,t)&&M(e[t],r)}function M(e,t){if(e&&!E(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){P(e);for(var r=_(e),a=m(e),n=0;n<r.length;++n)O(e,r[n],t);for(var o=0;o<a.length;++o)O(e,a[o],t);t?w(e):I(e,!1)}else if(t){var i=e=>{if(e&&!E(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){P(e),h(e);for(var t=_(e),r=m(e),a=0;a<t.length;++a)i(e[t[a]]);for(var n=0;n<r.length;++n)i(e[r[n]])}};i(Error)}}function R(e,t){x(e,t,!0)&&N(e[t])}var D=new WeakSet;function L(e){return D.has(e)}function N(e){if(e&&!L(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){D.add(e)}(e);for(var t=_(e),r=m(e),a=0;a<t.length;++a)R(e,t[a]);for(var n=0;n<r.length;++n)R(e,r[n]);I(e,!0)}}var j=Object.prototype.hasOwnProperty,W=Object.defineProperty,F=Object.defineProperties,$=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,B=Object.getOwnPropertyDescriptor,H=!1,q=function(){H||(H=!0,W(o.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),W(o.Object,"defineProperty",{value(e,t,r){if(!L(e))return W(e,t,r);if(!S())return r;var a=B(e,t);if(!a||a.configurable){var n=W(e,t,r);return R(e,t),n}return C(e,t,r),r},configurable:!0}),W(o.Object,"defineProperties",{value(e,t){if(!L(e))return F(e,t);if(!S())return t;var r=r=>{var a=B(e,r);if(!a||a.configurable){var n=W(e,r,t[r]);return R(e,r),n}return C(e,r,t[r]),t[r]};return $(t).forEach(r),U(t).forEach(r),t},configurable:!0}))},G=function(e=[]){try{for(var n=[...r,...a,...t,...e],i=(Date.now(),0);i<n.length;++i){var s=n[i],c=typeof s;"string"===c?j.call(o,s)&&R(o,s):"function"!==c&&"object"!==c||N(s)}Date.now()}catch(e){}},V=function(e=[],n=!1){try{for(var i=[...r,...a,...t,...e],s=(Date.now(),0);s<i.length;++s){var c=i[s],l=typeof c;"string"===l?j.call(o,c)&&O(o,c,n):"function"!==l&&"object"!==l||M(c,n)}Date.now()}catch(e){}},J=n(996),K=Object.prototype.isPrototypeOf,z=Object.defineProperty,Q=Object.prototype.hasOwnProperty,X=Symbol.hasInstance,Z=function(e){return!("function"!=typeof this||!Y(e))&&((e,t)=>K.call(t.prototype,e))(e,this)},Y=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t,r={}){for(var a=function(a){var n=e[a],o=t[a];if(!n||!o)return"continue";if("function"!=typeof n)return"continue";var i=Q.call(n,X)?n[X]:Z,s=Q.call(o,X)?o[X]:Z;z(n,X,{value(e){return i.call(this,e)||s.call(o,e)},writable:!0,enumerable:!1,configurable:!0}),z(o,X,{value(e){return void 0!==r[a]&&"Object"===r[a]&&void 0!==(null==e?void 0:e._compressed)&&void 0!==(null==e?void 0:e._data)&&void 0!==(null==e?void 0:e.height)&&void 0!==(null==e?void 0:e.width)?s.call(this,e):s.call(this,e)||i.call(n,e)},writable:!0,enumerable:!1,configurable:!0})},n=0;n<e.length;++n)a(n)}})(),f=i})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>d,callSystemFunction:()=>u,callThirdPartyFunction:()=>f,convertStack:()=>n,endSystemFunctionCall:()=>l,findCurrentSource:()=>s,startSystemFunctionCall:()=>c,surroundThirdByTryCatch:()=>_,wrapMiniProgramOrPluginFunction:()=>g,wrapSystemFunction:()=>p,wrapThirdPartyFunction:()=>y,wrapperStack:()=>a});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,a=[];function n(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,n=a.length-1,i=0;i>=0&&n>=0;){var s=r.length,c=0;for(var l in o)if(o[l]){var u=r.indexOf(o[l],i);u<0||s<=u||(s=u,c=o[l].length)}if(s>=r.length)break;var p=`at <${a[n--].description}>`;r=r.slice(0,s)+p+r.slice(s+c),i=s+p.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var o={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function i(e){var t=((new Error).stack||"").match(/.+/gm),a="",n=0;t&&t.forEach((e=>{if(r.test(e)&&2===(n+=1)){var t=e.match(/^(\s*)at /),o=t?t[1].length:0;return a=e.slice(o),!1}return!0})),o[e]=a}function s(){for(var e="",t=a.length-1;t>=0;t--)a[t].pluginAppId&&(e=a[t].pluginAppId);return e}var c=e=>{null===o.wrapSystemFunction&&(o.wrapSystemFunction="",p("","",i)("wrapSystemFunction")),a.push({description:e})},l=()=>{a.pop()};function u(e,t,r,c,l,u=!1){var d;null===o.wrapSystemFunction&&(o.wrapSystemFunction="",p("","",i)("wrapSystemFunction")),a.push({description:t});try{d=r.apply(c,l)}catch(t){if(n(t)){if("AppServiceSdkKnownError"===t.type)throw a.pop(),t;if("ThirdScriptError"===t.type){var f=s();v.thirdErrorReport({error:t,source:f,triggerErrorCallback:!u})}else v.errorReport({key:e,error:t,triggerErrorCallback:!u})}if(u)throw a.pop(),t}return a.pop(),d}function p(e,t,r,a=!1){return function(...n){return u(e,t,r,this,n,a)}}function d(e,t,r,s,c,l=!1){var u;null===o.wrapMiniProgramOrPluginFunction&&(o.wrapMiniProgramOrPluginFunction="",g("","",i)("wrapMiniProgramOrPluginFunction")),a.push({description:t,pluginAppId:e});try{u=r.apply(s,c)}catch(t){if(n(t)&&v.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!l}),l)throw a.pop(),t}return a.pop(),u}function f(e,t,r,a,n=!1){return d(s(),e,t,r,a,n)}function g(e,t,r,a=!1){return function(...n){return d(e,t,r,this,n,a)}}function y(e,t,r=!1){return function(...a){return d(s(),e,t,this,a,r)}}function _(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),a=r?r[1]:"",n=e||function(){};return function(...e){return d(s(),a,n,n,e,!1)}}h=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{e.d(r,{default:()=>he});var n={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},s={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,AccelerateNetwork:30769,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,MiniprogramInnerComponentUse:30314,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,BLEMeshDevices:29512,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,MiniprogramWebviewExportUrl:30247,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,getPhoneNumberReport:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503,VirtualPayment:30164,WeAppXNetInvoke:29870,ProductRecommand:30343,AIADPreview:31127,AiAdError:31167,Authorize:31228,ExitDramaEdu:31431,SystemComponentLazyLoad:29852,InnerDiskStatInfo:31439,operateWXDataProfile:31695,ClientCallbackProfile:32334,WxappBackInterception:32260,UserAction:32193,UserConfig:32198,WebVitalsINP:32217,WebVitalsStutter:32366,OpenOfficialAccountArticle:32359,MiniProgramJumpWxstore:32916,AIADLoad:33015,AIADVision:33042,UpdateManager:33259,Translate:33441},c={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},u={apiCallback:1,pageInvoke:2,widgetInvoke:3,appInvoke:4},p={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},d={[n.APP]:"thirdScriptError",[n.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[n.WIDGET]:"widgetThirdScriptError",[n.GAME]:"gameThirdScriptError",[n.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var f={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},v=0;function g(){var e=0;return{get(){if(e>0)return e;if(0===v)throw Error("initTime not ready");return e=v},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==i?i.onLoad((()=>{f.offset=Date.now(),v=Date.now()})):(f.offset=Date.now(),v=Date.now());class y{constructor(e,t,r,a){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=a,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=g(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=g(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class _{constructor(e,t,r,a){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=a,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=g(),this._periodStartTime=g(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class m{constructor(e,t,r,a){this.reportTime=g(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new _(e,t,r,a),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,a,n){this.continueDecreaseReportLimitStrategys[e]=new y(t,r,a,n)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var b=()=>{w!==o&&void 0!==w&&Object.assign(w,o)},w=(()=>(o.onReady(b),o))();const k=w;var S=(()=>k.platform)(),I=(()=>"devtools"===S)(),T=(()=>"ios"===S)();var C=(e=>null===(e=k.host)||void 0===e?void 0:e.env)(),x=(()=>"SAAASDK"===C)();function A(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),a=t.split("."),n=Math.max(r.length,a.length);r.length<n;)r.push("0");for(;a.length<n;)a.push("0");for(var o=0;o<n;o++){var i=parseInt(r[o],10),s=parseInt(a[o],10);if(i>s)return 1;if(i<s)return-1}return 0}var P=(()=>Object.prototype.toString)(),E=a.prototype.call.bind(P);function O(e){return E(e).slice(8,-1)}var M=6e4,R=15e3;function D(...e){l.invoke(...e)}var L={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,webviewBizDomainFetch_fail:208,webviewBizDomainSkipReturn:209,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},N={call:80,call_success:81,call_fail:82,insert_with_cache:83,insert_without_cache:84,try_insert_general_ad:118,try_insert_general_ad_success:119};Array(25).fill(0).forEach(((e,t)=>{N[`polyfill_${t+1}`]=t}));var j=new m("id",R,100,M);function W(e){k.onReady((()=>{D("reportIDKey",{dataArray:e,noCallback:!0})}))}function F(e,t,r,a=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){j.pushReportQueue({id:e,key:t,value:r});var n=j.attemptReportAndGetReportMsgs(a);n.length&&W(n)}}function $(){var e=j.attemptReportAndGetReportMsgs(!0);e.length&&W(e)}var U=[],B=["NetworkAPI"],H=0,q=0,G=0,V={},J={},K={},z=new m("key",R,100,M);function Q(e){k.onReady((()=>{D("reportKeyValue",{dataArray:e,noCallback:!0})}))}function X(){k.onReady((()=>{!U||U.length<=0||(D("systemLog",{dataArray:U,noCallback:!0}),U=[])}))}function Z(e){var t=k&&k.appContactInfo&&k.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}z.setContinueDecreaseReportLimitStrategyKey(18042,R,.5,100,M);var Y=()=>{},ee=()=>{},te=()=>{},re=()=>{},ae="",ne={},oe=-1,ie=0,se=n.APP,ce="",le=0,ue="";"function"==typeof k.onReady&&k.onReady((()=>{void 0!==k.appType&&(oe=k.appType),"object"==typeof k.appLaunchInfo&&(ie=k.appLaunchInfo.scene);var e=k.networkType;e?ce=e:l.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(ce=e.networkType)})),T&&void 0!==k.version&&A(k.version,"8.0.51")>=0&&(le=1),"function"==typeof l.addEventListener&&(l.addEventListener("onNetworkStatusChange",(e=>{ce=e.networkType})),le>=1&&l.addEventListener("onGameRenderFirstScreen",(()=>{le=2})))}));var pe={surroundThirdByTryCatch:h.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:a})=>{var n=u[e],o=Date.now();if(n&&(a||!(o-G<500))&&!(Object.keys(K).length>50||(K[r]||(K[r]=0),K[r]++,K[r]>3))){G=o;var i=`${t},${encodeURIComponent(r)},${n},${pe.getAppType()}`;pe.reportKeyValue({key:"Slow",value:i})}},isLimitReport:e=>z.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:a})=>{var n=c[e],o=Date.now(),i=0,s=r.nativeTime;if(n&&(a||!(o-(V[n]||0)<500))&&r.startTime&&r.endTime&&(1!==n&&2!==n||s)){t&&(i=JSON.stringify(t).length),V[n]=o;var l=`${n},${r.startTime},${s},${s},${r.endTime},${i},${pe.getAppType()}`;pe.reportKeyValue({key:"Speed",value:l})}},reportQualityData(e,t,r,a=[]){var n=r-t;n<0&&(n=0),D("reportKeyValue",{version:2,dataArray:[{key:s[e],value:[n,ie,t,r,...a].join(",")}],noCallback:!0})},reportQualityData2(e,t=[]){D("reportKeyValue",{version:2,dataArray:[{key:s[e],value:t.join(",")}],noCallback:!0})},flushReportKeyValueList:()=>{var e=z.attemptReportAndGetReportMsgs(!0);e.length&&Q(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:a=!1})=>{var n,o;if(a||s[e]){var i=null!==(n=null===(o=k.expt)||void 0===o?void 0:o.clicfg_appbrand_ios_android_report_without_batch)&&void 0!==n?n:0;i&&B.includes(e)&&(r=!0,t+=`,${i}`),z.pushReportQueue({key:a?e:s[e],value:t},r);var c=z.attemptReportAndGetReportMsgs(r);c.length&&Q(c)}},flushReportIDKeyList:$,reportIDKey:function({id:e,key:t,value:r=1,force:a=!1,type:n}){var o;if("aiad"===n){if(!N[t])return;o=N[t]}else{if(!L[t])return;o=L[t]}e||"aiad"===n&&(e=2059),F(e||(T?356:358),o,r,a)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&F(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||F(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){F(1874,e,t)},thirdErrorReport:({key:e=se,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:a=!1,promise:n,source:o="",isOpenDataContextError:i=!1})=>{pe.errorReport({key:d[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:a,promise:n,source:o,isOpenDataContextError:i})},errorReport:({key:e,error:r,isThirdScriptError:a=!1,triggerErrorCallback:o=!0,isUnhandledRejection:i=!1,promise:s,source:c="",isOpenDataContextError:u=!1,extra:d=""})=>{if(p[e]&&r){var f,h;"function"==typeof __wxSourceMapRetrace__&&(r=__wxSourceMapRetrace__(r)),"object"==typeof r&&(r.message||r.stack)?(f=r.message,h=r.stack):(f=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(r),h=O(r));var v=a?"MiniProgramError":`SystemError (${e})`,g=f,y="";r.name&&0!==(h||"").indexOf(r.name)&&(y="\n"+r.name+": "+g);var _=`${v}\n${g}${y}\n${h}`;if(I){var m=new Error(`${v}\n${g}`);"object"==typeof r&&void 0!==r.name&&Object.defineProperty(m,"name",{value:r.name}),"object"==typeof r&&void 0!==r.stack&&Object.defineProperty(m,"stack",{value:r.stack}),console.error(m)}else i?console.error("(in promise) "+_):console.error(_);if(!(u||_.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){l.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:_},options:{timestamp:Date.now()}}):o&&(pe.triggerErrorMessage(_,i,r,s),a&&pe.triggerThirdErrorMessage(_,i,r,s)),Object.keys(J).length>50||i&&"Error"!==O(r)))){var b="",w="";se!==n.APP&&se!==n.GAME||(b=ae,w=function(e){var t="";return Object.keys(e).forEach(((r,a)=>{0!==a&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(ne));var S=0;if(1004===pe.getAppType()&&a)try{ce=__appServiceSDK__.getGameRelatedContextsExports().game._getCurrentNetworkType();var T=r.stackInfoArr;if(delete r.stackInfoArr,T){var C=T.find((e=>"usr"===e.type));if(C&&"__plugin__"===C.package&&"string"==typeof C.file){var A=C.file.split("/");S=Z(c=A&&A[0])}}}catch(m){}else S=c.match(/wx[0-9a-f]{16}/)?Z(c):0;var P="";if(x)if(""!==ue)P=ue;else{var E={uuid:k.host.uuid,sdkVersion:k.host.sdkVersion,userVersion:k.host.appVersion};P=function(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,a=String(e),n="",o=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.charAt(0|o)||(i="=",o%1);n+=i.charAt(63&t>>8-o%1*8)){if((r=a.charCodeAt(o+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|r}return n}(JSON.stringify(E)),ue=P}var M=[p[e],r.name,...[g,h,void 0!==t&&t.version||"",pe.getAppType(),b,w,void 0!==t&&t.updateTime||"","",i?1:0,c,S,ce,d,le,P].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(J[M]||(J[M]=0),J[M]++,!(a&&J[M]>3||J[M]>3)){pe.reportIDKey({key:e}),pe.reportKeyValue({key:"Error",value:M});var R=z.attemptReportAndGetReportMsgs(!0);R.length&&Q(R),$(),X()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-H<50||(H=Date.now(),U.push(e+""),U.length>=50&&X()))},submit:()=>{Date.now()-q<50||(q=Date.now(),$(),Q(z.attemptReportAndGetReportMsgs(!0)),X())},registerErrorListener:e=>{"function"==typeof e&&(Y=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(ee=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(te=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(re=e)},triggerErrorMessage:(e,t=!1,r,a)=>{setTimeout((()=>{try{t?te(r,a):Y(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,a)=>{setTimeout((()=>{try{t?re(r,a):ee(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{se=n.WIDGET},setAsGame:()=>{se=n.GAME},setAsGameSubContext:()=>{se=n.GAME_SUBCONTEXT},getAppType:()=>-1===oe?0:oe+1e3},de={};function fe(e){Object.defineProperty(de,e,{get(){return t=pe[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(pe).forEach((e=>{fe(e)})),Object.defineProperty(de,"__route__",{set(e){ae=e}}),Object.defineProperty(de,"__method__",{set(){}}),Object.defineProperty(de,"__query__",{set(e){ne=e}}),de.RunType=n,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){pe.submit()}});const he=de})(),v=r.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>N});var r,n,s,c,l,u,p,d,f,h,v,y,_,m,b,k=Object.prototype.toString,S=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,{}),I={},T=[],C=0,x=[],A=(e,t,a)=>{if(void 0!==t&&void 0!==e&&e===r){var n=void 0!==a?a:++C;return _=n,I[n]=t,T.push(n),x.forEach((e=>{"function"==typeof e&&e(n)})),n}},P=(e,t,a,n)=>{if(void 0!==e&&e===r){var o=(e=>{for(var t=T.length,r=0;r<t;r++){var a=T[r];if(I[a]===e)return a}})(t);if(void 0!==o){var i=S[a];return"function"==typeof i?i(n,o):void 0}}},E=(e,t)=>{S[e]=t},O=(e,t)=>{if(void 0===f||"function"!=typeof f)return"failed: loadLibFiles not supported";if("devtools"===o.platform&&"number"!=typeof h)return"failed: loadLibFiles not supported";try{if(0===f.call(r,e,JSON.stringify(t)))throw`WAFiles: ${t} is not exist.`;return"success"}catch(e){return"failed: "+e}},M=(e,t,r)=>{if("android"===o.platform||"ios"===o.platform||"devtools"===o.platform||"windows"===o.platform||"mac"===o.platform||"mina"===o.platform){var a=Date.now(),n=O(null!=r?r:1,[e]);w.info(`inject subPackage: ${e} coast: `,Date.now()-a),t(n)}else w.error("不支持loadJSFiles")},R={},D={__init__:e=>{void 0===r&&void 0!==e&&((r=e).register=A,r.subscribeHandler=P,n=r.alloc,s=r.create,c=r.destroy,l=r.evaluateScriptFile,u=r.loadJsFiles,f=r.loadLibFiles,p=r.allocEmpty,d=r.allocFromSnapshot,h=r.mainContextId,v=r.errorHandler,r.waitingChannel={},y=r.notifyGameEngineReady,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile,delete r.loadJsFiles,delete r.loadLibFiles,delete r.allocEmpty,delete r.allocFromSnapshot,delete r.mainContextId,delete r.errorHandler,delete r.notifyGameEngineReady)},publish:(e,t={},a,n)=>{var o,i=(o=t,k.call(o).split(" ")[1].split("]")[0]);if("Object"!==i&&"Undefined"!==i)throw new Error("params should be an object.");return a.map((a=>{var o=I[a];if(o)return o.subscribeHandler(r,e,t);n&&void 0!==a&&(r.waitingChannel[a]||(r.waitingChannel[a]=[]),r.waitingChannel[a].push({event:e,params:t}))}))},subscribe:E,onRegister:e=>{x.push(e)},evaluateScriptFile:(e,t,r)=>l(e,t,r),batchLoadJsFiles:(e,t,a)=>{if(void 0===u||"function"!=typeof u)return"failed: loadJsFiles not supported";var n="devtools"===o.platform?void 0:JSON.stringify(a);try{var i=u.call(r,e,JSON.stringify(t),n);return(e=>"[object Promise]"===Object.prototype.toString.call(e))(i)?i.then((()=>"success")).catch((e=>"failed: "+e)):"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof n?n.call(r,e,t):-9999,create:(e,t)=>"function"==typeof s?s.call(r,e,t):-9999,destroy:(e,t)=>"function"==typeof c?c(e,t):-9999,isAsync:()=>r&&!0===r.async,supportAlloc:()=>"function"==typeof n,loadLibFiles:O,allocEmpty:(e,t)=>"function"==typeof p?p.call(r,e,t):-9999,supportAllocEmpty:()=>"function"==typeof p,allocFromSnapshot:(e,t)=>{if("function"==typeof d){var a=d.call(r,e,t);return a}return-9999},supportAllocFromSnapshot:()=>"function"==typeof d,loadMainContextLibFile:M,loadSubContextLibFile:(e,t,r)=>{if(r)return M(e,t,r);w.error("loadSubContextLibFile lose subContextId")},getMainContextId:()=>h,setAppSubContextId:e=>{b=e},getAppSubContextId:()=>b,convertRealId2SdkId:e=>R[e],associateRealId2SdkId:e=>{R[e]=_},errorHandler:(e,t)=>{v?v(e,t):m?m[e]=t:(m={[e]:t},E("subContextError",(({contextId:e,err:t})=>{m[e](t)})))},notifyGameEngineReady:()=>{"function"==typeof y&&y()}};var L=D;i.onLoad((()=>{"undefined"!=typeof WeixinJSContext&&(L.__init__(WeixinJSContext),delete L.__init__,delete e.g.WeixinJSContext)}));const N=L;g=t.default})(),(()=>{var e={4081:(e,t,r)=>{"use strict";r.d(t,{Q1T:()=>o,UoO:()=>c,Wkc:()=>n,YEP:()=>a,Z9j:()=>i,tHd:()=>s});var a=101,n=1001,o=1022,i=600009,s=600010,c=1300014},1977:(e,t,r)=>{var a;e=r.nmd(e),function(n){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var i,s=2147483647,c=36,l=1,u=26,p=38,d=700,f=72,h=128,v="-",g=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-l,w=Math.floor,k=String.fromCharCode;function S(e){throw RangeError(m[e])}function I(e,t){for(var r=e.length,a=[];r--;)a[r]=t(e[r]);return a}function T(e,t){var r=e.split("@"),a="";return r.length>1&&(a=r[0]+"@",e=r[1]),a+I((e=e.replace(_,".")).split("."),t).join(".")}function C(e){for(var t,r,a=[],n=0,o=e.length;n<o;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<o?56320==(64512&(r=e.charCodeAt(n++)))?a.push(((1023&t)<<10)+(1023&r)+65536):(a.push(t),n--):a.push(t);return a}function x(e){return I(e,(function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,r){var a=0;for(e=r?w(e/d):e>>1,e+=w(e/t);e>b*u>>1;a+=c)e=w(e/b);return w(a+(b+1)*e/(e+p))}function E(e){var t,r,a,n,o,i,p,d,g,y,_,m=[],b=e.length,k=0,I=h,T=f;for((r=e.lastIndexOf(v))<0&&(r=0),a=0;a<r;++a)e.charCodeAt(a)>=128&&S("not-basic"),m.push(e.charCodeAt(a));for(n=r>0?r+1:0;n<b;){for(o=k,i=1,p=c;n>=b&&S("invalid-input"),((d=(_=e.charCodeAt(n++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:c)>=c||d>w((s-k)/i))&&S("overflow"),k+=d*i,!(d<(g=p<=T?l:p>=T+u?u:p-T));p+=c)i>w(s/(y=c-g))&&S("overflow"),i*=y;T=P(k-o,t=m.length+1,0==o),w(k/t)>s-I&&S("overflow"),I+=w(k/t),k%=t,m.splice(k++,0,I)}return x(m)}function O(e){var t,r,a,n,o,i,p,d,g,y,_,m,b,I,T,x=[];for(m=(e=C(e)).length,t=h,r=0,o=f,i=0;i<m;++i)(_=e[i])<128&&x.push(k(_));for(a=n=x.length,n&&x.push(v);a<m;){for(p=s,i=0;i<m;++i)(_=e[i])>=t&&_<p&&(p=_);for(p-t>w((s-r)/(b=a+1))&&S("overflow"),r+=(p-t)*b,t=p,i=0;i<m;++i)if((_=e[i])<t&&++r>s&&S("overflow"),_==t){for(d=r,g=c;!(d<(y=g<=o?l:g>=o+u?u:g-o));g+=c)T=d-y,I=c-y,x.push(k(A(y+T%I,0))),d=w(T/I);x.push(k(A(d,0))),o=P(r,b,a==n),r=0,++a}++r,++t}return x.join("")}i={version:"1.3.2",ucs2:{decode:C,encode:x},decode:E,encode:O,toASCII:function(e){return T(e,(function(e){return y.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return T(e,(function(e){return g.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return i}.call(t,r,t,e))||(e.exports=a)}(globalThis)},8817:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,a,n){r=r||"&",a=a||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(r);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var u,p,d,f,h=e[l].replace(i,"%20"),v=h.indexOf(a);v>=0?(u=h.substr(0,v),p=h.substr(v+1)):(u=h,p=""),d=decodeURIComponent(u),f=decodeURIComponent(p),t(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o}},8779:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,a,n){return r=r||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var o=encodeURIComponent(t(n))+a;return Array.isArray(e[n])?e[n].map((function(e){return o+encodeURIComponent(t(e))})).join(r):o+encodeURIComponent(t(e[n]))})).join(r):n?encodeURIComponent(t(n))+a+encodeURIComponent(t(e)):""}},9935:(e,t,r)=>{"use strict";t.decode=t.parse=r(8817),t.encode=t.stringify=r(8779)},2517:(e,t,r)=>{"use strict";var a=r(1977),n=r(7417);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=m;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),p=["%","/","?",";","#"].concat(u),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(9935);function m(e,t,r){if(e&&n.isObject(e)&&e instanceof o)return e;var a=new o;return a.parse(e,t,r),a}o.prototype.parse=function(e,t,r){if(!n.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var m=e=l.join(s);if(m=m.trim(),!r&&1===e.split("#").length){var b=c.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=i.exec(m);if(w){var k=(w=w[0]).toLowerCase();this.protocol=k,m=m.substr(w.length)}if(r||w||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===m.substr(0,2);!S||w&&g[w]||(m=m.substr(2),this.slashes=!0)}if(!g[w]&&(S||w&&!y[w])){for(var I,T,C=-1,x=0;x<d.length;x++){-1!==(A=m.indexOf(d[x]))&&(-1===C||A<C)&&(C=A)}-1!==(T=-1===C?m.lastIndexOf("@"):m.lastIndexOf("@",C))&&(I=m.slice(0,T),m=m.slice(T+1),this.auth=decodeURIComponent(I)),C=-1;for(x=0;x<p.length;x++){var A;-1!==(A=m.indexOf(p[x]))&&(-1===C||A<C)&&(C=A)}-1===C&&(C=m.length),this.host=m.slice(0,C),m=m.slice(C),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var E=this.hostname.split(/\./),O=(x=0,E.length);x<O;x++){var M=E[x];if(M&&!M.match(f)){for(var R="",D=0,L=M.length;D<L;D++)M.charCodeAt(D)>127?R+="x":R+=M[D];if(!R.match(f)){var N=E.slice(0,x),j=E.slice(x+1),W=M.match(h);W&&(N.push(W[1]),j.unshift(W[2])),j.length&&(m="/"+j.join(".")+m),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=a.toASCII(this.hostname));var F=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!v[k])for(x=0,O=u.length;x<O;x++){var U=u[x];if(-1!==m.indexOf(U)){var B=encodeURIComponent(U);B===U&&(B=escape(U)),m=m.split(U).join(B)}}var H=m.indexOf("#");-1!==H&&(this.hash=m.substr(H),m=m.slice(0,H));var q=m.indexOf("?");if(-1!==q?(this.search=m.substr(q),this.query=m.substr(q+1),t&&(this.query=_.parse(this.query)),m=m.slice(0,q)):t&&(this.search="",this.query={}),m&&(this.pathname=m),y[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var G=this.search||"";this.path=F+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",a=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(i=_.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),a&&"#"!==a.charAt(0)&&(a="#"+a),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+a},o.prototype.resolve=function(e){return this.resolveObject(m(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(n.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,a=Object.keys(this),i=0;i<a.length;i++){var s=a[i];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(r[u]=e[u])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var p=Object.keys(e),d=0;d<p.length;d++){var f=p[d];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||m||r.host&&e.pathname,k=w,S=r.pathname&&r.pathname.split("/")||[],I=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(I&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===S[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),r.search=e.search,r.query=e.query;else if(!n.isNullOrUndefined(e.search)){if(I)r.hostname=r.host=S.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift());return r.search=e.search,r.query=e.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=S.slice(-1)[0],C=(r.host||e.host||S.length>1)&&("."===T||".."===T)||""===T,x=0,A=S.length;A>=0;A--)"."===(T=S[A])?S.splice(A,1):".."===T?(S.splice(A,1),x++):x&&(S.splice(A,1),x--);if(!w&&!k)for(;x--;x)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),C&&"/"!==S.join("/").substr(-1)&&S.push("");var P,E=""===S[0]||S[0]&&"/"===S[0].charAt(0);I&&(r.hostname=r.host=E?"":S.length?S.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift()));return(w=w||r.host&&S.length)&&!E&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},7417:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},4500:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var a=r(6342),n=r(2147),o=(e={})=>{if("Expt"===e.experimentType&&"[object Object]"===Object.prototype.toString.call(a.default.expt)){var t=a.default.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}(0,n.IN)("getABTestConfig",e)}},5125:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(9370),n=null,o=void 0,i={lastRoute:"",lastOpenType:"",lastActiveWebviewId:null,pageRenderer:"",scene:-1,sceneNote:"",query:{},rawPath:"",runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0,navigationBarTitleMap:{},currentNetworkType:"",isWeakNetwork:!1,singlePageData:{},openingInnerPage:!1,get currentWebviewId(){return o},set currentWebviewId(e){o=e,n&&(n(null),n=null)},currentWebviewIdPromise:new Promise((e=>{n=e})),getWebviewIds:()=>a.hr.getGlobalWebviewIds(),get hasWebViewCompnent(){return Boolean(i.webViewComponentInfo[o])},webViewComponentInfo:{},get lastActiveRoute(){if("number"!=typeof i.lastActiveWebviewId)return i.lastRoute;var e=a.hr.getPageByWebviewId(i.lastActiveWebviewId);return(null==e?void 0:e.route)||i.lastRoute}};const s=i},9105:(e,t,r)=>{"use strict";r.d(t,{Em:()=>s.Em,M8:()=>v,Nf:()=>h,RP:()=>p,iZ:()=>o.i,p9:()=>d,pD:()=>f});var a=r(6342),n=r(9370),o=r(1591),i=(r(6347),r(7445)),s=r(6142),c=/^[-+a-zA-Z0-9]+:\/\//,l=/(^|\/)__[-+a-zA-Z0-9]+__\//;function u(e){var t=e.match(c);if(!t)return e;var r=t[0];if("plugin://"===r){var i=r.length,s=e.indexOf("/",i);if(s>=0){var l=e.slice(i,s),u=a.default.plugins&&a.default.plugins[l]?a.default.plugins[l].provider:l;e=e.slice(0,i)+u+e.slice(s)}var p=e.indexOf("?");p<0&&(p=e.length);var d=e.slice(0,p),f=n.Ve.Component._list[d];if(!f)throw new o.l(`Page "${d}" is not found`);e=f.is+e.slice(p)}else if("plugin-private://"===r){var h=e.indexOf("?");h<0&&(h=e.length);var v=e.slice(0,h);e="/"+n.hr.convertComponentAliasToRoute(v)+e.slice(h)}else{if("wx://"!==r&&"wxpage://"!==r)throw new o.l(`Unknown URL protocol "${r}"`);e="/__wx__/"+e.slice(r.length)}return e}function p(e,t=""){return t=t.replace(/^\//,""),(0,i.isGame)()?`__plugin__/${e}/${t}`:u(`plugin-private://${e}/${t}`)}function d(e){var t=e.match(c),r=e.match(l),n="";if(t){var o=t[0];if("plugin://"===o){var i=o.length,s=e.indexOf("/",i);if(s>=0){var u=e.slice(i,s);n=a.default.plugins&&a.default.plugins[u]?a.default.plugins[u].provider:u}}else if("plugin-private://"===o){var p=o.length,d=e.indexOf("/",p);if(d>=0)n=e.slice(p,d)}else"wx://"===o&&(n="//")}if(r){var f=r[0];if(f.endsWith("__plugin__/")){var h=e.indexOf(f)+f.length,v=e.indexOf("/",h);if(v>=0)n=e.slice(h,v)}else f.endsWith("__wx__/")&&(n="//")}return n}function f(e){var t=e.match(c);return t?t[0]:null}function h(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},4571:(e,t,r)=>{"use strict";r.d(t,{kd:()=>c,su:()=>l});var a=r(9766),n=r(2147),o=r(8246),i="default",s=(0,a.s)("apiCategoryChange");s.onMethod,s.offMethod;function c(){return i}function l(e="default"){-1!==["default","nativeFunctionalized","browseOnly","embedded"].indexOf(e)&&(i=e)}(0,o.n)("sheetModeWindowStateChangedEvent",((e={})=>{(0,n.nY)("sheetModeWindowStateChangedEvent",e),"fullPage"===e.state&&"default"!==i&&(i="default",s.emit({apiCategory:i}))})),(0,n.Ld)("getApiCategory",(({callbackId:e},t)=>{(0,n.nY)("apiCategoryGot",{res:c(),callbackId:e},[t])}))},7849:(e,t,r)=>{"use strict";r.d(t,{_:()=>o,e:()=>n});var a={};function n(e){a=e}function o(){return a}},3013:(e,t,r)=>{"use strict";r.d(t,{T:()=>D});var a=r(2147),n=r(9661),o=r(9105),i={};const s={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:{lastShareTicket:null,get:e=>i[e],set(e,t){var r=(0,o.M8)();return i[r]={shareKey:e,shareName:t},r}},emitter:new n.Z};var c=r(6347),l=r(5125),u=r(6342),p=r(182),d=(r(9370),r(7445)),f=r(3329),h=e=>{var t,r,a=e.api.find((e=>"request"===e.name));if(a){var n=null===(t=a.req)||void 0===t?void 0:t.interpreterRules,o=null===(r=a.resp)||void 0===r?void 0:r.interpreterRules;(0,f.k)().runTask("createWeAppRequestInterpreter",{rules:{req:n,res:o,exclusive:!0},appid:u.default.accountInfo.appId}).catch((e=>{w.error("createWeAppRequestInterpreter error:",e)}))}},v=[],g=r(4571),y=r(3888),_=r.n(y),m=r(1868),b=r(8246),k=null;(0,b.n)("onMessageFromNavigateMiniProgram",(({extraData:e,appid:t})=>{k={extraData:e,appid:t}}));var S,I=()=>k,T=()=>{k=null};(0,m.NX)("postMessageToReferrerMiniProgram",function(){var e=_()((function*({extraData:e}){return(0,a.bb)("postMessageToReferrerMiniProgram",{extraData:e})}));return function(t){return e.apply(this,arguments)}}());function C(e,t){e.apiCategory=(e=>{if([1200,1201,1228].includes((t=v.filter((e=>![1038].includes(e))))[t.length-1]))return"default";var t;switch(e.mode){case"default":case"halfPage":return"nativeFunctionalized"===e.appearance?"nativeFunctionalized":"default";case"singlePage":return"browseOnly";case"embedded":return"embedded";default:return"default"}})(e),(0,g.su)(e.apiCategory),void 0===e.isTransparentBackgroundSupport&&(e.isTransparentBackgroundSupport=u.default.isTransparentBackgroundSupport)}r(1105);var x=r(7849);(0,a.Ld)("getEnterAppInfo",(({callbackId:e},t)=>{(0,a.nY)("appEnterInfoGot",{res:(0,x._)(),callbackId:e},[t])}));var A,P,E,O=r(9766),M=r(8602);u.default.onReady((()=>{l.Z.scene=A=u.default.appLaunchInfo.scene,l.Z.sceneNote=u.default.appLaunchInfo.scene_note}));var R=(0,O.s)("AppEnterForeground"),D=R.internalOnMethod;function L(e){if(!(0,d.isGame)()){e=function(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:l.Z.query)||{},e.path=t?(0,c.Z8)(e.path):(0,c.Z8)(l.Z.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?l.Z.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:l.Z.lastShareInfo=void 0),s.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(s.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){var{shareInfo:r}=e;r.shareKey&&r.shareName&&((0,a.IN)("showUpdatableMessageSubscribeButton",{shareKey:r.shareKey}),e.shareTicket=s.ShareInfoStorage.set(r.shareKey,r.shareName),s.ShareInfoStorage.lastShareTicket=e.shareTicket)}return 1044!==e.scene||e.chatroomUsername||(e.scene=1007),e}(e,!1),(0,x.e)(e);var t=function(e={},t){var r,a,n;0===(e=Object.assign({},e)).scene?e.scene=S:S=e.scene;var o=e.scene;1003===o?o=1089:1131===o||1158!==o&&1159!==o&&1160!==o||!(0,p.J)("getGroupToolbarInfo")&&(o=1008),[1106,1005,1006,1027,1042].indexOf(o)>-1&&(e.referrerInfo.appId=null),1092===o&&"wxf8df44389465ee03"===(null===(r=e.referrerInfo)||void 0===r||null===(a=r.privateExtraData)||void 0===a?void 0:a.targetAppId)&&(o=1037);var i=I();T();var s=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:null!==(n=e.referrerInfo.extraData)&&void 0!==n?n:i&&i.appid===e.referrerInfo.appId?i.extraData:void 0}:{};1092===o&&s.extraData&&s.extraData.csSessionId&&s.extraData._reportInfo&&("undefined"==typeof __userActionTracer__||__userActionTracer__.shouldStartReport()&&!__userActionTracer__.shouldUpdateReportInfo(s.extraData.csSessionId)||(w.info("ca report startegy:",s.extraData._reportInfo),__userActionTracer__.convertReportInfo2Strategys(s.extraData._reportInfo),__userActionTracer__.startActionChainReport(),__userActionTracer__.setSessionId(s.extraData.csSessionId),__userActionTracer__.setEventJoinInterval(s.extraData._reportInfo.eventJoinInterval),__userActionTracer__.setAsyncCallbackJoinEventInterval(s.extraData._reportInfo.asyncCallbackJoinEventInterval),__userActionTracer__.setReportSetting({reportCache:s.extraData._reportInfo.reportCache,reportInterval:s.extraData._reportInfo.reportInterval}),__userActionTracer__.protectActionReporter(),h(s.extraData._reportInfo))),e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId&&(e.referrerInfo.appId&&(s.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId,0===Object.keys(e.referrerInfo.privateExtraData).length&&delete e.referrerInfo.privateExtraData);var c={path:e.path,query:e.query,scene:o,shareTicket:e.shareTicket,referrerInfo:s};e.chatroomUsername&&1156===o&&(c.chatroomUsername=e.chatroomUsername),e.chatType&&(c.chatType=e.chatType);var l,f,v=e.nativeExtraData||{};return e.hostExtraData&&(c.hostExtraData=e.hostExtraData),v.location&&(c.locationInfo=v.location),((0,d.isFakeNativeApp)()||(0,d.isWXStoreApp)())&&(e.nativeExtraData&&(c.nativeExtraData=e.nativeExtraData),null!==(l=e)&&void 0!==l&&null!==(f=l.referrerInfo)&&void 0!==f&&f.privateExtraData&&(c.privateExtraData=e.referrerInfo.privateExtraData),c.sessionId=e.sessionid||e.sessionId,c.isLaunch=e.isLaunch,e.isLaunch&&(c.prerender=!!u.default.prerender),c.clickTimestamp=e.clickTimestamp,c.preloadType=t),(0,d.isFakeNativeApp)()&&(e.isLaunch?c.userConfig=u.default.userConfig:c.userConfig=e.userConfig),e.mode&&(c.mode=e.mode),e.apiCategory&&(c.apiCategory=e.apiCategory),1173===o&&(v.mimeType?c.forwardMaterials=[{type:v.mimeType,path:v.materialPath,name:v.materialName,size:v.materialSize}]:Array.isArray(v.materials)&&(c.forwardMaterials=v.materials)),1226===o&&v.iot&&(c.iot=v.iot),e.isTransparentBackgroundSupport&&(c.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),c.referrerInfo&&"wxb6d22f922f37b35a"===c.referrerInfo.appId&&(c.referrerInfo={}),c}(e);e.__public=function(e,t=""){if((0,o.p9)(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),(0,d.isWXStoreApp)()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}(t,""),w.info("[EnterOptions] set enterOptions by onAppEnterForeground"),t,M.Z.set("api_call_from_hot_boot_time",Date.now(),!0),R.emit(e),l.Z.scene=e.scene,l.Z.sceneNote=e.scene_note}}var N=e=>e&&e.referrerInfo&&"wx6bd2fb149a93a9c5"===e.referrerInfo.appId&&e.referrerInfo.extraData&&"boolean"==typeof e.referrerInfo.extraData.isSuccess;(0,b.n)("onAppEnterForeground",((e={})=>{if(d.IS_ANDROID)if(N(e)){var t=JSON.stringify(e.referrerInfo.extraData);if(P!==t)return void(P=t);P=t,e.scene=A,delete e.referrerInfo}else A=e.scene;else if(d.IS_IOS)if(1038===e.scene){if(N(e))return void(E=!0);var r;null!=e&&null!==(r=e.referrerInfo)&&void 0!==r&&r.appId?(E=!1,A=e.scene):E?e.scene=A:A=e.scene}else A=e.scene;var n=e.debugLaunchInfo||{};Object.assign(e,n),delete e.debugLaunchInfo;var i,c=1===e.reLaunch||!0===e.reLaunch;w.info(`[onAppEnterForeground] isReLaunch=${c}`),i=e.scene,v.push(i),C(e);var l=(0,o.pD)(e.path);if("wxpage://"===l&&(e.path="__wx__/"+e.path.slice(l.length)),c){var p=t=>{w.info(`[onAppEnterForeground] get onAppRoute [${t}], prerender=${u.default.prerender}`),"appLaunch"!==t.openType||!0!==u.default.prerender?(w.info("[onAppEnterForeground] emit enterForeground"),L(e)):s.emitter.once("onAppRoute",p)};s.emitter.once("onAppRoute",p)}else L(e);(0,a.nY)("onAppEnterForeground",e)}))},8171:(e,t,r)=>{"use strict";r.d(t,{Vl:()=>v,PL:()=>h,PQ:()=>f});var a=r(2147),n=(JSON.parse,JSON.stringify,r(9766)),o=r(6342),i=r(5125),s="",c=!1,l=(0,n.s)("networkstatusChange"),u=(0,n.s)("networkWeakChange"),p=(0,n.s)("networkTypeReady"),d=e=>{(0,a.IN)("getNetworkType",e,{beforeAll(e){e.weakNet=i.Z.isWeakNetwork}})},f=l.onMethod,h=(l.offMethod,u.onMethod,u.offMethod,()=>s),v=(p.onMethod,()=>c);"undefined"!=typeof IS_SDK_PACKAGE||(0,a.jQ)("onNetworkStatusChange",((e={})=>{s=e.networkType,e.signalStrength,i.Z.currentNetworkType=s,l.emit(e),(0,a.nY)("onNetworkStatusChange",e)})),o.default.onReady((()=>{o.default.networkType&&(s=o.default.networkType),d({success(e){s=e.networkType,e.signalStrength,i.Z.currentNetworkType=s,c=e.hasSystemProxy,p.emit(s)}})}))},127:(e,t,r)=>{"use strict";r.d(t,{mw:()=>n.mw,xI:()=>a.x});var a=r(5748),n=r(2219)},2219:(e,t,r)=>{"use strict";r.d(t,{Oo:()=>l,mw:()=>u});var a=r(6342),n=r(4761),o=r(5748),i=null,s=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];a.default.onReady((()=>{i={};for(var e=0;e<s.length;e++){if(!(s[e]in a.default)){i=(0,n.m)();break}i[s[e]]=a.default[s[e]]}if(a.default.screenHeight&&a.default.screenWidth)a.default.screenWidth,a.default.screenHeight;else{var t=(0,n.m)();t.screenWidth,t.screenHeight}}));var c,l=()=>a.default.isReady?Object.assign({},i):((new Error).stack,{}),u=(...e)=>{if(c)return c;if(!0===e[0]){if(i)return i;c=(0,o.x)()}else c=(0,o.x)();return c}},4761:(e,t,r)=>{"use strict";r.d(t,{F:()=>i,m:()=>o});var a,n=r(5748),o=()=>a||(a=Object.assign({},(0,n.x)())),i=e=>{delete(a=Object.assign({},e)).errMsg}},5748:(e,t,r)=>{"use strict";r.d(t,{x:()=>v});var a,n,o,i=r(2147),s=JSON.parse,c=JSON.stringify,l=r(9806),u=r(7445),p=r(6342),d=p.default.SDKVersion,f=r(4761),h=(a="getSystemInfo",n=e=>{p.default.isReady||(new Error).stack,(0,i.IN)("getSystemInfo",e,{beforeSuccess:e=>{(e=>{var t=u.PLATFORM;if(u.IS_IOS&&(e.brand="iPhone"),u.IS_DEVTOOLS&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=d,e.enableDebug=Boolean(p.default.debug),p.default.devicePixelRatio&&(e.devicePixelRatio=p.default.devicePixelRatio),p.default.theme&&(e.theme=p.default.theme),p.default.host&&(u.IS_HOST_SAAA_SDK?(e.host={...p.default.host},delete e.host.uuid):e.host=p.default.host),p.default.appLaunchInfo&&p.default.appLaunchInfo.mode&&(e.mode=p.default.appLaunchInfo.mode),u.IS_ANDROID&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),(0,l.Av)()&&!(0,u.isGame)()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),u.WK_RENDERER_H5&&(e.renderer="h5"),u.IS_IOS&&e.model&&0===e.model.indexOf("unknown")){var r=e.model.match(/^unknown<([^>]*)>$/),a=r&&r[1];a&&("iPhone15,4"===a?e.model=`iPhone 15<${a}>`:"iPhone15,5"===a?e.model=`iPhone 15 plus<${a}>`:"iPhone16,1"===a?e.model=`iPhone 15 pro<${a}>`:"iPhone16,2"===a&&(e.model=`iPhone 15 pro max<${a}>`))}})(e),(0,f.F)(e)}})},(e={})=>{var{success:t,fail:r}=(0,i.Rn)(e,a);if(o){var l={};try{l=s(o)}catch(e){w.error("constructCachedOptimizedSyncApi parse error",e.message)}t(l)}else n(Object.assign({},e,{success(e){try{o=c(e)}catch(e){w.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{o=void 0})),t(e)},fail(e){o=void 0,r(e)},complete:void 0}))}),v=(r(1708),()=>{var e={};return h({success(t){delete t.errMsg,e=t}}),e})},9370:(e,t,r)=>{"use strict";r.d(t,{Ve:()=>n,hr:()=>a});var a,n,o=new(r(9661).Z);o.on.bind(o,"__virtualDOM__"),o.on.bind(o,"__subContextEngineSub__"),o.on.bind(o,"__wxModule__"),o.on.bind(o,"__cloudSDK__")},2338:(e,t,r)=>{"use strict";r.d(t,{ls:()=>o});var a,n=r(4237),o=()=>(a||(a=(0,n.sZ)()),a)},7412:(e,t,r)=>{"use strict";r.d(t,{t:()=>C});var a,n=r(3888),o=r.n(n),i=r(4515),s=r(1708),c=r(158),l=r(9937),u=r(9067),p=r(5340),d=r(6659),f=r(6142),h=(0,s.k)()+" "+(0,s.n)(),g=["appendFile","appendFileSync","copyFile","copyFileSync","saveFile","saveFileSync","unzip","write","writeFile","writeFileSync","writeSync"],y={appendFile:"filePath",appendFileSync:0,copyFile:"destPath",copyFileSync:1,saveFile:"filePath",saveFileSync:1,unzip:"targetPath",writeFileSync:0,writeFile:"filePath"},_=["http://__wxprivate__","wxfile://__wxprivate__","http://sdk","wxfile://sdk","wxfile://ad"],m=function(){var e=o()((function*(e,t,r,a,n){var o=(yield t)||0,s=(yield r)||0,c=a.includes("sdk")?104857600:209715200,l=(0,f.HD)(e)?(0,u.Ei)(e):null==e?void 0:e.byteLength,p=(0,i.WQ)(n),h=o+l;s+l<p.storageLimit&&h<c||(p.autoClearAfterExceeds&&(({subDirPath:e=""})=>{(0,d.q)({filePath:e})})({subDirPath:n}),I({rootPath:a,rootSize:o,path:n,dirSize:n,isExceedsReport:!0}))}));return function(t,r,a,n,o){return e.apply(this,arguments)}}(),b={},w=new Proxy({},{get:(e,t)=>(...e)=>{var r;if(a||(r={},Object.assign(r,c.v,l.W),a=r),g.includes(t)&&!b[t]){b[t]=!0;var n=k(a[t],t);return a[t]=n,n(...e)}return a[t](...e)}}),k=(e,t)=>{var r=t.endsWith("Sync"),a={};return(...n)=>{var o=y[t],s=r?n[o]:n[0][o];s=S(s);var c=a[s]?a[s]:_.find((e=>s.includes(e)));if(!c)return e(...n);if(a[s]=c,(0,i.nl)(s)){var l=T(c),u=T(s),p=c,d=s,f=n[0].data||n[1]||"";return m(f,l,u,p,d),Math.random()<.1&&I(p,l,d,u),e(...n)}}},S=e=>{var t="";try{var r=e.split("//"),a=r[1].split("/");if(t=`${r[0]}//${a[0]}`,a.length>2)t+=`/${a[1]}`}catch(e){}return t},I=function(){var e=o()((function*(e,t,r,a,n=!1){a=a?yield a:"",t=t?yield t:"";var o=[h,r,n?"exceeds disk size":"",a,e,t].join(",");v.reportKeyValue({key:"InnerDiskStatInfo",value:o,immediately:!0})}));return function(t,r,a,n){return e.apply(this,arguments)}}(),T=function(){var e=o()((function*(e){var t=null;return yield new Promise(((r,a)=>{(0,p.lz)({path:e,recursive:!1,success:e=>{t=e.stats.size,r()},fail:e=>{a(e)}})})).catch((e=>{})),t}));return function(t){return e.apply(this,arguments)}}(),C=()=>w},4515:(e,t,r)=>{"use strict";r.d(t,{MV:()=>a,WQ:()=>l,nl:()=>s});var a={WX_CACHE_DEBUG_PREFIX:{path:"wxfile://sdk/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},MNXNET_ROOT_DIR:{path:"wxfile://sdk/mnxnet",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_MODEL_CACHE_PATH_PREFIX:{path:"wxfile://sdk/we_model",storageLimit:31457280,autoClearAfterExceeds:!1},WX_COMPILE_PREFIX:{path:"wxfile://__wxprivate__/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},PRIVACY_DIR:{path:"wxfile://__wxprivate__/privacy",storageLimit:5242880,autoClearAfterExceeds:!1},OBS_DIRECTION_PATH:{path:"wxfile://__wxprivate__/obs",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_INFO_CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/app_info",storageLimit:5242880,autoClearAfterExceeds:!1},CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/pay",storageLimit:5242880,autoClearAfterExceeds:!1},WX_SHARE_APP_MESSAGE_CACHE_PATH:{path:"wxfile://__wxprivate__/share_app_message",storageLimit:5242880,autoClearAfterExceeds:!1},WX_DEIVCE_BENCHMARK_PATH:{path:"wxfile://__wxprivate__/wx_device_benchmark",storageLimit:5242880,autoClearAfterExceeds:!1},AD_PATH:{path:"wxfile://ad",storageLimit:104857600,autoClearAfterExceeds:!1},SHORT_TV_CACHE:{path:"wxfile://__wxprivate__/short_tv",storageLimit:1048576,autoClearAfterExceeds:!0}},n={},o=[],i=Object.entries(a);function s(e){o.length||i.forEach((e=>{o.push(e[1].path)}));var t=void 0!==n[e]?n[e]:o.some((t=>e.includes(t)));return n[e]=t,!!t}var c={};function l(e){var t;if(c[e])t=c[e];else{var r,a=null!==(r=i.find((t=>t[1].path===e)))&&void 0!==r?r:[],{storageLimit:n=5242880,autoClearAfterExceeds:o=!1}=a[1]||{};t={storageLimit:n,autoClearAfterExceeds:o},c[e]=t}return t}},1821:(e,t,r)=>{"use strict";var a=r(2147),n=(r(5125),[]);(0,a.Ld)("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=n[t];delete n[t],r&&r(e)}))},6365:(e,t,r)=>{"use strict";r.d(t,{o:()=>R,S:()=>D});var a,n=r(2147),o=r(6342),i=r(5515),s=r(6345),c=r(5473),l=r(2517),u=r(7445),p=r(6142),d=e=>{try{return(0,l.Qc)(e).host}catch(e){return""}},f=(e,t)=>{var r=e.split("."),a=t.split(".");if(r.length>a.length)return!1;for(var n=1;n<=r.length;n++)if(r[r.length-n]!==a[a.length-n])return!1;return!0},h=void 0,v=()=>(a||(a=(0,c.o)().then((e=>{var t,r,a;w.info("game video getSecInfo res",e);var n=null!==(t=null==e||null===(r=e.data)||void 0===r||null===(a=r.opinfo_async)||void 0===a?void 0:a.video_domain_limit)&&void 0!==t?t:[],o=new Set;return n.forEach((e=>{Array.isArray(e.domain_list)&&e.domain_list.forEach((e=>o.add(e)))})),{videoDomainLimit:n,domainList:Array.from(o)}})).catch((e=>(w.error("game video getSecInfo error",e),{})))),a).then((({domainList:e,videoDomainLimit:t})=>((0,p.o8)(h)&&(h=!!t.length&&t.some((e=>"mmbizsecvod"===e.biz_flag))),{domainList:e,isShortTVMiniprogram:h}))),g=r(7412),y=r(4515).MV.SHORT_TV_CACHE.path,_=`${y}/localUrlMap.json`,m=!1,b=[],k=()=>{m=!1,b.forEach((e=>e())),b=[]},S=e=>0===e.indexOf("wxfile://tmp")||0===e.indexOf("http://tmp/")?216e5:1728e6,I=(e,t)=>{m=!0,v().then((({isShortTVMiniprogram:r})=>{var a;r?(a=t,v().then((({domainList:e,isShortTVMiniprogram:t})=>{if(t&&e&&e.length){var r=d(a);return!!e.every((e=>!f(e,r)))&&(0!==a.indexOf("wxfile://")&&(!u.IS_DEVTOOLS||0!==a.indexOf("http://tmp/")&&0!==a.indexOf("http://usr/"))||C(a).then((e=>!e)))}return!1}))).then((r=>{r?k():(0,s.h)({filePath:e,digestAlgorithm:"md5",success:r=>{var a=r.digest;(0,g.t)().readFile({filePath:_,encoding:"utf8",success:r=>{var n;try{n=JSON.parse(r.data)}catch(e){}if(n&&Array.isArray(n)){var o=Date.now(),i=[],s=!0;n.forEach((r=>{e===r.localUrl&&(r.expireTime=Date.now()+S(e),r.md5=a,r.remoteUrl=t,s=!1),o>r.expireTime||i.push(r)})),T(s?{md5:a,localUrl:e,remoteUrl:t}:null,i)}else T({md5:a,localUrl:e,remoteUrl:t})},fail:r=>{T({md5:a,localUrl:e,remoteUrl:t})}})},fail:e=>{k()}})})).catch((()=>{k()})):k()})).catch((()=>{k()}))},T=(e,t=[])=>{function r(){(0,g.t)().writeFile({filePath:_,encoding:"utf8",data:JSON.stringify(t),success:e=>{k()},fail:e=>{k()}})}e&&(e.expireTime=Date.now()+S(e.localUrl),t.push(e)),(0,g.t)().access({path:_,success:e=>{r()},fail:e=>{(0,g.t)().mkdir({dirPath:y,success:e=>{r()},fail:e=>{k()}})}})},C=e=>new Promise((t=>{function r(){(0,g.t)().readFile({filePath:_,encoding:"utf8",success:r=>{var a,n;try{a=JSON.parse(r.data)}catch(e){}return a&&Array.isArray(a)&&a.some((t=>e===t.localUrl&&(n=t.md5,!0)))&&n?void(0,s.h)({filePath:e,digestAlgorithm:"md5",success:e=>{var r=e.digest;return t(r===n)},fail:e=>t(!1)}):t(!1)},fail:e=>t(!1)})}m?b.push(r):r()}));(0,i.b)("Download",{maxTaskCount:10,functionName:"downloadFile"}),o.default.onReady((()=>{try{"number"==typeof o.default.wxAppInfo.maxDownloadConcurrent&&(0,i.b)("Download",{maxTaskCount:o.default.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class x extends i.o{constructor(e){var{url:t,filePath:r,forVideoPlay:a=!0}=e;super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>{var{tempFilePath:n}=e;return e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),delete e.timeInterval,a&&I(n||r,t),e}})}}const A=x;var P=r(4237),E=r(182),O=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,n.r3)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__,(0,E.J)("skipDomainCheck_downloadFile")&&(t.__skipDomainCheck__=!0);try{return new A(t)}catch(e){return void(0,n.YG)("downloadFile",t,e.message)}}}),M=O(),R=O({__skipDomainCheck__:!0}),D=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith((0,P.WZ)()))return M(e);(0,n.YG)("downloadFile",e,"permission denied")}},5900:(e,t,r)=>{"use strict";r.d(t,{BA:()=>p,Nq:()=>l,f7:()=>c,jO:()=>u});var a=r(2147),n=r(8171),o=(r(7644),r(872),{}),i={},s={},c=(e,t,r)=>{if(s[e])return s[e];var n,i=e&&e.indexOf(":");n=(n=-1!==i?e.slice(0,i):e).toLowerCase();var c=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:n}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:n,service_id:t}};return s[e]=(0,a.Qh)(c).then((t=>{delete s[e];var a,{wxa_state:n,ttl:i,hit_cache:c,ip_list:l=[],ip:u}=t.data;a=null!=l&&l.length?l[0]:u;var p=l.slice(1);if(0===n)return o[e]={ip:a,expireTime:1e3*i+Date.now(),candidateIps:p},r?{...o[e],hitCache:c}:o[e];throw new Error(n)})).catch((t=>{if(!r&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete s[e],t})),s[e]},l=e=>{var t=o[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null},u=(e,t)=>{var r=i[e];return t?(!r||r!==t)&&(delete i[e],!0):(delete i[e],!1)},p=(e,t)=>{i[e]=t};(0,n.PQ)((()=>{o={},i={},s={}}))},7858:(e,t,r)=>{"use strict";r.d(t,{Nv:()=>P,gA:()=>x});var a=r(3888),n=r.n(a),o=r(2147),i=r(9766),s=0,c=1,l={minigamelive:s,ad:s,cloud:s,protobuf:s,ga:s,kanata:s,midas:s,pixi:s,sclengine:s,minigamePlatform:s},u=(0,r(143).v)("sclEngine"),p=!1,d=()=>{p||(p=!0,l["sclengine"]===c?u.publish("initReady"):u.advancePublish("initReady"))},f=(0,i.s)("tapAnyWhere");(0,o.Ld)("tapAnyWhere",f.emitInternal);var h=f.internalOnMethod,v=(f.internalOffMethod,f.emitInternal,!1);h((()=>{d(),v||(v=!0,y.forEach((e=>e())),y=[])}));var g,y=[],_=r(127),m=r(7445),b=(e={})=>{((e={})=>{m.IS_HOST_SAAA_SDK?(0,o.YG)("openSetting",e,"openSetting:fail SDK暂不支持此API"):(0,o.IN)("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var a=e.subscriptionsSetting.templatesInfo;r.itemSettings=a.reduce(((e,t)=>{var r={2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[t.tid],a={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=a[t.status]:(e[t.templateId]=a[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})})(e)},w=!1,k=void 0,S=void 0,I=void 0,T="group_forcecelluarnetwork",C=e=>k=e,x=()=>{!k||g||(0,m.isFakeNativeApp)()||(g=!0,A())},A=()=>{var e,t,{language:r}=(0,_.mw)();switch(r){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}!w&&(w=!0,1)&&(t=()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{b({success:e=>{!1===e.authSetting["scope.forceCellularNetwork"]&&C(!1)}})}))}))},v?t():y.push(t))},P=function(){var e=n()((function*(){if(m.IS_HOST_SAAA_SDK)return console.warn("[SaaA] checkAndUseMultiLink force use true"),!0;var e;if(void 0!==k)return k;try{S||(S=(0,o.Qh)({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[T]}})),e=yield S}catch(e){return!1}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===T)))){var a=r[t];if(0===a.state){yield(I||(I=(0,o.Qh)({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:T,state:1}]}})),I).then((e=>{C(!0)})).catch((e=>{}))}else 2===a.state?C(!1):1===a.state&&C(!0)}return k}));return function(){return e.apply(this,arguments)}}()},1235:(e,r,a)=>{"use strict";a.d(r,{Rg:()=>Z,UF:()=>Q,ac:()=>z,jz:()=>X,WY:()=>K});var n=a(2147),o=a(6342),i=a(5515),s=({url:e,result:t,cost:r,pointCacheType:a,errMsg:n,errno:o,host:i,fullCost:s})=>{var c=[e,t,r,a,n?encodeURIComponent(n):n,o,i,s].join(",");v.reportKeyValue({key:"WeFreeHttpDns",value:c})},c=(a(3888),a(182)),l=a(8171);a(3329),a(6142),a(6347),a(3852),a(3385);Math.random;var u,p,d,f=a(5900),h=new RegExp("name_not_resolved","i"),g=(e,t,r)=>!(0,l.Vl)()&&(!(!(0,c.J)("useFreeHttpDns")||!(e=>h.test(e.errMsg))(e))&&(X(t,r),!0)),y=a(7858),_=a(7445),m=a(2030),b=a(1320),k=a(2417),S=a(6487),I=a(6551),T=!1;o.default.onReady((()=>{var e,t,r,a,n,i,s,c,l,f,h,v,g,y,_;(null!==(e=o.default.appContactInfo)&&void 0!==e&&null!==(t=e.stablePassThroughInfo)&&void 0!==t&&null!==(r=t.wxcloud_gateway_conf)&&void 0!==r&&r.enabled||null!==(a=o.default.appContactInfo)&&void 0!==a&&null!==(n=a.wxcloud_gateway_conf)&&void 0!==n&&n.enabled)&&(T=!0,u=null===(i=o.default.appContactInfo)||void 0===i||null===(s=i.stablePassThroughInfo)||void 0===s?void 0:s.wxcloud_gateway_conf,(p=null===(c=o.default.appContactInfo)||void 0===c||null===(l=c.passThroughInfo)||void 0===l?void 0:l.wxcloud_gateway)&&null!==(f=o.default.appContactInfo)&&void 0!==f&&null!==(h=f.stablePassThroughInfo)&&void 0!==h&&null!==(v=h.wxcloud_gateway_conf)&&void 0!==v&&v.lite_gateway_info&&(d=null===(g=o.default.appContactInfo)||void 0===g||null===(y=g.stablePassThroughInfo)||void 0===y||null===(_=y.wxcloud_gateway_conf)||void 0===_?void 0:_.lite_gateway_info))}));var C=!1;function x({options:e,res:t,task:r}){return C=!0,{args:Object.assign({},e.originArgs,{url:e.accelerateOptions.rawUrl,header:e.accelerateOptions.rawHeader,enableHttp3:e.accelerateOptions.rawEnableHttp3}),innerArgs:{__retryAccelFallback__:!0}}}function A(e){var r,a,n,i,s;try{if(d){var{host:c,args:l,options:f}=e,{accelerateOptions:h,...v}=function(e,{host:r,compatUrls:a,args:n,__retryAccelFallback__:i}){var s,c,l,d,{disableAccelerate:f,url:h,header:v}=n,g=~~(Date.now()/1e3),y=null===(s=p)||void 0===s?void 0:s.auth_info,_=null===(c=p)||void 0===c?void 0:c.user_selected,m=e.forward_info_list,b=null==m?void 0:m.find((e=>e.url_prefixes.find((e=>h.startsWith(e))))),w=t.version,k="any"===(null===(l=u)||void 0===l?void 0:l.env_version)||null===(d=u)||void 0===d?void 0:d.env_version;if(!_||!y||g>y.exp||g-y.iat>86400||k&&o.default.envVersion!==k||f||i||C||(0,I.yC)(w,e.min_lib_version)<0||!b)return i&&(C=!0),{accelerateOptions:{accelerateType:S.JL.none}};var T=u.domain,x=r,A=h.replace(x,T),P=v,E=Object.assign({},P,{"x-wx-lite-gw-token":String(y.token),"x-wx-port":String(b.port),"x-wx-route-tag":String(b.route_tag),"x-wx-rid":String(y.rid)});return{accelerateOptions:{accelerateType:S.JL.liteGatewayAcc},host:T,args:Object.assign({},n,{url:A,header:E,enableHttp3:!0}),compatUrls:Object.assign({},a,{host:T,url:A}),header:E}}(d,{host:c,args:l,compatUrls:e.compatUrls,__retryAccelFallback__:f.__retryAccelFallback__});if(h.accelerateType===S.JL.liteGatewayAcc)return Object.assign({},v,{accelerateOptions:Object.assign({},h,{rawHost:c,rawUrl:l.url,rawHeader:l.header,rawEnableHttp3:l.enableHttp3})})}}catch(e){return}if(T)if(e.host!==u.domain){if(!e.options.__skipDomainCheck__){var g=null===(r=(a=__cloudSDKMain__).getRequestMiddleware)||void 0===r?void 0:r.call(a,o.default)(e.args);return g?new Promise(((e,t)=>g(e,t))):void 0}}else if(null!==(n=e.args.useGatewayIp)&&void 0!==n&&n.enabled&&null!==(i=p)&&void 0!==i&&null!==(s=i.prefetch_ip)&&void 0!==s&&s.ip){var y,_;if(Number(p.prefetch_ip.exp)>~~(Date.now()/1e3))return e.args.useGatewayIp.state=2,{ip:null===(y=p)||void 0===y||null===(_=y.prefetch_ip)||void 0===_?void 0:_.ip,skipDNS:k.Q};e.args.useGatewayIp.state=3}else{var m;!1===(null===(m=e.args.useGatewayIp)||void 0===m?void 0:m.enabled)?e.args.useGatewayIp.state=4:e.args.useGatewayIp&&(e.args.useGatewayIp.state=1)}}var P=0,E=/custom ip is invalid/;(0,i.b)("Request",{maxTaskCount:10,functionName:"request"}),o.default.onReady((()=>{try{"number"==typeof o.default.wxAppInfo.maxRequestConcurrent&&(0,i.b)("Request",{maxTaskCount:o.default.wxAppInfo.maxRequestConcurrent})}catch(e){}}));_.IS_ANDROID;class O extends i.o{constructor(e){null==e||e.__wx_inner_uuid__;var t=null==e?void 0:e.__wx_inner_invokeTime__,r=(null==e||e.__wx_inner_request_network_type__,null==e||e.__wx_request_route_path__,null==e?void 0:e.rawHttpDnsError);null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var a={JSApiType:1,invokeTime:Date.now(),requestingCount:++P,jsApiVersion:0};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:n=>{if(n.profile&&(n.profile.usingHighPerformanceMode=!!n.profile.usingHighPerformanceMode),m.S[e.host]||(m.S[e.host]={needUpdateDns:!1,protocol:e.protocol}),r||e.exception){var o=r||e.exception;n.exception={reasons:o},(null==e?void 0:e.retryCount)>0&&(n.exception.retryCount=e.retryCount)}(0,y.gA)(),e.host&&e.ip&&(0,f.BA)(e.host,e.ip),a.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(n),function(e){e.statusCode=parseInt(e.statusCode,10)}(n),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}(n),e.enableHttpDNS&&(n.useHttpDNS=!!e.ip);try{e.dataType}catch(e){w.error("checkAndReportError error:",e)}"json"===e.dataType&&R(n,e._jsonParse);if(e.__retryHttpDNS__){void 0===n.profile&&(n.profile={});var i=n.profile.domainLookUpStart-n.profile.fetchStart;n.profile.domainLookUpStart=e.lastRequestStartTime,n.profile.fetchStart=e.lastRequestStartTime-i,s({url:e.lastUrl,result:0,fullCost:Date.now()-t,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}var c=e.accelerateOptions.accelerateType;if(n.accelerateType=b.TS[c],c===b.JL.accelerate){if(n.statusCode>=400){var{args:l,innerArgs:u}=(0,b.zp)({options:e,res:n,task:this});return Z(l,u),{__retry__:!0}}var p=(0,b.hw)(n);n.accelerateRequestId=p}else if(c===b.JL.liteGatewayAcc&&n.header&&n.header["x-wx-system-error"]){var{args:d,innerArgs:h}=x({options:e,res:n,task:this});return Z(d,h),{__retry__:!0}}return M(n,a,e),n},beforeFail(n){var o,i=!1;if(e.enableHttpDNS&&(n.useHttpDNS=!!e.ip),a.isSuccess=!1,M(n,a,e),n.errMsg&&E.test(n.errMsg)){var c=!0,l=Date.now()-e.startTimestamp,u="number"==typeof e.timeout?e.timeout:6e4;if(l>u&&(c=!1),c){var p,d=e.__retryHttpDNS__;if(null!==(p=e.candicateIps)&&void 0!==p&&p.length){var f=e.exception;f||(f=[]),f.push({errno:600001,errmsg:n.errMsg});var h=e.candicateIps[0],v=e.candicateIps.slice(1);return Z(e.originArgs,{__innerRequestOptions__:{ip:h,candicateIps:v,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:u-l,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:f,__retryHttpDNS__:d,redirect:e.redirect},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var y=e.exception;return y||(y=[]),y.push({errno:600001,errmsg:n.errMsg}),Z(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:u-l,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:y,__polyfill_ldns__:!0,__retryHttpDNS__:d,redirect:e.redirect}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.accelerateOptions.accelerateType===b.JL.accelerate){var{args:_,innerArgs:m}=(0,b.zp)({options:e,res:n,task:this});return Z(_,m),{__retry__:!0}}if(e.accelerateOptions.accelerateType===b.JL.liteGatewayAcc){var{args:w,innerArgs:k}=x({options:e,res:n,task:this});return Z(w,k),{__retry__:!0}}if(e.__retryHttpDNS__){var S;s({url:e.lastUrl,result:1,fullCost:Date.now()-t,pointCacheType:e.hitCache,errMsg:n.errMsg,errno:n.errno,host:e.lastHost,cost:null!==(S=e.weHttpDNSCoast)&&void 0!==S?S:-1}),i=e.lastErrorResponse}else{var I,T=e.exception;if(g(n,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:n,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(I=e.retryCount)&&void 0!==I?I:0,exception:T}))return{__retry__:!0,__freehttpdns__:!0}}(r||e.exception)&&(o={reasons:r||e.exception},(null==e?void 0:e.retryCount)>0&&(o.retryCount=e.retryCount));return i?{__changeError__:{...i,exception:o}}:n}}),this.taskInvoker&&this.taskInvoker.jsapiVersion&&(a.jsApiVersion=this.taskInvoker.jsapiVersion)}}function M(e,t,r){var a=Date.now();if(P--,t.costTime=a-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var n=e.clientInfo;t.wxdataQueueTimestamp=n.invokeTime,t.wxdataDequeueTimestamp=n.invokeTime,t.beginCGITimestamp=n.beginCGITimestamp,t.CGICallbackTimestamp=n.CGICallbackTimestamp,t.wxlibCallbackTimestamp=n.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=a-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo}}function R(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}const D=O;var L=new WeakMap;class N{constructor(){var e,t=new Promise((t=>{e=t}));L.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=L.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=L.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=L.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=L.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=L.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=L.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=L.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}a(1105),a(2900);var j=a(4081),W=(a(4500),{}),F=!1;function $({args:{url:e,__wx_inner_invokeTime__:t},host:r,needHttpdns:a=!1,options:{__retryHttpDNS__:n,lastErrorResponse:o,__refuseDns__:i=!1}}){var c,u;if((n||a)&&!i)if((null===(c=W[e])||void 0===c?void 0:c.count)>=4)s({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r});else if(!(0,l.Vl)()){if(F){var p=(0,f.Nq)(r);if(p&&!1===p.expired)return u=p.ip,{host:r,ip:u,hitCache:1}}var d=Date.now();return(0,f.f7)(r,void 0,!0).then((e=>{u=e.ip;var t=e.hitCache?2:0,a=Date.now()-d;return{host:r,ip:u,banHttpDNS:!0,weHttpDNSCoast:a,hitCache:t}})).catch((a=>{if(602107!=a.errno){W[e]?W[e].count++:W[e]={count:1};var n=setTimeout((()=>{delete W[e]}),3e4);W[e].cf&&clearTimeout(W[e].cf),W[e].cf=n}throw s({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:a.errMsg||a.message||a.msg,errno:a.errno,host:r}),o}))}}(_.IS_IOS||_.IS_ANDROID)&&(F=!0);var U=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):(0,y.Nv)().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork}));function B({host:e}){var t=(e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,r,a=0;a<e.length;a++){if(r=e[a],"."===t&&"."===r)return!0;t=r}return!1})(e);if(t)throw new Error(`invalid host: ${e}`)}var H=!1;function q({host:e}){var t,r;return H?(null!==(t=m.S[e])&&void 0!==t&&t.needUpdateDns&&(m.S[e].doingDns||(m.S[e].doingDns=!0,Z({url:`${m.S[e].protocol}//${e}`,timeout:5e3,complete(){m.S[e].doingDns=!1,m.S[e].needUpdateDns=!1}},{__refuseDns__:!0})),r=!0),{needHttpdns:r}):{needHttpdns:!1}}o.default.onReady((()=>{1===Number(o.default.expt.clicfg_appbrand_ios_dns_polyfill)&&(H=!0)}));class G{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var r=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new N;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();((e,t)=>{var{resolve:r}=L.get(e);r(t)})(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:(0,n.FE)({name:"request",args:e,errno:j.YEP,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:a,method:n,port:o,responseType:i,dataStr:s,options:c,forbidReuse:l,currentRequestStartTime:u,lastRequestStartTime:p,weHttpDNSCoast:d,hitCache:f,lastHost:h,lastUrl:v,__retryHttpDNS__:g,lastErrorResponse:y,candicateIps:_,startTimestamp:m,timeout:w,protocol:k,compatUrls:S,rawHttpDnsError:I,retryCount:T,exception:C,__polyfill_ldns__:x,accelerateOptions:A}=this.innerParams;try{return new D(Object.assign({},e,{header:a,method:n,responseType:i,data:s,ip:r,host:t,port:o,forbidReuse:l,currentRequestStartTime:u,lastRequestStartTime:p,originArgs:e,weHttpDNSCoast:d,hitCache:f,lastHost:h,lastUrl:v,__retryHttpDNS__:g,lastErrorResponse:y,__skipDomainCheck__:A.accelerateType===b.JL.accelerate||A.accelerateType===b.JL.liteGatewayAcc||c.__skipDomainCheck__,candicateIps:_,startTimestamp:m,timeout:w,protocol:k,compatUrls:S,rawHttpDnsError:I,retryCount:T,exception:C,__polyfill_ldns__:x,accelerateOptions:A}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var V=(e={})=>(t={},r={})=>J(Object.assign({},e,r))(t),J=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1,__refuseDns__:!1,__retryAccelFallback__:!1},e),function(t={}){var r;if(t.url){try{r=(0,b.en)(t.url)}catch(e){return void(0,n.FE)({name:"request",args:t,errno:j.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===r.protocol||"https:"===r.protocol)if("function"!=typeof t.data){(0,c.J)("skipDomainCheck")&&(e.__skipDomainCheck__=!0);var a=new G({args:t,options:e});if(a.catch((e=>{(0,n.YG)("request",t,e.message||e.errMsg,e.errno)})).use((0,b.JU)(r)).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:r.host,protocol:r.protocol,compatUrls:{port:r.port||("http:"===r.protocol?80:443),host:r.hostname,url:`${r.hostname||""}${r.pathname||""}${r.search||""}${r.hash||""}`}})).use(q).use(B).use(b.dG.bind(this)).use(b.S7).use($).use(b.Dk).use(U).use(A).useAfterAsyncTasks(b.rk),a.catchFn)return a.execute(t)}else(0,n.FE)({name:"request",args:t,errno:j.tHd,errMsg:"data should not be Function",success:!1});else(0,n.FE)({name:"request",args:t,errno:j.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}else(0,n.FE)({name:"request",args:t,errno:j.Wkc,errMsg:`invalid url "${t.url}"`,success:!1})}),K=J({__skipDomainCheck__:!1}),z=J({__skipDomainCheck__:!0}),Q=J({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),X=V({__retryHttpDNS__:!0}),Z=V()},6487:(e,t,r)=>{"use strict";r.d(t,{JL:()=>u,S7:()=>h,TS:()=>p,hw:()=>d,zp:()=>g});var a=r(9067),n=r(7445),o=r(6342),i=(r(2147),r(8171)),s=r(5310),c=r(5125),l={isHitRule:0,enableAcc:0,requestHostMap:{},socketHostMap:{},forceDisableAcc:0},u={none:0,accelerate:1,disable:2,retryAccelFallback:3,forceDisableAcc:4,liteGatewayAcc:5},p={[u.none]:"none",[u.accelerate]:"accelerate",[u.disable]:"disable",[u.retryAccelFallback]:"retryAccelFallback",[u.forceDisableAcc]:"forceDisableAcc",[u.liteGatewayAcc]:"liteGateway"};o.default.onReady((()=>{}));var d=e=>{var t;return(null==e||null===(t=e.header)||void 0===t?void 0:t["EO-LOG-UUID"])||""},f=({host:e,hostMap:t,compatUrls:r,args:a,__retryAccelFallback__:n,__AccelFailReqId__:o})=>{var{disableAccelerate:i,url:s}=a,c=t[e],{disable:p,accelerate:d,retryAccelFallback:f,none:h,forceDisableAcc:v}=u,g=h;return c&&(i?g=p:n?(g=f,l.forceDisableAcc=1):1===l.forceDisableAcc&&(g=v)),{accelerateOptions:Object.assign({accelerateType:g},o?{__AccelFailReqId__:o}:{})}};function h(e){var{host:t,args:r,compatUrls:a,options:n}=e,{requestHostMap:o,isHitRule:i}=l,{accelerateOptions:s,...c}=f({host:t,compatUrls:a,hostMap:o,args:r,__retryAccelFallback__:n.__retryAccelFallback__,__AccelFailReqId__:n.__AccelFailReqId__});return Object.assign({},c,{accelerateOptions:Object.assign({},s,{isHitRule:i,rawHost:t,rawUrl:r.url})})}var g=({options:e,res:t,task:r})=>{var o=d(t)||r.uniqueId,{isHitRule:l,rawUrl:u,rawHost:p,accelerateType:f}=e.accelerateOptions,h=e.originArgs.url,g=e.host,{profile:y,statusCode:_,errno:m,errMsg:b}=t,{domainLookUpStart:w,domainLookUpEnd:k,connectStart:S,connectEnd:I,SSLconnectionStart:T,SSLconnectionEnd:C,requestStart:x,requestEnd:A,responseStart:P,responseEnd:E,socketReused:O,peerIP:M}=y||{};return v.reportKeyValue({key:"AccelerateNetwork",value:["request",encodeURIComponent(u.substring(0,1024)),encodeURIComponent(h.substring(0,1024)),p,g,2,Date.now()-e.currentRequestStartTime,b,v.getAppType(),_,0,(0,i.PL)(),0,(0,a.Xl)(y||{}),(0,n.isGame)()?s.Z.scene:c.Z.scene,m,l,f,o,k-w,I-S,C-T,A-x,E-P,O,M].join(",")}),delete e.accelerateOptions,e.originArgs.url=u,{args:e.originArgs,innerArgs:{__retryAccelFallback__:!0,__AccelFailReqId__:o}}}},1320:(e,t,r)=>{"use strict";r.d(t,{S7:()=>y.S7,JL:()=>y.JL,TS:()=>y.TS,rk:()=>k,zp:()=>y.zp,hw:()=>y.hw,en:()=>d,Dk:()=>w,dG:()=>g,JU:()=>o});var a=r(9105),n=r(6347);function o(e){return function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:o,lastUrl:i,lastHost:s,lastErrorResponse:c,__innerRequestOptions__:l,__polyfill_ldns__:u,retryCount:p,exception:d}={}}){var f,h;!t&&null!=l&&l.__retryHttpDNS__&&(t=!0),e.header?(h=(0,a.Em)(e.header),e.header=(0,a.Nf)(e.header)):(f=!0,h="Undefined",e.header={}),"Undefined"!==h&&"Object"!==h&&(console.warn("wx.request: header must be an object"),e.header={}),f||(e.header=Object.keys(e.header).reduce(((t,r)=>{var a=r.toLowerCase();return"content-type"===a?t[a]=e.header[r]:t[r]=e.header[r],t}),{}));var v="text";e.responseType&&(v=e.responseType.toLowerCase());var g,y=e.header,_="GET";if("string"==typeof e.method&&(_=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(y["content-type"]=y["content-type"]||"application/json"),g=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==(0,a.Em)(e.data)?y["content-type"].indexOf("application/x-www-form-urlencoded")>-1?(0,n.HR)(e.data,!0):y["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):g.toString():e.data,"GET"===_&&e.data){var m=(0,n.cE)(e.url,e.data);e.url=m}var b=null!=l&&l.timeout?l.timeout:e.timeout,w=null!=l&&l.retryCount?l.retryCount:0;w||(w=null!=p?p:0);var k=null!=l&&l.exception?l.exception:null;k||(k=d);var S=(null==l?void 0:l.__polyfill_ldns__)||u;return{header:y,method:_,responseType:v,dataStr:g,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:o,lastHost:s,lastUrl:i,__retryHttpDNS__:t,lastErrorResponse:c,startTimestamp:Date.now(),timeout:b,retryCount:w,exception:k,__polyfill_ldns__:S}}}var i,s=r(2517),c=Symbol("pre"),l=Symbol("next"),u=Symbol("key");class p{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[c],r=e[l];t&&r?(t[l]=r,r[c]=t,this.cacheTail[l]=e,e[c]=this.cacheTail,e[l]=null,this.cacheTail=e):t||r&&(r[c]=null,this.cacheHead=r,this.cacheTail[l]=e,e[c]=this.cacheTail,e[l]=null,this.cacheTail=e)}insertCache(e,t){if(t[u]=e,this.cacheTail?(t[l]=null,t[c]=this.cacheTail,this.cacheTail[l]=t,this.cacheTail=t):(this.cacheTail=t,t[l]=null,this.cacheHead=t,t[c]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[u]];var r=this.cacheHead[l];r[c]=null,this.cacheHead[l]=null,this.cacheHead[c]=null,this.cacheHead=r}else this.cacheLength++}removeOldestCache(){if(this.cacheTail){var e=[this.cacheHead[u],this.cacheMap[this.cacheHead[u]]];delete this.cacheMap[this.cacheHead[u]];var t=this.cacheHead[l];return t[c]=null,this.cacheHead[c]=null,this.cacheHead[l]=null,this.cacheHead=t,this.cacheLength--,e}}removeCache(e){var t=this.getCache(e);t&&(t===this.cacheHead?(this.cacheHead=t[l],this.cacheHead&&(this.cacheHead[c]=null)):t===this.cacheTail?(this.cacheTail=t[c],this.cacheTail&&(this.cacheTail[l]=null)):(t[c][l]=t[l],t[l][c]=t[c],t[u][c]=null,t[u][l]=null),delete this.cacheMap[t[u]],this.cacheLength--)}}function d(e){i||(i=new p(50));var t,r=i.getCache(e);return r?(i.updateCache(r),r):((t="function"==typeof URL?new URL(e):(0,s.Qc)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),i.insertCache(e,t),t)}var f=r(2900),h=r(1105),v=r(2417),g=function({args:e={}}){var{ip:t}=e;if(t){var r=(0,h.hI)(this);return r&&(0,f.uC)(r,"skipDNSRequest")?{skipDNS:v.Q,ip:e.ip}:{}}},y=r(6487),_=r(6142),m=r(8171),b=r(5900);function w({args:e={},host:t,skipDNS:r,banHttpDNS:a,options:n={}}){var o,i;if(r!==v.Q&&!a){var s,c,{enableHttpDNS:l,httpDNSServiceId:u}=e;if(null!=n&&null!==(o=n.__innerRequestOptions__)&&void 0!==o&&o.ip)return{host:t,ip:n.__innerRequestOptions__.ip,candicateIps:null===(c=n.__innerRequestOptions__)||void 0===c?void 0:c.candicateIps};if(null===(null==n||null===(i=n.__innerRequestOptions__)||void 0===i?void 0:i.ip))return{};if(!(0,m.Vl)()){if(!0===l&&(0,_.HD)(u)){var p=(0,b.Nq)(t);return p&&!1===p.expired?(s=p.ip,{host:t,ip:s}):(0,b.f7)(t,u).then((e=>{if(s=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:n.retryCount?n.retryCount+1:1};var r=e.candidateIps;return{host:t,ip:s,candicateIps:r}}))}return!0===l?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function k({host:e,ip:t,compatUrls:r}){var a=(0,b.jO)(e,t);return t?{port:r.port,host:r.host,url:r.url,forbidReuse:a}:{forbidReuse:a}}},2417:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var a=Symbol("skipDNS")},5515:(e,t,r)=>{"use strict";r.d(t,{o:()=>ye,b:()=>Ce});var a=r(2147),n=r(3140),o=r(5436),s=r(9806),c=r(6142),l=r(5340);var u=r(4317),p=r(2030);r(9370);var d=r(7445),f=r(6342),h=r(1399);class v{constructor(){}createTask(e){throw new Error("not impl")}onTaskStateChange(e){throw new Error("not impl")}operate(){throw new Error("not impl")}}var g=r(5464),y=new o.Q("RequestTaskJsBindingInvoker"),_={},m=e=>"Binding"+e,b=(e,t)=>(0,a.ZI)(e,`RequestTask.${t}`);var k=e=>{delete _[m(e.id)]};function S(e){var t=this.responseInfo;Object.assign(t,e),y.emit("stateChange",{requestTaskId:m(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function I(e){this.responseInfo.data=e}function T(e){y.emit("stateChange",{requestTaskId:m(this.id),state:"chunked",data:e.data})}function C(e){y.emit("stateChange",{requestTaskId:m(this.id),state:"progressUpdate",type:e.type,totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function x(e={}){var t=this.responseInfo;t.header=e.header,t.statusCode=e.statusCode,y.emit("stateChange",{requestTaskId:m(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function A(e={}){var t=this.responseInfo,r={requestTaskId:m(this.id),state:"success",header:t.header,data:t.data,statusCode:t.statusCode,clientInfo:e.clientInfo};r.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),r.clientInfo=this.__mockClientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),void 0===r.data&&"text"===this.invokeArgs.responseType&&(r.data=""),y.emit("stateChange",r),k(this)}function P(e){e.errno;var t={requestTaskId:m(this.id),state:"fail",clientInfo:e.clientInfo,errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};t.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),t.clientInfo=this.__mockClientInfo),y.emit("stateChange",t),k(this)}var E=(e,t)=>(0,a.ZI)(e,`DownloadTask.${t}`),O=new o.Q("DownloadTaskJsBindingInvoker"),M={};var R=e=>{delete M[e.id]};function D(e){var t=this.responseInfo;Object.assign(t,e),O.emit("stateChange",{downloadTaskId:this.id,state:"headersReceived",header:e.header,cookies:e.cookies||{}})}function L(e){O.emit("stateChange",{downloadTaskId:this.id,state:"progressUpdate",totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,progress:e.progress})}function N(e={}){var t=this.responseInfo,r={downloadTaskId:this.id,state:"success",header:t.header,dataLength:e.dataLength,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.tempFilePath&&(r.tempFilePath=e.tempFilePath),e.filePath&&(r.filePath=e.filePath),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),O.emit("stateChange",r),R(this)}function j(e){e.errno;var t={downloadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),O.emit("stateChange",t),R(this)}var W=(e,t)=>(0,a.ZI)(e,`UploadTask.${t}`),F=new o.Q("UploadTaskJsBindingInvoker"),$={};var U=e=>{delete $[e.id]};function B(e){var t=this.responseInfo;Object.assign(t,e),F.emit("stateChange",{uploadTaskId:this.id,state:"headersReceived",header:e.header})}function H(e){F.emit("stateChange",{uploadTaskId:this.id,state:"progressUpdate",progress:e.progress,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function q(e={}){var t=this.responseInfo,r={uploadTaskId:this.id,state:"success",header:t.header,data:e.data,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),F.emit("stateChange",r),U(this)}function G(e){e.errno;var t={uploadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),F.emit("stateChange",t),U(this)}var V={Request:{jsBinding:new class extends v{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:a,enableHttp2:n,enableHttp3:o}=e,{useHighPerformanceMode:i}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,i||o?e.protocol="h3":n&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,h.Z.RequestTask)(e);_[m(s.id)]=s;var c=Date.now();s.__mockClientInfo={invokeTime:c,beginCGITimestamp:c,CGICallbackTimestamp:c,wxlibCallbackTimestamp:c};s.responseInfo={},s.invokeArgs=e,s.onDataReceived=b(I,"onDataReceived"),s.onSucceeded=b(A,"onSucceeded"),s.onFailed=b(P,"onFailed"),s.onResponseStarted=b(S,"onResponseStarted"),s.onRedirectReceived=b(x,"onRedirectReceived"),(0,g.V)()||(s.onProgressUpdate=b(C,"onProgressUpdate"),s.onChunkedDataReceived=b(T,"onChunkedDataReceived")),s.operate({operationType:"request"});var l={requestTaskId:m(s.id),errMsg:"createRequestTask:ok"};r(l),a(l)}onTaskStateChange(e){y.off("stateChange"),y.on("stateChange",e)}operate(e){var{operationType:t}=e,r=_[e.requestTaskId];e.requestTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){if((0,g.V)()){var r=_[t];if(!r)return;"progressUpdate"===e?r.onProgressUpdate=b(C,"onProgressUpdate"):"headersReceived"===e||"chunked"===e&&(r.onChunkedDataReceived=b(T,"onChunkedDataReceived"))}}stopListenTaskStateChange({stateName:e,taskId:t}){var r=_[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e?(r.onResponseStarted=null,r.onRedirectReceived=null):"chunked"===e&&(r.onChunkedDataReceived=null))}}},Download:{jsBinding:new class extends v{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:a,enableHttp2:n,enableHttp3:o}=e,{useHighPerformanceMode:i}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,i||o?e.protocol="h3":n&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,h.Z.DownloadTask)(e);M[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=E(N,"onSucceeded"),s.onFailed=E(j,"onFailed"),s.onResponseStarted=E(D,"onResponseStarted"),(0,g.V)()||(s.onProgressUpdate=E(L,"onProgressUpdate")),s.operate({operationType:"download"});var c={downloadTaskId:s.id,errMsg:"createDownloadTask:ok"};r(c),a(c)}onTaskStateChange(e){O.off("stateChange"),O.on("stateChange",e)}operate(e){var{operationType:t}=e,r=M[e.downloadTaskId];e.downloadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){if((0,g.V)()){var r=M[t];if(!r)return;"progressUpdate"===e&&(r.onProgressUpdate=E(L,"onProgressUpdate"))}}stopListenTaskStateChange({stateName:e,taskId:t}){var r=M[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}},Upload:{jsBinding:new class extends v{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:a,enableHttp2:n,enableHttp3:o}=e,{useHighPerformanceMode:i}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,i||o?e.protocol="h3":n&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,h.Z.UploadTask)(e);$[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=W(q,"onSucceeded"),s.onFailed=W(G,"onFailed"),s.onResponseStarted=W(B,"onResponseStarted"),(0,g.V)()||(s.onProgressUpdate=W(H,"onProgressUpdate")),s.operate({operationType:"upload"});var c={uploadTaskId:s.id,errMsg:"createUploadTask:ok"};r(c),a(c)}onTaskStateChange(e){F.off("stateChange"),F.on("stateChange",e)}operate(e){var{operationType:t}=e,r=$[e.uploadTaskId];e.uploadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){if((0,g.V)()){var r=$[t];if(!r)return;"progressUpdate"===e&&(r.onProgressUpdate=W(H,"onProgressUpdate"))}}stopListenTaskStateChange({stateName:e,taskId:t}){var r=$[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}}},J=(e,t)=>"Request"===e&&h.Z.RequestTask&&(t.useHighPerformanceMode||(e=>!(!d.IS_ANDROID||e.enableHttpDNS))(t))?V.Request.jsBinding:"Download"===e&&h.Z.DownloadTask&&(t.useHighPerformanceMode||(e=>{var t;return!(!d.IS_ANDROID||e.enableHttpDNS||e.enableQuic&&"1"!==(null===f.default||void 0===f.default||null===(t=f.default.expt)||void 0===t?void 0:t.clicfg_enable_appbrand_downloadfile_enablequic_newcronet))})(t))?V.Download.jsBinding:"Upload"===e&&h.Z.UploadTask&&(t.useHighPerformanceMode||(e=>{var t;return!(!d.IS_ANDROID||e.enableHttpDNS||e.enableQuic&&"1"!==(null===f.default||void 0===f.default||null===(t=f.default.expt)||void 0===t?void 0:t.clicfg_enable_appbrand_downloadfile_enablequic_newcronet))})(t))?V.Upload.jsBinding:void 0,K=(e,t)=>{if(V[e]){var r=V[e];Object.keys(r).forEach((e=>{r[e].onTaskStateChange((e=>{t(e)}))}))}},z=r(1320),Q=!1;f.default.onReady((()=>{d.IS_IOS&&1===Number(f.default.expt.clicfg_appbrand_ios_enable_async_create_request_task)&&(Q=!0)}));var X=(0,s.Fr)(l.lz),Z=0,Y=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ae=new WeakMap,ne=new WeakMap,oe=new WeakMap,ie=new WeakMap,se=new WeakMap,ce=new WeakMap,le=new WeakMap,ue={},pe=new o.Q("Network",!0),de=w.createLogger("NetworkTask"),fe=new WeakMap,he={},ve=new WeakMap,ge=new WeakMap;class ye{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:a,beforeFail:n}){var o,i,s=Z++;if(this.uniqueId=1e4*Date.now()+Math.round(9999*Math.random()),Y.set(this,s),te.set(this,"waiting"),re.set(this,e),ae.set(this,t),ie.set(this,r),se.set(this,a),(0,c.mf)(n)&&ce.set(this,n),this.taskInvoker=J(t,e),!this.taskInvoker){var l=!1;((0,p.N)(t)||(d.IS_IOS||d.IS_ANDROID)&&e.forceCellularNetwork)&&(l=!0),le.set(this,l)}var f=new u.Q(((e,t)=>{o=e,i=t}));fe.set(this,{promise:f,resolve:o,reject:i});var h=()=>{Ie.call(this)?(oe.set(this,[Date.now()]),ue[t].taskQueue.push({id:s,item:this})):me.call(this)};(0,c.mf)(e.customCheck)?e.customCheck(e,(r=>{r?_e(t,e,r):h()})):h()}abort(){if(de.info(`[${ae.get(this)}][${Y.get(this)}]abort()`),"waiting"===te.get(this)){de.info(`[${ae.get(this)}][${Y.get(this)}] waiting=true`);var e=ue[ae.get(this)].taskQueue.findIndex((e=>e.id===Y.get(this)));e>-1&&(ue[ae.get(this)].taskQueue.splice(e,1),(0,a.YG)(ue[ae.get(this)].functionName,re.get(this),"abort")),te.set(this,"done")}else{var t=fe.get(this).promise,r=re.get(this);t.then((()=>{var e={[`${ae.get(this).toLowerCase()}TaskId`]:ee.get(this),operationType:"abort",contextId:r.contextId};this.taskInvoker?this.taskInvoker.operate(e):(0,a.IN)(`operate${ae.get(this)}Task`,e)}))}}onProgressUpdate(e){fe.get(this).promise.then((()=>{var t=ee.get(this),r=ae.get(this);pe.on(`${r}${t}progressUpdate`,e),1===pe.getListenersLength(`${r}${t}progressUpdate`)&&xe.call(this,r,"progressUpdate",t)}))}offProgressUpdate(e){fe.get(this).promise.then((()=>{var t=ee.get(this),r=ae.get(this);pe.off(`${r}${t}progressUpdate`,e),pe.getListenersLength(`${r}${t}progressUpdate`)||Ae.call(this,r,"progressUpdate",t)}))}onHeadersReceived(e){fe.get(this).promise.then((()=>{var t=ee.get(this),r=ae.get(this);pe.on(`${r}${t}headersReceived`,e),1===pe.getListenersLength(`${r}${t}headersReceived`)&&xe.call(this,r,"headersReceived",t)}))}offHeadersReceived(e){fe.get(this).promise.then((()=>{var t=ee.get(this),r=ae.get(this);pe.off(`${r}${t}headersReceived`,e),pe.getListenersLength(`${r}${t}headersReceived`)||Ae.call(this,r,"headersReceived",t)}))}onChunkReceived(e){fe.get(this).promise.then((()=>{var t=ee.get(this),r=ae.get(this);pe.on(`${r}${t}chunked`,e),"Request"===r&&1===pe.getListenersLength(`${r}${t}chunked`)&&xe.call(this,r,"chunked",t)}))}offChunkReceived(e){fe.get(this).promise.then((()=>{var t=ee.get(this),r=ae.get(this);pe.off(`${r}${t}chunked`,e),"Request"!==r||pe.getListenersLength(`${r}${t}chunked`)||Ae.call(this,r,"chunked",t)}))}}function _e(e,t,r,n){r=String(r).replace("createCellularNetworkRequestTaskAsync:fail ","");var o={name:ue[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r};"number"==typeof n&&(o.errno=n),(0,a.FE)(o)}function me(){var e=re.get(this),t=ae.get(this),r=le.get(this);te.set(this,"sending"),ne.set(this,Date.now());var{errMsg:a,errno:o}=be.call(this);r?fe.get(this).promise.then((()=>{we.call(this)})).catch((({errMsg:r,errno:a})=>{_e(t,e,r,a)})):a?_e(t,e,a,o):ee.get(this)?we.call(this):fe.get(this).promise.then((()=>{we.call(this)}));setTimeout((()=>{(0,n.P5)({functionName:ue[t].functionName,keyParam:e.url,result:null,costTime:0,errorMsg:"",statusCode:null,__skipDomainCheck__:e.__skipDomainCheck__,dataLength:null,responseDataLength:null,profile:{},queueTime:null,extraData:{},uniqueId:this.uniqueId,isAsync:!1,errno:null,queueLength:0,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0})}),0)}function be(){var e,t,r=ae.get(this),n=re.get(this);ue[r].currentTaskCount++;var o={data:n.data,url:n.url,header:n.header,method:n.method,timeout:"number"==typeof n.timeout?n.timeout:0,enableHttp2:!0===n.enableHttp2,enableHttp3:!0===n.enableHttp3,enableQuic:!0===n.enableQuic,enableCache:!0===n.enableCache,enableProfile:!1!==n.enableProfile,ip:n.ip,port:n.port,forbidReuse:!0===n.forbidReuse,host:n.host,enableChunked:n.enableChunked,__skipDomainCheck__:n.__skipDomainCheck__,forceCellular:n.forceCellularNetwork,contextId:n.contextId,redirect:n.redirect,success:e=>{var t=e[`${r.toLowerCase()}TaskId`];ee.set(this,t),ue[r].taskIdMap[t]=this;var a=fe.get(this).resolve,n=fe.get(this).promise;a(),n.then((()=>{he[t]&&"wait"===he[t].status?he[t].handlers.forEach((e=>e())):he[t]={status:"normal"}}))},fail:a=>{ue[r].currentTaskCount--;var o=a[`${r.toLowerCase()}TaskId`];e=a.errMsg,t=a.errno,ke.call(this,{taskType:r,options:n,errMsg:e,success:!1,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0}),(0,fe.get(this).reject)({errMsg:e,errno:t}),de.error(`[${r}][createTask][Fail] taskId=${o}`),he[o]&&"wait"===he[o].status&&delete he[o]},complete:()=>{te.set(this,"done")}},s=le.get(this),c=`create${r}Task${s?"Async":""}`;(d.IS_IOS||d.IS_ANDROID)&&n.forceCellularNetwork&&(c="createCellularNetworkRequestTaskAsync");var l={};"[object ArrayBuffer]"!==Object.prototype.toString.call(n.data)&&(l.notPack=!0);var u=ie.get(this)(o);return"createRequestTaskAsync"===c&&d.IS_IOS&&Q&&(c="createRequestTaskRealAsync"),this.taskInvoker?this.taskInvoker.createTask(u,n):"Request"!==r||d.IS_DEVTOOLS||d.IS_PC||i.env.isMagicBrushFrameEnv?(0,a.IN)(c,u):(0,a.NJ)(c,u,l),{errMsg:e,errno:t}}function we(){var e=ee.get(this),t=re.get(this),r=ae.get(this),n=ue[r].functionName;pe.on(`${r}${e}success`,(e=>{var r=se.get(this).call(this,e);null!=r&&r.__retry__||(0,a.FE)({name:n,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),pe.on(`${r}${e}fail`,(e=>{var r=ce.get(this),o=r&&r.call(this,e);if(null!=o&&o.__retry__)w.info(`httpDns we retry url: ${t.url}`);else{o&&o.__changeError__&&(e=o.__changeError__);var i={name:n,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(i.errno=e.errno),e.exception&&(i.exception=e.exception),(0,a.FE)(i)}}))}function ke({taskType:e,options:t,errMsg:r,success:a=!0,dataLength:o=0,statusCode:i="",responseDataLength:s=0,profile:c={},queueTime:l,uniqueId:u,errno:p,queueLength:d,accelerateId:f,jsapiVersion:h=0,response:v}){var g=t.url,y=a?1:2,_=Date.now(),m=ne.get(this),b=_-m,w=t.__skipDomainCheck__;b>=6e4&&de.error(`reportTask costTime too long: ${b}ms, taskId=${ee.get(this)}`),(0,n.P5)({functionName:ue[e].functionName,keyParam:g,result:y,costTime:b,errorMsg:r,statusCode:i,__skipDomainCheck__:w,dataLength:o,responseDataLength:s,profile:c,queueTime:l,extraData:{},uniqueId:u,isAsync:!0,errno:p,queueLength:d,accelerateOptions:Object.assign({},t.accelerateOptions,{host:t.host,accelerateId:f}),jsapiVersion:h,requestData:t.data,response:v,beginTime:m,endTime:_,options:t})}function Se(e,t){var r,a=`${t.toLowerCase()}TaskId`,n=e[a],{state:o,header:i}=e;delete e.state,delete e[a],"chunked"!==o&&(e.cookies=i&&(r=i["Set-Cookie"]||i["set-cookie"])?Array.isArray(r)?r:r.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]);var c=0;i&&(c=parseInt(i["Content-Length"]||i["content-length"]||"0",10));var l,u,p=()=>{if(pe.emit(`${t}${n}${o}`,e),"success"===o||"fail"===o){var r=ue[t].taskIdMap[n],a=re.get(r);if(!r)return;ue[t].currentTaskCount-=1;var i=ue[t].taskQueue.length;if(ue[t].taskQueue.length>0){var l=ue[t].taskQueue.shift().item,u=oe.get(l);if(u&&u[0]){var p=u[0];if(p>0){var d=Date.now()-p;oe.set(l,[p,d,i])}}me.call(l)}var f=Promise.resolve((0,s.Y6)(a.data));if("Upload"===t){var h=0;"object"==typeof a.formData&&null!==a.formData&&(h=JSON.stringify(a.formData).length),f=X({path:a.filePath}).then((e=>h+e.stats.size)).catch((()=>h))}var v=Promise.resolve((0,s.Y6)(e.data,c));if("Download"===t){var g=e.dataLength;v="number"==typeof g?Promise.resolve(g):X({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([f,v]).then((([n,i])=>{var s=oe.get(r);ke.call(r,{taskType:t,options:a,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===o,dataLength:n,responseDataLength:i,response:e,profile:e.profile,queueTime:s&&s[1],uniqueId:r.uniqueId,errno:e.errno,queueLength:s&&s[2],socketReused:e.socketReused,peerIP:e.peerIP,accelerateId:(0,z.hw)(e),jsapiVersion:r.taskInvoker?r.taskInvoker.jsapiVersion:0}),oe.delete(r)})),ve.set(ue[t].taskIdMap[n],!0),Te.call(r)}};Q&&"Request"===t?"normal"===(null===(l=he[n])||void 0===l?void 0:l.status)?p():"wait"===(null===(u=he[n])||void 0===u?void 0:u.status)||(he[n]={status:"wait",handlers:[p]}):p()}function Ie(){var e=ae.get(this);return ue[e].currentTaskCount>=ue[e].maxTaskCount}function Te(){var e=ae.get(this),t=ee.get(this);delete ue[e].taskIdMap[t],delete he[t],pe.removeAllListeners(`${e}${t}success`),pe.removeAllListeners(`${e}${t}fail`),pe.removeAllListeners(`${e}${t}complete`),pe.removeAllListeners(`${e}${t}progressUpdate`),pe.removeAllListeners(`${e}${t}headersReceived`),pe.removeAllListeners(`${e}${t}chunked`)}function Ce(e,t){var r=ue[e]?ue[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};K(e,(t=>{Se.call(this,t,e)})),(0,a.jQ)(`on${e}TaskStateChange`,(t=>{Se.call(this,t,e)})),ue[e]=Object.assign(r,t)}function xe(e,t,r){if(this.taskInvoker)this.taskInvoker.startListenTaskStateChange({stateName:t,taskId:r});else{var n=ge.get(this);n?n.add(t):(n=new Set([t]),ge.set(this,n)),(0,a.IN)(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(n),noCallback:!0})}}function Ae(e,t,r){if(this.taskInvoker)this.taskInvoker.stopListenTaskStateChange({stateName:t,taskId:r});else{var n=ge.get(this);n&&(n.delete(t),(0,a.IN)(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(n),noCallback:!0}))}}},5464:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var a=r(7445),n=r(6342),o=!1;n.default.onReady((()=>{var e;o=a.IS_ANDROID&&"1"===(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_android_eventcallback_after_listen)}));var i=()=>o},2030:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,S:()=>s});var a=r(8171),n=r(7445),o=r(6342),i=e=>{if(n.WK_RENDERER_H5)return!0;if(n.IS_ANDROID)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!n.IS_IOS)return!1;if("Request"===e)if(1===Number(o.default.expt.clicfg_appbrand_ios_enable_async_create_request_task))return!0}};(0,a.PQ)((e=>{var t;t="wifi"===e.networkType?1:2,Object.keys(s).forEach((e=>{s[e].network!==t&&(s[e].needUpdateDns=!0,s[e].network=t,s[e].doingDns=!1)}))}));var s={}},7644:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var a=r(2147),n=r(7445),o=r(2167),i=e=>{if(n.IS_DEVTOOLS){var t=Object.assign({},e);t.fromSaaADataPipe=!0,t.reqData={saaaData:t.reqData,idaas_token:e.idaasSessionKey||""},(0,o.yD)(t)}else(0,a.IN)("sendSaaADataPipe",e)}},3140:(e,t,r)=>{"use strict";r.d(t,{P5:()=>m});var a,n=r(8171),o=r(2147),i=r(7445),s=r(9067),c=r(5310),l=r(5125),u=r(9370),p=r(6342),d=r(1708),f=0,h=[],g=Math.random,y=new Set;p.default.onReady((()=>{a=Date.now()}));var _=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:h,appType:v.getAppType()},null,2);(0,o.IN)("reportRealtimeAction",{actionData:e,noCallback:!0}),h=[]},m=({functionName:e,keyParam:t,result:r,costTime:o,errorMsg:m,statusCode:w,__skipDomainCheck__:k,dataLength:S=0,responseDataLength:I=0,profile:T={},queueTime:C=0,extraData:x={},uniqueId:A,isAsync:P=!0,errno:E,queueLength:O=0,accelerateOptions:M={},jsapiVersion:R=0,requestData:D="",response:L="",beginTime:N=0,endTime:j=0,options:W={}}={})=>{var F;t.length>1024&&(t=t.substring(0,1024));var $="",U="",B=0,H="";if((0,i.isGame)()?(U=(0,s.Xl)(c.Z.query),B=c.Z.scene,H=c.Z.sceneNote):(B=l.Z.scene,H=l.Z.sceneNote),void 0!==u.hr){var q=u.hr.getCurrentPages();if(q&&q.length>0){var G=q[q.length-1];if(G&&($=G.route,u.hr.getDisplayReporter)){var V,J=u.hr.getDisplayReporter(G);U=(null==J||null===(V=J.showOptions)||void 0===V?void 0:V.query)||""}}}!E&&m&&/超时|timeout/.test(m)&&(E=5);var K=JSON.stringify(x),z=[e,t,r,o,m,v.getAppType(),w,S,(0,n.PL)(),$,U,I,(0,s.Xl)(T),B,H,A,E,C,K,null===(F=p.default.wxAppInfo)||void 0===F?void 0:F.maxRequestConcurrent,j-a,O,R,0,l.Z.isWeakNetwork?1:0].map(encodeURIComponent).join(","),Q=!1;if(P&&(1==r?g()<.01&&(Q=!0):Q=!0),Q){var X,Z="",Y="",ee="",te="",re="",ae="",ne="",oe="",ie="",se="",ce=T.protocol||"",le=0;!0===T.socketReused?le=1:!1===T.socketReused&&(le=2);var ue=!0===W.enableCache?1:2,pe=!0===W.enableHttpDNS?1:2,de=W.enableChunked?1:2,fe="",he="",ve=(0,d.k)()+" "+(0,d.n)(),ge=b(),ye=W.method,_e=!0===W.enableHttp2?1:2,me=!0===W.enableQuic?1:2,be=!0===W.enableHttp3?1:2;T&&T.fetchStart&&N&&("request"===e||"downloadFile"===e||"uploadFile"===e)&&(Z=T.fetchStart-N,Y=T.domainLookUpEnd-T.domainLookUpStart,ee=T.connectEnd-T.connectStart,te=T.SSLconnectionStart-T.connectStart,re=T.SSLconnectionEnd-T.SSLconnectionStart,ae=(T.connectEnd||T.requestStart)-T.requestStart,ne=T.responseStart-(T.connectEnd||T.requestStart),oe=T.responseEnd-T.responseStart,ie=T.responseEnd-T.fetchStart,se=j-T.responseEnd,fe=T.redirectEnd-T.redirectStart,he=(T.domainLookUpStart||T.requestStart)-T.fetchStart);var we=[e,encodeURIComponent(t),r,o,encodeURIComponent(m),v.getAppType(),w,S,(0,n.PL)(),$,"",I,"",B,encodeURIComponent(H),E,C,encodeURIComponent(K),null===(X=p.default.wxAppInfo)||void 0===X?void 0:X.maxRequestConcurrent,j-a,O,R,Z,Y,ee,te,re,ae,ne,oe,ie,se,ce,le,ue,pe,de,fe,he,ve,ge,ye,_e,me,be].join(",");v.reportKeyValue({key:"NetworkAPI2",value:we})}v.reportKeyValue({key:"NetworkAPI",value:z}),v.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`});var{isHitRule:ke,rawUrl:Se,rawHost:Ie,accelerateType:Te,host:Ce,accelerateId:xe,__AccelFailReqId__:Ae}=M,{domainLookUpStart:Pe,domainLookUpEnd:Ee,connectStart:Oe,connectEnd:Me,SSLconnectionStart:Re,SSLconnectionEnd:De,requestStart:Le,requestEnd:Ne,responseStart:je,responseEnd:We,socketReused:Fe,peerIP:$e}=T;1===ke&&[1,2].includes(r)&&v.reportKeyValue({key:"AccelerateNetwork",value:[e,encodeURIComponent(Se.substring(0,1024)),t,Ie,Ce,r,o,m,v.getAppType(),w,S,(0,n.PL)(),I,(0,s.Xl)(T),B,E,ke,Te,xe,Ee-Pe,Me-Oe,De-Re,Ne-Le,We-je,Fe?1:0,$e,Ae].join(",")}),h.push([e,t,r,w||"",o,m,(0,n.PL)(),k?"1":"0",v.getAppType(),S].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),function(e){if(0===y.size)return;try{y.forEach((t=>t(e)))}catch(e){}}({functionName:e,keyParam:t,result:r,costTime:o,errorMsg:m,statusCode:w,dataLength:S,responseDataLength:I,requestData:D,response:L,profile:T,errno:E,__skipDomainCheck__:k}),Date.now()-f>=6e4&&(f=Date.now(),setTimeout(_,6e4))};var b=()=>{var e=i.IS_ANDROID?1:0,t=i.IS_ANDROID?10:0;return(i.IS_ANDROID?100:0)+t+e}},6466:(e,t,r)=>{"use strict";r.r(t),r.d(t,{buildWorkerUncaughtError:()=>c,getSupportMultiContext:()=>l,setSupportMultiContext:()=>u});var a,n,s=r(7445);r(6342);s.WK_RENDERER_H5||(a=o.supportWorkerMultiContext||o.supoortWorkerMultiContext),i.onLoad((()=>{(n=function(e,t,r,a,n){this.message=e,this.line=t,this.column=r,this.stack=a,this.error=n}).prototype=Error}));var c=e=>new n(e.message,e.line,e.column,e.stack,e),l=()=>a,u=e=>{a=e}},1399:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s,a:()=>o});var a=null,n=new Proxy({},{get(e,t,r){if(!a)throw new Error("NativeGlobal not ready");return Reflect.get(a,t,r)},set(e,t,r,n){if(!a)throw new Error("NativeGlobal not ready");return Reflect.set(a,t,r,n)}});function o(e){i.onLoad((()=>{e(n)}))}i.onLoad((()=>{a="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const s=n},2657:(e,t,r)=>{"use strict";r.d(t,{En:()=>h,IF:()=>y,Y2:()=>g});var a,n=r(6142),o=r(1591),s=r(7445),c=0,l=1,u=2,p=new WeakMap,d=new Map,f=ArrayBuffer;function h(e){i.onLoad((()=>{s.WK_RENDERER_H5||a.new||e(a)}))}i.onLoad((()=>{a="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer,"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?f=__global.SharedArrayBuffer:r.g.SharedArrayBuffer&&(f=r.g.SharedArrayBuffer))}));class v{constructor(e,t){if(!(0,n.hj)(e)||e<0)throw new o.i(`Invalid array buffer length ${e}`);if((0,n.hj)(t)){var r;try{r=a.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new f(e),writable:!1,enumerable:!0});var i=a.new(this.buffer);Object.defineProperty(this,"_sabId",{value:i,enumerable:!0,writable:!1})}var s={writeStatus:c,readStatus:c,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};p.set(this,s),d.set(this._sabId,this)}destroy(){var e=p.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],d.delete(this._sabId),p.get(this).destroyed=!0,this.unlock(),a.destroy(this._sabId)}lock(e,t=!1){var r=p.get(this),{destroyed:i,writeStatus:s,readStatus:c,writeLockCallbacks:d,readLockCallbacks:f}=r;if(i)throw new o.i("SharedArrayBuffer has been destroyed");if(!(0,n.mf)(e))throw new o.i("callback must be a function");s!==u?(d.push(e),s===l||(r.writeStatus=l,r.writeLockId=a.Lock(this._sabId,(()=>{d.forEach((e=>e())),f.forEach((e=>e())),r.writeStatus=u,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=p.get(this),{writeLockId:t,readLockId:r,writeStatus:n,readStatus:o,destroyed:i}=e;i?console.warn("unlock: SharedArrayBuffer has been destroyed"):(n!==l&&n!==u||(a.Unlock(this._sabId,t),e.writeStatus=c,e.writeLockId=void 0,e.writeLockCallbacks=[]),o!==l&&o!==u||(a.Unlock(this._sabId,r),e.readStatus=c,e.readLockId=void 0,e.readLockCallbacks=[]))}}var g=e=>s.WK_RENDERER_H5?{buffer:new ArrayBuffer(e)}:new v(e),y=e=>{return s.WK_RENDERER_H5?e:(0,n.Kn)(e)?(0,n.hj)(e._sabId)?(t=e._sabId,d.has(t)?d.get(t):new v(0,t)):Object.keys(e).reduce(((t,r)=>{var a=e[r];return t[r]=y(a),t}),{}):(0,n.kJ)(e)?e.map(y):e;var t}},6342:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var a=()=>{n!==o&&void 0!==n&&Object.assign(n,o)},n=(()=>(o.onReady(a),o))();const i=n},4899:(e,t,r)=>{"use strict";r.d(t,{t:()=>o});var a=null,n=!1;function o(){if(!n)throw new Error("WeixinArrayBuffer not ready");return a}i.onLoad((()=>{a=r.g.WeixinArrayBuffer,n=!0}))},5863:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var a={pluginId:"",workerId:""}},2900:(e,t,r)=>{"use strict";r.d(t,{uC:()=>i});var a=r(2147),n={},o={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,preloadWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188,createWKVideo:1293,uploadFile:1308,gameRecorderOperateVideo:1310,gameRecorderGetVideoPath:1310,openCustomerServiceConversationDirectly:1316,plugin_shareAppMessage:1345,createLiteApp:1346,gameTransferForLiteGame:1359},i=(e,t)=>{var r=o[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):n[e]?n[e][r]:((e=>{if(n[e])return n[e];var t={},r=Object.values(o);(0,a.IN)("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(a){var o=a.pluginPermissionMap;if(o&&o[e]){for(var i=0;i<o[e].length;i++){var s=r[i];t[s]=1===o[e][i]}n[e]=t}},fail(e){}})})(e),n[e]&&n[e][r])}},182:(e,t,r)=>{"use strict";r.d(t,{J:()=>_});var a=r(2147),n=r(6142),o=r(6342),i=r(9822),s=r(8246),c=(0,r(9766).s)("AppEnterBackground"),l=c.internalOnMethod;(0,s.n)("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:")||(c.emit(e),(0,a.nY)("onAppEnterBackground",e))}));var u,p=r(3013),d={},f={},h={},v=0;o.default.onReady((()=>{l((()=>{v=1})),(0,p.T)((()=>{v=0}))}));var g=Object.keys(i.Z).map((e=>i.Z[e])),y=(e,t)=>{for(var r=0;r<g.length;r++){var a=g[r],n=1===e[a]||4===e[a];t[a]=n}};(0,s.n)("onPermissionUpdate",(e=>{y(e.bg,d),y(e.fg,f)})),(0,s.n)("onPluginPermissionUpdate",(()=>{})),o.default.onReady((()=>{(0,a.IN)("getPermissionBytes",{indexes:g,success(e){e.permissionBytes&&e.permissionBytesForRunningStatus||e.permissionBytesForRunningStatus?((e=>{for(var t=0;t<e.length;t++){var r=g[t];d[r]=1===e[t].bg||4===e[t].bg,f[r]=1===e[t].fg||4===e[t].fg}})(e.permissionBytesForRunningStatus),u=1):e.permissionBytes&&(u=0,((e,t)=>{for(var r=0;r<e.length;r++)t[g[r]]=1===e[r]||4===e[r]})(e.permissionBytes,h))},fail(e){w.error("getPermissionBytes failed",e)}})}));var _=e=>{var t,r=i.Z[e];if("number"!=typeof r)return!1;if(t=0===u?h:0===v?f:d,!(0,n.o8)(t[r]))return t[r];var o=!1;return(0,a.IN)("getPermissionBytes",{indexes:[r],success(e){e.permissionBytes&&(0===u?(o=1===e.permissionBytes[0]||4===e.permissionBytes[0],h[r]=o):(d[r]=1===e.permissionBytes[0].bg||4===e.permissionBytes[0].bg,f[r]=1===e.permissionBytes[0].fg||4===e.permissionBytes[0].fg))}}),o}},5473:(e,r,a)=>{"use strict";a.d(r,{o:()=>ee});var n,o,s=a(3888),c=a.n(s),l=a(2147),u=JSON.parse,p=JSON.stringify,d=a(7445),f={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPhone15,4":"iPhone 15","iPhone15,5":"iPhone 15 Plus","iPhone16,1":"iPhone 15 Pro","iPhone16,2":"iPhone 15 Pro Max","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},h=(n=()=>{var e;(0,l.IN)("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t,r,a,n=d.PLATFORM;return d.IS_IOS&&(e.brand="iPhone",e.model=(t=e.model,(a=null!==(r=t.match(/unknown<([^>]?)>/))&&void 0!==r?r:[])&&f[a[1]]||t)),d.IS_DEVTOOLS&&"devtools"!==e.brand&&(n="iPhone"===e.brand?"ios":"android"),e.platform=n,e},(e={})=>{if(o){var t={};try{t=u(o)}catch(e){w.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return t}var r=n(e);try{o=p(r)}catch(e){w.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{o=void 0})),r}),v=!1,g=-1,y=()=>(v||(g=h().benchmarkLevel||-1,v=!0),g),_=a(6342),m=a(3852),b=a(2167),k=a(182),S=(a(3013),a(9766)),I=(a(9105),(0,S.s)("lifeCycle:AppRoute")),T=(I.internalOnMethod,I.internalOffMethod,I.offMethod,a(1821),(0,S.s)("LifeCycle:Show")),C=(T.emitInternal.bind(T),T.emitGlobal.bind(T),T.onMethod,T.offMethod,T.internalOnMethod),x=(T.internalOffMethod,a(4599)),A=(a(2805),[]),P=["expires","domain","path","busid","indate","receivetime","spread","extra"],E={scene:-1,sceneNote:"",sessionId:""};C(((e={})=>{E.scene=e.scene,E.sceneNote=e.scene_note,E.sessionId=e.sessionid||e.sessionId})),(0,x.vv)(((e={})=>{if(3===e.targetAction)for(var t=A.length-1;t>=0;t--){var r=A[t].extra;r&&"del_on_exit"===r&&A.splice(t,1)}}));function O(e){var t=[];for(var r in e)P.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}var M,R,D,L,N=e=>{var t=Date.now(),r=[];A.forEach((e=>{var a=e.expires||e.__wxprivate_calc_expires__;(!a||1e3*a>t)&&r.push(e)}));var a=_.default&&_.default.accountInfo&&_.default.accountInfo.appId||"",n=E.scene||"",o=E.sceneNote||"",i=E.sessionId||"";r.push({key:"appid",value:a,busid:"wxapp"},{key:"sessionid",value:i,busid:"wxapp"},{key:"scene",value:n,busid:"wxapp"},{key:"scene_note",value:o,busid:"wxapp"});var{hostAppId:s,pluginAppId:c}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==s&&void 0!==c){var l=r.find((e=>"appid"===e.key));l&&(l.value=s),r.push({key:"plugin_appid",value:c,busid:"wxapp"})}var u=_.default.host||{};"SDK"===u.env&&r.push({key:"sdk_host_appid",value:u.appId,busid:"wxapp"});var p=r.map(O).join(";; ");return e&&e.success&&e.success({cookies:p}),p},j=a(7994),W=new Promise(((e,t)=>{M=e,R=t})),F=new Promise(((e,t)=>{D=e,L=t})),$="RequestBizaccount",U="getSubjectalterInfo",B="getgamepotentialfriends",H="getadcardbalance",q="getUserGrantInfo",G="getSecInfo",V="reportUserBehavior",J="getShareConfig",K="CheckUserOrderAuthStatus",z={RequestBizaccount:()=>({id:$,api_name:"webapi_openproduct_bizaccount",data:{path:_.default.appLaunchInfo.path,query:JSON.stringify(_.default.appLaunchInfo.query||{}),cookie:N()}}),getSecInfo:()=>{var e=(0,m.Q1)();return{id:G,api_name:"webapi_getwxaasyncsecinfo",data:{client_version:_.default.clientVersion,pub_version:void 0!==t&&t?t.version:"unknown",performance:y(),instance_id:_.default.appLaunchInfo.sessionid||_.default.appLaunchInfo.sessionId,...e?{xnet_conf_list:[e]}:{}}}},reportUserBehavior:()=>{var e,t,r,a;return{id:V,api_name:"jsapi_reportuserbehav",data:{version:8,type:1,duration:0,scene_note:_.default.appLaunchInfo.scene_note,scene:_.default.appLaunchInfo.scene,realnameInfo:void 0,referrerInfo:{appId:(null===(e=_.default.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t?void 0:t.appId)||"",extraData:(null===(r=_.default.appLaunchInfo)||void 0===r||null===(a=r.referrerInfo)||void 0===a?void 0:a.extraData)||{}},appServiceType:_.default.appType,isColdStart:!0,isWxaAdultOnly:1===Number(_.default.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),uiState:(0,d.isGame)()?0:1}}},getgamepotentialfriends:()=>({id:B,api_name:"webapi_game_transfer",data:{req_path:"friend.getgamepotentialfriends",appid:_.default.accountInfo.appId,fetch_mode:1,version:2}}),getadcardbalance:()=>({id:H,api_name:"webapi_getadcardbalance",data:{}}),getUserGrantInfo:()=>{var e,t;return{id:q,api_name:"webapi_game_transfer",data:{req_path:"gamewxagcdatawap_getusergrantinfo",json_data:JSON.stringify({appid:null!==(e=null===_.default||void 0===_.default||null===(t=_.default.accountInfo)||void 0===t?void 0:t.appId)&&void 0!==e?e:"",user_action:[0]})}}},getSubjectalterInfo:()=>({id:U,api_name:"getSubjectalterInfo",data:{}}),getShareConfig:()=>({id:J,api_name:"webapi_getshareconf",data:{}}),CheckUserOrderAuthStatus:()=>({id:K,api_name:"webapi_mmec_wxa_auth",data:{method:"CheckUserOrderAuthStatus",msg:{}}})};_.default.onReady((()=>{var e=(0,j._F)();if(w.info("是否开启数据管道batch请求=",e,i.env),e){var t,r,a,n,o,s,c=[z.getSecInfo()],l=1===Number(null===_.default||void 0===_.default||null===(t=_.default.appContactInfo)||void 0===t||null===(r=t.operationInfo)||void 0===r||null===(a=r.jsonInfo.op_info)||void 0===a?void 0:a.adult_only)||1===Number(null===_.default||void 0===_.default||null===(n=_.default.appContactInfo)||void 0===n||null===(o=n.operationInfo)||void 0===o||null===(s=o.jsonInfo.op_info)||void 0===s?void 0:s.grow_protect);!d.IS_DEVTOOLS&&((0,d.isGame)()||(0,d.isThirdPartyApp)()&&l)&&c.push(z.reportUserBehavior()),(0,d.isGame)()&&c.push(z.getShareConfig()),(0,b.BB)({apiName:"LaunchImmediateBatch",sdkApiName:"getImmediateBatchOperateWXData",reqDataList:c,batchType:1,success:e=>{w.info("immediate batch 请求成功",e),D({reqList:c,res:e})},fail:e=>{w.error("immediate batch 请求失败",e),L({reqList:c,res:e})}}),setTimeout((()=>{var e,t,r,a,n=[];(0,d.isGame)()?n=[z.getgamepotentialfriends(),z.getadcardbalance(),z.getUserGrantInfo(),z.getSubjectalterInfo()]:(0,d.isThirdPartyApp)()&&((0,k.J)("requestPayment")&&n.push(z.RequestBizaccount()),n.push(z.getSubjectalterInfo()),(null===(e=_.default.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(r=t.wxa_mgr)||void 0===r||null===(a=r.mgr_list)||void 0===a?void 0:a.some((e=>1053===e.id&&1===e.value)))&&n.push(z.CheckUserOrderAuthStatus()));n.length>0&&(0,b.BB)({apiName:"LaunchDelayBatch",sdkApiName:"getDelayBatchOperateWXData",reqDataList:n,batchType:2,success:e=>{w.info("delay batch 请求成功",e),M({reqList:n,res:e})},fail:e=>{w.error("delay batch 请求失败",e),R({reqList:n,res:e})}})}),3500)}}));var Q=e=>({id:t,success:r=(e=>{}),fail:a=(e=>{})})=>{e.then((({reqList:e,res:n})=>{var o=n.item_list||[],i=e.findIndex((e=>e.id===t));if(i>=0){var s=o[i],c={};s&&s.resp&&0===s.errcode?0!==s.resp.err_no?(c={errMsg:`${t}:fail `+(s.resp.errmsg?` ${s.resp.errmsg}`:""),errno:s.resp.err_no},a(c)):(c={errMsg:`${t}:ok`,data:s.resp.data||{},errno:0},r(c)):(c={errMsg:`${t}:fail `+(s.errmsg?` ${s.errmsg}`:""),errno:s.errcode},a(c))}else a({errMsg:`${t}:fail can not find data`})})).catch((e=>{w.error(t," 数据管道 batch 请求失败 ",e);var n=z[t]();(0,b.yD)({apiName:n.api_name,reqData:n.data,sdkApiName:t,success:e=>{var a={errMsg:`${t}:ok`,data:e.data,errno:0};w.info("数据管道重试单独请求成功",a),r(a)},fail:e=>{w.error("数据管道重试单独请求失败",e),a(e)}})}))},X=(Q(W),Q(F)),Z=null,Y=void 0!==t&&t?t.version:"unknown";var ee=function(){var e=c()((function*(){return yield m.v8,Z||(Z=(0,d.isFakeNativeApp)()?Promise.resolve({data:{}}):new Promise(((e,t)=>{var r=(0,m.Q1)();if((0,j._F)())X({id:G,success:t=>{e(t)},fail:t});else{var a=y();(0,l.yD)({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:{client_version:_.default.clientVersion,pub_version:Y,performance:a,instance_id:_.default.appLaunchInfo.sessionid||_.default.appLaunchInfo.sessionId,...r?{xnet_conf_list:[r]}:{}},success:t=>{e(t)},fail:t})}})),Z)}));return function(){return e.apply(this,arguments)}}()},5436:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var a=r(6142);class n{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){(0,a.mf)(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],a=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?((e,t,...r)=>{if(void 0!==h)h.surroundThirdByTryCatch(e,t)(...r);else if("undefined"!=typeof __subContextEngine__)__subContextEngine__.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}})(e,a,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}},7445:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ENV:()=>f,IS_ANDROID:()=>i,IS_DEVTOOLS:()=>o,IS_HOST_SAAA_SDK:()=>v,IS_HOST_SDK:()=>h,IS_HOST_WECHAT:()=>y,IS_HOST_WMPF:()=>g,IS_IOS:()=>s,IS_MAC:()=>l,IS_MINA:()=>u,IS_PC:()=>p,IS_USE_NATIVE_MAP:()=>_,IS_WINDOWS:()=>c,PLATFORM:()=>n,WK_RENDERER_H5:()=>m,debugEnabled:()=>d,isAppBasedOnGameEnv:()=>R,isAppService:()=>C,isAppServiceOrWebView:()=>T,isFakeNativeApp:()=>E,isGame:()=>I,isIn3rdApp:()=>k,isNormalApp:()=>x,isPhysicalStoresApp:()=>O,isReleaseBuild:()=>S,isRemoteDebugEnabled:()=>w,isThirdPartyApp:()=>P,isWXStoreApp:()=>M,isWkGameNativeRender:()=>b});var a=r(6342),n=(()=>a.default.platform)(),o=(()=>"devtools"===n)(),i=(()=>"android"===n)(),s=(()=>"ios"===n)(),c=(()=>"windows"===n)(),l=(()=>"mac"===n)(),u=(()=>"mina"===n)(),p=(()=>c||l)();function d(){if(a.default&&"debug"in a.default&&void 0!==a.default.debug)return!!a.default.debug}var f=(e=>null===(e=a.default.host)||void 0===e?void 0:e.env)(),h=(()=>"SDK"===f)(),v=(()=>"SAAASDK"===f)(),g=(()=>"WMPF"===f)(),y=(()=>"WeChat"===f)(),_=(e=>(null===(e=a.default.host)||void 0===e?void 0:e.forceUseNativeMap)||!1)(),m=function(){return"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function b(){return"object"==typeof window&&window&&window.__wkrenderer_h5&&(2&window.__featBit)>0}function w(){return r.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function k(){var e=a.default.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function S(){var e=!0;return e}function I(){return!1}function T(){return!1}var C=(()=>!1)();function x(){return 0===a.default.appType}var A=[0,1,2,3,5,6,8,9,10,11,12,13];function P(){return A.includes(a.default.appType)}function E(){return 7===a.default.appType}function O(){return 2===a.default.appType}function M(){return 10===a.default.appType}function R(){return 19===a.default.appType}},1591:(e,t,r)=>{"use strict";r.d(t,{i:()=>n,l:()=>a});class a extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class n extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}},9766:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var a=r(9661),n=(()=>new a.Z({maxListeners:20,newListener:!1}))(),o=(()=>new a.Z({maxListeners:30,newListener:!1}))();var i={};function s(e){if(e=e[0].toUpperCase()+e.slice(1),!i[e]){var t=new WeakMap;i[e]={getGlobalListeners:()=>n.listeners(e),getInternalListeners:()=>o.listeners(e),emit:(...t)=>{o.emit(e,...t),n.emit(e,...t)},emitGlobal:(...t)=>{n.emit(e,...t)},emitInternal:(...t)=>{o.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?o.prependOnceListener(e,t):o.prependListener(e,t):r.once?o.once(e,t):o.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&o.off(e,t)},onMethod:r=>{var a=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):h.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,r);if(a){if(t.has(r)){var o=t.get(r);o.push(a),t.set(r,o)}else t.set(r,[a]);n.on(e,a)}},offMethod:r=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>n.off(e,t))),t.delete(r)}}else t=new WeakMap,n.removeAllListeners(e)}}}return i[e]}},9661:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=20;function i(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:o,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=o}function c(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function l(e){this._events={},this._newListener=!1,this._removeListener=!1,s.call(this,e)}l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},l.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},l.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},l.prototype._many=function(e,t,r,a){var n=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&n.off(e,o),r.apply(this,arguments)}return o._origin=r,this._on(e,o,a),n},l.prototype.emit=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,a,n,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];for(a=0,r=o.length;a<r;a++)switch(this.event=e,s){case 1:o[a].call(this,e);break;case 2:o[a].call(this,e,arguments[1]);break;case 3:o[a].call(this,e,arguments[1],arguments[2]);break;default:o[a].apply(this,t)}}if("function"==typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];o.apply(this,t)}return!0}if(o&&(o=o.slice()),o&&o.length){if(s>3)for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];for(a=0,r=o.length;a<r;a++)switch(this.event=e,s){case 1:o[a].call(this);break;case 2:o[a].call(this,arguments[1]);break;case 3:o[a].call(this,arguments[1],arguments[2]);break;default:o[a].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,a,n,o,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),n=1;n<c;n++)t[n]=arguments[n];for(a=0,r=this._all.length;a<r;a++)switch(this.event=e,c){case 1:s.push(this._all[a].call(this,e));break;case 2:s.push(this._all[a].call(this,e,arguments[1]));break;case 3:s.push(this._all[a].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[a].apply(this,t))}}if("function"==typeof(o=this._events[e]))switch(this.event=e,c){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),n=1;n<c;n++)t[n-1]=arguments[n];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),c>3)for(t=new Array(c-1),n=1;n<c;n++)t[n-1]=arguments[n];for(a=0,r=o.length;a<r;a++)switch(this.event=e,c){case 1:s.push(o[a].call(this));break;case 2:s.push(o[a].call(this,arguments[1]));break;case 3:s.push(o[a].call(this,arguments[1],arguments[2]));break;default:s.push(o[a].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||i.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,c.call(this,this._events[e].length,e))):this._events[e]=t,this},l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,o=[];if(!this._events[e])return this;r=this._events[e],o.push({_listeners:r});for(var i=0;i<o.length;i++){if(r=o[i]._listeners,n(r)){for(var s=-1,c=0,l=r.length;c<l;c++)if(r[c]===t||r[c].listener&&r[c].listener===t||r[c]._origin&&r[c]._origin===t){s=c;break}if(s<0)continue;return this._events[e].splice(s,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var n in r){var o=r[n],i=t[o];i instanceof a||"object"!=typeof i||null===i||(Object.keys(i).length>0&&e(t[o]),0===Object.keys(i).length&&delete t[o])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,r=0,a=0;if(e&&this._all&&this._all.length>0){for(r=0,a=(t=this._all).length;r<a;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,a=t.length;r<a;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||i.call(this),this):(this._events&&delete this._events[e],this)},l.prototype.listeners=function(e){return this._events||i.call(this),this._events[e]||(this._events[e]=[]),n(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]};const u=l},1708:(e,r,a)=>{"use strict";a.d(r,{k:()=>i,n:()=>s});var n=void 0!==t&&t?t.version:"unknown",o=void 0!==t&&t?t.updateTime:"unknown";"string"==typeof n&&(n=n.replace(" ","")),"string"==typeof o&&(o=o.replace(" ","-"));var i=()=>n,s=()=>o},9822:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});const a={requestPayment:57,setNavigationBarRightButton:238,requestVirtualPayment:285,setCookies:502,getCookies:503,openBizProfile:560,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,shareImageMessage:801,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,private_chooseInvoiceTitleDirectly:932,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,plugin_launchApplicationDirectly_operateDirectly:1009,publishWeChatState:1014,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,userObRecording:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235,skipDomainCheck:1266,previewImageLocal:1257,useGameCoverCodeCache:1272,private_createVestUser:1279,openMedicalInsuranceService:1288,openBusinessView:1295,choosePhoneNumberAreaCode:1273,useMagicBrushFrame:1299,returnWebviewUrlNotInBizDomainList:1298,disablePrivacyOfficialPopup:1305,operateTingAudio:1319,startQuotaControl:1329,skipDomainCheck_downloadFile:1335,skipDomainCheck_uploadFile:1336,skipDomainCheck_socket:1337,aiadBanCache:1343,aiadOnlyUsePreviewCache:1344,skipCheckCommercialWxaEncryptLicense:1364,canOpenEmbeddedMiniProgramAfterPayment:1365,useAiAdPreviewAdForm:1369,forceUsePreloadVersion:1376,isLiteGame:1375,getSCLAdapterForPlugin:1380,getElementPickerForPlugin:1381,startScreenShotForPlugin:1382,enableAiAdMultiAd:1387,aiadEnablePreviewVisionOptimize:1388,operateWXDataQuic:1390,aiadUsePreviewAdType:1392,skipWorkerProtect:1396,aiadEnableVisionShelterIdentify:1397,aiadUseDynamicUsrCache:1404,aiadUseSingleVersionConfiguration:1405,aiadEnablePreviewInterstitialAd:1419,aiadUseIncrementalWrite:1420,aiadDisableQuickLoad:1421,getPlayableViewAPI:1422,aiadBanner2CustomFeedback:1423,aiadExceptAlgoVersionFallback:1424,openUrlByExtBrowser3:1425,requestCommonPaymentForPlugin:1429,aiadDelayRuntimeComputed:1428,enableCacheAiadMetaInfos:1434,enableCacheAiadInterstitial:1435,openGameDetail:1438,aiadVisionUseGrayInput:1440}},4317:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});class a{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new a((t=>t(e)))}static reject(e){return new a((()=>{throw e}))}}},143:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var a={},n=(e,t={})=>{if(!a[e]||t.noCache){var r={},n={},i={},s={on:(t,a)=>{r[t]&&w.warn(`基础库分包 ${e} on event: ${t} has subscribe listener`),r[t]=a,i[t]&&(i[t].forEach((e=>{a(e)})),delete i[t])},subscribe:(t,a)=>{r[t]&&w.warn(`基础库分包 ${e} subscribe event: ${t} has on listener`),n[t]||(n[t]=[]),n[t].push(a),i[t]&&(i[t].forEach((e=>{a(e)})),delete i[t])},publish:(e,t)=>{var a,o;return(a=r[e])?(a(t),!0):!!(o=n[e])&&(o.forEach((e=>e(t))),!0)},advancePublish:(e,t,r=!1)=>{(r?s.publish(e,t):o(e,t))||(i[e]||(i[e]=[]),i[e].push(t))},off:e=>{r[e]=null}};return a[e]=s,s}w.warn(`已经存在分包EM ${e}`)},o=(e,t,r,n)=>{var o=a[e];o&&(n?o.advancePublish(t,r):o.publish(t,r))}},6142:(e,t,r)=>{"use strict";r.d(t,{AT:()=>d,DM:()=>g,Em:()=>i,Ft:()=>u,HD:()=>s,Kn:()=>f,ZT:()=>w,eP:()=>_,fU:()=>m,hj:()=>c,i2:()=>p,kJ:()=>h,mf:()=>v,o8:()=>l,tI:()=>y,x7:()=>b});var n=(()=>Object.prototype.toString)(),o=a.prototype.call.bind(n);function i(e){return o(e).slice(8,-1)}var s=e=>"String"===i(e),c=e=>"Number"===i(e),l=e=>void 0===e,u=e=>null===e,p=(()=>Number.isNaN||(e=>e!=e))(),d=e=>c(e)&&Math.abs(e)===1/0,f=e=>"Object"===i(e),h=(()=>Array.isArray||(e=>"Array"===i(e)))(),v=e=>"function"==typeof e,g=e=>"Set"===i(e),y=e=>"Promise"===i(e),_=e=>"ArrayBuffer"===i(e),m=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===i(e))(e);function b(e,t,r="parameter"){var a=i(t),n=i(e);if(n!==a)return`${r} should be ${a} instead of ${n};`;var o="";switch(a){case"Object":Object.keys(t).forEach((a=>{o+=b(e[a],t[a],`${r}.${a}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var s=0;s<t.length;++s)o+=b(e[s],t[s],`${r}[${s}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return o}function w(){}},1868:(e,t,r)=>{"use strict";r.d(t,{NX:()=>s,Vl:()=>i});var a=r(8138),n=(()=>Object.assign)();var o=Symbol("ErrorInfosSymbol"),i=e=>(t={},...r)=>new Promise(((a,i)=>e(n({},t,{success:a,fail:e=>{var{errMsg:t}=e,r=n({},e);delete r.errMsg;var a=new Error(t.replace(/^\w+:fail ?/,""));n(a,r),a[o]=r,i(a)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),a=n({},e);delete a.errMsg,n(r,a),r[o]=a,r._complete_hook=!0,i(r)}}}),...r)));function s(e,t){return(r={},...i)=>{var s={success:r.success,fail:r.fail,complete:r.complete};delete(r=n({},r)).success,delete r.fail,delete r.complete,t(r,...i).then((t=>(0,a.FE)({name:e,args:s,success:!0,res:t})),(t=>{t._complete_hook?(0,a.S3)({name:e,args:s,errMsg:t.message,res:t[o]||{}}):(0,a.FE)({name:e,args:s,success:!1,errMsg:t.message,res:t[o]||{}})}))}}},1190:(e,t,r)=>{"use strict";r.d(t,{RG:()=>i});var a=r(1591),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new a.l(`atob failed: invalid string length ${t.length}`);for(var o,i,s=0,c=0;i=t.charAt(c++);~i&&(o=s%4?64*o+i:i,s++%4)?r+=String.fromCharCode(255&o>>(-2*s&6)):0)i=n.indexOf(i);return r}function i(e){for(var t=o(e),r=t.length,a=new Uint8Array(r),n=0;n<r;n++)a[n]=t.charCodeAt(n);return a.buffer}},8007:(e,t,r)=>{"use strict";function a(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}r.d(t,{b:()=>a})},8929:(e,t,r)=>{"use strict";r.d(t,{Hw:()=>s,M8:()=>o,Qu:()=>i,Yt:()=>p,op:()=>l});var a=r(6142),n=(()=>Object.assign)();function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function i(e,t,r){var a=function(e){return function(t={},...r){t=t||{};var{success:a,fail:o,complete:i}=t;return a||o||i?e.apply(this,[t].concat(r)):new Promise(((a,o)=>{var i=n({success:a,fail:o},t);e.apply(this,[i].concat(r))}))}}(r.value);return r.value=function(){return a.apply(this,arguments)},r}function s(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?v.thirdErrorReport({error:e,extend:t}):v.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function c(e){var t=(0,a.Em)(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var l=s(c,"anyTypeToString");function u(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var p=s(u,"stringToAnyType")},2805:(e,t,r)=>{"use strict";function a(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}r.d(t,{f0:()=>a,nr:()=>o});var n=Object.prototype.hasOwnProperty;function o(e,t){return n.call(e,t)}},5133:(e,t,r)=>{"use strict";r.d(t,{Tk:()=>o});var a=r(7445),n=[{match:/^connectSocket/,version:1},{match:/^request/,version:a.IS_ANDROID?3:1},{match:/^downloadFile/,version:a.IS_ANDROID?3:1}];function o(e,t){n.push({match:e,version:t})}},6347:(e,t,r)=>{"use strict";r.d(t,{HR:()=>i,Z8:()=>n,cE:()=>s,mQ:()=>c,wK:()=>o});var a=r(2805);function n(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}var o=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function i(e,t=!1){if("object"!=typeof e)return e;var r="";for(var n in e)if((0,a.nr)(e,n))if(t)try{r+=`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}&`}catch(t){r+=`${n}=${e[n]}&`}else r+=`${n}=${e[n]}&`;return r&&(r=r.slice(0,-1)),r}function s(e,t){var r=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){var n=e.split("?"),o=n[0],s=(n[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),a=r[0],n=r[1];e[a]=n}return e}),{}),c=r.reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{});return o+"?"+i((0,a.f0)(s,c))}return e}function c(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}},6551:(e,t,r)=>{"use strict";r.d(t,{cv:()=>o,yC:()=>a});function a(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),a=t.split("."),n=Math.max(r.length,a.length);r.length<n;)r.push("0");for(;a.length<n;)a.push("0");for(var o=0;o<n;o++){var i=parseInt(r[o],10),s=parseInt(a[o],10);if(i>s)return 1;if(i<s)return-1}return 0}function n(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function o(e,t){return e||t?e?t?a(n(e),n(t)):1:-1:0}},3329:(e,t,r)=>{"use strict";r.d(t,{k:()=>p});var a=r(9661),n=null;i.onLoad((()=>{i.globalShare.reusableWorkerId&&s(i.globalShare.reusableWorkerId)}));var o,s=e=>{n=e},c=()=>n;function l(){d.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(t.workerId)return;if(t.data){var{cmd:r,callbackId:a,data:n}=t.data;if("callback"===r){var{result:o,errMsg:i}=n;this.emitter.emit(a,o,i)}}}}))}class u{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new a.Z,l.call(this)}constructor(){if(c())this.init(c());else{var{workerId:e}=d.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,a)=>{var n=String(this.generateCallbackId());this.emitter.once(n,((e,t)=>{t?a(new Error(t)):r(e)}));var o={cmd:e,callbackId:n,data:t};o={data:o},d.postMsgToWorker(this.workerId,o,void 0,!1)}))}}var p=()=>o||(o=new u)},3478:(e,t,r)=>{"use strict";r.d(t,{j:()=>o});var a=Object.create(null);var n=r(8929);function o(e,t){if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onMethod:r}=SDK;return r(e,t)}!function(e,t){a[e]instanceof Array?a[e].push(t):(a[e]=null,l.on(e,((e,r,a)=>{"number"!=typeof(null==a?void 0:a.__subscribe_webviewId)&&t(e,r,a)})))}(e,(0,n.Hw)(t,`at api ${e} callback function`))}},2147:(e,t,r)=>{"use strict";var n;r.d(t,{be:()=>He,Rn:()=>Ge.Rn,r3:()=>Ge.r3,FE:()=>Ge.FE,YG:()=>Ge.YG,zy:()=>Ge.zy,NJ:()=>Ue,IN:()=>We,bb:()=>Fe,yD:()=>Ve.yD,Qh:()=>Ve.Qh,oQ:()=>je,jQ:()=>qe.j,nY:()=>R,Ld:()=>j,yt:()=>Ae,ZI:()=>Je,qB:()=>Ke});const s={get invoke(){return n},set invoke(e){n=e}};var c=r(6342),u=r(9822),p=null,d=[],f=e=>{null!==p?e():d.push(e)},g=e=>{p=e.data.pluginPermissionBytes,d.forEach((e=>e())),d=[]};l.subscribe("batchGetPluginPermissionBytes",g),i.onLibraryEnd((()=>{"undefined"!=typeof __subContextEngine__&&"function"==typeof __subContextEngine__.onSubContextMessage&&__subContextEngine__.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&g(e)}))})),l.subscribe("getPluginPermissionBytesByJsApi",(e=>{m(e.data.pluginId,e.data.apiName,(t=>{l.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var y=e=>e.split("/",1)[0],_=(e,t)=>{var r,a,n=null===(r=p)||void 0===r||null===(a=r[e])||void 0===a?void 0:a[t];return null==n?n=[0,0,0]:"object"!=typeof n&&(n=[n,n,n]),n};function m(e,t,r){e=y(e),o.supportInvokeWithAppId?l.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[u.Z[t]]}]},(t=>{var a,n,o=(null===(a=t.pluginPermissionMap)||void 0===a||null===(n=a[e])||void 0===n?void 0:n[0])||0;r([o,o,o])})):f((()=>{var a=_(e,t);r(a)}))}var b=r(8246),k=r(7445);var S,I=r(9370),T={},C=!1,x=null,A=(new Promise((e=>x=e)),e=>T[e]||I.hr.getPageTypeById(e)),P=(e,t)=>{"context"===t?T[e]=t:I.hr.setPageTypeById(e,t),(C=C||"webview"!==t)&&x&&(x(0),x=null)},E=e=>"webview"===e?e:"context";null===(S=l.clientManager)||void 0===S||S.on("clientConnected",(e=>{P(e,"webview")}));var O=(e,t={},r)=>{C&&(Array.isArray(r)?r.forEach((r=>{__subContextEngine__.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):__subContextEngine__.postMessageToSubContext({event:e,params:{params:t}},r))};function M(e,t,r){!function(e,t,r){l.publish(e,t,r)}(e,{data:t,options:{timestamp:Date.now()}},r)}var R=k.isAppService?(e,t,r)=>{if(null==r)M(e,t,r),O(e,t,r);else{var a=(e=>{if(void 0===e||0===e.length)return{};var t=E(A(e[0]));if(1===e.length)return{[t]:e};var r={};return e.forEach((e=>{var t=E(A(e));void 0!==r[t]?r[t].push(e):r[t]=[e]})),r})(r);void 0!==a.webview&&M(e,t,a.webview),void 0!==a.context&&O(e,t,a.context)}}:M;function D(e,t){}var L=k.isAppService?new i.EventEmitter:null;k.isAppService&&i.onLibraryEnd((()=>{__subContextEngine__.onSubContextMessage((e=>{L.emit(e.event,e.params)}))}));var N,j=k.isAppService?(e,t)=>{((e,t)=>{L.on(e,(e=>{void 0===A(e.pageId)&&P(e.pageId,"context"),t(e.params,e.pageId)}))})(e,t)}:D,W="",F="",$=(e={},t)=>{var r=e.sessionid||e.sessionId,a=e.scene;e.transitExtraData?(W=e.transitExtraData.adUxInfo,F=e.transitExtraData.commonUxInfo):(t||r!==N&&1038!==a)&&(W="",F=""),N=r};c.default.onReady((()=>{$(c.default.appLaunchInfo,!0)})),(0,b.n)("onAppEnterForeground",(e=>{$(e,!1)})),(0,b.n)("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(W="",F="")})),j("getAdUxInfo",((e,t)=>{R("adUxInfoGot",{adUxInfo:W,callbackId:e.callbackId,commonUxInfo:F},[t])}));var U=()=>W,B=()=>F,H={customUrl:null,urlTitle:null,useCustomPrivacyAuthorization:!1,popUpTime:0,externInfo:{},regExp:"(.*)<a.*?href=['|\"](.*?)['|\"].*?>(.*?)</a>(.*)",standardInfo:{},isCache:!1,protoRes:{},hasAgree:!1,needScopeCache:[],unauthScopeCache:{},actionCache:0,banReasonCache:null,officialPrivacyAuthorizationShowingGap:60,minGap:60,popUpInterval:{},forceOffcial:0,safeAreaHeight:0,isShowing:!1,requireAuthJSApiList:[],requireAuthJSApiListMap:{},requireAuthPipelineList:[],requireAuthPipelineListMap:{},requireAuthOuterScopeList:[],requireAuthOuterScopeListMap:{},useCheckBoxOnClientPopup:!1,didReportForPrivacyCheckBox:!1},q=(e,t={})=>{if(H.didReportForPrivacyCheckBox)return!1;if("operateWXData"===e){var r;if(null!=t&&null!==(r=t.data)&&void 0!==r&&r.api_name)return H.requireAuthPipelineListMap[t.data.api_name]}else{if("authorize"!==e)return H.requireAuthJSApiListMap[e];if(t.scope&&t.scope[0])return H.requireAuthOuterScopeListMap[t.scope[0]]}};var G=new(r(9661).Z);function V(e,t,r,a={}){var n=r;r=r=>{q(e,t)&&(0===(r.errMsg||`${e}:ok`).indexOf(`${e}:ok`)&&G.emit("success",e));"function"==typeof n&&n(r)},"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||U(),t.commonUxInfo=t.commonUxInfo||B());var o=a.appId;return"splashad"===i.env.workerType||c.default.supportInvokeWithAppId||void 0===o||void 0!==i&&i.env.isGame||4===c.default.appType||19===c.default.appType?l.invoke(e,t,r,a):f((()=>{var n=function(e,t,r){t=y(t),delete r.permissionBytes;var a=_(t,e);return r.permissionBytes=a,r}(e,o,t);l.invoke(e,n,r,a)}))}var J={},K={},z={},Q=0,X=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((a=>({func:r,result:e,errMsg:a,count:t[r][a]}))))),Z=()=>{var e=X(1,J),t=X(2,K),r=X(3,z),a=[].concat(e,t,r);0!==a.length&&We("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:a,appType:v.getAppType()}),noCallback:!0}),J={},K={},z={}},Y=(e,t,r,a,n)=>{var o;(o=t?J:r?K:z)[e]=o[e]||{},o[e][n]=(o[e][n]||0)+1,Date.now()-Q>=6e4&&(Q=Date.now(),setTimeout(Z,6e4))},ee=r(8929),te=r(1868),re=r(6142),ae=r(5125),ne={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},oe={OK:1,BLOCK:2,NO_BLOCK:3},ie={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},se="该功能暂时无法使用",ce=w.createLogger("BanForPage"),le=!1,ue=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),pe=[];function de(e,t,r){var a=function(e,t,r){for(var a=-1,n=0;n<pe.length;n++){var o=pe[n];if((!(0,re.HD)(o.path_rule)||!o.path_rule||new RegExp(o.path_rule).test(t))&&(!(0,re.HD)(o.title_rule)||!o.title_rule||new RegExp(o.title_rule).test(r))){a=n;break}}return ce.log(`[getBanRuleIndexForPage] banRuleIndex=${a}`),a}(0,t,r);return-1===a?(fe(e,oe.OK,ie.API,e),!0):function(e,t){var r,a,n=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!n)return ce.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(ce.log("[checkAPIAvailableForPageByRule], found APIItem:",n),n.state===ne.OK)r=!1;else if(n.state===ne.BLOCK)r=!0;else if(n.state===ne.BLOCK_WITH_TOAST&&(r=!0,1===e.is_valid)){var o=n.toast_wording||se;He("showToast",{title:o,icon:"none"})}return a=r?e.is_valid?oe.BLOCK:oe.NO_BLOCK:oe.OK,fe(t,a,ie.API,t),1!==e.is_valid||!r}(pe[a],e)}function fe(e,t,r,a="",n=""){if(ce.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${a}, needReport=${le}`),le){var{appLaunchInfo:o}=c.default,i=Object.keys(ae.Z.query).map((e=>`${e}=${ae.Z.query[e]}`)).join("&"),s={session_id:o.sessionid||o.sessionId,cur_path:ae.Z.lastRoute+(i?`?${i}`:""),title:ae.Z.navigationBarTitleMap[ae.Z.lastRoute],check_scene:r,block_status:t,extra_info:a,launch_scene:o.scene,launch_path:o.path,target_path:n};ce.log("[reportAPIBanForPage], reqData:",s),(0,Ve.yD)({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){ce.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}c.default.onReady((()=>{if(!k.IS_DEVTOOLS)try{var{do_report:e,navigate_ban_rule_list:t}=c.default.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;pe=t,le=1===e&&(0,k.isThirdPartyApp)(),ue=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),ue))}catch(e){ce.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var he=a.prototype.call.bind(Array.prototype.push),ve=(a.prototype.call.bind(Array.prototype.forEach),["startPullDownRefresh"]),ge=[],ye={appRoute:!1,appRouteDone:!1};r(1708),r(3385);var _e,me=(()=>Object.create)(),be=(()=>Object.assign)(),we=(()=>Object.keys)(),ke=(()=>Array.prototype.reduce)(),Se=Array.prototype.includes.bind(ve),Ie=a.prototype.call.bind(ke),Te=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function Ce(e,t){return Ie(we(e),((r,a)=>("function"==typeof e[a]&&(r[a]=h.surroundThirdByTryCatch(e[a],`at api ${t} ${a} callback function`),delete e[a]),r)),{})}function xe(e,t,r,a,n){e.errMsg=e.errMsg||`${t}:ok`;var o=0===e.errMsg.indexOf(`${t}:ok`),i=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof a.beforeAll&&a.beforeAll(e),o?function(e,t,r,a,n){var o=function(){"function"==typeof e.success&&e.success(r),"function"==typeof a.afterSuccess&&a.afterSuccess(r)};"function"==typeof a.beforeSuccess?2===a.beforeSuccess._argumentsLength?a.beforeSuccess(r,o):(a.beforeSuccess(r),o()):o(),"function"==typeof _e&&_e(t,n)}(r,t,e,a,n):i?function(e,t,r,a){var n=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(n,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof a.beforeCancel&&a.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof a.afterCancel&&a.afterCancel(e)}(e,t,r,a):s&&(De(e,n),function(e,t,r,a){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof a.fail&&a.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),(0,re.mf)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||v.reportIDKey({key:`${t}_fail`})}(a,t,e,r)),"function"==typeof r.complete&&r.complete(e),"function"==typeof a.afterAll&&a.afterAll(e),Y(t,o,s,i,e.errMsg)}function Ae(e,t,r,a){var n;return n=r.isThird?Ce(r,t):Ce(e,t),function(e){xe(e,t,n,r,a)}}var Pe=(()=>String.prototype.split)(),Ee=(()=>String.prototype.startsWith)(),Oe=a.prototype.call.bind(Pe),Me=e=>Oe(e,"/",1)[0],Re=a.prototype.call.bind(Ee),De=(e,t)=>{if("string"==typeof e.errMsg&&o&&o.accountInfo){var r=o.accountInfo.appId;"string"==typeof t&&Re(t,"wx")&&(r=Me(t));var a=e.errMsg.split(":");102!==e.errno&&"fail no permission"!==a[a.length-1]||(e.errMsg=`${e.errMsg}, appId=${r}`)}};function Le(e){return function(t,r={},a={},n="/"){var o=a.notPack;(0,re.Kn)(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),a=function(e,t){return Ie(we(e),((r,a)=>("function"==typeof e[a]&&(r[a]=(0,ee.Hw)(e[a],`at api ${t} ${a} callback function`),r[a]._argumentsLength=e[a].length),r)),{})}(a,t);var s=Ae(r=be(me(null),r),t,a,n);v.reportIDKey({key:t});var c,l,u,p={keepOriginalParams:(c=t,k.WK_RENDERER_H5||k.IS_ANDROID&&Te.includes(c))};if(i.env.isMagicBrushFrameEnv&&r.contextId&&(p.contextId=r.contextId,delete r.contextId),!e&&"splashad"!==i.env.workerType){if((0,k.isThirdPartyApp)()&&ue.has(t)&&(l=t,u=Object.keys(ae.Z.query).reduce(((e,t)=>[...e,`${t}=${ae.Z.query[t]}`]),[]).join("&"),!de(l,ae.Z.lastRoute+(u?`?${u}`:""),ae.Z.navigationBarTitleMap[ae.Z.lastRoute]||"")))return void s({errMsg:`${t}:fail API has been banned`});if(delete r.pluginId,delete r.permissionBytes,"string"==typeof n&&Re(n,"wx")){var d=Me(n);p.appId=d}}o&&(p.notPack=!0),V(t,r,s,p)}}var Ne,je=Le(!1),We=(e,t,r)=>{Se(e)?((e,t,r)=>{var{appRoute:a,appRouteDone:n}=ye;!a&&n?je(e,t,r):he(ge,{name:e,args:t,option:r})})(e,t,r):je(e,t,r)},Fe=(e,t,r)=>(0,te.Vl)((t=>We(e,t,r)))(t),$e={},Ue=(e,t,r)=>{var a,n=r.notPack,o={pureInvoke:!0,highPerformance:$e,keepOriginalParams:k.WK_RENDERER_H5};a=Ne||(()=>{if(Ne)return Ne;var e=(e,t)=>{var r=$e[t];if(r){e.errMsg=e.errMsg||`${r.__jsapi_name__}:ok`;var a=0===e.errMsg.indexOf(`${r.__jsapi_name__}:ok`),n=new RegExp(`${r.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),o=0===e.errMsg.indexOf(`${r.__jsapi_name__}:fail`);try{a&&r.success?r.success(e):n&&r.cancel?r.cancel():o&&r.fail(e),r.complete&&r.complete(e)}catch(e){}Y(r.__jsapi_name__,a,o,n,e.errMsg),delete $e[t]}};return Ne=e,e})(),i.env.isMagicBrushFrameEnv&&t.contextId&&(o.contextId=t.contextId,delete t.contextId),n&&(o.notPack=!0),t.__jsapi_name__=e,l.pureInvoke(e,t,a,o)},Be=Le(!0),He=(e,t,r)=>{Be(e,t,r)},qe=r(3478);s.invoke=We;var Ge=r(8138),Ve=r(2167);function Je(e,t){var{initEventCallbackReport:r,eventCallbackBegin:a,eventCallbackEnd:n}=i.callbackReporter;return function(){r();var o=a(),i=e.apply(this,arguments);return o&&n(t,o,i),i}}function Ke(e,t){var{initJsapiCallbackReport:r,jsapiCallbackBegin:a,jsapiCallbackEnd:n}=i.callbackReporter;return function(){r();var o=a(0,t),i=e.apply(this,arguments);return o&&n(t,o.jsHandleBegin,!1,i),i}}},1333:(e,t,r)=>{"use strict";r.d(t,{$:()=>K});var a,n=r(7445),o=new Map,s=r(2147),c=r(8929),l=r(1591),u=r(6142),p=r(3888),f=r.n(p),h=r(3329),v=r(1190),g=null;function y(){return a?Promise.resolve(a):g||(g=(0,s.Qh)({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:r}=e,n=new Uint8Array((0,v.RG)(t)),o=new Uint8Array((0,v.RG)(r));return g=null,a={encryptKeyBytes:n,ivBytes:o}})).catch((e=>{throw g=null,e})))}var _=!1;function m(){_||((0,h.k)().runTask("initAesWasm",{}),_=!0)}function b(){return b=f()((function*(e={},t,r){var{encryptEnv:a="wasm"}=e;"wasm"===a&&m();var n=yield r,o=yield function(e,t,r){return(0,h.k)().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}(t,a,n);return o})),b.apply(this,arguments)}function k(e={},t){var{key:r,data:a,dataType:i,storageId:c,encryptEnv:l="wasm"}=e,{failWithMsg:p}=(0,s.Rn)(e,"setStorage"),d=[y()];"wasm"===l&&m(),Promise.all(d).then((([e])=>function(e,t,r){return(0,h.k)().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}(a,l,e))).then((a=>{var l=n.IS_IOS?"setStorageAsync":"setStorage";(0,s.IN)(l,{key:r,data:a,dataType:i,storageId:c,success:t=>{o.get(c).set(r,{data:a,dataType:i}),(0,u.mf)(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{p({msg:e.message}),w.error("encryptThenSetStorage error",e)}))}var S=r(1868),I=(0,S.NX)("getStorage",f()((function*(e={},t){var{encrypt:r,key:a}=e,l=r&&d.isSupportWXLibWorker(),u=n.IS_IOS?"getStorageAsync":"getStorage";(0,s.zy)(e,{key:""});var p,f={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},h=Object.assign({},e,{storageId:t}),v=o.get(t),g=l?y():null;return!i.env.isMagicBrushFrameEnv&&v.has(a)?p={...v.get(a)}:(p=yield(0,s.bb)(u,h,f),v.set(a,{data:p.data,dataType:p.dataType})),l&&(p.data=yield function(){return b.apply(this,arguments)}(e,p.data,g)),p.data=(e._stringToAnyType||c.Yt)(p.data,p.dataType),delete p.dataType,p})));var T=(0,S.NX)("batchGetStorage",f()((function*(e={},t){(0,s.zy)(e,{keyList:["1"]});var r=Object.assign({},e,{storageId:t}),a=o.get(t),n=yield(0,s.bb)("batchGetStorage",r);return Array.isArray(n.dataList)&&(n.dataList=n.dataList.map(((e,t)=>{var{data:n,dataType:o}=e;return n&&a.set(r.keyList[t],e),(0,c.Yt)(n,o)}))),n}))),C=(0,S.NX)("batchSetStorage",function(){var e=f()((function*(e,t){(0,s.zy)(e,{kvList:[{key:"1"}]});var r=o.get(t),a={kvList:e.kvList.map((e=>{r.delete(e.key);var{data:t,dataType:a}=(0,c.op)(e.value);return{key:e.key,data:t,dataType:a}})),storageId:t,success:e.success,fail:e.fail,complete:e.complete,contextId:e.contextId};return yield(0,s.bb)("batchSetStorage",a)}));return function(t,r){return e.apply(this,arguments)}}()),x=function(e){return Array.isArray(e)?e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__"))):[]},A={setStorage:(e,t={})=>{var{encrypt:r}=t;if(!0===r&&n.IS_HOST_SAAA_SDK)(0,s.YG)("setStorage",t,"miniapp dose not support encrypt");else if((0,s.r3)("setStorage",t,{key:""}))try{var{data:a,dataType:l}=(0,c.op)(t.data),u=t.key,p={key:u,data:a,dataType:l,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv,contextId:t.contextId},f={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(r&&d.isSupportWXLibWorker())k(p,f);else{var h=o.get(e),v=h.get(u);if(!i.env.isMagicBrushFrameEnv&&v&&v.dataType===l&&v.data===a)(0,s.FE)({name:"setStorage",args:t});else{var g=n.IS_IOS?"setStorageAsync":"setStorage";(0,s.IN)(g,p,{...f,beforeSuccess:()=>{h.set(u,{data:a,dataType:l})}})}}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},batchSetStorage:(e,t={})=>C(t,e),setStorageSync:(e,t,r="")=>{if("string"==typeof t){var a=n.IS_IOS?"setStorage":"setStorageSync",{data:i,dataType:p}=(0,c.op)(r),d=!1,f="",h=o.get(e),v=h.get(t);if(!v||v.dataType!==p||v.data!==i){if((0,s.IN)(a,{key:t,data:i,dataType:p,storageId:e,fail(e={}){d=!0,f=e.errMsg.replace("setStorage:","setStorageSync:")}}),d)throw new l.l(f);h.set(t,{data:i,dataType:p})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${(0,u.Em)(t)}`)},batchSetStorageSync:(e,t)=>{(0,s.zy)(t,[{key:"1"}]);var r,a=o.get(e),n=t.map((e=>{var{data:t,dataType:r}=(0,c.op)(e.value);return a.delete(e.key),{key:e.key,data:t,dataType:r}}));return(0,s.IN)("batchSetStorageSync",{storageId:e,kvList:n,beforeAll(e){r=e}}),r},getStorage:(e,t={})=>I(t,e),batchGetStorage:(e,t={})=>T(t,e),getStorageSync:function(e,t){var r=arguments[arguments.length-1]||{};if((0,u.HD)(t)){var a=o.get(e);if(a.has(t)){var{data:i,dataType:l}=a.get(t);return(r._stringToAnyType||c.Yt)(i,l)}var p,d=n.IS_IOS?"getStorage":"getStorageSync";return(0,s.IN)(d,{key:t,storageId:e},{beforeSuccess:(e={})=>{a.set(t,{data:e.data,dataType:e.dataType}),p=(r._stringToAnyType||c.Yt)(e.data,e.dataType)},beforeFail:()=>{p=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),p}},batchGetStorageSync:(e,t)=>{var r;(0,s.zy)(t,["1"]);var a=o.get(e);return(0,s.IN)("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(r=e).dataList=e.dataList.map(((e,r)=>{var{data:n,dataType:o}=e||{};return n&&a.set(t[r],e),(0,c.Yt)(n,o)}))}}),r.dataList},getStorageInfo:(e,t)=>{(0,s.IN)("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=x(e.keys)}})},getStorageInfoSync:e=>{var t;return(0,s.IN)("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=x(e.keys),delete e.errMsg}}),t},removeStorage:(e,t)=>{(0,s.r3)("removeStorage",t,{key:""})&&(o.get(e).delete(t.key),(0,s.IN)("removeStorage",Object.assign({},t,{storageId:e})))},removeStorageSync:(e,t)=>{(0,s.r3)("removeStorageSync",t,"")&&(o.get(e).delete(t),(0,s.IN)("removeStorageSync",{key:t,storageId:e}))},clearStorage:(e,t)=>{o.get(e).clear();var r=n.IS_IOS?"clearStorageAsync":"clearStorage";(0,s.IN)(r,Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},clearStorageSync:e=>{o.get(e).clear();var t=n.IS_IOS?"clearStorage":"clearStorageSync";(0,s.IN)(t,{storageId:e})}},P={app:0,game:0,opendata:1,singlePage:2,cache:3,idaas:4},E=e=>{var t,r=P[e];return o.has(r)||o.set(r,(t=new Map,n.IS_DEVTOOLS||(0,n.isRemoteDebugEnabled)()?new Proxy(t,{get:()=>()=>{}}):t)),Object.keys(A).reduce(((e,t)=>(e[t]=(...e)=>A[t](r,...e),e)),{})};var O={app:E("app"),game:E("game"),opendata:E("opendata"),singlePage:E("singlePage"),cache:E("cache"),idaas:E("idaas")}.idaas,M="idaas_tokens",R="",D=0;function L(e){R=e.sysAccessToken,D=e.expireTime;var t=F();$(t?{...t,...e}:{...e})}function N(){if(R)return R;var e=F();return e?(R=e.sysAccessToken,D=e.expireTime,R):""}function j(){var e=N();return e?{sysAccessToken:e,expireTime:D}:{sysAccessToken:"",expireTime:0}}function W(){R="",D=0,$("")}function F(){try{return O.getStorageSync(M)}catch(e){console.error("idaas getStorage fail ",e.message),n.IS_DEVTOOLS&&console.warn("请升级至最新 nightly 以支持调试身份管理 API")}}function $(e){n.IS_DEVTOOLS||(0,s.IN)("saveIdassAccessToken",{accessToken:"object"==typeof e&&e.sysAccessToken||""});try{return O.setStorageSync(M,e)}catch(e){console.error("idaas setStorage fail ",e.message),n.IS_DEVTOOLS&&console.warn("请升级至最新 nightly 以支持调试身份管理 API")}}var U=r(7644),B=r(5179),H=void 0,q=void 0,G="MULTIAPPID";var V={Idaas_Refresh_Token_Expired:-2001020},J=void 0;function K(){var e,t,{sysAccessToken:r,expireTime:a}=j(),o=(e=F())?e.sysRefreshToken:"",i={sysAccessToken:"",expireTime:0};return r&&(t=a,String(t).length<13&&(t*=1e3),Date.now()<t)?Promise.resolve({sysAccessToken:r,expireTime:a}):o?J||(J=new Promise((e=>{var t=0,r=()=>(H?Promise.resolve(H):q||(q=new Promise((e=>{var t=()=>{H=n.IS_DEVTOOLS?{authorizeMiniprogramType:0,clientId:G,userName:"",miniprogramLoginPath:""}:{authorizeMiniprogramType:0,clientId:"",userName:"",miniprogramLoginPath:"",adaptWxLogin:!1},e(H)};(0,B.p)({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:r=>{var a={};try{a=JSON.parse(r.data)}catch(e){return void t()}if(a.identityServiceConfig)if(a.identityServiceConfig.clientId||n.IS_DEVTOOLS){var o=a.identityServiceConfig.miniprogramLoginPath;o&&!o.startsWith("/")&&(a.identityServiceConfig.miniprogramLoginPath="/"+o),H=a.identityServiceConfig,n.IS_DEVTOOLS&&(H={...H,clientId:G}),e(H)}else t();else t()},fail:e=>{console.error("idaas get identityServiceConfig fail ",e.errMsg),n.IS_DEVTOOLS&&console.warn("请升级至最新 nightly 以支持调试身份管理 API"),t()}})})).finally((()=>{q=void 0})))).then((a=>{var n;a.clientId?(n={refresh_token:o,grant_type:"refresh_token",client_id:a.clientId},new Promise((e=>{(0,U.Y)({apiName:"idaas_oauth_token",reqData:JSON.stringify(n),success:t=>{"object"==typeof t.data?e({errCode:t.logicRet,errMsg:t.logicErrmsg,...t.data}):e({errCode:t.logicRet,errMsg:t.logicErrmsg,...JSON.parse(t.data||"{}")})},fail:t=>{console.error("updateSysAccessToken fail",{...t}),e({errCode:t.err_code||-1,errMsg:t.errMsg.replace("sendSaaADataPipe:fail ","")})}})}))).then((a=>{if(a.errCode===V.Idaas_Refresh_Token_Expired)return W(),e(i);0===a.errCode?(L({sysAccessToken:a.access_token,expireTime:a.expire_time}),e(j())):t<3?(t++,r()):e(i)})).finally((()=>{J=void 0})):e(i)}));r()}))):Promise.resolve(i)}},872:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var a=r(2147),n=r(7644),o=r(1333);function i(e,t,r=(e=>e),i=(e=>e),s=(e=>e)){return(c={})=>{(0,o.$)().then((o=>{var l=o.sysAccessToken,{success:u,fail:p}=(0,a.Rn)(c,e);(0,n.Y)({apiName:t,reqData:JSON.stringify(r(c)||{}),idaasSessionKey:l,success(e){if(0===e.logicRet)if("object"==typeof e.data)u(i(e.data));else{var t=JSON.parse(e.data||{});u(i(t))}else p(s({errMsg:e.logicErrmsg,errCode:e.logicRet}))},fail(e){console.error(`operateSaaADataFactory ${t} fail: `,JSON.stringify(e)),p(s(e))}})}))}}},7994:(e,t,r)=>{"use strict";r.d(t,{Ge:()=>d,WQ:()=>c,_F:()=>l,g5:()=>f,sJ:()=>p});var a,n=r(6342),o=r(7445),i=r(5464),s=r(182),c=()=>{var e,t,r=!1;if(o.IS_IOS)r=!("1"!==(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_group_control)||"1"!==(null===n.default||void 0===n.default||null===(t=n.default.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1));else if(o.IS_ANDROID){var a,i;r=!("1"!==(null===n.default||void 0===n.default||null===(a=n.default.expt)||void 0===a?void 0:a.clicfg_appbrand_android_operatewxdata_quic_group_control)||"1"!==(null===n.default||void 0===n.default||null===(i=n.default.expt)||void 0===i?void 0:i.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1))}return r=r&&(0,s.J)("operateWXDataQuic")},l=()=>{var e;if(o.IS_IOS)null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e||e.clicfg_appbrand_ios_operatewxdata_batch;else if(o.IS_ANDROID){var t;"1"===(null===n.default||void 0===n.default||null===(t=n.default.expt)||void 0===t?void 0:t.clicfg_appbrand_android_operatewxdata_batch)}return!1},u=()=>{var e,t=!1;if(o.IS_IOS)t="1"===(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority);else if(o.IS_ANDROID){var r;t="1"===(null===n.default||void 0===n.default||null===(r=n.default.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority)}return t},p=()=>u()&&(()=>{var e,t=!1;if(o.IS_IOS)t="1"===(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority_group_control);else if(o.IS_ANDROID){var r;t="1"===(null===n.default||void 0===n.default||null===(r=n.default.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority_group_control)}return t})(),d=e=>{var t,r,s,u,d;d=e?e.useQuic?1:0:c()?1:0;var f,h,v=o.IS_ANDROID&&"1"===(null===n.default||void 0===n.default||null===(t=n.default.expt)||void 0===t?void 0:t.clicfg_handle_reqresp_in_worker_android)?10:0,g=l()?1e4:0,y=(()=>{if(void 0===a){var e;if(o.IS_IOS)a=Number(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_ad_operatewxdata_batch)>=1;else if(o.IS_ANDROID){var t;a=Number(null===n.default||void 0===n.default||null===(t=n.default.expt)||void 0===t?void 0:t.clicfg_appbrand_android_ad_operatewxdata_batch)>=1}else a=!1;w.info("是否开启广告上报batch:",a)}return a})()?1e5:0,_=(f=!1,o.IS_ANDROID?f="1"===(null===n.default||void 0===n.default?void 0:n.default.expt.clicfg_appbrand_android_jsapi_nocallback):o.IS_IOS&&(f="1"===(null===n.default||void 0===n.default?void 0:n.default.expt.clicfg_appbrand_ios_jsapi_nocallback)),f?1e6:0);h=e?e.usePriority?1e7:0:p()?1e7:0;var m=(0,i.V)()?1e8:0,b=o.IS_ANDROID&&"1"===(null===n.default||void 0===n.default||null===(r=n.default.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_ipc_optimization)?1e9:0;return(1===Number(null===n.default||void 0===n.default||null===(s=n.default.expt)||void 0===s||null===(u=s.clicfg_miniprogram_adreport_use_kv)||void 0===u?void 0:u.value)?1e10:0)+b+m+h+_+y+g+1e3+100+v+d},f=()=>{var e,t=0,r=u()?10:0;if(o.IS_IOS)t="1"===(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1)?1:0;else if(o.IS_ANDROID){var a;t="1"===(null===n.default||void 0===n.default||null===(a=n.default.expt)||void 0===a?void 0:a.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1)?1:0}return r+t}},2167:(e,t,r)=>{"use strict";r.d(t,{yD:()=>Y,BB:()=>te,Qh:()=>ee});var a,n,o=r(2147),i=r(3888),s=r.n(i),c=r(7644),l=r(2338),u=!1,p=()=>new Promise((e=>{var t="login";u?e({success:!0,code:a,token:n,msg:`${t}: success`}):(0,l.ls)().readFile({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:r=>{var o={};try{o=JSON.parse(r.data)}catch(r){return void e({success:!1,msg:`${t}:fail app.miniapp.json json parse failed`})}var i=o.tempWxLoginCode;"string"==typeof i&&i.length>0||(i=void 0);var s=o.mockWithWxLoginToken;"string"==typeof s&&s.length>0||(s=void 0),e({success:!0,code:i,token:s,msg:`${t}: success`}),u=!0,a=i,n=s},fail(){e({success:!1,msg:`${t}:fail get app.miniapp.json failed`}),u=!0}})})),d=r(1333),f={ILLEGAL_URL:-2005,NOT_LIMITS:-1024,NOT_LIMITS_QY:-1025,NOT_LIMITS_CARD:-1026,NOT_LOGIN:41001,INVALID_TOKEN:40001,INVALID_LOGIN:42001,NEED_CONFORM:-12e3,AUTH_DENY:-12006,SCOPE_UNAUTHORIZED:-12007,INVALID_CODE:10010,INVALID_CARD_ID:10023};function h(){return(h=s()((function*(e,t,r,a){var n=yield p(),o=a.scopeList;return(0,c.Y)({apiName:"jsoperatewxdata",reqData:JSON.stringify({data:JSON.stringify(t.data||{}),grant_scope:o[0].scope,opt:1,token:n.token}),success:t=>{console.warn("operateWXDataConfirm",t);var a=t.data;return r({errMsg:`${e}:ok`,data:JSON.parse(a.data)})},fail:t=>{console.error("operateWXDataConfirm",t),r({errMsg:`${e}:fail response fail`})}})}))).apply(this,arguments)}var g=["webapi_getuserinfo"],y=["webapi_wxahttpdns_getfreehostip","webapi_wxahttpdns_gethostip"],_=["GetUploadSetting"];function m(){return m=s()((function*(e,t,r){var a,n,o="jsoperatewxdata";g.includes(t.data.api_name)&&(a=(yield p()).token);y.includes(t.data.api_name)&&(n=(yield(0,d.$)()).sysAccessToken,o="wxajsoperatewxdata");_.includes(t.data.api_name)&&(o="cpfjsoperatewxdatanologin");var i={data:JSON.stringify(t.data||{}),token:a};return"webapi_plugin_setauth"===t.data.api_name&&(i.ext_info={source_env:2}),(0,c.Y)({apiName:o,reqData:JSON.stringify(i),idaasSessionKey:n,success:a=>{var n=0,i="";if(void 0!==a.logicRet&&0!==a.logicRet)return n=a.logicRet,i=a.logicErrmsg,void r({errMsg:`${e}:fail ${i}, errCode: ${n}`});try{var s=JSON.parse(a.data),c=s.baseresponse;if(c){var l=s.baseresponse.errcode;if(0===l){var u=JSON.parse(s.data);return r({errMsg:`${e}:ok`,data:u})}return console.warn("jsoperatewxdata fail:",a),l===f.NEED_CONFORM?function(e,t,r,a){return h.apply(this,arguments)}(e,t,r,{imageUrl:s.appicon_url,appName:s.appname,scopeList:[s.scope]}):l===f.SCOPE_UNAUTHORIZED?r({errMsg:`${e}:fail ${c.errmsg}`}):r({errMsg:`${e}:fail ${c.errmsg}`,err_code:l})}var p=a.logicErrmsg||a.errMsg||"no baseresponse";r({errMsg:`${e}:fail ${p}`}),console.error(`${o} fail:`,a)}catch(t){console.error(`operateWXData ${o} fail`,a),r({errMsg:`${e}:fail ${t}`})}},fail:t=>{console.error(`operateWXData ${o} `,t);var a=t.errMsg||"response fail";r({errMsg:`${e}:fail ${a}`})}})})),m.apply(this,arguments)}function b(e,t,r,a={}){"operateWXData"!==e?(console.error(`invokeMiniapp ${e} not support`),r({errMsg:`${e}:fail response fail`})):function(e,t,r){m.apply(this,arguments)}(e,t,r)}var k=r(6342),S=r(5125),I=r(1708),T=r(8007),C=r(8246),x=r(7994),A=0;(0,C.n)("onAppEnterBackground",(()=>{A++}));var P=new Set(["webapi_getwxauserallphone","webapi_wxa_createmidasorder","webapi_wxa_getiapinfocreateitemorder","webapi_wxa_getiapinfocreatecoinorder","webapi_getiapinfocreatecoinorder","webapi_getiapinfocreateitemorder","webapi_createiapbuygamecoinorder","webapi_createiapbuygameitemorder","webapi_getwxauserprivacyauthinfo","webapi_getuserallappauth","webapi_swapopengid","webapi_getshareinfo","ProductLogic","webapi_getadvert","gameTransfer","webapi_openproductaddorder","DiscoveryGetUsageApp","WxaDiscoveryChannel","qbase_commapi","webapi_finder_ec","webapi_game_transfer"]);function E(e){!function(e){var{WXDataApiName:t,argument:r,isSuccess:a,invokeTime:n,TotalCost:o,result:i="",errMsg:s,isConfirm:c,queueLength:l,wxdataQueueTimestamp:u,wxdataDequeueTimestamp:p,beginCGITimestamp:d,CGICallbackTimestamp:f,beginCGITimestampAfterConfirm:h,CGICallbackTimestampAfterConfirm:g,wxlibCallbackTimestamp:y,requestInQueue:_,requestingCount:m,JsToClientCost:b,QueueCost:w,ChildToMainProcessCost:C,MMNetCost:P,MainToChildProcessCost:E,ClientToJsCost:O,fromWebview:M,doReportDetails:R,BatchType:D=0,sdkApiName:L,adExtra:N}=e;R&&setTimeout((()=>{var M=S.Z.currentNetworkType,R=k.default.appType+1e3,j=k.default.appLaunchInfo&&void 0!==k.default.appLaunchInfo.scene?k.default.appLaunchInfo.scene:0,W=3,F=N&&N.adReportAction,$=N&&N.adLogid,U=(0,x.Ge)(e),B=e.ProtocolType,H=e.QuicBytes,q=e.thisEnterBackgroundCount===A?1:2,G=[t,JSON.stringify(r).replace(/,/g,";"),a?1:0,n,o,M,i.replace(/,/g,";"),R,j,(0,I.k)(),(0,I.n)(),encodeURIComponent(s||""),c?1:0,l,b,w,C,P,E,O,0,_?1:0,m,n,u,p,d,f,h,g,y,0,U,W,D,L,F,$,B,H,q].map((0,T.b)(1024)).join(",");v.reportKeyValue({key:"WeAppOperateWXData",value:G})}),0)}(e),function(e){if(e.doReportProfile&&P.has(e.WXDataApiName)){var t,r=e.networkType||S.Z.currentNetworkType,a=k.default.appType+1e3,n=(0,I.k)()+" "+(0,I.n)(),o=e.argument,i=e.WXDataApiName;if("ProductLogic"===i)i=`ProductLogic-${null===(t=o.data.data)||void 0===t?void 0:t.method}`;else if("gameTransfer"===i){var s;i=`gameTransfer-${null===(s=o.data.data)||void 0===s?void 0:s.req_path}`}else if("webapi_game_transfer"===i){var c;i=`webapi_game_transfer-${null===(c=o.data.data)||void 0===c?void 0:c.req_path}`}var l=(0,x.Ge)(e),u=e.isSuccess?0:1,p=e.invokeTime,d=e.TotalCost,f=e.TimeStampId,h=encodeURIComponent(e.errMsg||""),g=e.isConfirm?1:0,y=e.queueLength,_=e.JsToClientCost,m=e.QueueCost,b=e.ChildToMainProcessCost,w=e.MMNetCost,T=e.MainToChildProcessCost,C=e.ClientToJsCost,E=e.PopupCost,O=e.MMNetCost2rd,M=e.requestInQueue?1:0,R=e.requestingCount,D=e.ClientSequenceId,L=e.BeginTs,N=e.EndTs,j=e.thisEnterBackgroundCount===A?1:2,W=e.RequestCount,F=e.LaunchDistance,$=e.TimeSinceLastRequest,U=e.MarsPackCost,B=e.MarsConnCost,H=e.MarsTLSCost,q=e.MarsNetCost,G=e.MarsUnPackCost,V=e.ChannelType,J=e.ProtocolType,K=3,z=e.QuicBytes,Q=e.LibParseCost,X=(0,x.g5)(),Z=e.MarsTotalCost,Y=[r,n,a,l,i,u,p,d,f,h,g,y,_,m,b,w,T,C,E,O,M,R,D,L,N,encodeURIComponent(JSON.stringify(o)),j,W,F,$,Z,"",U,"",B,H,q,G,V,J,z,K,Q,X].join(",");v.reportKeyValue({key:"operateWXDataProfile",value:Y})}}(e)}var O,M,R=r(7445),D=(r(182),r(5863)),L=0,N=0,j=0,W=new Set(["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"]),F=new Set(["advert_report","webapi_advideo_report","webapi_wxa_dramaplayreport","webapi_reportpayrecord","webapi_reportnvgcheckinfo","webapi_reportwxacityservicescreenshot","webapi_reportclicheckresult","webapi_openproductreportorder","webapi_wxaseceventreport","webapi_game_ad_report","webapi_wxaasyncinputreport","webapi_adfollow_report"]),$=new Set(["qbase_commapi","webapi_botdemo"]),U=!1,B=!1;k.default.onReady((()=>{O=Date.now(),U=(0,x.WQ)(),B=(0,x.sJ)()}));var H=(e={},t={},{fromWebview:r,showApiVersion:a,showProfile:n,batchType:i,sdkApiName:s,adExtra:c})=>{var l=i>=1,u=Object.assign({},e);u._isFromBaseOperateWXData=!0;var p,d=t.beforeAll,f=u.data.api_name,h=Date.now();p=M?h-M:-1,M=h;var g,y=h,_=A,m=h-O;if(h<=j&&(h=j+1),j=h,W.has(f)?(u.requestInQueue=!0,delete u.timeout):u.requestInQueue=!1,u.isImportant=!!l,$.has(f)&&(u.keepAlive=!0),u.useQuic=U&&!l,u.data.tid=h,g=D.r.workerId?+D.r.workerId+300:300,u.data.env=g,u.priority||B&&(F.has(f)?(u.priority=2,u.timeout=(u.timeout||6e4)+15e3):u.priority=3),R.IS_HOST_SAAA_SDK&&e.saaaMock){var k="operateWXData",S=(0,o.yt)(u,k,{},{});b(k,u,S)}else if(!R.IS_HOST_SAAA_SDK||e.data.fromSaaADataPipe){var I={isSuccess:void 0,WXDataApiName:f,argument:u,invokeTime:y,requestInQueue:u.requestInQueue,requestingCount:++L,TimeStampId:h,RequestCount:++N,LaunchDistance:m,TimeSinceLastRequest:p,fromWebview:r,thisEnterBackgroundCount:_,BatchType:i,sdkApiName:s,adExtra:c,useQuic:U,usePriority:B};v.reportFrameworkIDKey(25),w.info(`baseOperateWXData invoke apiName=${f}, TimeStampId=${h}, useQuic=${U}, usePriority=${B}, batchType=${i}`),(0,o.IN)("operateWXData",u,{beforeAll(e){var r=Date.now();I.onJsCallbackTimestamp=r,L--;var a=Math.random(),o=a<.01,i=a<.1,s=o||i;if(I.doReportDetails=o,I.doReportProfile=i,s&&("object"==typeof e.data&&e.data?I.result=JSON.stringify(e.data):I.result=e.data),e.clientInfo&&"object"==typeof e.clientInfo){var c=e.clientInfo;delete e.clientInfo,(s||n)&&(Object.assign(I,c),I.JsToClientCost=c.wxdataQueueTimestamp-I.invokeTime,I.QueueCost=c.wxdataDequeueTimestamp-c.wxdataQueueTimestamp,I.ChildToMainProcessCost=c.beginCGITimestamp-c.wxdataDequeueTimestamp,I.MMNetCost=c.CGICallbackTimestamp-c.beginCGITimestamp,I.MainToChildProcessCost=c.wxlibCallbackTimestamp-c.CGICallbackTimestamp,I.ClientToJsCost=r-c.wxlibCallbackTimestamp,c.beginCGITimestampAfterConfirm>0&&c.beginCGITimestampAfterConfirm<0x9bc39d22b2c4&&(I.PopupCost=c.beginCGITimestampAfterConfirm-c.CGICallbackTimestamp,I.MMNetCost2rd=c.CGICallbackTimestampAfterConfirm-c.beginCGITimestampAfterConfirm),c.startConnectTime&&(I.MarsConnCost=c.connectSuccessfulTime-c.startConnectTime,I.MarsTLSCost=c.handshakeSuccessfulTime-c.startHandshakeTime,I.MarsPackCost=c.startSendPacketTime-c.connectSuccessfulTime,I.MarsNetCost=c.startReadPacketTime-c.startSendPacketTime,I.MarsUnPackCost=c.readPacketFinishedTime-c.startReadPacketTime,I.MarsTotalCost=c.readPacketFinishedTime-c.taskStartTime),I.networkType=c.netType,I.ChannelType=c.channelType,I.ProtocolType=c.protocolType)}"function"==typeof d&&d.call(t,e)},beforeSuccess(e){w.info(`baseOperateWXData success apiName=${f}, TimeStampId=${h}, useQuic=${U}, usePriority=${B}, batchType=${i}`),v.reportFrameworkIDKey(26),I.isSuccess=!0,u.data.data&&u.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=I),a&&(e.apiVersion=(0,x.Ge)(I)),e.reportObj=I},beforeFail(e={}){v.reportFrameworkIDKey(27),I.isSuccess=!1,I.errMsg=JSON.stringify(e),I.err_code=e.err_code,I.errno=e.errno,w.info(`baseOperateWXData fail apiName=${f}, TimeStampId=${h}, useQuic=${U}, usePriority=${B}, batchType=${i}, errMsg=${I.errMsg}`),"1030"!==e.err_code&&"1031"!==e.err_code||(I.QuicBytes=e.errMsg.slice(e.errMsg.length-1),I.ProtocolType=2),u.data.data&&u.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=I),e.reportObj=I}})}else(0,o.YG)("operateWXData",e,e.api_name+" fail: SDK暂不支持operateWXData API")},q=r(9806),G=r(4081),V=r(4500),J=r(1235),K=void 0,z=void 0;k.default.onReady((()=>{var e="clicfg_appbrand_ios_enable_jsopdata_mock";(0,V.b)({experimentId:e,experimentType:"Expt",success:e=>{var t;e&&((null===(t=e.testConfig)||void 0===t?void 0:t.length)>10&&(K=e.testConfig))},fail(t){w.error(e,"failed",t)}})}));var Q=new Set(["webapi_getadvert","advert_report","webapi_advideo_report","webapi_adfollow_report","webapi_wxahttpdns_getfreehostip"]),X=(()=>JSON.parse)(),Z=(e,t=!1,r=!1)=>({keepAlive:a,apiName:n="",reqData:i,sdkApiName:s="operateWXData",pluginId:c,success:l,fail:u,complete:p,fromComponent:d=!1,withCredentials:f=!1,showConfirm:h=!1,timeout:v=6e4,fromSaaADataPipe:g=!1,saaaMock:y=!1,contextId:_,reserveDataString:m=!1,showApiVersion:b=!1,showProfile:S=!1,priority:I,reqDataList:T=[],batchType:C=0,adExtra:x}={})=>{if(!R.IS_HOST_SAAA_SDK||g||y){var A={success:l,fail:u,complete:p};if(!r&&!Q.has(n)){var P={errMsg:`${s}:fail invalid apiName in worker`};return"function"==typeof u&&u(P),void("function"==typeof p&&p(P))}var O={api_name:n,data:i||{},operate_directly:e};"string"==typeof c&&(O.plugin_appid=c),!0===d&&(O.from_component=!0),!0===f&&(O.with_credentials=!0),!0===h&&(O.show_confirm=!0),O.fromSaaADataPipe=g;var M=0;r&&(O.batch_type=1001,O.data_list=T,M=C);var D=()=>{H({keepAlive:a,data:O,timeout:v,contextId:_,saaaMock:y,priority:e?I:void 0,success(t){if("string"==typeof t.data)try{t.data=X(t.data)}catch(e){if(t.reportObj){var a=Date.now();t.reportObj.LibParseCost=a-t.reportObj.onJsCallbackTimestamp,t.reportObj.TotalCost=a-t.reportObj.invokeTime,t.reportObj.isSuccess=!1,t.reportObj.errMsg=`json parse error, json="${t.data}"`,t.reportObj.errno=G.Q1T,E(t.reportObj)}return void(0,o.FE)({name:s,args:A,errno:G.Q1T,errMsg:`json parse error, json="${t.data}"`,success:!1})}var{data:n={},reportObj:i={}}=t;delete t.data,delete t.reportObj;var{data:c,encryptedData:u,iv:d,cloud_id:f,err_no:h,signature:v,errmsg:y,quic_bytes:_,item_list:b}=n;if(delete n.quic_bytes,delete n.item_list,i.QuicBytes="number"==typeof _?_:0,e)void 0!==c&&(t.rawData=c),t.respData=n;else if("string"==typeof c)if(m)t.data={data:c};else try{t.data=X(c)}catch(e){var k=Date.now();return i.LibParseCost=k-i.onJsCallbackTimestamp,i.TotalCost=k-i.invokeTime,i.isSuccess=!1,i.errMsg=`json parse error, json="${c}"`,i.errno=G.Q1T,E(i),void(0,o.FE)({name:s,args:A,errno:G.Q1T,errMsg:`json parse error, json="${c}"`,success:!1})}else t.data={};v&&(t.signature=v),u&&(t.encryptedData=u,t.iv=d,f&&(t.cloudID=f)),r&&b&&(b.forEach((e=>{try{"string"==typeof e.resp&&e.resp?(e.resp=X(e.resp),"string"==typeof e.resp.data&&e.resp.data&&(e.resp.data=X(e.resp.data))):e.resp={}}catch(t){w.error("batch operatewxdata parse item error",t.message),e.resp={}}})),t.item_list=b);var I=Date.now();i.LibParseCost=I-i.onJsCallbackTimestamp,i.TotalCost=I-i.invokeTime,i.errno=h,E(i),g?(n.base_resp?0!==n.base_resp.ret?(0,o.YG)(s,A,n.base_resp.ret):(t.logicRet=n.logic_ret,t.logicErrmsg=n.logic_errmsg,"function"==typeof l&&l(t),"function"==typeof p&&p(t)):(0,o.YG)(s,A,-1),"function"==typeof l&&l(t),"function"==typeof p&&p(t)):"number"==typeof h&&0!==h?(0,o.FE)({name:s,args:A,errno:h,errMsg:y,success:!1}):(S&&(t.profile={TotalCost:i.TotalCost,JsToClientCost:i.JsToClientCost,QueueCost:i.QueueCost,ChildToMainProcessCost:i.ChildToMainProcessCost,MMNetCost:i.MMNetCost,MainToChildProcessCost:i.MainToChildProcessCost,ClientToJsCost:i.ClientToJsCost,MarsPackCost:i.MarsPackCost,MarsConnCost:i.MarsConnCost,MarsTLSCost:i.MarsTLSCost,MarsNetCost:i.MarsNetCost,MarsUnPackCost:i.MarsUnPackCost,LibParseCost:i.LibParseCost,ProtocolType:i.ProtocolType}),"function"==typeof l&&l(t),"function"==typeof p&&p(t))},fail(e){var t=Date.now();e.reportObj.LibParseCost=t-e.reportObj.onJsCallbackTimestamp,e.reportObj.TotalCost=t-e.reportObj.invokeTime,E(e.reportObj),delete e.reportObj,"function"==typeof u&&u(e),"function"==typeof p&&p(e)}},{beforeAll(e){"operateWXData"!==s&&(e.errMsg=e.errMsg.replace("operateWXData",s))}},{showApiVersion:b,showProfile:S,fromWebview:t,batchType:M,sdkApiName:s,adExtra:x})};!!K?new Promise(((e,t)=>{if(z)return e(z);var r;"string"==typeof K&&K.endsWith("?openid=")&&(r=`${K}${k.default.appLaunchInfo.openId}`),r?(0,J.ac)({url:r,success(r){try{var a=JSON.parse(r.data.data);z=a,e(a)}catch(e){console.error("get operateWXData mock config error: ",e),t(e)}},fail(e){t(e)}}):t("empty request url")})).then((t=>{var r=t[n];if(r){var a=!1,c={},u=!1;try{if(c.data=JSON.parse(r),Array.isArray(c.data))e:for(var d of c.data){var f=d.__mock_inner_args__;if(!f){c.data=d.data,u=!0;break e}var h=!0;for(var v in f)if(i[v]!==f[v]){h=!1;break}if(h){c.data=d.data,u=!0;break e}}else c.data=c.data.data,u=!0}catch(e){console.error(`你使用了 ${n} 这个数据管道的mock，在parse出现错误`,e),a=!0}if(u||(a=!0),!a){console.error(`你使用了 ${n} 这个数据管道的mock，res为`,c);var{data:g,encryptedData:y,iv:_,cloud_id:m,err_no:b,signature:w,errmsg:k}=c.data;return e&&(void 0!==g&&(c.rawData=JSON.stringify(g)),c.respData=g),w&&(c.signature=w),y&&(c.encryptedData=y,c.iv=_,m&&(c.cloudID=m)),void("number"==typeof b&&0!==b?(0,o.FE)({name:s,args:A,errno:b,errMsg:k,success:!1}):("function"==typeof l&&l(c),"function"==typeof p&&p(c)))}}D()})):D()}else(0,o.YG)("createOperateWXData",{apiName:n,success:l,fail:u,complete:p},s+" fail: SDK暂不支持operateWXData API")},Y=Z(!1),ee=(0,q.Fr)(Y),te=Z(!1,!1,!0)},8138:(e,t,r)=>{"use strict";r.d(t,{FE:()=>l,Rn:()=>u,S3:()=>c,YG:()=>s,r3:()=>o,zy:()=>i});var a=r(4081),n=r(6142);function o(e,t,r){var o=(0,n.x7)(t,r);return!o||(l({name:e,args:t,errno:a.Wkc,errMsg:`parameter error: ${o}`,success:!1}),!1)}function i(e,t){var r=(0,n.x7)(e,t);if(r)throw new Error(`parameter error: ${r}`)}function s(e,t={},r,a){var o=(0,n.hj)(r);l({name:e,args:t,errno:o?r:void 0,errMsg:o?void 0:r,errCode:o?void 0:a,success:!1})}function c({name:e,args:t={},errMsg:r="",res:a={}}){t=t||{};var o=`${e}:${r}`,i=h.surroundThirdByTryCatch(t.complete||n.ZT,`at api ${e} complete callback function`);a.errMsg=o,i(a)}function l({name:e,args:t={},success:r=!0,errno:a,errMsg:o="",errCode:i,res:s={},exception:c}){t=t||{};var l=h.surroundThirdByTryCatch((r?t.success:t.fail)||n.ZT,`at api ${e} ${r?"success":"fail"} callback function`),u=h.surroundThirdByTryCatch(t.complete||n.ZT,`at api ${e} complete callback function`);(0,n.hj)(a)?(s.errno=a,s.errMsg=`${e}:fail${o&&":"!==o[0]?" ":""}${o||""}`):(s.errMsg=r?`${e}:ok`:`${e}:fail ${o}`,(0,n.hj)(i)&&(s.errCode=i)),c&&(s.exception=c),l(s),u(s)}var u=({success:e,fail:t,complete:r}={},a)=>{var n=e=>{"function"==typeof t&&(a?h.surroundThirdByTryCatch(t,`at api ${a} fail callback function`)(e):t(e)),"function"==typeof r&&(a?h.surroundThirdByTryCatch(r,`at api ${a} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&a&&(t.errMsg=`${a}:ok`),"function"==typeof e&&(a?h.surroundThirdByTryCatch(e,`at api ${a} success callback function`)(t):e(t)),"function"==typeof r&&(a?h.surroundThirdByTryCatch(r,`at api ${a} complete callback function`)(t):r(t))},fail:n,failWithMsg:({code:e,msg:t,errno:r,name:o}={})=>{var i={};"number"==typeof r&&r>0?(i.errno=r,i.errMsg=`${o||a}:fail`):(i.errMsg=`${o||a}:fail ${t||""}`,"number"==typeof e&&(i.errCode=e)),n(i)}}}},8602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});class a{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}const n=(()=>new a)()},8246:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var a=r(3478),n=r(9766),o={},i=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE","onGameAuditsStateChange"],s=(e,t)=>{if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onNativeEvent:r}=SDK;return r(e,t)}var s=(0,n.s)(`WeixinJSBridge-${e}`);o[e]||((0,a.j)(e,((...t)=>{s.emit(...t),((e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!i.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=__appServiceSDK__;r(e,...t)}})(e,...t)})),o[e]=!0),s.internalOnMethod(t)}},1869:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var a=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"]},158:(e,t,r)=>{"use strict";r.d(t,{v:()=>u});var a=r(2147),n=r(5340),o=r(1869),i=r(6142),s=r(9105),c=r(7445),l=r(4899),u={close:(e={})=>{(0,a.r3)("close",e,{fd:""})&&(0,a.IN)("close",e)},closeSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if((0,a.IN)("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},fstat:(e={})=>{(0,a.r3)("fstat",e,{fd:""})&&(0,a.IN)("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:a,lastModifiedTime:o}=e;a>1617e9&&(a=Math.floor(a/1e3)),o>1617e9&&(o=Math.floor(o/1e3)),e.stats=new n.jk({mode:t,size:r,lastAccessedTime:a,lastModifiedTime:o}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,o;if((0,a.IN)("fstatSync",{fd:e,fail(e){r=e.errMsg,o=e.errno},success(e){var{mode:r,size:a}=e,{lastAccessedTime:o,lastModifiedTime:i}=e;o>1617e9&&(o=Math.floor(o/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),t=new n.jk({mode:r,size:a,lastAccessedTime:o,lastModifiedTime:i})}}),r){var i=new Error(r);throw i.errno=o,i}return t},write:(e={})=>{var t=Object.assign({},e);if((0,a.r3)("write",t,{fd:""}))if(t.encoding&&-1===o.a.indexOf(t.encoding))(0,a.YG)("write",t,`invalid encoding "${t.encoding}"`);else{if((0,i.eP)(t.data)){if(t.data.byteLength>10485760)return void(0,a.YG)("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!(0,i.HD)(t.data))return void(0,a.YG)("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),(0,a.IN)("write",t)}},writeSync:({fd:e,data:t,offset:r,length:n,encoding:c,position:l}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(c&&-1===o.a.indexOf(c))throw new s.iZ(`invalid encoding "${c}"`);if((0,i.eP)(t)){if(t.byteLength>10485760)throw new s.iZ("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n<0)&&(n=t.byteLength-r)}else if(!(0,i.HD)(t))throw new TypeError("data must be a string or ArrayBuffer");var u,p,d;if("number"!=typeof l&&(l=void 0),(0,a.IN)("writeSync",{fd:e,data:t,offset:r,length:n,encoding:c,position:l,fail(e){u=e.errMsg,d=e.errno},success(e){p={bytesWritten:e.bytesWritten}}}),u){var f=new Error(u);throw f.errno=d,f}return p},read:(e={})=>{if((0,a.r3)("read",e,{fd:""}))if((0,i.eP)(e.arrayBuffer)){var t=Object.assign({},e),r=(0,l.t)();c.IS_IOS&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),(0,i.hj)(t.position)&&t.position<0?t.position=0:(0,i.o8)(t.position)||(0,i.Ft)(t.position)?t.position=null:(0,i.hj)(t.position)||(t.position=0);var n=Number(t.length);Number.isNaN(n)?t.length=0:t.length=n;var o=Number(t.offset);Number.isNaN(o)?t.offset=0:t.offset=o,c.WK_RENDERER_H5&&delete t.arrayBuffer,(0,a.IN)("read",t,{beforeSuccess(r){if(c.WK_RENDERER_H5){var a=new Uint8Array(e.arrayBuffer),n=new Uint8Array(r.arrayBuffer);a.set(n,t.offset),r.bytesRead=r.arrayBuffer.byteLength}r.arrayBuffer=e.arrayBuffer},afterAll(){c.IS_IOS&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else(0,a.YG)("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!(0,i.eP)(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var n=Object.assign({},e),o=(0,l.t)();c.IS_IOS&&o&&o.trace&&(n.arrayBufferId=o.trace(n.arrayBuffer,"rw"),delete n.arrayBuffer),(0,i.hj)(n.position)&&n.position<0?n.position=0:(0,i.o8)(n.position)||(0,i.Ft)(n.position)?n.position=null:(0,i.hj)(n.position)||(n.position=0);var s=Number(n.length);Number.isNaN(s)?n.length=0:n.length=s;var u,p,d,f=Number(n.offset);if(Number.isNaN(f)?n.offset=0:n.offset=f,c.WK_RENDERER_H5&&delete n.arrayBuffer,(0,a.IN)("readSync",{...n,fail(e){p=e.errMsg,d=e.errno},success(e){if(c.WK_RENDERER_H5){var t=new Uint8Array(r),a=new Uint8Array(e.arrayBuffer);t.set(a,n.offset),e.bytesRead=e.arrayBuffer.byteLength}u={bytesRead:e.bytesRead,arrayBuffer:r}}}),c.IS_IOS&&o&&o.untrace&&o.untrace(n.arrayBufferId),p){var h=new Error(p);throw h.errno=d,h}return u},ftruncate:(e={})=>{(0,a.r3)("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,a.IN)("ftruncate",e))},ftruncateSync:({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,a.IN)("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}}}},6345:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});var a=r(2147),n=r(6142),o=(e={})=>{if((0,a.r3)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=(0,n.x7)(e,{digestAlgorithm:""});if(t)return void(0,a.YG)("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1","sha256"].indexOf(e.digestAlgorithm))return void(0,a.YG)("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}(0,a.IN)("getFileInfo",e,{})}}},4237:(e,t,r)=>{"use strict";r.d(t,{sZ:()=>S,Dc:()=>I,WZ:()=>y});var a=r(158),n=r(9937),o=r(6142),i=r(2147),s=r(9105),c={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},l={openSync:!0,truncateSync:!0},u=r(9806),p=r(7445),d=r(6342),f="",h="",v="";d.default.onReady((()=>{try{f=d.default.env.USER_DATA_PATH,h=d.default.env.OPEN_DATA_PATH,delete d.default.env.OPEN_DATA_PATH,v=f+"/__plugins__",p.IS_DEVTOOLS?("http://__wxprivate__","http://sdk","http://ad"):("wxfile://__wxprivate__","wxfile://sdk","wxfile://ad")}catch(e){}}));var g=()=>f,y=()=>h,_=()=>v,m=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),b=r(4081),w=function(e,t,r,a){return(...n)=>{var o,p=t.endsWith("Sync"),d=!p||l[t]?n[0]:n,f=c[t].every((e=>{var n=JSON.parse(JSON.stringify({[e]:d[e]}));d[e]=n[e];var i=((e,t,r,a)=>{var n=g(),o=y(),i=_();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||(0,u.Av)()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!m.has(a)||!e.startsWith(n)||e:"game"===t||"app"===t?!(e.startsWith(o)||e.startsWith(i)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(o)?e:!e.startsWith(n)||!!e.startsWith(`${i}/${r}`)||e:e)})(d[e],r,a,t);return!0===i||(o=i,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||c[t].forEach((e=>{"string"!=typeof d[e]||d[e].match(/^[a-zA-Z0-9]+:\/\//)||(d[e]=(0,s.RP)(a,d[e]))})),f)return e(...n);if(p){var h=new Error(`${t}:fail permission denied with path "${o}"`);throw h.errno=b.UoO,h}(0,i.FE)({success:!1,name:t,args:d,errno:b.UoO,errMsg:`permission denied with path "${o}"`})}},k=(e,t="")=>{var r={},s=new Set;return function(e,t,r,a){Object.keys(e).forEach((n=>{(0,o.o8)(c[n])||((0,o.Ft)(c[n])?t[n]=(...t)=>e[n](...t):t[n]=w(e[n],n,r,a))}))}(n.W,r,e,t),function(e,t,r){Object.keys(e).forEach((a=>{var n=e[a];t[a]=(e={})=>{var{fd:t}=e;if(r.has(t))return n(Object.assign({},e,{fd:t}));if(a.endsWith("Sync"))throw new Error(`${a}:fail invalid fd`);(0,i.YG)(a,e,"invalid fd")}}))}(a.v,r,s),function(e,t){var r=e.open,a=e.openSync,n=e.close,o=e.closeSync;e.open=(e={})=>{var{success:a}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof a&&a(e)}}))},e.openSync=(e={})=>{var r=a(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:a}=e;n(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof a&&a(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;o({fd:r}),t.delete(r)}}(r,s),r},S=()=>k("app"),I=()=>k("game")},9976:(e,t,r)=>{"use strict";r.d(t,{h:()=>o,i:()=>n});var a=r(2147),n=(e={})=>{(0,a.r3)("mkdir",e,{dirPath:""})&&(0,a.IN)("mkdir",e)},o=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,n;if((0,a.IN)("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}}},9937:(e,t,r)=>{"use strict";r.d(t,{W:()=>g});var a=r(2147),n=r(6345),o=r(5179),i=r(1869),s=r(9976),c=r(7445),l=r(6659),u=r(5340),p=r(6142),d="readZipEntry",f=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],h=r(9105),v=r(714),g={saveFile:e=>{(0,a.r3)("saveFile",e,{tempFilePath:""})&&(0,a.IN)("saveFile",e)},saveFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,n;if((0,a.IN)("saveFileSync",{tempFilePath:e,filePath:t,success(e){n=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return n},getSavedFileList:(e={})=>{(0,a.IN)("getSavedFileList",e)},getSavedFileInfo:(e={})=>{(0,a.r3)("getSavedFileInfo",e,{filePath:""})&&(0,a.IN)("getSavedFileInfo",e)},removeSavedFile:(e={})=>{(0,a.r3)("removeSavedFile",e,{filePath:""})&&(0,a.IN)("removeSavedFile",e)},getFileInfo:n.h,readFile:o.p,readFileSync:o.N,writeFile:(e={})=>{(0,a.r3)("writeFile",e,{filePath:""})&&(e.encoding&&-1===i.a.indexOf(e.encoding)?(0,a.YG)("writeFile",e,`invalid encoding "${e.encoding}"`):(0,a.IN)("writeFile",e,{}))},writeFileSync:(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===i.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,o;if((0,a.IN)("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,o=e.errno}}),n){var s=new Error(n);throw s.errno=o,s}},mkdir:s.i,mkdirSync:s.h,rmdir:(e={})=>{(0,a.r3)("rmdir",e,{dirPath:""})&&(0,a.IN)("rmdir",e)},rmdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,n;if((0,a.IN)("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},readdir:(e={})=>{(c.IS_PC||"wxfile://"!==e.dirPath)&&(!c.IS_PC||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?(0,a.r3)("readdir",e,{dirPath:""})&&(0,a.IN)("readdir",e):(0,a.YG)("readdir",e,"path permission denied")},readdirSync:e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,n;if((0,a.IN)("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}return t},access:(e={})=>{(0,a.r3)("access",e,{path:""})&&(0,a.IN)("access",e)},accessSync:e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if((0,a.IN)("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},unlink:l.q,unlinkSync:l.y,stat:u.lz,statSync:u.dJ,unzip:(e={})=>{var{zipFilePath:t}=e;t=""+t,(0,a.r3)("unzip",e,{zipFilePath:""})&&(0,a.IN)("unzip",Object.assign({},e,{targetDirectory:e.targetPath,zipFilePath:t}))},copyFile:(e={})=>{(0,a.r3)("copyFile",e,{srcPath:"",destPath:""})&&(0,a.IN)("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},copyFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,n;if((0,a.IN)("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},rename:(e={})=>{(0,a.r3)("rename",e,{oldPath:"",newPath:""})&&(0,a.IN)("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,n;if((0,a.IN)("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},appendFile:(e={})=>{(0,a.r3)("appendFile",e,{filePath:""})&&(e.encoding&&-1===i.a.indexOf(e.encoding)?(0,a.YG)("appendFile",e,`invalid encoding "${e.encoding}"`):(0,a.IN)("fs_appendFile",e,{}))},appendFileSync:(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===i.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,o;if((0,a.IN)("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,o=e.errno}}),n){var s=new Error(n);throw s.errno=o,s}},readZipEntry:(e={})=>{(0,a.r3)(d,e,{filePath:""})&&((0,p.o8)(e.encoding)||-1!==i.a.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?(0,a.IN)(d,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${d}:ok`:e.entries[t].errMsg=`${d}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):(0,a.YG)(d,e,"invalid entries"):(0,a.YG)(d,e,`invalid encoding "${e.encoding}"`))},open:(e={})=>{var t=Object.assign({},e);(0,a.r3)("open",e,{filePath:""})&&(void 0===e.flag||f.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),(0,a.IN)("open",t)):(0,a.YG)("open",e,`invalid flag "${e.flag}"`))},openSync:(e={})=>{var t,r,n,{filePath:o}=e,{flag:i}=e;if(!o||"string"!=typeof o)throw new TypeError("filePath must be a string");if(void 0!==i&&!f.includes(i))throw new h.iZ(`invalid flag: ${i}`);if(void 0===i&&(i="r"),(0,a.IN)("openSync",{filePath:o,flag:i,fail(e){r=e.errMsg,n=e.errno},success(e){t=e.fd}}),r){var s=new Error(r);throw s.errno=n,s}return t},truncate:(e={})=>{(0,a.r3)("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,a.IN)("truncate",e,{}))},truncateSync:({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,a.IN)("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},readCompressedFile:v.$,readCompressedFileSync:v.T}},714:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,T:()=>s});var a=r(2147),n=r(6142),o=r(9105),i=(e={})=>{(0,a.r3)("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&(0,a.IN)("readCompressedFile",e)},s=({filePath:e,compressionAlgorithm:t}={})=>{if(!(0,n.HD)(e))throw new o.iZ(`invalid filePath: ${e}`);if(!(0,n.HD)(t))throw new o.iZ(`invalid compressionAlgorithm: ${t}`);var r,i,s;if((0,a.IN)("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){i=e.errMsg,s=e.errno}}),i){var c=new Error(i);throw c.errno=s,c}return r}},5179:(e,t,r)=>{"use strict";r.d(t,{N:()=>h,p:()=>f});var a=r(2147),n=r(182),o=r(1399),i=r(7445),s=r(6342),c=r(4500),l=r(5133),u=r(6142),p=r(1591),d=!1;s.default.onReady((()=>{var e=o.Z.fs;if(e&&e.FileReader){var t=!1,r=i.IS_IOS?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";(0,c.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&((0,l.Tk)(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var a=(0,n.J)("bindingReadFile");d=t||a,w.info(`${d?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${a}`)}}));var f=(e={})=>{if((0,a.r3)("readFile",e,{filePath:""}))if((0,u.o8)(e.encoding)||(0,u.HD)(e.encoding))if((0,u.o8)(e.position)||(0,u.hj)(e.position))if((0,u.o8)(e.length)||(0,u.hj)(e.length))if(d){var t,r=o.Z.fs;(t=e.workerId?new r.FileReader(e.workerId):new r.FileReader).onerror=t=>(0,a.YG)("readFile",e,t),t.onread=t=>(0,a.FE)({name:"readFile",args:e,res:{data:t}});var n={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(n[t]=r)})),t.read(n)}else(0,a.IN)("readFile",e);else(0,a.YG)("readFile",e,`invalid length: ${e.length}`);else(0,a.YG)("readFile",e,`invalid position: ${e.position}`);else(0,a.YG)("readFile",e,`invalid encoding: ${e.encoding}`)},h=(e,t,r,n,i)=>{if(!e||!(0,u.HD)(e))throw new p.i(`invalid filePath: ${e}`);if(!(0,u.o8)(t)&&!(0,u.HD)(t))throw new p.i(`invalid encoding: ${t}`);if(!(0,u.o8)(r)&&!(0,u.hj)(r))throw new p.i(`invalid position: ${r}`);if(!(0,u.o8)(n)&&!(0,u.hj)(n))throw new p.i(`invalid length: ${n}`);if(d){var s=o.Z.fs;try{return i?s.readFileSync(e,t,i):s.readFileSync(e,t)}catch(l){throw new Error(l)}}var c,l,f;if((0,a.IN)("readFileSync",{filePath:e,encoding:t,position:r,length:n,success(e){c=e.data},fail(e){l=e.errMsg,f=e.errno}}),l){var h=new Error(l);throw h.errno=f,h}return c}},5340:(e,t,r)=>{"use strict";r.d(t,{dJ:()=>c,jk:()=>o,lz:()=>s});var a=r(2147),n=r(7445);class o{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:a}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=a}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}var i=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new o(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new o(e.stats[""]);else{var a=[],i=e.stats;n.IS_ANDROID&&(i=e,a.push({path:"/",stats:c(t)})),Object.keys(i).forEach((e=>{if("errMsg"!==e){var t=i[e];""===e&&(e="/"),a.push({path:e,stats:new o(t)}),delete i[e]}})),e.stats=a}},s=(e={})=>{(0,a.r3)("stat",e,{path:""})&&(0,a.IN)("stat",e,{beforeSuccess:t=>{i(t,e.path)}})},c=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,n,o;if((0,a.IN)("statSync",{path:e,recursive:t,success(t){i(t,e),r=t.stats},fail(e){n=e.errMsg,o=e.errno}}),n){var s=new Error(n);throw s.errno=o,s}return r}},6659:(e,t,r)=>{"use strict";r.d(t,{q:()=>n,y:()=>o});var a=r(2147),n=(e={})=>{(0,a.r3)("unlink",e,{filePath:""})&&(0,a.IN)("unlink",e)},o=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if((0,a.IN)("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}}},3385:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var a=r(6342),n=r(8246),o={};a.default.onReady((()=>{Object.assign(o,a.default.appLaunchInfo),(0,n.n)("onAppEnterForeground",(e=>{Object.assign(o,e)}))}));var i=()=>o},4599:(e,t,r)=>{"use strict";r.d(t,{vv:()=>s});var a=r(9766),n=(0,a.s)("LifeCycle:beforeHide"),o=(0,a.s)("LifeCycle:Hide"),i=(0,a.s)("LifeCycle:afterHide"),s=(o.emitInternal.bind(o),o.emitGlobal.bind(o),n.emitInternal.bind(n),i.emitInternal.bind(i),o.onMethod,o.offMethod,n.internalOnMethod,n.internalOffMethod,o.internalOnMethod);o.internalOffMethod,i.internalOnMethod,i.internalOffMethod},3852:(e,t,r)=>{"use strict";r.d(t,{Q1:()=>ht,GJ:()=>vt,v8:()=>ft});var a,n=r(3888),o=r.n(n),s=r(182),c=r(7445),l=(r(4500),r(1399)),u=r(143),p=r(8007),d=(e={})=>{var{runCount:t,runCostAverage:r,runError:a,createError:n,isBinding:o,version:i,runErrorRate:s,createSessionParams:c,sessionId:l,resultType:u,createErrno:d,runErrno:f}=e;o=o?1:0,a||(a=""),n||(n="");var h=[t,r,encodeURIComponent(a),encodeURIComponent(n),o,i,s,l,encodeURIComponent(c),u,d,f].map((0,p.b)(1024)).join(",");v.reportKeyValue({key:"WeAppXNetInvoke",value:h})},f=r(2147),h=r(9806),g=(0,h.Iy)(((e,t)=>{if(t)try{e.success&&e.success({ver:t.GetInferenceEnvInfo().ver}),e.complete&&e.complete({ver:t.GetInferenceEnvInfo().ver})}catch(t){e.fail&&e.fail("getInferenceEnvInfo fail: ",t)}else(0,f.IN)("getInferenceEnvInfo",e)}),(e=>({ver:e.ver}))),y=r(6142),_=r(8929),m=new WeakMap;class b{constructor(e={model:""}){this.em=void 0,this.sessionId=void 0,this.reportInfo=void 0,this.getVersionTask=void 0;var t,r=this;try{t=JSON.stringify(e)}catch(e){t=""}this.reportInfo={runCostAverage:0,runErrorRate:0,runCount:0,runErrorCount:0,createSessionParams:t,sessionId:(0,_.M8)(),runErrno:0,createErrno:0};var n=!0;if(!1===e.asyncCreateSession&&(n=!1),this.em=(0,u.v)("XnetBinding",{noCache:!0}),a=l.Z.XInference,this.getVersionTask=new Promise((e=>{g({success(t){e(t.ver),r.getVersionTask=t.ver},fail(){e("-1"),r.getVersionTask="-1"}},a)})),w.warn("asyncCreateSession: ",n),n){a.CreateAsync((0,f.qB)(((e,t)=>{if(e){var r={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};return this.report(r),this.em.advancePublish("onError",e,!0),this.reportInfo.createErrorMsg=e.errMsg,void(this.reportInfo.createErrno=e.errno)}m.set(this,t),this.sessionId=t;var a={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(a),this.em.advancePublish("onLoad",void 0,!0)}),"XInference.CreateAsync"),e)}else{var o={...e};["success","fail","complate"].forEach((e=>{o[e]&&delete o[e]}));try{var i=a.CreateSession(o);i&&(m.set(this,i),this.sessionId=i,this.em.advancePublish("onLoad"));var s={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(s)}catch(e){var c={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};this.report(c),this.em.advancePublish("onError",e)}}}onLoad(e){this.em.on("onLoad",(()=>{e()}))}offLoad(){this.em.off("onLoad")}onError(e){this.em.on("onError",e)}offError(){this.em.off("onError")}run(e){var t=Date.now(),r=this;return new Promise(((n,o)=>{var i={session:this.sessionId,inTensors:e};try{a.RunAsync((0,f.qB)((function(e,a){r.reportInfo.runCount++;var i=Date.now()-t;if(r.reportInfo.runCostAverage=(r.reportInfo.runCostAverage*(r.reportInfo.runCount-1)+i)/r.reportInfo.runCount,e)return r.reportInfo.runErrorMsg=e.errMsg,r.reportInfo.runErrno=e.errno,void o({errMsg:"runInferenceSession:fail "+e});for(var s of Object.keys(a)){var c=a[s].data;c&&ArrayBuffer.isView(c)&&(a[s].data=c.buffer)}n(a)}),"XInference.RunAsync"),i)}catch(e){return void o(e)}}))}destroy(){var e=new Promise(((e,t)=>{var r={session:this.sessionId};try{a.ReleaseAsync((0,f.qB)((function(r,a){r?t(r):e(a)}),"XInference.ReleaseAsync"),r)}catch(e){return void t(e)}})),t={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};return this.report(t),e}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};this.report(e)}report(e){e.isBinding=!0,(0,y.tI)(this.getVersionTask)?this.getVersionTask.then((t=>{e.version=t,d(e)})):(e.version=this.getVersionTask,d(e))}get operator(){return{}}}var k,S,I=r(5436),T=r(4899),C=(r(1591),r(9105),r(1105),r(4237),r(127)),x=new WeakMap,A=new WeakMap;class P{constructor(e={}){var t;try{t=JSON.stringify(e)}catch(e){t=""}if(S=new Promise((e=>{g({success(t){e(t.ver),S=t.ver},fail(){e("-1"),S="-1"}})})),this.reportInfo={runCount:0,runCostAverage:0,runErrorMsg:"",createErrorMsg:"",createSessionParams:t,sessionId:(0,_.M8)(),createErrno:0,runErrno:0,runErrorCount:0},A.set(this,new I.Q("AI",!0)),!k){var r=(0,C.xI)();k=r.version}"8.0.37"===k&&c.IS_ANDROID?setTimeout((()=>{this.notSupport=!0,A.get(this).emit("Error",{errMsg:"createInferenceSession fail: client not support"})})):(0,f.IN)("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{x.set(this,e),A.get(this).emit("Load"),E({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams})},fail:e=>{this.reportInfo.createErrorMsg=e.errMsg,this.reportInfo.createErrno=e.errno,setTimeout((()=>{A.get(this).emit("Error",e)})),E({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,createError:e.errMsg,createErrno:e.errno})}}))}onLoad(e){A.get(this).on("Load",e)}offLoad(e){A.get(this).off("Load",e)}onError(e){A.get(this).on("Error",e)}offError(e){A.get(this).off("Error",e)}run(e={}){if(this.notSupport)return Promise.reject({errMsg:"runInferenceSession fail: client not support",errno:2004002});var t=(0,T.t)(),r={input:{},sessionId:x.get(this)};for(var a in e){var n,o;null!==(n=e[a])&&void 0!==n&&n.data&&null!==(o=e[a])&&void 0!==o&&o.shape&&(r.input[a]={type:e[a].type,shape:e[a].shape,data:t.trace(e[a].data,"rw")})}return new Promise(((e,a)=>{var n=Date.now(),o=this.reportInfo;o.runCount++,(0,f.IN)("runInferenceSession",Object.assign(r,{success({output:r}){var a=Date.now()-n;for(var i in o.runCostAverage=(o.runCostAverage*(o.runCount-1)+a)/o.runCount,r){var s;if("number"==typeof(null===(s=r[i])||void 0===s?void 0:s.data)){var c=r[i].data;r[i].data=t.getTraceBuffer(c),t.untrace(c)}}e(r)},fail:e=>{o.runErrorCount++,o.runErrorMsg=null==e?void 0:e.errMsg,o.runErrno=null==e?void 0:e.errno,a(e)}}))}))}destroy(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};E(e),(0,f.IN)("releaseInferenceSession",{sessionId:x.get(this)}),A.delete(this),x.delete(this)}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};E(e)}}var E=e=>{e.isBinding=!1,(0,y.tI)(S)?S.then((t=>{e.version=t,d(e)})):(e.version=S,d(e))};var O=!1;!r.g.__isAppServiceRemoteDebugMode__&&c.IS_ANDROID&&(O=!0);var M,R;function D(e,t){return t instanceof ArrayBuffer||t.buffer&&t.buffer instanceof ArrayBuffer?{byteLength:t.byteLength}:t}function L(e,t,r,a,n={},o=1){var i,s={},c={func:t,args:n};s.createSessionParams=JSON.stringify(c,D),s.runError=r,s.runCount=o,s.version=(M=M||l.Z.XInference,R=R||(null===(i=M)||void 0===i?void 0:i.GetInferenceEnvInfo().ver)||"0.0.0"),s.resultType=4,s.isBinding=e,s.runCostAverage=a,d(s)}var N,j=r(7412),W=r(4515),F=(0,j.t)(),$=(0,h.Fr)(F.readFile),U=(0,h.Fr)(F.writeFile),B=(0,h.Fr)(F.access),H=(0,h.Fr)(F.mkdir);function q(){return(q=o()((function*(e){try{var t=e.map((e=>function(e,...t){var r;N=N||l.Z.XInference;try{r=new Promise(((r,a)=>{N.InvokeMethod(e,(0,f.qB)((function(e,t){e?a(e):r(t)}),`XInference.InvokeMethod-${e}`),...t)}))}catch(t){w.warn(`[mnxnet]: AsyncInvoke ${e} err: ${t}`)}return r}("GetDeviceScore",e))),r=Promise.all(t).then((t=>{var r={};return e.forEach(((e,a)=>{r[e]=t[a]})),r})).catch((e=>(console.log(`[mnxnet]: benchmark: ${e}`),{})));return yield r}catch(e){return console.log(`[mnxnet]: benchmark err: ${e}`),{}}}))).apply(this,arguments)}var G=W.MV.MNXNET_ROOT_DIR.path,V=G+"/mnxnet_benchmark_v1.json";function J(){return J=o()((function*(e,t={}){if(!Array.isArray(e))return w.warn("[mnxnet]: benchmarkTypes should be array"),{};try{yield B({path:G})}catch(e){yield H({dirPath:G})}var r,a={},n=(null==t?void 0:t.forceRunKeys)||[];try{var{data:o}=yield $({filePath:V,encoding:"utf8"}),i=JSON.parse(o);e.forEach((e=>{i[e]?a[e]=i[e]:n.push(e)}))}catch(t){n=e,1300002===t.errno?w.warn(`[mnxnet]: access ${t} ${JSON.stringify(t)}`):w.warn(`[mnxnet]: access benchmark cache failed: ${JSON.stringify(t)}`)}return r=n,(n=Array.from(new Set(r))).length?function(e){return q.apply(this,arguments)}(n).then((e=>{var t=Object.assign({},e,a),r=JSON.stringify(t);w.warn(`[mnxnet]: rerun benchmark: ${r}`);try{U({filePath:V,data:r,encoding:"utf8"})}catch(e){w.warn(`[mnxnet]: write bench result to file failed: ${e}`)}return t})):a})),J.apply(this,arguments)}var K,z,Q,X,Z=r(5179),Y=r(6365),ee=W.MV.WX_WE_MODEL_CACHE_PATH_PREFIX.path,te=`${ee}/meta.json`,re=`${ee}/vocab_meta.json`,ae=e=>ee+"/"+e+".onnx",ne=(0,j.t)(),oe=(0,h.Fr)(ne.readFile),ie=(0,h.Fr)(ne.saveFile),se=(0,h.Fr)(ne.writeFile),ce=(0,h.Fr)(ne.access),le=(0,h.Fr)(ne.unlink),ue=(0,h.Fr)(ne.mkdir),pe=(0,h.Fr)(Y.o),de=function(){var e=o()((function*(e=1){try{yield ce({path:ee})}catch(e){yield ue({recursive:!0,dirPath:`${ee}`})}try{var{data:t}=yield oe({filePath:1===e?te:re,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=o()((function*(e,t,r=1,a=!1){var n={};if(!a)if(n=yield de(r)){if(n[t]&&n[t].src===e)try{return ae(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else n={};var o=yield pe({url:e,timeout:1e4}),i=yield ie({tempFilePath:o.tempFilePath,filePath:ae(t)});n[t]={src:e,update:Date.now()};var s=Date.now(),c=-1;if(Object.keys(n).length>(1===r?3:10))for(var l of Object.keys(n)){var u=n[l];u.update<s&&(s=u.update,c=l)}if(-1!==c)try{yield le({filePath:ae(c)}),delete n[c]}catch(e){w.error("contentCheck LRU unlink model error: ",e)}return yield se({filePath:1===r?te:re,data:JSON.stringify(n),encoding:"utf8"}),i.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}(),he=e=>{K=e},ve=function(){var e=o()((function*(e){var t;if(!Array.isArray(K)||-1===(t=K.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:a,update:n}=K[t];return yield fe(r,a,2,n)}));return function(t){return e.apply(this,arguments)}}(),ge=(0,h.Fr)(Z.p),ye=function(){var e=o()((function*(e){if(z)return z;var t=yield ve(e),r=yield ge({filePath:t,encoding:"utf-8"});return z=(z=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{})}));return function(t){return e.apply(this,arguments)}}(),_e=r(1235);i.onLoad((()=>{X=(0,h.Fr)(_e.WY)}));var me,be=function(){var e=o()((function*(e,t){if(!e)throw new Error("unexpected: get null ab");if(!t){t=[2.074*Q,Q]}var r=e;"string"==typeof e&&(r=(yield X({url:e,responseType:"arraybuffer"})).data);for(var a=Array.prototype.slice.call(new Uint8Array(r)),n=t[0],o=t[1],i=Array(n).fill(0).map((e=>[])),s=function*(e){for(var t=function*(t){var[r,n,s]=Array(3).fill(0).map(((r,n)=>a[e*o*3+3*t+n]));i[e].push([r,n,s])},r=0;r<o;r++)yield*t(r)},c=0;c<n;c++)yield*s(c);return i}));return function(t,r){return e.apply(this,arguments)}}();function we(){return(we=o()((function*(e,t,r){try{var a=e,n="";t.forEach((e=>{"dictName"===e.key&&(n=e.value),"testRet"===e.key&&(a=e.value.replaceAll("'",'"'))}));var o=yield ye(n),i=r[r.length-1],s=[],c=JSON.parse(a),l=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{l(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{l(e,t)}));else if(s.length<i){var r=e;""!==r&&" "!==r||(r="empty");var a=(t+":"+r).toLowerCase();if(o[a]>=0)s.push(o[a]);else{var n=0;if((a=(r+="").toLowerCase()).length<=20)for(var c=0;c<a.length;c++)for(var u=1;u<5;u++)if(o[a.substr(c,u)]>=0){s.push(o[a.substr(c,u)]),n=1;break}0==n&&(a=(t+":other").toLowerCase(),o[a]>=0&&s.push(o[a]))}}};for(l(c);s.length<i;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}}))).apply(this,arguments)}function ke(){return ke=o()((function*(e,t,r){class a{constructor(){this.children={},this.idx=null}}class n{constructor(e,t){this.root=new a,this.simple=e,this.dict=t}insert(e,t){var r=this.root;for(var n of e)r.children[n]||(r.children[n]=new a),r=r.children[n];r.idx=t}segment(e){var t,r,a=[],n=[],o="",i=null,s=this.root;for(var c of e)if(s.children[c])o+=c,i=(s=s.children[c]).idx;else{var l,u,p;if(o)a.push(o),n.push(null!==(l=null!==(u=i)&&void 0!==u?u:this.dict[o])&&void 0!==l?l:this.simple?1:100);if(o="",i=null,(s=this.root).children[c])o+=c,i=(s=s.children[c]).idx;else a.push(c),n.push(null!==(p=this.dict[c])&&void 0!==p?p:this.simple?1:100)}o&&(a.push(o),n.push(null!==(t=null!==(r=i)&&void 0!==r?r:this.dict[o])&&void 0!==t?t:this.simple?1:100));return[a,n]}}try{var o,i;t.forEach((e=>{"simple"===e.key&&(o=e.value),"dictName"===e.key&&(i=e.value)})),o="true"===o,i="null"===i?null:i;var s=e;try{s=s.toLowerCase(),s=function(e){var t=["head","form","li","movable-view","navigator","br","h4","swiper","option","channel-video","rich-text","p","pre","checkbox","picker","keyboard-accessory","movable-area","h2","switch","live-pusher","em","picker-view-column","i","slider","cover-view","camera","view","label","h3","scroll-view","input","title","radio","cover-image","tr","icon","map","live-player","match-media","canvas","native-component","img","sticky-section","voip-room","text","list-view","checkbox-group","body","select","textarea","page-meta","sticky-header","ol","h1","strong","td","source","progress","page-container","a","functional-page-navigator","video","th","radio-group","div","channel-live","grid-view","ad","u","editor","navigation-bar","ul","h6","table","official-account","button","open-data","span","html","ad-custom","audio","image","swiper-item","root-portal","web-view","share-element","picker-view","h5","code"],r=new RegExp("<(\\/)?(.*?)>","g");return(e=e.replace(r,((e,r,a)=>t.includes(a)?e:" "))).replace(/\s\s+/g," ")}((e=>e.replace(/<wx-/g,"<").replace(/<\/wx-/g,"</"))(function(e){return"<html>"+(e=e.replace(/<([\w-]+)(?:\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[\w-]+))?)*\s*(\/?)>/g,"<$1$2>"))+"</html>"}(s)))}catch(e){throw e}var c,l,u={};i=o?"minivocab_html":i;try{u=yield ye(i)}catch(e){throw e}try{[c,l]=function(e,t,r){var a=new n(r,t);for(var[o,i]of Object.entries(t))i<3209||a.insert(o,i);return a.segment(e)}(s,u,o)}catch(e){throw e}try{var p=r[1]-(o?0:2);if(l.length>p&&(l=l.slice(0,p)),o||(l.unshift(101),l.push(102)),l.length<p)for(;l.length<p;)l.push(0)}catch(e){throw e}return new Int32Array(l).buffer}catch(e){throw e}})),ke.apply(this,arguments)}function Se(){return(Se=o()((function*(e,t,r){try{var a,n,o=e,i=!0;t.forEach((e=>{"startPct"===e.key&&(a=e.value),"minSeqLength"===e.key&&(n=e.value),"dictType"===e.key&&"bert"===e.value&&(i=!1)}));var s=r.reduce(((e,t)=>e*t),1);o=o.slice(o.length*a,o.length*a+s);for(var c=yield ye(i?"minivocab":"alberttiny489kvocab"),l=r[0],u=r[r.length-1],p=[],d=[],f=0;f<o.length+1;f++)if("\n"===o[f]||f===o.length){if(d.length>=n){var h=u-(i?0:2);if(d.length>h&&(d=d.slice(0,h)),i||(d.unshift(101),d.push(102)),d.length<u)for(;d.length<u;)d.push(0);p.push(d)}if(d=[],p.length>=l)break}else d.push(c[o[f]]||(i?1:100));for(;p.length<l;)p.push(new Array(u).fill(0));return new Int32Array(...p).buffer}catch(e){w.warn("reshape occur error:",e)}}))).apply(this,arguments)}var Ie="FusedResize";function Te(e,t){return function(e,t){try{return{res:t(),errMsg:null}}catch(t){return w.warn(`[mnxnet]: ${e} err: ${JSON.stringify(t)}`),{res:null,errMsg:(null==t?void 0:t.errMsg)||"errMsg not defined"}}}(e,(()=>me.InvokeMethod(e,null,t)))}function Ce(){return(new Date).getTime()}function xe(){return(xe=o()((function*(e,t,r){w.warn("[mnxnet] resizeScreenshotRect use native impl");var a,n=.5,o=.5,i="NCHW",s=Math.min(r[0],r[1]);t.forEach((e=>{"mean"===e.key&&(n=e.value),"std"===e.key&&(o=e.value),"inputType"===e.key&&(i=e.value),"resizeType"===e.key&&e.value,"shortEdge"===e.key&&(s=e.value)}));try{me=l.Z.XInference;var c={type:"uint8",shape:[r[0],r[1],3]};w.warn(`[mnxnet]: preprocess dataIn: ${JSON.stringify(c)}`),c.data=e;var u=1/(255*o),p=n/o,d=Ce(),f=!1;"NCHW"===i&&(f=!0),a={image:c,dstHW:[s,s],bias:[p,p,p],scale:[u,u,u],toNCHW:f};var{res:h,errMsg:v}=Te("FuseProcess",a),g=Ce()-d;return L(1,Ie,v,g,a,1),w.warn(`[mnxnet] preprocess cost ${g} ms`),h.data.buffer}catch(e){L(1,Ie,JSON.stringify(e),0,a,1),w.warn(`[mnxnet] preprocess err: ${e}`)}}))).apply(this,arguments)}var Ae="";function Pe(){return Pe=o()((function*(e,t,r){w.warn("[mnxnet]: resizeScreenshotRect called");try{var a=Ae.includes(Ie);if(t.disableDipFuncList&&t.disableDipFuncList.includes(Ie)&&(a=!1,w.warn("[mnxnet]: disable native fused resize by svr")),a&&((me=me||l.Z.XInference)||(w.warn("[mnxnet]: NativeGlobal.XInference not available"),0)))return w.warn("[mnxnet]: enableNativeFusedResize"),function(e,t,r){return xe.apply(this,arguments)}(e,t,r);var n=(new Date).getTime(),o=.5,i=.5,s="NCHW",c=e;t.forEach((e=>{"mean"===e.key&&(o=e.value),"std"===e.key&&(i=e.value),"inputType"===e.key&&(s=e.value),"resizeType"===e.key&&e.value}));var u=yield be(c,r),p=0,d=u.length/u[0].length,f=u[0].length,h=u.length;u.length<u[0].length&&(p=1,d=u[0].length/u.length,f=u.length,h=u[0].length);var v={image:{type:"uint8",shape:[r[0],r[1],3]},dstHW:[f,f],toNCHW:"NCHW"===s},g=Math.ceil(d),y=Math.floor(g/2),_=[];if("NCHW"===s)for(var m=0;m<3;m++)for(var b=0;b<f;b++)for(var k=0;k<f;k++){var S=0,I=0,T=0;T=0===p?Math.floor(b*d):Math.floor(k*d);for(var C=0;C<g;C++){var x=T-y+C;x>=0&&x<h&&(S+=1,I+=0===p?u[x][k][m]:u[b][x][m])}S>0?_.push((I/S/255-o)/i):_.push(0)}else for(var A=0;A<f;A++)for(var P=0;P<f;P++){var E=0;E=0===p?Math.floor(A*d):Math.floor(P*d);for(var O=0;O<3;O++){for(var M=0,R=0,D=0;D<g;D++){var N=E-y+D;N>=0&&N<h&&(M+=1,R+=0===p?u[N][P][O]:u[A][N][O])}M>0?_.push((R/M/255-o)/i):_.push(0)}}var j=(new Date).getTime();return L(0,Ie,null,j-n,v,1),new Float32Array(_).buffer}catch(e){throw e}})),Pe.apply(this,arguments)}function Ee(){return Ee=o()((function*(e,t,r){try{var a=[],n=[];t.forEach((e=>{var t=e.key,r=e.value;a.push(t),r&&r.forceReRun&&n.push(t)}));for(var o=a.length,i=yield function(e){return J.apply(this,arguments)}(a,{forceRunKeys:n}),s=new Float32Array(o),c=0;c<o;++c)s[c]=i[a[c]];return s.buffer}catch(e){return w.warn(`[mnxnet]: mnxnetBenchmark err: ${e}`),new ArrayBuffer(1)}})),Ee.apply(this,arguments)}var Oe=function(){var e=o()((function*(e,t,r){var a,n,o,i,s=!0;if(t.forEach((e=>{"simple"===t.key&&(s="1"===t.value),"startPct"===e.key&&(a=e.value),"maxSize"===e.key&&(n=e.value-(s?0:2)),"dictName"===e.key&&(o=e.value)})),e=e.replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"").toLowerCase(),n<0){var c=e.length*a+n;c<0&&(c=0),e=e.slice(c,e.length*a)}else e=e.slice(e.length*a,e.length*a+n);o||(o=s?"minivocab":"alberttiny489kvocab");try{i=yield ye(o)}catch(e){}for(var l=r[r.length-1]-(s?0:2),u=[],p=0;p<e.length&&p<l;p++)u.push(i[e[p]]||(s?1:i["[UNK]"]));if(s||(u.unshift(i["[CLS]"]),u.push(i["[SEP]"])),u.length<l)for(;u.length<l;)u.push(0);return new Int32Array(u).buffer}));return function(t,r,a){return e.apply(this,arguments)}}();function Me(){return Me=o()((function*(e,t,r){try{var a=0,n=512,o=!0;t.forEach((e=>{"startPct"===e.key&&(a=e.value),"maxSeqLength"===e.key&&(n=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var i,s=e.slice(Math.floor(e.length*a),e.length);try{i=yield r.readWordDict(o?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var c=[],l=0;l<s.length;l++){var u=s[l];i[u]&&i[u]>60&&i[u]<2900&&c.push(i[u])}var p=[],d=n-(o?0:2);if(c.length>d){for(var f=0;f<c.length;f++){var h=c[f];h>270&&h<570||h>580&&h<660||h>790&&h<990||h>1100&&h<1200||h>1300&&h<1900||h>2e3&&h<2800||p.push(h)}p.length>d&&(p=p.slice(0,d))}else p=c;for(o||(p.unshift(101),p.push(102));p.length<n;)p.push(0);return new Int32Array(p).buffer}catch(e){throw e}})),Me.apply(this,arguments)}var Re=r.g.eval,De={mnxnetBenchmark:function(e,t,r){return Ee.apply(this,arguments)},GetTextIdsVec:Oe,GetTextIdsSimple:(e,t,r)=>Oe(e,t,r,!0),GetTextIdsMultiDimension:function(e,t,r){return Se.apply(this,arguments)},GetTrimTextProcrss:function(e,t,r){return Me.apply(this,arguments)},exceptionRetProcess:function(e,t,r){return we.apply(this,arguments)},resizeScreenshotRect:function(e,t,r){return Pe.apply(this,arguments)},html2WordEmbedding:function(e,t,r){return ke.apply(this,arguments)}},Le=function(){var e=o()((function*(e,t,r,a,n,o){var i=void 0!==o?o:e[t],s=De[r];if(s)try{return yield s(i,a,n)}catch(e){throw e}return i}));return function(t,r,a,n,o,i){return e.apply(this,arguments)}}(),Ne=function(){var e=o()((function*(e,t,r,a,n){return new Promise(((o,i)=>{var s=o,c=i;try{je(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:s,safeEvalExecCallbackReject:c,env:{readWordDict:ye,shape:a,transformRGB:be,sdkUtils:n}})}catch(e){i(e)}}))}));return function(t,r,a,n,o){return e.apply(this,arguments)}}(),je=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");Re(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)},We=r(1190);JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}');var Fe,$e,Ue,Be,He,qe,Ge={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5,modal:6,toast:7,loading:8},Ve=e=>Ge[e],Je=r(6342),Ke=r(5473),ze=()=>Fe,Qe=!1,Xe=new Promise((e=>Ue=e)),Ze=function(){var e=o()((function*(){if(!$e&&!Qe){Qe=!0;try{var e=yield ot();if(!Array.isArray(e))return Ue(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:a,domTextPreset:n,regCheckCfg:o,modelName:i,taskId:s,debug:c,key:l,cliParamList:u,isScreenshot:p,isMultiModal:d,typicalShape:f,allowQuantize:h,allowNPU:v,onlyInteractionCheck:g,interactionPreset:y,runTiming:_}=e,{after_load_interval:m,after_load_maxcnt:b,at_redirect:w,most_cnt:k}=null!=a?a:{};return r.allowQuantize=h,r.allowNPU=v,r.typicalShape=f,($e={}).mostCnt=k,$e.currentCnt=0,$e.afterLoadInterval=m,$e.afterLoadMaxCnt=b,$e.atRedirect=w,$e.modelUrl=t,$e.cfg=r,$e.domTextPreset=n,$e.regCheckCfg=o,$e.modelName=i,$e.taskId=s,$e.debug=c,$e.key=l,$e.cliParamList=u,$e.isScreenshot=p,$e.isMultiModal=d,$e.typicalShape=f,$e.allowNPU=v,$e.allowQuantize=h,$e.interactionPreset=y,$e.onlyInteractionCheck=g,$e.runTiming=_,Fe=s,$e})),Ue(e)}catch(e){Ue(null)}}}));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=o()((function*(e,t=!1){Ze();var r=yield Xe;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}(),et=!1,tt=()=>et=!0,rt=1,at=(e,t={})=>{if(et){var r=ze(),a=t.sessionId;a&&delete t.sessionId;var n={task_id:r,xnet_moment:e,...t,sessionid:a,report_id:rt++,report_time:Date.now()};(0,f.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:n})}},nt=["dom_text","dom_html","dom_content","dom","screenshot"],ot=()=>new Promise(((e,t)=>{var r,a,n,i;if(null!==(r=Je.default.appContactInfo)&&void 0!==r&&null!==(a=r.operationInfo)&&void 0!==a&&null!==(n=a.jsonInfo)&&void 0!==n&&null!==(i=n.op_info)&&void 0!==i&&i.skip_async_secinfo)return e({close:!0});(0,Ke.o)().then(function(){var r=o()((function*(r){try{var a,n;if(null===(a=r.data)||void 0===a||null===(n=a.wxa_client_check)||void 0===n||!n.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&he(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&tt();var o=[];for(var i of r.data.wxa_client_check.check_logic.xnet_list){var s,c=yield st({xnet:i,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);c.taskId=r.data.wxa_client_check.task_id,c.checkConfig=r.data.wxa_client_check.timing,c.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,c.debug_codes=c.debug?r.data.wxa_client_check.debug_code:null,c.runTiming=null===(s=i.sub_timing)||void 0===s?void 0:s.event_list,o.push(c)}if(!o.length&&r.data.wxa_client_check.check_logic.reg_list){var l=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{l.push(Ve(e))})),l.length){var u={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:l};u.taskId=r.data.wxa_client_check.task_id,u.checkConfig=r.data.wxa_client_check.timing,u.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,o.push(u)}}1===r.data.wxa_client_check.timing.at_redirect&&1,e(o)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),it=[],st=function(){var e=o()((function*(e,t,r){var a,n={},{model_url:i,model_name:s,cli_param_list:c=[],svr_param_list:l=[],conf_name:u,allowNPU:p,allowQuantize:d,typicalShape:f}=e.xnet||{},h=null!==(a=e.reg_list)&&void 0!==a?a:[],v=[],g=!1,y=!1;if([...h,...c].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(y=!0),!v.includes(t)&&t&&nt.includes(t)&&v.push(Ve(t))})),i){var _={};c.forEach(((e,t)=>{var r;if(null!==(r=e.union)&&void 0!==r&&r.length){_[e.key]=e.union;var a="screenshot"!==e.preset_data,n="screenshot"===e.preset_data;e.union.forEach((t=>{"screenshot"!==c[t].preset_data?a=!0:n=!0,a&&n&&(e.isMultiModal=!0)}))}if(e.preposition){if(!c[t])throw new Error(`unexpect config: ${e.key} exist an illegal preposition`);c[t].asPreposition=!0}}));for(var m=function*(e){var t,a,i,s=c[e],{preset_data:l,pre_proc:u}=null!=s?s:{},{proc_name:p,param:d}=null!=u?u:{};n[s.key]={type:s.type||"int32",shape:s.shape_list,getData:(i=o()((function*(e,t,{customShape:a,sdkUtils:o={}}={}){var i;if(r&&-1!==(i=r.findIndex((e=>e.func_name===p)))){var c,u=r[i].code;try{c=yield Ne(u,void 0!==t?t:e[Ve(l)],d,null!=a?a:s.shape_list,o)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return c}if(n[s.key].prepositionPreHandler){var f=n[n[s.key].prepositionPreHandler];if(f){var h=yield f.getData(e,t,{customShape:a});return yield Le(h,Ve(l),p,d,null!=a?a:s.shape_list,t)}}return yield Le(e,Ve(l),p,d,null!=a?a:s.shape_list,t)})),function(e,t){return i.apply(this,arguments)}),prepositionPreHandler:null===(t=c[s.preposition])||void 0===t?void 0:t.key,isMultiModal:!!s.isMultiModal,modalType:"screenshot"===s.preset_data?"image":"text",param_ctrl:s.param_ctrl||{}},n[s.key].isMultiModal&&(g=!0),Object.keys(_).forEach((t=>{if(-1!==_[t].indexOf(e)){var r;if(null!==(r=s.union)&&void 0!==r&&r.length)throw new Error(`unexpect config: unionsponsor: ${s.key} is also the unionmember`);n[s.key].unionMember=!0}})),null!==(a=s.union)&&void 0!==a&&a.length&&(n[s.key].unionMembers=s.union.map((e=>({key:c[e].key,ready:!1}))))},b=0;b<c.length;b++)yield*m(b);l.forEach((e=>{n[e.key]={type:e.type,shape:e.shape_list,data:(0,We.RG)(e.base64_data)}}))}it.push(...v),it=Array.from(new Set(it));var w=[];y||it.forEach((e=>{6!==e&&7!==e&&8!==e||w.push(e)}));var k=!1;return(it=it.filter((e=>!(6===e||7===e||8===e)))).length||(k=!0),{onlyInteractionCheck:k&&!y,modelName:s,model:i,config:n,domTextPreset:it,interactionPreset:w,regCheckCfg:h,key:u,cliParamList:c,isScreenshot:y,isMultiModal:g,allowNPU:!!p,allowQuantize:!!d,typicalShape:f}}));return function(t,r,a){return e.apply(this,arguments)}}(),ct=function(){var e=o()((function*(e,t,r,{customShape:a,debugCustomReport:n}={}){for(var o of Object.values(e))"function"==typeof o.getData&&(o.data=yield o.getData(t,r,{customShape:a,sdkUtils:{debugCustomReport:n}}));return e}));return function(t,r,a){return e.apply(this,arguments)}}(),lt=function(){var e=o()((function*(e,t){return fe(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),ut=(r(9370),r(1821),(0,u.v)("MultiModalCheck",{noCache:!0})),pt=(e,t,r={})=>new Promise(((a,n)=>{if(Be)return a(Be);lt(e,t).then((e=>{var t={...r};t.typicalShape||delete t.typicalShape;var o=((e={})=>O?new b(e):new P(e))({model:e,...t});o.onLoad((()=>{Be=o,a(o)})),o.onError((e=>{Be||n(e)}))})).catch((e=>{n(e)}))})),dt=function(){var e=o()((function*(e,t,r,a,n,o,{customShape:i,isMultiModal:s,screenshotCheck:c,debug:l,preMultiDomContent:u=!1}={}){void 0===n&&(n={});var p,d=[];if(!t)return{xnetRes:null,errMsg:null,logicCost:d};try{var h=Date.now();at(2,{sessionId:e}),p=yield pt(t,r,a),at(3,{sessionId:e});var v=Date.now()-h;d.push({logic_type:2,time_cost:v})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:d}}try{var g=Date.now();if(at(4,{sessionId:e}),s&&c)return ut.advancePublish("requestScreenshotData",{shape:i,data:o},!0),{isMultiModal:!0};if(s){var y,_=Object.entries(a).filter((([e,t])=>"text"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{}),m=((e,t)=>r=>{(0,f.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:{task_id:e,sessionid:t,pre_proc_log:r,report_id:rt++}})})(ze(),e);yield ct(_,n,o,{customShape:i,debugCustomReport:m});var b=new Promise((e=>{y=e}));ut.on("requestScreenshotData",(e=>{y(e)}));var k=yield b,S=Object.entries(a).filter((([e,t])=>"image"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{});yield ct(S,n,k.data,{customShape:k.shape})}else u||(yield ct(a,n,o,{customShape:i}));at(5,{sessionId:e});var I,T={},C=function*(){if("allowNPU"===x||"allowQuantize"===x||"typicalShape"===x)return"continue";var e,t=a[x];if(t&&t.param_ctrl&&t.param_ctrl.remove_from_model_input)return"continue";if(T[x]=a[x],l&&"image"===a[x].modalType)try{I=yield(a[x].data,a[x].shape[2],a[x].shape[3],e||Promise.resolve(""))}catch(e){}};for(var x in a)yield*C();var A=Date.now()-g;d.push({logic_type:3,time_cost:A});var P=Date.now(),E=yield p.run(T);for(var O of(p.reportCurrentResult(),Object.keys(a))){var M=a[O];M&&M.param_ctrl&&M.param_ctrl.do_report&&(E[O]=M)}var R=Date.now()-P;return d.push({logic_type:4,time_cost:R}),at(6,{sessionId:e}),{xnetRes:E,logicCost:d,multimodalScreenshotId:I}}catch(e){return w.warn("xnet inference error: ",e),{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:d}}}));return function(t,r,a,n,o,i){return e.apply(this,arguments)}}(),ft=new Promise((e=>{e}));Je.default.onReady((()=>{qe=(0,s.J)("reportRequestErrorByAI")}));var ht=()=>He,vt=function(){var e=o()((function*(e){if(He&&qe){var t=yield Ye(He);if(t){var{modelUrl:r,modelName:a,cfg:n}=t,o=(yield dt(void 0,r,a,n,void 0,e)).xnetRes;return o=(e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null})(o),!!o&&o[0]-o[1]}}}));return function(t){return e.apply(this,arguments)}}()},5310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});const a={query:{},scene:0,sceneNote:""}},1105:(e,t,r)=>{"use strict";r.d(t,{hI:()=>s});const a={emitter:new(r(9661).Z),puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}};var n=r(7445),o=new WeakMap,i=e=>{for(var t in a.puidToPluginWX)if(a.puidToPluginWX[t]===e)return t},s=e=>{if((0,n.isGame)()){var t=(r=e,o.get(r));return t&&t.provider?t.provider:void 0}return a.pluginIDs[i(e)];var r};Object.keys},9806:(e,t,r)=>{"use strict";r.d(t,{Av:()=>p,Fr:()=>c,Iy:()=>d,Y6:()=>i,v7:()=>u,vB:()=>l});var a=r(6342),n=r(7445),o=r(6142);function i(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}var s=(()=>Object.assign)();function c(e){return(t={})=>new Promise(((r,a)=>{e(s(t,{success:r,fail:a}))}))}function l(){return n.IS_DEVTOOLS?"boolean"==typeof a.default.urlCheck?!a.default.urlCheck:!__devtoolsConfig.urlCheck:!0===a.default.debug}function u(e,t){return t.reduce(((t,r)=>((0,o.o8)(e[r])||(t[r]=e[r]),t)),{})}function p(){return a.default.appLaunchInfo&&"singlePage"===a.default.appLaunchInfo.mode}var d=(e,t)=>{var r;return function(a,...n){if(r)a.success&&a.success(r),a.complete&&a.complete(r);else{var o=a.success,i=a.complete;a.success=e=>{r=t(e),o&&o(e),i&&i(e)},e(a,...n)}}}},9067:(e,t,r)=>{"use strict";r.d(t,{Ei:()=>a,Xl:()=>n});var a=function(e,t){if("string"!=typeof e)return 0;var r,a,n,o=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(a=0,n=e.length;a<n;a++)o+=(r=e.charCodeAt(a))<=65535?2:4;else for(a=0,n=e.length;a<n;a++)o+=(r=e.charCodeAt(a))<=127?1:r<=2047?2:r<=65535?3:4;return o};var n=e=>{var t="";return Object.keys(e).forEach(((r,a)=>{try{var n=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==a&&(t+="&"),t+=n}catch(e){}})),t}},4366:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(9807),n=r(667),o=[],i=e=>{o.push(e)};n.U.on("appServiceCacheMessage",(()=>{var e=(0,a.getCacheMsgs)();e.length&&(e.forEach((e=>{o.forEach((t=>{t(e)}))})),(0,a.clearCacheMsgs)())})),n.U.on("appServiceMessage",(e=>{o.forEach((t=>{"function"==typeof t&&t(e)}))}))},4813:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var a=e=>{e={data:e,__cmd__:"data"},d.postMsgToAppService(e)}},9990:(e,r,a)=>{"use strict";a.r(r),a.d(r,{createSharedArrayBuffer:()=>p.Y2,onMessage:()=>c.p,postMessage:()=>u.o});var n=a(6342),o=a(8551),c=a(4366),u=a(4813),p=a(2657);a.g.Reporter=v,a.g.__errorTracer__=h,a.g._WebAssembly=o._WebAssembly,a.g.Foundation=i,a.g.WXConfig=n.default,a.g.wxConsole=m,a.g.wxNativeConsole=w,a.g.wxPerfConsole=b,a.g.__libVersionInfo__=t,a.g.wxRunOnDebug=s,a.g.WeixinJSBridge=l},8551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_WebAssembly:()=>f});var a=r(667),n=r(1399),o=r(5179),i=r(7445),s=r(714),c="weapp://wechat-game-runtime";function l(e={}){var{filePath:t,encoding:r,success:a,fail:n,complete:o}=e;return fetch(`${c}/wxfs/${btoa(t)}`,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({filePath:t})}).then((e=>"string"==typeof r?e.text():e.arrayBuffer())).then((e=>{"function"==typeof a&&a({data:e,errMsg:"readFileXhr:ok"}),"function"==typeof o&&o({data:e,errMsg:"readFileXhr:ok"})})).catch((e=>{e.errMsg=`readFileXhr:fail ${e.message}`,"function"==typeof n&&n(e),"function"==typeof o&&o(e)}))}function u(e){var t=(0,a.xP)();a.U.once(String(t),(t=>{"readCompressedFile:ok"===t.errMsg?e.success(t):e.fail(t)})),d.postMsgToAppService({__cmd__:"readCompressedFile",filePath:e.filePath,compressionAlgorithm:e.compressionAlgorithm,callbackId:t})}var p=null;p=d.WebAssembly,d.WebAssembly?p=d.WebAssembly:n.Z.WebAssembly?p=n.Z.WebAssembly:"undefined"!=typeof WebAssembly&&(p=WebAssembly),p&&(globalThis.WXWebAssembly={Table:p.Table,Memory:p.Memory,Global:p.Global,Instance:p.Instance,instantiate(e,t={}){var r=a.qU.pluginId;return r&&"string"==typeof e&&(0===e.indexOf(`__plugin__/${r}/`)||(e=`__plugin__/${r}/${e=e.replace(/^\//,"")}`)),"string"!=typeof e?Promise.reject(new Error("path must be a string")):/^(wxfile|https?):/.test(e)?Promise.reject(new Error("invalid file path")):new Promise(((r,a)=>{if(i.IS_IOS&&!i.WK_RENDERER_H5||i.IS_ANDROID){var n=p.instantiate(e,t);if(i.IS_ANDROID&&"function"==typeof n.then){var c=!1;n.then((()=>{c=!0}));var d=()=>{setTimeout((()=>{c||d()}),5)};d()}r(n)}else{var f=o.p;i.WK_RENDERER_H5&&(f=l),/\.br$/.test(e)&&!i.IS_PC&&(f=i.WK_RENDERER_H5?u:s.$),f({compressionAlgorithm:"br",filePath:e,success(e){p.instantiate(e.data,t).then((e=>{r(e)}),(e=>{a(e)}))},fail({errMsg:e}){a(new Error(e.replace(/^\w+:fail\s*/,"")))}})}}))}});var f={Table:p.Table,Memory:p.Memory,Global:p.Global,Instance:p.Instance,compile:p.compile,compileStreaming:p.compileStreaming,instantiateStreaming:p.instantiateStreaming,validate:p.validate,CompileError:p.CompileError,LinkError:p.LinkError,Module:p.Module,RuntimeError:p.RuntimeError,instantiate:(e,t,r)=>Promise.resolve(p.instantiate(e,t,r))}},1944:(e,t,r)=>{"use strict";r.r(t);var a=r(6142);var n={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>${e.stack?"\n"+e.stack:""}`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`,BigInt:e=>`<BigInt: ${e.toString()}>`};function o(e){var t=function(e){var t=(0,a.Em)(e);if("Number"===t){if((0,a.i2)(e))return"NaN";if((0,a.AT)(e))return"Infinity"}else if("Object"===t){if((0,a.Ft)(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&(0,a.fU)(e))return"TypedArray";return t}(e);return t in n?n[t]?(0,a.mf)(n[t])?[n[t](e),!0]:[n[t],!0]:[e,!0]:[null,!1]}function i(e){var t=new WeakMap,r=0;return function e(n,i){var s,[c,l]=o(n);return l?c:r>3e3?"<Hidden>":t.has(n)?`<Circular: ${t.get(n)}>`:(t.set(n,i),r++,(0,a.kJ)(n)?n.map(((t,r)=>e(t,`${i}[${r}]`))):(s={},Object.keys(n).forEach((t=>{s[t]=e(n[t],`${i}.${t}`)})),s))}(e,"@")}function s(e,t){try{return(e=Array.prototype.slice.call(e)).map(i)}catch(e){return void("undefined"!=typeof inSnapshotCheck&&inSnapshotCheck&&"function"==typeof t&&t("[snapshot check] transformLogArgs error: ",e))}}var c="log",l="info",u="warn",p="error",f="debug",h="time",v="timeEnd";var g=r(6342),y=r(7445),_=()=>{};_=function(e,t){var r=function(e,t,r=!0){if(r||e===u||e===p){var a=s(t);if(void 0!==a)return{level:e,logs:a}}}(e,t,"devtools"===g.default.platform||g.default.debug);r&&d.postMsgToAppService({__cmd__:"log",logData:r})},y.IS_PC||(globalThis.console={log(){_(c,arguments)},info(){_(l,arguments)},warn(){_(u,arguments)},error(){_(p,arguments)},debug(){_(f,arguments)},time(){_(h,arguments)},timeEnd(){_(v,arguments)},group(){},groupEnd(){}})},9807:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clearCacheMsgs:()=>S,getAllowPostMessage:()=>C,getCacheMsgs:()=>k,getInjectFilePath:()=>T,getScriptPath:()=>I});var n,o=r(667),s=globalThis,c=function(e){e&&(void 0===n&&(n=s.require),e.startsWith("/")&&(e=e.substring(1)),n(e))},l=r(2657),u=r(6466),p=r(1538),f=r(7445),h=0,v={},g={};(0,l.En)((e=>{var t=0,r=0;Object.assign(e,{new(e){var r=++t+h;return v[r]=e,d.postMsgToAppService({__cmd__:"setSharedBuffer",__buffer__:e,__id__:r},!1),r},get:e=>v[e],destroy(e){delete v[e]},Lock(e,t){var a=++r+h;return g[a]=t,d.postMsgToAppService({__cmd__:"lockSharedBuffer",__sid__:e,__lid__:a}),a},Unlock(e,t){d.postMsgToAppService({__cmd__:"unlockSharedBuffer",__sid__:e,__lid__:t})}})}));var y,_,m,b=!1,w=[],k=()=>w,S=()=>{w=[]},I=()=>y,T=()=>_,C=()=>b;o.U.on("codeInjectDone",(()=>{b=!0,o.U.emit("appServiceCacheMessage")})),d.onAppServiceMsg((e=>{var t=e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__;if(delete e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__,void 0===m&&(m=(0,u.getSupportMultiContext)()),(e=(0,l.IF)(e))&&e.__cmd__){if("requireScript"===e.__cmd__)if(m){var{injectFilePath:r,pluginId:n}=e.__options__;_=r,y=e.__script__,o.U.emit("syncWorkerVariable",{pluginId:n,injectPath:r,scriptPath:y})}else{if(o.qU.pluginId=e.__options__&&e.__options__.pluginId,o.qU.workerId=e.__options__&&e.__options__.workerId,h=Number(`.${e.__id__}`),f.IS_ANDROID)if(e.__options__&&e.__options__.__sdk_skip_protect);else{var i=(0,p.ls)();try{i.accessSync("wxfile://usr/")}catch(e){}Object.freeze(String.prototype),Object.defineProperty(globalThis,"String",{configurable:!1}),Object.freeze(Object.prototype),Object.defineProperty(globalThis,"Object",{configurable:!1}),Object.freeze(a.prototype),Object.defineProperty(globalThis,"Function",{configurable:!1})}c(e.__script__)}else if("setSharedBuffer"===e.__cmd__)v[e.__id__]=e.__buffer__;else if("lockSharedBuffer"===e.__cmd__)"function"==typeof g[e.__lid__]&&(g[e.__lid__](),delete g[e.__lid__]);else if("callback"===e.__cmd__){var{originalMsg:s,result:d}=e,{callbackId:k}=s;o.U.emit(k,d)}}else e=e.data,m?(t&&(e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=t),b?o.U.emit("appServiceMessage",e):w.push(e)):o.U.emit("appServiceMessage",e)})),i.onFrameworkError((e=>{"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),console.error("[worker] Uncaught FrameworkError",e)})),i.onUnhandledError((e=>{"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),console.error("[worker] Uncaught",e)})),i.onUnhandledRejection(((e={})=>{"function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),console.error("[worker] Uncaught (in promise)",e.reason)}))},8131:(e,t,r)=>{var{getSupportMultiContext:a,setSupportMultiContext:n}=r(6466),{IS_PC:o}=r(7445),{initWorkerSubContext:s}=r(4904);if(r(1944),r(9807),r(8551),!0===i.env.isWXLibWorker)e.exports=r(9990),n(!1);else if("function"==typeof r.g.workerInvokeJsApi){var c=a(),l=r(9846);c?(s({exportApi:l,delay:o}),e.exports=null):e.exports=l}f.hijack()},667:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,qU:()=>n.r,xP:()=>s});var a=r(9661),n=r(5863),o=new a.Z,i=0,s=()=>++i},1538:(e,t,r)=>{"use strict";r.d(t,{zp:()=>le,Sv:()=>oe,ls:()=>Z});var a=r(6365);const o=n.applyDecoratedDescriptor;var i,s=r.n(o),c=r(5436),l=r(3140),u=r(9806),p=r(6142),d=r(2147),f=r(8929),v=r(7858),g=0,y=new WeakMap,_=new WeakMap,m=new WeakMap,b=new WeakMap,k={},S=new c.Q;(0,d.jQ)("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,a=k[r];if(a){var n=y.get(a);if(delete e.state,delete e.socketTaskId,a){if("open"===t){(0,v.gA)(),a.readyState=a.OPEN;var o=m.get(a).url,i=Date.now()-b.get(a),s=e.statusCode,c=m.get(a).__skipDomainCheck__,u=e.profile;(0,l.P5)({functionName:"connectSocket",keyParam:o,result:1,costTime:i,errorMsg:"",statusCode:s,__skipDomainCheck__:c,dataLength:0,responseDataLength:0,profile:u,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}else"close"!==t&&"error"!==t||(a.readyState=a.CLOSED);S.emit(`${n}${t}`,e),S.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,a),"close"===t&&(delete k[r],S.removeAllListeners(`${n}open`),S.removeAllListeners(`${n}close`),S.removeAllListeners(`${n}error`),S.removeAllListeners(`${n}message`))}}}));var I=function(e,t){S.on(`${y.get(this)}${e}`,h.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},T=(i=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0});var a,n=g++;y.set(this,n),m.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=h.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),b.set(this,Date.now()),(0,p.hj)(t.timeout)||(t.timeout=0);var o=t.forceCellularNetwork,i=()=>{var e={...t,forceCellular:o};(0,d.IN)("createSocketTask",e,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{_.set(this,e.socketTaskId),k[e.socketTaskId]=this},beforeFail:e=>{var r=t.url,n=Date.now()-b.get(this),o=t.__skipDomainCheck__;a=e.errMsg,(0,l.P5)({functionName:"connectSocket",keyParam:r,result:2,costTime:n,errorMsg:a,statusCode:"",__skipDomainCheck__:o,dataLength:0,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:e.errno,queueLength:0})}}),a&&(this.readyState=this.CLOSED,setTimeout((()=>{S.emit(`${n}error`,{errMsg:a})}),0))},s=()=>{(0,p.mf)(t.customCheck)?t.customCheck(t,(e=>{e?((0,d.YG)("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{S.emit(`${n}error`,{errMsg:e})}),0)):i()})):i()};o?"boolean"!=typeof o?(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof o),o=!1,s()):(0,v.Nv)().then((e=>{e||(o=!1),s()})):s()}send(e){if(this.readyState===this.OPEN){var t=Date.now();(0,d.IN)("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:_.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var a=m.get(this).url,n=r.errMsg.indexOf("ok")>-1?1:2,o=Date.now()-t,i=r.errMsg,s=m.get(this).__skipDomainCheck__,c=(0,u.Y6)(e.data);(0,l.P5)({functionName:"sendSocketMessage",keyParam:a,result:n,costTime:o,errorMsg:i,statusCode:"",__skipDomainCheck__:s,dataLength:c,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}}})}else(0,d.YG)("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){(0,d.IN)("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:_.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){I.call(this,"open",e)}onClose(e){I.call(this,"close",e)}onMessage(e){I.call(this,"message",e)}onError(e){I.call(this,"error",e)}},s()(i.prototype,"send",[f.Qu],Object.getOwnPropertyDescriptor(i.prototype,"send"),i.prototype),s()(i.prototype,"close",[f.Qu],Object.getOwnPropertyDescriptor(i.prototype,"close"),i.prototype),i),C=r(1399),x=r(6342),A=(e,t)=>(0,d.ZI)(e,`WSS.${t}`),P=5;x.default.onReady((()=>{x.default.wxAppInfo&&x.default.wxAppInfo.maxWebsocketConnect&&(P=x.default.wxAppInfo.maxWebsocketConnect)}));var E=new WeakMap,O=new WeakMap,M=new WeakMap,R={},D=new c.Q,L=0,N=0;function j(e,t,r){t.errMsg=t.errMsg||"ok";var a="ok"===t.errMsg;(0,d.FE)({name:e,args:r,success:a,errMsg:t.errMsg})}class W{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var a=C.Z.WSS,n=L++,o=t.workerId?new a(t.workerId):new a;delete t.workerId,E.set(this,t),O.set(this,o),M.set(this,n);var i=Date.now();o.onopen=A(((e,r)=>{this.readyState!==this.CLOSED&&((0,v.gA)(),N++,this.readyState=this.OPEN,D.emit(`${n}open`,{header:e,profile:r}),D.emit("onSocketOpen",{header:e,profile:r},this),(0,l.P5)({functionName:"connectSocket",keyParam:t.url,result:1,costTime:Date.now()-i,errorMsg:"",statusCode:"",__skipDomainCheck__:t.__skipDomainCheck__,dataLength:0,responseDataLength:0,profile:r,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0}))}),"onopen"),o.onclose=A(((e,t)=>{N--,this.readyState=this.CLOSED,D.emit(`${n}close`,{code:e,reason:t}),D.emit("onSocketClose",{code:e,reason:t},this)}),"onclose"),o.onmessage=A((e=>{this.readyState!==this.CLOSED&&((0,p.eP)(e)&&(e.__proto__=ArrayBuffer.prototype),D.emit(`${n}message`,{data:e}),D.emit("onSocketMessage",{data:e},this))}),"onmessage"),o.onerror=A(((e,t)=>{N--,this.readyState=this.CLOSED,setTimeout((()=>{D.emit(`${n}error`,{errCode:e,errMsg:t}),D.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)}),"onerror");var s=()=>{var e={errMsg:""};if(N>=P)this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${P}`;else{var r=(0,u.v7)(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile","forceCellularNetwork"]);r.forceCellularNetwork&&"boolean"==typeof r.forceCellularNetwork?(0,v.Nv)().then((a=>{a&&(r.forceCellular=!0),r.forceCellularNetwork=void 0,e.errMsg=o.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(R[n]=this),j("connectSocket",e,t)})):(r.forceCellularNetwork&&"boolean"!=typeof r.forceCellularNetwork&&(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=void 0),e.errMsg=o.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(R[n]=this),j("connectSocket",e,t))}};(0,p.mf)(t.customCheck)?t.customCheck(t,(e=>{e?j("connectSocket",{errMsg:e},t):s()})):(s(),(({api:e,url:t})=>(0,u.vB)()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((r,a)=>{(0,d.IN)("checkNetworkAPIURL",{api:e,url:t,success:r,fail:a})})))({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;D.emit(`${n}error`,{errMsg:t}),D.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:O.get(this).send(e.data)};(e.success||e.fail||e.complete)&&j("sendSocketMessage",t,e)}close(e={}){this.readyState,j("closeSocket",{errMsg:O.get(this).close((0,p.hj)(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){D.on(`${M.get(this)}open`,h.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){D.on(`${M.get(this)}close`,h.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){D.on(`${M.get(this)}message`,h.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){D.on(`${M.get(this)}error`,h.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var F=r(7445),$=r(4500),U=r(182),B=r(5133),H=r(9105),q=r(6347),G=T,V=k;r.g.__isAppServiceRemoteDebugMode__||(0,C.a)((e=>{e.WSS&&x.default.onReady((()=>{var t=!1,r=F.IS_IOS?"clicfg_appbrand_ios_native_socket_wcwss_new":1;1===r?t=!0:(0,$.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(t=!0)}});var a=(0,U.J)("bindingWebSocket");t||a||e.WSS.force?(G=W,V=R,(0,B.Tk)(/^connectSocket/,2),w.info(`binding socket, abtest: ${t}, permission: ${a}`)):w.info(`jsapi socket, abtest: ${t}, permission: ${a}`)}))}));var J=new WeakMap,K={};function z(e,t){return K[t]||(K[t]=new WeakMap,S.on(`onSocket${t}`,Q(t)),D.on(`onSocket${t}`,Q(t))),function(r){(0,d.r3)(`onSocket${t}`,r,p.ZT)&&K[t].set(e,r)}}function Q(e){return function(t,r){var a=r.__socketInstance__,n=K[e].get(a),o=J.get(a);n&&r===o&&h.surroundThirdByTryCatch(n,`at onSocket${e} callback function`)(t)}}var X,Z,Y=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){r=Object.assign({},r,{url:`${r.url}`});var{workerId:a}=r;if(delete r.workerId,(0,d.r3)("connectSocket",r,{url:""}))if(!1!==(0,q.mQ)(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var n={};r.header&&(n=(0,H.Nf)(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__,(0,U.J)("skipDomainCheck_socket")&&(r.__skipDomainCheck__=!0);try{var o=J.get(t),i=new G(t,Object.assign({},r,{header:n,...a?{workerId:a}:{}}));return o&&o.readyState!==o.CLOSED?o.readyState:J.set(t,i),i}catch(e){return e.message,void(0,d.YG)("connectSocket",r,e.message)}}else(0,d.YG)("connectSocket",r,`invalid url "${r.url}"`)},closeSocket(e){var r=J.get(t);for(var a in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):(0,d.YG)("closeSocket",e,"WebSocket is not connected"),V){var n=V[a];n.__socketInstance__===t&&(n.readyState=n.CLOSED,n!==r&&n.close())}},sendSocketMessage(e){var r=J.get(t);r&&r.readyState===r.OPEN?r.send(e):(0,d.YG)("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:z(t,"Open"),onSocketClose:z(t,"Close"),onSocketMessage:z(t,"Message"),onSocketError:z(t,"Error")}},ee=Y(),te=r(4237),re=(r(9976),()=>{var e;X||(X=(0,te.Dc)(),((e={})=>{(0,U.J)("startQuotaControl")?(0,d.IN)("setFileSpaceStatistics",e):(0,d.FE)({name:"setFileSpaceStatistics",args:e,errno:void 0,errMsg:"not permission",success:!1})})({enable:"1"===(null===x.default||void 0===x.default||null===(e=x.default.expt)||void 0===e?void 0:e.clicfg_android_wagame_frontend_set_file_space_statistics_status)}));return X}),ae=r(2338),ne=r(667),oe=(e={})=>{var t={...e,workerId:ne.qU.workerId};return(0,a.S)(t)},ie=!1,se=e=>{var t,r=ne.qU.workerId;if("app"===e)t=(0,ae.ls)();else{if("game"!==e)throw Error("context must app or game");t=re()}if(!ie){var a=t.readFile,n=t.readFileSync;t.readFile=(e={})=>{var t={...e,workerId:r};return a(t)},t.readFileSync=(...e)=>{for(var t=Array.from(e),a=t.length;a<4;a++)t[a]=void 0;return t[4]=r,n(...t)},ie=!0}return t};x.default.onReady((()=>{Z=(0,F.isGame)()?()=>se("game"):()=>se("app")}));var ce=ee.connectSocket,le=(e={})=>{var t={...e,workerId:ne.qU.workerId};return ce(t)}},4904:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getWorkerGlobalVariable:()=>c,initWorkerSubContext:()=>l});var a,n=r(7445),o=r(667),i=(r(4366),new Promise((e=>{a=e}))),s={pluginId:void 0},c=()=>s,l=({delay:e,exportApi:t})=>{var r=g.allocEmpty("worker_sub_context"),a=()=>{var e;n.IS_PC||g.loadLibFiles(r,["WAWorkerSubContext.js"],(e=>{console.error("loadlib: WAWorkerSubContext.js fail: ",e)})),g.subscribe("codeInjectDone",(()=>{o.U.emit("codeInjectDone")})),g.publish("envReady",{env:{...globalThis.worker,...t},globalObject:{setTimeout:setTimeout,console:console,setInterval:setInterval,clearTimeout:clearTimeout,clearInterval:clearInterval,WXWebAssembly:globalThis.WXWebAssembly},runDevCode:()=>i.then((t=>{var{pluginId:a,injectPath:o,scriptPath:i}=t;e=i,s.pluginId=a;var c=o;return f.overwriteSetPrototypeOf(),f.deepFreezeGlobalObjs([],!1),g.batchLoadJsFiles(r,[n.IS_PC?"__worker_dev_code__":c])})),contextId:1,getScriptPath:()=>e},[1],!0,!0),g.errorHandler(1,(e=>{var t,a;t=r,a=e,"function"==typeof d.errorHandler&&d.errorHandler(a,t)}))};e?setTimeout(a):a()};o.U.on("syncWorkerVariable",(e=>{a(e)}))},9846:(e,t,r)=>{"use strict";r.r(t),r.d(t,{connectSocket:()=>ir.zp,createInnerAudioContext:()=>rr,createSharedArrayBuffer:()=>ar.Y2,downloadFile:()=>ir.Sv,env:()=>sr,getFileSystemManager:()=>ir.ls,onMessage:()=>nr.p,postMessage:()=>or.o,request:()=>u.WY,uploadFile:()=>b});var a=r(6342),n={};a.default.onReady((()=>{"object"==typeof a.default.env&&(n.USER_DATA_PATH=a.default.env.USER_DATA_PATH)}));const o=n;var s={USER_DATA_PATH:null,CLIENT_DATA_PATH:null};a.default.onReady((()=>{"object"==typeof a.default.env&&Object.assign(s,a.default.env)}));const c=s;var l=r(7445),u=r(1235),p=r(182),d=r(2147),f=r(9105),g=r(5515);(0,g.b)("Upload",{maxTaskCount:10,functionName:"uploadFile"}),a.default.onReady((()=>{try{"number"==typeof a.default.wxAppInfo.maxUploadConcurrent&&(0,g.b)("Upload",{maxTaskCount:a.default.wxAppInfo.maxUploadConcurrent})}catch(e){}}));class y extends g.o{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>(e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),e)})}}const _=y;var m=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,d.r3)("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},a={};t.header&&(r=(0,f.Nf)(t.header)),t.formData&&(a=(0,f.Nf)(t.formData)),t.__skipDomainCheck__=e.__skipDomainCheck__,(0,p.J)("skipDomainCheck_uploadFile")&&(t.__skipDomainCheck__=!0);try{return new _(Object.assign({},t,{header:r,formData:a}))}catch(e){return void(0,d.YG)("uploadFile",t,e.message)}}}),b=m(),k=(m({__skipDomainCheck__:!0}),r(1399)),S=r(2219),I=r(9661),T=r(5125),C=r(9766),x=(0,C.s)("AudioInterruptionBegin"),A=(x.onMethod,x.offMethod,(0,C.s)("AudioInterruptionEnd")),P=(A.onMethod,A.offMethod,A.internalOnMethod,A.internalOffMethod,r(6142)),E=void 0,O=!1;function M(){return new E}i.onLoad((()=>{E=k.Z&&k.Z.WXAUDIO?k.Z.WXAUDIO:k.Z&&k.Z.AudioContext?k.Z.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,O=!0}));var R=r(5179),D=r(4317),L=r(872),N=(()=>Object.assign)();var j=function(e,t){function r(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}function a(e){return e}return l.IS_HOST_SAAA_SDK?(0,L.O)(e,t,r,a):function(e,t,r=(()=>{}),a=(()=>{})){return(n={})=>{var{success:o,fail:i}=(0,d.Rn)(n,e);(0,d.yD)({apiName:t,reqData:r(n)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,N(e,e.rawDataObject),a(e),delete e.rawDataObject,o(e)},fail:i,complete:void 0})}}(e,t,r,a)}("getCloudFileUrl","qbase_commapi");var W=function(e,t,r){$({fileIds:e,type:t,success:r})},F=new Map,$=function(e){var{fileIds:t,type:r,success:a}=e,n=new Map,o=[],i=!1;if(t.forEach((e=>{var t=F.get(e);if(t){if(Date.now()<t.expireTime)return void(n.has(e)||(n.set(e,t.data),i||(i=!0)));F.delete(e)}/^(cloud):\/\//.test(e)&&o.push(e)})),0!==o.length){var s=0,c=function(e,t){for(var r=[],a=Math.ceil(e.length/t),n=0;n<a;n++)r.push(e.slice(n*t,(n+1)*t));return r}(t,50);Promise.all(c.map((e=>new Promise((t=>{j({data:{fileid_list:e,type:r},success(r){var a=r;if(a.baseresponse&&0===a.baseresponse.errcode?a.download_list.forEach((e=>{n.set(e.fileid,e),!F.has(e.fileid)&&e.max_age&&F.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):a.baseresponse?e.forEach((e=>{n.set(e,{download_url:e,service_errcode:a.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+a.baseresponse.errcode}),F.has(e)&&F.delete(e)})):e.forEach((e=>{n.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),F.has(e)&&F.delete(e)})),a.baseresponse&&a.baseresponse.stat&&a.baseresponse.stat.qbase_cost_time){var o=a.baseresponse.stat.qbase_cost_time;o>s&&(s=o)}t()},fail(){t()},complete(e){}})}))))).then((()=>{U(t,n,s,a)})).catch((e=>{"function"==typeof a&&a({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else i?U(t,n,0,a):"function"==typeof a&&a({data:t.map((e=>({url:e})))})};function U(e,t,r,a){var n=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?n.push({url:r.download_url}):n.push({url:e,code:r.service_errcode,msg:r.errmsg}):n.push({url:e,code:-1,msg:"NO_RESULT"})}else n.push({url:e})})),"function"==typeof a&&a({data:n,cost:r})}var B=r(8602),H=(r(8171),r(1708),r(4599),()=>{!0});var q,G=r(1190),V=0,J=0,K=0,z=new WeakMap,Q=new WeakMap,X=new WeakMap,Z=new WeakMap,Y=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ae=new WeakMap,ne=new WeakMap,oe=new WeakMap,ie=new WeakMap,se=new Map,ce={},le=52428800,ue=0,pe=0,de=e=>{Object.keys(ce).sort(((e,t)=>ce[e].index-ce[t].index)).some((t=>{var r=ce[t];if(r.audioBuffer&&e!==t){var a=r.audioBufferSize;if(delete r.audioBuffer,delete r.audioBufferSize,delete ce[t],(ue-=a)<=le)return!0}return!1}))},fe=e=>{e.index=++pe},he=(e,t,r)=>{var a=ce[e];if(a&&a.audioBuffer)fe(a),t(a.audioBuffer,{sync:!0});else if(a&&a.loading)fe(a),a.successCallbacks.push(t),a.failCallbacks.push(r);else{ce[e]={loading:!0,successCallbacks:[t],failCallbacks:[r]},(/^(http|https):\/\//.test(e)?ge(e):/^(cloud):\/\//.test(e)?ye(e):/^(wxblob:\/\/)/.test(e)?_e(e):/^data:audio\//.test(e)?me(e):ve(e)).then((t=>{q.decodeAudioData(t,(0,d.qB)((t=>{var r,a=ce[e];fe(a),r=a.audioBuffer?a.audioBuffer:((e,t,r)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(ue+=e.audioBufferSize)>le&&de(r),e.audioBuffer))(a,t,e);try{a.successCallbacks&&a.successCallbacks.forEach((e=>{e(r,{sync:!1})}))}catch(e){console.error(e),w.error("loadAudio invoke successCallback fail",e.message),a.failCallbacks&&a.failCallbacks.forEach((t=>{t(e)}))}delete a.successCallbacks,delete a.failCallbacks,delete a.loading}),"WebAudioAdapter-decodeAudioData-success"),(0,d.qB)((t=>{try{var r=ce[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),w.error("loadAudio invoke failCallback fail",t.message)}delete a.successCallbacks,delete a.failCallbacks,delete a.loading}),"WebAudioAdapter-decodeAudioData-fail"))})).catch((t=>{try{var r=ce[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),w.error("loadAudio invoke failCallback fail",t.message)}delete a.successCallbacks,delete a.failCallbacks,delete a.loading}))}},ve=e=>{return(t={filePath:e},new D.Q(((e,r)=>{(0,R.p)({...t,success:e,fail:r})}))).then((e=>e.data));var t},ge=e=>{return(t={url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0},new D.Q(((e,r)=>{(0,u.UF)({...t,success:e,fail:r})}))).then((e=>e.data));var t},ye=e=>new D.Q(((t,r)=>{W([e],"audio",(e=>{ge(e.data[0].url).then((e=>t(e))).catch((e=>{r(e)}))}))})),_e=e=>new D.Q((t=>{t(B.Z.get(e))})),me=e=>{var t=e.indexOf("base64,")+7;return e=e.slice(t),new D.Q(((t,r)=>{try{t((0,G.RG)(e))}catch(e){e.errMsg=e.message,r(e)}}))},be=function(e){z.set(this,Object.assign(z.get(this),e))},we=function(e){return z.get(this)[e]},ke=function(){return z.get(this)},Se=function(){this.stop(!0),be.call(this,{_source:null});var e=X.get(this);e&&e()},Ie=function(e){var t=++K,r=q.createBufferSource(t),{currentPlayBackTime:a,state:n}=Te.call(this,e),{loop:o,playbackRate:i,_buffer:s,_gainNode:c,_instanceId:u,src:p,withReport:f}=n,h=Se.bind(this);r.onended=(0,d.ZI)(h,"WebAudioAdapter-BufferSource.onended"),r.buffer=s,r.loop=o,r.playbackRate.value=i,c&&r.connect(c),r.start(0,a),q.resume(),be.call(this,{_isPlaying:!0,paused:!1,_source:r,_played:!0,_playbackTime:0,_lastCurrentTime:a,_startedAt:q.currentTime,_endedHandler:h,_bufferSourceId:t}),this._startTimeupdateInterval(),(l.IS_IOS||l.IS_ANDROID)&&f&&se.set(t,{_instanceId:u,src:p})},Te=function(e){e=e||ke.call(this);var t,{_startedAt:r,_playbackTime:a,_isPlaying:n,playbackRate:o,_lastCurrentTime:i,duration:s}=e;return(t=n?i+(q.currentTime-r)*o:a)>s&&(t%=s),{currentPlayBackTime:t,state:e}},Ce=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=ke.call(this);e&&e.disconnect(),be.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,Q.delete(this),X.delete(this),Z.delete(this),Y.delete(this),te.delete(this),ee.delete(this),re.delete(this),ae.delete(this),ie.delete(this),clearInterval(oe.get(this)),oe.delete(this)},xe=function(){this.stop(!0),be.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},Ae=function(e){var t,r;xe.call(this);var a=new D.Q(((e,a)=>{t=e,r=a}));be.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:a,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:r})},Pe={},Ee=(e,t)=>e+"-"+t,Oe=function(e,t){var r=Ee(t,e);Pe[r]?Pe[r]++:Pe[r]=1};class Me{constructor({withReport:e}={}){q||("function"==typeof(q=M()).create&&q.create(-1,!0),(l.IS_IOS||l.IS_ANDROID)&&(q.onmessage=(0,d.ZI)((e=>{var{message:t,node_id:r}=e;if("real_play"===t){var a=se.get(r);if(se.delete(r),a){var{_instanceId:n,src:o}=a,i=Ee(n,o);Pe[i]&&(Pe[i]--,this.ignoreReport||Date.now())}}}),"WebAudioAdapter-AudioContext.onmessage")));var t=q.createGain();t&&t.connect&&t.connect(q.destination);var r={withReport:e},a=new D.Q(((e,t)=>{r._audioLoadPromiseResolve=e,r._audioLoadPromiseReject=t}));z.set(this,Object.assign(r,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:a,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++J}))}get src(){return we.call(this,"src")}set src(e){var{src:t,_gainNode:r}=ke.call(this);r&&"string"==typeof e&&e.length>0&&t!==e&&(t&&Ae.call(this,e),be.call(this,{src:e}),he(e,((t,{sync:r})=>{var{src:a,_gainNode:n,_isPlaying:o,autoplay:i,_audioLoadPromiseResolve:s}=ke.call(this);if(n){if(a===e){if(be.call(this,{_ready:!0,_buffer:t,duration:t.duration}),r)setTimeout((()=>{var e=Q.get(this);e&&e()}),0);else{var c=Q.get(this);c&&c()}return!i||o||dt()||this.play(),s(!1),null}s(!0)}}),(t=>{var r=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),w.error("loadAudioFail ",t);var a=ke.call(this),{_audioLoadPromiseReject:n}=a,o=Z.get(this);o&&o({type:"error",errMsg:r,errno:t.errno}),n(t)})))}get startTime(){return we.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r,_gainNode:a}=ke.call(this);a&&e!==r&&"number"==typeof e&&e>=0&&(be.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return we.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:r}=ke.call(this);r&&!!e!==t&&(e&&(this.ignoreReport=!0,H()),be.call(this,{autoplay:!!e}))}get loop(){return we.call(this,"loop")}set loop(e){var{_source:t,_gainNode:r}=ke.call(this);r&&(be.call(this,{loop:e=!!e}),e&&(this.ignoreReport=!0,H()),t&&(t.loop=e))}get volume(){return we.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=ke.call(this);r&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(be.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return we.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r,_gainNode:a}=ke.call(this);a&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(be.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:q.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return we.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=Te.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=ke.call(this);if(!r)return;var a=re.get(this),n=ae.get(this),o=Q.get(this);n&&n(),this.ignoreReport=!0,H(),t?(this.stop(!0),be.call(this,{_playbackTime:e}),this.play(!0)):be.call(this,{_playbackTime:e}),a&&a(),o&&o()}}get paused(){return we.call(this,"paused")}get buffered(){var{duration:e}=ke.call(this);return e>0?e:0}play(e=!1){var t=ke.call(this),{_isPlaying:r,_ready:a,_loadPromise:n,_gainNode:o,_playPendingIdMap:i,withReport:s,src:c,_instanceId:l}=t;if(o){var u=this.lastPlayTime,p=Date.now();if(this.lastPlayTime=p,u&&p-u<1e3&&(this.ignoreReport=!0,H()),!r||e||!s||this.ignoreReport){!e&&s&&this.ignoreReport;var d=()=>{if(!e){var t=Y.get(this);t&&t()}};if(a){var f;try{Ie.call(this,t)}catch(t){f=t;var h=Z.get(this);h&&h({type:"error",errMsg:t.message}),!e&&s&&t.message,console.error(t)}f||(!e&&s&&Oe(c,l),d())}else{var v=++V;i[v]=!0,n.then((u=>{var p=!1===i[v];if(delete i[v],u)return r=null,a=null,n=null,o=null,t=null,void(d=null);if(!p){var f,h=ke.call(this),{_isPlaying:g}=h;if(!g){try{Ie.call(this,h)}catch(t){f=t;var y=Z.get(this);y&&y({type:"error",errMsg:t.message}),!e&&s&&t.message,console.error(t)}return f||(!e&&s&&Oe(c,l),d()),null}}})).catch((e=>{s&&(e.errMsg||e.message)}))}}else Date.now()}}pause(){var e=ke.call(this),{_isPlaying:t,_source:r,_gainNode:a,_playPendingIdMap:n}=e;if(a)if(r&&t){var o=ee.get(this);r.stop(0),r.onended=null,be.call(this,{_source:null,_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),o&&o()}else Object.keys(n).forEach((e=>{n[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:r,_isPlaying:a,_playPendingIdMap:n}=ke.call(this);if(r){if(t)try{var o=te.get(this);t.stop(0),t.onended=null,be.call(this,{_source:null,_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&o&&o(),this._finishTimeupdateInterval()}catch(e){w.error("stop时出错",e)}a||Object.keys(n).forEach((e=>{n[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=ke.call(this);if(!r)return;var a=re.get(this),n=ae.get(this),o=Q.get(this);n&&n(),this.ignoreReport=!0,H(),t?(this.stop(!0),be.call(this,{_playbackTime:e}),this.play(!0)):be.call(this,{_playbackTime:e}),a&&a(),o&&o()}}destroy(){var{_gainNode:e}=ke.call(this);e&&Ce.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;Q.set(this,e)}else Q.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;X.set(this,e)}else X.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;Z.set(this,e)}else Z.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;Y.set(this,e)}else Y.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;ee.set(this,e)}else ee.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;te.set(this,e)}else te.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;re.set(this,e)}else re.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;ae.set(this,e)}else ae.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;ne.set(this,e)}else ne.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;ie.set(this,e)}else ie.delete(this)}_startTimeupdateInterval(){var{_gainNode:e,_instanceId:t,_isPlaying:r}=ke.call(this);if(e){var a=oe.get(this),n=ne.get(this);clearInterval(a),r&&setTimeout((()=>{n&&n()}),0);var o=setInterval((()=>{var e=ne.get(this),{_isPlaying:t}=ke.call(this);t&&e&&e()}),350);oe.set(this,o)}}_finishTimeupdateInterval(){var e=oe.get(this);clearInterval(e)}}var Re,De=()=>function(){if(!O)throw new Error("detect WebAudioContext too early");return!!E}()&&!0,Le=r(8929),Ne=(e,t)=>(0,d.ZI)(e,`AudioElement.${t}`),je=new WeakMap,We=new WeakMap,Fe=function(){return We.get(this)},$e={},Ue=(e,t)=>e+"-"+t,Be=()=>(Re||"function"==typeof(Re=M()).create&&Re.create(),Re),He=0,qe=0,Ge=new Map;class Ve{constructor({size:e,type:t}){this.reportBeginPlay=()=>{},this.reportFailPlay=()=>{},this.reportSuccessPlay=()=>{};var r=Be(),a=r.createHTMLAudioElement();(qe+=1)>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (>200) InnerAudioContext instances have been created, please destroy the existing instances first !");var n=r.createMediaElementSource(a),o=r.createGain();n.connect(o),o&&o.connect&&o.connect(r.destination),je.set(this,a);var i=(0,Le.M8)();We.set(this,{startTime:0,source:n,gain:o,_instanceId:i,size:e,type:t,_isStop:!1}),a.addEventListener("error",Ne((e=>{var t,r=(null===(t=je.get(this))||void 0===t?void 0:t.src)||"";this.reportFailPlay(r,e.message)}),"error-1")),a.addEventListener("inner",Ne((e=>{if("real_play"===e.type){var{play_id:t}=e;if(t){t=+t;var r=Ge.get(t);if(Ge.delete(t),r){var{_instanceId:a,src:n,size:o}=r,i=Ue(a,n);$e[i]&&($e[i]--,this.reportSuccessPlay(n,a,Date.now(),o))}}}}),"inner"))}get src(){var e;return this.cloudId?this.cloudId:null===(e=je.get(this))||void 0===e?void 0:e.src}set src(e){je.get(this)&&W([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,je.get(this).src=e}))}get startTime(){var e;return null===(e=We.get(this))||void 0===e?void 0:e.startTime}set startTime(e){var{_played:t,startTime:r}=Fe.call(this);e!==r&&"number"==typeof e&&e>=0&&We.get(this)&&(We.get(this).startTime=e,t||this.seek(e))}get autoplay(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.autoplay}set autoplay(e){je.get(this)&&(e?(this.ignoreReport=!0,H(),setTimeout((()=>{je.get(this)&&(je.get(this).autoplay=e)}),0)):je.get(this).autoplay=e)}get loop(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.loop}set loop(e){je.get(this)&&(e&&(this.ignoreReport=!0,H()),je.get(this).loop=e)}get volume(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.volume}set volume(e){je.get(this)&&(je.get(this).volume=e)}get playbackRate(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.playbackRate}set playbackRate(e){je.get(this)&&(je.get(this).playbackRate=e)}get duration(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.duration}get currentTime(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.currentTime}set currentTime(e){if(je.get(this)){this.ignoreReport=!0,H();var t=We.get(this);t&&(t._isStop=!1),je.get(this).currentTime=e}}get paused(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.paused}get buffered(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.duration}play(){var e,t,r,a,n=null===(e=je.get(this))||void 0===e?void 0:e.src,o=null===(t=We.get(this))||void 0===t?void 0:t._instanceId,i=null===(r=We.get(this))||void 0===r?void 0:r.size,s=this.lastPlayTime,c=Date.now();this.lastPlayTime=c,s&&c-s<1e3&&(this.ignoreReport=!0,H()),o&&this.reportBeginPlay(n,o);var u=++He;(l.IS_IOS||l.IS_ANDROID)&&Ge.set(u,{_instanceId:o,src:n,size:i}),function(e,t){var r=Ue(t,e);$e[r]?$e[r]++:$e[r]=1}(n,o);var p=We.get(this);p&&(p._isStop=!1),null===(a=je.get(this))||void 0===a||a.play(u)}pause(){var e;null===(e=je.get(this))||void 0===e||e.pause()}stop(){var e=je.get(this);if(e){e.pause();var t=We.get(this);t&&(t._isStop=!0),e.currentTime=0}}seek(e){if(je.get(this)){this.ignoreReport=!0,H();var t=We.get(this);t&&(t._isStop=!1),je.get(this).currentTime=e}}destroy(){var e,t=We.get(this);t&&(t.gain&&t.gain.disconnect&&t.gain.disconnect(),null===(e=t.source)||void 0===e||e.disconnect());je.delete(this),We.delete(this),qe-=1}set oncanplay(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("canplay",Ne(((...t)=>{We.get(this)._isStop||e(...t)}),"canplay"))}set onended(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("ended",Ne(e,"ended"))}set onerror(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("error",Ne(e,"error-2"))}set onplay(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("play",Ne(e,"play"))}set onpause(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("pause",Ne(e,"pause"))}set onstop(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("stop",Ne(e,"stop"))}set onseeked(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("seeked",Ne(e,"seeked"))}set onseeking(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("seeking",Ne(e,"seeking"))}set ontimeupdate(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("timeupdate",Ne(e,"timeupdate"))}set onwaiting(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("waiting",Ne(e,"waiting"))}}var Je=r(7849),Ke=r(4571),ze=new Set([1177,1184,1200,1228]),Qe=new Set([0,1,2,7]),Xe=()=>{var{scene:e}=(0,Je._)();return ze.has(e)&&Qe.has(a.default.appType)&&"default"!==(0,Ke.kd)()},Ze=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],Ye=["startTime","duration","currentTime"],et=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],tt=new Set,rt=new WeakMap,at=new WeakMap,nt=new WeakMap,ot=new WeakMap;class it{constructor(e,t=1e3,r){var a=new I.Z;rt.set(this,e),ot.set(this,{conversion:t,type:r}),Ze.forEach((r=>Object.defineProperty(this,r,{get:()=>Ye.includes(r)?e[r]/t:e[r],set(a){Xe()||(Ye.includes(r)?e[r]=t*a:e[r]=a)}}))),et.forEach((t=>{this["on"+t]=e=>{var r=h.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);at.set(e,r),nt.set(r,e),a.on(t,r)},this["off"+t]=e=>{if((0,P.mf)(e)){var r=at.get(e);(0,P.mf)(r)&&(a.off(t,r),at.delete(e),nt.delete(r))}else a.listeners(t).forEach((e=>{var t=nt.get(e);at.delete(t),nt.delete(e)})),a.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,r)=>{e?(0,P.Kn)(e)?a.emit(t,e):a.emit(t,{errCode:e,errMsg:r}):a.emit(t),"Play"===t?tt.add(this):"Ended"!==t&&"Error"!==t&&"Pause"!==t&&"Stop"!==t||tt.delete(this)}}))}play(){var e;Xe()||dt()&&"inner"!==ot.get(this).type||null===(e=rt.get(this))||void 0===e||e.play()}stop(){var e;null===(e=rt.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=rt.get(this))||void 0===e||e.pause()}seek(e){var t,r;if(!Xe()){var{conversion:a}=null!==(t=ot.get(this))&&void 0!==t?t:{};null===(r=rt.get(this))||void 0===r||r.seek(a*e)}}destroy(){var e=rt.get(this);e.destroy&&e.destroy(),et.forEach((e=>{this["off"+e]()})),tt.delete(this),rt.delete(this)}static pauseAllAudio(){tt.forEach((e=>{if("inner"!==ot.get(e).type){var t=rt.get(e);t&&t.pause()}}))}}class st extends it{constructor({type:e}){super(new k.Z.Audio,1e3,e)}}class ct extends it{constructor({withReport:e,type:t}={}){super(new Me({withReport:e}),1,t)}}class lt extends it{constructor({size:e,type:t}={}){super(new Ve({size:e}),1,t)}}r(127);var ut=r(6551);new Set;var pt=!1;"undefined"!=typeof IS_SDK_PACKAGE||(0,d.jQ)("onAudioInterruptionBegin",(e=>{!0,!1===pt&&x.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||(0,d.jQ)("onAudioInterruptionEnd",(e=>{!1,!1===pt&&A.emit(e)}));var dt=()=>pt,ft=new WeakMap,ht=new WeakMap,vt=new WeakMap,gt=new WeakMap,yt=new WeakMap,_t=new WeakMap,mt=new WeakMap,bt=new WeakMap,wt=new Map,kt=new Map,St=new Map,It=w.createLogger("InnerAudio"),Tt=function(e,t){ht.set(this,Object.assign(ht.get(this),{[e]:t})),"src"===e&&ht.set(this,Object.assign(ht.get(this),{paused:!0})),gt.get(this)&&(setTimeout((()=>{var r=Object.assign({},ht.get(this),yt.get(this),{timestamp:Date.now(),audioId:ft.get(this),success:()=>{ht.set(this,Object.assign(ht.get(this),{[e]:t}))},fail:()=>{xt.call(this)}});dt()&&(r.autoplay=!1),(0,d.IN)("setAudioState",r),gt.set(this,!0)}),0),gt.set(this,!1)),yt.set(this,Object.assign(yt.get(this),{[e]:t}))},Ct=function(e,t){mt.get(this).then((()=>{Tt.call(this,e,t)}))},xt=function(e,t){var r=ht.get(this)[e];return(0,d.IN)("getAudioState",{audioId:ft.get(this),success:a=>{delete a.errMsg,ht.set(this,Object.assign(ht.get(this),a)),r=a[e],"function"==typeof t&&t(r)}}),r},At=function(e){var t=ft.get(this);(0,d.IN)("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:r})=>{It.error(`operateAudio fail: errMsg="${r}"`,e.operationType,t),Lt.call(this,"error",{errMsg:r,errCode:-1});var a=ht.get(this);null!=a&&a.withReport&&(null==a||a.implementType)}},e))},Pt=function(e){return mt.get(this).then((()=>{if("play"===e.operationType){var t=ht.get(this);if(null!=t&&t.withReport&&!t.ignoreReport){ft.get(this);null==t||t.src,null==t||t.implementType}}setTimeout((()=>{At.call(this,e)}),0)}))},Et=new I.Z;"undefined"!=typeof IS_SDK_PACKAGE||(0,d.jQ)("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=wt.get(e.audioId);null!=t&&t.withReport&&!t.ignoreReport&&(null==t||t.src,e.audioId,Date.now(),null==t||t.implementType,null==t||t.size)}else{e.state=e.state.toLowerCase();var{state:r,audioId:a,errMsg:n}=e;delete e.audioId,delete e.state;var o="play"!==r,i=wt.get(a);i&&(i.paused=o),"error"===r&&null!=i&&i.withReport&&(null==i||i.src,null==i||i.implementType);var s=St.get(a);if(!s||!(r in s))return;Et.emit(`${a}_onAudioStateChange_${r}`,e)}}));var Ot=function(e,t){var r=`${ft.get(this)}_onAudioStateChange_${e}`,a=r=>{h.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};_t.set(t,a),Et.on(r,a)},Mt=function(e,t){mt.get(this).then((()=>{Ot.call(this,e,t)}))},Rt=function(e,t){var r=`${ft.get(this)}_onAudioStateChange_${e}`;if((0,P.mf)(t)){var a=_t.get(t);(0,P.mf)(a)&&Et.off(r,a)}else Et.removeAllListeners(r)},Dt=function(e,t){mt.get(this).then((()=>{Rt.call(this,e,t)}))},Lt=function(e,t){Et.emit(`${ft.get(this)}_onAudioStateChange_${e}`,t)},Nt=0,jt=!1;const Wt=class{constructor({pluginId:e,withReport:t,type:r,size:a}={}){var n,o;ht.set(this,{}),yt.set(this,{}),vt.set(this,void 0),gt.set(this,!0),"string"==typeof e&&bt.set(this,e.split("/",1)[0]),mt.set(this,new D.Q(((e,t)=>{n=e,o=t})));var i={},s=0===a?"jsapiRemote-1.0":"jsapiLocal-1.0";(0,d.IN)(l.IS_ANDROID||l.WK_RENDERER_H5||l.IS_MINA?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var o={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:r,size:a,implementType:s};if(St.set(e.audioId,i),wt.set(e.audioId,o),ft.set(this,e.audioId),ht.set(this,o),k.Z.BindingObject){var c=new k.Z.BindingObject;this.__bindingObject=c,kt[c.__id]=e.audioId}(Nt+=1)>=1024&&!jt&&l.IS_IOS&&(jt=!0,v.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),Nt>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(n,0)},fail:e=>{t&&e.errMsg,o(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var r=e.toLowerCase();i[r]=1,Mt.call(this,r,t)},this[`off${e}`]=t=>{var r=e.toLowerCase();delete i[r],Dt.call(this,r,t)}}))}get src(){return this.cloudId?this.cloudId:xt.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=bt.get(this);"string"==typeof t&&null===(0,f.pD)(e)&&(e=(0,f.RP)(t,e)),W([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,Ct.call(this,"src",e)}))}else Lt.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return xt.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?Ct.call(this,"startTime",1e3*e):Lt("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){if("boolean"==typeof e&&!Xe()){if(!0===e){var t=ft.get(this),r=wt.get(t);r&&(r.ignoreReport=!0,H())}Ct.call(this,"autoplay",e)}}get autoplay(){return xt.call(this,"autoplay")}set loop(e){if("boolean"==typeof e){if(!0===e){var t=ft.get(this),r=wt.get(t);r&&(r.ignoreReport=!0,H())}Ct.call(this,"loop",e)}}get loop(){return xt.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&Ct.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return xt.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||Ct.call(this,"volume",e)}get volume(){return xt.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||Ct.call(this,"playbackRate",e)}get playbackRate(){return xt.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&Ct.call(this,"referrerPolicy",e)}get referrerPolicy(){return xt.call(this,"referrerPolicy")}get paused(){return xt.call(this,"paused")}get duration(){return xt.call(this,"duration")/1e3}set currentTime(e){if("number"!=typeof e||e<0)Lt("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=ft.get(this),r=wt.get(t);r&&(r.ignoreReport=!0,H()),Pt.call(this,{operationType:"seek",currentTime:1e3*e})}}get currentTime(){return xt.call(this,"currentTime")/1e3}get buffered(){return xt.call(this,"buffered")/1e3}play(){if(!(Xe()||dt()&&"inner"!==ht.get(this).type)){var e=this.lastPlayTime,t=Date.now();if(this.lastPlayTime=t,e&&t-e<1e3){var r=ft.get(this),a=wt.get(r);a&&(a.ignoreReport=!0,H())}Pt.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}}pause(){Pt.call(this,{operationType:"pause"})}stop(){Pt.call(this,{operationType:"stop"})}seek(e){if(!Xe())if("number"!=typeof e||e<0)Lt("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=ft.get(this),r=wt.get(t);r&&(r.ignoreReport=!0,H()),Pt.call(this,{operationType:"seek",currentTime:1e3*e})}}destroy(){mt.get(this).then((()=>{var e=ft.get(this);wt.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;Et.removeAllListeners(r)})),St.delete(e),wt.delete(e),Nt-=1,setTimeout((()=>{(0,d.IN)("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){mt.get(this).then((()=>{var t=`${ft.get(this)}_onAudioStateChange_timeupdate`;void 0===vt.get(this)&&vt.set(this,setInterval((()=>{if("active"===T.Z.runningStatus&&!0!==ht.get(this).paused&&1!==ht.get(this).paused){var e=ht.get(this).currentTime;xt.call(this,"currentTime",(r=>{r!==e&&Et.emit(t)}))}}),250)),Et.removeAllListeners(t);var r=t=>{h.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};_t.set(e,r),Et.on(t,r)}))}offTimeUpdate(e){mt.get(this).then((()=>{Dt.call(this,"timeupdate",e)}))}static pauseAllAudio(){wt.forEach(((e,t)=>{"inner"!==e.type&&(0,d.IN)("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}};var Ft=r(5340),$t=r(9806),Ut=new WeakMap,Bt=function(e){return Ut.get(e)||{}},Ht=function(e,t){var r;return null===(r=Ut.get(e))||void 0===r?void 0:r[t]},qt=new Map,Gt=(0,$t.Fr)(Ft.lz),Vt=function(e,t){var{bufferedOperations:r,staticOperations:a}=e;e.audioInstance=t,Object.keys(a).forEach((e=>{var r=a[e];(0,P.DM)(r)?r.forEach((r=>{t["on"+e](r)})):t[e]=r})),r.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},Jt=function(e,t,r){var a;e.staticOperations&&t in e.staticOperations?(e.staticOperations[t]=r,e.audioInstance&&(e.audioInstance[t]=r)):e.audioInstance?e.audioInstance[t]=r:null==e||null===(a=e.bufferedOperations)||void 0===a||a.push({type:"set",value:r,key:t})},Kt=function(e,t,r,a){var n;a?("on"===a?e.staticOperations&&e.staticOperations[t].add(r):"off"===a&&e.staticOperations&&e.staticOperations[t].delete(r),e.audioInstance&&e.audioInstance[a+t]&&e.audioInstance[a+t](r)):e.audioInstance?e.audioInstance[t]&&e.audioInstance[t](r):null==e||null===(n=e.bufferedOperations)||void 0===n||n.push({type:"method",value:r,key:t})},zt=(e,t)=>{var r=!1,a=Be();a&&"function"==typeof a.createHTMLAudioElement&&(r=!0);var n=e=>{var{stats:a}=e;a.size<102400?t("NativeWebAudio",!1):t(r?"HTMLAudioElement":"AudioJsApi",!0,a.size)};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t(r?"HTMLAudioElement":"AudioJsApi",!0,0);else if(/^(data:audio\/)/.test(e))t("NativeWebAudio",!1);else{var o=(e=>qt.has(e)?qt.get(e):Gt({path:e}).then((t=>(qt.set(e,t),t))))(e);(0,P.tI)(o)?o.then((e=>{n(e)})).catch((e=>{console.error(e),w.error("statLocalAudio fail",e),t("AudioJsApi",!0,0)})):n(o)}},Qt=function(e,t){var r;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var a=new D.Q((e=>{r=e}));t.src=e,t._ready=!1,t._statPromise=a,t._statPromiseResolve=r};class Xt{constructor({pluginId:e,type:t}={}){var r={pluginId:e,bufferedOperations:[],staticOperations:{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set},_ready:!1,type:t};r._statPromise=new D.Q((e=>{r._statPromiseResolve=e})),Ut.set(this,r)}get src(){return Ht(this,"src")}set src(e){var t=Bt(this),{src:r,audioInstance:a,audioInstanceType:n,pluginId:o}=t;"string"==typeof e&&e.length>0&&r!==e&&(r&&Qt.call(this,e,t),t.src=e,zt(e,a?(r,i,s)=>{var c=Bt(this);if(c.src===e){var{_statPromiseResolve:l}=c;t._ready=!0,t.audioInstanceType=r,r===n?a.src=e:(a.destroy(),t.audioInstance=null,"AudioJsApi"===r?(Jt(t,"src",e),Vt(t,new Wt({pluginId:o,withReport:i,type:Ut.get(this).type,size:s}))):"NativeWebAudio"===r?(Jt(t,"src",e),Vt(t,new ct({withReport:i,type:Ut.get(this).type}))):"HTMLAudioElement"===r&&(Jt(t,"src",e),Vt(t,new lt({withReport:i,type:Ut.get(this).type,size:s})))),l&&l()}}:(r,a,n)=>{var i=Bt(this);if(i.src===e){var{_statPromiseResolve:s}=i;t._ready=!0,t.audioInstanceType=r,"AudioJsApi"===r?(Jt(t,"src",e),Vt(t,new Wt({pluginId:o,withReport:a,type:Ut.get(this).type,size:n}))):"NativeWebAudio"===r?(Jt(t,"src",e),Vt(t,new ct({withReport:a,type:Ut.get(this).type}))):"HTMLAudioElement"===r&&(Jt(t,"src",e),Vt(t,new lt({withReport:a,size:n}))),s&&s()}}))}get startTime(){var e=Ht(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=Bt(this),{startTime:r}=t;e!==r&&"number"==typeof e&&e>=0&&(t.startTime=e,Jt(t,"startTime",e))}get autoplay(){var e=Ht(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=Bt(this),{autoplay:r,_statPromise:a}=t;(e=!!e)!==r&&(t.autoplay=e,e?a&&a.then((()=>{Jt(t,"autoplay",e)})):Jt(t,"autoplay",e))}get loop(){var e=Ht(this,"loop");return void 0!==e&&e}set loop(e){var t=Bt(this),{loop:r}=t;(e=!!e)!==r&&(t.loop=e,Jt(t,"loop",e))}get volume(){var e=Ht(this,"volume");return void 0!==e?e:1}set volume(e){var t=Bt(this),{volume:r}=t;"number"==typeof e&&e>=0&&e<=1&&e!==r&&(t.volume=e,Jt(t,"volume",e))}get playbackRate(){var e=Ht(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=Bt(this),{playbackRate:r}=t;"number"==typeof e&&r!==e&&e>=.5&&e<=2&&(t.playbackRate=e,Jt(t,"playbackRate",e))}get duration(){var{audioInstance:e}=Bt(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=Bt(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=Bt(this);t.currentTime=e,Jt(t,"currentTime",e)}}get paused(){var{audioInstance:e}=Bt(this);return!e||e.paused}get buffered(){var{audioInstance:e}=Bt(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return Ht(this,"referrerPolicy")||""}set referrerPolicy(e){var t=Bt(this),{referrerPolicy:r}=t;"string"==typeof e&&e.length>0&&r!==e&&(t.referrerPolicy=e,Jt(t,"referrerPolicy",e))}play(){var e=Bt(this),{_statPromise:t,_ready:r}=e;r?Kt(e,"play"):t&&t.then((()=>{Kt(e,"play")}))}pause(){var e=Bt(this);Kt(e,"pause")}stop(){var e=Bt(this);Kt(e,"stop")}seek(e){var t=Bt(this);Kt(t,"seek",e)}destroy(){var e=Bt(this);Kt(e,"destroy"),Ut.delete(this)}onTimeUpdate(e){var t=Bt(this);Kt(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=Bt(this);Kt(t,"TimeUpdate",e,"off")}onCanplay(e){var t=Bt(this);Kt(t,"Canplay",e,"on")}offCanplay(e){var t=Bt(this);Kt(t,"Canplay",e,"off")}onPlay(e){var t=Bt(this);Kt(t,"Play",e,"on")}offPlay(e){var t=Bt(this);Kt(t,"Play",e,"off")}onPause(e){var t=Bt(this);Kt(t,"Pause",e,"on")}offPause(e){var t=Bt(this);Kt(t,"Pause",e,"off")}onStop(e){var t=Bt(this);Kt(t,"Stop",e,"on")}offStop(e){var t=Bt(this);Kt(t,"Stop",e,"off")}onEnded(e){var t=Bt(this);Kt(t,"Ended",e,"on")}offEnded(e){var t=Bt(this);Kt(t,"Ended",e,"off")}onError(e){var t=Bt(this);Kt(t,"Error",e,"on")}offError(e){var t=Bt(this);Kt(t,"Error",e,"off")}onWaiting(e){var t=Bt(this);Kt(t,"Waiting",e,"on")}offWaiting(e){var t=Bt(this);Kt(t,"Waiting",e,"off")}onSeeking(e){var t=Bt(this);Kt(t,"Seeking",e,"on")}offSeeking(e){var t=Bt(this);Kt(t,"Seeking",e,"off")}onSeeked(e){var t=Bt(this);Kt(t,"Seeked",e,"on")}offSeeked(e){var t=Bt(this);Kt(t,"Seeked",e,"off")}}var Zt=r(1105),Yt=!1;(l.IS_IOS||l.IS_ANDROID)&&a.default.onReady((()=>{if((0,p.J)("forceUseAudioDynamic"))if((0,l.isGame)())Yt=!0,w.info("小游戏开启 forceUseAudioDynamic");else{var e=l.IS_IOS?"clicfg_appbrand_ios_force_use_audio_dynamic_new":"clicfg_appbrand_android_force_use_audio_dynamic_new";Yt="1"===(null===a.default||void 0===a.default?void 0:a.default.expt[e]),w.info(`小程序${Yt?"开启":"关闭"} forceUseAudioDynamic`)}else w.info("关闭 forceUseAudioDynamic")}));var er=w.createLogger("InnerAudioContext"),tr=function(e={},t="outer"){var r=!0;if(l.IS_ANDROID){var{system:a}=(0,S.Oo)();-1===(0,ut.cv)(a,"6.0.0")&&(r=!1)}l.WK_RENDERER_H5&&(r=!1);var n=(0,Zt.hI)(this),{useWebAudioImplement:o}=e;return(l.IS_PC||l.IS_DEVTOOLS)&&(o=!0),l.IS_MINA&&k.Z.Audio?(er.info("using NativeAudio"),new st({type:t})):o&&De()&&r?(er.info("using WebAudio"),new ct({type:t})):De()&&r&&Yt?(er.info("using AudioDynamic"),new Xt({pluginId:n,type:t})):(er.info("using AudioJsApi"),new Wt({pluginId:n,type:t}))},rr=function(e={}){return tr.call(this,e)},ar=r(2657),nr=r(4366),or=r(4813),ir=r(1538),sr={};a.default.onReady((()=>{(0,l.isGame)()?Object.assign(sr,c):Object.assign(sr,o)}))},3888:e=>{"use strict";e.exports=n.asyncToGenerator}},r={};function c(t){var a=r[t];if(void 0!==a)return a.exports;var n=r[t]={id:t,loaded:!1,exports:{}};return e[t](n,n.exports,c),n.loaded=!0,n.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var u=c(8131);y=u})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{define:()=>A,require:()=>C,requireOnce:()=>x});var r=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"],a=()=>"devtools"===o.platform,n=(e,t)=>{var n="__APP__"===e;n||"/"===e.slice(-1)||(e+="/"),a()?setTimeout((()=>{w.info(`[WxModule] injectSubPackages: ${e}`),l.invoke("injectSubPackages",{subPackages:[e]},t)})):(w.info(`[WxModule] loadSubpackage: ${e}`),__appServiceSDK__.loadSubpackage({name:e,success(){var a=o.subPackages.find((t=>t.root===e||t.root===e.slice(0,-1))),i=Object.assign({},null==a?void 0:a.plugins);n&&Object.assign(i,o.plugins);var s=Object.keys(i||{}).map((e=>{var t=i[e].provider,a="__plugin__/"+t;return{plugin_id:t,prefix_path:r.includes(t)?null:a}}));__subContextEngine__.injectEntryFile(n?"":e,s);var c=__glassEaselAdapter__.getEnv();c.codeManager.setSubPackageLoaded([e]),c.afterPackageCommonEvaluation(),t({errMsg:"loadSubPackage:ok",loaded:!0})},fail(){w.error(`[WxModule] loadSubPackage fail ${e}`),t({errMsg:"loadSubPackage:false",loaded:!1})}}))},i=e=>{for(var t,r,a=null!==(t=null===(r=o)||void 0===r?void 0:r.subPackages)&&void 0!==t?t:[],n=0;n<a.length;++n){var i=a[n].root||"";if(i&&"/"!==i.slice(-1)&&(i+="/"),e.slice(0,i.length)===i)return{subPackage:i,independent:!!a[n].independent}}return{subPackage:"__APP__",independent:!1}},s=e=>{for(var t=[],r=e.split("/"),a=0,n=r.length;a<n;++a){var o=r[a];if(""!==o&&"."!==o)if(".."===o){if(0===t.length){t=[];break}t.pop()}else a+1<n&&".."===r[a+1]?a++:t.push(o)}return t},c={UNLOAD:1,LOADED:2},u={},p=(e,t)=>{u[e]=t},d=e=>u[e];var f=new class{constructor(e){this._$requireQueues=null,this._$blockingStatus=0,this._$scope=void 0,this._$err=e=>new Error(`Framework inner error: ${e} (scope: ${this._$scope}, status: ${this._$blockingStatus})`),this._$scope=e}isBlocking(){return 1===this._$blockingStatus}block(){if(!a())if(0===this._$blockingStatus)this._$requireQueues=[],this._$blockingStatus=1;else{if(2!==this._$blockingStatus)throw this._$err("trying to block require at wrong time");this._$blockingStatus=1}}queue(e,t){if(!this.isBlocking())throw this._$err("trying to queue an require when not blocking");this._$requireQueues.push([e,t])}unblock(){if(!a()){if(!this.isBlocking())throw this._$err("trying to unblock require queue when not blocking");this._$blockingStatus=2}}flushQueue(){if(!a()){if(2!==this._$blockingStatus)throw this._$err("require queue flushing must be unblocked");var e=this._$requireQueues;this._$blockingStatus=0,this._$requireQueues=null,e.forEach((e=>{try{e[0].apply(null,e[1])}catch(t){console.error(`Error during evaluating file "${e[1][0]}": `),console.error(t.message),console.error(t.stack)}}))}}}("/");if(globalThis.wxModuleVersion){var h=~~globalThis.wxModuleVersion;globalThis.enableWxModule=2>h}else globalThis.wxModuleVersion=2,globalThis.enableWxModule=!0;var g=!1,y=[],m=e=>{Object.keys(e).forEach((t=>{var r=t;t.endsWith("*")&&(r=r.slice(0,-1));var a=e[t];e[t].endsWith("*")&&(a=a.slice(0,-1)),y.push({key:r,value:a})}))};"function"==typeof o.onReady?o.onReady((()=>{"object"==typeof o.resolveAlias&&(g=!!Object.keys(o.resolveAlias).length)&&m(o.resolveAlias)})):"object"==typeof o.resolveAlias&&(g=!!Object.keys(o.resolveAlias).length)&&m(o.resolveAlias);var b={},k=e=>{if(e&&o.subPackages)for(var t=0,r=o.subPackages.length;t<r;t++)if(0===e.indexOf(o.subPackages[t].root))return o.subPackages[t]},S=e=>{var t=s(e+"/index.js").join("/");return d(t)?t:(t=s(e).join("/"),/\.js$/.test(t)||(t+=".js"),d(t)?t:"")},I=e=>{var t=(e=>{var t=e.match(/(.*)\/([^/]+)?$/);return null!=t&&t[1]?t[1]:"./"})(e),r=function(r,a,n){var i,c=t;if("string"!=typeof r)throw new Error("require args must be a string");if("/__wx__/private-api"===r?i=s(r).join("/"):(g&&(i=(e=>{var t={key:"",value:""},r=!1;if(y.forEach((a=>{e.startsWith(a.key)&&t.key.length<a.key.length&&(t=a,r=!0)})),r){var a=e.replace(t.key,t.value);return"/"===a[0]&&(a=a.slice(1)),a}})(r)),void 0!==i?(c="",i=s(i).join("/")):i=s(c+"/"+r).join("/")),!i)throw new Error(`can not find module : ${i}, require args is ${r}`);try{var l=((e,t,r)=>{var a=e;if(/\.js$/.test(a)||(a+=".js"),"string"==typeof a&&d(a))return a;var n=s(t);if(!n)throw new Error("can not find module : "+r);for(var o,i,c=e.substring(n.join("/").length);n.length&&(i=n.join("/")+"/miniprogram_npm"+c,!(o=S(i)));)n.pop();return o||(c="/"===c[0]?c:"/"+c,o=S(i="miniprogram_npm"+c)),o||e})(i,c,r),u=e=>"functional-pages"===s(e)[0];if(u(l)!==u(e)&&v.thirdErrorReport({error:new Error(`should not require across "functional-pages" folder, at require("${r}") in ${e}`)}),"devtools"===o.platform&&o.subPackages&&void 0===a){var p=k(l),f=k(e);p&&p!==f&&console.warn(`Requires "${r}" from "${e}" without a callback may fail in production, since they are in different subPackages`)}return C(l,void 0,a,r,t,n)}catch(e){throw e}};return r.async=e=>new Promise(((t,a)=>{try{r(e,t,a)}catch(e){a(e)}})),r},T=new class{constructor(e){this._$flags={},this._$global=void 0,this.fileStacks=[],this._$global=e}current(){return{__wxRoute:this._$global.__wxRoute,__wxAppCurrentFile__:this._$global.__wxAppCurrentFile__,__wxRouteBegin:this._$global.__wxRouteBegin}}restore(e){void 0!==e&&(this._$global.__wxRoute=e.__wxRoute,this._$global.__wxAppCurrentFile__=e.__wxAppCurrentFile__,this._$global.__wxRouteBegin=e.__wxRouteBegin)}saveAndClear(e){void 0===this._$flags[e]&&(this._$flags[e]=this.current(),this._$global.__wxRoute="",this._$global.__wxAppCurrentFile__="",this._$global.__wxRouteBegin="")}runWith(e,t){this.restore(this._$flags[e]),this.fileStacks.push(this._$flags[e]);var r,a=!1;try{t()}catch(e){a=!0,r=e}if(this.fileStacks.pop(),this.restore(this.fileStacks[this.fileStacks.length-1]),a)throw r}}(globalThis);function C(e,t,r,s="",l,u){if(!a()&&f.isBlocking())return T.saveAndClear(e),void f.queue(C,[e,t,r,s,l,u]);if(void 0===t&&(t=!0),"string"!=typeof e)throw new Error("require args must be a string");var p=d(e);if(!p){var h=-1===e.indexOf("/")?e+"/index.js":e;/\.js$/.test(h="miniprogram_npm/"+h)||(h+=".js"),p=d(h)}if(e.endsWith(".js")||(e+=".js"),!p&&"devtools"!==o.platform&&"undefined"!=typeof __subContextEngine__&&o.isLazyLoad){var v=e.slice(0,e.length-3),g=`${"undefined"!=typeof __LAZY_CODE_LOADING_CHUNK_MAP__&&"string"==typeof __LAZY_CODE_LOADING_CHUNK_MAP__[v]?__LAZY_CODE_LOADING_CHUNK_MAP__[v]:v}.appservice.js`,y=__subContextEngine__.loadJsFiles([g],null,{waitResult:!0,reportKey:`webnode-require-${e.slice(0,e.length-3)}`});p=d(e),null==y||y(!!p)}if("function"!=typeof r){if(!p)throw new Error(`module '${e}' is not defined, require args is '${""===s?e:s}'`);var _={exports:{}},m=p.factory;if(!t||b[e])return delete p.exports,p.status=c.UNLOAD,b[e]=!0,a()&&T.saveAndClear(e),T.runWith(e,(()=>{null==m||m(I(e),_,_.exports)})),_.exports;if(p.status===c.UNLOAD){var w;p.exports=_.exports,p.status=c.LOADED,a()&&T.saveAndClear(e);try{T.runWith(e,(()=>{m&&(w=m(I(e),_,_.exports))}))}catch(e){throw p.status=c.UNLOAD,e}p.exports=void 0!==_.exports?_.exports:w}return p.exports}var k=t=>{var r="async require: fail";"object"==typeof t&&t&&t.message&&(r=t.message),null==u||u({errMsg:r,mod:e})},S=function(...e){try{var t=C(...e);r(t)}catch(e){k(e)}};if(p)setTimeout((()=>S(e)));else{var x="string"==typeof l&&i(l).independent,{subPackage:A,independent:P}=i(e);!P&&x?n("__APP__",(t=>{t&&!1===t.loaded?k(new Error("loadSubPackage: fail, subPackage: __APP__")):"__APP__"!==A?n(A,(t=>{t&&!1===t.loaded?k(new Error(`loadSubPackage: fail, subPackage: ${A}`)):S(e)})):r(S(e))})):n(A,(t=>{t&&!1===t.loaded?k(new Error(`loadSubPackage: fail, subPackage: ${A}`)):S(e)}))}}function x(e){return C(e,!1)}function A(e,t){if(d(e)&&!!d(e).factory){var r=d(e).factory;if(t.toString()===r.toString())return}p(e,{status:c.UNLOAD,factory:t})}_=t})();globalThis.define=_.define,globalThis.require=_.require;globalThis.requireOnce=_.requireOnce,e.worker=y}(this);var __WAWorkerEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;